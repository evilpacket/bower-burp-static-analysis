{
    "url": "http://localhost:9999/jobrapido/jquery-mobile-bower/js/jquery.mobile-1.4.2.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>location.pathname</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>e[0 ] .href= g|| location.pathname</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/jobrapido/jquery-mobile-bower/js/jquery.mobile-1.4.2.min.js",
                "path": "/jobrapido/jquery-mobile-bower/js/jquery.mobile-1.4.2.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9qb2JyYXBpZG8vanF1ZXJ5LW1vYmlsZS1ib3dlci9qcy9qcXVlcnkubW9iaWxlLTEuNC4yLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTk1NjU5DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA2OjQ2OjA2IEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwNjo0NjowNSBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgMS40LjIgfCBHaXQgSEVBRCBoYXNoOiA5ZDlhNDJhIDw+IDIwMTQtMDItMjhUMTc6MzI6MDFaIHwgKGMpIDIwMTAsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KCiFmdW5jdGlvbihhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihkKXtyZXR1cm4gYyhkLGEsYiksZC5tb2JpbGV9KTpjKGEualF1ZXJ5LGEsYil9KHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihhKXthLm1vYmlsZT17fX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse3ZlcnNpb246IjEuNC4yIixzdWJQYWdlVXJsS2V5OiJ1aS1wYWdlIixoaWRlVXJsQmFyOiEwLGtlZXBOYXRpdmU6IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIixhY3RpdmVQYWdlQ2xhc3M6InVpLXBhZ2UtYWN0aXZlIixhY3RpdmVCdG5DbGFzczoidWktYnRuLWFjdGl2ZSIsZm9jdXNDbGFzczoidWktZm9jdXMiLGFqYXhFbmFibGVkOiEwLGhhc2hMaXN0ZW5pbmdFbmFibGVkOiEwLGxpbmtCaW5kaW5nRW5hYmxlZDohMCxkZWZhdWx0UGFnZVRyYW5zaXRpb246ImZhZGUiLG1heFRyYW5zaXRpb25XaWR0aDohMSxtaW5TY3JvbGxCYWNrOjAsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiYSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxidXR0b25NYXJrdXA6e2hvdmVyRGVsYXk6MjAwfSxkeW5hbWljQmFzZUVuYWJsZWQ6ITAscGFnZUNvbnRhaW5lcjphKCksYWxsb3dDcm9zc0RvbWFpblBhZ2VzOiExLGRpYWxvZ0hhc2hLZXk6IiZ1aS1zdGF0ZT1kaWFsb2cifSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9LGU9YS5maW5kLGY9Lyg/Olx7W1xzXFNdKlx9fFxbW1xzXFNdKlxdKSQvLGc9LzpqcW1EYXRhXCgoW14pXSopXCkvZzthLmV4dGVuZChhLm1vYmlsZSx7bnM6IiIsZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yj1iLmpxdWVyeT9iWzBdOmIsYiYmYi5nZXRBdHRyaWJ1dGUmJihkPWIuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYykpO3RyeXtkPSJ0cnVlIj09PWQ/ITA6ImZhbHNlIj09PWQ/ITE6Im51bGwiPT09ZD9udWxsOitkKyIiPT09ZD8rZDpmLnRlc3QoZCk/SlNPTi5wYXJzZShkKTpkfWNhdGNoKGUpe31yZXR1cm4gZH0sbnNOb3JtYWxpemVEaWN0OmQsbnNOb3JtYWxpemU6ZnVuY3Rpb24oYil7cmV0dXJuIGRbYl18fChkW2JdPWEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2IpKX0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5kYXRhKCJtb2JpbGUtcGFnZSIpfX0pLGEuZm4uanFtRGF0YT1mdW5jdGlvbihiLGQpe3ZhciBlO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYiYmKGImJihiPWEubW9iaWxlLm5zTm9ybWFsaXplKGIpKSxlPWFyZ3VtZW50cy5sZW5ndGg8Mnx8ZD09PWM/dGhpcy5kYXRhKGIpOnRoaXMuZGF0YShiLGQpKSxlfSxhLmpxbURhdGE9ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYyYmKGU9YS5kYXRhKGIsYz9hLm1vYmlsZS5uc05vcm1hbGl6ZShjKTpjLGQpKSxlfSxhLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9LGEuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9LGEuZmluZD1mdW5jdGlvbihiLGMsZCxmKXtyZXR1cm4gYi5pbmRleE9mKCI6anFtRGF0YSIpPi0xJiYoYj1iLnJlcGxhY2UoZywiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIikpLGUuY2FsbCh0aGlzLGIsYyxkLGYpfSxhLmV4dGVuZChhLmZpbmQsZSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGIsYyl7dmFyIGQsZixnLGg9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJhcmVhIj09PWg/KGQ9Yi5wYXJlbnROb2RlLGY9ZC5uYW1lLGIuaHJlZiYmZiYmIm1hcCI9PT1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/KGc9YSgiaW1nW3VzZW1hcD0jIitmKyJdIilbMF0sISFnJiZlKGcpKTohMSk6KC9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdC8udGVzdChoKT8hYi5kaXNhYmxlZDoiYSI9PT1oP2IuaHJlZnx8YzpjKSYmZShiKX1mdW5jdGlvbiBlKGIpe3JldHVybiBhLmV4cHIuZmlsdGVycy52aXNpYmxlKGIpJiYhYShiKS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJoaWRkZW4iPT09YS5jc3ModGhpcywidmlzaWJpbGl0eSIpfSkubGVuZ3RofXZhciBmPTAsZz0vXnVpLWlkLVxkKyQvO2EudWk9YS51aXx8e30sYS5leHRlbmQoYS51aSx7dmVyc2lvbjoiYzBhYjcxMDU2YjkzNjYyN2U4YTc4MjFmMDNjMDQ0YWVjNjI4MGE0MCIsa2V5Q29kZTp7QkFDS1NQQUNFOjgsQ09NTUE6MTg4LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixMRUZUOjM3LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU1BBQ0U6MzIsVEFCOjksVVA6Mzh9fSksYS5mbi5leHRlbmQoe2ZvY3VzOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYz90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKGIpLmZvY3VzKCksZCYmZC5jYWxsKGIpfSxjKX0pOmIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oYS5mbi5mb2N1cyksc2Nyb2xsUGFyZW50OmZ1bmN0aW9uKCl7dmFyIGI7cmV0dXJuIGI9YS51aS5pZSYmLyhzdGF0aWN8cmVsYXRpdmUpLy50ZXN0KHRoaXMuY3NzKCJwb3NpdGlvbiIpKXx8L2Fic29sdXRlLy50ZXN0KHRoaXMuY3NzKCJwb3NpdGlvbiIpKT90aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKHJlbGF0aXZlfGFic29sdXRlfGZpeGVkKS8udGVzdChhLmNzcyh0aGlzLCJwb3NpdGlvbiIpKSYmLyhhdXRvfHNjcm9sbCkvLnRlc3QoYS5jc3ModGhpcywib3ZlcmZsb3ciKSthLmNzcyh0aGlzLCJvdmVyZmxvdy15IikrYS5jc3ModGhpcywib3ZlcmZsb3cteCIpKX0pLmVxKDApOnRoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8oYXV0b3xzY3JvbGwpLy50ZXN0KGEuY3NzKHRoaXMsIm92ZXJmbG93IikrYS5jc3ModGhpcywib3ZlcmZsb3cteSIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXgiKSl9KS5lcSgwKSwvZml4ZWQvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwhYi5sZW5ndGg/YSh0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGMpOmJ9LHVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuaWR8fCh0aGlzLmlkPSJ1aS1pZC0iKyArK2YpfSl9LHJlbW92ZVVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2cudGVzdCh0aGlzLmlkKSYmYSh0aGlzKS5yZW1vdmVBdHRyKCJpZCIpfSl9fSksYS5leHRlbmQoYS5leHByWyI6Il0se2RhdGE6YS5leHByLmNyZWF0ZVBzZXVkbz9hLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4hIWEuZGF0YShjLGIpfX0pOmZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4hIWEuZGF0YShiLGRbM10pfSxmb2N1c2FibGU6ZnVuY3Rpb24oYil7cmV0dXJuIGQoYiwhaXNOYU4oYS5hdHRyKGIsInRhYmluZGV4IikpKX0sdGFiYmFibGU6ZnVuY3Rpb24oYil7dmFyIGM9YS5hdHRyKGIsInRhYmluZGV4IiksZT1pc05hTihjKTtyZXR1cm4oZXx8Yz49MCkmJmQoYiwhZSl9fSksYSgiPGE+Iikub3V0ZXJXaWR0aCgxKS5qcXVlcnl8fGEuZWFjaChbIldpZHRoIiwiSGVpZ2h0Il0sZnVuY3Rpb24oYyxkKXtmdW5jdGlvbiBlKGIsYyxkLGUpe3JldHVybiBhLmVhY2goZixmdW5jdGlvbigpe2MtPXBhcnNlRmxvYXQoYS5jc3MoYiwicGFkZGluZyIrdGhpcykpfHwwLGQmJihjLT1wYXJzZUZsb2F0KGEuY3NzKGIsImJvcmRlciIrdGhpcysiV2lkdGgiKSl8fDApLGUmJihjLT1wYXJzZUZsb2F0KGEuY3NzKGIsIm1hcmdpbiIrdGhpcykpfHwwKX0pLGN9dmFyIGY9IldpZHRoIj09PWQ/WyJMZWZ0IiwiUmlnaHQiXTpbIlRvcCIsIkJvdHRvbSJdLGc9ZC50b0xvd2VyQ2FzZSgpLGg9e2lubmVyV2lkdGg6YS5mbi5pbm5lcldpZHRoLGlubmVySGVpZ2h0OmEuZm4uaW5uZXJIZWlnaHQsb3V0ZXJXaWR0aDphLmZuLm91dGVyV2lkdGgsb3V0ZXJIZWlnaHQ6YS5mbi5vdXRlckhlaWdodH07YS5mblsiaW5uZXIiK2RdPWZ1bmN0aW9uKGMpe3JldHVybiBjPT09Yj9oWyJpbm5lciIrZF0uY2FsbCh0aGlzKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNzcyhnLGUodGhpcyxjKSsicHgiKX0pfSxhLmZuWyJvdXRlciIrZF09ZnVuY3Rpb24oYixjKXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGI/aFsib3V0ZXIiK2RdLmNhbGwodGhpcyxiKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNzcyhnLGUodGhpcyxiLCEwLGMpKyJweCIpfSl9fSksYS5mbi5hZGRCYWNrfHwoYS5mbi5hZGRCYWNrPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX0pLGEoIjxhPiIpLmRhdGEoImEtYiIsImEiKS5yZW1vdmVEYXRhKCJhLWIiKS5kYXRhKCJhLWIiKSYmKGEuZm4ucmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yi5jYWxsKHRoaXMsYS5jYW1lbENhc2UoYykpOmIuY2FsbCh0aGlzKX19KGEuZm4ucmVtb3ZlRGF0YSkpLGEudWkuaWU9ISEvbXNpZSBbXHcuXSsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKSxhLnN1cHBvcnQuc2VsZWN0c3RhcnQ9Im9uc2VsZWN0c3RhcnQiaW4gYy5jcmVhdGVFbGVtZW50KCJkaXYiKSxhLmZuLmV4dGVuZCh7ZGlzYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmQoKGEuc3VwcG9ydC5zZWxlY3RzdGFydD8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iKSsiLnVpLWRpc2FibGVTZWxlY3Rpb24iLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pfSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmJpbmQoIi51aS1kaXNhYmxlU2VsZWN0aW9uIil9LHpJbmRleDpmdW5jdGlvbihkKXtpZihkIT09YilyZXR1cm4gdGhpcy5jc3MoInpJbmRleCIsZCk7aWYodGhpcy5sZW5ndGgpZm9yKHZhciBlLGYsZz1hKHRoaXNbMF0pO2cubGVuZ3RoJiZnWzBdIT09Yzspe2lmKGU9Zy5jc3MoInBvc2l0aW9uIiksKCJhYnNvbHV0ZSI9PT1lfHwicmVsYXRpdmUiPT09ZXx8ImZpeGVkIj09PWUpJiYoZj1wYXJzZUludChnLmNzcygiekluZGV4IiksMTApLCFpc05hTihmKSYmMCE9PWYpKXJldHVybiBmO2c9Zy5wYXJlbnQoKX1yZXR1cm4gMH19KSxhLnVpLnBsdWdpbj17YWRkOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPWEudWlbYl0ucHJvdG90eXBlO2ZvcihlIGluIGQpZi5wbHVnaW5zW2VdPWYucGx1Z2luc1tlXXx8W10sZi5wbHVnaW5zW2VdLnB1c2goW2MsZFtlXV0pfSxjYWxsOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5wbHVnaW5zW2JdO2lmKGYmJihkfHxhLmVsZW1lbnRbMF0ucGFyZW50Tm9kZSYmMTEhPT1hLmVsZW1lbnRbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZSkpZm9yKGU9MDtlPGYubGVuZ3RoO2UrKylhLm9wdGlvbnNbZltlXVswXV0mJmZbZV1bMV0uYXBwbHkoYS5lbGVtZW50LGMpfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1iLnBhcmVudCgpLGU9W10sZj1kLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLGc9Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKSxoPWQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiksaT1iLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpO3JldHVybiAwPT09Zy5sZW5ndGgmJmYubGVuZ3RoPjAmJihlPWUuY29uY2F0KGYudG9BcnJheSgpKSksMD09PWkubGVuZ3RoJiZoLmxlbmd0aD4wJiYoZT1lLmNvbmNhdChoLnRvQXJyYXkoKSkpLGEuZWFjaChlLGZ1bmN0aW9uKGIsZCl7Yy09YShkKS5vdXRlckhlaWdodCgpfSksTWF0aC5tYXgoMCxjKX07YS5leHRlbmQoYS5tb2JpbGUse3dpbmRvdzphKGIpLGRvY3VtZW50OmEoYyksa2V5Q29kZTphLnVpLmtleUNvZGUsYmVoYXZpb3JzOnt9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihjKXsibnVtYmVyIiE9PWEudHlwZShjKSYmKGM9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsYyksYS5tb2JpbGUuZG9jdW1lbnQudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6Y30pfSwyMCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxnZXRDbG9zZXN0QmFzZVVybDpmdW5jdGlvbihiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksZD1hLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoO3JldHVybiBhLm1vYmlsZS5keW5hbWljQmFzZUVuYWJsZWQmJmMmJmEubW9iaWxlLnBhdGguaXNQYXRoKGMpfHwoYz1kKSxhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShjLGQpfSxyZW1vdmVBY3RpdmVMaW5rQ2xhc3M6ZnVuY3Rpb24oYil7IWEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rfHxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5jbG9zZXN0KCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLmxlbmd0aCYmIWJ8fGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluaz1udWxsfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9YVswXSxmPSIiLGc9L3VpLShiYXJ8Ym9keXxvdmVybGF5KS0oW2Etel0pXGIvO2UmJihjPWUuY2xhc3NOYW1lfHwiIiwhKGMmJihkPWcuZXhlYyhjKSkmJihmPWRbMl0pKSk7KWU9ZS5wYXJlbnROb2RlO3JldHVybiBmfHxifHwiYSJ9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO3ZhciBkLGUsZixnLGgsaT1iLmxlbmd0aCxqPWEoKTtmb3IoZz0wO2k+ZztnKyspe2ZvcihlPWIuZXEoZyksZj0hMSxkPWJbZ107ZDspe2lmKGg9ZC5nZXRBdHRyaWJ1dGU/ZC5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucytjKToiIiwiZmFsc2UiPT09aCl7Zj0hMDticmVha31kPWQucGFyZW50Tm9kZX1mfHwoaj1qLmFkZChlKSl9cmV0dXJuIGp9LGdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiBiLmlubmVySGVpZ2h0fHxhLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCl9LHJlc2V0QWN0aXZlUGFnZUhlaWdodDpmdW5jdGlvbihiKXt2YXIgYz1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGU9Yy5oZWlnaHQoKSxmPWMub3V0ZXJIZWlnaHQoITApO2I9ZChjLCJudW1iZXIiPT10eXBlb2YgYj9iOmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpKSxjLmNzcygibWluLWhlaWdodCIsYi0oZi1lKSl9LGxvYWRpbmc6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxvYWRpbmcuX3dpZGdldHx8YShhLm1vYmlsZS5sb2FkZXIucHJvdG90eXBlLmRlZmF1bHRIdG1sKS5sb2FkZXIoKSxjPWIubG9hZGVyLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5sb2FkaW5nLl93aWRnZXQ9YixjfX0pLGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYiksZT1kLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2QuanFtRGF0YSgiZGVwZW5kZW50cyIsYShlKS5hZGQoYykpfSxhLmZuLmV4dGVuZCh7cmVtb3ZlV2l0aERlcGVuZGVudHM6ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKCl7dmFyIGIsYz17fSxkPWEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpLGU9dGhpczthLm1vYmlsZS5ub2pzJiZhLm1vYmlsZS5ub2pzKHRoaXMpLGEubW9iaWxlLmxpbmtzJiZhLm1vYmlsZS5saW5rcyh0aGlzKSxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluJiZhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluKHRoaXMpLGEuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmZpbmQoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5ub3QoZCkuanFtRW5oYW5jZWFibGUoKS5idXR0b25NYXJrdXAoKSxhLmZuLmZpZWxkY29udGFpbiYmdGhpcy5maW5kKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIpLm5vdChkKS5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpLGEuZWFjaChhLm1vYmlsZS53aWRnZXRzLGZ1bmN0aW9uKGIsZil7aWYoZi5pbml0U2VsZWN0b3Ipe3ZhciBnPWEubW9iaWxlLmVuaGFuY2VhYmxlKGUuZmluZChmLmluaXRTZWxlY3RvcikpO2cubGVuZ3RoPjAmJihnPWcubm90KGQpKSxnLmxlbmd0aD4wJiYoY1tmLnByb3RvdHlwZS53aWRnZXROYW1lXT1nKX19KTtmb3IoYiBpbiBjKWNbYl1bYl0oKTtyZXR1cm4gdGhpc30sYWRkRGVwZW5kZW50czpmdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHModGhpcyxiKX0sZ2V0RW5jb2RlZFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGE+IikudGV4dCh0aGlzLnRleHQoKSkuaHRtbCgpfSxqcW1FbmhhbmNlYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5lbmhhbmNlYWJsZSh0aGlzKX0sanFtSGlqYWNrYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfX0pLGEucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7dmFyIGM9YShiKTsoYy5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCksYy5yZW1vdmUoKX0sYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIixhKGUpLmFkZChjKSl9LGEuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX0sYS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGQ9MDtudWxsIT0oYz1iW2RdKTtkKyspdHJ5e2EoYykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT17fSxqPWIuc3BsaXQoIi4iKVswXTtyZXR1cm4gYj1iLnNwbGl0KCIuIilbMV0sZT1qKyItIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByWyI6Il1bZS50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbihiKXtyZXR1cm4hIWEuZGF0YShiLGUpfSxhW2pdPWFbal18fHt9LGY9YVtqXVtiXSxnPWFbal1bYl09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0P3ZvaWQoYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYikpOm5ldyBnKGEsYil9LGEuZXh0ZW5kKGcsZix7dmVyc2lvbjpkLnZlcnNpb24sX3Byb3RvOmEuZXh0ZW5kKHt9LGQpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLGg9bmV3IGMsaC5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSxoLm9wdGlvbnMpLGEuZWFjaChkLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuaXNGdW5jdGlvbihkKT92b2lkKGlbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fc3VwZXIsZj10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZSxiPWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWMsdGhpcy5fc3VwZXJBcHBseT1mLGJ9fSgpKTp2b2lkKGlbYl09ZCl9KSxnLnByb3RvdHlwZT1hLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6Zj9oLndpZGdldEV2ZW50UHJlZml4fHxiOmJ9LGkse2NvbnN0cnVjdG9yOmcsbmFtZXNwYWNlOmosd2lkZ2V0TmFtZTpiLHdpZGdldEZ1bGxOYW1lOmV9KSxmPyhhLmVhY2goZi5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24oYixjKXt2YXIgZD1jLnByb3RvdHlwZTthLndpZGdldChkLm5hbWVzcGFjZSsiLiIrZC53aWRnZXROYW1lLGcsYy5fcHJvdG8pfSksZGVsZXRlIGYuX2NoaWxkQ29uc3RydWN0b3JzKTpjLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKGcpLGEud2lkZ2V0LmJyaWRnZShiLGcpLGd9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXtmb3IodmFyIGUsZixnPWQuY2FsbChhcmd1bWVudHMsMSksaD0wLGk9Zy5sZW5ndGg7aT5oO2grKylmb3IoZSBpbiBnW2hdKWY9Z1toXVtlXSxnW2hdLmhhc093blByb3BlcnR5KGUpJiZmIT09YiYmKGNbZV09YS5pc1BsYWluT2JqZWN0KGYpP2EuaXNQbGFpbk9iamVjdChjW2VdKT9hLndpZGdldC5leHRlbmQoe30sY1tlXSxmKTphLndpZGdldC5leHRlbmQoe30sZik6Zik7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9InN0cmluZyI9PXR5cGVvZiBnLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsdGhpcy5lYWNoKGg/ZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO3JldHVybiJpbnN0YW5jZSI9PT1nPyhqPWUsITEpOmU/YS5pc0Z1bmN0aW9uKGVbZ10pJiYiXyIhPT1nLmNoYXJBdCgwKT8oZD1lW2ddLmFwcGx5KGUsaSksZCE9PWUmJmQhPT1iPyhqPWQmJmQuanF1ZXJ5P2oucHVzaFN0YWNrKGQuZ2V0KCkpOmQsITEpOnZvaWQgMCk6YS5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrZysiJyBmb3IgIitjKyIgd2lkZ2V0IGluc3RhbmNlIik6YS5lcnJvcigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2MrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2crIiciKX06ZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEodGhpcyxmKTtiP2Iub3B0aW9uKGd8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGYsbmV3IGUoZyx0aGlzKSl9KSxqfX0sYS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGEuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxhLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGQpe2Q9YShkfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9YShkKSx0aGlzLnV1aWQ9YysrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpLHRoaXMuYmluZGluZ3M9YSgpLHRoaXMuaG92ZXJhYmxlPWEoKSx0aGlzLmZvY3VzYWJsZT1hKCksZCE9PXRoaXMmJihhLmRhdGEoZCx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGEpe2EudGFyZ2V0PT09ZCYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1hKGQuc3R5bGU/ZC5vd25lckRvY3VtZW50OmQuZG9jdW1lbnR8fGQpLHRoaXMud2luZG93PWEodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6YS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6YS5ub29wLF9jcmVhdGU6YS5ub29wLF9pbml0OmEubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGcsaD1jO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIGMpaWYoaD17fSxlPWMuc3BsaXQoIi4iKSxjPWUuc2hpZnQoKSxlLmxlbmd0aCl7Zm9yKGY9aFtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKSxnPTA7ZzxlLmxlbmd0aC0xO2crKylmW2VbZ11dPWZbZVtnXV18fHt9LGY9ZltlW2ddXTtpZihjPWUucG9wKCksZD09PWIpcmV0dXJuIGZbY109PT1iP251bGw6ZltjXTtmW2NdPWR9ZWxzZXtpZihkPT09YilyZXR1cm4gdGhpcy5vcHRpb25zW2NdPT09Yj9udWxsOnRoaXMub3B0aW9uc1tjXTtoW2NdPWR9cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoaCksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSl0aGlzLl9zZXRPcHRpb24oYixhW2JdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbnNbYV09YiwiZGlzYWJsZWQiPT09YSYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIiwhIWIpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpczsiYm9vbGVhbiIhPXR5cGVvZiBiJiYoZD1jLGM9YixiPSExKSxkPyhjPWU9YShjKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGMpKTooZD1jLGM9dGhpcy5lbGVtZW50LGU9dGhpcy53aWRnZXQoKSksYS5lYWNoKGQsZnVuY3Rpb24oZCxnKXtmdW5jdGlvbiBoKCl7cmV0dXJuIGJ8fGYub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhYSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKT8oInN0cmluZyI9PXR5cGVvZiBnP2ZbZ106ZykuYXBwbHkoZixhcmd1bWVudHMpOnZvaWQgMH0ic3RyaW5nIiE9dHlwZW9mIGcmJihoLmd1aWQ9Zy5ndWlkPWcuZ3VpZHx8aC5ndWlkfHxhLmd1aWQrKyk7dmFyIGk9ZC5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxqPWlbMV0rZi5ldmVudE5hbWVzcGFjZSxrPWlbMl07az9lLmRlbGVnYXRlKGssaixoKTpjLmJpbmQoaixoKX0pfSxfb2ZmOmZ1bmN0aW9uKGEsYil7Yj0oYnx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxhLnVuYmluZChiKS51bmRlbGVnYXRlKGIpfSxfZGVsYXk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuKCJzdHJpbmciPT10eXBlb2YgYT9kW2FdOmEpLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZD10aGlzO3JldHVybiBzZXRUaW1lb3V0KGMsYnx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oYil7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGIpLHRoaXMuX29uKGIse21vdXNlZW50ZXI6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbihiKXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQoYiksdGhpcy5fb24oYix7Zm9jdXNpbjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnNbYl07aWYoZD1kfHx7fSxjPWEuRXZlbnQoYyksYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKSxjLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1jLm9yaWdpbmFsRXZlbnQpZm9yKGUgaW4gZillIGluIGN8fChjW2VdPWZbZV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpLCEoYS5pc0Z1bmN0aW9uKGcpJiZnLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbY10uY29uY2F0KGQpKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGEuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24oYixjKXthLldpZGdldC5wcm90b3R5cGVbIl8iK2JdPWZ1bmN0aW9uKGQsZSxmKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPXtlZmZlY3Q6ZX0pO3ZhciBnLGg9ZT9lPT09ITB8fCJudW1iZXIiPT10eXBlb2YgZT9jOmUuZWZmZWN0fHxjOmI7ZT1lfHx7fSwibnVtYmVyIj09dHlwZW9mIGUmJihlPXtkdXJhdGlvbjplfSksZz0hYS5pc0VtcHR5T2JqZWN0KGUpLGUuY29tcGxldGU9ZixlLmRlbGF5JiZkLmRlbGF5KGUuZGVsYXkpLGcmJmEuZWZmZWN0cyYmYS5lZmZlY3RzLmVmZmVjdFtoXT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPS9bQS1aXS9nLGM9ZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX07YS5leHRlbmQoYS5XaWRnZXQucHJvdG90eXBlLHtfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBkLGUsZj10aGlzLmVsZW1lbnRbMF0sZz17fTtpZighYS5tb2JpbGUuZ2V0QXR0cmlidXRlKGYsImRlZmF1bHRzIikpZm9yKGQgaW4gdGhpcy5vcHRpb25zKWU9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGYsZC5yZXBsYWNlKGIsYykpLG51bGwhPWUmJihnW2RdPWUpO3JldHVybiBnfX0pLGEubW9iaWxlLndpZGdldD1hLldpZGdldH0oYSksZnVuY3Rpb24oYSl7dmFyIGI9InVpLWxvYWRlciIsYz1hKCJodG1sIik7YS53aWRnZXQoIm1vYmlsZS5sb2FkZXIiLHtvcHRpb25zOnt0aGVtZToiYSIsdGV4dFZpc2libGU6ITEsaHRtbDoiIix0ZXh0OiJsb2FkaW5nIn0sZGVmYXVsdEh0bWw6IjxkaXYgY2xhc3M9JyIrYisiJz48c3BhbiBjbGFzcz0ndWktaWNvbi1sb2FkaW5nJz48L3NwYW4+PGgxPjwvaDE+PC9kaXY+IixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJnRoaXMud2luZG93LnNjcm9sbFRvcCgpK3RoaXMud2luZG93LmhlaWdodCgpLzJ8fGIubGVuZ3RoJiZiLm9mZnNldCgpLnRvcHx8MTAwfSl9LGNoZWNrTG9hZGVyUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQub2Zmc2V0KCksYz10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSxkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhiLnRvcDxjfHxiLnRvcC1jPmQpJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLHRoaXMud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmZha2VGaXhMb2FkZXIsdGhpcykpKX0scmVzZXRIdG1sOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmh0bWwoYSh0aGlzLmRlZmF1bHRIdG1sKS5odG1sKCkpfSxzaG93OmZ1bmN0aW9uKGQsZSxmKXt2YXIgZyxoLGk7dGhpcy5yZXNldEh0bWwoKSwib2JqZWN0Ij09PWEudHlwZShkKT8oaT1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsZCksZD1pLnRoZW1lKTooaT10aGlzLm9wdGlvbnMsZD1kfHxpLnRoZW1lKSxoPWV8fChpLnRleHQ9PT0hMT8iIjppLnRleHQpLGMuYWRkQ2xhc3MoInVpLWxvYWRpbmciKSxnPWkudGV4dFZpc2libGUsdGhpcy5lbGVtZW50LmF0dHIoImNsYXNzIixiKyIgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrZCsiIHVpLWxvYWRlci0iKyhnfHxlfHxkLnRleHQ/InZlcmJvc2UiOiJkZWZhdWx0IikrKGkudGV4dG9ubHl8fGY/IiB1aS1sb2FkZXItdGV4dG9ubHkiOiIiKSksaS5odG1sP3RoaXMuZWxlbWVudC5odG1sKGkuaHRtbCk6dGhpcy5lbGVtZW50LmZpbmQoImgxIikudGV4dChoKSx0aGlzLmVsZW1lbnQuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKCksdGhpcy53aW5kb3cuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbix0aGlzKSl9LGhpZGU6ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIiksdGhpcy5vcHRpb25zLnRleHQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuZmFrZUZpeExvYWRlciksYS5tb2JpbGUud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixkKXsiJDpub211bmdlIjtmdW5jdGlvbiBlKGEpe3JldHVybiBhPWF8fGxvY2F0aW9uLmhyZWYsIiMiK2EucmVwbGFjZSgvXlteI10qIz8oLiopJC8sIiQxIil9dmFyIGYsZz0iaGFzaGNoYW5nZSIsaD1jLGk9YS5ldmVudC5zcGVjaWFsLGo9aC5kb2N1bWVudE1vZGUsaz0ib24iK2cgaW4gYiYmKGo9PT1kfHxqPjcpO2EuZm5bZ109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGcsYSk6dGhpcy50cmlnZ2VyKGcpfSxhLmZuW2ddLmRlbGF5PTUwLGlbZ109YS5leHRlbmQoaVtnXSx7c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gaz8hMTp2b2lkIGEoZi5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6dm9pZCBhKGYuc3RvcCl9fSksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt2YXIgZD1lKCksaD1uKGopO2QhPT1qPyhtKGo9ZCxoKSxhKGIpLnRyaWdnZXIoZykpOmghPT1qJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK2gpLGY9c2V0VGltZW91dChjLGEuZm5bZ10uZGVsYXkpfXZhciBmLGk9e30saj1lKCksbD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sbT1sLG49bDtyZXR1cm4gaS5zdGFydD1mdW5jdGlvbigpe2Z8fGMoKX0saS5zdG9wPWZ1bmN0aW9uKCl7ZiYmY2xlYXJUaW1lb3V0KGYpLGY9ZH0sYi5hdHRhY2hFdmVudCYmIWIuYWRkRXZlbnRMaXN0ZW5lciYmIWsmJmZ1bmN0aW9uKCl7dmFyIGIsZDtpLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltnXS5zcmMsZD1kJiZkK2UoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fG0oZSgpKSxjKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csaC5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5eyJ0aXRsZSI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJihiLmRvY3VtZW50LnRpdGxlPWgudGl0bGUpfWNhdGNoKGEpe319KX0saS5zdG9wPWwsbj1mdW5jdGlvbigpe3JldHVybiBlKGIubG9jYXRpb24uaHJlZil9LG09ZnVuY3Rpb24oYyxkKXt2YXIgZT1iLmRvY3VtZW50LGY9YS5mbltnXS5kb21haW47YyE9PWQmJihlLnRpdGxlPWgudGl0bGUsZS5vcGVuKCksZiYmZS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrZisnIjwvc2NyaXB0PicpLGUuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGl9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGY9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZi5pZD0ibXEtdGVzdC0xIixmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGUuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBiJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYixjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksZT0oYSsiICIrby5qb2luKGMrIiAiKStjKS5zcGxpdCgiICIpO2ZvcihiIGluIGUpaWYobltlW2JdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gZigpe3ZhciBjPWIsZD0hKCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLmNyZWF0ZVNWR1JlY3R8fGMub3BlcmEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSksZT1mdW5jdGlvbihiKXtiJiZkfHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vc3ZnIil9LGY9bmV3IGMuSW1hZ2U7Zi5vbmVycm9yPWZ1bmN0aW9uKCl7ZSghMSl9LGYub25sb2FkPWZ1bmN0aW9uKCl7ZSgxPT09Zi53aWR0aCYmMT09PWYuaGVpZ2h0KX0sZi5zcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT0ifWZ1bmN0aW9uIGcoKXt2YXIgZSxmLGcsaD0idHJhbnNmb3JtLTNkIixpPWEubW9iaWxlLm1lZGlhKCIoLSIrby5qb2luKCItIitoKyIpLCgtIikrIi0iK2grIiksKCIraCsiKSIpO2lmKGkpcmV0dXJuISFpO2U9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9LG0uYXBwZW5kKGUpO2ZvcihnIGluIGYpZS5zdHlsZVtnXSE9PWQmJihlLnN0eWxlW2ddPSJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4ICkiLGk9Yi5nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUoZltnXSkpO3JldHVybiEhaSYmIm5vbmUiIT09aX1mdW5jdGlvbiBoKCl7dmFyIGIsYyxkPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsZT1hKCJoZWFkIGJhc2UiKSxmPW51bGwsZz0iIjtyZXR1cm4gZS5sZW5ndGg/Zz1lLmF0dHIoImhyZWYiKTplPWY9YSgiPGJhc2U+Iix7aHJlZjpkfSkuYXBwZW5kVG8oImhlYWQiKSxiPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKG0pLGM9YlswXS5ocmVmLGVbMF0uaHJlZj1nfHxsb2NhdGlvbi5wYXRobmFtZSxmJiZmLnJlbW92ZSgpLDA9PT1jLmluZGV4T2YoZCl9ZnVuY3Rpb24gaSgpe3ZhciBhLGQ9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZT1jLmRvY3VtZW50RWxlbWVudCxmPWIuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm4icG9pbnRlckV2ZW50cyJpbiBkLnN0eWxlPyhkLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLGQuc3R5bGUucG9pbnRlckV2ZW50cz0ieCIsZS5hcHBlbmRDaGlsZChkKSxhPWYmJiJhdXRvIj09PWYoZCwiIikucG9pbnRlckV2ZW50cyxlLnJlbW92ZUNoaWxkKGQpLCEhYSk6ITF9ZnVuY3Rpb24gaigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdH1mdW5jdGlvbiBrKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZigiaVBob25lIik+LTF8fGQuaW5kZXhPZigiaVBhZCIpPi0xfHxkLmluZGV4T2YoImlQb2QiKT4tMSkmJmYmJjUzND5mfHxhLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGEub3BlcmFtaW5pKXx8aSYmNzQ1OD5qfHxjLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZiYmNTMzPmZ8fGgmJjY+aHx8InBhbG1HZXRSZXNvdXJjZSJpbiBiJiZmJiY1MzQ+Znx8Yy5pbmRleE9mKCJNZWVHbyIpPi0xJiZjLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBsLG09YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksbj1tWzBdLnN0eWxlLG89WyJXZWJraXQiLCJNb3oiLCJPIl0scD0icGFsbUdldFJlc291cmNlImluIGIscT1iLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKSxyPWIuYmxhY2tiZXJyeSYmIWUoIi13ZWJraXQtdHJhbnNmb3JtIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse3B1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSYmIShiLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpPj0wJiZiLnRvcCE9PWIpJiYtMT09PWIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhZSgiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFlKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmcoKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXIsZml4ZWRQb3NpdGlvbjprKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBtWzBdKSYmIXAmJiFxLGR5bmFtaWNCYXNlVGFnOmgoKSxjc3NQb2ludGVyRXZlbnRzOmkoKSxib3VuZGluZ1JlY3Q6aigpLGlubGluZVNWRzpmfSksbS5yZW1vdmUoKSxsPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8cXx8bCxsJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oIm5hdmlnYXRlIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZigibmF2aWdhdGUiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixkLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixkLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYz10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGM9IiMiPT09Yz8iIjpjLGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCtjfSxnZXREb2N1bWVudFVybDpmdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50VXJsKTpkLmRvY3VtZW50VXJsLmhyZWZ9LHBhcnNlTG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVVybCh0aGlzLmdldExvY2F0aW9uKCkpfSxwYXJzZVVybDpmdW5jdGlvbihiKXtpZigib2JqZWN0Ij09PWEudHlwZShiKSlyZXR1cm4gYjt2YXIgYz1kLnVybFBhcnNlUkUuZXhlYyhifHwiIil8fFtdO3JldHVybntocmVmOmNbMF18fCIiLGhyZWZOb0hhc2g6Y1sxXXx8IiIsaHJlZk5vU2VhcmNoOmNbMl18fCIiLGRvbWFpbjpjWzNdfHwiIixwcm90b2NvbDpjWzRdfHwiIixkb3VibGVTbGFzaDpjWzVdfHwiIixhdXRob3JpdHk6Y1s2XXx8IiIsdXNlcm5hbWU6Y1s4XXx8IiIscGFzc3dvcmQ6Y1s5XXx8IiIsaG9zdDpjWzEwXXx8IiIsaG9zdG5hbWU6Y1sxMV18fCIiLHBvcnQ6Y1sxMl18fCIiLHBhdGhuYW1lOmNbMTNdfHwiIixkaXJlY3Rvcnk6Y1sxNF18fCIiLGZpbGVuYW1lOmNbMTVdfHwiIixzZWFyY2g6Y1sxNl18fCIiLGhhc2g6Y1sxN118fCIifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmO2lmKGEmJiIvIj09PWEuY2hhckF0KDApKXJldHVybiBhO2ZvcihhPWF8fCIiLGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiIsYz1iP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspc3dpdGNoKGY9ZFtlXSl7Y2FzZSIuIjpicmVhaztjYXNlIi4uIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChmKX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBkLnBhcnNlVXJsKGEpLmRvbWFpbj09PWQucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIiE9PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFkLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXRoaXMuZG9jdW1lbnRCYXNlKTt2YXIgZT1kLnBhcnNlVXJsKGEpLGY9ZC5wYXJzZVVybChiKSxnPWUucHJvdG9jb2x8fGYucHJvdG9jb2wsaD1lLnByb3RvY29sP2UuZG91YmxlU2xhc2g6ZS5kb3VibGVTbGFzaHx8Zi5kb3VibGVTbGFzaCxpPWUuYXV0aG9yaXR5fHxmLmF1dGhvcml0eSxqPSIiIT09ZS5wYXRobmFtZSxrPWQubWFrZVBhdGhBYnNvbHV0ZShlLnBhdGhuYW1lfHxmLmZpbGVuYW1lLGYucGF0aG5hbWUpLGw9ZS5zZWFyY2h8fCFqJiZmLnNlYXJjaHx8IiIsbT1lLmhhc2g7cmV0dXJuIGcraCtpK2srbCttfSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnBhcnNlVXJsKGIpLGY9Im9iamVjdCI9PXR5cGVvZiBjP2EucGFyYW0oYyk6YyxnPWUuc2VhcmNofHwiPyI7cmV0dXJuIGUuaHJlZk5vU2VhcmNoK2crKCI/IiE9PWcuY2hhckF0KGcubGVuZ3RoLTEpPyImIjoiIikrZisoZS5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9ZC5wYXJzZVVybChhKTtyZXR1cm4gZC5pc0VtYmVkZGVkUGFnZShjKT9jLmhhc2guc3BsaXQoZilbMF0ucmVwbGFjZSgvXiMvLCIiKS5yZXBsYWNlKC9cPy4qJC8sIiIpOmQuaXNTYW1lRG9tYWluKGMsdGhpcy5kb2N1bWVudEJhc2UpP2MuaHJlZk5vSGFzaC5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIikuc3BsaXQoZilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWMmJihhPWQucGFyc2VMb2NhdGlvbigpLmhhc2gpLGQuc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sc3RyaXBRdWVyeVBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cPy4qJC8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKGYsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIGIucHJvdG9jb2wmJmIuZG9tYWluIT09dGhpcy5kb2N1bWVudFVybC5kb21haW4/ITA6ITF9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIiIhPT1iLnByb3RvY29sPyF0aGlzLmlzUGF0aChiLmhhc2gpJiZiLmhhc2gmJihiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50VXJsLmhyZWZOb0hhc2h8fHRoaXMuZG9jdW1lbnRCYXNlRGlmZmVycyYmYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCk6L14jLy50ZXN0KGIuaHJlZil9LHNxdWFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGg9dGhpcy5pc1BhdGgoYSksaT10aGlzLnBhcnNlVXJsKGEpLGo9aS5oYXNoLGs9IiI7cmV0dXJuIGI9Ynx8KGQuaXNQYXRoKGEpP2QuZ2V0TG9jYXRpb24oKTpkLmdldERvY3VtZW50VXJsKCkpLGU9aD9kLnN0cmlwSGFzaChhKTphLGU9ZC5pc1BhdGgoaS5oYXNoKT9kLnN0cmlwSGFzaChpLmhhc2gpOmUsZz1lLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxnPi0xJiYoaz1lLnNsaWNlKGcpLGU9ZS5zbGljZSgwLGcpKSxjPWQubWFrZVVybEFic29sdXRlKGUsYiksZj10aGlzLnBhcnNlVXJsKGMpLnNlYXJjaCxoPygoZC5pc1BhdGgoail8fDA9PT1qLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkpJiYoaj0iIiksayYmLTE9PT1qLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSYmKGorPWspLC0xPT09ai5pbmRleE9mKCIjIikmJiIiIT09aiYmKGo9IiMiK2opLGM9ZC5wYXJzZVVybChjKSxjPWMucHJvdG9jb2wrIi8vIitjLmhvc3QrYy5wYXRobmFtZStmK2opOmMrPWMuaW5kZXhPZigiIyIpPi0xP2s6IiMiK2ssY30saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSl9LGhhc2hUb1NlbGVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPSIjIj09PWEuc3Vic3RyaW5nKDAsMSk7cmV0dXJuIGImJihhPWEuc3Vic3RyaW5nKDEpKSwoYj8iIyI6IiIpK2EucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuLzo7PD0+P0BbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KGYpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgZT1kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxmPWUuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZlLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGc9YS5tb2JpbGUuZmlyc3RQYWdlLGg9ZyYmZ1swXT9nWzBdLmlkOmM7cmV0dXJuIGYmJighZS5oYXNofHwiIyI9PT1lLmhhc2h8fGgmJmUuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09aCl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKCJmaWxlOiI9PT1iLnByb3RvY29sfHwiY29udGVudDoiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGU9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1lLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGUuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9LGEuZXh0ZW5kKGEubW9iaWxlLHtnZXREb2N1bWVudFVybDpkLmdldERvY3VtZW50VXJsLGdldERvY3VtZW50QmFzZTpkLmdldERvY3VtZW50QmFzZX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmLTE9PT1iLmhhc2guaW5kZXhPZigiIyIpJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZixnPWIubGVuZ3RoO2ZvcihlPTA7Zz5lO2UrKylpZihkPWJbZV0sKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKSYmKGY9ZSxjKSlyZXR1cm4gZjtyZXR1cm4gZn0sY2xvc2VzdDpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMuYWN0aXZlSW5kZXg7cmV0dXJuIGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZSgwLGQpKSxjPT09YiYmKGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZShkKSwhMCksYz1jPT09Yj9jOmMrZCksY30sZGlyZWN0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY2xvc2VzdChjLnVybCksZT10aGlzLmFjdGl2ZUluZGV4O2QhPT1iJiYodGhpcy5hY3RpdmVJbmRleD1kLHRoaXMucHJldmlvdXNJbmRleD1lKSxlPmQ/KGMucHJlc2VudHx8Yy5iYWNrfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImJhY2siKTpkPmU/KGMucHJlc2VudHx8Yy5mb3J3YXJkfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImZvcndhcmQiKTpkPT09YiYmYy5taXNzaW5nJiZjLm1pc3NpbmcodGhpcy5nZXRBY3RpdmUoKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBkPWEubW9iaWxlLnBhdGgsZT1sb2NhdGlvbi5ocmVmO2EubW9iaWxlLk5hdmlnYXRvcj1mdW5jdGlvbihiKXt0aGlzLmhpc3Rvcnk9Yix0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlPSEwLGEubW9iaWxlLndpbmRvdy5iaW5kKHsicG9wc3RhdGUuaGlzdG9yeSI6YS5wcm94eSh0aGlzLnBvcHN0YXRlLHRoaXMpLCJoYXNoY2hhbmdlLmhpc3RvcnkiOmEucHJveHkodGhpcy5oYXNoY2hhbmdlLHRoaXMpfSl9LGEuZXh0ZW5kKGEubW9iaWxlLk5hdmlnYXRvci5wcm90b3R5cGUse3NxdWFzaDpmdW5jdGlvbihlLGYpe3ZhciBnLGgsaT1kLmlzUGF0aChlKT9kLnN0cmlwSGFzaChlKTplO3JldHVybiBoPWQuc3F1YXNoKGUpLGc9YS5leHRlbmQoe2hhc2g6aSx1cmw6aH0sZiksYi5oaXN0b3J5LnJlcGxhY2VTdGF0ZShnLGcudGl0bGV8fGMudGl0bGUsaCksZ30saGFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnO3JldHVybiBjPWQucGFyc2VVcmwoYSksZT1kLnBhcnNlTG9jYXRpb24oKSxlLnBhdGhuYW1lK2Uuc2VhcmNoPT09Yy5wYXRobmFtZStjLnNlYXJjaD9mPWMuaGFzaD9jLmhhc2g6Yy5wYXRobmFtZStjLnNlYXJjaDpkLmlzUGF0aChhKT8oZz1kLnBhcnNlVXJsKGIpLGY9Zy5wYXRobmFtZStnLnNlYXJjaCsoZC5pc1ByZXNlcnZhYmxlSGFzaChnLmhhc2gpP2cuaGFzaC5yZXBsYWNlKCIjIiwiIik6IiIpKTpmPWEsZn0sZ286ZnVuY3Rpb24oZSxmLGcpe3ZhciBoLGksaixrLGw9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO2k9ZC5zcXVhc2goZSksaj10aGlzLmhhc2goZSxpKSxnJiZqIT09ZC5zdHJpcEhhc2goZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1nKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsYi5sb2NhdGlvbi5oYXNoPWosdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLGg9YS5leHRlbmQoe3VybDppLGhhc2g6aix0aXRsZTpjLnRpdGxlfSxmKSxsJiYoaz1uZXcgYS5FdmVudCgicG9wc3RhdGUiKSxrLm9yaWdpbmFsRXZlbnQ9e3R5cGU6InBvcHN0YXRlIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChlLGgpLGd8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGEubW9iaWxlLndpbmRvdy50cmlnZ2VyKGspKSksdGhpcy5oaXN0b3J5LmFkZChoLnVybCxoKX0scG9wc3RhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZjsKaWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpOnRoaXMuaWdub3JlUG9wU3RhdGU/dm9pZCh0aGlzLmlnbm9yZVBvcFN0YXRlPSExKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpP3ZvaWQgYi5wcmV2ZW50RGVmYXVsdCgpOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLHZvaWQoYi5oaXN0b3J5U3RhdGU9ZikpOnZvaWQgdGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGMscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pKX0saGFzaGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgZSxmO2lmKGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJiFhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpe2lmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlKXJldHVybiB0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7ZT10aGlzLmhpc3RvcnksZj1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDpmLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhhc2hjaGFuZ2VTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhhc2hjaGFuZ2VTdGF0ZS5kaXJlY3Rpb249ZH0sbWlzc2luZzpmdW5jdGlvbigpe2UuYWRkKGYse2hhc2g6Zix0aXRsZTpjLnRpdGxlfSl9fSl9fX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5uYXZpZ2F0ZT1mdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLmdvKGIsYyxkKX0sYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeT1uZXcgYS5tb2JpbGUuSGlzdG9yeSxhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3I9bmV3IGEubW9iaWxlLk5hdmlnYXRvcihhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5KTt2YXIgYj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTthLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChiLmhyZWYse2hhc2g6Yi5oYXNofSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e2FuaW1hdGlvbjp7fSx0cmFuc2l0aW9uOnt9fSxlPWMuY3JlYXRlRWxlbWVudCgiYSIpLGY9WyIiLCJ3ZWJraXQtIiwibW96LSIsIm8tIl07YS5lYWNoKFsiYW5pbWF0aW9uIiwidHJhbnNpdGlvbiJdLGZ1bmN0aW9uKGMsZyl7dmFyIGg9MD09PWM/ZysiLW5hbWUiOmc7YS5lYWNoKGYsZnVuY3Rpb24oYyxmKXtyZXR1cm4gZS5zdHlsZVthLmNhbWVsQ2FzZShmK2gpXSE9PWI/KGRbZ10ucHJlZml4PWYsITEpOnZvaWQgMH0pLGRbZ10uZHVyYXRpb249YS5jYW1lbENhc2UoZFtnXS5wcmVmaXgrZysiLWR1cmF0aW9uIiksZFtnXS5ldmVudD1hLmNhbWVsQ2FzZShkW2ddLnByZWZpeCtnKyItZW5kIiksIiI9PT1kW2ddLnByZWZpeCYmKGRbZ10uZXZlbnQ9ZFtnXS5ldmVudC50b0xvd2VyQ2FzZSgpKX0pLGEuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucz1kLnRyYW5zaXRpb24ucHJlZml4IT09YixhLnN1cHBvcnQuY3NzQW5pbWF0aW9ucz1kLmFuaW1hdGlvbi5wcmVmaXghPT1iLGEoZSkucmVtb3ZlKCksYS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqPXRoaXMsaz1mJiYiYW5pbWF0aW9uIiE9PWY/InRyYW5zaXRpb24iOiJhbmltYXRpb24iO3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnMmJiJ0cmFuc2l0aW9uIj09PWt8fGEuc3VwcG9ydC5jc3NBbmltYXRpb25zJiYiYW5pbWF0aW9uIj09PWs/KGc9PT1iJiYoYSh0aGlzKS5jb250ZXh0IT09YyYmKGk9M2UzKnBhcnNlRmxvYXQoYSh0aGlzKS5jc3MoZFtrXS5kdXJhdGlvbikpKSwoMD09PWl8fGk9PT1ifHxpc05hTihpKSkmJihpPWEuZm4uYW5pbWF0aW9uQ29tcGxldGUuZGVmYXVsdER1cmF0aW9uKSksaD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShqKS5vZmYoZFtrXS5ldmVudCksZS5hcHBseShqKX0saSksYSh0aGlzKS5vbmUoZFtrXS5ldmVudCxmdW5jdGlvbigpe2NsZWFyVGltZW91dChoKSxlLmNhbGwodGhpcyxhcmd1bWVudHMpfSkpOihzZXRUaW1lb3V0KGEucHJveHkoZSx0aGlzKSwwKSxhKHRoaXMpKX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb249MWUzfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLm9yaWdpbmFsRXZlbnQ7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbz1iLnR5cGU7aWYoYj1hLkV2ZW50KGIpLGIudHlwZT1jLGY9Yi5vcmlnaW5hbEV2ZW50LGc9YS5ldmVudC5wcm9wcyxvLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGc9RSksZilmb3IobD1nLmxlbmd0aCxpO2w7KWk9Z1stLWxdLGJbaV09ZltpXTtpZihvLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWIud2hpY2gmJihiLndoaWNoPTEpLC0xIT09by5zZWFyY2goL150b3VjaC8pJiYoaD1lKGYpLG89aC50b3VjaGVzLGo9aC5jaGFuZ2VkVG91Y2hlcyxrPW8mJm8ubGVuZ3RoP29bMF06aiYmai5sZW5ndGg/alswXTpkKSlmb3IobT0wLG49Qy5sZW5ndGg7bj5tO20rKylpPUNbbV0sYltpXT1rW2ldO3JldHVybiBifWZ1bmN0aW9uIGcoYil7Zm9yKHZhciBjLGQsZT17fTtiOyl7Yz1hLmRhdGEoYix6KTtmb3IoZCBpbiBjKWNbZF0mJihlW2RdPWUuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGgoYixjKXtmb3IodmFyIGQ7Yjspe2lmKGQ9YS5kYXRhKGIseiksZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKCl7TT0hMX1mdW5jdGlvbiBqKCl7TT0hMH1mdW5jdGlvbiBrKCl7UT0wLEsubGVuZ3RoPTAsTD0hMSxqKCl9ZnVuY3Rpb24gbCgpe2koKX1mdW5jdGlvbiBtKCl7bigpLEc9c2V0VGltZW91dChmdW5jdGlvbigpe0c9MCxrKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gbigpe0cmJihjbGVhclRpbWVvdXQoRyksRz0wKX1mdW5jdGlvbiBvKGIsYyxkKXt2YXIgZTtyZXR1cm4oZCYmZFtiXXx8IWQmJmgoYy50YXJnZXQsYikpJiYoZT1mKGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKSksZX1mdW5jdGlvbiBwKGIpe3ZhciBjLGQ9YS5kYXRhKGIudGFyZ2V0LEEpO0x8fFEmJlE9PT1kfHwoYz1vKCJ2IitiLnR5cGUsYiksYyYmKGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcFByb3BhZ2F0aW9uKCksYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSl9ZnVuY3Rpb24gcShiKXt2YXIgYyxkLGYsaD1lKGIpLnRvdWNoZXM7aCYmMT09PWgubGVuZ3RoJiYoYz1iLnRhcmdldCxkPWcoYyksZC5oYXNWaXJ0dWFsQmluZGluZyYmKFE9UCsrLGEuZGF0YShjLEEsUSksbigpLGwoKSxKPSExLGY9ZShiKS50b3VjaGVzWzBdLEg9Zi5wYWdlWCxJPWYucGFnZVksbygidm1vdXNlb3ZlciIsYixkKSxvKCJ2bW91c2Vkb3duIixiLGQpKSl9ZnVuY3Rpb24gcihhKXtNfHwoSnx8bygidm1vdXNlY2FuY2VsIixhLGcoYS50YXJnZXQpKSxKPSEwLG0oKSl9ZnVuY3Rpb24gcyhiKXtpZighTSl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9SixmPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxoPWcoYi50YXJnZXQpO0o9Snx8TWF0aC5hYnMoYy5wYWdlWC1IKT5mfHxNYXRoLmFicyhjLnBhZ2VZLUkpPmYsSiYmIWQmJm8oInZtb3VzZWNhbmNlbCIsYixoKSxvKCJ2bW91c2Vtb3ZlIixiLGgpLG0oKX19ZnVuY3Rpb24gdChhKXtpZighTSl7aigpO3ZhciBiLGMsZD1nKGEudGFyZ2V0KTtvKCJ2bW91c2V1cCIsYSxkKSxKfHwoYj1vKCJ2Y2xpY2siLGEsZCksYiYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxLLnB1c2goe3RvdWNoSUQ6USx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEw9ITApKSxvKCJ2bW91c2VvdXQiLGEsZCksSj0hMSxtKCl9fWZ1bmN0aW9uIHUoYil7dmFyIGMsZD1hLmRhdGEoYix6KTtpZihkKWZvcihjIGluIGQpaWYoZFtjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIHcoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7dSh0aGlzKXx8YS5kYXRhKHRoaXMseix7fSk7dmFyIGQ9YS5kYXRhKHRoaXMseik7ZFtiXT0hMCxGW2JdPShGW2JdfHwwKSsxLDE9PT1GW2JdJiZPLmJpbmQoYyxwKSxhKHRoaXMpLmJpbmQoYyx2KSxOJiYoRi50b3VjaHN0YXJ0PShGLnRvdWNoc3RhcnR8fDApKzEsMT09PUYudG91Y2hzdGFydCYmTy5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdCkuYmluZCgidG91Y2htb3ZlIixzKS5iaW5kKCJzY3JvbGwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUZbYl0sRltiXXx8Ty51bmJpbmQoYyxwKSxOJiYoLS1GLnRvdWNoc3RhcnQsRi50b3VjaHN0YXJ0fHxPLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLHMpLnVuYmluZCgidG91Y2hlbmQiLHQpLnVuYmluZCgic2Nyb2xsIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHopO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh6KX19fXZhciB4LHksej0idmlydHVhbE1vdXNlQmluZGluZ3MiLEE9InZpcnR1YWxUb3VjaElEIixCPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxDPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLEQ9YS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxFPWEuZXZlbnQucHJvcHMuY29uY2F0KEQpLEY9e30sRz0wLEg9MCxJPTAsSj0hMSxLPVtdLEw9ITEsTT0hMSxOPSJhZGRFdmVudExpc3RlbmVyImluIGMsTz1hKGMpLFA9MSxRPTA7Zm9yKGEudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH0seT0wO3k8Qi5sZW5ndGg7eSsrKWEuZXZlbnQuc3BlY2lhbFtCW3ldXT13KEJbeV0pO04mJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPUsubGVuZ3RoLGo9Yi50YXJnZXQ7aWYoaSlmb3IoYz1iLmNsaWVudFgsZD1iLmNsaWVudFkseD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLGU9ajtlOyl7Zm9yKGY9MDtpPmY7ZisrKWlmKGc9S1tmXSxoPTAsZT09PWomJk1hdGguYWJzKGcueC1jKTx4JiZNYXRoLmFicyhnLnktZCk8eHx8YS5kYXRhKGUsQSk9PT1nLnRvdWNoSUQpcmV0dXJuIGIucHJldmVudERlZmF1bHQoKSx2b2lkIGIuc3RvcFByb3BhZ2F0aW9uKCk7ZT1lLnBhcmVudE5vZGV9fSwhMCl9KGEsYixjKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShiLGMsZSxmKXt2YXIgZz1lLnR5cGU7ZS50eXBlPWMsZj9hLmV2ZW50LnRyaWdnZXIoZSxkLGIpOmEuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUudHlwZT1nfXZhciBmPWEoYyksZz1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGg9InRvdWNobW92ZSBzY3JvbGwiLGk9Zz8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaj1nPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGs9Zz8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Yz1iLGUoZixjPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBjLGQsZj10aGlzLGc9YShmKTtnLmJpbmQoaCxmdW5jdGlvbihlKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGN8fGIoZSwhMCksY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2IoZSwhMSl9LDUwKSl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChoKX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLGVtaXRUYXBPblRhcGhvbGQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKSxkPSExO2MuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oZyl7ZnVuY3Rpb24gaCgpe2NsZWFyVGltZW91dChrKX1mdW5jdGlvbiBpKCl7aCgpLGMudW5iaW5kKCJ2Y2xpY2siLGopLnVuYmluZCgidm1vdXNldXAiLGgpLGYudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGkpfWZ1bmN0aW9uIGooYSl7aSgpLGR8fGwhPT1hLnRhcmdldD9kJiZhLnN0b3BQcm9wYWdhdGlvbigpOmUoYiwidGFwIixhKX1pZihkPSExLGcud2hpY2gmJjEhPT1nLndoaWNoKXJldHVybiExO3ZhciBrLGw9Zy50YXJnZXQ7Yy5iaW5kKCJ2bW91c2V1cCIsaCkuYmluZCgidmNsaWNrIixqKSxmLmJpbmQoInZtb3VzZWNhbmNlbCIsaSksaz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRhcC5lbWl0VGFwT25UYXBob2xkfHwoZD0hMCksZShiLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIix7dGFyZ2V0Omx9KSl9LGEuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgidm1vdXNlZG93biIpLnVuYmluZCgidmNsaWNrIikudW5iaW5kKCJ2bW91c2V1cCIpLGYudW5iaW5kKCJ2bW91c2VjYW5jZWwiKX19LGEuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxZTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsZ2V0TG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGM9Yi5wYWdlWE9mZnNldCxkPWIucGFnZVlPZmZzZXQsZT1hLmNsaWVudFgsZj1hLmNsaWVudFk7cmV0dXJuIDA9PT1hLnBhZ2VZJiZNYXRoLmZsb29yKGYpPk1hdGguZmxvb3IoYS5wYWdlWSl8fDA9PT1hLnBhZ2VYJiZNYXRoLmZsb29yKGUpPk1hdGguZmxvb3IoYS5wYWdlWCk/KGUtPWMsZi09ZCk6KGY8YS5wYWdlWS1kfHxlPGEucGFnZVgtYykmJihlPWEucGFnZVgtYyxmPWEucGFnZVktZCkse3g6ZSx5OmZ9fSxzdGFydDpmdW5jdGlvbihiKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiLGQ9YS5ldmVudC5zcGVjaWFsLnN3aXBlLmdldExvY2F0aW9uKGMpO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbZC54LGQueV0sb3JpZ2luOmEoYi50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiLGQ9YS5ldmVudC5zcGVjaWFsLnN3aXBlLmdldExvY2F0aW9uKGMpO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbZC54LGQueV19fSxoYW5kbGVTd2lwZTpmdW5jdGlvbihiLGMsZCxmKXtpZihjLnRpbWUtYi50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMF0tYy5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKGIuY29vcmRzWzFdLWMuY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCl7dmFyIGc9Yi5jb29yZHNbMF0+Yy5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiO3JldHVybiBlKGQsInN3aXBlIixhLkV2ZW50KCJzd2lwZSIse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yixzd2lwZXN0b3A6Y30pLCEwKSxlKGQsZyxhLkV2ZW50KGcse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yixzd2lwZXN0b3A6Y30pLCEwKSwhMH1yZXR1cm4hMX0sZXZlbnRJblByb2dyZXNzOiExLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLGQ9YShjKSxlPXt9O2I9YS5kYXRhKHRoaXMsIm1vYmlsZS1ldmVudHMiKSxifHwoYj17bGVuZ3RoOjB9LGEuZGF0YSh0aGlzLCJtb2JpbGUtZXZlbnRzIixiKSksYi5sZW5ndGgrKyxiLnN3aXBlPWUsZS5zdGFydD1mdW5jdGlvbihiKXtpZighYS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcyl7YS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcz0hMDt2YXIgZCxnPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdGFydChiKSxoPWIudGFyZ2V0LGk9ITE7ZS5tb3ZlPWZ1bmN0aW9uKGIpe2cmJihkPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGIpLGl8fChpPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGQsYyxoKSxpJiYoYS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcz0hMSkpLE1hdGguYWJzKGcuY29vcmRzWzBdLWQuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpKX0sZS5zdG9wPWZ1bmN0aW9uKCl7aT0hMCxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSExLGYub2ZmKGssZS5tb3ZlKSxlLm1vdmU9bnVsbH0sZi5vbihrLGUubW92ZSkub25lKGosZS5zdG9wKX19LGQub24oaSxlLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgYixjO2I9YS5kYXRhKHRoaXMsIm1vYmlsZS1ldmVudHMiKSxiJiYoYz1iLnN3aXBlLGRlbGV0ZSBiLnN3aXBlLGIubGVuZ3RoLS0sMD09PWIubGVuZ3RoJiZhLnJlbW92ZURhdGEodGhpcywibW9iaWxlLWV2ZW50cyIpKSxjJiYoYy5zdGFydCYmYSh0aGlzKS5vZmYoaSxjLnN0YXJ0KSxjLm1vdmUmJmYub2ZmKGssYy5tb3ZlKSxjLnN0b3AmJmYub2ZmKGosYy5zdG9wKSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChjKX19fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsZil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsZil9fTt2YXIgYixjLGQsZT0yNTAsZj1mdW5jdGlvbigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD1jLWcsZD49ZT8oZz1jLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihiJiZjbGVhclRpbWVvdXQoYiksYj1zZXRUaW1lb3V0KGYsZS1kKSl9LGc9MH0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKCl7dmFyIGE9ZSgpO2EhPT1mJiYoZj1hLGwudHJpZ2dlcihtKSl9dmFyIGUsZixnLGgsaSxqLGssbD1hKGIpLG09Im9yaWVudGF0aW9uY2hhbmdlIixuPXswOiEwLDE4MDohMH07YS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYoaT1iLmlubmVyV2lkdGh8fGwud2lkdGgoKSxqPWIuaW5uZXJIZWlnaHR8fGwuaGVpZ2h0KCksaz01MCxnPWk+aiYmaS1qPmssaD1uW2Iub3JpZW50YXRpb25dLChnJiZofHwhZyYmIWgpJiYobj17Ii05MCI6ITAsOTA6ITB9KSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPWEuZXh0ZW5kKHt9LGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZSx7c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOihmPWUoKSx2b2lkIGwuYmluZCgidGhyb3R0bGVkcmVzaXplIixkKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZD8hMTp2b2lkIGwudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vcmllbnRhdGlvbj1lKCksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1lPWZ1bmN0aW9uKCl7dmFyIGQ9ITAsZT1jLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gZD1hLnN1cHBvcnQub3JpZW50YXRpb24/bltiLm9yaWVudGF0aW9uXTplJiZlLmNsaWVudFdpZHRoL2UuY2xpZW50SGVpZ2h0PDEuMSxkPyJwb3J0cmFpdCI6ImxhbmRzY2FwZSJ9LGEuZm5bbV09ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKG0sYSk6dGhpcy50cmlnZ2VyKG0pfSxhLmF0dHJGbiYmKGEuYXR0ckZuW21dPSEwKX0oYSx0aGlzKSxmdW5jdGlvbihhKXt2YXIgYj1hKCJoZWFkIikuY2hpbGRyZW4oImJhc2UiKSxjPXtlbGVtZW50OmIubGVuZ3RoP2I6YSgiPGJhc2U+Iix7aHJlZjphLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNofSkucHJlcGVuZFRvKGEoImhlYWQiKSksbGlua1NlbGVjdG9yOiJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIsc2V0OmZ1bmN0aW9uKGIpe2EubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnJiZjLmVsZW1lbnQuYXR0cigiaHJlZiIsYS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYixhLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZSkpfSxyZXdyaXRlOmZ1bmN0aW9uKGIsZCl7dmFyIGU9YS5tb2JpbGUucGF0aC5nZXQoYik7ZC5maW5kKGMubGlua1NlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShjKS5pcygiW2hyZWZdIik/ImhyZWYiOmEoYykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsZj1hKGMpLmF0dHIoZCk7Zj1mLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKSwvXihcdys6fCN8XC8pLy50ZXN0KGYpfHxhKGMpLmF0dHIoZCxlK2YpfSl9LHJlc2V0OmZ1bmN0aW9uKCl7Yy5lbGVtZW50LmF0dHIoImhyZWYiLGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb1NlYXJjaCl9fTthLm1vYmlsZS5iYXNlPWN9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUud2lkZ2V0cz17fTt2YXIgYz1hLndpZGdldCxkPWEubW9iaWxlLmtlZXBOYXRpdmU7YS53aWRnZXQ9ZnVuY3Rpb24oYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT1kLnByb3RvdHlwZS53aWRnZXROYW1lO3JldHVybiBkLmluaXRTZWxlY3Rvcj1kLnByb3RvdHlwZS5pbml0U2VsZWN0b3IhPT1iP2QucHJvdG90eXBlLmluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nIitlKyInKSIsYS5tb2JpbGUud2lkZ2V0c1tlXT1kLGR9fShhLndpZGdldCksYS5leHRlbmQoYS53aWRnZXQsYyksYS5tb2JpbGUuZG9jdW1lbnQub24oImNyZWF0ZSIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuZW5oYW5jZVdpdGhpbigpfSksYS53aWRnZXQoIm1vYmlsZS5wYWdlIix7b3B0aW9uczp7dGhlbWU6ImEiLGRvbUNhY2hlOiExLGtlZXBOYXRpdmVEZWZhdWx0OmEubW9iaWxlLmtlZXBOYXRpdmUsY29udGVudFRoZW1lOm51bGwsZW5oYW5jZWQ6ITF9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImJlZm9yZWNyZWF0ZSIpPT09ITE/ITE6KHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHRoaXMuZWxlbWVudCx7cGFnZWJlZm9yZWhpZGU6InJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiLHBhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3cifSksdGhpcy5lbGVtZW50LmVuaGFuY2VXaXRoaW4oKSx2b2lkKCJkaWFsb2ciPT09YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSwicm9sZSIpJiZhLm1vYmlsZS5kaWFsb2cmJnRoaXMuZWxlbWVudC5kaWFsb2coKSkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBjPSJkYXRhLSIrYS5tb2JpbGUubnMsZD10aGlzO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIix0aGlzLm9wdGlvbnMucm9sZSksdGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLXBhZ2UtdGhlbWUtIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuZWxlbWVudC5maW5kKCJbIitjKyJyb2xlPSdjb250ZW50J10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxmPXRoaXMuZ2V0QXR0cmlidXRlKGMrInRoZW1lIil8fGI7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZT1mfHxkLm9wdGlvbnMuY29udGVudFRoZW1lfHxkLm9wdGlvbnMuZGlhbG9nJiZkLm9wdGlvbnMudGhlbWV8fCJkaWFsb2ciPT09ZC5lbGVtZW50LmpxbURhdGEoInJvbGUiKSYmZC5vcHRpb25zLnRoZW1lLGUuYWRkQ2xhc3MoInVpLWNvbnRlbnQiKSxkLm9wdGlvbnMuY29udGVudFRoZW1lJiZlLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5vcHRpb25zLmNvbnRlbnRUaGVtZSksZS5hdHRyKCJyb2xlIiwibWFpbiIpLmFkZENsYXNzKCJ1aS1jb250ZW50Iil9KX0sYmluZFJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQ7IWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZjLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYy5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGJ8fGZ1bmN0aW9uKGIsYyl7aWYoIWMuc2FtZVBhZ2Upe3ZhciBkPWEodGhpcyksZT1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2QudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxkLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9fSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2MudGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtdGhlbWUtIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1wYWdlLXRoZW1lLSIrYy50aGVtZSksYy5jb250ZW50VGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQuZmluZCgiW2RhdGEtIithLm1vYmlsZS5ucysiPSdjb250ZW50J10iKS5yZW1vdmVDbGFzcygidWktYm9keS0iK3RoaXMub3B0aW9ucy5jb250ZW50VGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy5jb250ZW50VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCI6bW9iaWxlLXBhZ2Vjb250YWluZXIiKS5wYWdlY29udGFpbmVyKHt0aGVtZToibm9uZSJ9KX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucGFyZW50KCkucGFnZWNvbnRhaW5lcih7dGhlbWU6YXx8dGhpcy5vcHRpb25zLnRoZW1lfSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWEudHJpbShiLmtlZXBOYXRpdmV8fCIiKSxlPWEudHJpbShhLm1vYmlsZS5rZWVwTmF0aXZlKSxmPWEudHJpbShiLmtlZXBOYXRpdmVEZWZhdWx0KSxnPWQ9PT1lPyIiOmUsaD0iIj09PWc/ZjoiIjtyZXR1cm4oYz9bY106W10pLmNvbmNhdChnP1tnXTpbXSkuY29uY2F0KGg/W2hdOltdKS5qb2luKCIsICIpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZWNvbnRhaW5lciIse29wdGlvbnM6e3RoZW1lOiJhIn0saW5pdFNlbGVjdG9yOiExLF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZToiX2Rpc2FibGVSZWNvcmRTY3JvbGwiLHNjcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZToiX2ZpbHRlck5hdmlnYXRlRXZlbnRzIn0pLHRoaXMuX29uKHtwYWdlY2hhbmdlOiJfYWZ0ZXJDb250ZW50Q2hhbmdlIn0pLHRoaXMud2luZG93Lm9uZSgibmF2aWdhdGUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwfSx0aGlzKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiYibm9uZSIhPT1hLnRoZW1lP3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoInVpLW92ZXJsYXktIithLnRoZW1lKTphLnRoZW1lIT09ZCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1vdmVybGF5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9zdXBlcihhKX0sX2Rpc2FibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSExfSxfZW5hYmxlUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sX2FmdGVyQ29udGVudENoYW5nZTpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb2ZmKHRoaXMud2luZG93LCJzY3JvbGxzdG9wIiksdGhpcy5fb24odGhpcy53aW5kb3cse3Njcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pfSxfcmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCl7dmFyIGEsYixjLGQ9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpO2QmJihhPXRoaXMuX2dldFNjcm9sbCgpLGI9dGhpcy5fZ2V0TWluU2Nyb2xsKCksYz10aGlzLl9nZXREZWZhdWx0U2Nyb2xsKCksZC5sYXN0U2Nyb2xsPWI+YT9jOmEpfX0sX2RlbGF5ZWRSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX3JlY29yZFNjcm9sbCIpLDEwMCl9LF9nZXRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCl9LF9nZXRNaW5TY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubWluU2Nyb2xsQmFja30sX2dldERlZmF1bHRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGx9LF9maWx0ZXJOYXZpZ2F0ZUV2ZW50czpmdW5jdGlvbihiLGMpe3ZhciBkO2Iub3JpZ2luYWxFdmVudCYmYi5vcmlnaW5hbEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1iLm9yaWdpbmFsRXZlbnQudHlwZS5pbmRleE9mKCJoYXNoY2hhbmdlIik+LTE/Yy5zdGF0ZS5oYXNoOmMuc3RhdGUudXJsLGR8fChkPXRoaXMuX2dldEhhc2goKSksZCYmIiMiIT09ZCYmMCE9PWQuaW5kZXhPZigiIyIrYS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KGQ9bG9jYXRpb24uaHJlZiksdGhpcy5faGFuZGxlTmF2aWdhdGUoZCxjLnN0YXRlKSl9LF9nZXRIYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2h9LGdldEFjdGl2ZVBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVQYWdlfSxfZ2V0SW5pdGlhbENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZmlyc3RQYWdlfSxfZ2V0SGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5fSxfZ2V0QWN0aXZlSGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpfSxfZ2V0RG9jdW1lbnRCYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5nbygtMSl9LGZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLmdvKDEpfSxnbzpmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCliLmhpc3RvcnkuZ28oYyk7ZWxzZXt2YXIgZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LGU9ZCtwYXJzZUludChjLDEwKSxmPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2tbZV0udXJsLGc9Yz49MT8iZm9yd2FyZCI6ImJhY2siO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg9ZSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXg9ZCx0aGlzLmNoYW5nZShmLHtkaXJlY3Rpb246ZyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuInN0cmluZyI9PT1hLnR5cGUoYikmJihiPWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGIpKSxiJiYoYz10aGlzLl9nZXRIaXN0b3J5KCksYj1hLm1vYmlsZS5wYXRoLmlzUGF0aChiKT9iOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitiLHRoaXMuX2dldERvY3VtZW50QmFzZSgpKSxiPT09YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MuaW5pdGlhbERzdCx0aGlzLl9nZXREb2N1bWVudEJhc2UoKSkmJmMuc3RhY2subGVuZ3RoJiZjLnN0YWNrWzBdLnVybCE9PWMuaW5pdGlhbERzdC5yZXBsYWNlKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXksIiIpJiYoYj10aGlzLl9nZXRJbml0aWFsQ29udGVudCgpKSksYnx8dGhpcy5fZ2V0SW5pdGlhbENvbnRlbnQoKX0sX2hhbmRsZURpYWxvZzpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj10aGlzLmdldEFjdGl2ZVBhZ2UoKTtyZXR1cm4gZiYmIWYuaGFzQ2xhc3MoInVpLWRpYWxvZyIpPygiYmFjayI9PT1jLmRpcmVjdGlvbj90aGlzLmJhY2soKTp0aGlzLmZvcndhcmQoKSwhMSk6KGQ9Yy5wYWdlVXJsLGU9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpLGEuZXh0ZW5kKGIse3JvbGU6ZS5yb2xlLHRyYW5zaXRpb246ZS50cmFuc2l0aW9uLHJldmVyc2U6ImJhY2siPT09Yy5kaXJlY3Rpb259KSxkKX0sX2hhbmRsZU5hdmlnYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGU9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYiksZj10aGlzLl9nZXRIaXN0b3J5KCksZz0wPT09Zi5zdGFjay5sZW5ndGg/Im5vbmUiOmQsaD17Y2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMCxyZXZlcnNlOiJiYWNrIj09PWMuZGlyZWN0aW9ufTthLmV4dGVuZChoLGMse3RyYW5zaXRpb246KGYuZ2V0TGFzdCgpfHx7fSkudHJhbnNpdGlvbnx8Z30pLGYuYWN0aXZlSW5kZXg+MCYmZS5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiZmLmluaXRpYWxEc3QhPT1lJiYoZT10aGlzLl9oYW5kbGVEaWFsb2coaCxjKSxlPT09ITEpfHx0aGlzLl9jaGFuZ2VDb250ZW50KHRoaXMuX2hhbmRsZURlc3RpbmF0aW9uKGUpLGgpfSxfY2hhbmdlQ29udGVudDpmdW5jdGlvbihiLGMpe2EubW9iaWxlLmNoYW5nZVBhZ2UoYixjKX0sX2dldEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuYmFzZX0sX2dldE5zOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5zfSxfZW5oYW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnBhZ2Uoe3JvbGU6Yn0pfSxfaW5jbHVkZTpmdW5jdGlvbihhLGIpe2EuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9lbmhhbmNlKGEsYi5yb2xlKSxhLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitlKyInXSIpLDA9PT1jLmxlbmd0aCYmZSYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcigiIyIrZSkpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGUpLmpxbURhdGEoInVybCIsZSkpLDA9PT1jLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGluZygpfSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZ3x8KHRoaXMuX2xvYWRNc2c9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJzaG93IixjLGQsZSksdGhpcy5fbG9hZE1zZz0wfSx0aGlzKSxiKSl9LF9oaWRlTG9hZGluZzpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkTXNnKSx0aGlzLl9sb2FkTXNnPTAsdGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJoaWRlIil9LF9zaG93RXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlTG9hZGluZygpLHRoaXMuX3Nob3dMb2FkaW5nKDAsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9oaWRlTG9hZGluZyIpLDE1MDApfSxfcGFyc2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPWEoIjxkaXY+PC9kaXY+Iik7cmV0dXJuIGUuZ2V0KDApLmlubmVySFRNTD1iLGQ9ZS5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKSxkLmxlbmd0aHx8KGQ9YSgiPGRpdiBkYXRhLSIrdGhpcy5fZ2V0TnMoKSsicm9sZT0ncGFnZSc+IisoYi5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksZC5hdHRyKCJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsIixhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoYykpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJleHRlcm5hbC1wYWdlIiwhMCksZH0sX3NldExvYWRlZFRpdGxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDE7ZCYmIWIuanFtRGF0YSgidGl0bGUiKSYmKGQ9YSgiPGRpdj4iK2QrIjwvZGl2PiIpLnRleHQoKSxiLmpxbURhdGEoInRpdGxlIixkKSl9LF9pc1Jld3JpdGFibGVCYXNlVGFnOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZ30sX2NyZWF0ZURhdGFVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChiKX0sX2NyZWF0ZUZpbGVVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYil9LF90cmlnZ2VyV2l0aERlcHJlY2F0ZWQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuRXZlbnQoInBhZ2UiK2IpLGY9YS5FdmVudCh0aGlzLndpZGdldE5hbWUrYik7cmV0dXJuKGR8fHRoaXMuZWxlbWVudCkudHJpZ2dlcihlLGMpLHRoaXMuZWxlbWVudC50cmlnZ2VyKGYsYykse2RlcHJlY2F0ZWRFdmVudDplLGV2ZW50OmZ9fSxfbG9hZFN1Y2Nlc3M6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGc9dGhpcy5fY3JlYXRlRmlsZVVybChiKSxoPXRoaXMuX2NyZWF0ZURhdGFVcmwoYik7cmV0dXJuIGEucHJveHkoZnVuY3Rpb24oaSxqLGspe3ZhciBsLG09bmV3IFJlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIit0aGlzLl9nZXROcygpKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiksbj1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTttLnRlc3QoaSkmJlJlZ0V4cC4kMSYmbi50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGc9YS5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSxlLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnNldChnKSxsPXRoaXMuX3BhcnNlKGksZyksdGhpcy5fc2V0TG9hZGVkVGl0bGUobCxpKSxjLnhocj1rLGMudGV4dFN0YXR1cz1qLGMucGFnZT1sLGMuY29udGVudD1sLHRoaXMuX3RyaWdnZXIoImxvYWQiLGQsYykmJih0aGlzLl9pc1Jld3JpdGFibGVCYXNlVGFnKCkmJmwmJnRoaXMuX2dldEJhc2UoKS5yZXdyaXRlKGcsbCksdGhpcy5faW5jbHVkZShsLGUpLGIuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihsPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiW2RhdGEtIit0aGlzLl9nZXROcygpKyJ1cmw9JyIraCsiJ10iKSksZS5zaG93TG9hZE1zZyYmdGhpcy5faGlkZUxvYWRpbmcoKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigicGFnZWxvYWQiKSxmLnJlc29sdmUoYixlLGwpKX0sdGhpcyl9LF9sb2FkRGVmYXVsdHM6e3R5cGU6ImdldCIsZGF0YTpkLHJlbG9hZFBhZ2U6ITEscmVsb2FkOiExLHJvbGU6ZCxzaG93TG9hZE1zZzohMSxsb2FkTXNnRGVsYXk6NTB9LGxvYWQ6ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGcsaCxpPWMmJmMuZGVmZXJyZWR8fGEuRGVmZXJyZWQoKSxqPWEuZXh0ZW5kKHt9LHRoaXMuX2xvYWREZWZhdWx0cyxjKSxrPW51bGwsbD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSk7cmV0dXJuIGoucmVsb2FkPWoucmVsb2FkUGFnZSxqLmRhdGEmJiJnZXQiPT09ai50eXBlJiYobD1hLm1vYmlsZS5wYXRoLmFkZFNlYXJjaFBhcmFtcyhsLGouZGF0YSksai5kYXRhPWQpLGouZGF0YSYmInBvc3QiPT09ai50eXBlJiYoai5yZWxvYWQ9ITApLGU9dGhpcy5fY3JlYXRlRmlsZVVybChsKSxmPXRoaXMuX2NyZWF0ZURhdGFVcmwobCksaz10aGlzLl9maW5kKGwpLDA9PT1rLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShlKSYmIWEubW9iaWxlLnBhdGguaXNGaXJzdFBhZ2VVcmwoZSk/dm9pZCBpLnJlamVjdChsLGopOih0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxrLmxlbmd0aCYmIWoucmVsb2FkPyh0aGlzLl9lbmhhbmNlKGssai5yb2xlKSxpLnJlc29sdmUobCxqLGspLHZvaWQoai5wcmVmZXRjaHx8dGhpcy5fZ2V0QmFzZSgpLnNldChiKSkpOihoPXt1cmw6YixhYnNVcmw6bCxkYXRhVXJsOmYsZGVmZXJyZWQ6aSxvcHRpb25zOmp9LGc9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmVsb2FkIixoKSxnLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zy5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT92b2lkIDA6KGouc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dMb2FkaW5nKGoubG9hZE1zZ0RlbGF5KSxqLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzfHxhLm1vYmlsZS5wYXRoLmlzU2FtZURvbWFpbihhLm1vYmlsZS5wYXRoLmRvY3VtZW50VXJsLGwpP3ZvaWQgYS5hamF4KHt1cmw6ZSx0eXBlOmoudHlwZSxkYXRhOmouZGF0YSxjb250ZW50VHlwZTpqLmNvbnRlbnRUeXBlLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOnRoaXMuX2xvYWRTdWNjZXNzKGwsaCxqLGkpLGVycm9yOnRoaXMuX2xvYWRFcnJvcihsLGgsaixpKX0pOnZvaWQgaS5yZWplY3QobCxqKSkpKX0sX2xvYWRFcnJvcjpmdW5jdGlvbihiLGMsZCxlKXtyZXR1cm4gYS5wcm94eShmdW5jdGlvbihmLGcsaCl7dGhpcy5fZ2V0QmFzZSgpLnNldChhLm1vYmlsZS5wYXRoLmdldCgpKSxjLnhocj1mLGMudGV4dFN0YXR1cz1nLGMuZXJyb3JUaHJvd249aDt2YXIgaT10aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImxvYWRmYWlsZWQiLGMpO2kuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxpLmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZC5zaG93TG9hZE1zZyYmdGhpcy5fc2hvd0Vycm9yKCksZS5yZWplY3QoYixkKSl9LHRoaXMpfSxfZ2V0VHJhbnNpdGlvbkhhbmRsZXI6ZnVuY3Rpb24oYil7cmV0dXJuIGI9YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksYS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW2JdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXJ9LF90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50czpmdW5jdGlvbihiLGMsZCl7dmFyIGU9ITE7ZD1kfHwiIixjJiYoYlswXT09PWNbMF0mJihlPSEwKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCsiaGlkZSIse25leHRQYWdlOmIsc2FtZVBhZ2U6ZX0sYykpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChkKyJzaG93Iix7cHJldlBhZ2U6Y3x8YSgiIil9LGIpfSxfY3NzVHJhbnNpdGlvbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPWQudHJhbnNpdGlvbixoPWQucmV2ZXJzZSxpPWQuZGVmZXJyZWQ7dGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHMoYixjLCJiZWZvcmUiKSx0aGlzLl9oaWRlTG9hZGluZygpLGU9dGhpcy5fZ2V0VHJhbnNpdGlvbkhhbmRsZXIoZyksZj1uZXcgZShnLGgsYixjKS50cmFuc2l0aW9uKCksZi5kb25lKGZ1bmN0aW9uKCl7aS5yZXNvbHZlLmFwcGx5KGksYXJndW1lbnRzKX0pLGYuZG9uZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHMoYixjKX0sdGhpcykpfSxfcmVsZWFzZVRyYW5zaXRpb25Mb2NrOmZ1bmN0aW9uKCl7Zj0hMSxlLmxlbmd0aD4wJiZhLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KG51bGwsZS5wb3AoKSl9LF9yZW1vdmVBY3RpdmVMaW5rQ2xhc3M6ZnVuY3Rpb24oYil7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKGIpfSxfbG9hZFVybDpmdW5jdGlvbihiLGMsZCl7ZC50YXJnZXQ9YixkLmRlZmVycmVkPWEuRGVmZXJyZWQoKSx0aGlzLmxvYWQoYixkKSxkLmRlZmVycmVkLmRvbmUoYS5wcm94eShmdW5jdGlvbihhLGIsZCl7Zj0hMSxiLmFic1VybD1jLmFic1VybCx0aGlzLnRyYW5zaXRpb24oZCxjLGIpfSx0aGlzKSksZC5kZWZlcnJlZC5mYWlsKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoITApLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgiY2hhbmdlZmFpbGVkIixjKX0sdGhpcykpfSxfdHJpZ2dlclBhZ2VCZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlY2hhbmdlIik7cmV0dXJuIGEuZXh0ZW5kKGMse3RvUGFnZTpiLG9wdGlvbnM6ZH0pLGMuYWJzVXJsPSJzdHJpbmciPT09YS50eXBlKGIpP2EubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGIsdGhpcy5fZmluZEJhc2VXaXRoRGVmYXVsdCgpKTpkLmFic1VybCx0aGlzLmVsZW1lbnQudHJpZ2dlcihlLGMpLGUuaXNEZWZhdWx0UHJldmVudGVkKCk/ITE6ITB9LGNoYW5nZTpmdW5jdGlvbihiLGMpe2lmKGYpcmV0dXJuIHZvaWQgZS51bnNoaWZ0KGFyZ3VtZW50cyk7dmFyIGQ9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxjKSxnPXt9O2QuZnJvbVBhZ2U9ZC5mcm9tUGFnZXx8dGhpcy5hY3RpdmVQYWdlLHRoaXMuX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlKGIsZyxkKSYmKGI9Zy50b1BhZ2UsInN0cmluZyI9PT1hLnR5cGUoYik/KGY9ITAsdGhpcy5fbG9hZFVybChiLGcsZCkpOnRoaXMudHJhbnNpdGlvbihiLGcsZCkpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGIsZyxoKXt2YXIgaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2O2lmKGYpcmV0dXJuIHZvaWQgZS51bnNoaWZ0KFtiLGhdKTtpZih0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsaCkmJih2PXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgiYmVmb3JldHJhbnNpdGlvbiIsZyksIXYuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhdi5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpe2lmKGY9ITAsYlswXSE9PWEubW9iaWxlLmZpcnN0UGFnZVswXXx8aC5kYXRhVXJsfHwoaC5kYXRhVXJsPWEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCksaT1oLmZyb21QYWdlLGo9aC5kYXRhVXJsJiZhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoaC5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSxrPWosbD1hLm1vYmlsZS5wYXRoLmdldEZpbGVQYXRoKGopLG09YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKSxuPTA9PT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LG89MCxwPWMudGl0bGUscT0oImRpYWxvZyI9PT1oLnJvbGV8fCJkaWFsb2ciPT09Yi5qcW1EYXRhKCJyb2xlIikpJiZiLmpxbURhdGEoImRpYWxvZyIpIT09ITAsaSYmaVswXT09PWJbMF0mJiFoLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiBmPSExLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgidHJhbnNpdGlvbiIsZyksdGhpcy5lbGVtZW50LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGcpLHZvaWQoaC5mcm9tSGFzaENoYW5nZSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5kaXJlY3Qoe3VybDpqfSkpO2IucGFnZSh7cm9sZTpoLnJvbGV9KSxoLmZyb21IYXNoQ2hhbmdlJiYobz0iYmFjayI9PT1oLmRpcmVjdGlvbj8tMToxKTt0cnl7Yy5hY3RpdmVFbGVtZW50JiYiYm9keSIhPT1jLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9hKGMuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKHcpe31yPSExLHEmJm0mJihtLnVybCYmbS51cmwuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT4tMSYmdGhpcy5hY3RpdmVQYWdlJiYhdGhpcy5hY3RpdmVQYWdlLmhhc0NsYXNzKCJ1aS1kaWFsb2ciKSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleD4wJiYoaC5jaGFuZ2VIYXNoPSExLHI9ITApLGo9bS51cmx8fCIiLGorPSFyJiZqLmluZGV4T2YoIiMiKT4tMT9hLm1vYmlsZS5kaWFsb2dIYXNoS2V5OiIjIithLm1vYmlsZS5kaWFsb2dIYXNoS2V5LDA9PT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4JiZqPT09YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5pbml0aWFsRHN0JiYoais9YS5tb2JpbGUuZGlhbG9nSGFzaEtleSkpLHM9bT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOnAscyYmcD09PWMudGl0bGUmJihwPXMpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIscCksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KG8mJiFuP20udHJhbnNpdGlvbjpkKXx8KHE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhbyYmciYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFhLm1vYmlsZS5wYXRoLmlzUGF0aChqKSYmai5pbmRleE9mKCIjIik8MCYmKGo9IiMiK2opLHQ9e3RyYW5zaXRpb246aC50cmFuc2l0aW9uLHRpdGxlOnAscGFnZVVybDprLHJvbGU6aC5yb2xlfSxoLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUoaix0LCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChqLHQpKSxjLnRpdGxlPXAsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLHRoaXMuYWN0aXZlUGFnZT1iLGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+byx1PWEuRGVmZXJyZWQoKSx0aGlzLl9jc3NUcmFuc2l0aW9uKGIsaSx7dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24scmV2ZXJzZTpoLnJldmVyc2UsZGVmZXJyZWQ6dX0pLHUuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGMsZCxlLGYsaSl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCksaC5kdXBsaWNhdGVDYWNoZWRQYWdlJiZoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCksaXx8YS5tb2JpbGUuZm9jdXNQYWdlKGIpLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJwYWdlY2hhbmdlIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoInRyYW5zaXRpb24iLGcpfSx0aGlzKSl9fSxfZmluZEJhc2VXaXRoRGVmYXVsdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuYWN0aXZlUGFnZSYmYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwodGhpcy5hY3RpdmVQYWdlKTtyZXR1cm4gYnx8YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaH19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKTt2YXIgZT1bXSxmPSExfShhKSxmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSl7Zm9yKDthJiYoInN0cmluZyIhPXR5cGVvZiBhLm5vZGVOYW1lfHwiYSIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX12YXIgZT1hLkRlZmVycmVkKCksZj1hLkRlZmVycmVkKCksZz1hLm1vYmlsZS5wYXRoLmRvY3VtZW50VXJsLGg9bnVsbDthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBkO3JldHVybiBjPWN8fHt9LGQ9Yy5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGMuZGVmZXJyZWQ9YS5EZWZlcnJlZCgpLGQucGFnZWNvbnRhaW5lcigibG9hZCIsYixjKSxjLmRlZmVycmVkLnByb21pc2UoKX0sYS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBjPWIubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmYyYmYy5hcHAmJmMuYXBwLmJhY2tIaXN0b3J5P2MuYXBwLmJhY2tIaXN0b3J5KCk6YS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCJiYWNrIil9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO3JldHVybiBiLmxlbmd0aD92b2lkIGIuZm9jdXMoKTp2b2lkKGMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCkpfSxhLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbnx8ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGEubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYixjKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoImNoYW5nZSIsYixjKX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpjLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmMsZHVwbGljYXRlQ2FjaGVkUGFnZTpjLHBhZ2VDb250YWluZXI6YyxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmMsZnJvbVBhZ2U6YyxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixpLGo9ITA7cmV0dXJuIWEubW9iaWxlLmFqYXhFbmFibGVkfHxiLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fCFiLmpxbUhpamFja2FibGUoKS5sZW5ndGh8fGIuYXR0cigidGFyZ2V0Iik/ITE6KGQ9aCYmaC5hdHRyKCJmb3JtYWN0aW9uIil8fGIuYXR0cigiYWN0aW9uIiksaT0oYi5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYiksImdldCI9PT1pJiYoZD1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGQpLmhyZWZOb1NlYXJjaCksZD09PWEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gmJihkPWcuaHJlZk5vU2VhcmNoKSksZD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShkLGEubW9iaWxlLmdldENsb3Nlc3RCYXNlVXJsKGIpKSxhLm1vYmlsZS5wYXRoLmlzRXh0ZXJuYWwoZCkmJiFhLm1vYmlsZS5wYXRoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KGcsZCk/ITE6KGN8fChlPWIuc2VyaWFsaXplQXJyYXkoKSxoJiZoWzBdLmZvcm09PT1iWzBdJiYoZj1oLmF0dHIoIm5hbWUiKSxmJiYoYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5uYW1lPT09Zj8oZj0iIiwhMSk6dm9pZCAwfSksZiYmZS5wdXNoKHtuYW1lOmYsdmFsdWU6aC5hdHRyKCJ2YWx1ZSIpfSkpKSxqPXt1cmw6ZCxvcHRpb25zOnt0eXBlOmksZGF0YTphLnBhcmFtKGUpLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT1iLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksaikpfTthLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGM9ZShhKHRoaXMpKSxjJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShjLnVybCxjLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgYyxmLGc9Yi50YXJnZXQsaT0hMTtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYoaD1hKGcpLGEuZGF0YShnLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFlKGEoZykuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47Zy5wYXJlbnROb2RlJiYoZz1nLnBhcmVudE5vZGUpfWVsc2V7aWYoZz1kKGcpLCFnfHwiIyI9PT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGcuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWEoZykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmcuY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP2cucGFyZW50Tm9kZSYmKGY9YS5kYXRhKGcucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6Zj1hLmRhdGEoZywiYnV0dG9uRWxlbWVudHMiKSxmP2c9Zi5vdXRlcjppPSEwLGM9YShnKSxpJiYoYz1jLmNsb3Nlc3QoIi51aS1idG4iKSksYy5sZW5ndGg+MCYmIWMuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikmJihhLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoITApLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rPWMsYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJjbGljayIsZnVuY3Rpb24oZSl7aWYoYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGYsaCxpLGosayxsLG0sbj1kKGUudGFyZ2V0KSxvPWEobikscD1mdW5jdGlvbigpe2Iuc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyghMCl9LDIwMCl9O2lmKGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rJiZhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua1swXT09PWUudGFyZ2V0LnBhcmVudE5vZGUmJnAoKSxuJiYhKGUud2hpY2g+MSkmJm8uanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYoby5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gYS5tb2JpbGUuYmFjaygpLCExO2lmKGY9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwobyksaD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShvLmF0dHIoImhyZWYiKXx8IiMiLGYpLCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWEubW9iaWxlLnBhdGguaXNFbWJlZGRlZFBhZ2UoaCkpcmV0dXJuIHZvaWQgcCgpO2lmKC0xIT09aC5zZWFyY2goIiMiKSl7aWYoaD1oLnJlcGxhY2UoL1teI10qIy8sIiIpLCFoKXJldHVybiB2b2lkIGUucHJldmVudERlZmF1bHQoKTtoPWEubW9iaWxlLnBhdGguaXNQYXRoKGgpP2EubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGgsZik6YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2gsZy5ocmVmTm9IYXNoKX1pZihpPW8uaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8by5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxvLmlzKCJbdGFyZ2V0XSIpLGo9aXx8YS5tb2JpbGUucGF0aC5pc0V4dGVybmFsKGgpJiYhYS5tb2JpbGUucGF0aC5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdChnLGgpKXJldHVybiB2b2lkIHAoKTtrPW8uanFtRGF0YSgidHJhbnNpdGlvbiIpLGw9InJldmVyc2UiPT09by5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8by5qcW1EYXRhKCJiYWNrIiksbT1vLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGMsYS5tb2JpbGUuY2hhbmdlUGFnZShoLHt0cmFuc2l0aW9uOmsscmV2ZXJzZTpsLHJvbGU6bSxsaW5rOm99KSxlLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGZ1bmN0aW9uKCl7Zj9mLmRvbmUoYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KTphLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKX0pLGEubW9iaWxlLndpbmRvdy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtlLnJlc29sdmUoKX0pLGEubW9iaWxlLndpbmRvdy5sb2FkKGZ1bmN0aW9uKCl7Zi5yZXNvbHZlKCksZj1udWxsfSksYS53aGVuKGUsYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5UcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3RvUHJlQ2xhc3M6IiB1aS1wYWdlLXByZS1pbiIsaW5pdDpmdW5jdGlvbihiLGMsZCxlKXthLmV4dGVuZCh0aGlzLHtuYW1lOmIscmV2ZXJzZTpjLCR0bzpkLCRmcm9tOmUsZGVmZXJyZWQ6bmV3IGEuRGVmZXJyZWR9KX0sY2xlYW5Gcm9tOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK3RoaXMubmFtZSkuaGVpZ2h0KCIiKX0sYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7fSxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7fSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbigpe30sZG9uZUluOmZ1bmN0aW9uKCl7dGhpcy5iZWZvcmVEb25lSW4oKSx0aGlzLiR0by5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIit0aGlzLm5hbWUpLmhlaWdodCgiIiksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09dGhpcy50b1Njcm9sbCYmdGhpcy5zY3JvbGxQYWdlKCksdGhpcy5zZXF1ZW50aWFsfHx0aGlzLiR0by5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLHRoaXMuZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm5hbWUsdGhpcy5yZXZlcnNlLHRoaXMuJHRvLHRoaXMuJGZyb20sITApCn0sZG9uZU91dDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmJlZm9yZURvbmVPdXQoKSx0aGlzLnN0YXJ0SW4oYSxiLGMsZCl9LGhpZGVJbjpmdW5jdGlvbihhKXt0aGlzLiR0by5jc3MoInotaW5kZXgiLC0xMCksYS5jYWxsKHRoaXMpLHRoaXMuJHRvLmNzcygiei1pbmRleCIsIiIpfSxzY3JvbGxQYWdlOmZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsKGEubW9iaWxlLmhpZGVVcmxCYXJ8fHRoaXMudG9TY3JvbGwhPT1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkmJmIuc2Nyb2xsVG8oMCx0aGlzLnRvU2Nyb2xsKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LHN0YXJ0SW46ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5oaWRlSW4oZnVuY3Rpb24oKXt0aGlzLiR0by5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrdGhpcy50b1ByZUNsYXNzKSxlfHxhLm1vYmlsZS5mb2N1c1BhZ2UodGhpcy4kdG8pLHRoaXMuJHRvLmhlaWdodChiK3RoaXMudG9TY3JvbGwpLGR8fHRoaXMuc2Nyb2xsUGFnZSgpfSksdGhpcy4kdG8ucmVtb3ZlQ2xhc3ModGhpcy50b1ByZUNsYXNzKS5hZGRDbGFzcyh0aGlzLm5hbWUrIiBpbiAiK2MpLGQ/dGhpcy5kb25lSW4oKTp0aGlzLiR0by5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5kb25lSW4oKX0sdGhpcykpfSxzdGFydE91dDpmdW5jdGlvbihiLGMsZCl7dGhpcy5iZWZvcmVTdGFydE91dChiLGMsZCksdGhpcy4kZnJvbS5oZWlnaHQoYithLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKHRoaXMubmFtZSsiIG91dCIrYyl9LHRvZ2dsZVZpZXdwb3J0Q2xhc3M6ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK3RoaXMubmFtZSl9LHRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMucmV2ZXJzZT8iIHJldmVyc2UiOiIiLGQ9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksZT1hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT0hMSYmYS5tb2JpbGUud2luZG93LndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoO3JldHVybiB0aGlzLnRvU2Nyb2xsPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsYj0hYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zfHwhYS5zdXBwb3J0LmNzc0FuaW1hdGlvbnN8fGV8fCF0aGlzLm5hbWV8fCJub25lIj09PXRoaXMubmFtZXx8TWF0aC5tYXgoYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMudG9TY3JvbGwpPmEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSx0aGlzLnRvZ2dsZVZpZXdwb3J0Q2xhc3MoKSx0aGlzLiRmcm9tJiYhYj90aGlzLnN0YXJ0T3V0KGQsYyxiKTp0aGlzLmRvbmVPdXQoZCxjLGIsITApLHRoaXMuZGVmZXJyZWQucHJvbWlzZSgpfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLlNlcmlhbFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmV4dGVuZChhLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uLnByb3RvdHlwZSxhLm1vYmlsZS5UcmFuc2l0aW9uLnByb3RvdHlwZSx7c2VxdWVudGlhbDohMCxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7dGhpcy4kZnJvbSYmdGhpcy5jbGVhbkZyb20oKX0sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oYixjLGQpe3RoaXMuJGZyb20uYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZG9uZU91dChiLGMsZCl9LHRoaXMpKX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmV4dGVuZChhLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITEsYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbSYmdGhpcy5jbGVhbkZyb20oKX0sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZG9uZU91dChhLGIsYyl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7cmV0dXJuIDMqYS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCl9O2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17c2VxdWVudGlhbDphLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uLHNpbXVsdGFuZW91czphLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbn0sYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zZXF1ZW50aWFsLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGImJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0mJihiPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0pLGJ9LGEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8Yn0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbGlwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MucG9wPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91cyxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWZhZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGV1cD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS5kZWdyYWRlSW5wdXRzPXtjb2xvcjohMSxkYXRlOiExLGRhdGV0aW1lOiExLCJkYXRldGltZS1sb2NhbCI6ITEsZW1haWw6ITEsbW9udGg6ITEsbnVtYmVyOiExLHJhbmdlOiJudW1iZXIiLHNlYXJjaDoidGV4dCIsdGVsOiExLHRpbWU6ITEsdXJsOiExLHdlZWs6ITF9LGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz1hLm1vYmlsZS5kZWdyYWRlSW5wdXRzLGEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW49ZnVuY3Rpb24oYil7Yj1hKGIpLGIuZmluZCgiaW5wdXQiKS5ub3QoYS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmPWEodGhpcyksZz10aGlzLmdldEF0dHJpYnV0ZSgidHlwZSIpLGg9YS5tb2JpbGUuZGVncmFkZUlucHV0c1tnXXx8InRleHQiO2EubW9iaWxlLmRlZ3JhZGVJbnB1dHNbZ10mJihiPWEoIjxkaXY+IikuaHRtbChmLmNsb25lKCkpLmh0bWwoKSxjPWIuaW5kZXhPZigiIHR5cGU9Iik+LTEsZD1jPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LyxlPScgdHlwZT0iJytoKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytnKyciJysoYz8iIjoiPiIpLGYucmVwbGFjZVdpdGgoYi5yZXBsYWNlKGQsZSkpKX0pfX0oYSksZnVuY3Rpb24oYSxiLGMpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUucGFnZSx7b3B0aW9uczp7Y2xvc2VCdG46ImxlZnQiLGNsb3NlQnRuVGV4dDoiQ2xvc2UiLG92ZXJsYXlUaGVtZToiYSIsY29ybmVyczohMCxkaWFsb2c6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5kaWFsb2cmJihhLmV4dGVuZCh0aGlzLHtfaW5uZXI6dGhpcy5lbGVtZW50LmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX3NldENsb3NlQnRuKHRoaXMub3B0aW9ucy5jbG9zZUJ0bikpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kaWFsb2ciKS53cmFwSW5uZXIoYSgiPGRpdi8+Iix7cm9sZToiZGlhbG9nIiwiY2xhc3MiOiJ1aS1kaWFsb2ctY29udGFpbiB1aS1vdmVybGF5LXNoYWRvdyIrKHRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpfSkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlLGY9dGhpcy5vcHRpb25zO2IuY29ybmVycyE9PWMmJnRoaXMuX2lubmVyLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIiwhIWIuY29ybmVycyksYi5vdmVybGF5VGhlbWUhPT1jJiZhLm1vYmlsZS5hY3RpdmVQYWdlWzBdPT09dGhpcy5lbGVtZW50WzBdJiYoZi5vdmVybGF5VGhlbWU9Yi5vdmVybGF5VGhlbWUsdGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKSksYi5jbG9zZUJ0blRleHQhPT1jJiYoZD1mLmNsb3NlQnRuLGU9Yi5jbG9zZUJ0blRleHQpLGIuY2xvc2VCdG4hPT1jJiYoZD1iLmNsb3NlQnRuKSxkJiZ0aGlzLl9zZXRDbG9zZUJ0bihkLGUpLHRoaXMuX3N1cGVyKGIpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLm9wdGlvbnMuZGlhbG9nPyh0aGlzLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKSx0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQodGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSkpOnRoaXMuX3N1cGVyKCl9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj0ibGVmdCI9PT1iPyJsZWZ0IjoicmlnaHQiPT09Yj8icmlnaHQiOiJub25lIiwibm9uZSI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcygidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi0iK2IpLGMmJmUudGV4dChjKSk6KGQ9dGhpcy5faW5uZXIuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maXJzdCgpLGU9YSgiPGE+PC9hPiIse2hyZWY6IiMiLCJjbGFzcyI6InVpLWJ0biB1aS1jb3JuZXItYWxsIHVpLWljb24tZGVsZXRlIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1idG4tIitifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiLCJiYWNrIikudGV4dChjfHx0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0fHwiIikucHJlcGVuZFRvKGQpKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIse29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITB9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSExfSxfaGFuZGxlVkNsaWNrU3VibWl0OmZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PWIudHlwZT8iYSI6ImZvcm0iKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz17fSxjWyJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iXT0oYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKXx8e30pLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uLGNbImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIl09InJldmVyc2UiLGQuYXR0cihjKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7Yi5hZGRDbGFzcygidWktZGlhbG9nIikud3JhcElubmVyKGEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciKyhjLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIil9KSksYS5leHRlbmQodGhpcyx7X2lzQ2xvc2VhYmxlOiExLF9pbm5lcjpiLmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLl9vbihiLHt2Y2xpY2s6Il9oYW5kbGVWQ2xpY2tTdWJtaXQiLHN1Ym1pdDoiX2hhbmRsZVZDbGlja1N1Ym1pdCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KSx0aGlzLl9zZXRDbG9zZUJ0bihjLmNsb3NlQnRuKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX3NldENsb3NlQnRuOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbjtiPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCI9PT1iPyJyaWdodCI6Im5vbmUiLCJub25lIj09PWI/ZSYmKGUucmVtb3ZlKCksZT1udWxsKTplPyhlLnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLSIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCksZT1hKCI8YT48L2E+Iix7cm9sZToiYnV0dG9uIixocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLSIrYn0pLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8IiIpLnByZXBlbmRUbyhkKSx0aGlzLl9vbihlLHtjbGljazoiY2xvc2UifSkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTt0aGlzLl9pc0Nsb3NlYWJsZSYmKHRoaXMuX2lzQ2xvc2VhYmxlPSExLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZiLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOmEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcigiYmFjayIpKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPS8oW0EtWl0pL2csZD1mdW5jdGlvbihhKXtyZXR1cm4idWktYnRuLWljb24tIisobnVsbD09PWE/ImxlZnQiOmEpfTthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIix7b3B0aW9uczp7ZW5oYW5jZWQ6ITEsZXhwYW5kQ3VlVGV4dDpudWxsLGNvbGxhcHNlQ3VlVGV4dDpudWxsLGNvbGxhcHNlZDohMCxoZWFkaW5nOiJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmQiLGNvbGxhcHNlZEljb246bnVsbCxleHBhbmRlZEljb246bnVsbCxpY29ucG9zOm51bGwsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpbnNldDpudWxsLGNvcm5lcnM6bnVsbCxtaW5pOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz17YWNjb3JkaW9uOmIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JyksOmpxbURhdGEocm9sZT0nY29sbGFwc2libGVzZXQnKSIrKGEubW9iaWxlLmNvbGxhcHNpYmxlc2V0PyIsIDptb2JpbGUtY29sbGFwc2libGVzZXQiOiIiKSkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpfTt0aGlzLl91aT1jLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyhjLmhlYWRpbmc9YSgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciLHRoaXMuZWxlbWVudFswXSksYy5jb250ZW50PWMuaGVhZGluZy5uZXh0KCksYy5hbmNob3I9YSgiYSIsYy5oZWFkaW5nWzBdKS5maXJzdCgpLGMuc3RhdHVzPWMuYW5jaG9yLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKSk6dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX29uKGMuaGVhZGluZyx7dGFwOmZ1bmN0aW9uKCl7Yy5oZWFkaW5nLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoIWMuaGVhZGluZy5oYXNDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKSksYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9fSl9LF9nZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGU9dGhpcy5fdWkuYWNjb3JkaW9uLGY9dGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0O2I9YS5leHRlbmQoe30sYiksZS5sZW5ndGgmJiFmJiYodGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0PWY9ZS5kYXRhKCJtb2JpbGUtY29sbGFwc2libGVzZXQiKSk7Zm9yKGQgaW4gYiliW2RdPW51bGwhPWJbZF0/YltkXTpmP2Yub3B0aW9uc1tkXTplLmxlbmd0aD9hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSxkLnJlcGxhY2UoYywiLSQxIikudG9Mb3dlckNhc2UoKSk6bnVsbCxudWxsPT1iW2RdJiYoYltkXT1hLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0c1tkXSk7cmV0dXJuIGJ9LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiPyJub25lIj09PWI/IiI6YStiOiIifSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBlLGY9dGhpcy5fcmVuZGVyZWRPcHRpb25zLGc9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixmLmNvbnRlbnRUaGVtZSk7cmV0dXJuIGIuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlICIrKGYuaW5zZXQ/InVpLWNvbGxhcHNpYmxlLWluc2V0ICI6IiIpKyhmLmluc2V0JiZmLmNvcm5lcnM/InVpLWNvcm5lci1hbGwgIjoiIikrKGc/InVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50ICI6IiIpKSxjLm9yaWdpbmFsSGVhZGluZz1iLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5oZWFkaW5nKS5maXJzdCgpLGMuY29udGVudD1iLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCAiK2crIic+PC9kaXY+IikuY2hpbGRyZW4oIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksYy5oZWFkaW5nPWMub3JpZ2luYWxIZWFkaW5nLGMuaGVhZGluZy5pcygibGVnZW5kIikmJihjLmhlYWRpbmc9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2MuaGVhZGluZy5odG1sKCkrIjwvZGl2PiIpLGMucGxhY2Vob2xkZXI9YSgiPGRpdj48IS0tIHBsYWNlaG9sZGVyIGZvciBsZWdlbmQgLS0+PC9kaXY+IikuaW5zZXJ0QmVmb3JlKGMub3JpZ2luYWxIZWFkaW5nKSxjLm9yaWdpbmFsSGVhZGluZy5yZW1vdmUoKSksZT1mLmNvbGxhcHNlZD9mLmNvbGxhcHNlZEljb24/InVpLWljb24tIitmLmNvbGxhcHNlZEljb246IiI6Zi5leHBhbmRlZEljb24/InVpLWljb24tIitmLmV4cGFuZGVkSWNvbjoiIixjLnN0YXR1cz1hKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKSxjLmFuY2hvcj1jLmhlYWRpbmcuZGV0YWNoKCkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoYy5zdGF0dXMpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWJ0biAiKyhlP2UrIiAiOiIiKSsoZT9kKGYuaWNvbnBvcykrIiAiOiIiKSt0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsZi50aGVtZSkrIiAiKyhmLm1pbmk/InVpLW1pbmkgIjoiIikpLGMuaGVhZGluZy5pbnNlcnRCZWZvcmUoYy5jb250ZW50KSx0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSh0aGlzLm9wdGlvbnMuY29sbGFwc2VkKSxjfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fYXBwbHlPcHRpb25zKHRoaXMub3B0aW9ucyksdGhpcy5fcmVuZGVyZWRPcHRpb25zPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX2FwcGx5T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxlLGYsZyxoLGk9dGhpcy5lbGVtZW50LGo9dGhpcy5fcmVuZGVyZWRPcHRpb25zLGs9dGhpcy5fdWksbD1rLmFuY2hvcixtPWsuc3RhdHVzLG49dGhpcy5fZ2V0T3B0aW9ucyhhKTthLmNvbGxhcHNlZCE9PWImJnRoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKGEuY29sbGFwc2VkKSxjPWkuaGFzQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIpLGM/bi5leHBhbmRDdWVUZXh0IT09YiYmbS50ZXh0KG4uZXhwYW5kQ3VlVGV4dCk6bi5jb2xsYXBzZUN1ZVRleHQhPT1iJiZtLnRleHQobi5jb2xsYXBzZUN1ZVRleHQpLGg9bi5jb2xsYXBzZWRJY29uIT09Yj9uLmNvbGxhcHNlZEljb24hPT0hMTpqLmNvbGxhcHNlZEljb24hPT0hMSwobi5pY29ucG9zIT09Ynx8bi5jb2xsYXBzZWRJY29uIT09Ynx8bi5leHBhbmRlZEljb24hPT1iKSYmKGwucmVtb3ZlQ2xhc3MoW2Qoai5pY29ucG9zKV0uY29uY2F0KGouZXhwYW5kZWRJY29uP1sidWktaWNvbi0iK2ouZXhwYW5kZWRJY29uXTpbXSkuY29uY2F0KGouY29sbGFwc2VkSWNvbj9bInVpLWljb24tIitqLmNvbGxhcHNlZEljb25dOltdKS5qb2luKCIgIikpLGgmJmwuYWRkQ2xhc3MoW2Qobi5pY29ucG9zIT09Yj9uLmljb25wb3M6ai5pY29ucG9zKV0uY29uY2F0KGM/WyJ1aS1pY29uLSIrKG4uY29sbGFwc2VkSWNvbiE9PWI/bi5jb2xsYXBzZWRJY29uOmouY29sbGFwc2VkSWNvbildOlsidWktaWNvbi0iKyhuLmV4cGFuZGVkSWNvbiE9PWI/bi5leHBhbmRlZEljb246ai5leHBhbmRlZEljb24pXSkuam9pbigiICIpKSksbi50aGVtZSE9PWImJihmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1idG4tIixqLnRoZW1lKSxlPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1idG4tIixuLnRoZW1lKSxsLnJlbW92ZUNsYXNzKGYpLmFkZENsYXNzKGUpKSxuLmNvbnRlbnRUaGVtZSE9PWImJihmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsai5jb250ZW50VGhlbWUpLGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixuLmNvbnRlbnRUaGVtZSksay5jb250ZW50LnJlbW92ZUNsYXNzKGYpLmFkZENsYXNzKGUpKSxuLmluc2V0IT09YiYmKGkudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWluc2V0IixuLmluc2V0KSxnPSEoIW4uaW5zZXR8fCFuLmNvcm5lcnMmJiFqLmNvcm5lcnMpKSxuLmNvcm5lcnMhPT1iJiYoZz0hKCFuLmNvcm5lcnN8fCFuLmluc2V0JiYhai5pbnNldCkpLGchPT1iJiZpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixnKSxuLm1pbmkhPT1iJiZsLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixuLm1pbmkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9hcHBseU9wdGlvbnMoYSksdGhpcy5fc3VwZXIoYSksdGhpcy5fcmVuZGVyZWRPcHRpb25zPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX2hhbmRsZUV4cGFuZENvbGxhcHNlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxkPXRoaXMuX3VpO2Quc3RhdHVzLnRleHQoYj9jLmV4cGFuZEN1ZVRleHQ6Yy5jb2xsYXBzZUN1ZVRleHQpLGQuaGVhZGluZy50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGIpLmZpbmQoImEiKS5maXJzdCgpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrYy5leHBhbmRlZEljb24sIWIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrYy5jb2xsYXBzZWRJY29uLGJ8fGMuZXhwYW5kZWRJY29uPT09Yy5jb2xsYXBzZWRJY29uKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGIpLGQuY29udGVudC50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiLGIpLmF0dHIoImFyaWEtaGlkZGVuIixiKS50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKSx0aGlzLm9wdGlvbnMuY29sbGFwc2VkPWIsdGhpcy5fdHJpZ2dlcihiPyJjb2xsYXBzZSI6ImV4cGFuZCIpfSxleHBhbmQ6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSghMSl9LGNvbGxhcHNlOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoITApfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLGI9dGhpcy5vcHRpb25zO2IuZW5oYW5jZWR8fChhLnBsYWNlaG9sZGVyPyhhLm9yaWdpbmFsSGVhZGluZy5pbnNlcnRCZWZvcmUoYS5wbGFjZWhvbGRlciksYS5wbGFjZWhvbGRlci5yZW1vdmUoKSxhLmhlYWRpbmcucmVtb3ZlKCkpOihhLnN0YXR1cy5yZW1vdmUoKSxhLmhlYWRpbmcucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgdWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKS5jaGlsZHJlbigpLmNvbnRlbnRzKCkudW53cmFwKCkpLGEuYW5jaG9yLmNvbnRlbnRzKCkudW53cmFwKCksYS5jb250ZW50LmNvbnRlbnRzKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZSB1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQgdWktY29sbGFwc2libGUtdGhlbWVkLWNvbnRlbnQgdWktY29sbGFwc2libGUtaW5zZXQgdWktY29ybmVyLWFsbCIpKX19KSxhLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0cz17ZXhwYW5kQ3VlVGV4dDoiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50cyIsY29sbGFwc2VDdWVUZXh0OiIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHMiLGNvbGxhcHNlZEljb246InBsdXMiLGNvbnRlbnRUaGVtZToiaW5oZXJpdCIsZXhwYW5kZWRJY29uOiJtaW51cyIsaWNvbnBvczoibGVmdCIsaW5zZXQ6ITAsY29ybmVyczohMCx0aGVtZToiaW5oZXJpdCIsbWluaTohMX19KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzPXtfZ2V0VmlzaWJsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYj9jPWEubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOihjPWEuZmlsdGVyKCI6dmlzaWJsZSIpLDA9PT1jLmxlbmd0aCYmKGM9YS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIikpKSxjfSxfYWRkRmlyc3RMYXN0Q2xhc3NlczpmdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVDbGFzcygidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZCIpLGIuZXEoMCkuYWRkQ2xhc3MoInVpLWZpcnN0LWNoaWxkIikuZW5kKCkubGFzdCgpLmFkZENsYXNzKCJ1aS1sYXN0LWNoaWxkIiksY3x8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfSxfcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlczpmdW5jdGlvbihhKXthLnJlbW92ZUNsYXNzKCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkIil9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz0iOm1vYmlsZS1jb2xsYXBzaWJsZSwgIithLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3I7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZXNldCIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JyksOmpxbURhdGEocm9sZT0nY29sbGFwc2libGVzZXQnKSIsb3B0aW9uczphLmV4dGVuZCh7ZW5oYW5jZWQ6ITF9LGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzKSxfaGFuZGxlQ29sbGFwc2libGVFeHBhbmQ6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIik7Yy5wYXJlbnQoKS5pcygiOm1vYmlsZS1jb2xsYXBzaWJsZXNldCwgOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKSYmYy5zaWJsaW5ncygiLnVpLWNvbGxhcHNpYmxlOm5vdCgudWktY29sbGFwc2libGUtY29sbGFwc2VkKSIpLmNvbGxhcHNpYmxlKCJjb2xsYXBzZSIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19jbGFzc2VzOiIifSksYy5lbmhhbmNlZHx8KGIuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLGMudGhlbWUpKyIgIisoYy5jb3JuZXJzJiZjLmluc2V0PyJ1aS1jb3JuZXItYWxsICI6IiIpKSx0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3IpLmNvbGxhcHNpYmxlKCkpLHRoaXMuX29uKGIse2NvbGxhcHNpYmxlZXhwYW5kOiJfaGFuZGxlQ29sbGFwc2libGVFeHBhbmQifSl9LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiPyJub25lIj09PWI/IiI6YStiOiIifSxfaW5pdDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goITApLHRoaXMuZWxlbWVudC5jaGlsZHJlbihjKS5maWx0ZXIoIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKSIpLmNvbGxhcHNpYmxlKCJleHBhbmQiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxlPXRoaXMuZWxlbWVudCxmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLGEudGhlbWUpO3JldHVybiBmJiZlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKGYpLGEuaW5zZXQhPT1iJiYoZD0hKCFhLmluc2V0fHwhYS5jb3JuZXJzJiYhdGhpcy5vcHRpb25zLmNvcm5lcnMpKSxhLmNvcm5lcnMhPT1iJiYoZD0hKCFhLmNvcm5lcnN8fCFhLmluc2V0JiYhdGhpcy5vcHRpb25zLmluc2V0KSksZCE9PWImJmUudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGQpLGM9dGhpcy5fc3VwZXIoYSksdGhpcy5lbGVtZW50LmNoaWxkcmVuKCI6bW9iaWxlLWNvbGxhcHNpYmxlIikuY29sbGFwc2libGUoInJlZnJlc2giKSxjfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDt0aGlzLl9yZW1vdmVGaXJzdExhc3RDbGFzc2VzKGEuY2hpbGRyZW4oYykpLGEucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCB1aS1jb3JuZXItYWxsICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsdGhpcy5vcHRpb25zLnRoZW1lKSkuY2hpbGRyZW4oIjptb2JpbGUtY29sbGFwc2libGUiKS5jb2xsYXBzaWJsZSgiZGVzdHJveSIpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgZD10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYyk7dGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yKS5ub3QoIi51aS1jb2xsYXBzaWJsZSIpLmNvbGxhcHNpYmxlKCksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhkLHRoaXMuX2dldFZpc2libGVzKGQsYiksYil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCExKX19LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSl9KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZmllbGRjb250YWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4iKX19KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGMsZCxlPWEodGhpcyksZj1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxnPWUuY2hpbGRyZW4oKSxoPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxpPWYuZ3JpZDtpZighaSlpZihnLmxlbmd0aDw9NSlmb3IoZCBpbiBoKWhbZF09PT1nLmxlbmd0aCYmKGk9ZCk7ZWxzZSBpPSJhIixlLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2M9aFtpXSxlLmFkZENsYXNzKCJ1aS1ncmlkLSIraSksZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxjPjEmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksYz4yJiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGM+MyYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxjPjQmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxlPWQuZmluZCgiYSIpLGY9ZS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7ZC5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJpY29uIiksYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywidGhlbWUiKSxkPSJ1aS1idG4iO2MmJihkKz0iIHVpLWJ0bi0iK2MpLGImJihkKz0iIHVpLWljb24tIitiKyIgdWktYnRuLWljb24tIitmKSxhKHRoaXMpLmFkZENsYXNzKGQpfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGIuaGFzQ2xhc3MoInVpLWRpc2FibGVkIil8fGIuaGFzQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfHwoZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYShjKS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpfSksZC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2UuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGU7YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGljb246ImNhcmF0LXIiLHNwbGl0SWNvbjoiY2FyYXQtciIsc3BsaXRUaGVtZTpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGluc2V0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSIiO2IrPWEub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IjoiIixhLm9wdGlvbnMuaW5zZXQmJihiKz1hLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLGIrPWEub3B0aW9ucy5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSxhLmVsZW1lbnQuYWRkQ2xhc3MoIiB1aS1saXN0dmlldyIrYiksYS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Zm9yKGVbY109ZVtkXT0hMDthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPWIubGVuZ3RoO2ZvcihjPTA7ZT5jO2MrKylkPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGQubGVuZ3RoJiZhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZFswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhkLmhhc0NsYXNzKCJ1aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIil9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmb3IoZltjXT1mW2RdPSEwLGI9Yi5maXJzdENoaWxkO2I7KWZbYi5ub2RlTmFtZV0mJmUucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZSl9LF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6YS5ub29wLF9hZnRlckxpc3R2aWV3UmVmcmVzaDphLm5vb3AscmVmcmVzaDpmdW5jdGlvbihjKXt2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHg9dGhpcy5vcHRpb25zLHk9dGhpcy5lbGVtZW50LHo9ISFhLm5vZGVOYW1lKHlbMF0sIm9sIiksQT15LmF0dHIoInN0YXJ0IiksQj17fSxDPXkuZmluZCgiLnVpLWxpLWNvdW50IiksRD1iKHlbMF0sImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUsRT1EPyJ1aS1ib2R5LSIrRDoidWktYm9keS1pbmhlcml0Ijtmb3IoeC50aGVtZSYmeS5hZGRDbGFzcygidWktZ3JvdXAtdGhlbWUtIit4LnRoZW1lKSx6JiYoQXx8MD09PUEpJiYobj1wYXJzZUludChBLDEwKS0xLHkuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK24pKSx0aGlzLl9iZWZvcmVMaXN0dmlld1JlZnJlc2goKSx3PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHlbMF0sImxpIiwiTEkiKSxlPTAsZj13Lmxlbmd0aDtmPmU7ZSsrKWc9dy5lcShlKSxoPSIiLChjfHxnWzBdLmNsYXNzTmFtZS5zZWFyY2goL1xidWktbGktc3RhdGljXGJ8XGJ1aS1saS1kaXZpZGVyXGIvKTwwKSYmKGw9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZ1swXSwiYSIsIkEiKSxtPSJsaXN0LWRpdmlkZXIiPT09YihnWzBdLCJyb2xlIikscD1nLmF0dHIoInZhbHVlIiksaT1iKGdbMF0sInRoZW1lIiksbC5sZW5ndGgmJmxbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXGJ1aS1idG5cYi8pPDAmJiFtPyhqPWIoZ1swXSwiaWNvbiIpLGs9aj09PSExPyExOmp8fHguaWNvbixsLnJlbW92ZUNsYXNzKCJ1aS1saW5rIiksZD0idWktYnRuIixpJiYoZCs9IiB1aS1idG4tIitpKSxsLmxlbmd0aD4xPyhoPSJ1aS1saS1oYXMtYWx0IixxPWwubGFzdCgpLHI9YihxWzBdLCJ0aGVtZSIpfHx4LnNwbGl0VGhlbWV8fGIoZ1swXSwidGhlbWUiLCEwKSxzPXI/IiB1aS1idG4tIityOiIiLHQ9YihxWzBdLCJpY29uIil8fGIoZ1swXSwiaWNvbiIpfHx4LnNwbGl0SWNvbix1PSJ1aS1idG4gdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tIit0K3MscS5hdHRyKCJ0aXRsZSIsYS50cmltKHEuZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKHUpLmVtcHR5KCkpOmsmJihkKz0iIHVpLWJ0bi1pY29uLXJpZ2h0IHVpLWljb24tIitrKSxsLmZpcnN0KCkuYWRkQ2xhc3MoZCkpOm0/KHY9YihnWzBdLCJ0aGVtZSIpfHx4LmRpdmlkZXJUaGVtZXx8eC50aGVtZSxoPSJ1aS1saS1kaXZpZGVyIHVpLWJhci0iKyh2P3Y6ImluaGVyaXQiKSxnLmF0dHIoInJvbGUiLCJoZWFkaW5nIikpOmwubGVuZ3RoPD0wJiYoaD0idWktbGktc3RhdGljIHVpLWJvZHktIisoaT9pOiJpbmhlcml0IikpLHomJnAmJihvPXBhcnNlSW50KHAsMTApLTEsZy5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbykpKSxCW2hdfHwoQltoXT1bXSksQltoXS5wdXNoKGdbMF0pO2ZvcihoIGluIEIpYShCW2hdKS5hZGRDbGFzcyhoKTtDLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpfSksRSYmQy5hZGRDbGFzcyhFKSx0aGlzLl9hZGRUaHVtYkNsYXNzZXModyksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKHcuZmluZCgiLnVpLWJ0biIpKSx0aGlzLl9hZnRlckxpc3R2aWV3UmVmcmVzaCgpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModyx0aGlzLl9nZXRWaXNpYmxlcyh3LGMpLGMpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hLnRyaW0oYi50ZXh0KCkpfHxudWxsO3JldHVybiBjP2M9Yy5zbGljZSgwLDEpLnRvVXBwZXJDYXNlKCk6bnVsbH1hLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLm1vYmlsZS5saXN0dmlldyx7b3B0aW9uczp7YXV0b2RpdmlkZXJzOiExLGF1dG9kaXZpZGVyc1NlbGVjdG9yOmJ9LF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzJiYodGhpcy5fcmVwbGFjZURpdmlkZXJzKCksdGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpKX0sX3JlcGxhY2VEaXZpZGVyczpmdW5jdGlvbigpe3ZhciBiLGQsZSxmLGcsaD1udWxsLGk9dGhpcy5lbGVtZW50O2ZvcihpLmNoaWxkcmVuKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCksZD1pLmNoaWxkcmVuKCJsaSIpLGI9MDtiPGQubGVuZ3RoO2IrKyllPWRbYl0sZj10aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3IoYShlKSksZiYmaCE9PWYmJihnPWMuY3JlYXRlRWxlbWVudCgibGkiKSxnLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoZikpLGcuc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLCJsaXN0LWRpdmlkZXIiKSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcsZSkpLGg9Zn19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9LyhefFxzKXVpLWxpLWRpdmlkZXIoJHxccykvLGM9LyhefFxzKXVpLXNjcmVlbi1oaWRkZW4oJHxccykvO2Eud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOntoaWRlRGl2aWRlcnM6ITF9LF9hZnRlckxpc3R2aWV3UmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGQsZSxmPSEwO2lmKHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLm9wdGlvbnMuaGlkZURpdmlkZXJzKWZvcihhPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHRoaXMuZWxlbWVudFswXSwibGkiLCJMSSIpLGQ9YS5sZW5ndGgtMTtkPi0xO2QtLSllPWFbZF0sZS5jbGFzc05hbWUubWF0Y2goYik/KGYmJihlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZSsiIHVpLXNjcmVlbi1oaWRkZW4iKSxmPSEwKTplLmNsYXNzTmFtZS5tYXRjaChjKXx8KGY9ITEpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5ub2pzPWZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsYikuYWRkQ2xhc3MoInVpLW5vanMiKX19KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhLGIpe3ZhciBjPWEubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3I7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJpbnB1dDpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnICkgKVt0eXBlPSdjaGVja2JveCddLGlucHV0W3R5cGU9J3JhZGlvJ106bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApKSIsb3B0aW9uczp7dGhlbWU6ImluaGVyaXQiLG1pbmk6ITEsd3JhcHBlckNsYXNzOm51bGwsZW5oYW5jZWQ6ITEsaWNvbnBvczoibGVmdCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZT1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxmPWIuY2xvc2VzdCgibGFiZWwiKSxnPWYubGVuZ3RoP2Y6Yi5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2MoYlswXS5pZCkrIiddIikuZmlyc3QoKSxoPWJbMF0udHlwZSxpPSJ1aS0iK2grIi1vbiIsaj0idWktIitoKyItb2ZmIjsoImNoZWNrYm94Ij09PWh8fCJyYWRpbyI9PT1oKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksZC5pY29ucG9zPWUoYiwiaWNvbnBvcyIpfHxnLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIpfHxkLmljb25wb3MsZC5taW5pPWUoYiwibWluaSIpfHxkLm1pbmksYS5leHRlbmQodGhpcyx7aW5wdXQ6YixsYWJlbDpnLHBhcmVudExhYmVsOmYsaW5wdXR0eXBlOmgsY2hlY2tlZENsYXNzOmksdW5jaGVja2VkQ2xhc3M6an0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGcse3Ztb3VzZW92ZXI6Il9oYW5kbGVMYWJlbFZNb3VzZU92ZXIiLHZjbGljazoiX2hhbmRsZUxhYmVsVkNsaWNrIn0pLHRoaXMuX29uKGIse3Ztb3VzZWRvd246Il9jYWNoZVZhbHMiLHZjbGljazoiX2hhbmRsZUlucHV0VkNsaWNrIixmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMiLGJsdXI6Il9oYW5kbGVJbnB1dEJsdXIifSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoInVpLWJ0biB1aS1jb3JuZXItYWxsIiksdGhpcy5wYXJlbnRMYWJlbC5sZW5ndGg+MD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0nIisodGhpcy5vcHRpb25zLndyYXBwZXJDbGFzcz90aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzOiIiKSsiIHVpLSIrdGhpcy5pbnB1dHR5cGUrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD8iIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrIicgPjwvZGl2PiIpfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dEJsdXI6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRWQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIsdGhpcy5lbGVtZW50LmlzKCI6Y2hlY2tlZCIpKSx0aGlzLl9nZXRJbnB1dFNldCgpLm5vdCh0aGlzLmVsZW1lbnQpLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKX0sX2hhbmRsZUxhYmVsVk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt0aGlzLmxhYmVsLnBhcmVudCgpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxfaGFuZGxlTGFiZWxWQ2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50O3JldHVybiBiLmlzKCI6ZGlzYWJsZWQiKT92b2lkIGEucHJldmVudERlZmF1bHQoKToodGhpcy5fY2FjaGVWYWxzKCksYi5wcm9wKCJjaGVja2VkIiwicmFkaW8iPT09dGhpcy5pbnB1dHR5cGUmJiEwfHwhYi5wcm9wKCJjaGVja2VkIikpLGIudHJpZ2dlckhhbmRsZXIoImNsaWNrIiksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QoYikucHJvcCgiY2hlY2tlZCIsITEpLHRoaXMuX3VwZGF0ZUFsbCgpLCExKX0sX2NhY2hlVmFsczpmdW5jdGlvbigpe3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJjYWNoZVZhbCIsdGhpcy5jaGVja2VkKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXt2YXIgYixkLGU9dGhpcy5lbGVtZW50WzBdLGY9ZS5uYW1lLGc9ZS5mb3JtLGg9dGhpcy5lbGVtZW50LnBhcmVudHMoKS5sYXN0KCkuZ2V0KDApLGk9dGhpcy5lbGVtZW50O3JldHVybiBmJiYicmFkaW8iPT09dGhpcy5pbnB1dHR5cGUmJmgmJihiPSJpbnB1dFt0eXBlPSdyYWRpbyddW25hbWU9JyIrYyhmKSsiJ10iLGc/KGQ9Zy5pZCxkJiYoaT1hKGIrIltmb3JtPSciK2MoZCkrIiddIixoKSksaT1hKGcpLmZpbmQoYikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybT09PWd9KS5hZGQoaSkpOmk9YShiLGgpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiF0aGlzLmZvcm19KSksaX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTsodGhpcy5jaGVja2VkfHwiY2hlY2tib3giPT09Yi5pbnB1dHR5cGUpJiZjLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX2hhc0ljb246ZnVuY3Rpb24oKXt2YXIgYixjLGQ9YS5tb2JpbGUuY29udHJvbGdyb3VwO3JldHVybiBkJiYoYj10aGlzLmVsZW1lbnQuY2xvc2VzdCgiOm1vYmlsZS1jb250cm9sZ3JvdXAsIitkLnByb3RvdHlwZS5pbml0U2VsZWN0b3IpLGIubGVuZ3RoPjApPyhjPWEuZGF0YShiWzBdLCJtb2JpbGUtY29udHJvbGdyb3VwIiksImhvcml6b250YWwiIT09KGM/Yy5vcHRpb25zLnR5cGU6Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiKSkpOiEwfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5faGFzSWNvbigpLGM9dGhpcy5lbGVtZW50WzBdLmNoZWNrZWQsZD1hLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxlPSJ1aS1idG4taWNvbi0iK3RoaXMub3B0aW9ucy5pY29ucG9zLGY9W10sZz1bXTtiPyhnLnB1c2goZCksZi5wdXNoKGUpKTooZy5wdXNoKGUpLChjP2Y6ZykucHVzaChkKSksYz8oZi5wdXNoKHRoaXMuY2hlY2tlZENsYXNzKSxnLnB1c2godGhpcy51bmNoZWNrZWRDbGFzcykpOihmLnB1c2godGhpcy51bmNoZWNrZWRDbGFzcyksZy5wdXNoKHRoaXMuY2hlY2tlZENsYXNzKSksdGhpcy5sYWJlbC5hZGRDbGFzcyhmLmpvaW4oIiAiKSkucmVtb3ZlQ2xhc3MoZy5qb2luKCIgIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbC5wYXJlbnQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5sYWJlbCxkPXRoaXMub3B0aW9ucyxlPXRoaXMud2lkZ2V0KCksZj10aGlzLl9oYXNJY29uKCk7YS5kaXNhYmxlZCE9PWImJih0aGlzLmlucHV0LnByb3AoImRpc2FibGVkIiwhIWEuZGlzYWJsZWQpLGUudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIWEuZGlzYWJsZWQpKSxhLm1pbmkhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIiwhIWEubWluaSksYS50aGVtZSE9PWImJmMucmVtb3ZlQ2xhc3MoInVpLWJ0bi0iK2QudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIithLnRoZW1lKSxhLndyYXBwZXJDbGFzcyE9PWImJmUucmVtb3ZlQ2xhc3MoZC53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLmljb25wb3MhPT1iJiZmP2MucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrZC5pY29ucG9zKS5hZGRDbGFzcygidWktYnRuLWljb24tIithLmljb25wb3MpOmZ8fGMucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrZC5pY29ucG9zKSx0aGlzLl9zdXBlcihhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nYnV0dG9uJ10sIGlucHV0W3R5cGU9J3N1Ym1pdCddLCBpbnB1dFt0eXBlPSdyZXNldCddIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOiJsZWZ0IixpY29uc2hhZG93OiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGlubGluZTpudWxsLG1pbmk6bnVsbCx3cmFwcGVyQ2xhc3M6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIikmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLGEuZXh0ZW5kKHRoaXMse3dyYXBwZXI6dGhpcy5lbGVtZW50LnBhcmVudCgpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCEwKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl9idXR0b24oKSl9LF9idXR0b246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLl9nZXRJY29uQ2xhc3Nlcyh0aGlzLm9wdGlvbnMpO3JldHVybiBhKCI8ZGl2IGNsYXNzPSd1aS1idG4gdWktaW5wdXQtYnRuIisoYi53cmFwcGVyQ2xhc3M/IiAiK2Iud3JhcHBlckNsYXNzOiIiKSsoYi50aGVtZT8iIHVpLWJ0bi0iK2IudGhlbWU6IiIpKyhiLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIikrKGIuc2hhZG93PyIgdWktc2hhZG93IjoiIikrKGIuaW5saW5lPyIgdWktYnRuLWlubGluZSI6IiIpKyhiLm1pbmk/IiB1aS1taW5pIjoiIikrKGIuZGlzYWJsZWQ/IiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhjPyIgIitjOiIiKSsiJyA+Iit0aGlzLmVsZW1lbnQudmFsKCkrIjwvZGl2PiIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5idXR0b24pLHRoaXMuYnV0dG9uLnJlbW92ZSgpfSxfZ2V0SWNvbkNsYXNzZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWNvbj8idWktaWNvbi0iK2EuaWNvbisoYS5pY29uc2hhZG93PyIgdWktc2hhZG93LWljb24iOiIiKSsiIHVpLWJ0bi1pY29uLSIrYS5pY29ucG9zOiIifSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLndpZGdldCgpO2MudGhlbWUhPT1iJiZkLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoInVpLWJ0bi0iK2MudGhlbWUpLGMuY29ybmVycyE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGMuY29ybmVycyksYy5zaGFkb3chPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGMuc2hhZG93KSxjLmlubGluZSE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLWJ0bi1pbmxpbmUiLGMuaW5saW5lKSxjLm1pbmkhPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixjLm1pbmkpLGMuZGlzYWJsZWQhPT1iJiYodGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIixjLmRpc2FibGVkKSxkLnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsYy5kaXNhYmxlZCkpLChjLmljb24hPT1ifHxjLmljb25zaGFkb3chPT1ifHxjLmljb25wb3MhPT1iKSYmZC5yZW1vdmVDbGFzcyh0aGlzLl9nZXRJY29uQ2xhc3Nlcyh0aGlzLm9wdGlvbnMpKS5hZGRDbGFzcyh0aGlzLl9nZXRJY29uQ2xhc3NlcyhhLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYykpKSx0aGlzLl9zdXBlcihjKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpO3RoaXMub3B0aW9ucy5pY29uJiYibm90ZXh0Ij09PXRoaXMub3B0aW9ucy5pY29ucG9zJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKSYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLmVsZW1lbnQudmFsKCkpLGJ8fChjPXRoaXMuZWxlbWVudC5kZXRhY2goKSxhKHRoaXMud3JhcHBlcikudGV4dCh0aGlzLmVsZW1lbnQudmFsKCkpLmFwcGVuZChjKSksdGhpcy5vcHRpb25zLmRpc2FibGVkIT09ZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ZH0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hKCJtZXRhW25hbWU9dmlld3BvcnRdIiksYz1iLmF0dHIoImNvbnRlbnQiKSxkPWMrIixtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8iLGU9YysiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzIixmPS8odXNlci1zY2FsYWJsZVtcc10qPVtcc10qbm8pfChtYXhpbXVtLXNjYWxlW1xzXSo9W1xzXSoxKVskLFxzXS8udGVzdChjKTthLm1vYmlsZS56b29tPWEuZXh0ZW5kKHt9LHtlbmFibGVkOiFmLGxvY2tlZDohMSxkaXNhYmxlOmZ1bmN0aW9uKGMpe2Z8fGEubW9iaWxlLnpvb20ubG9ja2VkfHwoYi5hdHRyKCJjb250ZW50IixkKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITEsYS5tb2JpbGUuem9vbS5sb2NrZWQ9Y3x8ITEpfSxlbmFibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWQmJmMhPT0hMHx8KGIuYXR0cigiY29udGVudCIsZSksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwLGEubW9iaWxlLnpvb20ubG9ja2VkPSExKX0scmVzdG9yZTpmdW5jdGlvbigpe2Z8fChiLmF0dHIoImNvbnRlbnQiLGMpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLHtpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3RleHQnXSxpbnB1dFt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSxpbnB1dFt0eXBlPSdudW1iZXInXSw6anFtRGF0YSh0eXBlPSdudW1iZXInKSxpbnB1dFt0eXBlPSdwYXNzd29yZCddLGlucHV0W3R5cGU9J2VtYWlsJ10saW5wdXRbdHlwZT0ndXJsJ10saW5wdXRbdHlwZT0ndGVsJ10sdGV4dGFyZWEsaW5wdXRbdHlwZT0ndGltZSddLGlucHV0W3R5cGU9J2RhdGUnXSxpbnB1dFt0eXBlPSdtb250aCddLGlucHV0W3R5cGU9J3dlZWsnXSxpbnB1dFt0eXBlPSdkYXRldGltZSddLGlucHV0W3R5cGU9J2RhdGV0aW1lLWxvY2FsJ10saW5wdXRbdHlwZT0nY29sb3InXSxpbnB1dDpub3QoW3R5cGVdKSxpbnB1dFt0eXBlPSdmaWxlJ10iLG9wdGlvbnM6e3RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLHdyYXBwZXJDbGFzczoiIixlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMuZWxlbWVudC5pcygiW3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpLGQ9IlRFWFRBUkVBIj09PXRoaXMuZWxlbWVudFswXS50YWdOYW1lLGU9dGhpcy5lbGVtZW50LmlzKCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJ0eXBlPSdyYW5nZSddIiksZj0odGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpfHx0aGlzLmVsZW1lbnQuaXMoIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3NlYXJjaCddIikpJiYhZTt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSYmKGIuZGlzYWJsZWQ9ITApLGEuZXh0ZW5kKHRoaXMse2NsYXNzZXM6dGhpcy5fY2xhc3Nlc0Zyb21PcHRpb25zKCksaXNTZWFyY2g6Yyxpc1RleHRhcmVhOmQsaXNSYW5nZTplLGlucHV0TmVlZHNXcmFwOmZ9KSx0aGlzLl9hdXRvQ29ycmVjdCgpLGIuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih7Zm9jdXM6Il9oYW5kbGVGb2N1cyIsYmx1cjoiX2hhbmRsZUJsdXIifSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnMoe2Rpc2FibGVkOnRoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIil9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYT1bXTt0aGlzLmlzVGV4dGFyZWEmJmEucHVzaCgidWktaW5wdXQtdGV4dCIpLCh0aGlzLmlzVGV4dGFyZWF8fHRoaXMuaXNSYW5nZSkmJmEucHVzaCgidWktc2hhZG93LWluc2V0IiksdGhpcy5pbnB1dE5lZWRzV3JhcD90aGlzLmVsZW1lbnQud3JhcCh0aGlzLl93cmFwKCkpOmE9YS5jb25jYXQodGhpcy5jbGFzc2VzKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYS5qb2luKCIgIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dE5lZWRzV3JhcD90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50fSxfY2xhc3Nlc0Zyb21PcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9W107cmV0dXJuIGIucHVzaCgidWktYm9keS0iKyhudWxsPT09YS50aGVtZT8iaW5oZXJpdCI6YS50aGVtZSkpLGEuY29ybmVycyYmYi5wdXNoKCJ1aS1jb3JuZXItYWxsIiksYS5taW5pJiZiLnB1c2goInVpLW1pbmkiKSxhLmRpc2FibGVkJiZiLnB1c2goInVpLXN0YXRlLWRpc2FibGVkIiksYS53cmFwcGVyQ2xhc3MmJmIucHVzaChhLndyYXBwZXJDbGFzcyksYn0sX3dyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0nIisodGhpcy5pc1NlYXJjaD8idWktaW5wdXQtc2VhcmNoICI6InVpLWlucHV0LXRleHQgIikrdGhpcy5jbGFzc2VzLmpvaW4oIiAiKSsiIHVpLXNoYWRvdy1pbnNldCc+PC9kaXY+Iil9LF9hdXRvQ29ycmVjdDpmdW5jdGlvbigpeyJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5lbGVtZW50WzBdLmF1dG9jb3JyZWN0fHxhLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8KHRoaXMuZWxlbWVudFswXS5zZXRBdHRyaWJ1dGUoImF1dG9jb3JyZWN0Iiwib2ZmIiksdGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpfSxfaGFuZGxlQmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyksdGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sX2hhbmRsZUZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksdGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy53aWRnZXQoKTt0aGlzLl9zdXBlcihhKSwoYS5kaXNhYmxlZCE9PWJ8fGEubWluaSE9PWJ8fGEuY29ybmVycyE9PWJ8fGEudGhlbWUhPT1ifHxhLndyYXBwZXJDbGFzcyE9PWIpJiYoYy5yZW1vdmVDbGFzcyh0aGlzLmNsYXNzZXMuam9pbigiICIpKSx0aGlzLmNsYXNzZXM9dGhpcy5fY2xhc3Nlc0Zyb21PcHRpb25zKCksYy5hZGRDbGFzcyh0aGlzLmNsYXNzZXMuam9pbigiICIpKSksYS5kaXNhYmxlZCE9PWImJnRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsISFhLmRpc2FibGVkKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLmlucHV0TmVlZHNXcmFwJiZ0aGlzLmVsZW1lbnQudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1pbnB1dC10ZXh0ICIrdGhpcy5jbGFzc2VzLmpvaW4oIiAiKSkpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbz10aGlzLHA9dGhpcy5lbGVtZW50LHE9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGEubW9iaWxlLmdldEF0dHJpYnV0ZShwWzBdLCJ0aGVtZSIpLHI9cT8iIHVpLWJhci0iK3E6IiB1aS1iYXItaW5oZXJpdCIscz10aGlzLm9wdGlvbnMuY29ybmVyc3x8cC5qcW1EYXRhKCJjb3JuZXJzIik/IiB1aS1jb3JuZXItYWxsIjoiIix0PXRoaXMub3B0aW9ucy5taW5pfHxwLmpxbURhdGEoIm1pbmkiKT8iIHVpLW1pbmkiOiIiLHU9cFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHY9InNlbGVjdCI9PT11LHc9cC5wYXJlbnQoKS5pcygiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIpLHg9dj8idWktc2xpZGVyLXN3aXRjaCI6IiIseT1wLmF0dHIoImlkIiksej1hKCJbZm9yPSciK3krIiddIiksQT16LmF0dHIoImlkIil8fHkrIi1sYWJlbCIsQj12PzA6cGFyc2VGbG9hdChwLmF0dHIoIm1pbiIpKSxDPXY/cC5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTpwYXJzZUZsb2F0KHAuYXR0cigibWF4IikpLEQ9Yi5wYXJzZUZsb2F0KHAuYXR0cigic3RlcCIpfHwxKSxFPWMuY3JlYXRlRWxlbWVudCgiYSIpLEY9YShFKSxHPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksSD1hKEcpLEk9dGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXY/ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKEgpfSgpOiExO2lmKHouYXR0cigiaWQiLEEpLHRoaXMuaXNUb2dnbGVTd2l0Y2g9dixFLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSxHLnNldEF0dHJpYnV0ZSgicm9sZSIsImFwcGxpY2F0aW9uIiksRy5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0ICI6InVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQgIix4LHIscyx0XS5qb2luKCIiKSxFLmNsYXNzTmFtZT0idWktc2xpZGVyLWhhbmRsZSIsRy5hcHBlbmRDaGlsZChFKSxGLmF0dHIoe3JvbGU6InNsaWRlciIsImFyaWEtdmFsdWVtaW4iOkIsImFyaWEtdmFsdWVtYXgiOkMsImFyaWEtdmFsdWVub3ciOnRoaXMuX3ZhbHVlKCksImFyaWEtdmFsdWV0ZXh0Ijp0aGlzLl92YWx1ZSgpLHRpdGxlOnRoaXMuX3ZhbHVlKCksImFyaWEtbGFiZWxsZWRieSI6QX0pLGEuZXh0ZW5kKHRoaXMse3NsaWRlcjpILGhhbmRsZTpGLGNvbnRyb2w6cCx0eXBlOnUsc3RlcDpELG1heDpDLG1pbjpCLHZhbHVlYmc6SSxpc1Jhbmdlc2xpZGVyOncsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHYpe2ZvcihrPXAuYXR0cigidGFiaW5kZXgiKSxrJiZGLmF0dHIoInRhYmluZGV4IixrKSxwLmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpLEYuZm9jdXMoKX0pLGY9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0IixnPTAsaD1HLmNoaWxkTm9kZXMubGVuZ3RoO2g+ZztnKyspZi5hcHBlbmRDaGlsZChHLmNoaWxkTm9kZXNbZ10pO2ZvcihHLmFwcGVuZENoaWxkKGYpLEYuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxlPXAuZmluZCgib3B0aW9uIiksaT0wLGo9ZS5sZW5ndGg7aj5pO2krKylsPWk/ImEiOiJiIixtPWk/IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIiLG49Yy5jcmVhdGVFbGVtZW50KCJzcGFuIiksbi5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsbCxtXS5qb2luKCIiKSxuLnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLG4uYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShlW2ldLmlubmVySFRNTCkpLGEobikucHJlcGVuZFRvKEgpO28uX2xhYmVscz1hKCIudWktc2xpZGVyLWxhYmVsIixIKX1wLmFkZENsYXNzKHY/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihwLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSxILmJpbmQoInZtb3VzZWRvd24iLGEucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oYyx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oSC5hZGQoYykse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksSC5pbnNlcnRBZnRlcihwKSx2fHx3fHwoZj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixwLmFkZChIKS53cmFwQWxsKGYpKSx0aGlzLl9vbih0aGlzLmhhbmRsZSx7dm1vdXNlZG93bjoiX2hhbmRsZVZNb3VzZURvd24iLGtleWRvd246Il9oYW5kbGVLZXlkb3duIixrZXl1cDoiX2hhbmRsZUtleXVwIn0pLHRoaXMuaGFuZGxlLmJpbmQoInZjbGljayIsITEpLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChkLGQsITApfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09ZCYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEuY29ybmVycyE9PWQmJnRoaXMuX3NldENvcm5lcnMoYS5jb3JuZXJzKSxhLm1pbmkhPT1kJiZ0aGlzLl9zZXRNaW5pKGEubWluaSksYS5oaWdobGlnaHQhPT1kJiZ0aGlzLl9zZXRIaWdobGlnaHQoYS5oaWdobGlnaHQpLGEuZGlzYWJsZWQhPT1kJiZ0aGlzLl9zZXREaXNhYmxlZChhLmRpc2FibGVkKSx0aGlzLl9zdXBlcihhKX0sX2NvbnRyb2xDaGFuZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImNvbnRyb2xjaGFuZ2UiLGEpPT09ITE/ITE6dm9pZCh0aGlzLm1vdXNlTW92ZWR8fHRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKSl9LF9jb250cm9sS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCwhMCl9LF9jb250cm9sQmx1cjpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbigpe3RoaXMuX2NoZWNrZWRSZWZyZXNoKCl9LF9oYW5kbGVWTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fdmFsdWUoKTtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5U2xpZGluZ3x8KHRoaXMuX2tleVNsaWRpbmc9ITAsdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX1zd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTp0aGlzLnJlZnJlc2godGhpcy5taW4pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6dGhpcy5yZWZyZXNoKHRoaXMubWF4KTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOnRoaXMucmVmcmVzaChjK3RoaXMuc3RlcCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDp0aGlzLnJlZnJlc2goYy10aGlzLnN0ZXApfX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbigpe3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9LF9zbGlkZXJWTW91c2VEb3duOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fDEhPT1hLndoaWNoJiYwIT09YS53aGljaCYmYS53aGljaCE9PWQ/ITE6dGhpcy5fdHJpZ2dlcigiYmVmb3Jlc3RhcnQiLGEpPT09ITE/ITE6KHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy51c2VyTW9kaWZpZWQ9ITEsdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmJlZm9yZVN0YXJ0PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KSx0aGlzLnJlZnJlc2goYSksdGhpcy5fdHJpZ2dlcigic3RhcnQiKSwhMSl9LF9zbGlkZXJWTW91c2VVcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYWdnaW5nPyh0aGlzLmRyYWdnaW5nPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMucmVmcmVzaCh0aGlzLm1vdXNlTW92ZWQ/dGhpcy51c2VyTW9kaWZpZWQ/MD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowOnRoaXMuYmVmb3JlU3RhcnQ6MD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKSksdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuX3RyaWdnZXIoInN0b3AiKSwhMSk6dm9pZCAwfSxfcHJldmVudERvY3VtZW50RHJhZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiZHJhZyIsYSk9PT0hMT8hMTp0aGlzLmRyYWdnaW5nJiYhdGhpcy5vcHRpb25zLmRpc2FibGVkPyh0aGlzLm1vdXNlTW92ZWQ9ITAsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLnJlZnJlc2goYSksdGhpcy51c2VyTW9kaWZpZWQ9dGhpcy5iZWZvcmVTdGFydCE9PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4LCExKTp2b2lkIDB9LF9jaGVja2VkUmVmcmVzaDpmdW5jdGlvbigpe3RoaXMudmFsdWUhPT10aGlzLl92YWx1ZSgpJiZ0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSl9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVG9nZ2xlU3dpdGNoP3RoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4OnBhcnNlRmxvYXQodGhpcy5lbGVtZW50LnZhbCgpKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKGQsITEsITApfSxyZWZyZXNoOmZ1bmN0aW9uKGIsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHo9dGhpcyxBPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sInRoZW1lIiksQj10aGlzLm9wdGlvbnMudGhlbWV8fEEsQz1CPyIgdWktYnRuLSIrQjoiIixEPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxBLEU9RD8iIHVpLWJhci0iK0Q6IiB1aS1iYXItaW5oZXJpdCIsRj10aGlzLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLEc9dGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIjtpZih6LnNsaWRlclswXS5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItc3dpdGNoIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQiOiJ1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0IixFLEYsR10uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKHouc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLWJ0biIrQysiIHVpLXNoYWRvdyIpLGw9dGhpcy5lbGVtZW50LG09IXRoaXMuaXNUb2dnbGVTd2l0Y2gsbj1tP1tdOmwuZmluZCgib3B0aW9uIiksbz1tP3BhcnNlRmxvYXQobC5hdHRyKCJtaW4iKSk6MCxwPW0/cGFyc2VGbG9hdChsLmF0dHIoIm1heCIpKTpuLmxlbmd0aC0xLHE9bSYmcGFyc2VGbG9hdChsLmF0dHIoInN0ZXAiKSk+MD9wYXJzZUZsb2F0KGwuYXR0cigic3RlcCIpKToxLCJvYmplY3QiPT10eXBlb2YgYil7aWYoaD1iLGk9OCxmPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQsZz10aGlzLnNsaWRlci53aWR0aCgpLGo9Zy8oKHAtbykvcSksIXRoaXMuZHJhZ2dpbmd8fGgucGFnZVg8Zi1pfHxoLnBhZ2VYPmYrZytpKXJldHVybjtrPWo+MT8oaC5wYWdlWC1mKS9nKjEwMDpNYXRoLnJvdW5kKChoLnBhZ2VYLWYpL2cqMTAwKX1lbHNlIG51bGw9PWImJihiPW0/cGFyc2VGbG9hdChsLnZhbCgpfHwwKTpsWzBdLnNlbGVjdGVkSW5kZXgpLGs9KHBhcnNlRmxvYXQoYiktbykvKHAtbykqMTAwO2lmKCFpc05hTihrKSYmKHI9ay8xMDAqKHAtbykrbyxzPShyLW8pJXEsdD1yLXMsMipNYXRoLmFicyhzKT49cSYmKHQrPXM+MD9xOi1xKSx1PTEwMC8oKHAtbykvcSkscj1wYXJzZUZsb2F0KHQudG9GaXhlZCg1KSksInVuZGVmaW5lZCI9PXR5cGVvZiBqJiYoaj1nLygocC1vKS9xKSksaj4xJiZtJiYoaz0oci1vKSp1KigxL3EpKSwwPmsmJihrPTApLGs+MTAwJiYoaz0xMDApLG8+ciYmKHI9bykscj5wJiYocj1wKSx0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGsrIiUiKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLG0/cjpuLmVxKHIpLmF0dHIoInZhbHVlIikpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgidGl0bGUiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcygid2lkdGgiLGsrIiUiKSx0aGlzLl9sYWJlbHMmJih2PXRoaXMuaGFuZGxlLndpZHRoKCkvdGhpcy5zbGlkZXIud2lkdGgoKSoxMDAsdz1rJiZ2KygxMDAtdikqay8xMDAseD0xMDA9PT1rPzA6TWF0aC5taW4odisxMDAtdywxMDApLHRoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5oYXNDbGFzcygidWktc2xpZGVyLWxhYmVsLWEiKTthKHRoaXMpLndpZHRoKChiP3c6eCkrIiUiKX0pKSwhZSkpe2lmKHk9ITEsbT8oeT1sLnZhbCgpIT09cixsLnZhbChyKSk6KHk9bFswXS5zZWxlY3RlZEluZGV4IT09cixsWzBdLnNlbGVjdGVkSW5kZXg9ciksdGhpcy5fdHJpZ2dlcigiYmVmb3JlY2hhbmdlIixiKT09PSExKXJldHVybiExOyFkJiZ5JiZsLnRyaWdnZXIoImNoYW5nZSIpfX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXthPSEhYSxhPyh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0PSEhYSx0aGlzLnJlZnJlc2goKSk6dGhpcy52YWx1ZWJnJiYodGhpcy52YWx1ZWJnLnJlbW92ZSgpLHRoaXMudmFsdWViZz0hMSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktYnRuLSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYSk7dmFyIGI9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZToiaW5oZXJpdCIsYz1hP2E6ImluaGVyaXQiO3RoaXMuY29udHJvbC5yZW1vdmVDbGFzcygidWktYm9keS0iK2IpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYyl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucy50cmFja1RoZW1lP3RoaXMub3B0aW9ucy50cmFja1RoZW1lOiJpbmhlcml0IixjPWE/YToiaW5oZXJpdCI7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitiKS5hZGRDbGFzcygidWktYm9keS0iK2MpfSxfc2V0TWluaTpmdW5jdGlvbihhKXthPSEhYSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmlzUmFuZ2VzbGlkZXJ8fCh0aGlzLnNsaWRlci5wYXJlbnQoKS50b2dnbGVDbGFzcygidWktbWluaSIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhKSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYSksdGhpcy5pc1RvZ2dsZVN3aXRjaHx8dGhpcy5jb250cm9sLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsYSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIixhKS5hdHRyKCJhcmlhLWRpc2FibGVkIixhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBjfHwoYz1hKCI8ZGl2PjwvZGl2PiIseyJjbGFzcyI6InVpLXNsaWRlci1wb3B1cCB1aS1zaGFkb3cgdWktY29ybmVyLWFsbCJ9KSksYy5jbG9uZSgpfXZhciBjO2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS5zbGlkZXIse29wdGlvbnM6e3BvcHVwRW5hYmxlZDohMSxzaG93VmFsdWU6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLGEuZXh0ZW5kKHRoaXMse19jdXJyZW50VmFsdWU6bnVsbCxfcG9wdXA6bnVsbCxfcG9wdXBWaXNpYmxlOiExfSksdGhpcy5fc2V0T3B0aW9uKCJwb3B1cEVuYWJsZWQiLHRoaXMub3B0aW9ucy5wb3B1cEVuYWJsZWQpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfc2hvd1BvcHVwIn0pLHRoaXMuX29uKHRoaXMuc2xpZGVyLmFkZCh0aGlzLmRvY3VtZW50KSx7dm1vdXNldXA6Il9oaWRlUG9wdXAifSksdGhpcy5fcmVmcmVzaCgpfSxfcG9zaXRpb25Qb3B1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlLm9mZnNldCgpO3RoaXMuX3BvcHVwLm9mZnNldCh7bGVmdDphLmxlZnQrKHRoaXMuaGFuZGxlLndpZHRoKCktdGhpcy5fcG9wdXAud2lkdGgoKSkvMix0b3A6YS50b3AtdGhpcy5fcG9wdXAub3V0ZXJIZWlnaHQoKS01fSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxjKXt0aGlzLl9zdXBlcihhLGMpLCJzaG93VmFsdWUiPT09YT90aGlzLmhhbmRsZS5odG1sKGMmJiF0aGlzLm9wdGlvbnMubWluaT90aGlzLl92YWx1ZSgpOiIiKToicG9wdXBFbmFibGVkIj09PWEmJmMmJiF0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwPWIoKS5hZGRDbGFzcygidWktYm9keS0iKyh0aGlzLm9wdGlvbnMudGhlbWV8fCJhIikpLmhpZGUoKS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50KSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fcmVmcmVzaCgpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5vcHRpb25zO2IucG9wdXBFbmFibGVkJiZ0aGlzLmhhbmRsZS5yZW1vdmVBdHRyKCJ0aXRsZSIpLGE9dGhpcy5fdmFsdWUoKSxhIT09dGhpcy5fY3VycmVudFZhbHVlJiYodGhpcy5fY3VycmVudFZhbHVlPWEsYi5wb3B1cEVuYWJsZWQmJnRoaXMuX3BvcHVwPyh0aGlzLl9wb3NpdGlvblBvcHVwKCksdGhpcy5fcG9wdXAuaHRtbChhKSk6Yi5zaG93VmFsdWUmJiF0aGlzLm9wdGlvbnMubWluaSYmdGhpcy5oYW5kbGUuaHRtbChhKSl9LF9zaG93UG9wdXA6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9wdXBFbmFibGVkJiYhdGhpcy5fcG9wdXBWaXNpYmxlJiYodGhpcy5oYW5kbGUuaHRtbCgiIiksdGhpcy5fcG9wdXAuc2hvdygpLHRoaXMuX3Bvc2l0aW9uUG9wdXAoKSx0aGlzLl9wb3B1cFZpc2libGU9ITApfSxfaGlkZVBvcHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO2EucG9wdXBFbmFibGVkJiZ0aGlzLl9wb3B1cFZpc2libGUmJihhLnNob3dWYWx1ZSYmIWEubWluaSYmdGhpcy5oYW5kbGUuaHRtbCh0aGlzLl92YWx1ZSgpKSx0aGlzLl9wb3B1cC5oaWRlKCksdGhpcy5fcG9wdXBWaXNpYmxlPSExKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmZsaXBzd2l0Y2giLGEuZXh0ZW5kKHtvcHRpb25zOntvblRleHQ6Ik9uIixvZmZUZXh0OiJPZmYiLHRoZW1lOm51bGwsZW5oYW5jZWQ6ITEsd3JhcHBlckNsYXNzOm51bGwsY29ybmVyczohMCxtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkP2EuZXh0ZW5kKHRoaXMse2ZsaXBzd2l0Y2g6dGhpcy5lbGVtZW50LnBhcmVudCgpLG9uOnRoaXMuZWxlbWVudC5maW5kKCIudWktZmxpcHN3aXRjaC1vbiIpLmVxKDApLG9mZjp0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWZsaXBzd2l0Y2gtb2ZmIikuZXEoMCksdHlwZTp0aGlzLmVsZW1lbnQuZ2V0KDApLnRhZ05hbWV9KTp0aGlzLl9lbmhhbmNlKCksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5fb3JpZ2luYWxUYWJJbmRleD10aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiKSxudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4JiZ0aGlzLm9uLmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnaW5hbFRhYkluZGV4KSx0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCItMSIpLHRoaXMuX29uKHtmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMifSksdGhpcy5lbGVtZW50LmlzKCI6ZGlzYWJsZWQiKSYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KSx0aGlzLl9vbih0aGlzLmZsaXBzd2l0Y2gse2NsaWNrOiJfdG9nZ2xlIixzd2lwZWxlZnQ6Il9sZWZ0Iixzd2lwZXJpZ2h0OiJfcmlnaHQifSksdGhpcy5fb24odGhpcy5vbix7a2V5ZG93bjoiX2tleWRvd24ifSksdGhpcy5fb24oe2NoYW5nZToicmVmcmVzaCJ9KX0sX2hhbmRsZUlucHV0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9uLmZvY3VzKCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsaXBzd2l0Y2h9LF9sZWZ0OmZ1bmN0aW9uKCl7dGhpcy5mbGlwc3dpdGNoLnJlbW92ZUNsYXNzKCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZSIpLCJTRUxFQ1QiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD0wOnRoaXMuZWxlbWVudC5wcm9wKCJjaGVja2VkIiwhMSksdGhpcy5lbGVtZW50LnRyaWdnZXIoImNoYW5nZSIpfSxfcmlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmZsaXBzd2l0Y2guYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtYWN0aXZlIiksIlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PTE6dGhpcy5lbGVtZW50LnByb3AoImNoZWNrZWQiLCEwKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2hhbmdlIil9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGI9YSgiPGRpdj4iKSxjPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPWMudGhlbWU/Yy50aGVtZToiaW5oZXJpdCIsZj1hKCI8YT48L2E+Iix7aHJlZjoiIyJ9KSxnPWEoIjxzcGFuPjwvc3Bhbj4iKSxoPWQuZ2V0KDApLnRhZ05hbWUsaT0iSU5QVVQiPT09aD9jLm9uVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDEpLnRleHQoKSxqPSJJTlBVVCI9PT1oP2Mub2ZmVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDApLnRleHQoKTtmLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXQiKS50ZXh0KGkpLGcuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtb2ZmIikudGV4dChqKSxiLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1iYXItIitlKyIgIisoYy53cmFwcGVyQ2xhc3M/Yy53cmFwcGVyQ2xhc3M6IiIpKyIgIisoZC5pcygiOmNoZWNrZWQiKXx8ZC5maW5kKCJvcHRpb24iKS5lcSgxKS5pcygiOnNlbGVjdGVkIik/InVpLWZsaXBzd2l0Y2gtYWN0aXZlIjoiIikrKGQuaXMoIjpkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhjLm1pbmk/IiB1aS1taW5pIjoiIikpLmFwcGVuZChmLGcpLGQuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKS5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZixvZmY6Zyx0eXBlOmh9KX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX3JpZ2h0IjoiX2xlZnQiO2E9IlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/Il9yaWdodCI6Il9sZWZ0Ijp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIpPyJfcmlnaHQiOiJfbGVmdCIsYSE9PWImJnRoaXNbYV0oKX0sX3RvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX2xlZnQiOiJfcmlnaHQiO3RoaXNbYV0oKX0sX2tleWRvd246ZnVuY3Rpb24oYil7Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuTEVGVD90aGlzLl9sZWZ0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuUklHSFQ/dGhpcy5fcmlnaHQoKTpiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSYmKHRoaXMuX3RvZ2dsZSgpLGIucHJldmVudERlZmF1bHQoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2lmKGEudGhlbWUhPT1iKXt2YXIgYz1hLnRoZW1lP2EudGhlbWU6ImluaGVyaXQiLGQ9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0Ijt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKCJ1aS1iYXItIitjKS5hZGRDbGFzcygidWktYmFyLSIrZCl9YS5vblRleHQhPT1iJiZ0aGlzLm9uLnRleHQoYS5vblRleHQpLGEub2ZmVGV4dCE9PWImJnRoaXMub2ZmLnRleHQoYS5vZmZUZXh0KSxhLmRpc2FibGVkIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEuZGlzYWJsZWQpLGEubWluaSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEubWluaSksYS5jb3JuZXJzIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSx0aGlzLl9zdXBlcihhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fChudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4P3RoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ2luYWxUYWJJbmRleCk6dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRhYmluZGV4IiksdGhpcy5vbi5yZW1vdmUoKSx0aGlzLm9mZi5yZW1vdmUoKSx0aGlzLmVsZW1lbnQudW53cmFwKCksdGhpcy5mbGlwc3dpdGNoLnJlbW92ZSgpLHRoaXMucmVtb3ZlQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5yYW5nZXNsaWRlciIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMubWluaT8idWktcmFuZ2VzbGlkZXIgdWktbWluaSI6InVpLXJhbmdlc2xpZGVyIixkPWIuZmluZCgiaW5wdXQiKS5maXJzdCgpLGU9Yi5maW5kKCJpbnB1dCIpLmxhc3QoKSxmPWIuZmluZCgibGFiZWwiKS5maXJzdCgpLGc9YS5kYXRhKGQuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIil8fGEuZGF0YShkLnNsaWRlcigpLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLGg9YS5kYXRhKGUuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIil8fGEuZGF0YShlLnNsaWRlcigpLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLGk9Zy5zbGlkZXIsaj1oLnNsaWRlcixrPWcuaGFuZGxlLGw9YSgiPGRpdiBjbGFzcz0ndWktcmFuZ2VzbGlkZXItc2xpZGVycycgLz4iKS5hcHBlbmRUbyhiKTtkLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLGUuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWxhc3QiKSxiLmFkZENsYXNzKGMpLGkuYXBwZW5kVG8obCksai5hcHBlbmRUbyhsKSxmLmluc2VydEJlZm9yZShiKSxrLnByZXBlbmRUbyhqKSxhLmV4dGVuZCh0aGlzLHtfaW5wdXRGaXJzdDpkLF9pbnB1dExhc3Q6ZSxfc2xpZGVyRmlyc3Q6aSxfc2xpZGVyTGFzdDpqLF9sYWJlbDpmLF90YXJnZXRWYWw6bnVsbCxfc2xpZGVyVGFyZ2V0OiExLF9zbGlkZXJzOmwsX3Byb3h5OiExfSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb24odGhpcy5lbGVtZW50LmZpbmQoImlucHV0LnVpLXNsaWRlci1pbnB1dCIpLHtzbGlkZWJlZm9yZXN0YXJ0OiJfc2xpZGViZWZvcmVzdGFydCIsc2xpZGVzdG9wOiJfc2xpZGVzdG9wIixzbGlkZWRyYWc6Il9zbGlkZWRyYWciLHNsaWRlYmVmb3JlY2hhbmdlOiJfY2hhbmdlIixibHVyOiJfY2hhbmdlIixrZXl1cDoiX2NoYW5nZSJ9KSx0aGlzLl9vbih7bW91c2Vkb3duOiJfY2hhbmdlIn0pLHRoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikse3Jlc2V0OiJfaGFuZGxlUmVzZXQifSksdGhpcy5fb24oayx7dm1vdXNlZG93bjoiX2RyYWdGaXJzdEhhbmRsZSJ9KX0sX2hhbmRsZVJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5fdXBkYXRlSGlnaGxpZ2h0KCl9LDApfSxfZHJhZ0ZpcnN0SGFuZGxlOmZ1bmN0aW9uKGIpe3JldHVybiBhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5yZWZyZXNoKGIpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGQ9Yz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtyZXR1cm4gdGhpcy5fc2xpZGVyVGFyZ2V0PSExLCJmaXJzdCI9PT10aGlzLl9wcm94eSYmY3x8Imxhc3QiPT09dGhpcy5fcHJveHkmJiFjPyhhLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5yZWZyZXNoKGIpLCExKTp2b2lkIDB9LF9zbGlkZXN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGM/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKGIpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxhKGIub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9YShiLnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09YiYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09YiYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEubWluaSE9PWImJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWImJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksdGhpcy5fc3VwZXIoYSksdGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnM7KHRoaXMuX2lucHV0Rmlyc3QuaXMoIjpkaXNhYmxlZCIpfHx0aGlzLl9pbnB1dExhc3QuaXMoIjpkaXNhYmxlZCIpKSYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYS5maW5kKCJpbnB1dCIpLnNsaWRlcih7dGhlbWU6Yi50aGVtZSx0cmFja1RoZW1lOmIudHJhY2tUaGVtZSxkaXNhYmxlZDpiLmRpc2FibGVkLGNvcm5lcnM6Yi5jb3JuZXJzLG1pbmk6Yi5taW5pLGhpZ2hsaWdodDpiLmhpZ2hsaWdodH0pLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfSxfY2hhbmdlOmZ1bmN0aW9uKGIpe2lmKCJrZXl1cCI9PT1iLnR5cGUpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBjPXRoaXMsZD1wYXJzZUZsb2F0KHRoaXMuX2lucHV0Rmlyc3QudmFsKCksMTApLGU9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dExhc3QudmFsKCksMTApLGY9YShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZz1mP3RoaXMuX2lucHV0Rmlyc3Q6dGhpcy5faW5wdXRMYXN0LGg9Zj90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtpZih0aGlzLl9pbnB1dEZpcnN0LnZhbCgpPnRoaXMuX2lucHV0TGFzdC52YWwoKSYmIm1vdXNlZG93biI9PT1iLnR5cGUmJiFhKGIudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpKWcuYmx1cigpO2Vsc2UgaWYoIm1vdXNlZG93biI9PT1iLnR5cGUpcmV0dXJuO3JldHVybiBkPmUmJiF0aGlzLl9zbGlkZXJUYXJnZXQ/KGcudmFsKGY/ZTpkKS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl90cmlnZ2VyKCJub3JtYWxpemUiKSk6ZD5lJiYoZy52YWwodGhpcy5fdGFyZ2V0VmFsKS5zbGlkZXIoInJlZnJlc2giKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC52YWwoZj9kOmUpLnNsaWRlcigicmVmcmVzaCIpLGEuZGF0YShoLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5mb2N1cygpLGMuX3NsaWRlckZpcnN0LmNzcygiei1pbmRleCIsZj8iIjoxKSxjLl90cmlnZ2VyKCJub3JtYWxpemUiKX0sMCksdGhpcy5fcHJveHk9Zj8iZmlyc3QiOiJsYXN0IiksZD09PWU/KGEuZGF0YShnLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDEpLGEuZGF0YShoLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDApKTooYS5kYXRhKGguZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsIiIpLGEuZGF0YShnLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksZD49ZT8hMTp2b2lkIDB9LF91cGRhdGVIaWdobGlnaHQ6ZnVuY3Rpb24oKXt2YXIgYj1wYXJzZUludChhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGM9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0TGFzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGQ9Yy1iO3RoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWJnIikuY3NzKHsibWFyZ2luLWxlZnQiOmIrIiUiLHdpZHRoOmQrIiUifSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwidGhlbWUiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsInRoZW1lIixhKX0sX3NldFRyYWNrVGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsInRyYWNrVGhlbWUiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsInRyYWNrVGhlbWUiLGEpfSxfc2V0TWluaTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwibWluaSIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcigib3B0aW9uIiwibWluaSIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1taW5pIiwhIWEpfSxfc2V0SGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJoaWdobGlnaHQiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsImhpZ2hsaWdodCIsYSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbGFiZWwucHJlcGVuZFRvKHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIiksdGhpcy5faW5wdXRGaXJzdC5hZnRlcih0aGlzLl9zbGlkZXJGaXJzdCksdGhpcy5faW5wdXRMYXN0LmFmdGVyKHRoaXMuX3NsaWRlckxhc3QpLHRoaXMuX3NsaWRlcnMucmVtb3ZlKCksdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IHVpLXJhbmdlc2xpZGVyLWxhc3QiKS5zbGlkZXIoImRlc3Ryb3kiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUudGV4dGlucHV0LHtvcHRpb25zOntjbGVhckJ0bjohMSxjbGVhckJ0blRleHQ6IkNsZWFyIHRleHQifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwodGhpcy5vcHRpb25zLmNsZWFyQnRufHx0aGlzLmlzU2VhcmNoKSYmdGhpcy5fYWRkQ2xlYXJCdG4oKX0sY2xlYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWlucHV0LWNsZWFyIHVpLWJ0biB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktY29ybmVyLWFsbCcgdGl0bGU9JyIrdGhpcy5vcHRpb25zLmNsZWFyQnRuVGV4dCsiJz4iK3RoaXMub3B0aW9ucy5jbGVhckJ0blRleHQrIjwvYT4iKX0sX2NsZWFyQnRuQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnZhbCgiIikuZm9jdXMoKS50cmlnZ2VyKCJjaGFuZ2UiKSx0aGlzLl9jbGVhckJ0bi5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiksYS5wcmV2ZW50RGVmYXVsdCgpfSxfYWRkQ2xlYXJCdG46ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2VDbGVhcigpLGEuZXh0ZW5kKHRoaXMse19jbGVhckJ0bjp0aGlzLndpZGdldCgpLmZpbmQoImEudWktaW5wdXQtY2xlYXIiKX0pLHRoaXMuX2JpbmRDbGVhckV2ZW50cygpLHRoaXMuX3RvZ2dsZUNsZWFyKCl9LF9lbmhhbmNlQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyQnV0dG9uKCkuYXBwZW5kVG8odGhpcy53aWRnZXQoKSksdGhpcy53aWRnZXQoKS5hZGRDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIil9LF9iaW5kQ2xlYXJFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLl9jbGVhckJ0bix7Y2xpY2s6Il9jbGVhckJ0bkNsaWNrIn0pLHRoaXMuX29uKHtrZXl1cDoiX3RvZ2dsZUNsZWFyIixjaGFuZ2U6Il90b2dnbGVDbGVhciIsaW5wdXQ6Il90b2dnbGVDbGVhciIsZm9jdXM6Il90b2dnbGVDbGVhciIsYmx1cjoiX3RvZ2dsZUNsZWFyIixjdXQ6Il90b2dnbGVDbGVhciIscGFzdGU6Il90b2dnbGVDbGVhciJ9KX0sX3VuYmluZENsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKHRoaXMuX2NsZWFyQnRuLCJjbGljayIpLHRoaXMuX29mZih0aGlzLmVsZW1lbnQsImtleXVwIGNoYW5nZSBpbnB1dCBmb2N1cyBibHVyIGN1dCBwYXN0ZSIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhLmNsZWFyQnRuPT09Ynx8dGhpcy5lbGVtZW50LmlzKCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpfHwoYS5jbGVhckJ0bj90aGlzLl9hZGRDbGVhckJ0bigpOnRoaXMuX2Rlc3Ryb3lDbGVhcigpKSxhLmNsZWFyQnRuVGV4dCE9PWImJnRoaXMuX2NsZWFyQnRuIT09YiYmdGhpcy5fY2xlYXJCdG4udGV4dChhLmNsZWFyQnRuVGV4dCkuYXR0cigidGl0bGUiLGEuY2xlYXJCdG5UZXh0KX0sX3RvZ2dsZUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoIl90b2dnbGVDbGVhckNsYXNzIiwwKX0sX3RvZ2dsZUNsZWFyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckJ0bi50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhdGhpcy5lbGVtZW50LnZhbCgpKX0sX2Rlc3Ryb3lDbGVhcjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoInVpLWlucHV0LWhhcy1jbGVhciIpLHRoaXMuX3VuYmluZENsZWFyKCksdGhpcy5fY2xlYXJCdG4ucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl9kZXN0cm95Q2xlYXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUudGV4dGlucHV0LHtvcHRpb25zOnthdXRvZ3JvdzohMCxrZXl1cFRpbWVvdXRCdWZmZXI6MTAwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYXV0b2dyb3cmJnRoaXMuaXNUZXh0YXJlYSYmdGhpcy5fYXV0b2dyb3coKX0sX2F1dG9ncm93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ciKSx0aGlzLl9vbih7a2V5dXA6Il90aW1lb3V0IixjaGFuZ2U6Il90aW1lb3V0IixpbnB1dDoiX3RpbWVvdXQiLHBhc3RlOiJfdGltZW91dCJ9KSx0aGlzLl9vbighMCx0aGlzLmRvY3VtZW50LHtwYWdlc2hvdzoiX2hhbmRsZVNob3ciLHBvcHVwYmVmb3JlcG9zaXRpb246Il9oYW5kbGVTaG93Iix1cGRhdGVsYXlvdXQ6Il9oYW5kbGVTaG93IixwYW5lbG9wZW46Il9oYW5kbGVTaG93In0pfSxfaGFuZGxlU2hvdzpmdW5jdGlvbihiKXthLmNvbnRhaW5zKGIudGFyZ2V0LHRoaXMuZWxlbWVudFswXSkmJnRoaXMuZWxlbWVudC5pcygiOnZpc2libGUiKSYmKCJwb3B1cGJlZm9yZXBvc2l0aW9uIiE9PWIudHlwZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplIikuYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGV4dGlucHV0LWF1dG9ncm93LXJlc2l6ZSIpfSx0aGlzKSwidHJhbnNpdGlvbiIpLHRoaXMuX3RpbWVvdXQoKSl9LF91bmJpbmRBdXRvZ3JvdzpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGV4dGlucHV0LWF1dG9ncm93IiksdGhpcy5fb2ZmKHRoaXMuZWxlbWVudCwia2V5dXAgY2hhbmdlIGlucHV0IHBhc3RlIiksdGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsInBhZ2VzaG93IHBvcHVwYmVmb3JlcG9zaXRpb24gdXBkYXRlbGF5b3V0IHBhbmVsb3BlbiIpfSxrZXl1cFRpbWVvdXQ6bnVsbCxfcHJlcGFyZUhlaWdodFVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLmtleXVwVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMua2V5dXBUaW1lb3V0KSxhPT09Yj90aGlzLl91cGRhdGVIZWlnaHQoKTp0aGlzLmtleXVwVGltZW91dD10aGlzLl9kZWxheSgiX3VwZGF0ZUhlaWdodCIsYSl9LF90aW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5fcHJlcGFyZUhlaWdodFVwZGF0ZSh0aGlzLm9wdGlvbnMua2V5dXBUaW1lb3V0QnVmZmVyKX0sX3VwZGF0ZUhlaWdodDpmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqPXRoaXMud2luZG93LnNjcm9sbFRvcCgpO3RoaXMua2V5dXBUaW1lb3V0PTAsIm9ucGFnZSJpbiB0aGlzLmVsZW1lbnRbMF18fHRoaXMuZWxlbWVudC5jc3Moe2hlaWdodDowLCJtaW4taGVpZ2h0IjowLCJtYXgtaGVpZ2h0IjowfSksZD10aGlzLmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0LGU9dGhpcy5lbGVtZW50WzBdLmNsaWVudEhlaWdodCxmPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKSxnPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpKSxoPWYrZyxpPWQraCsxNSwwPT09ZSYmKGE9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIpKSxiPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcygicGFkZGluZy1ib3R0b20iKSksYz1hK2IsaSs9YyksdGhpcy5lbGVtZW50LmNzcyh7aGVpZ2h0OmksIm1pbi1oZWlnaHQiOiIiLCJtYXgtaGVpZ2h0IjoiIn0pLHRoaXMud2luZG93LnNjcm9sbFRvcChqKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvZ3JvdyYmdGhpcy5pc1RleHRhcmVhJiZ0aGlzLl91cGRhdGVIZWlnaHQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYS5hdXRvZ3JvdyE9PWImJnRoaXMuaXNUZXh0YXJlYSYmKGEuYXV0b2dyb3c/dGhpcy5fYXV0b2dyb3coKTp0aGlzLl91bmJpbmRBdXRvZ3JvdygpKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSk6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJykgKSIsb3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOiJjYXJhdC1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITEsb3ZlcmxheVRoZW1lOm51bGwsZGl2aWRlclRoZW1lOm51bGwsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6ITAscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpLHRoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmlubGluZXx8dGhpcy5lbGVtZW50LmpxbURhdGEoImlubGluZSIpLGM9dGhpcy5vcHRpb25zLm1pbml8fHRoaXMuZWxlbWVudC5qcW1EYXRhKCJtaW5pIiksZD0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYoZD0iIHVpLWJ0bi1sZWZ0IiksfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJihkPSIgdWktYnRuLXJpZ2h0IiksYiYmKGQrPSIgdWktYnRuLWlubGluZSIpLGMmJihkKz0iIHVpLW1pbmkiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrZCsiJz4iKSx0aGlzLnNlbGVjdElkPXRoaXMuc2VsZWN0LmF0dHIoImlkIil8fCJzZWxlY3QtIit0aGlzLnV1aWQsdGhpcy5idXR0b25JZD10aGlzLnNlbGVjdElkKyItYnV0dG9uIix0aGlzLmxhYmVsPWEoImxhYmVsW2Zvcj0nIit0aGlzLnNlbGVjdElkKyInXSIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLXNlbGVjdCIpO2EubGVuZ3RoPjAmJihhLmlzKCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHQiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGEuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0Iik/InVpLWJ0bi1sZWZ0IjoidWktYnRuLXJpZ2h0IiksdGhpcy5lbGVtZW50Lmluc2VydEFmdGVyKGEpLGEucmVtb3ZlKCkpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlRXh0ZW5zaW9uKCksdGhpcy5idXR0b249dGhpcy5fYnV0dG9uKCk7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxmPXRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYXR0cigiaWQiLHRoaXMuYnV0dG9uSWQpLmFkZENsYXNzKCJ1aS1idG4iKyhkLmljb24/IiB1aS1pY29uLSIrZC5pY29uKyIgdWktYnRuLWljb24tIitlKyhkLmljb25zaGFkb3c/IiB1aS1zaGFkb3ctaWNvbiI6IiIpOiIiKSsoZC50aGVtZT8iIHVpLWJ0bi0iK2QudGhlbWU6IiIpKyhkLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIikrKGQuc2hhZG93PyIgdWktc2hhZG93IjoiIikpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZmLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJvZHktaW5oZXJpdCIpLmhpZGUoKS5hcHBlbmRUbyhmLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChkLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpLGQubmF0aXZlTWVudSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLl9vbih0aGlzLmJ1dHRvbix7a2V5ZG93bjoiX2hhbmRsZUtleWRvd24ifSksdGhpcy5idWlsZCgpfSxidWlsZDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5zZWxlY3QuYXBwZW5kVG8oYi5idXR0b24pLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yi5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJibHVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiZm9jdXMgdm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtiLmJ1dHRvbi50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIHZtb3VzZW91dCIsZnVuY3Rpb24oKXtiLmJ1dHRvbi50cmlnZ2VyKCJ2bW91c2VvdXQiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSxiLmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuc2VsZWN0LmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5idXR0b24uYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KSxiLnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5zZWxlY3RlZCgpLGU9dGhpcy5wbGFjZWhvbGRlcixmPWEoYy5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmNoaWxkcmVuKCJzcGFuIikubm90KCIudWktbGktY291bnQiKS5yZW1vdmUoKS5lbmQoKS5lbmQoKS5wcmVwZW5kKGZ1bmN0aW9uKCl7cmV0dXJuIGU9ZC5sZW5ndGg/ZC5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCIsICIpOmIucGxhY2Vob2xkZXIsZT9mLnRleHQoZSk6Zi5odG1sKCImIzE2MDsiKSxmLmFkZENsYXNzKGIuc2VsZWN0LmF0dHIoImNsYXNzIikpLmFkZENsYXNzKGQuYXR0cigiY2xhc3MiKSkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0oKSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoIl9yZWZyZXNoQnV0dG9uIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxfcmVmcmVzaEJ1dHRvbjpmdW5jdGlvbigpe3RoaXMuc2V0QnV0dG9uVGV4dCgpLHRoaXMuc2V0QnV0dG9uQ291bnQoKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hCdXR0b24oKX0sb3BlbjphLm5vb3AsY2xvc2U6YS5ub29wLGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMCksdGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCExKSx0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlua3M9ZnVuY3Rpb24oYil7YShiKS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5maWx0ZXIoIjpqcW1EYXRhKHJlbD0ncG9wdXAnKVtocmVmXVtocmVmIT0nJ10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0QXR0cmlidXRlKCJocmVmIikuc3Vic3RyaW5nKDEpO2ImJihhLnNldEF0dHJpYnV0ZSgiYXJpYS1oYXNwb3B1cCIsITApLGEuc2V0QXR0cmlidXRlKCJhcmlhLW93bnMiLGIpLGEuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMSkpfSkuZW5kKCkubm90KCIudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9fShhKSxmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSxiLGMsZCl7dmFyIGU9ZDtyZXR1cm4gZT1iPmE/YysoYS1iKS8yOk1hdGgubWluKE1hdGgubWF4KGMsZC1iLzIpLGMrYS1iKX1mdW5jdGlvbiBlKGEpe3JldHVybnt4OmEuc2Nyb2xsTGVmdCgpLHk6YS5zY3JvbGxUb3AoKSxjeDphWzBdLmlubmVyV2lkdGh8fGEud2lkdGgoKSxjeTphWzBdLmlubmVySGVpZ2h0fHxhLmhlaWdodCgpfX1hLndpZGdldCgibW9iaWxlLnBvcHVwIix7b3B0aW9uczp7d3JhcHBlckNsYXNzOm51bGwsdGhlbWU6bnVsbCxvdmVybGF5VGhlbWU6bnVsbCxzaGFkb3c6ITAsY29ybmVyczohMCx0cmFuc2l0aW9uOiJub25lIixwb3NpdGlvblRvOiJvcmlnaW4iLHRvbGVyYW5jZTpudWxsLGNsb3NlTGlua1NlbGVjdG9yOiJhOmpxbURhdGEocmVsPSdiYWNrJykiLGNsb3NlTGlua0V2ZW50czoiY2xpY2sucG9wdXAiLG5hdmlnYXRlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCIsY2xvc2VFdmVudHM6Im5hdmlnYXRlLnBvcHVwIHBhZ2ViZWZvcmVjaGFuZ2UucG9wdXAiLGRpc21pc3NpYmxlOiEwLGVuaGFuY2VkOiExLGhpc3Rvcnk6IWEubW9iaWxlLmJyb3dzZXIub2xkSUV9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmF0dHIoImlkIiksZD10aGlzLm9wdGlvbnM7ZC5oaXN0b3J5PWQuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLGEuZXh0ZW5kKHRoaXMse19zY3JvbGxUb3A6MCxfcGFnZTpiLmNsb3Nlc3QoIi51aS1wYWdlIiksX3VpOm51bGwsX2ZhbGxiYWNrVHJhbnNpdGlvbjoiIixfY3VycmVudFRyYW5zaXRpb246ITEsX3ByZXJlcXVpc2l0ZXM6bnVsbCxfaXNPcGVuOiExLF90b2xlcmFuY2U6bnVsbCxfcmVzaXplRGF0YTpudWxsLF9pZ25vcmVSZXNpemVUbzowLF9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M6ITF9KSwwPT09dGhpcy5fcGFnZS5sZW5ndGgmJih0aGlzLl9wYWdlPWEoImJvZHkiKSksZC5lbmhhbmNlZD90aGlzLl91aT17Y29udGFpbmVyOmIucGFyZW50KCksc2NyZWVuOmIucGFyZW50KCkucHJldigpLHBsYWNlaG9sZGVyOmEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZChjKyItcGxhY2Vob2xkZXIiKSl9Oih0aGlzLl91aT10aGlzLl9lbmhhbmNlKGIsYyksdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGQudHJhbnNpdGlvbikpLHRoaXMuX3NldFRvbGVyYW5jZShkLnRvbGVyYW5jZSkuX3VpLmZvY3VzRWxlbWVudD10aGlzLl91aS5jb250YWluZXIsdGhpcy5fb24odGhpcy5fdWkuc2NyZWVuLHt2Y2xpY2s6Il9lYXRFdmVudEFuZENsb3NlIn0pLHRoaXMuX29uKHRoaXMud2luZG93LHtvcmllbnRhdGlvbmNoYW5nZTphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZSIpLHJlc2l6ZTphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dSZXNpemUiKSxrZXl1cDphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dLZXlVcCIpfSksdGhpcy5fb24odGhpcy5kb2N1bWVudCx7Zm9jdXNpbjoiX2hhbmRsZURvY3VtZW50Rm9jdXNJbiJ9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLm9wdGlvbnMsZT1kLndyYXBwZXJDbGFzcyxmPXtzY3JlZW46YSgiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4gIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGQub3ZlcmxheVRoZW1lKSsiJz48L2Rpdj4iKSxwbGFjZWhvbGRlcjphKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj4iKSxjb250YWluZXI6YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIrKGU/IiAiK2U6IiIpKyInPjwvZGl2PiIpfSxnPXRoaXMuZG9jdW1lbnRbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiBnLmFwcGVuZENoaWxkKGYuc2NyZWVuWzBdKSxnLmFwcGVuZENoaWxkKGYuY29udGFpbmVyWzBdKSxjJiYoZi5zY3JlZW4uYXR0cigiaWQiLGMrIi1zY3JlZW4iKSxmLmNvbnRhaW5lci5hdHRyKCJpZCIsYysiLXBvcHVwIiksZi5wbGFjZWhvbGRlci5hdHRyKCJpZCIsYysiLXBsYWNlaG9sZGVyIikuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIitjKyIgLS0+IikpLHRoaXMuX3BhZ2VbMF0uYXBwZW5kQ2hpbGQoZyksZi5wbGFjZWhvbGRlci5pbnNlcnRBZnRlcihiKSxiLmRldGFjaCgpLmFkZENsYXNzKCJ1aS1wb3B1cCAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsZC50aGVtZSkrIiAiKyhkLnNoYWRvdz8idWktb3ZlcmxheS1zaGFkb3cgIjoiIikrKGQuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSkuYXBwZW5kVG8oZi5jb250YWluZXIpLGZ9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLnNjcmVlbixiPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCksYz1hLnJlbW92ZUF0dHIoInN0eWxlIikuaGVpZ2h0KCksZD10aGlzLmRvY3VtZW50LmhlaWdodCgpLTE7ZD5jP2EuaGVpZ2h0KGQpOmI+YyYmYS5oZWlnaHQoYil9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5faXNPcGVuJiZiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpOnZvaWQgMH0sX2V4cGVjdFJlc2l6ZUV2ZW50OmZ1bmN0aW9uKCl7dmFyIGE9ZSh0aGlzLndpbmRvdyk7aWYodGhpcy5fcmVzaXplRGF0YSl7aWYoYS54PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy54JiZhLnk9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLnkmJmEuY3g9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLmN4JiZhLmN5PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6dGhpcy5fZGVsYXkoIl9yZXNpemVUaW1lb3V0IiwyMDApLHdpbmRvd0Nvb3JkaW5hdGVzOmF9LCEwfSxfcmVzaXplVGltZW91dDpmdW5jdGlvbigpe3RoaXMuX2lzT3Blbj90aGlzLl9leHBlY3RSZXNpemVFdmVudCgpfHwodGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIiksdGhpcy5yZXBvc2l0aW9uKHtwb3NpdGlvblRvOiJ3aW5kb3cifSksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCkpLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpOih0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKX0sX3N0b3BJZ25vcmluZ1Jlc2l6ZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX2lnbm9yZVJlc2l6ZVRvPTB9LF9pZ25vcmVSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbyYmY2xlYXJUaW1lb3V0KHRoaXMuX2lnbm9yZVJlc2l6ZVRvKSx0aGlzLl9pZ25vcmVSZXNpemVUbz10aGlzLl9kZWxheSgiX3N0b3BJZ25vcmluZ1Jlc2l6ZUV2ZW50cyIsMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbigpe3RoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYoIXRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCkmJiF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3N8fHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIil8fHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIikucmVtb3ZlQXR0cigic3R5bGUiKSl9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9Yi50YXJnZXQsZT10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGQhPT1lLmNvbnRhaW5lclswXSl7aWYoYz1hKGQpLDA9PT1jLnBhcmVudHMoKS5maWx0ZXIoZS5jb250YWluZXJbMF0pLmxlbmd0aClyZXR1cm4gYSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLm9uZSgiZm9jdXMiLGZ1bmN0aW9uKCl7Yy5ibHVyKCl9KSxlLmZvY3VzRWxlbWVudC5mb2N1cygpLGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExO2UuZm9jdXNFbGVtZW50WzBdPT09ZS5jb250YWluZXJbMF0mJihlLmZvY3VzRWxlbWVudD1jKX10aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKX19LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiPyJub25lIj09PWI/IiI6YStiOmErImluaGVyaXQifSxfYXBwbHlUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3JldHVybiBiJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiksIm5vbmUiIT09YiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihiKSwibm9uZSI9PT10aGlzLl9mYWxsYmFja1RyYW5zaXRpb24mJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249IiIpLHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pKSksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLGQ9dGhpcy5lbGVtZW50LGU9dGhpcy5fdWkuc2NyZWVuO3JldHVybiBhLndyYXBwZXJDbGFzcyE9PWMmJnRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhiLndyYXBwZXJDbGFzcykuYWRkQ2xhc3MoYS53cmFwcGVyQ2xhc3MpLGEudGhlbWUhPT1jJiZkLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYi50aGVtZSkpLmFkZENsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYS50aGVtZSkpLGEub3ZlcmxheVRoZW1lIT09YyYmKGUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLW92ZXJsYXktIixiLm92ZXJsYXlUaGVtZSkpLmFkZENsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1vdmVybGF5LSIsYS5vdmVybGF5VGhlbWUpKSx0aGlzLl9pc09wZW4mJmUuYWRkQ2xhc3MoImluIikpLGEuc2hhZG93IT09YyYmZC50b2dnbGVDbGFzcygidWktb3ZlcmxheS1zaGFkb3ciLGEuc2hhZG93KSxhLmNvcm5lcnMhPT1jJiZkLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhLmNvcm5lcnMpLGEudHJhbnNpdGlvbiE9PWMmJih0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGEudHJhbnNpdGlvbikpLGEudG9sZXJhbmNlIT09YyYmdGhpcy5fc2V0VG9sZXJhbmNlKGEudG9sZXJhbmNlKSxhLmRpc2FibGVkIT09YyYmYS5kaXNhYmxlZCYmdGhpcy5jbG9zZSgpLHRoaXMuX3N1cGVyKGEpCn0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbihiKXt2YXIgZCxlPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09Yylzd2l0Y2goZD1TdHJpbmcoYikuc3BsaXQoIiwiKSxhLmVhY2goZCxmdW5jdGlvbihhLGIpe2RbYV09cGFyc2VJbnQoYiwxMCl9KSxkLmxlbmd0aCl7Y2FzZSAxOmlzTmFOKGRbMF0pfHwoZS50PWUucj1lLmI9ZS5sPWRbMF0pO2JyZWFrO2Nhc2UgMjppc05hTihkWzBdKXx8KGUudD1lLmI9ZFswXSksaXNOYU4oZFsxXSl8fChlLmw9ZS5yPWRbMV0pO2JyZWFrO2Nhc2UgNDppc05hTihkWzBdKXx8KGUudD1kWzBdKSxpc05hTihkWzFdKXx8KGUucj1kWzFdKSxpc05hTihkWzJdKXx8KGUuYj1kWzJdKSxpc05hTihkWzNdKXx8KGUubD1kWzNdKX1yZXR1cm4gdGhpcy5fdG9sZXJhbmNlPWUsdGhpc30sX2NsYW1wUG9wdXBXaWR0aDpmdW5jdGlvbihhKXt2YXIgYixjPWUodGhpcy53aW5kb3cpLGQ9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpjLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6Yy5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpjLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifTtyZXR1cm4gYXx8dGhpcy5fdWkuY29udGFpbmVyLmNzcygibWF4LXdpZHRoIixkLmN4KSxiPXtjeDp0aGlzLl91aS5jb250YWluZXIub3V0ZXJXaWR0aCghMCksY3k6dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKX0se3JjOmQsbWVudVNpemU6Yn19LF9jYWxjdWxhdGVGaW5hbExvY2F0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1iLnJjLGY9Yi5tZW51U2l6ZTtyZXR1cm4gYz17bGVmdDpkKGUuY3gsZi5jeCxlLngsYS54KSx0b3A6ZChlLmN5LGYuY3ksZS55LGEueSl9LGMudG9wPU1hdGgubWF4KDAsYy50b3ApLGMudG9wLT1NYXRoLm1pbihjLnRvcCxNYXRoLm1heCgwLGMudG9wK2YuY3ktdGhpcy5kb2N1bWVudC5oZWlnaHQoKSkpLGN9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oYSx0aGlzLl9jbGFtcFBvcHVwV2lkdGgoKSl9LF9jcmVhdGVQcmVyZXF1aXNpdGVzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPXRoaXM7ZT17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxlLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmIoKX0pLGUuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxdWlzaXRlcyYmYygpfSksYS53aGVuKGUuc2NyZWVuLGUuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJihmLl9wcmVyZXF1aXNpdGVzPW51bGwsZCgpKX0pLGYuX3ByZXJlcXVpc2l0ZXM9ZX0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXF1aXNpdGVzLnNjcmVlbi5yZXNvbHZlKCksYi50cmFuc2l0aW9uJiYibm9uZSIhPT1iLnRyYW5zaXRpb24mJihiLmFwcGx5VHJhbnNpdGlvbiYmdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGIudHJhbnNpdGlvbiksdGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKT92b2lkIHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyhiLmNvbnRhaW5lckNsYXNzVG9BZGQpLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSkuYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShiLnByZXJlcXVpc2l0ZXMuY29udGFpbmVyLCJyZXNvbHZlIikpOih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKSx2b2lkIGIucHJlcmVxdWlzaXRlcy5jb250YWluZXIucmVzb2x2ZSgpKX0sX2Rlc2lyZWRDb29yZHM6ZnVuY3Rpb24oYil7dmFyIGMsZD1udWxsLGY9ZSh0aGlzLndpbmRvdyksZz1iLngsaD1iLnksaT1iLnBvc2l0aW9uVG87aWYoaSYmIm9yaWdpbiIhPT1pKWlmKCJ3aW5kb3ciPT09aSlnPWYuY3gvMitmLngsaD1mLmN5LzIrZi55O2Vsc2V7dHJ5e2Q9YShpKX1jYXRjaChqKXtkPW51bGx9ZCYmKGQuZmlsdGVyKCI6dmlzaWJsZSIpLDA9PT1kLmxlbmd0aCYmKGQ9bnVsbCkpfXJldHVybiBkJiYoYz1kLm9mZnNldCgpLGc9Yy5sZWZ0K2Qub3V0ZXJXaWR0aCgpLzIsaD1jLnRvcCtkLm91dGVySGVpZ2h0KCkvMiksKCJudW1iZXIiIT09YS50eXBlKGcpfHxpc05hTihnKSkmJihnPWYuY3gvMitmLngpLCgibnVtYmVyIiE9PWEudHlwZShoKXx8aXNOYU4oaCkpJiYoaD1mLmN5LzIrZi55KSx7eDpnLHk6aH19LF9yZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe2E9e3g6YS54LHk6YS55LHBvc2l0aW9uVG86YS5wb3NpdGlvblRvfSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVwb3NpdGlvbiIsYyxhKSx0aGlzLl91aS5jb250YWluZXIub2Zmc2V0KHRoaXMuX3BsYWNlbWVudENvb3Jkcyh0aGlzLl9kZXNpcmVkQ29vcmRzKGEpKSl9LHJlcG9zaXRpb246ZnVuY3Rpb24oYSl7dGhpcy5faXNPcGVuJiZ0aGlzLl9yZXBvc2l0aW9uKGEpfSxfb3BlblByZXJlcXVpc2l0ZXNDb21wbGV0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpO3RoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5faXNPcGVuPSEwLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3VpLmNvbnRhaW5lci5hdHRyKCJ0YWJpbmRleCIsIjAiKS5mb2N1cygpLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpLGEmJnRoaXMuZG9jdW1lbnQuZmluZCgiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9JyIrYSsiJ10iKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJvcGVuIil9LF9vcGVuOmZ1bmN0aW9uKGIpe3ZhciBjPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxiKSxkPWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLyksYz0hIWImJmJbMV0sZD1hLm1hdGNoKC9BbmRyb2lkIChcZCsoPzpcLlxkKykpLyksZT0hIWQmJmRbMV0sZj1hLmluZGV4T2YoIkNocm9tZSIpPi0xO3JldHVybiBudWxsIT09ZCYmIjQuMCI9PT1lJiZjJiZjPjUzNC4xMyYmIWY/ITA6ITF9KCk7dGhpcy5fY3JlYXRlUHJlcmVxdWlzaXRlcyhhLm5vb3AsYS5ub29wLGEucHJveHkodGhpcywiX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGUiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249Yy50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihjLnRyYW5zaXRpb24pLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtdHJ1bmNhdGUiKSx0aGlzLl9yZXBvc2l0aW9uKGMpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmZCYmdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOiEwLHRyYW5zaXRpb246Yy50cmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6IiIsc2NyZWVuQ2xhc3NUb0FkZDoiaW4iLGNvbnRhaW5lckNsYXNzVG9BZGQ6ImluIixhcHBseVRyYW5zaXRpb246ITEscHJlcmVxdWlzaXRlczp0aGlzLl9wcmVyZXF1aXNpdGVzfSl9LF9jbG9zZVByZXJlcXVpc2l0ZVNjcmVlbjpmdW5jdGlvbigpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygib3V0IikuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0sX2Nsb3NlUHJlcmVxdWlzaXRlQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJyZXZlcnNlIG91dCIpLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGUiKS5yZW1vdmVBdHRyKCJzdHlsZSIpfSxfY2xvc2VQcmVyZXF1aXNpdGVzRG9uZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3VpLmNvbnRhaW5lcixkPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpO2IucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxhLm1vYmlsZS5wb3B1cC5hY3RpdmU9YyxhKCI6Zm9jdXMiLGJbMF0pLmFkZChiWzBdKS5ibHVyKCksZCYmdGhpcy5kb2N1bWVudC5maW5kKCJbYXJpYS1oYXNwb3B1cD0ndHJ1ZSddW2FyaWEtb3ducz0nIitkKyInXSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKSx0aGlzLl90cmlnZ2VyKCJhZnRlcmNsb3NlIil9LF9jbG9zZTpmdW5jdGlvbihiKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fY3JlYXRlUHJlcmVxdWlzaXRlcyhhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXVpc2l0ZVNjcmVlbiIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxdWlzaXRlQ29udGFpbmVyIiksYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXF1aXNpdGVzRG9uZSIpKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOnRoaXMuX3VpLnNjcmVlbi5oYXNDbGFzcygiaW4iKSx0cmFuc2l0aW9uOmI/Im5vbmUiOnRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6ImluIixzY3JlZW5DbGFzc1RvQWRkOiJvdXQiLGNvbnRhaW5lckNsYXNzVG9BZGQ6InJldmVyc2Ugb3V0IixhcHBseVRyYW5zaXRpb246ITAscHJlcmVxdWlzaXRlczp0aGlzLl9wcmVyZXF1aXNpdGVzfSl9LF91bmVuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLl9zZXRPcHRpb25zKHt0aGVtZTphLm1vYmlsZS5wb3B1cC5wcm90b3R5cGUub3B0aW9ucy50aGVtZX0pLHRoaXMuZWxlbWVudC5kZXRhY2goKS5pbnNlcnRBZnRlcih0aGlzLl91aS5wbGFjZWhvbGRlcikucmVtb3ZlQ2xhc3MoInVpLXBvcHVwIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwgdWktYm9keS1pbmhlcml0IiksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZSgpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl91aS5wbGFjZWhvbGRlci5yZW1vdmUoKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXM/KHRoaXMuZWxlbWVudC5vbmUoInBvcHVwYWZ0ZXJjbG9zZSIsYS5wcm94eSh0aGlzLCJfdW5lbmhhbmNlIikpLHRoaXMuY2xvc2UoKSk6dGhpcy5fdW5lbmhhbmNlKCksdGhpc30sX2Nsb3NlUG9wdXA6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zLGg9ITE7YyYmYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8YS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpc3x8KGIuc2Nyb2xsVG8oMCx0aGlzLl9zY3JvbGxUb3ApLGMmJiJwYWdlYmVmb3JlY2hhbmdlIj09PWMudHlwZSYmZCYmKGU9InN0cmluZyI9PXR5cGVvZiBkLnRvUGFnZT9kLnRvUGFnZTpkLnRvUGFnZS5qcW1EYXRhKCJ1cmwiKSxlPWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZSksZj1lLnBhdGhuYW1lK2Uuc2VhcmNoK2UuaGFzaCx0aGlzLl9teVVybCE9PWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGYpP2g9ITA6Yy5wcmV2ZW50RGVmYXVsdCgpKSx0aGlzLndpbmRvdy5vZmYoZy5jbG9zZUV2ZW50cyksdGhpcy5lbGVtZW50LnVuZGVsZWdhdGUoZy5jbG9zZUxpbmtTZWxlY3RvcixnLmNsb3NlTGlua0V2ZW50cyksdGhpcy5fY2xvc2UoaCkpfSxfYmluZENvbnRhaW5lckNsb3NlOmZ1bmN0aW9uKCl7dGhpcy53aW5kb3cub24odGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcywiX2Nsb3NlUG9wdXAiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aS5jb250YWluZXJ9LG9wZW46ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9dGhpcyxqPXRoaXMub3B0aW9ucztyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlfHxqLmRpc2FibGVkP3RoaXM6KGEubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSxqLmhpc3Rvcnk/KGg9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSxkPWEubW9iaWxlLmRpYWxvZ0hhc2hLZXksZT1hLm1vYmlsZS5hY3RpdmVQYWdlLGY9ZT9lLmhhc0NsYXNzKCJ1aS1kaWFsb2ciKTohMSx0aGlzLl9teVVybD1jPWguZ2V0QWN0aXZlKCkudXJsLChnPWMuaW5kZXhPZihkKT4tMSYmIWYmJmguYWN0aXZlSW5kZXg+MCk/KGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCksdGhpcyk6KC0xIT09Yy5pbmRleE9mKGQpfHxmP2M9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaCtkOmMrPWMuaW5kZXhPZigiIyIpPi0xP2Q6IiMiK2QsMD09PWguYWN0aXZlSW5kZXgmJmM9PT1oLmluaXRpYWxEc3QmJihjKz1kKSx0aGlzLndpbmRvdy5vbmUoImJlZm9yZW5hdmlnYXRlIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLHRoaXMudXJsQWx0ZXJlZD0hMCxhLm1vYmlsZS5uYXZpZ2F0ZShjLHtyb2xlOiJkaWFsb2cifSksdGhpcykpOihpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLGkuZWxlbWVudC5kZWxlZ2F0ZShqLmNsb3NlTGlua1NlbGVjdG9yLGouY2xvc2VMaW5rRXZlbnRzLGZ1bmN0aW9uKGEpe2kuY2xvc2UoKSxhLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzKSl9LGNsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXM/dGhpczoodGhpcy5fc2Nyb2xsVG9wPXRoaXMud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGEubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKSx0aGlzKX19KSxhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9YS5tb2JpbGUucGF0aCxlPWEoZC5oYXNoVG9TZWxlY3RvcihkLnBhcnNlVXJsKGIuYXR0cigiaHJlZiIpKS5oYXNoKSkuZmlyc3QoKTtlLmxlbmd0aD4wJiZlLmRhdGEoIm1vYmlsZS1wb3B1cCIpJiYoYz1iLm9mZnNldCgpLGUucG9wdXAoIm9wZW4iLHt4OmMubGVmdCtiLm91dGVyV2lkdGgoKS8yLHk6Yy50b3ArYi5vdXRlckhlaWdodCgpLzIsdHJhbnNpdGlvbjpiLmpxbURhdGEoInRyYW5zaXRpb24iKSxwb3NpdGlvblRvOmIuanFtRGF0YSgicG9zaXRpb24tdG8iKX0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGEubW9iaWxlLmRvY3VtZW50Lm9uKCJwYWdlYmVmb3JlY2hhbmdlIixmdW5jdGlvbihiLGMpeyJwb3B1cCI9PT1jLm9wdGlvbnMucm9sZSYmKGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbmsoYy5vcHRpb25zLmxpbmspLGIucHJldmVudERlZmF1bHQoKSl9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD0iLnVpLWRpc2FibGVkLC51aS1zdGF0ZS1kaXNhYmxlZCwudWktbGktZGl2aWRlciwudWktc2NyZWVuLWhpZGRlbiw6anFtRGF0YShyb2xlPSdwbGFjZWhvbGRlcicpIixlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hW2MrIkFsbCJdKCkubm90KGQpLmZpcnN0KCk7ZS5sZW5ndGgmJihiLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKX07YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLm1vYmlsZS5zZWxlY3RtZW51LHtfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBhLm5hdGl2ZU1lbnU9YS5uYXRpdmVNZW51fHx0aGlzLmVsZW1lbnQucGFyZW50cygiOmpxbURhdGEocm9sZT0ncG9wdXAnKSw6bW9iaWxlLXBvcHVwIikubGVuZ3RoPjAsdGhpcy5fc3VwZXIoKX0sX2hhbmRsZVNlbGVjdEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmJsdXIoKSx0aGlzLmJ1dHRvbi5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSx0aGlzLl9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duKGEpfSxfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuaXNPcGVufHwoInZjbGljayI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKHRoaXMuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PXRoaXMubWVudVR5cGU/dGhpcy5idXR0b24uYXR0cigiaHJlZiIsIiMiK3RoaXMucG9wdXBJZCkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOnRoaXMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIit0aGlzLmRpYWxvZ0lkKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLHRoaXMuaXNPcGVuPSEwKX0sX2hhbmRsZUxpc3RGb2N1czpmdW5jdGlvbihiKXt2YXIgYz0iZm9jdXNpbiI9PT1iLnR5cGU/e3RhYmluZGV4OiIwIixldmVudDoidm1vdXNlb3ZlciJ9Ont0YWJpbmRleDoiLTEiLGV2ZW50OiJ2bW91c2VvdXQifTthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsYy50YWJpbmRleCkudHJpZ2dlcihjLmV2ZW50KX0sX2hhbmRsZUxpc3RLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGUoZCxjLCJwcmV2IiksITE7Y2FzZSA0MDpyZXR1cm4gZShkLGMsIm5leHQiKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSwhMX19LF9oYW5kbGVNZW51UGFnZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLnRoaXNQYWdlLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4ib3ZlcmxheSI9PT10aGlzLm1lbnVUeXBlPyh0aGlzLmNsb3NlKCksITEpOnZvaWQgMH0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHc9dGhpcy5vcHRpb25zO3JldHVybiB3Lm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoKToodj10aGlzLGM9dGhpcy5zZWxlY3RJZCxkPWMrIi1saXN0Ym94IixlPWMrIi1kaWFsb2ciLGY9dGhpcy5sYWJlbCxnPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLGg9dGhpcy5lbGVtZW50WzBdLm11bHRpcGxlLGk9YysiLW1lbnUiLGo9dy50aGVtZT8iIGRhdGEtIithLm1vYmlsZS5ucysidGhlbWU9JyIrdy50aGVtZSsiJyI6IiIsaz13Lm92ZXJsYXlUaGVtZXx8dy50aGVtZXx8bnVsbCxsPWs/IiBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIraysiJyI6IiIsbT13LmRpdmlkZXJUaGVtZSYmaD8iIGRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZT0nIit3LmRpdmlkZXJUaGVtZSsiJyI6IiIsbj1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBjbGFzcz0ndWktc2VsZWN0bWVudScgaWQ9JyIrZSsiJyIraitsKyI+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZi5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj48L2Rpdj48ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+Iiksbz1hKCI8ZGl2IGlkPSciK2QrIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPjwvZGl2PiIpLmluc2VydEFmdGVyKHRoaXMuc2VsZWN0KS5wb3B1cCh7dGhlbWU6dy5vdmVybGF5VGhlbWV9KSxwPWEoIjx1bCBjbGFzcz0ndWktc2VsZWN0bWVudS1saXN0JyBpZD0nIitpKyInIHJvbGU9J2xpc3Rib3gnIGFyaWEtbGFiZWxsZWRieT0nIit0aGlzLmJ1dHRvbklkKyInIitqK20rIj48L3VsPiIpLmFwcGVuZFRvKG8pLHE9YSgiPGRpdiBjbGFzcz0ndWktaGVhZGVyIHVpLWJhci0iKyh3LnRoZW1lP3cudGhlbWU6ImluaGVyaXQiKSsiJz48L2Rpdj4iKS5wcmVwZW5kVG8obykscj1hKCI8aDEgY2xhc3M9J3VpLXRpdGxlJz48L2gxPiIpLmFwcGVuZFRvKHEpLHRoaXMuaXNNdWx0aXBsZSYmKHU9YSgiPGE+Iix7cm9sZToiYnV0dG9uIix0ZXh0OncuY2xvc2VUZXh0LGhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0biB1aS1jb3JuZXItYWxsIHVpLWJ0bi1sZWZ0IHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1pY29uLWRlbGV0ZSJ9KS5hcHBlbmRUbyhxKSksYS5leHRlbmQodGhpcyx7c2VsZWN0SWQ6YyxtZW51SWQ6aSxwb3B1cElkOmQsZGlhbG9nSWQ6ZSx0aGlzUGFnZTpnLG1lbnVQYWdlOm4sbGFiZWw6Zixpc011bHRpcGxlOmgsdGhlbWU6dy50aGVtZSxsaXN0Ym94Om8sbGlzdDpwLGhlYWRlcjpxLGhlYWRlclRpdGxlOnIsaGVhZGVyQ2xvc2U6dSxtZW51UGFnZUNvbnRlbnQ6cyxtZW51UGFnZUNsb3NlOnQscGxhY2Vob2xkZXI6IiJ9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vcmlnVGFiSW5kZXg9PT1iJiYodGhpcy5fb3JpZ1RhYkluZGV4PW51bGw9PT10aGlzLnNlbGVjdFswXS5nZXRBdHRyaWJ1dGUoInRhYmluZGV4Iik/ITE6dGhpcy5zZWxlY3QuYXR0cigidGFiaW5kZXgiKSksdGhpcy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLHRoaXMuX29uKHRoaXMuc2VsZWN0LHtmb2N1czoiX2hhbmRsZVNlbGVjdEZvY3VzIn0pLHRoaXMuX29uKHRoaXMuYnV0dG9uLHt2Y2xpY2s6Il9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duIn0pLHRoaXMubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLHRoaXMuX29uKHRoaXMubGlzdCx7Zm9jdXNpbjoiX2hhbmRsZUxpc3RGb2N1cyIsZm9jdXNvdXQ6Il9oYW5kbGVMaXN0Rm9jdXMiLGtleWRvd246Il9oYW5kbGVMaXN0S2V5ZG93biJ9KSx0aGlzLmxpc3QuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsLnVpLXN0YXRlLWRpc2FibGVkLC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz12LnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGQ9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsIm9wdGlvbi1pbmRleCIpLGU9di5fc2VsZWN0T3B0aW9ucygpLmVxKGQpWzBdO2Uuc2VsZWN0ZWQ9di5pc011bHRpcGxlPyFlLnNlbGVjdGVkOiEwLHYuaXNNdWx0aXBsZSYmYSh0aGlzKS5maW5kKCJhIikudG9nZ2xlQ2xhc3MoInVpLWNoZWNrYm94LW9uIixlLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktY2hlY2tib3gtb2ZmIiwhZS5zZWxlY3RlZCksKHYuaXNNdWx0aXBsZXx8YyE9PWQpJiZ2LnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSx2LmlzTXVsdGlwbGU/di5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShkKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpOnYuY2xvc2UoKSxiLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLl9vbih0aGlzLm1lbnVQYWdlLHtwYWdlaGlkZToiX2hhbmRsZU1lbnVQYWdlSGlkZSJ9KSx0aGlzLl9vbih0aGlzLmxpc3Rib3gse3BvcHVwYWZ0ZXJjbG9zZToiY2xvc2UifSksdGhpcy5pc011bHRpcGxlJiZ0aGlzLl9vbih0aGlzLmhlYWRlckNsb3NlLHtjbGljazoiX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2sifSksdGhpcyl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTtyZXR1cm4gYi50ZXh0KCkhPT1hLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIil9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4gdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoYik6KGM9dGhpcywoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmMuX2J1aWxkTGlzdCgpLGQ9dGhpcy5zZWxlY3RlZEluZGljZXMoKSxjLnNldEJ1dHRvblRleHQoKSxjLnNldEJ1dHRvbkNvdW50KCksdm9pZCBjLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmZpbmQoImEiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZW5kKCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7aWYoYS5pbkFycmF5KGIsZCk+LTEpe3ZhciBlPWEodGhpcyk7ZS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksYy5pc011bHRpcGxlP2UuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktY2hlY2tib3gtb24iKTplLmhhc0NsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik/ZS5uZXh0KCkuZmluZCgiYSIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTplLmZpbmQoImEiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9fSkpfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXt2YXIgYT10aGlzOyJwYWdlIj09PWEubWVudVR5cGU/KGEubWVudVBhZ2UuZGlhbG9nKCJjbG9zZSIpLGEubGlzdC5hcHBlbmRUbyhhLmxpc3Rib3gpKTphLmxpc3Rib3gucG9wdXAoImNsb3NlIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX19LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5jbGljaygpfSxfZm9jdXNNZW51SXRlbTpmdW5jdGlvbigpe3ZhciBiPXRoaXMubGlzdC5maW5kKCJhLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOzA9PT1iLmxlbmd0aCYmKGI9dGhpcy5saXN0LmZpbmQoImxpOm5vdCgiK2QrIikgYS51aS1idG4iKSksYi5maXJzdCgpLmZvY3VzKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy53aW5kb3csZD1iLmxpc3QucGFyZW50KCksZT1kLm91dGVySGVpZ2h0KCksZj1jLnNjcm9sbFRvcCgpLGc9Yi5idXR0b24ub2Zmc2V0KCkudG9wLGg9Yy5oZWlnaHQoKTtlPmgtODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wPyhiLm1lbnVQYWdlLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxiLm1lbnVQYWdlQ29udGVudD1iLm1lbnVQYWdlLmZpbmQoIi51aS1jb250ZW50IiksYi5tZW51UGFnZUNsb3NlPWIubWVudVBhZ2UuZmluZCgiLnVpLWhlYWRlciBhIiksYi50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLDA9PT1mJiZnPmgmJmIudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLGcpfSksYi5tZW51UGFnZS5vbmUoe3BhZ2VzaG93OmEucHJveHkodGhpcywiX2ZvY3VzTWVudUl0ZW0iKSxwYWdlaGlkZTphLnByb3h5KHRoaXMsImNsb3NlIil9KSxiLm1lbnVUeXBlPSJwYWdlIixiLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoYi5saXN0KSxiLm1lbnVQYWdlLmZpbmQoImRpdiAudWktdGl0bGUiKS50ZXh0KGIubGFiZWwudGV4dCgpKSk6KGIubWVudVR5cGU9Im92ZXJsYXkiLGIubGlzdGJveC5vbmUoe3BvcHVwYWZ0ZXJvcGVuOmEucHJveHkodGhpcywiX2ZvY3VzTWVudUl0ZW0iKX0pKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscT10aGlzLHI9dGhpcy5vcHRpb25zLHM9dGhpcy5wbGFjZWhvbGRlcix0PSEwLHU9ImZhbHNlIix2PSJkYXRhLSIrYS5tb2JpbGUubnMsdz12KyJvcHRpb24taW5kZXgiLHg9disiaWNvbiIseT12KyJyb2xlIix6PXYrInBsYWNlaG9sZGVyIixBPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLEI9ITE7Zm9yKHEubGlzdC5lbXB0eSgpLmZpbHRlcigiLnVpLWxpc3R2aWV3IikubGlzdHZpZXcoImRlc3Ryb3kiKSxiPXRoaXMuX3NlbGVjdE9wdGlvbnMoKSxkPWIubGVuZ3RoLGU9dGhpcy5zZWxlY3RbMF0sZz0wO2Q+ZztnKyssQj0hMSloPWJbZ10saT1hKGgpLGkuaGFzQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKXx8KGo9aC5wYXJlbnROb2RlLGs9aS50ZXh0KCksbD1jLmNyZWF0ZUVsZW1lbnQoImEiKSxtPVtdLGwuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLGwuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShrKSksaiE9PWUmJiJvcHRncm91cCI9PT1qLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihuPWouZ2V0QXR0cmlidXRlKCJsYWJlbCIpLG4hPT1mJiYobz1jLmNyZWF0ZUVsZW1lbnQoImxpIiksby5zZXRBdHRyaWJ1dGUoeSwibGlzdC1kaXZpZGVyIiksby5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxvLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLG8uYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShuKSksQS5hcHBlbmRDaGlsZChvKSxmPW4pKSwhdHx8aC5nZXRBdHRyaWJ1dGUoInZhbHVlIikmJjAhPT1rLmxlbmd0aCYmIWkuanFtRGF0YSgicGxhY2Vob2xkZXIiKXx8KHQ9ITEsQj0hMCxudWxsPT09aC5nZXRBdHRyaWJ1dGUoeikmJih0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHI9ITApLGguc2V0QXR0cmlidXRlKHosITApLHIuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZtLnB1c2goInVpLXNjcmVlbi1oaWRkZW4iKSxzIT09ayYmKHM9cS5wbGFjZWhvbGRlcj1rKSkscD1jLmNyZWF0ZUVsZW1lbnQoImxpIiksaC5kaXNhYmxlZCYmKG0ucHVzaCgidWktc3RhdGUtZGlzYWJsZWQiKSxwLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsITApKSxwLnNldEF0dHJpYnV0ZSh3LGcpLHAuc2V0QXR0cmlidXRlKHgsdSksQiYmcC5zZXRBdHRyaWJ1dGUoeiwhMCkscC5jbGFzc05hbWU9bS5qb2luKCIgIikscC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxsLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLHRoaXMuaXNNdWx0aXBsZSYmYShsKS5hZGRDbGFzcygidWktYnRuIHVpLWNoZWNrYm94LW9mZiB1aS1idG4taWNvbi1yaWdodCIpLHAuYXBwZW5kQ2hpbGQobCksQS5hcHBlbmRDaGlsZChwKSk7cS5saXN0WzBdLmFwcGVuZENoaWxkKEEpLHRoaXMuaXNNdWx0aXBsZXx8cy5sZW5ndGg/dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpOnRoaXMuaGVhZGVyLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIikscS5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoKTphKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOnRoaXMuYnV0dG9uSWQsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjp0aGlzLm1lbnVJZH0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5uYXRpdmVNZW51fHwodGhpcy5jbG9zZSgpLHRoaXMuX29yaWdUYWJJbmRleCE9PWImJih0aGlzLl9vcmlnVGFiSW5kZXghPT0hMT90aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ1RhYkluZGV4KTp0aGlzLnNlbGVjdC5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpKSx0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHImJnRoaXMuX3NlbGVjdE9wdGlvbnMoKS5yZW1vdmVBdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInBsYWNlaG9sZGVyIiksdGhpcy5saXN0Ym94LnJlbW92ZSgpLHRoaXMubWVudVBhZ2UucmVtb3ZlKCkpLHRoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPWI/YjpbXTtyZXR1cm4gYy5wdXNoKCJ1aS1idG4iKSxhLnRoZW1lJiZjLnB1c2goInVpLWJ0bi0iK2EudGhlbWUpLGEuaWNvbiYmKGM9Yy5jb25jYXQoWyJ1aS1pY29uLSIrYS5pY29uLCJ1aS1idG4taWNvbi0iK2EuaWNvbnBvc10pLGEuaWNvbnNoYWRvdyYmYy5wdXNoKCJ1aS1zaGFkb3ctaWNvbiIpKSxhLmlubGluZSYmYy5wdXNoKCJ1aS1idG4taW5saW5lIiksYS5zaGFkb3cmJmMucHVzaCgidWktc2hhZG93IiksYS5jb3JuZXJzJiZjLnB1c2goInVpLWNvcm5lci1hbGwiKSxhLm1pbmkmJmMucHVzaCgidWktbWluaSIpLGN9ZnVuY3Rpb24gZChhKXt2YXIgYyxkLGUsZz0hMSxoPSEwLGk9e2ljb246IiIsaW5saW5lOiExLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25zaGFkb3c6ITEsbWluaTohMX0saj1bXTtmb3IoYT1hLnNwbGl0KCIgIiksYz0wO2M8YS5sZW5ndGg7YysrKWU9ITAsZD1mW2FbY11dLGQhPT1iPyhlPSExLGlbZF09ITApOjA9PT1hW2NdLmluZGV4T2YoInVpLWJ0bi1pY29uLSIpPyhlPSExLGg9ITEsaS5pY29ucG9zPWFbY10uc3Vic3RyaW5nKDEyKSk6MD09PWFbY10uaW5kZXhPZigidWktaWNvbi0iKT8oZT0hMSxpLmljb249YVtjXS5zdWJzdHJpbmcoOCkpOjA9PT1hW2NdLmluZGV4T2YoInVpLWJ0bi0iKSYmOD09PWFbY10ubGVuZ3RoPyhlPSExLGkudGhlbWU9YVtjXS5zdWJzdHJpbmcoNykpOiJ1aS1idG4iPT09YVtjXSYmKGU9ITEsZz0hMCksZSYmai5wdXNoKGFbY10pO3JldHVybiBoJiYoaS5pY29uPSIiKSx7b3B0aW9uczppLHVua25vd25DbGFzc2VzOmosYWxyZWFkeUVuaGFuY2VkOmd9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX12YXIgZj17InVpLXNoYWRvdyI6InNoYWRvdyIsInVpLWNvcm5lci1hbGwiOiJjb3JuZXJzIiwidWktYnRuLWlubGluZSI6ImlubGluZSIsInVpLXNoYWRvdy1pY29uIjoiaWNvbnNoYWRvdyIsInVpLW1pbmkiOiJtaW5pIn0sZz1mdW5jdGlvbigpe3ZhciBjPWEubW9iaWxlLmdldEF0dHJpYnV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG51bGw9PWM/YjpjfSxoPS9bQS1aXS9nO2EuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGYsaSl7dmFyIGosayxsLG0sbixvPWEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzO2ZvcihqPTA7ajx0aGlzLmxlbmd0aDtqKyspe2lmKGw9dGhpc1tqXSxrPWk/e2FscmVhZHlFbmhhbmNlZDohMSx1bmtub3duQ2xhc3NlczpbXX06ZChsLmNsYXNzTmFtZSksbT1hLmV4dGVuZCh7fSxrLmFscmVhZHlFbmhhbmNlZD9rLm9wdGlvbnM6e30sZiksIWsuYWxyZWFkeUVuaGFuY2VkKWZvcihuIGluIG8pbVtuXT09PWImJihtW25dPWcobCxuLnJlcGxhY2UoaCxlKSkpO2wuY2xhc3NOYW1lPWMoYS5leHRlbmQoe30sbyxtKSxrLnVua25vd25DbGFzc2VzKS5qb2luKCIgIiksImJ1dHRvbiIhPT1sLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmbC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJidXR0b24iKX1yZXR1cm4gdGhpc30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9e2ljb246IiIsaWNvbnBvczoibGVmdCIsdGhlbWU6bnVsbCxpbmxpbmU6ITEsc2hhZG93OiEwLGNvcm5lcnM6ITAsaWNvbnNoYWRvdzohMSxtaW5pOiExfSxhLmV4dGVuZChhLmZuLmJ1dHRvbk1hcmt1cCx7aW5pdFNlbGVjdG9yOiJhOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhLCBidXR0b24ifSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jb250cm9sZ3JvdXAiLGEuZXh0ZW5kKHtvcHRpb25zOntlbmhhbmNlZDohMSx0aGVtZTpudWxsLHNoYWRvdzohMSxjb3JuZXJzOiEwLGV4Y2x1ZGVJbnZpc2libGU6ITAsdHlwZToidmVydGljYWwiLG1pbmk6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7YS5mbi5idXR0b25NYXJrdXAmJnRoaXMuZWxlbWVudC5maW5kKGEuZm4uYnV0dG9uTWFya3VwLmluaXRTZWxlY3RvcikuYnV0dG9uTWFya3VwKCksYS5lYWNoKHRoaXMuX2NoaWxkV2lkZ2V0cyxhLnByb3h5KGZ1bmN0aW9uKGIsYyl7YS5tb2JpbGVbY10mJnRoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlW2NdLmluaXRTZWxlY3Rvcikubm90KGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpKVtjXSgpfSx0aGlzKSksYS5leHRlbmQodGhpcyx7X3VpOm51bGwsX2luaXRpYWxSZWZyZXNoOiEwfSksdGhpcy5fdWk9Yy5lbmhhbmNlZD97Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1sYWJlbCIpLmNoaWxkcmVuKCksY2hpbGRXcmFwcGVyOmIuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX06dGhpcy5fZW5oYW5jZSgpfSxfY2hpbGRXaWRnZXRzOlsiY2hlY2tib3hyYWRpbyIsInNlbGVjdG1lbnUiLCJidXR0b24iXSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/Im5vbmUiPT09YT8iIjoidWktZ3JvdXAtdGhlbWUtIithOiIifSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPXtncm91cExlZ2VuZDpiLmNoaWxkcmVuKCJsZWdlbmQiKSxjaGlsZFdyYXBwZXI6Yi5hZGRDbGFzcygidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iKygiaG9yaXpvbnRhbCI9PT1jLnR5cGU/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIpKyIgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihjLnRoZW1lKSsiICIrKGMuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSsoYy5taW5pPyJ1aS1taW5pICI6IiIpKS53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyAiKyhjLnNoYWRvdz09PSEwPyJ1aS1zaGFkb3ciOiIiKSsiJz48L2Rpdj4iKS5jaGlsZHJlbigpfTtyZXR1cm4gZC5ncm91cExlZ2VuZC5sZW5ndGg+MCYmYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz48L2Rpdj4iKS5hcHBlbmQoZC5ncm91cExlZ2VuZCkucHJlcGVuZFRvKGIpLGR9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzLmVsZW1lbnQ7cmV0dXJuIGEudHlwZSE9PWImJihlLnJlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB1aS1jb250cm9sZ3JvdXAtdmVydGljYWwiKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLSIrKCJob3Jpem9udGFsIj09PWEudHlwZT8iaG9yaXpvbnRhbCI6InZlcnRpY2FsIikpLGM9ITApLGEudGhlbWUhPT1iJiZlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGEudGhlbWUpKSxhLmNvcm5lcnMhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhLmNvcm5lcnMpLGEubWluaSE9PWImJmUudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEubWluaSksYS5zaGFkb3chPT1iJiZ0aGlzLl91aS5jaGlsZFdyYXBwZXIudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsYS5zaGFkb3cpLGEuZXhjbHVkZUludmlzaWJsZSE9PWImJih0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT1hLmV4Y2x1ZGVJbnZpc2libGUsYz0hMCksZD10aGlzLl9zdXBlcihhKSxjJiZ0aGlzLnJlZnJlc2goKSxkfSxjb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY2hpbGRXcmFwcGVyfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jb250YWluZXIoKSxjPWIuZmluZCgiLnVpLWJ0biIpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSxkPXRoaXMuX2luaXRpYWxSZWZyZXNoO2EubW9iaWxlLmNoZWNrYm94cmFkaW8mJmIuZmluZCgiOm1vYmlsZS1jaGVja2JveHJhZGlvIikuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT90aGlzLl9nZXRWaXNpYmxlcyhjLGQpOmMsZCksdGhpcy5faW5pdGlhbFJlZnJlc2g9ITF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXMub3B0aW9ucztyZXR1cm4gYy5lbmhhbmNlZD90aGlzOihhPXRoaXMuX3VpLGI9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIHVpLWNvcm5lci1hbGwgdWktbWluaSAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGMudGhlbWUpKS5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYiksYS5ncm91cExlZ2VuZC51bndyYXAoKSx2b2lkIGEuY2hpbGRXcmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCkpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLHtpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdoZWFkZXInKSIsb3B0aW9uczp7dGhlbWU6bnVsbCxhZGRCYWNrQnRuOiExLGJhY2tCdG5UaGVtZTpudWxsLGJhY2tCdG5UZXh0OiJCYWNrIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciIsZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTswPT09ZS5sZW5ndGgmJihlPSExLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OiJyZWZyZXNoIn0pKSxhLmV4dGVuZCh0aGlzLHtyb2xlOmQscGFnZTplLGxlZnRidG46YixyaWdodGJ0bjpjfSksdGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJoZWFkZXIiPT09ZD8iYmFubmVyIjoiY29udGVudGluZm8iKS5hZGRDbGFzcygidWktIitkKSx0aGlzLnJlZnJlc2goKSx0aGlzLl9zZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKGMuYWRkQmFja0J0biE9PWImJih0aGlzLm9wdGlvbnMuYWRkQmFja0J0biYmImhlYWRlciI9PT10aGlzLnJvbGUmJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJnRoaXMucGFnZVswXS5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysidXJsIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIXRoaXMubGVmdGJ0bj90aGlzLl9hZGRCYWNrQnV0dG9uKCk6dGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIikucmVtb3ZlKCkpLG51bGwhPWMuYmFja0J0blRoZW1lJiZ0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXRvb2xiYXItYmFjay1idG4iKS5hZGRDbGFzcygidWktYnRuIHVpLWJ0bi0iK2MuYmFja0J0blRoZW1lKSxjLmJhY2tCdG5UZXh0IT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIC51aS1idG4tdGV4dCIpLnRleHQoYy5iYWNrQnRuVGV4dCksYy50aGVtZSE9PWIpe3ZhciBkPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ImluaGVyaXQiLGU9Yy50aGVtZT9jLnRoZW1lOiJpbmhlcml0Ijt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJhci0iK2QpLmFkZENsYXNzKCJ1aS1iYXItIitlKX10aGlzLl9zdXBlcihjKX0scmVmcmVzaDpmdW5jdGlvbigpeyJoZWFkZXIiPT09dGhpcy5yb2xlJiZ0aGlzLl9hZGRIZWFkZXJCdXR0b25DbGFzc2VzKCksdGhpcy5wYWdlfHwodGhpcy5fc2V0UmVsYXRpdmUoKSwiZm9vdGVyIj09PXRoaXMucm9sZSYmdGhpcy5lbGVtZW50LmFwcGVuZFRvKCJib2R5IikpLHRoaXMuX2FkZEhlYWRpbmdDbGFzc2VzKCksdGhpcy5fYnRuTWFya3VwKCl9LF9zZXRSZWxhdGl2ZTpmdW5jdGlvbigpe2EoIltkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnXSIpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pfSxfYnRuTWFya3VwOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJhIikuZmlsdGVyKCI6bm90KFtkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J25vbmUnXSkiKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLCJidXR0b24iKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiY3JlYXRlIil9LF9hZGRIZWFkZXJCdXR0b25DbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJhLCBidXR0b24iKTt0aGlzLmxlZnRidG49YS5oYXNDbGFzcygidWktYnRuLWxlZnQiKSx0aGlzLnJpZ2h0YnRuPWEuaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLHRoaXMubGVmdGJ0bj10aGlzLmxlZnRidG58fGEuZXEoMCkubm90KCIudWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi1sZWZ0IikubGVuZ3RoLHRoaXMucmlnaHRidG49dGhpcy5yaWdodGJ0bnx8YS5lcSgxKS5hZGRDbGFzcygidWktYnRuLXJpZ2h0IikubGVuZ3RofSxfYWRkQmFja0J1dHRvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWIuYmFja0J0blRoZW1lfHxiLnRoZW1lO2EoIjxhIHJvbGU9J2J1dHRvbicgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApOycgY2xhc3M9J3VpLWJ0biB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyB1aS1idG4tbGVmdCAiKyhjPyJ1aS1idG4tIitjKyIgIjoiIikrInVpLXRvb2xiYXItYmFjay1idG4gdWktaWNvbi1jYXJhdC1sIHVpLWJ0bi1pY29uLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJz4iK2IuYmFja0J0blRleHQrIjwvYT4iKS5wcmVwZW5kVG8odGhpcy5lbGVtZW50KX0sX2FkZEhlYWRpbmdDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7cm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIsYS5tb2JpbGUudG9vbGJhcix7b3B0aW9uczp7cG9zaXRpb246bnVsbCx2aXNpYmxlT25QYWdlU2hvdzohMCxkaXNhYmxlUGFnZVpvb206ITAsdHJhbnNpdGlvbjoic2xpZGUiLGZ1bGxzY3JlZW46ITEsdGFwVG9nZ2xlOiEwLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCwgLnVpLWZsaXBzd2l0Y2gsIC51aS1wb3B1cCwgLnVpLXBhbmVsLCAudWktcGFuZWwtZGlzbWlzcy1vcGVuIixoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzohMCx0cmFja1BlcnNpc3RlbnRUb29sYmFyczohMCxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIWEuc3VwcG9ydC5maXhlZFBvc2l0aW9ufX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksImZpeGVkIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbnx8dGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKXx8dGhpcy5fbWFrZUZpeGVkKCl9LF9tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLSIrdGhpcy5yb2xlKyItZml4ZWQiKSx0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKCksdGhpcy5fYWRkVHJhbnNpdGlvbkNsYXNzKCksdGhpcy5fYmluZFBhZ2VFdmVudHMoKSx0aGlzLl9iaW5kVG9nZ2xlSGFuZGxlcnMoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYyl7aWYoImZpeGVkIj09PWMucG9zaXRpb24mJiJmaXhlZCIhPT10aGlzLm9wdGlvbnMucG9zaXRpb24mJnRoaXMuX21ha2VGaXhlZCgpLCJmaXhlZCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb24mJiF0aGlzLm9wdGlvbnMuc3VwcG9ydEJsYWNrbGlzdCgpKXt2YXIgZD10aGlzLnBhZ2U/dGhpcy5wYWdlOmEoIi51aS1wYWdlLWFjdGl2ZSIpLmxlbmd0aD4wP2EoIi51aS1wYWdlLWFjdGl2ZSIpOmEoIi51aS1wYWdlIikuZXEoMCk7Yy5mdWxsc2NyZWVuIT09YiYmKGMuZnVsbHNjcmVlbj8odGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKSxkLmFkZENsYXNzKCJ1aS1wYWdlLSIrdGhpcy5yb2xlKyItZnVsbHNjcmVlbiIpKToodGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKSxkLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLSIrdGhpcy5yb2xlKyItZnVsbHNjcmVlbiIpLmFkZENsYXNzKCJ1aS1wYWdlLSIrdGhpcy5yb2xlKyItZml4ZWQiKSkpfXRoaXMuX3N1cGVyKGMpfSxfYWRkVHJhbnNpdGlvbkNsYXNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247YSYmIm5vbmUiIT09YSYmKCJzbGlkZSI9PT1hJiYoYT10aGlzLmVsZW1lbnQuaGFzQ2xhc3MoInVpLWhlYWRlciIpPyJzbGlkZWRvd24iOiJzbGlkZXVwIiksdGhpcy5lbGVtZW50LmFkZENsYXNzKGEpKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYWdlP3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpOnRoaXMuZG9jdW1lbnQ7dGhpcy5fb24oYSx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsYW5pbWF0aW9uc3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHBhZ2VzaG93OiJfaGFuZGxlUGFnZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIil9LF9oYW5kbGVQYWdlU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIiksdGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vbih0aGlzLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJ1cGRhdGVQYWdlUGFkZGluZyJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVIaWRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaD10aGlzLm9wdGlvbnM7aC5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKSxoLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vZmYodGhpcy53aW5kb3csInRocm90dGxlZHJlc2l6ZSIpLGgudHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMmJihkPWEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMucGFnZSksZT1hKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLnBhZ2UpLGY9ZC5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitkLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpLGc9ZS5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitlLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpLChmLmxlbmd0aHx8Zy5sZW5ndGgpJiYoZi5hZGQoZykuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksYy5uZXh0UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2cucHJlcGVuZFRvKHRoaXMpLGYuYXBwZW5kVG8odGhpcyl9KSkpfSxfdmlzaWJsZTohMCx1cGRhdGVQYWdlUGFkZGluZzpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmVsZW1lbnQsZT0iaGVhZGVyIj09PXRoaXMucm9sZSxmPXBhcnNlRmxvYXQoZC5jc3MoZT8idG9wIjoiYm90dG9tIikpO3RoaXMub3B0aW9ucy5mdWxsc2NyZWVufHwoYz1jJiZjLnR5cGU9PT1iJiZjfHx0aGlzLnBhZ2V8fGQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxjPXRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIsYShjKS5jc3MoInBhZGRpbmctIisoZT8idG9wIjoiYm90dG9tIiksZC5vdXRlckhlaWdodCgpK2YpKX0sX3VzZVRyYW5zaXRpb246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy53aW5kb3csZD10aGlzLmVsZW1lbnQsZT1jLnNjcm9sbFRvcCgpLGY9ZC5oZWlnaHQoKSxnPXRoaXMucGFnZT9kLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCk6YSgiLnVpLXBhZ2UtYWN0aXZlIikuaGVpZ2h0KCksaD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtyZXR1cm4hYiYmKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiYibm9uZSIhPT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmKCJoZWFkZXIiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmU+Znx8ImZvb3RlciI9PT10aGlzLnJvbGUmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZy1mPmUraCl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MucmVtb3ZlQ2xhc3MoIm91dCAiK2IpLmFkZENsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygiaW4iKX0pOmMucmVtb3ZlQ2xhc3MoYiksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudCxkPSJvdXQiKygic2xpZGUiPT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLmFkZENsYXNzKGQpLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKX0pOmMuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcyxlPWQub3B0aW9ucyxmPSEwLGc9dGhpcy5wYWdlP3RoaXMucGFnZTphKCIudWktcGFnZSIpO2cuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtlLnRhcFRvZ2dsZSYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoZS50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmZC50b2dnbGUoKX0pLmJpbmQoImZvY3VzaW4gZm9jdXNvdXQiLGZ1bmN0aW9uKGcpe3NjcmVlbi53aWR0aDwxMDI1JiZhKGcudGFyZ2V0KS5pcyhlLmhpZGVEdXJpbmdGb2N1cykmJiFhKGcudGFyZ2V0KS5jbG9zZXN0KCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoJiYoImZvY3Vzb3V0IiE9PWcudHlwZXx8Zj8iZm9jdXNpbiI9PT1nLnR5cGUmJmYmJihjbGVhclRpbWVvdXQoYiksZj0hMSxjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmhpZGUoKX0sMCkpOihmPSEwLGNsZWFyVGltZW91dChjKSxiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnNob3coKX0sMCkpKX0pfSxfc2V0UmVsYXRpdmU6ZnVuY3Rpb24oKXsiZml4ZWQiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiZhKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJ10iKS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmhhc0NsYXNzKCJ1aS1oZWFkZXIiKTthLmNsb3Nlc3QoIi51aS1wYWdlIikuY3NzKCJwYWRkaW5nLSIrKGI/InRvcCI6ImJvdHRvbSIpLCIiKSxhLnJlbW92ZUNsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZm9vdGVyLWZpeGVkIHVpLWhlYWRlci1mdWxsc2NyZWVuIHVpLWZvb3Rlci1mdWxsc2NyZWVuIGluIG91dCBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlbiIpLGEuY2xvc2VzdCgiLnVpLXBhZ2UiKS5yZW1vdmVDbGFzcygidWktcGFnZS1oZWFkZXItZml4ZWQgdWktcGFnZS1mb290ZXItZml4ZWQgdWktcGFnZS1oZWFkZXItZnVsbHNjcmVlbiB1aS1wYWdlLWZvb3Rlci1mdWxsc2NyZWVuIil9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIsYS5tb2JpbGUudG9vbGJhcix7X21ha2VGaXhlZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5fd29ya2Fyb3VuZHMoKX0sX3dvcmthcm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPW5hdmlnYXRvci5wbGF0Zm9ybSxjPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLGQ9ISFjJiZjWzFdLGU9bnVsbCxmPXRoaXM7aWYoYi5pbmRleE9mKCJpUGhvbmUiKT4tMXx8Yi5pbmRleE9mKCJpUGFkIik+LTF8fGIuaW5kZXhPZigiaVBvZCIpPi0xKWU9ImlvcyI7ZWxzZXtpZighKGEuaW5kZXhPZigiQW5kcm9pZCIpPi0xKSlyZXR1cm47ZT0iYW5kcm9pZCJ9aWYoImlvcyI9PT1lKWYuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCk7ZWxzZXtpZighKCJhbmRyb2lkIj09PWUmJmQmJjUzND5kKSlyZXR1cm47Zi5fYmluZFNjcm9sbFdvcmthcm91bmQoKSxmLl9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZCgpfX0sX3ZpZXdwb3J0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5oYXNDbGFzcygidWktaGVhZGVyIiksYz1NYXRoLmFicyhhLm9mZnNldCgpLnRvcC10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSk7cmV0dXJuIGJ8fChjPU1hdGgucm91bmQoYy10aGlzLndpbmRvdy5oZWlnaHQoKSthLm91dGVySGVpZ2h0KCkpLTYwKSxjfSxfYmluZFNjcm9sbFdvcmthcm91bmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuX29uKHRoaXMud2luZG93LHtzY3JvbGxzdG9wOmZ1bmN0aW9uKCl7dmFyIGI9YS5fdmlld3BvcnRPZmZzZXQoKTtiPjImJmEuX3Zpc2libGUmJmEuX3RyaWdnZXJSZWRyYXcoKX19KX0sX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4ZWQiKX0sX3RyaWdnZXJSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgYj1wYXJzZUZsb2F0KGEoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iKSk7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisxKyJweCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIixiKyJweCIpfSwwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeCIpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1lLmNsb25lKCksYj1hLmVxKDApLGM9YS5lcSgxKSxkPWMuY2hpbGRyZW4oKTtyZXR1cm57YXJFbHM6Yy5hZGQoYiksZ2Q6YixjdDpjLGFyOmR9fXZhciBkPWEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU8PTgsZT1hKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdy1ndWlkZSc+PC9kaXY+PGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3ctY29udGFpbmVyIisoZD8iIGllIjoiIikrIic+PGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3cnPjwvZGl2PjwvZGl2PiIpO2Eud2lkZ2V0KCJtb2JpbGUucG9wdXAiLGEubW9iaWxlLnBvcHVwLHtvcHRpb25zOnthcnJvdzoiIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5fc3VwZXIoKTtyZXR1cm4gdGhpcy5vcHRpb25zLmFycm93JiYodGhpcy5fdWkuYXJyb3c9YT10aGlzLl9hZGRBcnJvdygpKSxifSxfYWRkQXJyb3c6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMub3B0aW9ucyxkPWMoKTtyZXR1cm4gYT10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGIudGhlbWUpLGQuYXIuYWRkQ2xhc3MoYSsoYi5zaGFkb3c/IiB1aS1vdmVybGF5LXNoYWRvdyI6IiIpKSxkLmFyRWxzLmhpZGUoKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLGR9LF91bmVuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aS5hcnJvdztyZXR1cm4gYSYmYS5hckVscy5yZW1vdmUoKSx0aGlzLl9zdXBlcigpfSxfdHJ5QW5BcnJvdzpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpPXt9LGo9e307cmV0dXJuIGQuYXJGdWxsW2EuZGltS2V5XT5kLmd1aWRlRGltc1thLmRpbUtleV0/ZTooaVthLmZzdF09Y1thLmZzdF0rKGQuYXJIYWxmW2Eub0RpbUtleV0rZC5tZW51SGFsZlthLm9EaW1LZXldKSphLm9mZnNldEZhY3Rvci1kLmNvbnRlbnRCb3hbYS5mc3RdKyhkLmNsYW1wSW5mby5tZW51U2l6ZVthLm9EaW1LZXldLWQuY29udGVudEJveFthLm9EaW1LZXldKSphLmFycm93T2Zmc2V0RmFjdG9yLGlbYS5zbmRdPWNbYS5zbmRdLGY9ZC5yZXN1bHR8fHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oaSxkLmNsYW1wSW5mbyksZz17eDpmLmxlZnQseTpmLnRvcH0salthLmZzdF09Z1thLmZzdF0rZC5jb250ZW50Qm94W2EuZnN0XSthLnRpcE9mZnNldCxqW2Euc25kXT1NYXRoLm1heChmW2EucHJvcF0rZC5ndWlkZU9mZnNldFthLnByb3BdK2QuYXJIYWxmW2EuZGltS2V5XSxNYXRoLm1pbihmW2EucHJvcF0rZC5ndWlkZU9mZnNldFthLnByb3BdK2QuZ3VpZGVEaW1zW2EuZGltS2V5XS1kLmFySGFsZlthLmRpbUtleV0sY1thLnNuZF0pKSxoPU1hdGguYWJzKGMueC1qLngpK01hdGguYWJzKGMueS1qLnkpLCghZXx8aDxlLmRpZmYpJiYoalthLnNuZF0tPWQuYXJIYWxmW2EuZGltS2V5XStmW2EucHJvcF0rZC5jb250ZW50Qm94W2Euc25kXSxlPXtkaXI6YixkaWZmOmgscmVzdWx0OmYscG9zUHJvcDphLnByb3AscG9zVmFsOmpbYS5zbmRdfSksZSl9LF9nZXRQbGFjZW1lbnRTdGF0ZTpmdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5fdWkuYXJyb3csZT17Y2xhbXBJbmZvOnRoaXMuX2NsYW1wUG9wdXBXaWR0aCghYSksYXJGdWxsOntjeDpkLmN0LndpZHRoKCksY3k6ZC5jdC5oZWlnaHQoKX0sZ3VpZGVEaW1zOntjeDpkLmdkLndpZHRoKCksY3k6ZC5nZC5oZWlnaHQoKX0sZ3VpZGVPZmZzZXQ6ZC5nZC5vZmZzZXQoKX07cmV0dXJuIGI9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGQuZ2QuY3NzKHtsZWZ0OjAsdG9wOjAscmlnaHQ6MCxib3R0b206MH0pLGM9ZC5nZC5vZmZzZXQoKSxlLmNvbnRlbnRCb3g9e3g6Yy5sZWZ0LWIubGVmdCx5OmMudG9wLWIudG9wLGN4OmQuZ2Qud2lkdGgoKSxjeTpkLmdkLmhlaWdodCgpfSxkLmdkLnJlbW92ZUF0dHIoInN0eWxlIiksZS5ndWlkZU9mZnNldD17bGVmdDplLmd1aWRlT2Zmc2V0LmxlZnQtYi5sZWZ0LHRvcDplLmd1aWRlT2Zmc2V0LnRvcC1iLnRvcH0sZS5hckhhbGY9e2N4OmUuYXJGdWxsLmN4LzIsY3k6ZS5hckZ1bGwuY3kvMn0sZS5tZW51SGFsZj17Y3g6ZS5jbGFtcEluZm8ubWVudVNpemUuY3gvMixjeTplLmNsYW1wSW5mby5tZW51U2l6ZS5jeS8yfSxlfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGgsaT10aGlzLm9wdGlvbnMuYXJyb3csaj10aGlzLl91aS5hcnJvdztyZXR1cm4gaj8oai5hckVscy5zaG93KCksaD17fSxjPXRoaXMuX2dldFBsYWNlbWVudFN0YXRlKCEwKSxmPXtsOntmc3Q6IngiLHNuZDoieSIscHJvcDoidG9wIixkaW1LZXk6ImN5IixvRGltS2V5OiJjeCIsb2Zmc2V0RmFjdG9yOjEsdGlwT2Zmc2V0Oi1jLmFySGFsZi5jeCxhcnJvd09mZnNldEZhY3RvcjowfSxyOntmc3Q6IngiLHNuZDoieSIscHJvcDoidG9wIixkaW1LZXk6ImN5IixvRGltS2V5OiJjeCIsb2Zmc2V0RmFjdG9yOi0xLHRpcE9mZnNldDpjLmFySGFsZi5jeCtjLmNvbnRlbnRCb3guY3gsYXJyb3dPZmZzZXRGYWN0b3I6MX0sYjp7ZnN0OiJ5IixzbmQ6IngiLHByb3A6ImxlZnQiLGRpbUtleToiY3giLG9EaW1LZXk6ImN5IixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN5K2MuY29udGVudEJveC5jeSxhcnJvd09mZnNldEZhY3RvcjoxfSx0Ontmc3Q6InkiLHNuZDoieCIscHJvcDoibGVmdCIsZGltS2V5OiJjeCIsb0RpbUtleToiY3kiLG9mZnNldEZhY3RvcjoxLHRpcE9mZnNldDotYy5hckhhbGYuY3ksYXJyb3dPZmZzZXRGYWN0b3I6MH19LGEuZWFjaCgoaT09PSEwPyJsLHQscixiIjppKS5zcGxpdCgiLCIpLGEucHJveHkoZnVuY3Rpb24oYSxkKXtlPXRoaXMuX3RyeUFuQXJyb3coZltkXSxkLGIsYyxlKX0sdGhpcykpLGU/KGouY3QucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWFycm93LWwgdWktcG9wdXAtYXJyb3ctdCB1aS1wb3B1cC1hcnJvdy1yIHVpLXBvcHVwLWFycm93LWIiKS5hZGRDbGFzcygidWktcG9wdXAtYXJyb3ctIitlLmRpcikucmVtb3ZlQXR0cigic3R5bGUiKS5jc3MoZS5wb3NQcm9wLGUucG9zVmFsKS5zaG93KCksZHx8KGc9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGhbZltlLmRpcl0uZnN0XT1qLmN0Lm9mZnNldCgpLGhbZltlLmRpcl0uc25kXT17bGVmdDpnLmxlZnQrYy5jb250ZW50Qm94LngsdG9wOmcudG9wK2MuY29udGVudEJveC55fSksZS5yZXN1bHQpOihqLmFyRWxzLmhpZGUoKSx0aGlzLl9zdXBlcihiKSkpOnRoaXMuX3N1cGVyKGIpCn0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLm9wdGlvbnMudGhlbWUsZT10aGlzLl91aS5hcnJvdyxmPXRoaXMuX3N1cGVyKGEpO2lmKGEuYXJyb3chPT1iKXtpZighZSYmYS5hcnJvdylyZXR1cm4gdm9pZCh0aGlzLl91aS5hcnJvdz10aGlzLl9hZGRBcnJvdygpKTtlJiYhYS5hcnJvdyYmKGUuYXJFbHMucmVtb3ZlKCksdGhpcy5fdWkuYXJyb3c9bnVsbCl9cmV0dXJuIGU9dGhpcy5fdWkuYXJyb3csZSYmKGEudGhlbWUhPT1iJiYoZD10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGQpLGM9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixhLnRoZW1lKSxlLmFyLnJlbW92ZUNsYXNzKGQpLmFkZENsYXNzKGMpKSxhLnNoYWRvdyE9PWImJmUuYXIudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhLnNoYWRvdykpLGZ9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGEmJmEuYXJFbHMucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLnBhbmVsIix7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6InVpLXBhbmVsIixwYW5lbE9wZW46InVpLXBhbmVsLW9wZW4iLHBhbmVsQ2xvc2VkOiJ1aS1wYW5lbC1jbG9zZWQiLHBhbmVsRml4ZWQ6InVpLXBhbmVsLWZpeGVkIixwYW5lbElubmVyOiJ1aS1wYW5lbC1pbm5lciIsbW9kYWw6InVpLXBhbmVsLWRpc21pc3MiLG1vZGFsT3BlbjoidWktcGFuZWwtZGlzbWlzcy1vcGVuIixwYWdlQ29udGFpbmVyOiJ1aS1wYW5lbC1wYWdlLWNvbnRhaW5lciIscGFnZVdyYXBwZXI6InVpLXBhbmVsLXdyYXBwZXIiLHBhZ2VGaXhlZFRvb2xiYXI6InVpLXBhbmVsLWZpeGVkLXRvb2xiYXIiLHBhZ2VDb250ZW50UHJlZml4OiJ1aS1wYW5lbC1wYWdlLWNvbnRlbnQiLGFuaW1hdGU6InVpLXBhbmVsLWFuaW1hdGUifSxhbmltYXRlOiEwLHRoZW1lOm51bGwscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsc3dpcGVDbG9zZTohMCxwb3NpdGlvbkZpeGVkOiExfSxfY2xvc2VMaW5rOm51bGwsX3BhcmVudFBhZ2U6bnVsbCxfcGFnZTpudWxsLF9tb2RhbDpudWxsLF9wYW5lbElubmVyOm51bGwsX3dyYXBwZXI6bnVsbCxfZml4ZWRUb29sYmFyczpudWxsLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmNsb3Nlc3QoIi51aS1wYWdlLCA6anFtRGF0YShyb2xlPSdwYWdlJykiKTthLmV4dGVuZCh0aGlzLHtfY2xvc2VMaW5rOmIuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhcmVudFBhZ2U6Yy5sZW5ndGg+MD9jOiExLF9vcGVuZWRQYWdlOm51bGwsX3BhZ2U6dGhpcy5fZ2V0UGFnZSxfcGFuZWxJbm5lcjp0aGlzLl9nZXRQYW5lbElubmVyKCksX2ZpeGVkVG9vbGJhcnM6dGhpcy5fZ2V0Rml4ZWRUb29sYmFyc30pLCJvdmVybGF5IiE9PXRoaXMub3B0aW9ucy5kaXNwbGF5JiZ0aGlzLl9nZXRXcmFwcGVyKCksdGhpcy5fYWRkUGFuZWxDbGFzc2VzKCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZ0aGlzLm9wdGlvbnMuYW5pbWF0ZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpLHRoaXMuX2JpbmRVcGRhdGVMYXlvdXQoKSx0aGlzLl9iaW5kQ2xvc2VFdmVudHMoKSx0aGlzLl9iaW5kTGlua0xpc3RlbmVycygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLl9jcmVhdGVNb2RhbCgpLHRoaXMuX2JpbmRTd2lwZUV2ZW50cygpfSxfZ2V0UGFuZWxJbm5lcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maW5kKCIuIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWEubGVuZ3RoJiYoYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSciK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrIicgLz4iKS5wYXJlbnQoKSksYX0sX2NyZWF0ZU1vZGFsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuX3BhcmVudFBhZ2U/Yi5fcGFyZW50UGFnZS5wYXJlbnQoKTpiLmVsZW1lbnQucGFyZW50KCk7Yi5fbW9kYWw9YSgiPGRpdiBjbGFzcz0nIitiLm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCsiJz48L2Rpdj4iKS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pLmFwcGVuZFRvKGMpfSxfZ2V0UGFnZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX29wZW5lZFBhZ2V8fHRoaXMuX3BhcmVudFBhZ2V8fGEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7cmV0dXJuIGJ9LF9nZXRXcmFwcGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fcGFnZSgpLmZpbmQoIi4iK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VXcmFwcGVyKTswPT09YS5sZW5ndGgmJihhPXRoaXMuX3BhZ2UoKS5jaGlsZHJlbigiLnVpLWhlYWRlcjpub3QoLnVpLWhlYWRlci1maXhlZCksIC51aS1jb250ZW50Om5vdCgudWktcG9wdXApLCAudWktZm9vdGVyOm5vdCgudWktZm9vdGVyLWZpeGVkKSIpLndyYXBBbGwoIjxkaXYgY2xhc3M9JyIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIrIic+PC9kaXY+IikucGFyZW50KCkpLHRoaXMuX3dyYXBwZXI9YX0sX2dldEZpeGVkVG9vbGJhcnM6ZnVuY3Rpb24oKXt2YXIgYj1hKCJib2R5IikuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiKSxjPXRoaXMuX3BhZ2UoKS5maW5kKCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIiksZD1iLmFkZChjKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYWdlRml4ZWRUb29sYmFyKTtyZXR1cm4gZH0sX2dldFBvc0Rpc3BsYXlDbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhKyItcG9zaXRpb24tIit0aGlzLm9wdGlvbnMucG9zaXRpb24rIiAiK2ErIi1kaXNwbGF5LSIrdGhpcy5vcHRpb25zLmRpc3BsYXl9LF9nZXRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCsiICIrdGhpcy5fZ2V0UG9zRGlzcGxheUNsYXNzZXModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwpKyIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbENsb3NlZCsiIHVpLWJvZHktIisodGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZToiaW5oZXJpdCIpO3JldHVybiB0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmKGErPSIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKSxhfSxfYWRkUGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMuX2dldFBhbmVsQ2xhc3NlcygpKX0sX2hhbmRsZUNsb3NlQ2xpY2tBbmRFYXRFdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS5pc0RlZmF1bHRQcmV2ZW50ZWQoKT92b2lkIDA6KGEucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKCksITEpfSxfaGFuZGxlQ2xvc2VDbGljazpmdW5jdGlvbihhKXthLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLmNsb3NlKCl9LF9iaW5kQ2xvc2VFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLl9jbG9zZUxpbmsse2NsaWNrOiJfaGFuZGxlQ2xvc2VDbGljayJ9KSx0aGlzLl9vbih7ImNsaWNrIGE6anFtRGF0YShhamF4PSdmYWxzZScpIjoiX2hhbmRsZUNsb3NlQ2xpY2sifSl9LF9wb3NpdGlvblBhbmVsOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1jLl9wYW5lbElubmVyLm91dGVySGVpZ2h0KCksZT1kPmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2V8fCFjLm9wdGlvbnMucG9zaXRpb25GaXhlZD8oZSYmKGMuX3VuZml4UGFuZWwoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoZCkpLGImJnRoaXMud2luZG93WzBdLnNjcm9sbFRvKDAsYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpKTpjLl9maXhQYW5lbCgpfSxfYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb24oYShiKSx7dGhyb3R0bGVkcmVzaXplOiJfcG9zaXRpb25QYW5lbCJ9KX0sX3VuYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKGEoYiksInRocm90dGxlZHJlc2l6ZSIpfSxfdW5maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfZml4UGFuZWw6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2JpbmRVcGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2EuX29wZW4mJmEuX3Bvc2l0aW9uUGFuZWwoKX0pfSxfYmluZExpbmtMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLl9vbigiYm9keSIseyJjbGljayBhIjoiX2hhbmRsZUNsaWNrIn0pfSxfaGFuZGxlQ2xpY2s6ZnVuY3Rpb24oYil7dmFyIGQsZT10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTtyZXR1cm4gYi5jdXJyZW50VGFyZ2V0LmhyZWYuc3BsaXQoIiMiKVsxXT09PWUmJmUhPT1jPyhiLnByZXZlbnREZWZhdWx0KCksZD1hKGIudGFyZ2V0KSxkLmhhc0NsYXNzKCJ1aS1idG4iKSYmKGQuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHRoaXMuZWxlbWVudC5vbmUoInBhbmVsb3BlbiBwYW5lbGNsb3NlIixmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpLHRoaXMudG9nZ2xlKCksITEpOnZvaWQgMH0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLl9tb2RhbD9hLmVsZW1lbnQuYWRkKGEuX21vZGFsKTphLmVsZW1lbnQ7YS5vcHRpb25zLnN3aXBlQ2xvc2UmJigibGVmdCI9PT1hLm9wdGlvbnMucG9zaXRpb24/Yi5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pOmIub24oInN3aXBlcmlnaHQucGFuZWwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZG9jdW1lbnQub24oInBhbmVsYmVmb3Jlb3BlbiIsZnVuY3Rpb24oYil7YS5fb3BlbiYmYi50YXJnZXQhPT1hLmVsZW1lbnRbMF0mJmEuY2xvc2UoKX0pLm9uKCJrZXl1cC5wYW5lbCIsZnVuY3Rpb24oYil7Mjc9PT1iLmtleUNvZGUmJmEuX29wZW4mJmEuY2xvc2UoKX0pLHRoaXMuX3BhcmVudFBhZ2V8fCJvdmVybGF5Ij09PXRoaXMub3B0aW9ucy5kaXNwbGF5fHx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtwYWdlc2hvdzoiX2dldFdyYXBwZXIifSksYS5fcGFyZW50UGFnZT90aGlzLmRvY3VtZW50Lm9uKCJwYWdlaGlkZSIsIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pOnRoaXMuZG9jdW1lbnQub24oInBhZ2ViZWZvcmVoaWRlIixmdW5jdGlvbigpe2EuX29wZW4mJmEuY2xvc2UoITApfSl9LF9vcGVuOiExLF9wYWdlQ29udGVudE9wZW5DbGFzc2VzOm51bGwsX21vZGFsT3BlbkNsYXNzZXM6bnVsbCxvcGVuOmZ1bmN0aW9uKGIpe2lmKCF0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9Yy5vcHRpb25zLGU9ZnVuY3Rpb24oKXtjLmRvY3VtZW50Lm9mZigicGFuZWxjbG9zZSIpLGMuX3BhZ2UoKS5qcW1EYXRhKCJwYW5lbCIsIm9wZW4iKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSksIWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlP2MuZWxlbWVudC5hbmltYXRpb25Db21wbGV0ZShmLCJ0cmFuc2l0aW9uIik6c2V0VGltZW91dChmLDApLGQudGhlbWUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmYy5fcGFnZSgpLnBhcmVudCgpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2QudGhlbWUpLGMuZWxlbWVudC5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLGMuX3Bvc2l0aW9uUGFuZWwoITApLGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KSwib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMuX3dyYXBwZXIuYWRkQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpKSxjLl9tb2RhbE9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5tb2RhbCkrIiAiK2QuY2xhc3Nlcy5tb2RhbE9wZW4sYy5fbW9kYWwmJmMuX21vZGFsLmFkZENsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpLmhlaWdodChNYXRoLm1heChjLl9tb2RhbC5oZWlnaHQoKSxjLmRvY3VtZW50LmhlaWdodCgpKSl9LGY9ZnVuY3Rpb24oKXsib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpKSxjLl9iaW5kRml4TGlzdGVuZXIoKSxjLl90cmlnZ2VyKCJvcGVuIiksYy5fb3BlbmVkUGFnZT1jLl9wYWdlKCl9O2MuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSwib3BlbiI9PT1jLl9wYWdlKCkuanFtRGF0YSgicGFuZWwiKT9jLmRvY3VtZW50Lm9uKCJwYW5lbGNsb3NlIixmdW5jdGlvbigpe2UoKX0pOmUoKSxjLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24oYil7aWYodGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpKSwhYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGU/Yy5lbGVtZW50LmFuaW1hdGlvbkNvbXBsZXRlKGYsInRyYW5zaXRpb24iKTpzZXRUaW1lb3V0KGYsMCksYy5fbW9kYWwmJmMuX21vZGFsLnJlbW92ZUNsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpfSxmPWZ1bmN0aW9uKCl7ZC50aGVtZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiZjLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitkLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrZC50aGVtZSksYy5lbGVtZW50LmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCksIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSksYy5fZml4UGFuZWwoKSxjLl91bmJpbmRGaXhMaXN0ZW5lcigpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpLGMuX3BhZ2UoKS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLGMuX3RyaWdnZXIoImNsb3NlIiksYy5fb3BlbmVkUGFnZT1udWxsfTtjLl90cmlnZ2VyKCJiZWZvcmVjbG9zZSIpLGUoKSxjLl9vcGVuPSExfX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9vcGVuPyJjbG9zZSI6Im9wZW4iXSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5vcHRpb25zLGQ9YSgiYm9keSA+IDptb2JpbGUtcGFuZWwiKS5sZW5ndGgrYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKCI6bW9iaWxlLXBhbmVsIikubGVuZ3RoPjE7Im92ZXJsYXkiIT09Yy5kaXNwbGF5JiYoYj1hKCJib2R5ID4gOm1vYmlsZS1wYW5lbCIpLmFkZChhLm1vYmlsZS5hY3RpdmVQYWdlLmZpbmQoIjptb2JpbGUtcGFuZWwiKSksMD09PWIubm90KCIudWktcGFuZWwtZGlzcGxheS1vdmVybGF5Iikubm90KHRoaXMuZWxlbWVudCkubGVuZ3RoJiZ0aGlzLl93cmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fb3BlbiYmKHRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZjLmFuaW1hdGUmJnRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuYW5pbWF0ZSksdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLnRoZW1lJiZ0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitjLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrYy50aGVtZSkpKSxkfHx0aGlzLmRvY3VtZW50Lm9mZigicGFuZWxvcGVuIHBhbmVsY2xvc2UiKSx0aGlzLl9vcGVuJiZ0aGlzLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYW5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSxjLmNsYXNzZXMucGFuZWxPcGVuLGMuY2xhc3Nlcy5hbmltYXRlXS5qb2luKCIgIikpLm9mZigic3dpcGVsZWZ0LnBhbmVsIHN3aXBlcmlnaHQucGFuZWwiKS5vZmYoInBhbmVsYmVmb3Jlb3BlbiIpLm9mZigicGFuZWxoaWRlIikub2ZmKCJrZXl1cC5wYW5lbCIpLm9mZigidXBkYXRlbGF5b3V0IiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnRhYmxlKSxhLmV4dGVuZCh0aGlzLHtoZWFkZXJzOmIsYWxsSGVhZGVyczpifSksdGhpcy5fcmVmcmVzaCghMCl9LF9zZXRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmZpbmQoInRoZWFkIHRyIik7dGhpcy5oZWFkZXJzPXRoaXMuZWxlbWVudC5maW5kKCJ0cjplcSgwKSIpLmNoaWxkcmVuKCksdGhpcy5hbGxIZWFkZXJzPXRoaXMuaGVhZGVycy5hZGQoYS5jaGlsZHJlbigpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goKX0scmVidWlsZDphLm5vb3AsX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmZpbmQoInRoZWFkIHRyIik7dGhpcy5fc2V0SGVhZGVycygpLGMuZWFjaChmdW5jdGlvbigpe3ZhciBkPTA7YSh0aGlzKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgZSxmPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksMTApLGc9IjpudGgtY2hpbGQoIisoZCsxKSsiKSI7aWYodGhpcy5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysiY29sc3RhcnQiLGQrMSksZilmb3IoZT0wO2YtMT5lO2UrKylkKyssZys9IiwgOm50aC1jaGlsZCgiKyhkKzEpKyIpIjthKHRoaXMpLmpxbURhdGEoImNlbGxzIixiLmZpbmQoInRyIikubm90KGMuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihnKSksZCsrfSl9KX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6ImNvbHVtbnRvZ2dsZSIsY29sdW1uQnRuVGhlbWU6bnVsbCxjb2x1bW5Qb3B1cFRoZW1lOm51bGwsY29sdW1uQnRuVGV4dDoiQ29sdW1ucy4uLiIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtwb3B1cDoidWktdGFibGUtY29sdW1udG9nZ2xlLXBvcHVwIixjb2x1bW5CdG46InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1idG4iLHByaW9yaXR5UHJlZml4OiJ1aS10YWJsZS1wcmlvcml0eS0iLGNvbHVtblRvZ2dsZVRhYmxlOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJjb2x1bW50b2dnbGUiPT09dGhpcy5vcHRpb25zLm1vZGUmJihhLmV4dGVuZCh0aGlzLHtfbWVudTpudWxsfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyh0aGlzLl9tZW51PWEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZCh0aGlzLl9pZCgpKyItcG9wdXAiKSkuY2hpbGRyZW4oKS5maXJzdCgpLHRoaXMuX2FkZFRvZ2dsZXModGhpcy5fbWVudSwhMCkpOih0aGlzLl9tZW51PXRoaXMuX2VuaGFuY2VDb2xUb2dnbGUoKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29sdW1uVG9nZ2xlVGFibGUpKSx0aGlzLl9zZXR1cEV2ZW50cygpLHRoaXMuX3NldFRvZ2dsZVN0YXRlKCkpfSxfaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImlkIil8fHRoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWR9LF9zZXR1cEV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMud2luZG93LHt0aHJvdHRsZWRyZXNpemU6Il9zZXRUb2dnbGVTdGF0ZSJ9KSx0aGlzLl9vbih0aGlzLl9tZW51LHsiY2hhbmdlIGlucHV0IjoiX21lbnVJbnB1dENoYW5nZSJ9KX0sX2FkZFRvZ2dsZXM6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPTAsZj10aGlzLm9wdGlvbnMsZz1iLmNvbnRyb2xncm91cCgiY29udGFpbmVyIik7Yz9kPWIuZmluZCgiaW5wdXQiKTpnLmVtcHR5KCksdGhpcy5oZWFkZXJzLm5vdCgidGQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxoPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJwcmlvcml0eSIpLGk9Yi5hZGQoYi5qcW1EYXRhKCJjZWxscyIpKTtoJiYoaS5hZGRDbGFzcyhmLmNsYXNzZXMucHJpb3JpdHlQcmVmaXgraCksKGM/ZC5lcShlKyspOmEoIjxsYWJlbD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNoZWNrZWQgLz4iKyhiLmNoaWxkcmVuKCJhYmJyIikuZmlyc3QoKS5hdHRyKCJ0aXRsZSIpfHxiLnRleHQoKSkrIjwvbGFiZWw+IikuYXBwZW5kVG8oZykuY2hpbGRyZW4oMCkuY2hlY2tib3hyYWRpbyh7dGhlbWU6Zi5jb2x1bW5Qb3B1cFRoZW1lfSkpLmpxbURhdGEoImNlbGxzIixpKSl9KSxjfHxiLmNvbnRyb2xncm91cCgicmVmcmVzaCIpfSxfbWVudUlucHV0Q2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Y1swXS5jaGVja2VkO2MuanFtRGF0YSgiY2VsbHMiKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iLCFkKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIixkKSxjWzBdLmdldEF0dHJpYnV0ZSgibG9ja2VkIik/KGMucmVtb3ZlQXR0cigibG9ja2VkIiksdGhpcy5fdW5sb2NrQ2VsbHMoYy5qcW1EYXRhKCJjZWxscyIpKSk6Yy5hdHRyKCJsb2NrZWQiLCEwKX0sX3VubG9ja0NlbGxzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIHVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpfSxfZW5oYW5jZUNvbFRvZ2dsZTpmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9YS5tb2JpbGUubnMsaT10aGlzLmRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gYj10aGlzLl9pZCgpKyItcG9wdXAiLGM9YSgiPGEgaHJlZj0nIyIrYisiJyBjbGFzcz0nIitnLmNsYXNzZXMuY29sdW1uQnRuKyIgdWktYnRuIHVpLWJ0bi0iKyhnLmNvbHVtbkJ0blRoZW1lfHwiYSIpKyIgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktbWluaScgZGF0YS0iK2grInJlbD0ncG9wdXAnPiIrZy5jb2x1bW5CdG5UZXh0KyI8L2E+IiksZD1hKCI8ZGl2IGNsYXNzPSciK2cuY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIitiKyInPjwvZGl2PiIpLGU9YSgiPGZpZWxkc2V0PjwvZmllbGRzZXQ+IikuY29udHJvbGdyb3VwKCksdGhpcy5fYWRkVG9nZ2xlcyhlLCExKSxlLmFwcGVuZFRvKGQpLGkuYXBwZW5kQ2hpbGQoZFswXSksaS5hcHBlbmRDaGlsZChjWzBdKSxmLmJlZm9yZShpKSxkLnBvcHVwKCksZX0scmVidWlsZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksImNvbHVtbnRvZ2dsZSI9PT10aGlzLm9wdGlvbnMubW9kZSYmdGhpcy5fcmVmcmVzaCghMSl9LF9yZWZyZXNoOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGF8fCJjb2x1bW50b2dnbGUiIT09dGhpcy5vcHRpb25zLm1vZGV8fCh0aGlzLl91bmxvY2tDZWxscyh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXRhYmxlLWNlbGwtaGlkZGVuLCAudWktdGFibGUtY2VsbC12aXNpYmxlIikpLHRoaXMuX2FkZFRvZ2dsZXModGhpcy5fbWVudSxhKSx0aGlzLl9zZXRUb2dnbGVTdGF0ZSgpKX0sX3NldFRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWVudS5maW5kKCJpbnB1dCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO3RoaXMuY2hlY2tlZD0idGFibGUtY2VsbCI9PT1iLmpxbURhdGEoImNlbGxzIikuZXEoMCkuY3NzKCJkaXNwbGF5IiksYi5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRhYmxlIixhLm1vYmlsZS50YWJsZSx7b3B0aW9uczp7bW9kZToicmVmbG93IixjbGFzc2VzOmEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3JlZmxvd1RhYmxlOiJ1aS10YWJsZS1yZWZsb3ciLGNlbGxMYWJlbHM6InVpLXRhYmxlLWNlbGwtbGFiZWwifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJyZWZsb3ciPT09dGhpcy5vcHRpb25zLm1vZGUmJih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucmVmbG93VGFibGUpLHRoaXMuX3VwZGF0ZVJlZmxvdygpKSl9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJyZWZsb3ciPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhfHwicmVmbG93IiE9PXRoaXMub3B0aW9ucy5tb2RlfHx0aGlzLl91cGRhdGVSZWZsb3coKX0sX3VwZGF0ZVJlZmxvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnM7YShiLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZSxmPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKSxnPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJjb2xzdGFydCIpLGg9Zi5ub3QodGhpcykuZmlsdGVyKCJ0aGVhZCB0aCIpLmxlbmd0aCYmIiB1aS10YWJsZS1jZWxsLWxhYmVsLXRvcCIsaT1hKHRoaXMpLnRleHQoKTsiIiE9PWkmJihoPyhkPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksMTApLGU9IiIsZCYmKGU9InRkOm50aC1jaGlsZCgiK2QrIm4gKyAiK2crIikiKSxiLl9hZGRMYWJlbHMoZi5maWx0ZXIoZSksYy5jbGFzc2VzLmNlbGxMYWJlbHMraCxpKSk6Yi5fYWRkTGFiZWxzKGYsYy5jbGFzc2VzLmNlbGxMYWJlbHMsaSkpfSl9LF9hZGRMYWJlbHM6ZnVuY3Rpb24oYSxiLGMpe2Eubm90KCI6aGFzKGIuIitiKyIpIikucHJlcGVuZCgiPGIgY2xhc3M9JyIrYisiJz4iK2MrIjwvYj4iKX19KX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbihiLGMpe3JldHVybi0xPT09KCIiKyhhLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiZmlsdGVydGV4dCIpfHxhKHRoaXMpLnRleHQoKSkpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKX07YS53aWRnZXQoIm1vYmlsZS5maWx0ZXJhYmxlIix7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShmaWx0ZXI9J3RydWUnKSIsb3B0aW9uczp7ZmlsdGVyUmV2ZWFsOiExLGZpbHRlckNhbGxiYWNrOmQsZW5oYW5jZWQ6ITEsaW5wdXQ6bnVsbCxjaGlsZHJlbjoiPiBsaSwgPiBvcHRpb24sID4gb3B0Z3JvdXAgb3B0aW9uLCA+IHRib2R5IHRyLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktYnRuLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktY2hlY2tib3gsID4gLnVpLWNvbnRyb2xncm91cC1jb250cm9scyA+IC51aS1yYWRpbyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X3NlYXJjaDpudWxsLF90aW1lcjowfSksdGhpcy5fc2V0SW5wdXQoYi5pbnB1dCksYi5lbmhhbmNlZHx8dGhpcy5fZmlsdGVySXRlbXMoKHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLnZhbCgpfHwiIikudG9Mb3dlckNhc2UoKSl9LF9vbktleVVwOmZ1bmN0aW9uKCl7dmFyIGMsZCxlPXRoaXMuX3NlYXJjaDtpZihlKXtpZihjPWUudmFsKCkudG9Mb3dlckNhc2UoKSxkPWEubW9iaWxlLmdldEF0dHJpYnV0ZShlWzBdLCJsYXN0dmFsIikrIiIsZCYmZD09PWMpcmV0dXJuO3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLHRoaXMuX3RpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIixudWxsLHtpbnB1dDplfSksZVswXS5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysibGFzdHZhbCIsYyksdGhpcy5fZmlsdGVySXRlbXMoYyksdGhpcy5fdGltZXI9MH0sMjUwKX19LF9nZXRGaWx0ZXJhYmxlSXRlbXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMuY2hpbGRyZW4sZD1jP2EuaXNGdW5jdGlvbihjKT9jKCk6Yy5ub2RlTmFtZT9hKGMpOmMuanF1ZXJ5P2M6dGhpcy5lbGVtZW50LmZpbmQoYyk6e2xlbmd0aDowfTtyZXR1cm4gMD09PWQubGVuZ3RoJiYoZD1iLmNoaWxkcmVuKCkpLGR9LF9maWx0ZXJJdGVtczpmdW5jdGlvbihiKXt2YXIgYyxlLGYsZyxoPVtdLGk9W10saj10aGlzLm9wdGlvbnMsaz10aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTtpZihudWxsIT1iKWZvcihlPWouZmlsdGVyQ2FsbGJhY2t8fGQsZj1rLmxlbmd0aCxjPTA7Zj5jO2MrKylnPWUuY2FsbChrW2NdLGMsYik/aTpoLGcucHVzaChrW2NdKTswPT09aS5sZW5ndGg/a1tqLmZpbHRlclJldmVhbD8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJ1aS1zY3JlZW4taGlkZGVuIik6KGEoaSkuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSxhKGgpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIikpLHRoaXMuX3JlZnJlc2hDaGlsZFdpZGdldCgpLHRoaXMuX3RyaWdnZXIoImZpbHRlciIsbnVsbCx7aXRlbXM6a30pfSxfcmVmcmVzaENoaWxkV2lkZ2V0OmZ1bmN0aW9uKCl7dmFyIGIsYyxkPVsiY29sbGFwc2libGVzZXQiLCJzZWxlY3RtZW51IiwiY29udHJvbGdyb3VwIiwibGlzdHZpZXciXTtmb3IoYz1kLmxlbmd0aC0xO2M+LTE7Yy0tKWI9ZFtjXSxhLm1vYmlsZVtiXSYmKGI9dGhpcy5lbGVtZW50LmRhdGEoIm1vYmlsZS0iK2IpLGImJmEuaXNGdW5jdGlvbihiLnJlZnJlc2gpJiZiLnJlZnJlc2goKSl9LF9zZXRJbnB1dDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zZWFyY2g7dGhpcy5fdGltZXImJihiLmNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9MCksZCYmKHRoaXMuX29mZihkLCJrZXl1cCBjaGFuZ2UgaW5wdXQiKSxkPW51bGwpLGMmJihkPWMuanF1ZXJ5P2M6Yy5ub2RlTmFtZT9hKGMpOnRoaXMuZG9jdW1lbnQuZmluZChjKSx0aGlzLl9vbihkLHtrZXl1cDoiX29uS2V5VXAiLGNoYW5nZToiX29uS2V5VXAiLGlucHV0OiJfb25LZXlVcCJ9KSksdGhpcy5fc2VhcmNoPWR9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPSEoYS5maWx0ZXJSZXZlYWw9PT1jJiZhLmZpbHRlckNhbGxiYWNrPT09YyYmYS5jaGlsZHJlbj09PWMpO3RoaXMuX3N1cGVyKGEpLGEuaW5wdXQhPT1jJiYodGhpcy5fc2V0SW5wdXQoYS5pbnB1dCksYj0hMCksYiYmdGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5fZ2V0RmlsdGVyYWJsZUl0ZW1zKCk7YS5lbmhhbmNlZD9iLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIixhLmZpbHRlclJldmVhbCk6Yi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fdGltZXImJihiLmNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9MCksdGhpcy5fZmlsdGVySXRlbXMoKHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLnZhbCgpfHwiIikudG9Mb3dlckNhc2UoKSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yi5jYWxsKHRoaXMsYyksYS5fc3luY1RleHRJbnB1dE9wdGlvbnMoYyl9fSxkPS8oXnxccyl1aS1saS1kaXZpZGVyKFxzfCQpLyxlPWEubW9iaWxlLmZpbHRlcmFibGUucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s7YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiF0aGlzLmNsYXNzTmFtZS5tYXRjaChkKSYmZS5jYWxsKHRoaXMsYSxiKX0sYS53aWRnZXQoIm1vYmlsZS5maWx0ZXJhYmxlIixhLm1vYmlsZS5maWx0ZXJhYmxlLHtvcHRpb25zOntmaWx0ZXJQbGFjZWhvbGRlcjoiRmlsdGVyIGl0ZW1zLi4uIixmaWx0ZXJUaGVtZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMuZWxlbWVudCxlPVsiY29sbGFwc2libGVzZXQiLCJzZWxlY3RtZW51IiwiY29udHJvbGdyb3VwIiwibGlzdHZpZXciXSxmPXt9O2Zvcih0aGlzLl9zdXBlcigpLGEuZXh0ZW5kKHRoaXMse193aWRnZXQ6bnVsbH0pLGI9ZS5sZW5ndGgtMTtiPi0xO2ItLSlpZihjPWVbYl0sYS5tb2JpbGVbY10pe2lmKHRoaXMuX3NldFdpZGdldChkLmRhdGEoIm1vYmlsZS0iK2MpKSlicmVhaztmW2MrImNyZWF0ZSJdPSJfaGFuZGxlQ3JlYXRlIn10aGlzLl93aWRnZXR8fHRoaXMuX29uKGQsZil9LF9oYW5kbGVDcmVhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fc2V0V2lkZ2V0KHRoaXMuZWxlbWVudC5kYXRhKCJtb2JpbGUtIithLnR5cGUuc3Vic3RyaW5nKDAsYS50eXBlLmxlbmd0aC02KSkpfSxfdHJpZ2dlcjpmdW5jdGlvbihhLGIsYyl7dGhpcy5fd2lkZ2V0JiYibW9iaWxlLWxpc3R2aWV3Ij09PXRoaXMuX3dpZGdldC53aWRnZXRGdWxsTmFtZSYmImJlZm9yZWZpbHRlciI9PT1hJiZ0aGlzLl93aWRnZXQuX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsYixjKSx0aGlzLl9zdXBlcihhLGIsYyl9LF9zZXRXaWRnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuX3dpZGdldCYmYSYmKHRoaXMuX3dpZGdldD1hLHRoaXMuX3dpZGdldC5fc2V0T3B0aW9ucz1jKHRoaXMsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zKSksdGhpcy5fd2lkZ2V0JiYodGhpcy5fc3luY1RleHRJbnB1dE9wdGlvbnModGhpcy5fd2lkZ2V0Lm9wdGlvbnMpLCJsaXN0dmlldyI9PT10aGlzLl93aWRnZXQud2lkZ2V0TmFtZSYmKHRoaXMuX3dpZGdldC5vcHRpb25zLmhpZGVEaXZpZGVycz0hMCx0aGlzLl93aWRnZXQuZWxlbWVudC5saXN0dmlldygicmVmcmVzaCIpKSksISF0aGlzLl93aWRnZXR9LF9pc1NlYXJjaEludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmpxbURhdGEoInVpLWZpbHRlcmFibGUtIit0aGlzLnV1aWQrIi1pbnRlcm5hbCIpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9ITAsZT17fTtpZighYil7aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpKXJldHVybjtkPSExLGI9YSgiPGlucHV0IGRhdGEtIithLm1vYmlsZS5ucysidHlwZT0nc2VhcmNoJyBwbGFjZWhvbGRlcj0nIitjLmZpbHRlclBsYWNlaG9sZGVyKyInPjwvaW5wdXQ+IikuanFtRGF0YSgidWktZmlsdGVyYWJsZS0iK3RoaXMudXVpZCsiLWludGVybmFsIiwhMCksYSgiPGZvcm0gY2xhc3M9J3VpLWZpbHRlcmFibGUnPjwvZm9ybT4iKS5hcHBlbmQoYikuc3VibWl0KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxiLmJsdXIoKX0pLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpLGEubW9iaWxlLnRleHRpbnB1dCYmKG51bGwhPXRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZSYmKGUudGhlbWU9Yy5maWx0ZXJUaGVtZSksYi50ZXh0aW5wdXQoZSkpfXRoaXMuX3N1cGVyKGIpLHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmZCYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIix0aGlzLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zdXBlcihjKTtyZXR1cm4gYy5maWx0ZXJQbGFjZWhvbGRlciE9PWImJnRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIixjLmZpbHRlclBsYWNlaG9sZGVyKSxjLmZpbHRlclRoZW1lIT09YiYmdGhpcy5fc2VhcmNoJiZhLm1vYmlsZS50ZXh0aW5wdXQmJnRoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsInRoZW1lIixjLmZpbHRlclRoZW1lKSxkfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF9zeW5jVGV4dElucHV0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZCxlPXt9O2lmKHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmYS5tb2JpbGUudGV4dGlucHV0KXtmb3IoZCBpbiBhLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLm9wdGlvbnMpY1tkXSE9PWImJihlW2RdPSJ0aGVtZSI9PT1kJiZudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU/dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lOmNbZF0pO3RoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsZSl9fX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4rK2V9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5oYXNoLmxlbmd0aD4xJiZkZWNvZGVVUklDb21wb25lbnQoYS5ocmVmLnJlcGxhY2UoZiwiIikpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYucmVwbGFjZShmLCIiKSl9dmFyIGU9MCxmPS8jLiokLzthLndpZGdldCgidWkudGFicyIse3ZlcnNpb246ImZhZGYyYjMxMmEwNTA0MDQzNjQ1MWM2NGJiZmFmNDgxNGJjNjJjNTYiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLGMuY29sbGFwc2libGUpLmRlbGVnYXRlKCIudWktdGFicy1uYXYgPiBsaSIsIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihiKXthKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmYi5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGMuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxhLmlzQXJyYXkoYy5kaXNhYmxlZCkmJihjLmRpc2FibGVkPWEudW5pcXVlKGMuZGlzYWJsZWQuY29uY2F0KGEubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRhYnMuaW5kZXgoYSl9KSkpLnNvcnQoKSksdGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUoYy5hY3RpdmUpOmEoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQoYy5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5hY3RpdmUsYz10aGlzLm9wdGlvbnMuY29sbGFwc2libGUsZD1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PWImJihkJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihjLGUpe3JldHVybiBhKGUpLmF0dHIoImFyaWEtY29udHJvbHMiKT09PWQ/KGI9YywhMSk6dm9pZCAwfSksbnVsbD09PWImJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSkpLChudWxsPT09Ynx8LTE9PT1iKSYmKGI9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksYiE9PSExJiYoYj10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKGIpKSwtMT09PWImJihiPWM/ITE6MCkpLCFjJiZiPT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPTApLGJ9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6YSgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoImxpIiksZD10aGlzLnRhYnMuaW5kZXgoYyksZT0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdihiKSl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBhLnVpLmtleUNvZGUuRE9XTjpkKys7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuVVA6Y2FzZSBhLnVpLmtleUNvZGUuTEVGVDplPSExLGQtLTticmVhaztjYXNlIGEudWkua2V5Q29kZS5FTkQ6ZD10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuSE9NRTpkPTA7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx2b2lkIHRoaXMuX2FjdGl2YXRlKGQpO2Nhc2UgYS51aS5rZXlDb2RlLkVOVEVSOnJldHVybiBiLnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksdm9pZCB0aGlzLl9hY3RpdmF0ZShkPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTpkKTtkZWZhdWx0OnJldHVybn1iLnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksZD10aGlzLl9mb2N1c05leHRUYWIoZCxlKSxiLmN0cmxLZXl8fChjLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJmYWxzZSIpLHRoaXMudGFicy5lcShkKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwidHJ1ZSIpLHRoaXMuYWN0aXZhdGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMub3B0aW9uKCJhY3RpdmUiLGQpfSx0aGlzLmRlbGF5KSl9fSxfcGFuZWxLZXlkb3duOmZ1bmN0aW9uKGIpe3RoaXMuX2hhbmRsZVBhZ2VOYXYoYil8fGIuY3RybEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlVQJiYoYi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYWN0aXZlLmZvY3VzKCkpfSxfaGFuZGxlUGFnZU5hdjpmdW5jdGlvbihiKXtyZXR1cm4gYi5hbHRLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5QQUdFX1VQPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZS0xLCExKSksITApOmIuYWx0S2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuUEFHRV9ET1dOPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSsxLCEwKSksITApOnZvaWQgMH0sX2ZpbmROZXh0VGFiOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe3JldHVybiBiPmUmJihiPTApLDA+YiYmKGI9ZSksYn1mb3IodmFyIGU9dGhpcy50YWJzLmxlbmd0aC0xOy0xIT09YS5pbkFycmF5KGQoKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyliPWM/YisxOmItMTtyZXR1cm4gYn0sX2ZvY3VzTmV4dFRhYjpmdW5jdGlvbihhLGIpe3JldHVybiBhPXRoaXMuX2ZpbmROZXh0VGFiKGEsYiksdGhpcy50YWJzLmVxKGEpLmZvY3VzKCksYX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiJhY3RpdmUiPT09YT92b2lkIHRoaXMuX2FjdGl2YXRlKGIpOiJkaXNhYmxlZCI9PT1hP3ZvaWQgdGhpcy5fc2V0dXBEaXNhYmxlZChiKToodGhpcy5fc3VwZXIoYSxiKSwiY29sbGFwc2libGUiPT09YSYmKHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsYiksYnx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PWEmJnRoaXMuX3NldHVwRXZlbnRzKGIpLHZvaWQoImhlaWdodFN0eWxlIj09PWEmJnRoaXMuX3NldHVwSGVpZ2h0U3R5bGUoYikpKX0sX3RhYklkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmF0dHIoImFyaWEtY29udHJvbHMiKXx8InVpLXRhYnMtIitjKCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBhP2EucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTtiLmRpc2FibGVkPWEubWFwKGMuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihhKXtyZXR1cm4gYy5pbmRleChhKX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksYi5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFhLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PWIuZGlzYWJsZWQubGVuZ3RoPyhiLmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1hKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsYi5hY3RpdmUtMSksITEpKTpiLmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOihiLmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1hKCkpLHRoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXR1cERpc2FibGVkKHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fc2V0dXBFdmVudHModGhpcy5vcHRpb25zLmV2ZW50KSx0aGlzLl9zZXR1cEhlaWdodFN0eWxlKHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSksdGhpcy50YWJzLm5vdCh0aGlzLmFjdGl2ZSkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscy5ub3QodGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpKS5oaWRlKCkuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KSx0aGlzLmFjdGl2ZS5sZW5ndGg/KHRoaXMuYWN0aXZlLmFkZENsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLHRhYkluZGV4OjB9KSx0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkuc2hvdygpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy50YWJsaXN0PXRoaXMuX2dldExpc3QoKS5hZGRDbGFzcygidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwiKS5hdHRyKCJyb2xlIiwidGFibGlzdCIpLHRoaXMudGFicz10aGlzLnRhYmxpc3QuZmluZCgiPiBsaTpoYXMoYVtocmVmXSkiKS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItdG9wIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pLHRoaXMuYW5jaG9ycz10aGlzLnRhYnMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEoImEiLHRoaXMpWzBdfSkuYWRkQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikuYXR0cih7cm9sZToicHJlc2VudGF0aW9uIix0YWJJbmRleDotMX0pLHRoaXMucGFuZWxzPWEoKSx0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbihjLGUpe3ZhciBmLGcsaCxpPWEoZSkudW5pcXVlSWQoKS5hdHRyKCJpZCIpLGo9YShlKS5jbG9zZXN0KCJsaSIpLGs9ai5hdHRyKCJhcmlhLWNvbnRyb2xzIik7ZChlKT8oZj1lLmhhc2gsZz1iLmVsZW1lbnQuZmluZChiLl9zYW5pdGl6ZVNlbGVjdG9yKGYpKSk6KGg9Yi5fdGFiSWQoaiksZj0iIyIraCxnPWIuZWxlbWVudC5maW5kKGYpLGcubGVuZ3RofHwoZz1iLl9jcmVhdGVQYW5lbChoKSxnLmluc2VydEFmdGVyKGIucGFuZWxzW2MtMV18fGIudGFibGlzdCkpLGcuYXR0cigiYXJpYS1saXZlIiwicG9saXRlIikpLGcubGVuZ3RoJiYoYi5wYW5lbHM9Yi5wYW5lbHMuYWRkKGcpKSxrJiZqLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIsayksai5hdHRyKHsiYXJpYS1jb250cm9scyI6Zi5zdWJzdHJpbmcoMSksImFyaWEtbGFiZWxsZWRieSI6aX0pLGcuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixpKX0pLHRoaXMucGFuZWxzLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5hdHRyKCJyb2xlIiwidGFicGFuZWwiKX0sX2dldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoIm9sLHVsIikuZXEoMCl9LF9jcmVhdGVQYW5lbDpmdW5jdGlvbihiKXtyZXR1cm4gYSgiPGRpdj4iKS5hdHRyKCJpZCIsYikuYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmRhdGEoInVpLXRhYnMtZGVzdHJveSIsITApfSxfc2V0dXBEaXNhYmxlZDpmdW5jdGlvbihiKXthLmlzQXJyYXkoYikmJihiLmxlbmd0aD9iLmxlbmd0aD09PXRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPSEwKTpiPSExKTtmb3IodmFyIGMsZD0wO2M9dGhpcy50YWJzW2RdO2QrKyliPT09ITB8fC0xIT09YS5pbkFycmF5KGQsYik/YShjKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpOmEoYykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpO3RoaXMub3B0aW9ucy5kaXNhYmxlZD1ifSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oYil7dmFyIGM9e2NsaWNrOmZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX19O2ImJmEuZWFjaChiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtjW2JdPSJfZXZlbnRIYW5kbGVyIn0pLHRoaXMuX29mZih0aGlzLmFuY2hvcnMuYWRkKHRoaXMudGFicykuYWRkKHRoaXMucGFuZWxzKSksdGhpcy5fb24odGhpcy5hbmNob3JzLGMpLHRoaXMuX29uKHRoaXMudGFicyx7a2V5ZG93bjoiX3RhYktleWRvd24ifSksdGhpcy5fb24odGhpcy5wYW5lbHMse2tleWRvd246Il9wYW5lbEtleWRvd24ifSksdGhpcy5fZm9jdXNhYmxlKHRoaXMudGFicyksdGhpcy5faG92ZXJhYmxlKHRoaXMudGFicyl9LF9zZXR1cEhlaWdodFN0eWxlOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5lbGVtZW50LnBhcmVudCgpOyJmaWxsIj09PWI/KGM9ZC5oZWlnaHQoKSxjLT10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKS10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKCI6dmlzaWJsZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGQ9Yi5jc3MoInBvc2l0aW9uIik7ImFic29sdXRlIiE9PWQmJiJmaXhlZCIhPT1kJiYoYy09Yi5vdXRlckhlaWdodCghMCkpfSksdGhpcy5lbGVtZW50LmNoaWxkcmVuKCkubm90KHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7Yy09YSh0aGlzKS5vdXRlckhlaWdodCghMCl9KSx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCxjLWEodGhpcykuaW5uZXJIZWlnaHQoKSthKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKToiYXV0byI9PT1iJiYoYz0wLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtjPU1hdGgubWF4KGMsYSh0aGlzKS5oZWlnaHQoIiIpLmhlaWdodCgpKX0pLmhlaWdodChjKSl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9dGhpcy5hY3RpdmUsZT1hKGIuY3VycmVudFRhcmdldCksZj1lLmNsb3Nlc3QoImxpIiksZz1mWzBdPT09ZFswXSxoPWcmJmMuY29sbGFwc2libGUsaT1oP2EoKTp0aGlzLl9nZXRQYW5lbEZvclRhYihmKSxqPWQubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKGQpOmEoKSxrPXtvbGRUYWI6ZCxvbGRQYW5lbDpqLG5ld1RhYjpoP2EoKTpmLG5ld1BhbmVsOml9O2IucHJldmVudERlZmF1bHQoKSxmLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHxmLmhhc0NsYXNzKCJ1aS10YWJzLWxvYWRpbmciKXx8dGhpcy5ydW5uaW5nfHxnJiYhYy5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlQWN0aXZhdGUiLGIsayk9PT0hMXx8KGMuYWN0aXZlPWg/ITE6dGhpcy50YWJzLmluZGV4KGYpLHRoaXMuYWN0aXZlPWc/YSgpOmYsdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCksai5sZW5ndGh8fGkubGVuZ3RofHxhLmVycm9yKCJqUXVlcnkgVUkgVGFiczogTWlzbWF0Y2hpbmcgZnJhZ21lbnQgaWRlbnRpZmllci4iKSxpLmxlbmd0aCYmdGhpcy5sb2FkKHRoaXMudGFicy5pbmRleChmKSxiKSx0aGlzLl90b2dnbGUoYixrKSl9LF90b2dnbGU6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7Zi5ydW5uaW5nPSExLGYuX3RyaWdnZXIoImFjdGl2YXRlIixiLGMpfWZ1bmN0aW9uIGUoKXtjLm5ld1RhYi5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxnLmxlbmd0aCYmZi5vcHRpb25zLnNob3c/Zi5fc2hvdyhnLGYub3B0aW9ucy5zaG93LGQpOihnLnNob3coKSxkKCkpfXZhciBmPXRoaXMsZz1jLm5ld1BhbmVsLGg9Yy5vbGRQYW5lbDt0aGlzLnJ1bm5pbmc9ITAsaC5sZW5ndGgmJnRoaXMub3B0aW9ucy5oaWRlP3RoaXMuX2hpZGUoaCx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2Mub2xkVGFiLmNsb3Nlc3QoImxpIikucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSIpLGUoKX0pOihjLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxoLmhpZGUoKSxlKCkpLGguYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KSxjLm9sZFRhYi5hdHRyKCJhcmlhLXNlbGVjdGVkIiwiZmFsc2UiKSxnLmxlbmd0aCYmaC5sZW5ndGg/Yy5vbGRUYWIuYXR0cigidGFiSW5kZXgiLC0xKTpnLmxlbmd0aCYmdGhpcy50YWJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09YSh0aGlzKS5hdHRyKCJ0YWJJbmRleCIpfSkuYXR0cigidGFiSW5kZXgiLC0xKSxnLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsImFyaWEtaGlkZGVuIjoiZmFsc2UifSksYy5uZXdUYWIuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuX2ZpbmRBY3RpdmUoYik7ZFswXSE9PXRoaXMuYWN0aXZlWzBdJiYoZC5sZW5ndGh8fChkPXRoaXMuYWN0aXZlKSxjPWQuZmluZCgiLnVpLXRhYnMtYW5jaG9yIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6YyxjdXJyZW50VGFyZ2V0OmMscHJldmVudERlZmF1bHQ6YS5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbihiKXtyZXR1cm4gYj09PSExP2EoKTp0aGlzLnRhYnMuZXEoYil9LF9nZXRJbmRleDpmdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGEmJihhPXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKCJbaHJlZiQ9JyIrYSsiJ10iKSkpLGF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIHVpLXRhYnMtY29sbGFwc2libGUiKSx0aGlzLnRhYmxpc3QucmVtb3ZlQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikucmVtb3ZlQXR0cigicm9sZSIpLHRoaXMuYW5jaG9ycy5yZW1vdmVDbGFzcygidWktdGFicy1hbmNob3IiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigidGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpLHRoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXthLmRhdGEodGhpcywidWktdGFicy1kZXN0cm95Iik/YSh0aGlzKS5yZW1vdmUoKTphKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCB1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktd2lkZ2V0LWNvbnRlbnQgdWktdGFicy1hY3RpdmUgdWktdGFicy1wYW5lbCIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlQXR0cigiYXJpYS1saXZlIikucmVtb3ZlQXR0cigiYXJpYS1idXN5IikucmVtb3ZlQXR0cigiYXJpYS1zZWxlY3RlZCIpLnJlbW92ZUF0dHIoImFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1leHBhbmRlZCIpLnJlbW92ZUF0dHIoInJvbGUiKX0pLHRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIik7Yz9iLmF0dHIoImFyaWEtY29udHJvbHMiLGMpLnJlbW92ZURhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpOmIucmVtb3ZlQXR0cigiYXJpYS1jb250cm9scyIpfSksdGhpcy5wYW5lbHMuc2hvdygpLCJjb250ZW50IiE9PXRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSYmdGhpcy5wYW5lbHMuY3NzKCJoZWlnaHQiLCIiKX0sZW5hYmxlOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtkIT09ITEmJihjPT09Yj9kPSExOihjPXRoaXMuX2dldEluZGV4KGMpLGQ9YS5pc0FycmF5KGQpP2EubWFwKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1jP2E6bnVsbH0pOmEubWFwKHRoaXMudGFicyxmdW5jdGlvbihhLGIpe3JldHVybiBiIT09Yz9iOm51bGx9KSksdGhpcy5fc2V0dXBEaXNhYmxlZChkKSl9LGRpc2FibGU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5vcHRpb25zLmRpc2FibGVkO2lmKGQhPT0hMCl7aWYoYz09PWIpZD0hMDtlbHNle2lmKGM9dGhpcy5fZ2V0SW5kZXgoYyksLTEhPT1hLmluQXJyYXkoYyxkKSlyZXR1cm47ZD1hLmlzQXJyYXkoZCk/YS5tZXJnZShbY10sZCkuc29ydCgpOltjXX10aGlzLl9zZXR1cERpc2FibGVkKGQpfX0sbG9hZDpmdW5jdGlvbihiLGMpe2I9dGhpcy5fZ2V0SW5kZXgoYik7dmFyIGU9dGhpcyxmPXRoaXMudGFicy5lcShiKSxnPWYuZmluZCgiLnVpLXRhYnMtYW5jaG9yIiksaD10aGlzLl9nZXRQYW5lbEZvclRhYihmKSxpPXt0YWI6ZixwYW5lbDpofTtkKGdbMF0pfHwodGhpcy54aHI9YS5hamF4KHRoaXMuX2FqYXhTZXR0aW5ncyhnLGMsaSkpLHRoaXMueGhyJiYiY2FuY2VsZWQiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKGYuYWRkQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpLGguYXR0cigiYXJpYS1idXN5IiwidHJ1ZSIpLHRoaXMueGhyLnN1Y2Nlc3MoZnVuY3Rpb24oYSl7c2V0VGltZW91dChmdW5jdGlvbigpe2guaHRtbChhKSxlLl90cmlnZ2VyKCJsb2FkIixjLGkpfSwxKX0pLmNvbXBsZXRlKGZ1bmN0aW9uKGEsYil7c2V0VGltZW91dChmdW5jdGlvbigpeyJhYm9ydCI9PT1iJiZlLnBhbmVscy5zdG9wKCExLCEwKSxmLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWxvYWRpbmciKSxoLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLGE9PT1lLnhociYmZGVsZXRlIGUueGhyfSwxKX0pKSl9LF9hamF4U2V0dGluZ3M6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7cmV0dXJue3VybDpiLmF0dHIoImhyZWYiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKGIsZil7cmV0dXJuIGUuX3RyaWdnZXIoImJlZm9yZUxvYWQiLGMsYS5leHRlbmQoe2pxWEhSOmIsYWpheFNldHRpbmdzOmZ9LGQpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24oYil7dmFyIGM9YShiKS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK2MpKX19KX0oYSksZnVuY3Rpb24oKXt9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtlPWEub3JpZ2luYWxFdmVudCxpPWUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxmPU1hdGguYWJzKGkueCksZz1NYXRoLmFicyhpLnkpLGg9TWF0aC5hYnMoaS56KSwhYi5vcmllbnRhdGlvbiYmKGY+N3x8KGg+NiYmOD5nfHw4PmgmJmc+NikmJmY+NSk/ZC5lbmFibGVkJiZkLmRpc2FibGUoKTpkLmVuYWJsZWR8fGQuZW5hYmxlKCl9YS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSEwO3ZhciBkLGUsZixnLGgsaSxqPW5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuL2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmL09TIFsxLTVdX1swLTlfXSogbGlrZSBNYWMgT1MgWC9pLnRlc3QoaikmJmouaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMT8oZD1hLm1vYmlsZS56b29tLHZvaWQgYS5tb2JpbGUuZG9jdW1lbnQub24oIm1vYmlsZWluaXQiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkJiZhLm1vYmlsZS53aW5kb3cuYmluZCgib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXgiLGQuZW5hYmxlKS5iaW5kKCJkZXZpY2Vtb3Rpb24uaW9zb3JpZW50YXRpb25maXgiLGMpfSkpOnZvaWQoYS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSExKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXtlLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIil9dmFyIGU9YSgiaHRtbCIpLGY9YS5tb2JpbGUud2luZG93O2EoYi5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpLGEubW9iaWxlLmdyYWRlQSgpJiYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxlLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpLHNldFRpbWVvdXQoZCw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLnBhdGgsZT1hKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiksZz1iLnN0cmlwSGFzaChiLnN0cmlwUXVlcnlQYXJhbXMoYi5wYXJzZUxvY2F0aW9uKCkuaGFzaCkpLGg9Yy5nZXRFbGVtZW50QnlJZChnKTsKZS5sZW5ndGh8fChlPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiWzBdLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSksYS5tb2JpbGUuZmlyc3RQYWdlPWUuZmlyc3QoKSxhLm1vYmlsZS5wYWdlQ29udGFpbmVyPWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0IikucGFnZWNvbnRhaW5lcigpLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpLGYudHJpZ2dlcigicGFnZWNvbnRhaW5lcmNyZWF0ZSIpLGEubW9iaWxlLmxvYWRpbmcoInNob3ciKSxkKCksYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJmEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhKGgpLmlzKCI6anFtRGF0YShyb2xlPSdwYWdlJykiKXx8YS5tb2JpbGUucGF0aC5pc1BhdGgoZyl8fGc9PT1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT9hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2s9W10sYS5tb2JpbGUubmF2aWdhdGUoYS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/bG9jYXRpb24uaGFzaDpsb2NhdGlvbi5ocmVmKSk6Zi50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKTooYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKSYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuaW5pdGlhbERzdD1nLnJlcGxhY2UoIiMiLCIiKSksYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpJiZhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3Iuc3F1YXNoKGIucGFyc2VMb2NhdGlvbigpLmhyZWYpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSl9fSksYShmdW5jdGlvbigpe2Euc3VwcG9ydC5pbmxpbmVTVkcoKSxhLm1vYmlsZS5oaWRlVXJsQmFyJiZiLnNjcm9sbFRvKDAsMSksYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9YS5zdXBwb3J0LnNjcm9sbFRvcCYmMSE9PWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKT8xOjAsYS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZhLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpLGEubW9iaWxlLmhpZGVVcmxCYXImJmYubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpLGEuc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzfHxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiLnVpLXN0YXRlLWRpc2FibGVkLC51aS1kaXNhYmxlZCIsInZjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KX0pKX0oYSx0aGlzKX0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1qcXVlcnkubW9iaWxlLTEuNC4yLm1pbi5tYXA=",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgMS40LjIgfCBHaXQgSEVBRCBoYXNoOiA5ZDlhNDJhIDw+IDIwMTQtMDItMjhUMTc6MzI6MDFaIHwgKGMpIDIwMTAsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KCiFmdW5jdGlvbihhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihkKXtyZXR1cm4gYyhkLGEsYiksZC5tb2JpbGV9KTpjKGEualF1ZXJ5LGEsYil9KHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oYSxiLGMpeyFmdW5jdGlvbihhKXthLm1vYmlsZT17fX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5tb2JpbGUse3ZlcnNpb246IjEuNC4yIixzdWJQYWdlVXJsS2V5OiJ1aS1wYWdlIixoaWRlVXJsQmFyOiEwLGtlZXBOYXRpdmU6IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIixhY3RpdmVQYWdlQ2xhc3M6InVpLXBhZ2UtYWN0aXZlIixhY3RpdmVCdG5DbGFzczoidWktYnRuLWFjdGl2ZSIsZm9jdXNDbGFzczoidWktZm9jdXMiLGFqYXhFbmFibGVkOiEwLGhhc2hMaXN0ZW5pbmdFbmFibGVkOiEwLGxpbmtCaW5kaW5nRW5hYmxlZDohMCxkZWZhdWx0UGFnZVRyYW5zaXRpb246ImZhZGUiLG1heFRyYW5zaXRpb25XaWR0aDohMSxtaW5TY3JvbGxCYWNrOjAsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIscGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZToiYSIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxidXR0b25NYXJrdXA6e2hvdmVyRGVsYXk6MjAwfSxkeW5hbWljQmFzZUVuYWJsZWQ6ITAscGFnZUNvbnRhaW5lcjphKCksYWxsb3dDcm9zc0RvbWFpblBhZ2VzOiExLGRpYWxvZ0hhc2hLZXk6IiZ1aS1zdGF0ZT1kaWFsb2cifSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9LGU9YS5maW5kLGY9Lyg/Olx7W1xzXFNdKlx9fFxbW1xzXFNdKlxdKSQvLGc9LzpqcW1EYXRhXCgoW14pXSopXCkvZzthLmV4dGVuZChhLm1vYmlsZSx7bnM6IiIsZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yj1iLmpxdWVyeT9iWzBdOmIsYiYmYi5nZXRBdHRyaWJ1dGUmJihkPWIuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYykpO3RyeXtkPSJ0cnVlIj09PWQ/ITA6ImZhbHNlIj09PWQ/ITE6Im51bGwiPT09ZD9udWxsOitkKyIiPT09ZD8rZDpmLnRlc3QoZCk/SlNPTi5wYXJzZShkKTpkfWNhdGNoKGUpe31yZXR1cm4gZH0sbnNOb3JtYWxpemVEaWN0OmQsbnNOb3JtYWxpemU6ZnVuY3Rpb24oYil7cmV0dXJuIGRbYl18fChkW2JdPWEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2IpKX0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5kYXRhKCJtb2JpbGUtcGFnZSIpfX0pLGEuZm4uanFtRGF0YT1mdW5jdGlvbihiLGQpe3ZhciBlO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYiYmKGImJihiPWEubW9iaWxlLm5zTm9ybWFsaXplKGIpKSxlPWFyZ3VtZW50cy5sZW5ndGg8Mnx8ZD09PWM/dGhpcy5kYXRhKGIpOnRoaXMuZGF0YShiLGQpKSxlfSxhLmpxbURhdGE9ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYyYmKGU9YS5kYXRhKGIsYz9hLm1vYmlsZS5uc05vcm1hbGl6ZShjKTpjLGQpKSxlfSxhLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9LGEuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9LGEuZmluZD1mdW5jdGlvbihiLGMsZCxmKXtyZXR1cm4gYi5pbmRleE9mKCI6anFtRGF0YSIpPi0xJiYoYj1iLnJlcGxhY2UoZywiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIikpLGUuY2FsbCh0aGlzLGIsYyxkLGYpfSxhLmV4dGVuZChhLmZpbmQsZSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGIsYyl7dmFyIGQsZixnLGg9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJhcmVhIj09PWg/KGQ9Yi5wYXJlbnROb2RlLGY9ZC5uYW1lLGIuaHJlZiYmZiYmIm1hcCI9PT1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/KGc9YSgiaW1nW3VzZW1hcD0jIitmKyJdIilbMF0sISFnJiZlKGcpKTohMSk6KC9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdC8udGVzdChoKT8hYi5kaXNhYmxlZDoiYSI9PT1oP2IuaHJlZnx8YzpjKSYmZShiKX1mdW5jdGlvbiBlKGIpe3JldHVybiBhLmV4cHIuZmlsdGVycy52aXNpYmxlKGIpJiYhYShiKS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJoaWRkZW4iPT09YS5jc3ModGhpcywidmlzaWJpbGl0eSIpfSkubGVuZ3RofXZhciBmPTAsZz0vXnVpLWlkLVxkKyQvO2EudWk9YS51aXx8e30sYS5leHRlbmQoYS51aSx7dmVyc2lvbjoiYzBhYjcxMDU2YjkzNjYyN2U4YTc4MjFmMDNjMDQ0YWVjNjI4MGE0MCIsa2V5Q29kZTp7QkFDS1NQQUNFOjgsQ09NTUE6MTg4LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixMRUZUOjM3LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU1BBQ0U6MzIsVEFCOjksVVA6Mzh9fSksYS5mbi5leHRlbmQoe2ZvY3VzOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYz90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKGIpLmZvY3VzKCksZCYmZC5jYWxsKGIpfSxjKX0pOmIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oYS5mbi5mb2N1cyksc2Nyb2xsUGFyZW50OmZ1bmN0aW9uKCl7dmFyIGI7cmV0dXJuIGI9YS51aS5pZSYmLyhzdGF0aWN8cmVsYXRpdmUpLy50ZXN0KHRoaXMuY3NzKCJwb3NpdGlvbiIpKXx8L2Fic29sdXRlLy50ZXN0KHRoaXMuY3NzKCJwb3NpdGlvbiIpKT90aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKHJlbGF0aXZlfGFic29sdXRlfGZpeGVkKS8udGVzdChhLmNzcyh0aGlzLCJwb3NpdGlvbiIpKSYmLyhhdXRvfHNjcm9sbCkvLnRlc3QoYS5jc3ModGhpcywib3ZlcmZsb3ciKSthLmNzcyh0aGlzLCJvdmVyZmxvdy15IikrYS5jc3ModGhpcywib3ZlcmZsb3cteCIpKX0pLmVxKDApOnRoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8oYXV0b3xzY3JvbGwpLy50ZXN0KGEuY3NzKHRoaXMsIm92ZXJmbG93IikrYS5jc3ModGhpcywib3ZlcmZsb3cteSIpK2EuY3NzKHRoaXMsIm92ZXJmbG93LXgiKSl9KS5lcSgwKSwvZml4ZWQvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwhYi5sZW5ndGg/YSh0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGMpOmJ9LHVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuaWR8fCh0aGlzLmlkPSJ1aS1pZC0iKyArK2YpfSl9LHJlbW92ZVVuaXF1ZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2cudGVzdCh0aGlzLmlkKSYmYSh0aGlzKS5yZW1vdmVBdHRyKCJpZCIpfSl9fSksYS5leHRlbmQoYS5leHByWyI6Il0se2RhdGE6YS5leHByLmNyZWF0ZVBzZXVkbz9hLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4hIWEuZGF0YShjLGIpfX0pOmZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4hIWEuZGF0YShiLGRbM10pfSxmb2N1c2FibGU6ZnVuY3Rpb24oYil7cmV0dXJuIGQoYiwhaXNOYU4oYS5hdHRyKGIsInRhYmluZGV4IikpKX0sdGFiYmFibGU6ZnVuY3Rpb24oYil7dmFyIGM9YS5hdHRyKGIsInRhYmluZGV4IiksZT1pc05hTihjKTtyZXR1cm4oZXx8Yz49MCkmJmQoYiwhZSl9fSksYSgiPGE+Iikub3V0ZXJXaWR0aCgxKS5qcXVlcnl8fGEuZWFjaChbIldpZHRoIiwiSGVpZ2h0Il0sZnVuY3Rpb24oYyxkKXtmdW5jdGlvbiBlKGIsYyxkLGUpe3JldHVybiBhLmVhY2goZixmdW5jdGlvbigpe2MtPXBhcnNlRmxvYXQoYS5jc3MoYiwicGFkZGluZyIrdGhpcykpfHwwLGQmJihjLT1wYXJzZUZsb2F0KGEuY3NzKGIsImJvcmRlciIrdGhpcysiV2lkdGgiKSl8fDApLGUmJihjLT1wYXJzZUZsb2F0KGEuY3NzKGIsIm1hcmdpbiIrdGhpcykpfHwwKX0pLGN9dmFyIGY9IldpZHRoIj09PWQ/WyJMZWZ0IiwiUmlnaHQiXTpbIlRvcCIsIkJvdHRvbSJdLGc9ZC50b0xvd2VyQ2FzZSgpLGg9e2lubmVyV2lkdGg6YS5mbi5pbm5lcldpZHRoLGlubmVySGVpZ2h0OmEuZm4uaW5uZXJIZWlnaHQsb3V0ZXJXaWR0aDphLmZuLm91dGVyV2lkdGgsb3V0ZXJIZWlnaHQ6YS5mbi5vdXRlckhlaWdodH07YS5mblsiaW5uZXIiK2RdPWZ1bmN0aW9uKGMpe3JldHVybiBjPT09Yj9oWyJpbm5lciIrZF0uY2FsbCh0aGlzKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNzcyhnLGUodGhpcyxjKSsicHgiKX0pfSxhLmZuWyJvdXRlciIrZF09ZnVuY3Rpb24oYixjKXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGI/aFsib3V0ZXIiK2RdLmNhbGwodGhpcyxiKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNzcyhnLGUodGhpcyxiLCEwLGMpKyJweCIpfSl9fSksYS5mbi5hZGRCYWNrfHwoYS5mbi5hZGRCYWNrPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX0pLGEoIjxhPiIpLmRhdGEoImEtYiIsImEiKS5yZW1vdmVEYXRhKCJhLWIiKS5kYXRhKCJhLWIiKSYmKGEuZm4ucmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yi5jYWxsKHRoaXMsYS5jYW1lbENhc2UoYykpOmIuY2FsbCh0aGlzKX19KGEuZm4ucmVtb3ZlRGF0YSkpLGEudWkuaWU9ISEvbXNpZSBbXHcuXSsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKSxhLnN1cHBvcnQuc2VsZWN0c3RhcnQ9Im9uc2VsZWN0c3RhcnQiaW4gYy5jcmVhdGVFbGVtZW50KCJkaXYiKSxhLmZuLmV4dGVuZCh7ZGlzYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmQoKGEuc3VwcG9ydC5zZWxlY3RzdGFydD8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iKSsiLnVpLWRpc2FibGVTZWxlY3Rpb24iLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pfSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmJpbmQoIi51aS1kaXNhYmxlU2VsZWN0aW9uIil9LHpJbmRleDpmdW5jdGlvbihkKXtpZihkIT09YilyZXR1cm4gdGhpcy5jc3MoInpJbmRleCIsZCk7aWYodGhpcy5sZW5ndGgpZm9yKHZhciBlLGYsZz1hKHRoaXNbMF0pO2cubGVuZ3RoJiZnWzBdIT09Yzspe2lmKGU9Zy5jc3MoInBvc2l0aW9uIiksKCJhYnNvbHV0ZSI9PT1lfHwicmVsYXRpdmUiPT09ZXx8ImZpeGVkIj09PWUpJiYoZj1wYXJzZUludChnLmNzcygiekluZGV4IiksMTApLCFpc05hTihmKSYmMCE9PWYpKXJldHVybiBmO2c9Zy5wYXJlbnQoKX1yZXR1cm4gMH19KSxhLnVpLnBsdWdpbj17YWRkOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPWEudWlbYl0ucHJvdG90eXBlO2ZvcihlIGluIGQpZi5wbHVnaW5zW2VdPWYucGx1Z2luc1tlXXx8W10sZi5wbHVnaW5zW2VdLnB1c2goW2MsZFtlXV0pfSxjYWxsOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGY9YS5wbHVnaW5zW2JdO2lmKGYmJihkfHxhLmVsZW1lbnRbMF0ucGFyZW50Tm9kZSYmMTEhPT1hLmVsZW1lbnRbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZSkpZm9yKGU9MDtlPGYubGVuZ3RoO2UrKylhLm9wdGlvbnNbZltlXVswXV0mJmZbZV1bMV0uYXBwbHkoYS5lbGVtZW50LGMpfX19KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1iLnBhcmVudCgpLGU9W10sZj1kLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLGc9Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKSxoPWQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiksaT1iLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpO3JldHVybiAwPT09Zy5sZW5ndGgmJmYubGVuZ3RoPjAmJihlPWUuY29uY2F0KGYudG9BcnJheSgpKSksMD09PWkubGVuZ3RoJiZoLmxlbmd0aD4wJiYoZT1lLmNvbmNhdChoLnRvQXJyYXkoKSkpLGEuZWFjaChlLGZ1bmN0aW9uKGIsZCl7Yy09YShkKS5vdXRlckhlaWdodCgpfSksTWF0aC5tYXgoMCxjKX07YS5leHRlbmQoYS5tb2JpbGUse3dpbmRvdzphKGIpLGRvY3VtZW50OmEoYyksa2V5Q29kZTphLnVpLmtleUNvZGUsYmVoYXZpb3JzOnt9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihjKXsibnVtYmVyIiE9PWEudHlwZShjKSYmKGM9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGEuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNjcm9sbFRvKDAsYyksYS5tb2JpbGUuZG9jdW1lbnQudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6Y30pfSwyMCksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxnZXRDbG9zZXN0QmFzZVVybDpmdW5jdGlvbihiKXt2YXIgYz1hKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksZD1hLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoO3JldHVybiBhLm1vYmlsZS5keW5hbWljQmFzZUVuYWJsZWQmJmMmJmEubW9iaWxlLnBhdGguaXNQYXRoKGMpfHwoYz1kKSxhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShjLGQpfSxyZW1vdmVBY3RpdmVMaW5rQ2xhc3M6ZnVuY3Rpb24oYil7IWEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rfHxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5jbG9zZXN0KCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLmxlbmd0aCYmIWJ8fGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluaz1udWxsfSxnZXRJbmhlcml0ZWRUaGVtZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkLGU9YVswXSxmPSIiLGc9L3VpLShiYXJ8Ym9keXxvdmVybGF5KS0oW2Etel0pXGIvO2UmJihjPWUuY2xhc3NOYW1lfHwiIiwhKGMmJihkPWcuZXhlYyhjKSkmJihmPWRbMl0pKSk7KWU9ZS5wYXJlbnROb2RlO3JldHVybiBmfHxifHwiYSJ9LGVuaGFuY2VhYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhdmVQYXJlbnRzKGEsImVuaGFuY2UiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJhamF4Iil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO3ZhciBkLGUsZixnLGgsaT1iLmxlbmd0aCxqPWEoKTtmb3IoZz0wO2k+ZztnKyspe2ZvcihlPWIuZXEoZyksZj0hMSxkPWJbZ107ZDspe2lmKGg9ZC5nZXRBdHRyaWJ1dGU/ZC5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucytjKToiIiwiZmFsc2UiPT09aCl7Zj0hMDticmVha31kPWQucGFyZW50Tm9kZX1mfHwoaj1qLmFkZChlKSl9cmV0dXJuIGp9LGdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiBiLmlubmVySGVpZ2h0fHxhLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCl9LHJlc2V0QWN0aXZlUGFnZUhlaWdodDpmdW5jdGlvbihiKXt2YXIgYz1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGU9Yy5oZWlnaHQoKSxmPWMub3V0ZXJIZWlnaHQoITApO2I9ZChjLCJudW1iZXIiPT10eXBlb2YgYj9iOmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpKSxjLmNzcygibWluLWhlaWdodCIsYi0oZi1lKSl9LGxvYWRpbmc6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxvYWRpbmcuX3dpZGdldHx8YShhLm1vYmlsZS5sb2FkZXIucHJvdG90eXBlLmRlZmF1bHRIdG1sKS5sb2FkZXIoKSxjPWIubG9hZGVyLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5sb2FkaW5nLl93aWRnZXQ9YixjfX0pLGEuYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiLGMpe3ZhciBkPWEoYiksZT1kLmpxbURhdGEoImRlcGVuZGVudHMiKXx8YSgpO2QuanFtRGF0YSgiZGVwZW5kZW50cyIsYShlKS5hZGQoYykpfSxhLmZuLmV4dGVuZCh7cmVtb3ZlV2l0aERlcGVuZGVudHM6ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKCl7dmFyIGIsYz17fSxkPWEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpLGU9dGhpczthLm1vYmlsZS5ub2pzJiZhLm1vYmlsZS5ub2pzKHRoaXMpLGEubW9iaWxlLmxpbmtzJiZhLm1vYmlsZS5saW5rcyh0aGlzKSxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluJiZhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluKHRoaXMpLGEuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmZpbmQoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5ub3QoZCkuanFtRW5oYW5jZWFibGUoKS5idXR0b25NYXJrdXAoKSxhLmZuLmZpZWxkY29udGFpbiYmdGhpcy5maW5kKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIpLm5vdChkKS5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpLGEuZWFjaChhLm1vYmlsZS53aWRnZXRzLGZ1bmN0aW9uKGIsZil7aWYoZi5pbml0U2VsZWN0b3Ipe3ZhciBnPWEubW9iaWxlLmVuaGFuY2VhYmxlKGUuZmluZChmLmluaXRTZWxlY3RvcikpO2cubGVuZ3RoPjAmJihnPWcubm90KGQpKSxnLmxlbmd0aD4wJiYoY1tmLnByb3RvdHlwZS53aWRnZXROYW1lXT1nKX19KTtmb3IoYiBpbiBjKWNbYl1bYl0oKTtyZXR1cm4gdGhpc30sYWRkRGVwZW5kZW50czpmdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHModGhpcyxiKX0sZ2V0RW5jb2RlZFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGE+IikudGV4dCh0aGlzLnRleHQoKSkuaHRtbCgpfSxqcW1FbmhhbmNlYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5lbmhhbmNlYWJsZSh0aGlzKX0sanFtSGlqYWNrYWJsZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfX0pLGEucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oYil7dmFyIGM9YShiKTsoYy5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKSkucmVtb3ZlKCksYy5yZW1vdmUoKX0sYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCk7ZC5qcW1EYXRhKCJkZXBlbmRlbnRzIixhKGUpLmFkZChjKSl9LGEuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX0sYS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KGEsdGhpcyksZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLGU9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGQ9MDtudWxsIT0oYz1iW2RdKTtkKyspdHJ5e2EoYykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGYpe31lKGIpfSxhLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaT17fSxqPWIuc3BsaXQoIi4iKVswXTtyZXR1cm4gYj1iLnNwbGl0KCIuIilbMV0sZT1qKyItIitiLGR8fChkPWMsYz1hLldpZGdldCksYS5leHByWyI6Il1bZS50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbihiKXtyZXR1cm4hIWEuZGF0YShiLGUpfSxhW2pdPWFbal18fHt9LGY9YVtqXVtiXSxnPWFbal1bYl09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0P3ZvaWQoYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYikpOm5ldyBnKGEsYil9LGEuZXh0ZW5kKGcsZix7dmVyc2lvbjpkLnZlcnNpb24sX3Byb3RvOmEuZXh0ZW5kKHt9LGQpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLGg9bmV3IGMsaC5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSxoLm9wdGlvbnMpLGEuZWFjaChkLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuaXNGdW5jdGlvbihkKT92b2lkKGlbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fc3VwZXIsZj10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZSxiPWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWMsdGhpcy5fc3VwZXJBcHBseT1mLGJ9fSgpKTp2b2lkKGlbYl09ZCl9KSxnLnByb3RvdHlwZT1hLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6Zj9oLndpZGdldEV2ZW50UHJlZml4fHxiOmJ9LGkse2NvbnN0cnVjdG9yOmcsbmFtZXNwYWNlOmosd2lkZ2V0TmFtZTpiLHdpZGdldEZ1bGxOYW1lOmV9KSxmPyhhLmVhY2goZi5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24oYixjKXt2YXIgZD1jLnByb3RvdHlwZTthLndpZGdldChkLm5hbWVzcGFjZSsiLiIrZC53aWRnZXROYW1lLGcsYy5fcHJvdG8pfSksZGVsZXRlIGYuX2NoaWxkQ29uc3RydWN0b3JzKTpjLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKGcpLGEud2lkZ2V0LmJyaWRnZShiLGcpLGd9LGEud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbihjKXtmb3IodmFyIGUsZixnPWQuY2FsbChhcmd1bWVudHMsMSksaD0wLGk9Zy5sZW5ndGg7aT5oO2grKylmb3IoZSBpbiBnW2hdKWY9Z1toXVtlXSxnW2hdLmhhc093blByb3BlcnR5KGUpJiZmIT09YiYmKGNbZV09YS5pc1BsYWluT2JqZWN0KGYpP2EuaXNQbGFpbk9iamVjdChjW2VdKT9hLndpZGdldC5leHRlbmQoe30sY1tlXSxmKTphLndpZGdldC5leHRlbmQoe30sZik6Zik7cmV0dXJuIGN9LGEud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGUpe3ZhciBmPWUucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHxjO2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9InN0cmluZyI9PXR5cGVvZiBnLGk9ZC5jYWxsKGFyZ3VtZW50cywxKSxqPXRoaXM7cmV0dXJuIGc9IWgmJmkubGVuZ3RoP2Eud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFtnXS5jb25jYXQoaSkpOmcsdGhpcy5lYWNoKGg/ZnVuY3Rpb24oKXt2YXIgZCxlPWEuZGF0YSh0aGlzLGYpO3JldHVybiJpbnN0YW5jZSI9PT1nPyhqPWUsITEpOmU/YS5pc0Z1bmN0aW9uKGVbZ10pJiYiXyIhPT1nLmNoYXJBdCgwKT8oZD1lW2ddLmFwcGx5KGUsaSksZCE9PWUmJmQhPT1iPyhqPWQmJmQuanF1ZXJ5P2oucHVzaFN0YWNrKGQuZ2V0KCkpOmQsITEpOnZvaWQgMCk6YS5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrZysiJyBmb3IgIitjKyIgd2lkZ2V0IGluc3RhbmNlIik6YS5lcnJvcigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2MrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2crIiciKX06ZnVuY3Rpb24oKXt2YXIgYj1hLmRhdGEodGhpcyxmKTtiP2Iub3B0aW9uKGd8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGYsbmV3IGUoZyx0aGlzKSl9KSxqfX0sYS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGEuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxhLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGQpe2Q9YShkfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9YShkKSx0aGlzLnV1aWQ9YysrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpLHRoaXMuYmluZGluZ3M9YSgpLHRoaXMuaG92ZXJhYmxlPWEoKSx0aGlzLmZvY3VzYWJsZT1hKCksZCE9PXRoaXMmJihhLmRhdGEoZCx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGEpe2EudGFyZ2V0PT09ZCYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1hKGQuc3R5bGU/ZC5vd25lckRvY3VtZW50OmQuZG9jdW1lbnR8fGQpLHRoaXMud2luZG93PWEodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6YS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6YS5ub29wLF9jcmVhdGU6YS5ub29wLF9pbml0OmEubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIiksdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LF9kZXN0cm95OmEubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGcsaD1jO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIGMpaWYoaD17fSxlPWMuc3BsaXQoIi4iKSxjPWUuc2hpZnQoKSxlLmxlbmd0aCl7Zm9yKGY9aFtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKSxnPTA7ZzxlLmxlbmd0aC0xO2crKylmW2VbZ11dPWZbZVtnXV18fHt9LGY9ZltlW2ddXTtpZihjPWUucG9wKCksZD09PWIpcmV0dXJuIGZbY109PT1iP251bGw6ZltjXTtmW2NdPWR9ZWxzZXtpZihkPT09YilyZXR1cm4gdGhpcy5vcHRpb25zW2NdPT09Yj9udWxsOnRoaXMub3B0aW9uc1tjXTtoW2NdPWR9cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoaCksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSl0aGlzLl9zZXRPcHRpb24oYixhW2JdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbnNbYV09YiwiZGlzYWJsZWQiPT09YSYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIiwhIWIpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpKSx0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpczsiYm9vbGVhbiIhPXR5cGVvZiBiJiYoZD1jLGM9YixiPSExKSxkPyhjPWU9YShjKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGMpKTooZD1jLGM9dGhpcy5lbGVtZW50LGU9dGhpcy53aWRnZXQoKSksYS5lYWNoKGQsZnVuY3Rpb24oZCxnKXtmdW5jdGlvbiBoKCl7cmV0dXJuIGJ8fGYub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhYSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKT8oInN0cmluZyI9PXR5cGVvZiBnP2ZbZ106ZykuYXBwbHkoZixhcmd1bWVudHMpOnZvaWQgMH0ic3RyaW5nIiE9dHlwZW9mIGcmJihoLmd1aWQ9Zy5ndWlkPWcuZ3VpZHx8aC5ndWlkfHxhLmd1aWQrKyk7dmFyIGk9ZC5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxqPWlbMV0rZi5ldmVudE5hbWVzcGFjZSxrPWlbMl07az9lLmRlbGVnYXRlKGssaixoKTpjLmJpbmQoaixoKX0pfSxfb2ZmOmZ1bmN0aW9uKGEsYil7Yj0oYnx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxhLnVuYmluZChiKS51bmRlbGVnYXRlKGIpfSxfZGVsYXk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuKCJzdHJpbmciPT10eXBlb2YgYT9kW2FdOmEpLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZD10aGlzO3JldHVybiBzZXRUaW1lb3V0KGMsYnx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oYil7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGIpLHRoaXMuX29uKGIse21vdXNlZW50ZXI6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbihiKXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQoYiksdGhpcy5fb24oYix7Zm9jdXNpbjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnNbYl07aWYoZD1kfHx7fSxjPWEuRXZlbnQoYyksYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKSxjLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1jLm9yaWdpbmFsRXZlbnQpZm9yKGUgaW4gZillIGluIGN8fChjW2VdPWZbZV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpLCEoYS5pc0Z1bmN0aW9uKGcpJiZnLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbY10uY29uY2F0KGQpKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGEuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24oYixjKXthLldpZGdldC5wcm90b3R5cGVbIl8iK2JdPWZ1bmN0aW9uKGQsZSxmKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPXtlZmZlY3Q6ZX0pO3ZhciBnLGg9ZT9lPT09ITB8fCJudW1iZXIiPT10eXBlb2YgZT9jOmUuZWZmZWN0fHxjOmI7ZT1lfHx7fSwibnVtYmVyIj09dHlwZW9mIGUmJihlPXtkdXJhdGlvbjplfSksZz0hYS5pc0VtcHR5T2JqZWN0KGUpLGUuY29tcGxldGU9ZixlLmRlbGF5JiZkLmRlbGF5KGUuZGVsYXkpLGcmJmEuZWZmZWN0cyYmYS5lZmZlY3RzLmVmZmVjdFtoXT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPS9bQS1aXS9nLGM9ZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX07YS5leHRlbmQoYS5XaWRnZXQucHJvdG90eXBlLHtfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBkLGUsZj10aGlzLmVsZW1lbnRbMF0sZz17fTtpZighYS5tb2JpbGUuZ2V0QXR0cmlidXRlKGYsImRlZmF1bHRzIikpZm9yKGQgaW4gdGhpcy5vcHRpb25zKWU9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGYsZC5yZXBsYWNlKGIsYykpLG51bGwhPWUmJihnW2RdPWUpO3JldHVybiBnfX0pLGEubW9iaWxlLndpZGdldD1hLldpZGdldH0oYSksZnVuY3Rpb24oYSl7dmFyIGI9InVpLWxvYWRlciIsYz1hKCJodG1sIik7YS53aWRnZXQoIm1vYmlsZS5sb2FkZXIiLHtvcHRpb25zOnt0aGVtZToiYSIsdGV4dFZpc2libGU6ITEsaHRtbDoiIix0ZXh0OiJsb2FkaW5nIn0sZGVmYXVsdEh0bWw6IjxkaXYgY2xhc3M9JyIrYisiJz48c3BhbiBjbGFzcz0ndWktaWNvbi1sb2FkaW5nJz48L3NwYW4+PGgxPjwvaDE+PC9kaXY+IixmYWtlRml4TG9hZGVyOmZ1bmN0aW9uKCl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7dGhpcy5lbGVtZW50LmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJnRoaXMud2luZG93LnNjcm9sbFRvcCgpK3RoaXMud2luZG93LmhlaWdodCgpLzJ8fGIubGVuZ3RoJiZiLm9mZnNldCgpLnRvcHx8MTAwfSl9LGNoZWNrTG9hZGVyUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQub2Zmc2V0KCksYz10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSxkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpOyhiLnRvcDxjfHxiLnRvcC1jPmQpJiYodGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1sb2FkZXItZmFrZWZpeCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLHRoaXMud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmZha2VGaXhMb2FkZXIsdGhpcykpKX0scmVzZXRIdG1sOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmh0bWwoYSh0aGlzLmRlZmF1bHRIdG1sKS5odG1sKCkpfSxzaG93OmZ1bmN0aW9uKGQsZSxmKXt2YXIgZyxoLGk7dGhpcy5yZXNldEh0bWwoKSwib2JqZWN0Ij09PWEudHlwZShkKT8oaT1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsZCksZD1pLnRoZW1lKTooaT10aGlzLm9wdGlvbnMsZD1kfHxpLnRoZW1lKSxoPWV8fChpLnRleHQ9PT0hMT8iIjppLnRleHQpLGMuYWRkQ2xhc3MoInVpLWxvYWRpbmciKSxnPWkudGV4dFZpc2libGUsdGhpcy5lbGVtZW50LmF0dHIoImNsYXNzIixiKyIgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrZCsiIHVpLWxvYWRlci0iKyhnfHxlfHxkLnRleHQ/InZlcmJvc2UiOiJkZWZhdWx0IikrKGkudGV4dG9ubHl8fGY/IiB1aS1sb2FkZXItdGV4dG9ubHkiOiIiKSksaS5odG1sP3RoaXMuZWxlbWVudC5odG1sKGkuaHRtbCk6dGhpcy5lbGVtZW50LmZpbmQoImgxIikudGV4dChoKSx0aGlzLmVsZW1lbnQuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKCksdGhpcy53aW5kb3cuYmluZCgic2Nyb2xsIixhLnByb3h5KHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbix0aGlzKSl9LGhpZGU6ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIiksdGhpcy5vcHRpb25zLnRleHQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuZmFrZUZpeExvYWRlciksYS5tb2JpbGUud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixkKXsiJDpub211bmdlIjtmdW5jdGlvbiBlKGEpe3JldHVybiBhPWF8fGxvY2F0aW9uLmhyZWYsIiMiK2EucmVwbGFjZSgvXlteI10qIz8oLiopJC8sIiQxIil9dmFyIGYsZz0iaGFzaGNoYW5nZSIsaD1jLGk9YS5ldmVudC5zcGVjaWFsLGo9aC5kb2N1bWVudE1vZGUsaz0ib24iK2cgaW4gYiYmKGo9PT1kfHxqPjcpO2EuZm5bZ109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGcsYSk6dGhpcy50cmlnZ2VyKGcpfSxhLmZuW2ddLmRlbGF5PTUwLGlbZ109YS5leHRlbmQoaVtnXSx7c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gaz8hMTp2b2lkIGEoZi5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6dm9pZCBhKGYuc3RvcCl9fSksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXt2YXIgZD1lKCksaD1uKGopO2QhPT1qPyhtKGo9ZCxoKSxhKGIpLnRyaWdnZXIoZykpOmghPT1qJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK2gpLGY9c2V0VGltZW91dChjLGEuZm5bZ10uZGVsYXkpfXZhciBmLGk9e30saj1lKCksbD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sbT1sLG49bDtyZXR1cm4gaS5zdGFydD1mdW5jdGlvbigpe2Z8fGMoKX0saS5zdG9wPWZ1bmN0aW9uKCl7ZiYmY2xlYXJUaW1lb3V0KGYpLGY9ZH0sYi5hdHRhY2hFdmVudCYmIWIuYWRkRXZlbnRMaXN0ZW5lciYmIWsmJmZ1bmN0aW9uKCl7dmFyIGIsZDtpLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltnXS5zcmMsZD1kJiZkK2UoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fG0oZSgpKSxjKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csaC5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5eyJ0aXRsZSI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJihiLmRvY3VtZW50LnRpdGxlPWgudGl0bGUpfWNhdGNoKGEpe319KX0saS5zdG9wPWwsbj1mdW5jdGlvbigpe3JldHVybiBlKGIubG9jYXRpb24uaHJlZil9LG09ZnVuY3Rpb24oYyxkKXt2YXIgZT1iLmRvY3VtZW50LGY9YS5mbltnXS5kb21haW47YyE9PWQmJihlLnRpdGxlPWgudGl0bGUsZS5vcGVuKCksZiYmZS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrZisnIjwvc2NyaXB0PicpLGUuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Yyl9fSgpLGl9KCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7Yi5tYXRjaE1lZGlhPWIubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmRvY3VtZW50RWxlbWVudCxkPWMuZmlyc3RFbGVtZW50Q2hpbGR8fGMuZmlyc3RDaGlsZCxlPWEuY3JlYXRlRWxlbWVudCgiYm9keSIpLGY9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZi5pZD0ibXEtdGVzdC0xIixmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGUuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsZS5hcHBlbmRDaGlsZChmKSxmdW5jdGlvbihhKXtyZXR1cm4gZi5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2ErJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxjLmluc2VydEJlZm9yZShlLGQpLGI9NDI9PT1mLm9mZnNldFdpZHRoLGMucmVtb3ZlQ2hpbGQoZSkse21hdGNoZXM6YixtZWRpYTphfX19KGMpLGEubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGEpe3JldHVybiBiLm1hdGNoTWVkaWEoYSkubWF0Y2hlc319KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPXt0b3VjaDoib250b3VjaGVuZCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiBiJiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiBifSl9KGEpLGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYixjPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksZT0oYSsiICIrby5qb2luKGMrIiAiKStjKS5zcGxpdCgiICIpO2ZvcihiIGluIGUpaWYobltlW2JdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gZigpe3ZhciBjPWIsZD0hKCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLmNyZWF0ZVNWR1JlY3R8fGMub3BlcmEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSksZT1mdW5jdGlvbihiKXtiJiZkfHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vc3ZnIil9LGY9bmV3IGMuSW1hZ2U7Zi5vbmVycm9yPWZ1bmN0aW9uKCl7ZSghMSl9LGYub25sb2FkPWZ1bmN0aW9uKCl7ZSgxPT09Zi53aWR0aCYmMT09PWYuaGVpZ2h0KX0sZi5zcmM9ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT0ifWZ1bmN0aW9uIGcoKXt2YXIgZSxmLGcsaD0idHJhbnNmb3JtLTNkIixpPWEubW9iaWxlLm1lZGlhKCIoLSIrby5qb2luKCItIitoKyIpLCgtIikrIi0iK2grIiksKCIraCsiKSIpO2lmKGkpcmV0dXJuISFpO2U9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9LG0uYXBwZW5kKGUpO2ZvcihnIGluIGYpZS5zdHlsZVtnXSE9PWQmJihlLnN0eWxlW2ddPSJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4ICkiLGk9Yi5nZXRDb21wdXRlZFN0eWxlKGUpLmdldFByb3BlcnR5VmFsdWUoZltnXSkpO3JldHVybiEhaSYmIm5vbmUiIT09aX1mdW5jdGlvbiBoKCl7dmFyIGIsYyxkPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSsidWktZGlyLyIsZT1hKCJoZWFkIGJhc2UiKSxmPW51bGwsZz0iIjtyZXR1cm4gZS5sZW5ndGg/Zz1lLmF0dHIoImhyZWYiKTplPWY9YSgiPGJhc2U+Iix7aHJlZjpkfSkuYXBwZW5kVG8oImhlYWQiKSxiPWEoIjxhIGhyZWY9J3Rlc3R1cmwnIC8+IikucHJlcGVuZFRvKG0pLGM9YlswXS5ocmVmLGVbMF0uaHJlZj1nfHxsb2NhdGlvbi5wYXRobmFtZSxmJiZmLnJlbW92ZSgpLDA9PT1jLmluZGV4T2YoZCl9ZnVuY3Rpb24gaSgpe3ZhciBhLGQ9Yy5jcmVhdGVFbGVtZW50KCJ4IiksZT1jLmRvY3VtZW50RWxlbWVudCxmPWIuZ2V0Q29tcHV0ZWRTdHlsZTtyZXR1cm4icG9pbnRlckV2ZW50cyJpbiBkLnN0eWxlPyhkLnN0eWxlLnBvaW50ZXJFdmVudHM9ImF1dG8iLGQuc3R5bGUucG9pbnRlckV2ZW50cz0ieCIsZS5hcHBlbmRDaGlsZChkKSxhPWYmJiJhdXRvIj09PWYoZCwiIikucG9pbnRlckV2ZW50cyxlLnJlbW92ZUNoaWxkKGQpLCEhYSk6ITF9ZnVuY3Rpb24gaigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdH1mdW5jdGlvbiBrKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTldKykvKSxmPSEhZSYmZVsxXSxnPWMubWF0Y2goL0Zlbm5lY1wvKFswLTldKykvKSxoPSEhZyYmZ1sxXSxpPWMubWF0Y2goL09wZXJhIE1vYmlcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZigiaVBob25lIik+LTF8fGQuaW5kZXhPZigiaVBhZCIpPi0xfHxkLmluZGV4T2YoImlQb2QiKT4tMSkmJmYmJjUzND5mfHxhLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGEub3BlcmFtaW5pKXx8aSYmNzQ1OD5qfHxjLmluZGV4T2YoIkFuZHJvaWQiKT4tMSYmZiYmNTMzPmZ8fGgmJjY+aHx8InBhbG1HZXRSZXNvdXJjZSJpbiBiJiZmJiY1MzQ+Znx8Yy5pbmRleE9mKCJNZWVHbyIpPi0xJiZjLmluZGV4T2YoIk5va2lhQnJvd3Nlci84LjUuMCIpPi0xPyExOiEwfXZhciBsLG09YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksbj1tWzBdLnN0eWxlLG89WyJXZWJraXQiLCJNb3oiLCJPIl0scD0icGFsbUdldFJlc291cmNlImluIGIscT1iLm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKSxyPWIuYmxhY2tiZXJyeSYmIWUoIi13ZWJraXQtdHJhbnNmb3JtIik7YS5leHRlbmQoYS5tb2JpbGUse2Jyb3dzZXI6e319KSxhLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGE9MyxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1iLmFsbHx8W107ZG8gYi5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKGRbMF0pO3JldHVybiBhPjQ/YTohYX0oKSxhLmV4dGVuZChhLnN1cHBvcnQse3B1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSYmIShiLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpPj0wJiZiLnRvcCE9PWIpJiYtMT09PWIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhZSgiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFlKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmcoKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXIsZml4ZWRQb3NpdGlvbjprKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBtWzBdKSYmIXAmJiFxLGR5bmFtaWNCYXNlVGFnOmgoKSxjc3NQb2ludGVyRXZlbnRzOmkoKSxib3VuZGluZ1JlY3Q6aigpLGlubGluZVNWRzpmfSksbS5yZW1vdmUoKSxsPWZ1bmN0aW9uKCl7dmFyIGE9Yi5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpLGEubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihhLnN1cHBvcnQubWVkaWFxdWVyeSYmYS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTgpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8cXx8bCxsJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW5vYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oIm5hdmlnYXRlIixlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtkLm9mZigibmF2aWdhdGUiLGUpfX0sYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtlLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGIuaGlzdG9yeVN0YXRlJiZhLmV4dGVuZChmLGIuaGlzdG9yeVN0YXRlKSxjLm9yaWdpbmFsRXZlbnQ9YixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50cmlnZ2VyKGMse3N0YXRlOmZ9KX0sMCkpfSxoYXNoY2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPW5ldyBhLkV2ZW50KCJuYXZpZ2F0ZSIpLGU9bmV3IGEuRXZlbnQoImJlZm9yZW5hdmlnYXRlIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9InBvcHN0YXRlIixkLmJpbmQoInBvcHN0YXRlLm5hdmlnYXRlIixjLnBvcHN0YXRlKSk6Yy5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJihjLm9yaWdpbmFsRXZlbnROYW1lPSJoYXNoY2hhbmdlIixkLmJpbmQoImhhc2hjaGFuZ2UubmF2aWdhdGUiLGMuaGFzaGNoYW5nZSkpKX19fShhKSxmdW5jdGlvbihhLGMpe3ZhciBkLGUsZj0iJnVpLXN0YXRlPWRpYWxvZyI7YS5tb2JpbGUucGF0aD1kPXt1aVN0YXRlS2V5OiImdWktc3RhdGUiLHVybFBhcnNlUkU6L15ccyooKCgoW146XC8jXD9dKzopPyg/OihcL1wvKSgoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hP3RoaXMucGFyc2VVcmwoYSk6bG9jYXRpb24sYz10aGlzLnBhcnNlVXJsKGF8fGxvY2F0aW9uLmhyZWYpLmhhc2g7cmV0dXJuIGM9IiMiPT09Yz8iIjpjLGIucHJvdG9jb2wrIi8vIitiLmhvc3QrYi5wYXRobmFtZStiLnNlYXJjaCtjfSxnZXREb2N1bWVudFVybDpmdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50VXJsKTpkLmRvY3VtZW50VXJsLmhyZWZ9LHBhcnNlTG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVVybCh0aGlzLmdldExvY2F0aW9uKCkpfSxwYXJzZVVybDpmdW5jdGlvbihiKXtpZigib2JqZWN0Ij09PWEudHlwZShiKSlyZXR1cm4gYjt2YXIgYz1kLnVybFBhcnNlUkUuZXhlYyhifHwiIil8fFtdO3JldHVybntocmVmOmNbMF18fCIiLGhyZWZOb0hhc2g6Y1sxXXx8IiIsaHJlZk5vU2VhcmNoOmNbMl18fCIiLGRvbWFpbjpjWzNdfHwiIixwcm90b2NvbDpjWzRdfHwiIixkb3VibGVTbGFzaDpjWzVdfHwiIixhdXRob3JpdHk6Y1s2XXx8IiIsdXNlcm5hbWU6Y1s4XXx8IiIscGFzc3dvcmQ6Y1s5XXx8IiIsaG9zdDpjWzEwXXx8IiIsaG9zdG5hbWU6Y1sxMV18fCIiLHBvcnQ6Y1sxMl18fCIiLHBhdGhuYW1lOmNbMTNdfHwiIixkaXJlY3Rvcnk6Y1sxNF18fCIiLGZpbGVuYW1lOmNbMTVdfHwiIixzZWFyY2g6Y1sxNl18fCIiLGhhc2g6Y1sxN118fCIifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmO2lmKGEmJiIvIj09PWEuY2hhckF0KDApKXJldHVybiBhO2ZvcihhPWF8fCIiLGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiIsYz1iP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspc3dpdGNoKGY9ZFtlXSl7Y2FzZSIuIjpicmVhaztjYXNlIi4uIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChmKX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBkLnBhcnNlVXJsKGEpLmRvbWFpbj09PWQucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIiE9PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFkLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXRoaXMuZG9jdW1lbnRCYXNlKTt2YXIgZT1kLnBhcnNlVXJsKGEpLGY9ZC5wYXJzZVVybChiKSxnPWUucHJvdG9jb2x8fGYucHJvdG9jb2wsaD1lLnByb3RvY29sP2UuZG91YmxlU2xhc2g6ZS5kb3VibGVTbGFzaHx8Zi5kb3VibGVTbGFzaCxpPWUuYXV0aG9yaXR5fHxmLmF1dGhvcml0eSxqPSIiIT09ZS5wYXRobmFtZSxrPWQubWFrZVBhdGhBYnNvbHV0ZShlLnBhdGhuYW1lfHxmLmZpbGVuYW1lLGYucGF0aG5hbWUpLGw9ZS5zZWFyY2h8fCFqJiZmLnNlYXJjaHx8IiIsbT1lLmhhc2g7cmV0dXJuIGcraCtpK2srbCttfSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnBhcnNlVXJsKGIpLGY9Im9iamVjdCI9PXR5cGVvZiBjP2EucGFyYW0oYyk6YyxnPWUuc2VhcmNofHwiPyI7cmV0dXJuIGUuaHJlZk5vU2VhcmNoK2crKCI/IiE9PWcuY2hhckF0KGcubGVuZ3RoLTEpPyImIjoiIikrZisoZS5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9ZC5wYXJzZVVybChhKTtyZXR1cm4gZC5pc0VtYmVkZGVkUGFnZShjKT9jLmhhc2guc3BsaXQoZilbMF0ucmVwbGFjZSgvXiMvLCIiKS5yZXBsYWNlKC9cPy4qJC8sIiIpOmQuaXNTYW1lRG9tYWluKGMsdGhpcy5kb2N1bWVudEJhc2UpP2MuaHJlZk5vSGFzaC5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIikuc3BsaXQoZilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWMmJihhPWQucGFyc2VMb2NhdGlvbigpLmhhc2gpLGQuc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sc3RyaXBRdWVyeVBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cPy4qJC8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKGYsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIGIucHJvdG9jb2wmJmIuZG9tYWluIT09dGhpcy5kb2N1bWVudFVybC5kb21haW4/ITA6ITF9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIiIhPT1iLnByb3RvY29sPyF0aGlzLmlzUGF0aChiLmhhc2gpJiZiLmhhc2gmJihiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50VXJsLmhyZWZOb0hhc2h8fHRoaXMuZG9jdW1lbnRCYXNlRGlmZmVycyYmYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCk6L14jLy50ZXN0KGIuaHJlZil9LHNxdWFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGg9dGhpcy5pc1BhdGgoYSksaT10aGlzLnBhcnNlVXJsKGEpLGo9aS5oYXNoLGs9IiI7cmV0dXJuIGI9Ynx8KGQuaXNQYXRoKGEpP2QuZ2V0TG9jYXRpb24oKTpkLmdldERvY3VtZW50VXJsKCkpLGU9aD9kLnN0cmlwSGFzaChhKTphLGU9ZC5pc1BhdGgoaS5oYXNoKT9kLnN0cmlwSGFzaChpLmhhc2gpOmUsZz1lLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxnPi0xJiYoaz1lLnNsaWNlKGcpLGU9ZS5zbGljZSgwLGcpKSxjPWQubWFrZVVybEFic29sdXRlKGUsYiksZj10aGlzLnBhcnNlVXJsKGMpLnNlYXJjaCxoPygoZC5pc1BhdGgoail8fDA9PT1qLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkpJiYoaj0iIiksayYmLTE9PT1qLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSYmKGorPWspLC0xPT09ai5pbmRleE9mKCIjIikmJiIiIT09aiYmKGo9IiMiK2opLGM9ZC5wYXJzZVVybChjKSxjPWMucHJvdG9jb2wrIi8vIitjLmhvc3QrYy5wYXRobmFtZStmK2opOmMrPWMuaW5kZXhPZigiIyIpPi0xP2s6IiMiK2ssY30saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSl9LGhhc2hUb1NlbGVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPSIjIj09PWEuc3Vic3RyaW5nKDAsMSk7cmV0dXJuIGImJihhPWEuc3Vic3RyaW5nKDEpKSwoYj8iIyI6IiIpK2EucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuLzo7PD0+P0BbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KGYpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgZT1kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxmPWUuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZlLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGc9YS5tb2JpbGUuZmlyc3RQYWdlLGg9ZyYmZ1swXT9nWzBdLmlkOmM7cmV0dXJuIGYmJighZS5oYXNofHwiIyI9PT1lLmhhc2h8fGgmJmUuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09aCl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmKCJmaWxlOiI9PT1iLnByb3RvY29sfHwiY29udGVudDoiPT09Yi5wcm90b2NvbCkmJi0xIT09Yy5zZWFyY2goL15odHRwcz86Lyl9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGU9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1lLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGUuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sZC5kb2N1bWVudEJhc2UpOmQuZG9jdW1lbnRCYXNlLmhyZWZ9LGEuZXh0ZW5kKGEubW9iaWxlLHtnZXREb2N1bWVudFVybDpkLmdldERvY3VtZW50VXJsLGdldERvY3VtZW50QmFzZTpkLmdldERvY3VtZW50QmFzZX0pfShhKSxmdW5jdGlvbihhLGIpe2EubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmLTE9PT1iLmhhc2guaW5kZXhPZigiIyIpJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZixnPWIubGVuZ3RoO2ZvcihlPTA7Zz5lO2UrKylpZihkPWJbZV0sKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKSYmKGY9ZSxjKSlyZXR1cm4gZjtyZXR1cm4gZn0sY2xvc2VzdDpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMuYWN0aXZlSW5kZXg7cmV0dXJuIGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZSgwLGQpKSxjPT09YiYmKGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZShkKSwhMCksYz1jPT09Yj9jOmMrZCksY30sZGlyZWN0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY2xvc2VzdChjLnVybCksZT10aGlzLmFjdGl2ZUluZGV4O2QhPT1iJiYodGhpcy5hY3RpdmVJbmRleD1kLHRoaXMucHJldmlvdXNJbmRleD1lKSxlPmQ/KGMucHJlc2VudHx8Yy5iYWNrfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImJhY2siKTpkPmU/KGMucHJlc2VudHx8Yy5mb3J3YXJkfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImZvcndhcmQiKTpkPT09YiYmYy5taXNzaW5nJiZjLm1pc3NpbmcodGhpcy5nZXRBY3RpdmUoKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBkPWEubW9iaWxlLnBhdGgsZT1sb2NhdGlvbi5ocmVmO2EubW9iaWxlLk5hdmlnYXRvcj1mdW5jdGlvbihiKXt0aGlzLmhpc3Rvcnk9Yix0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlPSEwLGEubW9iaWxlLndpbmRvdy5iaW5kKHsicG9wc3RhdGUuaGlzdG9yeSI6YS5wcm94eSh0aGlzLnBvcHN0YXRlLHRoaXMpLCJoYXNoY2hhbmdlLmhpc3RvcnkiOmEucHJveHkodGhpcy5oYXNoY2hhbmdlLHRoaXMpfSl9LGEuZXh0ZW5kKGEubW9iaWxlLk5hdmlnYXRvci5wcm90b3R5cGUse3NxdWFzaDpmdW5jdGlvbihlLGYpe3ZhciBnLGgsaT1kLmlzUGF0aChlKT9kLnN0cmlwSGFzaChlKTplO3JldHVybiBoPWQuc3F1YXNoKGUpLGc9YS5leHRlbmQoe2hhc2g6aSx1cmw6aH0sZiksYi5oaXN0b3J5LnJlcGxhY2VTdGF0ZShnLGcudGl0bGV8fGMudGl0bGUsaCksZ30saGFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnO3JldHVybiBjPWQucGFyc2VVcmwoYSksZT1kLnBhcnNlTG9jYXRpb24oKSxlLnBhdGhuYW1lK2Uuc2VhcmNoPT09Yy5wYXRobmFtZStjLnNlYXJjaD9mPWMuaGFzaD9jLmhhc2g6Yy5wYXRobmFtZStjLnNlYXJjaDpkLmlzUGF0aChhKT8oZz1kLnBhcnNlVXJsKGIpLGY9Zy5wYXRobmFtZStnLnNlYXJjaCsoZC5pc1ByZXNlcnZhYmxlSGFzaChnLmhhc2gpP2cuaGFzaC5yZXBsYWNlKCIjIiwiIik6IiIpKTpmPWEsZn0sZ286ZnVuY3Rpb24oZSxmLGcpe3ZhciBoLGksaixrLGw9YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO2k9ZC5zcXVhc2goZSksaj10aGlzLmhhc2goZSxpKSxnJiZqIT09ZC5zdHJpcEhhc2goZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1nKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsYi5sb2NhdGlvbi5oYXNoPWosdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLGg9YS5leHRlbmQoe3VybDppLGhhc2g6aix0aXRsZTpjLnRpdGxlfSxmKSxsJiYoaz1uZXcgYS5FdmVudCgicG9wc3RhdGUiKSxrLm9yaWdpbmFsRXZlbnQ9e3R5cGU6InBvcHN0YXRlIixzdGF0ZTpudWxsfSx0aGlzLnNxdWFzaChlLGgpLGd8fCh0aGlzLmlnbm9yZVBvcFN0YXRlPSEwLGEubW9iaWxlLndpbmRvdy50cmlnZ2VyKGspKSksdGhpcy5oaXN0b3J5LmFkZChoLnVybCxoKX0scG9wc3RhdGU6ZnVuY3Rpb24oYil7dmFyIGMsZjsKaWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpOnRoaXMuaWdub3JlUG9wU3RhdGU/dm9pZCh0aGlzLmlnbm9yZVBvcFN0YXRlPSExKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpP3ZvaWQgYi5wcmV2ZW50RGVmYXVsdCgpOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLHZvaWQoYi5oaXN0b3J5U3RhdGU9ZikpOnZvaWQgdGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGMscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pKX0saGFzaGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgZSxmO2lmKGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJiFhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpe2lmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlKXJldHVybiB0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7ZT10aGlzLmhpc3RvcnksZj1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDpmLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhhc2hjaGFuZ2VTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhhc2hjaGFuZ2VTdGF0ZS5kaXJlY3Rpb249ZH0sbWlzc2luZzpmdW5jdGlvbigpe2UuYWRkKGYse2hhc2g6Zix0aXRsZTpjLnRpdGxlfSl9fSl9fX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5uYXZpZ2F0ZT1mdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLmdvKGIsYyxkKX0sYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeT1uZXcgYS5tb2JpbGUuSGlzdG9yeSxhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3I9bmV3IGEubW9iaWxlLk5hdmlnYXRvcihhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5KTt2YXIgYj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTthLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChiLmhyZWYse2hhc2g6Yi5oYXNofSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e2FuaW1hdGlvbjp7fSx0cmFuc2l0aW9uOnt9fSxlPWMuY3JlYXRlRWxlbWVudCgiYSIpLGY9WyIiLCJ3ZWJraXQtIiwibW96LSIsIm8tIl07YS5lYWNoKFsiYW5pbWF0aW9uIiwidHJhbnNpdGlvbiJdLGZ1bmN0aW9uKGMsZyl7dmFyIGg9MD09PWM/ZysiLW5hbWUiOmc7YS5lYWNoKGYsZnVuY3Rpb24oYyxmKXtyZXR1cm4gZS5zdHlsZVthLmNhbWVsQ2FzZShmK2gpXSE9PWI/KGRbZ10ucHJlZml4PWYsITEpOnZvaWQgMH0pLGRbZ10uZHVyYXRpb249YS5jYW1lbENhc2UoZFtnXS5wcmVmaXgrZysiLWR1cmF0aW9uIiksZFtnXS5ldmVudD1hLmNhbWVsQ2FzZShkW2ddLnByZWZpeCtnKyItZW5kIiksIiI9PT1kW2ddLnByZWZpeCYmKGRbZ10uZXZlbnQ9ZFtnXS5ldmVudC50b0xvd2VyQ2FzZSgpKX0pLGEuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucz1kLnRyYW5zaXRpb24ucHJlZml4IT09YixhLnN1cHBvcnQuY3NzQW5pbWF0aW9ucz1kLmFuaW1hdGlvbi5wcmVmaXghPT1iLGEoZSkucmVtb3ZlKCksYS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqPXRoaXMsaz1mJiYiYW5pbWF0aW9uIiE9PWY/InRyYW5zaXRpb24iOiJhbmltYXRpb24iO3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnMmJiJ0cmFuc2l0aW9uIj09PWt8fGEuc3VwcG9ydC5jc3NBbmltYXRpb25zJiYiYW5pbWF0aW9uIj09PWs/KGc9PT1iJiYoYSh0aGlzKS5jb250ZXh0IT09YyYmKGk9M2UzKnBhcnNlRmxvYXQoYSh0aGlzKS5jc3MoZFtrXS5kdXJhdGlvbikpKSwoMD09PWl8fGk9PT1ifHxpc05hTihpKSkmJihpPWEuZm4uYW5pbWF0aW9uQ29tcGxldGUuZGVmYXVsdER1cmF0aW9uKSksaD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShqKS5vZmYoZFtrXS5ldmVudCksZS5hcHBseShqKX0saSksYSh0aGlzKS5vbmUoZFtrXS5ldmVudCxmdW5jdGlvbigpe2NsZWFyVGltZW91dChoKSxlLmNhbGwodGhpcyxhcmd1bWVudHMpfSkpOihzZXRUaW1lb3V0KGEucHJveHkoZSx0aGlzKSwwKSxhKHRoaXMpKX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb249MWUzfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLm9yaWdpbmFsRXZlbnQ7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGYoYixjKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbz1iLnR5cGU7aWYoYj1hLkV2ZW50KGIpLGIudHlwZT1jLGY9Yi5vcmlnaW5hbEV2ZW50LGc9YS5ldmVudC5wcm9wcyxvLnNlYXJjaCgvXihtb3VzZXxjbGljaykvKT4tMSYmKGc9RSksZilmb3IobD1nLmxlbmd0aCxpO2w7KWk9Z1stLWxdLGJbaV09ZltpXTtpZihvLnNlYXJjaCgvbW91c2UoZG93bnx1cCl8Y2xpY2svKT4tMSYmIWIud2hpY2gmJihiLndoaWNoPTEpLC0xIT09by5zZWFyY2goL150b3VjaC8pJiYoaD1lKGYpLG89aC50b3VjaGVzLGo9aC5jaGFuZ2VkVG91Y2hlcyxrPW8mJm8ubGVuZ3RoP29bMF06aiYmai5sZW5ndGg/alswXTpkKSlmb3IobT0wLG49Qy5sZW5ndGg7bj5tO20rKylpPUNbbV0sYltpXT1rW2ldO3JldHVybiBifWZ1bmN0aW9uIGcoYil7Zm9yKHZhciBjLGQsZT17fTtiOyl7Yz1hLmRhdGEoYix6KTtmb3IoZCBpbiBjKWNbZF0mJihlW2RdPWUuaGFzVmlydHVhbEJpbmRpbmc9ITApO2I9Yi5wYXJlbnROb2RlfXJldHVybiBlfWZ1bmN0aW9uIGgoYixjKXtmb3IodmFyIGQ7Yjspe2lmKGQ9YS5kYXRhKGIseiksZCYmKCFjfHxkW2NdKSlyZXR1cm4gYjtiPWIucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBpKCl7TT0hMX1mdW5jdGlvbiBqKCl7TT0hMH1mdW5jdGlvbiBrKCl7UT0wLEsubGVuZ3RoPTAsTD0hMSxqKCl9ZnVuY3Rpb24gbCgpe2koKX1mdW5jdGlvbiBtKCl7bigpLEc9c2V0VGltZW91dChmdW5jdGlvbigpe0c9MCxrKCl9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gbigpe0cmJihjbGVhclRpbWVvdXQoRyksRz0wKX1mdW5jdGlvbiBvKGIsYyxkKXt2YXIgZTtyZXR1cm4oZCYmZFtiXXx8IWQmJmgoYy50YXJnZXQsYikpJiYoZT1mKGMsYiksYShjLnRhcmdldCkudHJpZ2dlcihlKSksZX1mdW5jdGlvbiBwKGIpe3ZhciBjLGQ9YS5kYXRhKGIudGFyZ2V0LEEpO0x8fFEmJlE9PT1kfHwoYz1vKCJ2IitiLnR5cGUsYiksYyYmKGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmIucHJldmVudERlZmF1bHQoKSxjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcFByb3BhZ2F0aW9uKCksYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSl9ZnVuY3Rpb24gcShiKXt2YXIgYyxkLGYsaD1lKGIpLnRvdWNoZXM7aCYmMT09PWgubGVuZ3RoJiYoYz1iLnRhcmdldCxkPWcoYyksZC5oYXNWaXJ0dWFsQmluZGluZyYmKFE9UCsrLGEuZGF0YShjLEEsUSksbigpLGwoKSxKPSExLGY9ZShiKS50b3VjaGVzWzBdLEg9Zi5wYWdlWCxJPWYucGFnZVksbygidm1vdXNlb3ZlciIsYixkKSxvKCJ2bW91c2Vkb3duIixiLGQpKSl9ZnVuY3Rpb24gcihhKXtNfHwoSnx8bygidm1vdXNlY2FuY2VsIixhLGcoYS50YXJnZXQpKSxKPSEwLG0oKSl9ZnVuY3Rpb24gcyhiKXtpZighTSl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9SixmPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxoPWcoYi50YXJnZXQpO0o9Snx8TWF0aC5hYnMoYy5wYWdlWC1IKT5mfHxNYXRoLmFicyhjLnBhZ2VZLUkpPmYsSiYmIWQmJm8oInZtb3VzZWNhbmNlbCIsYixoKSxvKCJ2bW91c2Vtb3ZlIixiLGgpLG0oKX19ZnVuY3Rpb24gdChhKXtpZighTSl7aigpO3ZhciBiLGMsZD1nKGEudGFyZ2V0KTtvKCJ2bW91c2V1cCIsYSxkKSxKfHwoYj1vKCJ2Y2xpY2siLGEsZCksYiYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxLLnB1c2goe3RvdWNoSUQ6USx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEw9ITApKSxvKCJ2bW91c2VvdXQiLGEsZCksSj0hMSxtKCl9fWZ1bmN0aW9uIHUoYil7dmFyIGMsZD1hLmRhdGEoYix6KTtpZihkKWZvcihjIGluIGQpaWYoZFtjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB2KCl7fWZ1bmN0aW9uIHcoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7dSh0aGlzKXx8YS5kYXRhKHRoaXMseix7fSk7dmFyIGQ9YS5kYXRhKHRoaXMseik7ZFtiXT0hMCxGW2JdPShGW2JdfHwwKSsxLDE9PT1GW2JdJiZPLmJpbmQoYyxwKSxhKHRoaXMpLmJpbmQoYyx2KSxOJiYoRi50b3VjaHN0YXJ0PShGLnRvdWNoc3RhcnR8fDApKzEsMT09PUYudG91Y2hzdGFydCYmTy5iaW5kKCJ0b3VjaHN0YXJ0IixxKS5iaW5kKCJ0b3VjaGVuZCIsdCkuYmluZCgidG91Y2htb3ZlIixzKS5iaW5kKCJzY3JvbGwiLHIpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLUZbYl0sRltiXXx8Ty51bmJpbmQoYyxwKSxOJiYoLS1GLnRvdWNoc3RhcnQsRi50b3VjaHN0YXJ0fHxPLnVuYmluZCgidG91Y2hzdGFydCIscSkudW5iaW5kKCJ0b3VjaG1vdmUiLHMpLnVuYmluZCgidG91Y2hlbmQiLHQpLnVuYmluZCgic2Nyb2xsIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHopO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh6KX19fXZhciB4LHksej0idmlydHVhbE1vdXNlQmluZGluZ3MiLEE9InZpcnR1YWxUb3VjaElEIixCPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxDPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLEQ9YS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxFPWEuZXZlbnQucHJvcHMuY29uY2F0KEQpLEY9e30sRz0wLEg9MCxJPTAsSj0hMSxLPVtdLEw9ITEsTT0hMSxOPSJhZGRFdmVudExpc3RlbmVyImluIGMsTz1hKGMpLFA9MSxRPTA7Zm9yKGEudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH0seT0wO3k8Qi5sZW5ndGg7eSsrKWEuZXZlbnQuc3BlY2lhbFtCW3ldXT13KEJbeV0pO04mJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPUsubGVuZ3RoLGo9Yi50YXJnZXQ7aWYoaSlmb3IoYz1iLmNsaWVudFgsZD1iLmNsaWVudFkseD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLGU9ajtlOyl7Zm9yKGY9MDtpPmY7ZisrKWlmKGc9S1tmXSxoPTAsZT09PWomJk1hdGguYWJzKGcueC1jKTx4JiZNYXRoLmFicyhnLnktZCk8eHx8YS5kYXRhKGUsQSk9PT1nLnRvdWNoSUQpcmV0dXJuIGIucHJldmVudERlZmF1bHQoKSx2b2lkIGIuc3RvcFByb3BhZ2F0aW9uKCk7ZT1lLnBhcmVudE5vZGV9fSwhMCl9KGEsYixjKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZShiLGMsZSxmKXt2YXIgZz1lLnR5cGU7ZS50eXBlPWMsZj9hLmV2ZW50LnRyaWdnZXIoZSxkLGIpOmEuZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUudHlwZT1nfXZhciBmPWEoYyksZz1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGg9InRvdWNobW92ZSBzY3JvbGwiLGk9Zz8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaj1nPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGs9Zz8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KSxhLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Yz1iLGUoZixjPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBjLGQsZj10aGlzLGc9YShmKTtnLmJpbmQoaCxmdW5jdGlvbihlKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGN8fGIoZSwhMCksY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2IoZSwhMSl9LDUwKSl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChoKX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLGVtaXRUYXBPblRhcGhvbGQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKSxkPSExO2MuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oZyl7ZnVuY3Rpb24gaCgpe2NsZWFyVGltZW91dChrKX1mdW5jdGlvbiBpKCl7aCgpLGMudW5iaW5kKCJ2Y2xpY2siLGopLnVuYmluZCgidm1vdXNldXAiLGgpLGYudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGkpfWZ1bmN0aW9uIGooYSl7aSgpLGR8fGwhPT1hLnRhcmdldD9kJiZhLnN0b3BQcm9wYWdhdGlvbigpOmUoYiwidGFwIixhKX1pZihkPSExLGcud2hpY2gmJjEhPT1nLndoaWNoKXJldHVybiExO3ZhciBrLGw9Zy50YXJnZXQ7Yy5iaW5kKCJ2bW91c2V1cCIsaCkuYmluZCgidmNsaWNrIixqKSxmLmJpbmQoInZtb3VzZWNhbmNlbCIsaSksaz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRhcC5lbWl0VGFwT25UYXBob2xkfHwoZD0hMCksZShiLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIix7dGFyZ2V0Omx9KSl9LGEuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgidm1vdXNlZG93biIpLnVuYmluZCgidmNsaWNrIikudW5iaW5kKCJ2bW91c2V1cCIpLGYudW5iaW5kKCJ2bW91c2VjYW5jZWwiKX19LGEuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxZTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsZ2V0TG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGM9Yi5wYWdlWE9mZnNldCxkPWIucGFnZVlPZmZzZXQsZT1hLmNsaWVudFgsZj1hLmNsaWVudFk7cmV0dXJuIDA9PT1hLnBhZ2VZJiZNYXRoLmZsb29yKGYpPk1hdGguZmxvb3IoYS5wYWdlWSl8fDA9PT1hLnBhZ2VYJiZNYXRoLmZsb29yKGUpPk1hdGguZmxvb3IoYS5wYWdlWCk/KGUtPWMsZi09ZCk6KGY8YS5wYWdlWS1kfHxlPGEucGFnZVgtYykmJihlPWEucGFnZVgtYyxmPWEucGFnZVktZCkse3g6ZSx5OmZ9fSxzdGFydDpmdW5jdGlvbihiKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiLGQ9YS5ldmVudC5zcGVjaWFsLnN3aXBlLmdldExvY2F0aW9uKGMpO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbZC54LGQueV0sb3JpZ2luOmEoYi50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiLGQ9YS5ldmVudC5zcGVjaWFsLnN3aXBlLmdldExvY2F0aW9uKGMpO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbZC54LGQueV19fSxoYW5kbGVTd2lwZTpmdW5jdGlvbihiLGMsZCxmKXtpZihjLnRpbWUtYi50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMF0tYy5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKGIuY29vcmRzWzFdLWMuY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCl7dmFyIGc9Yi5jb29yZHNbMF0+Yy5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiO3JldHVybiBlKGQsInN3aXBlIixhLkV2ZW50KCJzd2lwZSIse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yixzd2lwZXN0b3A6Y30pLCEwKSxlKGQsZyxhLkV2ZW50KGcse3RhcmdldDpmLHN3aXBlc3RhcnQ6Yixzd2lwZXN0b3A6Y30pLCEwKSwhMH1yZXR1cm4hMX0sZXZlbnRJblByb2dyZXNzOiExLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLGQ9YShjKSxlPXt9O2I9YS5kYXRhKHRoaXMsIm1vYmlsZS1ldmVudHMiKSxifHwoYj17bGVuZ3RoOjB9LGEuZGF0YSh0aGlzLCJtb2JpbGUtZXZlbnRzIixiKSksYi5sZW5ndGgrKyxiLnN3aXBlPWUsZS5zdGFydD1mdW5jdGlvbihiKXtpZighYS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcyl7YS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcz0hMDt2YXIgZCxnPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdGFydChiKSxoPWIudGFyZ2V0LGk9ITE7ZS5tb3ZlPWZ1bmN0aW9uKGIpe2cmJihkPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGIpLGl8fChpPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGQsYyxoKSxpJiYoYS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcz0hMSkpLE1hdGguYWJzKGcuY29vcmRzWzBdLWQuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpKX0sZS5zdG9wPWZ1bmN0aW9uKCl7aT0hMCxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSExLGYub2ZmKGssZS5tb3ZlKSxlLm1vdmU9bnVsbH0sZi5vbihrLGUubW92ZSkub25lKGosZS5zdG9wKX19LGQub24oaSxlLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgYixjO2I9YS5kYXRhKHRoaXMsIm1vYmlsZS1ldmVudHMiKSxiJiYoYz1iLnN3aXBlLGRlbGV0ZSBiLnN3aXBlLGIubGVuZ3RoLS0sMD09PWIubGVuZ3RoJiZhLnJlbW92ZURhdGEodGhpcywibW9iaWxlLWV2ZW50cyIpKSxjJiYoYy5zdGFydCYmYSh0aGlzKS5vZmYoaSxjLnN0YXJ0KSxjLm1vdmUmJmYub2ZmKGssYy5tb3ZlKSxjLnN0b3AmJmYub2ZmKGosYy5zdG9wKSl9fSxhLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChjKX19fSl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsZil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsZil9fTt2YXIgYixjLGQsZT0yNTAsZj1mdW5jdGlvbigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD1jLWcsZD49ZT8oZz1jLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOihiJiZjbGVhclRpbWVvdXQoYiksYj1zZXRUaW1lb3V0KGYsZS1kKSl9LGc9MH0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKCl7dmFyIGE9ZSgpO2EhPT1mJiYoZj1hLGwudHJpZ2dlcihtKSl9dmFyIGUsZixnLGgsaSxqLGssbD1hKGIpLG09Im9yaWVudGF0aW9uY2hhbmdlIixuPXswOiEwLDE4MDohMH07YS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYoaT1iLmlubmVyV2lkdGh8fGwud2lkdGgoKSxqPWIuaW5uZXJIZWlnaHR8fGwuaGVpZ2h0KCksaz01MCxnPWk+aiYmaS1qPmssaD1uW2Iub3JpZW50YXRpb25dLChnJiZofHwhZyYmIWgpJiYobj17Ii05MCI6ITAsOTA6ITB9KSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPWEuZXh0ZW5kKHt9LGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZSx7c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOihmPWUoKSx2b2lkIGwuYmluZCgidGhyb3R0bGVkcmVzaXplIixkKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZD8hMTp2b2lkIGwudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vcmllbnRhdGlvbj1lKCksYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pLGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1lPWZ1bmN0aW9uKCl7dmFyIGQ9ITAsZT1jLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gZD1hLnN1cHBvcnQub3JpZW50YXRpb24/bltiLm9yaWVudGF0aW9uXTplJiZlLmNsaWVudFdpZHRoL2UuY2xpZW50SGVpZ2h0PDEuMSxkPyJwb3J0cmFpdCI6ImxhbmRzY2FwZSJ9LGEuZm5bbV09ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKG0sYSk6dGhpcy50cmlnZ2VyKG0pfSxhLmF0dHJGbiYmKGEuYXR0ckZuW21dPSEwKX0oYSx0aGlzKSxmdW5jdGlvbihhKXt2YXIgYj1hKCJoZWFkIikuY2hpbGRyZW4oImJhc2UiKSxjPXtlbGVtZW50OmIubGVuZ3RoP2I6YSgiPGJhc2U+Iix7aHJlZjphLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNofSkucHJlcGVuZFRvKGEoImhlYWQiKSksbGlua1NlbGVjdG9yOiJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIsc2V0OmZ1bmN0aW9uKGIpe2EubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnJiZjLmVsZW1lbnQuYXR0cigiaHJlZiIsYS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoYixhLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZSkpfSxyZXdyaXRlOmZ1bmN0aW9uKGIsZCl7dmFyIGU9YS5tb2JpbGUucGF0aC5nZXQoYik7ZC5maW5kKGMubGlua1NlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShjKS5pcygiW2hyZWZdIik/ImhyZWYiOmEoYykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsZj1hKGMpLmF0dHIoZCk7Zj1mLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKSwvXihcdys6fCN8XC8pLy50ZXN0KGYpfHxhKGMpLmF0dHIoZCxlK2YpfSl9LHJlc2V0OmZ1bmN0aW9uKCl7Yy5lbGVtZW50LmF0dHIoImhyZWYiLGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb1NlYXJjaCl9fTthLm1vYmlsZS5iYXNlPWN9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUud2lkZ2V0cz17fTt2YXIgYz1hLndpZGdldCxkPWEubW9iaWxlLmtlZXBOYXRpdmU7YS53aWRnZXQ9ZnVuY3Rpb24oYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT1kLnByb3RvdHlwZS53aWRnZXROYW1lO3JldHVybiBkLmluaXRTZWxlY3Rvcj1kLnByb3RvdHlwZS5pbml0U2VsZWN0b3IhPT1iP2QucHJvdG90eXBlLmluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nIitlKyInKSIsYS5tb2JpbGUud2lkZ2V0c1tlXT1kLGR9fShhLndpZGdldCksYS5leHRlbmQoYS53aWRnZXQsYyksYS5tb2JpbGUuZG9jdW1lbnQub24oImNyZWF0ZSIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuZW5oYW5jZVdpdGhpbigpfSksYS53aWRnZXQoIm1vYmlsZS5wYWdlIix7b3B0aW9uczp7dGhlbWU6ImEiLGRvbUNhY2hlOiExLGtlZXBOYXRpdmVEZWZhdWx0OmEubW9iaWxlLmtlZXBOYXRpdmUsY29udGVudFRoZW1lOm51bGwsZW5oYW5jZWQ6ITF9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcigiaW5pdCIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImJlZm9yZWNyZWF0ZSIpPT09ITE/ITE6KHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHRoaXMuZWxlbWVudCx7cGFnZWJlZm9yZWhpZGU6InJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiLHBhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3cifSksdGhpcy5lbGVtZW50LmVuaGFuY2VXaXRoaW4oKSx2b2lkKCJkaWFsb2ciPT09YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFswXSwicm9sZSIpJiZhLm1vYmlsZS5kaWFsb2cmJnRoaXMuZWxlbWVudC5kaWFsb2coKSkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBjPSJkYXRhLSIrYS5tb2JpbGUubnMsZD10aGlzO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIix0aGlzLm9wdGlvbnMucm9sZSksdGhpcy5lbGVtZW50LmF0dHIoInRhYmluZGV4IiwiMCIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLXBhZ2UtdGhlbWUtIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuZWxlbWVudC5maW5kKCJbIitjKyJyb2xlPSdjb250ZW50J10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9YSh0aGlzKSxmPXRoaXMuZ2V0QXR0cmlidXRlKGMrInRoZW1lIil8fGI7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZT1mfHxkLm9wdGlvbnMuY29udGVudFRoZW1lfHxkLm9wdGlvbnMuZGlhbG9nJiZkLm9wdGlvbnMudGhlbWV8fCJkaWFsb2ciPT09ZC5lbGVtZW50LmpxbURhdGEoInJvbGUiKSYmZC5vcHRpb25zLnRoZW1lLGUuYWRkQ2xhc3MoInVpLWNvbnRlbnQiKSxkLm9wdGlvbnMuY29udGVudFRoZW1lJiZlLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5vcHRpb25zLmNvbnRlbnRUaGVtZSksZS5hdHRyKCJyb2xlIiwibWFpbiIpLmFkZENsYXNzKCJ1aS1jb250ZW50Iil9KX0sYmluZFJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQ7IWMuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlJiZjLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmYy5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGJ8fGZ1bmN0aW9uKGIsYyl7aWYoIWMuc2FtZVBhZ2Upe3ZhciBkPWEodGhpcyksZT1uZXcgYS5FdmVudCgicGFnZXJlbW92ZSIpO2QudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxkLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9fSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2MudGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXBhZ2UtdGhlbWUtIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKCJ1aS1wYWdlLXRoZW1lLSIrYy50aGVtZSksYy5jb250ZW50VGhlbWUhPT1iJiZ0aGlzLmVsZW1lbnQuZmluZCgiW2RhdGEtIithLm1vYmlsZS5ucysiPSdjb250ZW50J10iKS5yZW1vdmVDbGFzcygidWktYm9keS0iK3RoaXMub3B0aW9ucy5jb250ZW50VGhlbWUpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYy5jb250ZW50VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCI6bW9iaWxlLXBhZ2Vjb250YWluZXIiKS5wYWdlY29udGFpbmVyKHt0aGVtZToibm9uZSJ9KX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQucGFyZW50KCkucGFnZWNvbnRhaW5lcih7dGhlbWU6YXx8dGhpcy5vcHRpb25zLnRoZW1lfSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWEudHJpbShiLmtlZXBOYXRpdmV8fCIiKSxlPWEudHJpbShhLm1vYmlsZS5rZWVwTmF0aXZlKSxmPWEudHJpbShiLmtlZXBOYXRpdmVEZWZhdWx0KSxnPWQ9PT1lPyIiOmUsaD0iIj09PWc/ZjoiIjtyZXR1cm4oYz9bY106W10pLmNvbmNhdChnP1tnXTpbXSkuY29uY2F0KGg/W2hdOltdKS5qb2luKCIsICIpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZWNvbnRhaW5lciIse29wdGlvbnM6e3RoZW1lOiJhIn0saW5pdFNlbGVjdG9yOiExLF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZToiX2Rpc2FibGVSZWNvcmRTY3JvbGwiLHNjcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZToiX2ZpbHRlck5hdmlnYXRlRXZlbnRzIn0pLHRoaXMuX29uKHtwYWdlY2hhbmdlOiJfYWZ0ZXJDb250ZW50Q2hhbmdlIn0pLHRoaXMud2luZG93Lm9uZSgibmF2aWdhdGUiLGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwfSx0aGlzKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2EudGhlbWUhPT1kJiYibm9uZSIhPT1hLnRoZW1lP3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoInVpLW92ZXJsYXktIithLnRoZW1lKTphLnRoZW1lIT09ZCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1vdmVybGF5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9zdXBlcihhKX0sX2Rpc2FibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSExfSxfZW5hYmxlUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sX2FmdGVyQ29udGVudENoYW5nZTpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb2ZmKHRoaXMud2luZG93LCJzY3JvbGxzdG9wIiksdGhpcy5fb24odGhpcy53aW5kb3cse3Njcm9sbHN0b3A6Il9kZWxheWVkUmVjb3JkU2Nyb2xsIn0pfSxfcmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCl7dmFyIGEsYixjLGQ9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpO2QmJihhPXRoaXMuX2dldFNjcm9sbCgpLGI9dGhpcy5fZ2V0TWluU2Nyb2xsKCksYz10aGlzLl9nZXREZWZhdWx0U2Nyb2xsKCksZC5sYXN0U2Nyb2xsPWI+YT9jOmEpfX0sX2RlbGF5ZWRSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGEucHJveHkodGhpcywiX3JlY29yZFNjcm9sbCIpLDEwMCl9LF9nZXRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCl9LF9nZXRNaW5TY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubWluU2Nyb2xsQmFja30sX2dldERlZmF1bHRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGx9LF9maWx0ZXJOYXZpZ2F0ZUV2ZW50czpmdW5jdGlvbihiLGMpe3ZhciBkO2Iub3JpZ2luYWxFdmVudCYmYi5vcmlnaW5hbEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1iLm9yaWdpbmFsRXZlbnQudHlwZS5pbmRleE9mKCJoYXNoY2hhbmdlIik+LTE/Yy5zdGF0ZS5oYXNoOmMuc3RhdGUudXJsLGR8fChkPXRoaXMuX2dldEhhc2goKSksZCYmIiMiIT09ZCYmMCE9PWQuaW5kZXhPZigiIyIrYS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KGQ9bG9jYXRpb24uaHJlZiksdGhpcy5faGFuZGxlTmF2aWdhdGUoZCxjLnN0YXRlKSl9LF9nZXRIYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2h9LGdldEFjdGl2ZVBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVQYWdlfSxfZ2V0SW5pdGlhbENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZmlyc3RQYWdlfSxfZ2V0SGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5fSxfZ2V0QWN0aXZlSGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpfSxfZ2V0RG9jdW1lbnRCYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlfSxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5nbygtMSl9LGZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLmdvKDEpfSxnbzpmdW5jdGlvbihjKXtpZihhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCliLmhpc3RvcnkuZ28oYyk7ZWxzZXt2YXIgZD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LGU9ZCtwYXJzZUludChjLDEwKSxmPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2tbZV0udXJsLGc9Yz49MT8iZm9yd2FyZCI6ImJhY2siO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg9ZSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXg9ZCx0aGlzLmNoYW5nZShmLHtkaXJlY3Rpb246ZyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuInN0cmluZyI9PT1hLnR5cGUoYikmJihiPWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGIpKSxiJiYoYz10aGlzLl9nZXRIaXN0b3J5KCksYj1hLm1vYmlsZS5wYXRoLmlzUGF0aChiKT9iOmEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitiLHRoaXMuX2dldERvY3VtZW50QmFzZSgpKSxiPT09YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MuaW5pdGlhbERzdCx0aGlzLl9nZXREb2N1bWVudEJhc2UoKSkmJmMuc3RhY2subGVuZ3RoJiZjLnN0YWNrWzBdLnVybCE9PWMuaW5pdGlhbERzdC5yZXBsYWNlKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXksIiIpJiYoYj10aGlzLl9nZXRJbml0aWFsQ29udGVudCgpKSksYnx8dGhpcy5fZ2V0SW5pdGlhbENvbnRlbnQoKX0sX2hhbmRsZURpYWxvZzpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZj10aGlzLmdldEFjdGl2ZVBhZ2UoKTtyZXR1cm4gZiYmIWYuaGFzQ2xhc3MoInVpLWRpYWxvZyIpPygiYmFjayI9PT1jLmRpcmVjdGlvbj90aGlzLmJhY2soKTp0aGlzLmZvcndhcmQoKSwhMSk6KGQ9Yy5wYWdlVXJsLGU9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpLGEuZXh0ZW5kKGIse3JvbGU6ZS5yb2xlLHRyYW5zaXRpb246ZS50cmFuc2l0aW9uLHJldmVyc2U6ImJhY2siPT09Yy5kaXJlY3Rpb259KSxkKX0sX2hhbmRsZU5hdmlnYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGU9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYiksZj10aGlzLl9nZXRIaXN0b3J5KCksZz0wPT09Zi5zdGFjay5sZW5ndGg/Im5vbmUiOmQsaD17Y2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMCxyZXZlcnNlOiJiYWNrIj09PWMuZGlyZWN0aW9ufTthLmV4dGVuZChoLGMse3RyYW5zaXRpb246KGYuZ2V0TGFzdCgpfHx7fSkudHJhbnNpdGlvbnx8Z30pLGYuYWN0aXZlSW5kZXg+MCYmZS5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiZmLmluaXRpYWxEc3QhPT1lJiYoZT10aGlzLl9oYW5kbGVEaWFsb2coaCxjKSxlPT09ITEpfHx0aGlzLl9jaGFuZ2VDb250ZW50KHRoaXMuX2hhbmRsZURlc3RpbmF0aW9uKGUpLGgpfSxfY2hhbmdlQ29udGVudDpmdW5jdGlvbihiLGMpe2EubW9iaWxlLmNoYW5nZVBhZ2UoYixjKX0sX2dldEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuYmFzZX0sX2dldE5zOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLm5zfSxfZW5oYW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLnBhZ2Uoe3JvbGU6Yn0pfSxfaW5jbHVkZTpmdW5jdGlvbihhLGIpe2EuYXBwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLl9lbmhhbmNlKGEsYi5yb2xlKSxhLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLl9jcmVhdGVGaWxlVXJsKGIpLGU9dGhpcy5fY3JlYXRlRGF0YVVybChiKSxmPXRoaXMuX2dldEluaXRpYWxDb250ZW50KCk7cmV0dXJuIGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJbZGF0YS0iK3RoaXMuX2dldE5zKCkrInVybD0nIitlKyInXSIpLDA9PT1jLmxlbmd0aCYmZSYmIWEubW9iaWxlLnBhdGguaXNQYXRoKGUpJiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYS5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcigiIyIrZSkpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJ1cmwiLGUpLmpxbURhdGEoInVybCIsZSkpLDA9PT1jLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGluZygpfSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZ3x8KHRoaXMuX2xvYWRNc2c9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJzaG93IixjLGQsZSksdGhpcy5fbG9hZE1zZz0wfSx0aGlzKSxiKSl9LF9oaWRlTG9hZGluZzpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkTXNnKSx0aGlzLl9sb2FkTXNnPTAsdGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCJoaWRlIil9LF9zaG93RXJyb3I6ZnVuY3Rpb24oKXt0aGlzLl9oaWRlTG9hZGluZygpLHRoaXMuX3Nob3dMb2FkaW5nKDAsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9oaWRlTG9hZGluZyIpLDE1MDApfSxfcGFyc2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPWEoIjxkaXY+PC9kaXY+Iik7cmV0dXJuIGUuZ2V0KDApLmlubmVySFRNTD1iLGQ9ZS5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKSxkLmxlbmd0aHx8KGQ9YSgiPGRpdiBkYXRhLSIrdGhpcy5fZ2V0TnMoKSsicm9sZT0ncGFnZSc+IisoYi5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksZC5hdHRyKCJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsIixhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoYykpLmF0dHIoImRhdGEtIit0aGlzLl9nZXROcygpKyJleHRlcm5hbC1wYWdlIiwhMCksZH0sX3NldExvYWRlZFRpdGxlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDE7ZCYmIWIuanFtRGF0YSgidGl0bGUiKSYmKGQ9YSgiPGRpdj4iK2QrIjwvZGl2PiIpLnRleHQoKSxiLmpxbURhdGEoInRpdGxlIixkKSl9LF9pc1Jld3JpdGFibGVCYXNlVGFnOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZ30sX2NyZWF0ZURhdGFVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChiKX0sX2NyZWF0ZUZpbGVVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYil9LF90cmlnZ2VyV2l0aERlcHJlY2F0ZWQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuRXZlbnQoInBhZ2UiK2IpLGY9YS5FdmVudCh0aGlzLndpZGdldE5hbWUrYik7cmV0dXJuKGR8fHRoaXMuZWxlbWVudCkudHJpZ2dlcihlLGMpLHRoaXMuZWxlbWVudC50cmlnZ2VyKGYsYykse2RlcHJlY2F0ZWRFdmVudDplLGV2ZW50OmZ9fSxfbG9hZFN1Y2Nlc3M6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGc9dGhpcy5fY3JlYXRlRmlsZVVybChiKSxoPXRoaXMuX2NyZWF0ZURhdGFVcmwoYik7cmV0dXJuIGEucHJveHkoZnVuY3Rpb24oaSxqLGspe3ZhciBsLG09bmV3IFJlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIit0aGlzLl9nZXROcygpKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiksbj1uZXcgUmVnRXhwKCJcXGJkYXRhLSIrdGhpcy5fZ2V0TnMoKSsidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTttLnRlc3QoaSkmJlJlZ0V4cC4kMSYmbi50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGc9YS5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aChhKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSxlLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnNldChnKSxsPXRoaXMuX3BhcnNlKGksZyksdGhpcy5fc2V0TG9hZGVkVGl0bGUobCxpKSxjLnhocj1rLGMudGV4dFN0YXR1cz1qLGMucGFnZT1sLGMuY29udGVudD1sLHRoaXMuX3RyaWdnZXIoImxvYWQiLGQsYykmJih0aGlzLl9pc1Jld3JpdGFibGVCYXNlVGFnKCkmJmwmJnRoaXMuX2dldEJhc2UoKS5yZXdyaXRlKGcsbCksdGhpcy5faW5jbHVkZShsLGUpLGIuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihsPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiW2RhdGEtIit0aGlzLl9nZXROcygpKyJ1cmw9JyIraCsiJ10iKSksZS5zaG93TG9hZE1zZyYmdGhpcy5faGlkZUxvYWRpbmcoKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigicGFnZWxvYWQiKSxmLnJlc29sdmUoYixlLGwpKX0sdGhpcyl9LF9sb2FkRGVmYXVsdHM6e3R5cGU6ImdldCIsZGF0YTpkLHJlbG9hZFBhZ2U6ITEscmVsb2FkOiExLHJvbGU6ZCxzaG93TG9hZE1zZzohMSxsb2FkTXNnRGVsYXk6NTB9LGxvYWQ6ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGcsaCxpPWMmJmMuZGVmZXJyZWR8fGEuRGVmZXJyZWQoKSxqPWEuZXh0ZW5kKHt9LHRoaXMuX2xvYWREZWZhdWx0cyxjKSxrPW51bGwsbD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSk7cmV0dXJuIGoucmVsb2FkPWoucmVsb2FkUGFnZSxqLmRhdGEmJiJnZXQiPT09ai50eXBlJiYobD1hLm1vYmlsZS5wYXRoLmFkZFNlYXJjaFBhcmFtcyhsLGouZGF0YSksai5kYXRhPWQpLGouZGF0YSYmInBvc3QiPT09ai50eXBlJiYoai5yZWxvYWQ9ITApLGU9dGhpcy5fY3JlYXRlRmlsZVVybChsKSxmPXRoaXMuX2NyZWF0ZURhdGFVcmwobCksaz10aGlzLl9maW5kKGwpLDA9PT1rLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZShlKSYmIWEubW9iaWxlLnBhdGguaXNGaXJzdFBhZ2VVcmwoZSk/dm9pZCBpLnJlamVjdChsLGopOih0aGlzLl9nZXRCYXNlKCkucmVzZXQoKSxrLmxlbmd0aCYmIWoucmVsb2FkPyh0aGlzLl9lbmhhbmNlKGssai5yb2xlKSxpLnJlc29sdmUobCxqLGspLHZvaWQoai5wcmVmZXRjaHx8dGhpcy5fZ2V0QmFzZSgpLnNldChiKSkpOihoPXt1cmw6YixhYnNVcmw6bCxkYXRhVXJsOmYsZGVmZXJyZWQ6aSxvcHRpb25zOmp9LGc9dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCJiZWZvcmVsb2FkIixoKSxnLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Zy5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKT92b2lkIDA6KGouc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dMb2FkaW5nKGoubG9hZE1zZ0RlbGF5KSxqLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzfHxhLm1vYmlsZS5wYXRoLmlzU2FtZURvbWFpbihhLm1vYmlsZS5wYXRoLmRvY3VtZW50VXJsLGwpP3ZvaWQgYS5hamF4KHt1cmw6ZSx0eXBlOmoudHlwZSxkYXRhOmouZGF0YSxjb250ZW50VHlwZTpqLmNvbnRlbnRUeXBlLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOnRoaXMuX2xvYWRTdWNjZXNzKGwsaCxqLGkpLGVycm9yOnRoaXMuX2xvYWRFcnJvcihsLGgsaixpKX0pOnZvaWQgaS5yZWplY3QobCxqKSkpKX0sX2xvYWRFcnJvcjpmdW5jdGlvbihiLGMsZCxlKXtyZXR1cm4gYS5wcm94eShmdW5jdGlvbihmLGcsaCl7dGhpcy5fZ2V0QmFzZSgpLnNldChhLm1vYmlsZS5wYXRoLmdldCgpKSxjLnhocj1mLGMudGV4dFN0YXR1cz1nLGMuZXJyb3JUaHJvd249aDt2YXIgaT10aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoImxvYWRmYWlsZWQiLGMpO2kuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHxpLmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZC5zaG93TG9hZE1zZyYmdGhpcy5fc2hvd0Vycm9yKCksZS5yZWplY3QoYixkKSl9LHRoaXMpfSxfZ2V0VHJhbnNpdGlvbkhhbmRsZXI6ZnVuY3Rpb24oYil7cmV0dXJuIGI9YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksYS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW2JdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXJ9LF90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50czpmdW5jdGlvbihiLGMsZCl7dmFyIGU9ITE7ZD1kfHwiIixjJiYoYlswXT09PWNbMF0mJihlPSEwKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCsiaGlkZSIse25leHRQYWdlOmIsc2FtZVBhZ2U6ZX0sYykpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChkKyJzaG93Iix7cHJldlBhZ2U6Y3x8YSgiIil9LGIpfSxfY3NzVHJhbnNpdGlvbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnPWQudHJhbnNpdGlvbixoPWQucmV2ZXJzZSxpPWQuZGVmZXJyZWQ7dGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHMoYixjLCJiZWZvcmUiKSx0aGlzLl9oaWRlTG9hZGluZygpLGU9dGhpcy5fZ2V0VHJhbnNpdGlvbkhhbmRsZXIoZyksZj1uZXcgZShnLGgsYixjKS50cmFuc2l0aW9uKCksZi5kb25lKGZ1bmN0aW9uKCl7aS5yZXNvbHZlLmFwcGx5KGksYXJndW1lbnRzKX0pLGYuZG9uZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHMoYixjKX0sdGhpcykpfSxfcmVsZWFzZVRyYW5zaXRpb25Mb2NrOmZ1bmN0aW9uKCl7Zj0hMSxlLmxlbmd0aD4wJiZhLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KG51bGwsZS5wb3AoKSl9LF9yZW1vdmVBY3RpdmVMaW5rQ2xhc3M6ZnVuY3Rpb24oYil7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKGIpfSxfbG9hZFVybDpmdW5jdGlvbihiLGMsZCl7ZC50YXJnZXQ9YixkLmRlZmVycmVkPWEuRGVmZXJyZWQoKSx0aGlzLmxvYWQoYixkKSxkLmRlZmVycmVkLmRvbmUoYS5wcm94eShmdW5jdGlvbihhLGIsZCl7Zj0hMSxiLmFic1VybD1jLmFic1VybCx0aGlzLnRyYW5zaXRpb24oZCxjLGIpfSx0aGlzKSksZC5kZWZlcnJlZC5mYWlsKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoITApLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgiY2hhbmdlZmFpbGVkIixjKX0sdGhpcykpfSxfdHJpZ2dlclBhZ2VCZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPW5ldyBhLkV2ZW50KCJwYWdlYmVmb3JlY2hhbmdlIik7cmV0dXJuIGEuZXh0ZW5kKGMse3RvUGFnZTpiLG9wdGlvbnM6ZH0pLGMuYWJzVXJsPSJzdHJpbmciPT09YS50eXBlKGIpP2EubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGIsdGhpcy5fZmluZEJhc2VXaXRoRGVmYXVsdCgpKTpkLmFic1VybCx0aGlzLmVsZW1lbnQudHJpZ2dlcihlLGMpLGUuaXNEZWZhdWx0UHJldmVudGVkKCk/ITE6ITB9LGNoYW5nZTpmdW5jdGlvbihiLGMpe2lmKGYpcmV0dXJuIHZvaWQgZS51bnNoaWZ0KGFyZ3VtZW50cyk7dmFyIGQ9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxjKSxnPXt9O2QuZnJvbVBhZ2U9ZC5mcm9tUGFnZXx8dGhpcy5hY3RpdmVQYWdlLHRoaXMuX3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlKGIsZyxkKSYmKGI9Zy50b1BhZ2UsInN0cmluZyI9PT1hLnR5cGUoYik/KGY9ITAsdGhpcy5fbG9hZFVybChiLGcsZCkpOnRoaXMudHJhbnNpdGlvbihiLGcsZCkpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGIsZyxoKXt2YXIgaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2O2lmKGYpcmV0dXJuIHZvaWQgZS51bnNoaWZ0KFtiLGhdKTtpZih0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsaCkmJih2PXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgiYmVmb3JldHJhbnNpdGlvbiIsZyksIXYuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhdi5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpe2lmKGY9ITAsYlswXSE9PWEubW9iaWxlLmZpcnN0UGFnZVswXXx8aC5kYXRhVXJsfHwoaC5kYXRhVXJsPWEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCksaT1oLmZyb21QYWdlLGo9aC5kYXRhVXJsJiZhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoaC5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSxrPWosbD1hLm1vYmlsZS5wYXRoLmdldEZpbGVQYXRoKGopLG09YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKSxuPTA9PT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LG89MCxwPWMudGl0bGUscT0oImRpYWxvZyI9PT1oLnJvbGV8fCJkaWFsb2ciPT09Yi5qcW1EYXRhKCJyb2xlIikpJiZiLmpxbURhdGEoImRpYWxvZyIpIT09ITAsaSYmaVswXT09PWJbMF0mJiFoLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXJldHVybiBmPSExLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCgidHJhbnNpdGlvbiIsZyksdGhpcy5lbGVtZW50LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGcpLHZvaWQoaC5mcm9tSGFzaENoYW5nZSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5kaXJlY3Qoe3VybDpqfSkpO2IucGFnZSh7cm9sZTpoLnJvbGV9KSxoLmZyb21IYXNoQ2hhbmdlJiYobz0iYmFjayI9PT1oLmRpcmVjdGlvbj8tMToxKTt0cnl7Yy5hY3RpdmVFbGVtZW50JiYiYm9keSIhPT1jLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9hKGMuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKHcpe31yPSExLHEmJm0mJihtLnVybCYmbS51cmwuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT4tMSYmdGhpcy5hY3RpdmVQYWdlJiYhdGhpcy5hY3RpdmVQYWdlLmhhc0NsYXNzKCJ1aS1kaWFsb2ciKSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleD4wJiYoaC5jaGFuZ2VIYXNoPSExLHI9ITApLGo9bS51cmx8fCIiLGorPSFyJiZqLmluZGV4T2YoIiMiKT4tMT9hLm1vYmlsZS5kaWFsb2dIYXNoS2V5OiIjIithLm1vYmlsZS5kaWFsb2dIYXNoS2V5LDA9PT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4JiZqPT09YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5pbml0aWFsRHN0JiYoais9YS5tb2JpbGUuZGlhbG9nSGFzaEtleSkpLHM9bT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOnAscyYmcD09PWMudGl0bGUmJihwPXMpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIscCksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KG8mJiFuP20udHJhbnNpdGlvbjpkKXx8KHE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhbyYmciYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFhLm1vYmlsZS5wYXRoLmlzUGF0aChqKSYmai5pbmRleE9mKCIjIik8MCYmKGo9IiMiK2opLHQ9e3RyYW5zaXRpb246aC50cmFuc2l0aW9uLHRpdGxlOnAscGFnZVVybDprLHJvbGU6aC5yb2xlfSxoLmNoYW5nZUhhc2ghPT0hMSYmYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ/YS5tb2JpbGUubmF2aWdhdGUoaix0LCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChqLHQpKSxjLnRpdGxlPXAsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLHRoaXMuYWN0aXZlUGFnZT1iLGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+byx1PWEuRGVmZXJyZWQoKSx0aGlzLl9jc3NUcmFuc2l0aW9uKGIsaSx7dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24scmV2ZXJzZTpoLnJldmVyc2UsZGVmZXJyZWQ6dX0pLHUuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGMsZCxlLGYsaSl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCksaC5kdXBsaWNhdGVDYWNoZWRQYWdlJiZoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCksaXx8YS5tb2JpbGUuZm9jdXNQYWdlKGIpLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuZWxlbWVudC50cmlnZ2VyKCJwYWdlY2hhbmdlIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoInRyYW5zaXRpb24iLGcpfSx0aGlzKSl9fSxfZmluZEJhc2VXaXRoRGVmYXVsdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuYWN0aXZlUGFnZSYmYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwodGhpcy5hY3RpdmVQYWdlKTtyZXR1cm4gYnx8YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaH19KSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkPWEuRGVmZXJyZWQoKTt2YXIgZT1bXSxmPSExfShhKSxmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSl7Zm9yKDthJiYoInN0cmluZyIhPXR5cGVvZiBhLm5vZGVOYW1lfHwiYSIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX12YXIgZT1hLkRlZmVycmVkKCksZj1hLkRlZmVycmVkKCksZz1hLm1vYmlsZS5wYXRoLmRvY3VtZW50VXJsLGg9bnVsbDthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBkO3JldHVybiBjPWN8fHt9LGQ9Yy5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGMuZGVmZXJyZWQ9YS5EZWZlcnJlZCgpLGQucGFnZWNvbnRhaW5lcigibG9hZCIsYixjKSxjLmRlZmVycmVkLnByb21pc2UoKX0sYS5tb2JpbGUuYmFjaz1mdW5jdGlvbigpe3ZhciBjPWIubmF2aWdhdG9yO3RoaXMucGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZCYmYyYmYy5hcHAmJmMuYXBwLmJhY2tIaXN0b3J5P2MuYXBwLmJhY2tIaXN0b3J5KCk6YS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCJiYWNrIil9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO3JldHVybiBiLmxlbmd0aD92b2lkIGIuZm9jdXMoKTp2b2lkKGMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCkpfSxhLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbnx8ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGEubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYixjKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoImNoYW5nZSIsYixjKX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpjLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmMsZHVwbGljYXRlQ2FjaGVkUGFnZTpjLHBhZ2VDb250YWluZXI6YyxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmMsZnJvbVBhZ2U6YyxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixpLGo9ITA7cmV0dXJuIWEubW9iaWxlLmFqYXhFbmFibGVkfHxiLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fCFiLmpxbUhpamFja2FibGUoKS5sZW5ndGh8fGIuYXR0cigidGFyZ2V0Iik/ITE6KGQ9aCYmaC5hdHRyKCJmb3JtYWN0aW9uIil8fGIuYXR0cigiYWN0aW9uIiksaT0oYi5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYiksImdldCI9PT1pJiYoZD1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGQpLmhyZWZOb1NlYXJjaCksZD09PWEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gmJihkPWcuaHJlZk5vU2VhcmNoKSksZD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShkLGEubW9iaWxlLmdldENsb3Nlc3RCYXNlVXJsKGIpKSxhLm1vYmlsZS5wYXRoLmlzRXh0ZXJuYWwoZCkmJiFhLm1vYmlsZS5wYXRoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KGcsZCk/ITE6KGN8fChlPWIuc2VyaWFsaXplQXJyYXkoKSxoJiZoWzBdLmZvcm09PT1iWzBdJiYoZj1oLmF0dHIoIm5hbWUiKSxmJiYoYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5uYW1lPT09Zj8oZj0iIiwhMSk6dm9pZCAwfSksZiYmZS5wdXNoKHtuYW1lOmYsdmFsdWU6aC5hdHRyKCJ2YWx1ZSIpfSkpKSxqPXt1cmw6ZCxvcHRpb25zOnt0eXBlOmksZGF0YTphLnBhcmFtKGUpLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT1iLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksaikpfTthLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGM9ZShhKHRoaXMpKSxjJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShjLnVybCxjLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXt2YXIgYyxmLGc9Yi50YXJnZXQsaT0hMTtpZighKGIud2hpY2g+MSkmJmEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYoaD1hKGcpLGEuZGF0YShnLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFlKGEoZykuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47Zy5wYXJlbnROb2RlJiYoZz1nLnBhcmVudE5vZGUpfWVsc2V7aWYoZz1kKGcpLCFnfHwiIyI9PT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGcuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWEoZykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmcuY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP2cucGFyZW50Tm9kZSYmKGY9YS5kYXRhKGcucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6Zj1hLmRhdGEoZywiYnV0dG9uRWxlbWVudHMiKSxmP2c9Zi5vdXRlcjppPSEwLGM9YShnKSxpJiYoYz1jLmNsb3Nlc3QoIi51aS1idG4iKSksYy5sZW5ndGg+MCYmIWMuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikmJihhLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoITApLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rPWMsYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJjbGljayIsZnVuY3Rpb24oZSl7aWYoYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGYsaCxpLGosayxsLG0sbj1kKGUudGFyZ2V0KSxvPWEobikscD1mdW5jdGlvbigpe2Iuc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyghMCl9LDIwMCl9O2lmKGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rJiZhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua1swXT09PWUudGFyZ2V0LnBhcmVudE5vZGUmJnAoKSxuJiYhKGUud2hpY2g+MSkmJm8uanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYoby5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gYS5tb2JpbGUuYmFjaygpLCExO2lmKGY9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwobyksaD1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShvLmF0dHIoImhyZWYiKXx8IiMiLGYpLCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWEubW9iaWxlLnBhdGguaXNFbWJlZGRlZFBhZ2UoaCkpcmV0dXJuIHZvaWQgcCgpO2lmKC0xIT09aC5zZWFyY2goIiMiKSl7aWYoaD1oLnJlcGxhY2UoL1teI10qIy8sIiIpLCFoKXJldHVybiB2b2lkIGUucHJldmVudERlZmF1bHQoKTtoPWEubW9iaWxlLnBhdGguaXNQYXRoKGgpP2EubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGgsZik6YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2gsZy5ocmVmTm9IYXNoKX1pZihpPW8uaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8by5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxvLmlzKCJbdGFyZ2V0XSIpLGo9aXx8YS5tb2JpbGUucGF0aC5pc0V4dGVybmFsKGgpJiYhYS5tb2JpbGUucGF0aC5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdChnLGgpKXJldHVybiB2b2lkIHAoKTtrPW8uanFtRGF0YSgidHJhbnNpdGlvbiIpLGw9InJldmVyc2UiPT09by5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8by5qcW1EYXRhKCJiYWNrIiksbT1vLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGMsYS5tb2JpbGUuY2hhbmdlUGFnZShoLHt0cmFuc2l0aW9uOmsscmV2ZXJzZTpsLHJvbGU6bSxsaW5rOm99KSxlLnByZXZlbnREZWZhdWx0KCl9fX0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKCJocmVmIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksYS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGZ1bmN0aW9uKCl7Zj9mLmRvbmUoYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KTphLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKX0pLGEubW9iaWxlLndpbmRvdy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtlLnJlc29sdmUoKX0pLGEubW9iaWxlLndpbmRvdy5sb2FkKGZ1bmN0aW9uKCl7Zi5yZXNvbHZlKCksZj1udWxsfSksYS53aGVuKGUsYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5UcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3RvUHJlQ2xhc3M6IiB1aS1wYWdlLXByZS1pbiIsaW5pdDpmdW5jdGlvbihiLGMsZCxlKXthLmV4dGVuZCh0aGlzLHtuYW1lOmIscmV2ZXJzZTpjLCR0bzpkLCRmcm9tOmUsZGVmZXJyZWQ6bmV3IGEuRGVmZXJyZWR9KX0sY2xlYW5Gcm9tOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiBvdXQgaW4gcmV2ZXJzZSAiK3RoaXMubmFtZSkuaGVpZ2h0KCIiKX0sYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7fSxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7fSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbigpe30sZG9uZUluOmZ1bmN0aW9uKCl7dGhpcy5iZWZvcmVEb25lSW4oKSx0aGlzLiR0by5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIit0aGlzLm5hbWUpLmhlaWdodCgiIiksdGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09dGhpcy50b1Njcm9sbCYmdGhpcy5zY3JvbGxQYWdlKCksdGhpcy5zZXF1ZW50aWFsfHx0aGlzLiR0by5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLHRoaXMuZGVmZXJyZWQucmVzb2x2ZSh0aGlzLm5hbWUsdGhpcy5yZXZlcnNlLHRoaXMuJHRvLHRoaXMuJGZyb20sITApCn0sZG9uZU91dDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmJlZm9yZURvbmVPdXQoKSx0aGlzLnN0YXJ0SW4oYSxiLGMsZCl9LGhpZGVJbjpmdW5jdGlvbihhKXt0aGlzLiR0by5jc3MoInotaW5kZXgiLC0xMCksYS5jYWxsKHRoaXMpLHRoaXMuJHRvLmNzcygiei1pbmRleCIsIiIpfSxzY3JvbGxQYWdlOmZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsKGEubW9iaWxlLmhpZGVVcmxCYXJ8fHRoaXMudG9TY3JvbGwhPT1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkmJmIuc2Nyb2xsVG8oMCx0aGlzLnRvU2Nyb2xsKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LHN0YXJ0SW46ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5oaWRlSW4oZnVuY3Rpb24oKXt0aGlzLiR0by5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrdGhpcy50b1ByZUNsYXNzKSxlfHxhLm1vYmlsZS5mb2N1c1BhZ2UodGhpcy4kdG8pLHRoaXMuJHRvLmhlaWdodChiK3RoaXMudG9TY3JvbGwpLGR8fHRoaXMuc2Nyb2xsUGFnZSgpfSksdGhpcy4kdG8ucmVtb3ZlQ2xhc3ModGhpcy50b1ByZUNsYXNzKS5hZGRDbGFzcyh0aGlzLm5hbWUrIiBpbiAiK2MpLGQ/dGhpcy5kb25lSW4oKTp0aGlzLiR0by5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5kb25lSW4oKX0sdGhpcykpfSxzdGFydE91dDpmdW5jdGlvbihiLGMsZCl7dGhpcy5iZWZvcmVTdGFydE91dChiLGMsZCksdGhpcy4kZnJvbS5oZWlnaHQoYithLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKHRoaXMubmFtZSsiIG91dCIrYyl9LHRvZ2dsZVZpZXdwb3J0Q2xhc3M6ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK3RoaXMubmFtZSl9LHRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMucmV2ZXJzZT8iIHJldmVyc2UiOiIiLGQ9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksZT1hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT0hMSYmYS5tb2JpbGUud2luZG93LndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoO3JldHVybiB0aGlzLnRvU2Nyb2xsPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsYj0hYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zfHwhYS5zdXBwb3J0LmNzc0FuaW1hdGlvbnN8fGV8fCF0aGlzLm5hbWV8fCJub25lIj09PXRoaXMubmFtZXx8TWF0aC5tYXgoYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMudG9TY3JvbGwpPmEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSx0aGlzLnRvZ2dsZVZpZXdwb3J0Q2xhc3MoKSx0aGlzLiRmcm9tJiYhYj90aGlzLnN0YXJ0T3V0KGQsYyxiKTp0aGlzLmRvbmVPdXQoZCxjLGIsITApLHRoaXMuZGVmZXJyZWQucHJvbWlzZSgpfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLlNlcmlhbFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmV4dGVuZChhLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uLnByb3RvdHlwZSxhLm1vYmlsZS5UcmFuc2l0aW9uLnByb3RvdHlwZSx7c2VxdWVudGlhbDohMCxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7dGhpcy4kZnJvbSYmdGhpcy5jbGVhbkZyb20oKX0sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oYixjLGQpe3RoaXMuJGZyb20uYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZG9uZU91dChiLGMsZCl9LHRoaXMpKX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmV4dGVuZChhLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITEsYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbSYmdGhpcy5jbGVhbkZyb20oKX0sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZG9uZU91dChhLGIsYyl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7cmV0dXJuIDMqYS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCl9O2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17c2VxdWVudGlhbDphLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uLHNpbXVsdGFuZW91czphLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbn0sYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zZXF1ZW50aWFsLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGImJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0mJihiPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0pLGJ9LGEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8Yn0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbGlwPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MucG9wPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91cyxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWZhZGU9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGV1cD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS5kZWdyYWRlSW5wdXRzPXtjb2xvcjohMSxkYXRlOiExLGRhdGV0aW1lOiExLCJkYXRldGltZS1sb2NhbCI6ITEsZW1haWw6ITEsbW9udGg6ITEsbnVtYmVyOiExLHJhbmdlOiJudW1iZXIiLHNlYXJjaDoidGV4dCIsdGVsOiExLHRpbWU6ITEsdXJsOiExLHdlZWs6ITF9LGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZGVncmFkZUlucHV0cz1hLm1vYmlsZS5kZWdyYWRlSW5wdXRzLGEubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW49ZnVuY3Rpb24oYil7Yj1hKGIpLGIuZmluZCgiaW5wdXQiKS5ub3QoYS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmPWEodGhpcyksZz10aGlzLmdldEF0dHJpYnV0ZSgidHlwZSIpLGg9YS5tb2JpbGUuZGVncmFkZUlucHV0c1tnXXx8InRleHQiO2EubW9iaWxlLmRlZ3JhZGVJbnB1dHNbZ10mJihiPWEoIjxkaXY+IikuaHRtbChmLmNsb25lKCkpLmh0bWwoKSxjPWIuaW5kZXhPZigiIHR5cGU9Iik+LTEsZD1jPy9ccyt0eXBlPVsiJ10/XHcrWyciXT8vOi9cLz8+LyxlPScgdHlwZT0iJytoKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytnKyciJysoYz8iIjoiPiIpLGYucmVwbGFjZVdpdGgoYi5yZXBsYWNlKGQsZSkpKX0pfX0oYSksZnVuY3Rpb24oYSxiLGMpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUucGFnZSx7b3B0aW9uczp7Y2xvc2VCdG46ImxlZnQiLGNsb3NlQnRuVGV4dDoiQ2xvc2UiLG92ZXJsYXlUaGVtZToiYSIsY29ybmVyczohMCxkaWFsb2c6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5kaWFsb2cmJihhLmV4dGVuZCh0aGlzLHtfaW5uZXI6dGhpcy5lbGVtZW50LmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX3NldENsb3NlQnRuKHRoaXMub3B0aW9ucy5jbG9zZUJ0bikpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kaWFsb2ciKS53cmFwSW5uZXIoYSgiPGRpdi8+Iix7cm9sZToiZGlhbG9nIiwiY2xhc3MiOiJ1aS1kaWFsb2ctY29udGFpbiB1aS1vdmVybGF5LXNoYWRvdyIrKHRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpfSkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlLGY9dGhpcy5vcHRpb25zO2IuY29ybmVycyE9PWMmJnRoaXMuX2lubmVyLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIiwhIWIuY29ybmVycyksYi5vdmVybGF5VGhlbWUhPT1jJiZhLm1vYmlsZS5hY3RpdmVQYWdlWzBdPT09dGhpcy5lbGVtZW50WzBdJiYoZi5vdmVybGF5VGhlbWU9Yi5vdmVybGF5VGhlbWUsdGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKSksYi5jbG9zZUJ0blRleHQhPT1jJiYoZD1mLmNsb3NlQnRuLGU9Yi5jbG9zZUJ0blRleHQpLGIuY2xvc2VCdG4hPT1jJiYoZD1iLmNsb3NlQnRuKSxkJiZ0aGlzLl9zZXRDbG9zZUJ0bihkLGUpLHRoaXMuX3N1cGVyKGIpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLm9wdGlvbnMuZGlhbG9nPyh0aGlzLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKSx0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQodGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSkpOnRoaXMuX3N1cGVyKCl9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj0ibGVmdCI9PT1iPyJsZWZ0IjoicmlnaHQiPT09Yj8icmlnaHQiOiJub25lIiwibm9uZSI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcygidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi0iK2IpLGMmJmUudGV4dChjKSk6KGQ9dGhpcy5faW5uZXIuZmluZCgiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maXJzdCgpLGU9YSgiPGE+PC9hPiIse2hyZWY6IiMiLCJjbGFzcyI6InVpLWJ0biB1aS1jb3JuZXItYWxsIHVpLWljb24tZGVsZXRlIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1idG4tIitifSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiLCJiYWNrIikudGV4dChjfHx0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0fHwiIikucHJlcGVuZFRvKGQpKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1lfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixjKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIse29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITB9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSExfSxfaGFuZGxlVkNsaWNrU3VibWl0OmZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiLnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PWIudHlwZT8iYSI6ImZvcm0iKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoYz17fSxjWyJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iXT0oYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKXx8e30pLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uLGNbImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIl09InJldmVyc2UiLGQuYXR0cihjKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7Yi5hZGRDbGFzcygidWktZGlhbG9nIikud3JhcElubmVyKGEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciKyhjLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIil9KSksYS5leHRlbmQodGhpcyx7X2lzQ2xvc2VhYmxlOiExLF9pbm5lcjpiLmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLl9vbihiLHt2Y2xpY2s6Il9oYW5kbGVWQ2xpY2tTdWJtaXQiLHN1Ym1pdDoiX2hhbmRsZVZDbGlja1N1Ym1pdCIscGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KSx0aGlzLl9zZXRDbG9zZUJ0bihjLmNsb3NlQnRuKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsISFiLmNvcm5lcnMpLGIub3ZlcmxheVRoZW1lIT09YyYmYS5tb2JpbGUuYWN0aXZlUGFnZVswXT09PXRoaXMuZWxlbWVudFswXSYmKGYub3ZlcmxheVRoZW1lPWIub3ZlcmxheVRoZW1lLHRoaXMuX2hhbmRsZVBhZ2VCZWZvcmVTaG93KCkpLGIuY2xvc2VCdG5UZXh0IT09YyYmKGQ9Zi5jbG9zZUJ0bixlPWIuY2xvc2VCdG5UZXh0KSxiLmNsb3NlQnRuIT09YyYmKGQ9Yi5jbG9zZUJ0biksZCYmdGhpcy5fc2V0Q2xvc2VCdG4oZCxlKSx0aGlzLl9zdXBlcihiKX0sX3NldENsb3NlQnRuOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT10aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbjtiPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCI9PT1iPyJyaWdodCI6Im5vbmUiLCJub25lIj09PWI/ZSYmKGUucmVtb3ZlKCksZT1udWxsKTplPyhlLnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLSIrYiksYyYmZS50ZXh0KGMpKTooZD10aGlzLl9pbm5lci5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCksZT1hKCI8YT48L2E+Iix7cm9sZToiYnV0dG9uIixocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLSIrYn0pLnRleHQoY3x8dGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dHx8IiIpLnByZXBlbmRUbyhkKSx0aGlzLl9vbihlLHtjbGljazoiY2xvc2UifSkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTt0aGlzLl9pc0Nsb3NlYWJsZSYmKHRoaXMuX2lzQ2xvc2VhYmxlPSExLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZiLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOmEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcigiYmFjayIpKX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPS8oW0EtWl0pL2csZD1mdW5jdGlvbihhKXtyZXR1cm4idWktYnRuLWljb24tIisobnVsbD09PWE/ImxlZnQiOmEpfTthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIix7b3B0aW9uczp7ZW5oYW5jZWQ6ITEsZXhwYW5kQ3VlVGV4dDpudWxsLGNvbGxhcHNlQ3VlVGV4dDpudWxsLGNvbGxhcHNlZDohMCxoZWFkaW5nOiJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmQiLGNvbGxhcHNlZEljb246bnVsbCxleHBhbmRlZEljb246bnVsbCxpY29ucG9zOm51bGwsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpbnNldDpudWxsLGNvcm5lcnM6bnVsbCxtaW5pOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz17YWNjb3JkaW9uOmIuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JyksOmpxbURhdGEocm9sZT0nY29sbGFwc2libGVzZXQnKSIrKGEubW9iaWxlLmNvbGxhcHNpYmxlc2V0PyIsIDptb2JpbGUtY29sbGFwc2libGVzZXQiOiIiKSkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpfTt0aGlzLl91aT1jLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyhjLmhlYWRpbmc9YSgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmciLHRoaXMuZWxlbWVudFswXSksYy5jb250ZW50PWMuaGVhZGluZy5uZXh0KCksYy5hbmNob3I9YSgiYSIsYy5oZWFkaW5nWzBdKS5maXJzdCgpLGMuc3RhdHVzPWMuYW5jaG9yLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKSk6dGhpcy5fZW5oYW5jZShiLGMpLHRoaXMuX29uKGMuaGVhZGluZyx7dGFwOmZ1bmN0aW9uKCl7Yy5oZWFkaW5nLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoIWMuaGVhZGluZy5oYXNDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKSksYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9fSl9LF9nZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBkLGU9dGhpcy5fdWkuYWNjb3JkaW9uLGY9dGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0O2I9YS5leHRlbmQoe30sYiksZS5sZW5ndGgmJiFmJiYodGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0PWY9ZS5kYXRhKCJtb2JpbGUtY29sbGFwc2libGVzZXQiKSk7Zm9yKGQgaW4gYiliW2RdPW51bGwhPWJbZF0/YltkXTpmP2Yub3B0aW9uc1tkXTplLmxlbmd0aD9hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZVswXSxkLnJlcGxhY2UoYywiLSQxIikudG9Mb3dlckNhc2UoKSk6bnVsbCxudWxsPT1iW2RdJiYoYltkXT1hLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0c1tkXSk7cmV0dXJuIGJ9LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiPyJub25lIj09PWI/IiI6YStiOiIifSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBlLGY9dGhpcy5fcmVuZGVyZWRPcHRpb25zLGc9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixmLmNvbnRlbnRUaGVtZSk7cmV0dXJuIGIuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlICIrKGYuaW5zZXQ/InVpLWNvbGxhcHNpYmxlLWluc2V0ICI6IiIpKyhmLmluc2V0JiZmLmNvcm5lcnM/InVpLWNvcm5lci1hbGwgIjoiIikrKGc/InVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50ICI6IiIpKSxjLm9yaWdpbmFsSGVhZGluZz1iLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5oZWFkaW5nKS5maXJzdCgpLGMuY29udGVudD1iLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCAiK2crIic+PC9kaXY+IikuY2hpbGRyZW4oIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksYy5oZWFkaW5nPWMub3JpZ2luYWxIZWFkaW5nLGMuaGVhZGluZy5pcygibGVnZW5kIikmJihjLmhlYWRpbmc9YSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK2MuaGVhZGluZy5odG1sKCkrIjwvZGl2PiIpLGMucGxhY2Vob2xkZXI9YSgiPGRpdj48IS0tIHBsYWNlaG9sZGVyIGZvciBsZWdlbmQgLS0+PC9kaXY+IikuaW5zZXJ0QmVmb3JlKGMub3JpZ2luYWxIZWFkaW5nKSxjLm9yaWdpbmFsSGVhZGluZy5yZW1vdmUoKSksZT1mLmNvbGxhcHNlZD9mLmNvbGxhcHNlZEljb24/InVpLWljb24tIitmLmNvbGxhcHNlZEljb246IiI6Zi5leHBhbmRlZEljb24/InVpLWljb24tIitmLmV4cGFuZGVkSWNvbjoiIixjLnN0YXR1cz1hKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKSxjLmFuY2hvcj1jLmhlYWRpbmcuZGV0YWNoKCkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoYy5zdGF0dXMpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWJ0biAiKyhlP2UrIiAiOiIiKSsoZT9kKGYuaWNvbnBvcykrIiAiOiIiKSt0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYnRuLSIsZi50aGVtZSkrIiAiKyhmLm1pbmk/InVpLW1pbmkgIjoiIikpLGMuaGVhZGluZy5pbnNlcnRCZWZvcmUoYy5jb250ZW50KSx0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSh0aGlzLm9wdGlvbnMuY29sbGFwc2VkKSxjfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fYXBwbHlPcHRpb25zKHRoaXMub3B0aW9ucyksdGhpcy5fcmVuZGVyZWRPcHRpb25zPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX2FwcGx5T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxlLGYsZyxoLGk9dGhpcy5lbGVtZW50LGo9dGhpcy5fcmVuZGVyZWRPcHRpb25zLGs9dGhpcy5fdWksbD1rLmFuY2hvcixtPWsuc3RhdHVzLG49dGhpcy5fZ2V0T3B0aW9ucyhhKTthLmNvbGxhcHNlZCE9PWImJnRoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKGEuY29sbGFwc2VkKSxjPWkuaGFzQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIpLGM/bi5leHBhbmRDdWVUZXh0IT09YiYmbS50ZXh0KG4uZXhwYW5kQ3VlVGV4dCk6bi5jb2xsYXBzZUN1ZVRleHQhPT1iJiZtLnRleHQobi5jb2xsYXBzZUN1ZVRleHQpLGg9bi5jb2xsYXBzZWRJY29uIT09Yj9uLmNvbGxhcHNlZEljb24hPT0hMTpqLmNvbGxhcHNlZEljb24hPT0hMSwobi5pY29ucG9zIT09Ynx8bi5jb2xsYXBzZWRJY29uIT09Ynx8bi5leHBhbmRlZEljb24hPT1iKSYmKGwucmVtb3ZlQ2xhc3MoW2Qoai5pY29ucG9zKV0uY29uY2F0KGouZXhwYW5kZWRJY29uP1sidWktaWNvbi0iK2ouZXhwYW5kZWRJY29uXTpbXSkuY29uY2F0KGouY29sbGFwc2VkSWNvbj9bInVpLWljb24tIitqLmNvbGxhcHNlZEljb25dOltdKS5qb2luKCIgIikpLGgmJmwuYWRkQ2xhc3MoW2Qobi5pY29ucG9zIT09Yj9uLmljb25wb3M6ai5pY29ucG9zKV0uY29uY2F0KGM/WyJ1aS1pY29uLSIrKG4uY29sbGFwc2VkSWNvbiE9PWI/bi5jb2xsYXBzZWRJY29uOmouY29sbGFwc2VkSWNvbildOlsidWktaWNvbi0iKyhuLmV4cGFuZGVkSWNvbiE9PWI/bi5leHBhbmRlZEljb246ai5leHBhbmRlZEljb24pXSkuam9pbigiICIpKSksbi50aGVtZSE9PWImJihmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1idG4tIixqLnRoZW1lKSxlPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1idG4tIixuLnRoZW1lKSxsLnJlbW92ZUNsYXNzKGYpLmFkZENsYXNzKGUpKSxuLmNvbnRlbnRUaGVtZSE9PWImJihmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsai5jb250ZW50VGhlbWUpLGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixuLmNvbnRlbnRUaGVtZSksay5jb250ZW50LnJlbW92ZUNsYXNzKGYpLmFkZENsYXNzKGUpKSxuLmluc2V0IT09YiYmKGkudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWluc2V0IixuLmluc2V0KSxnPSEoIW4uaW5zZXR8fCFuLmNvcm5lcnMmJiFqLmNvcm5lcnMpKSxuLmNvcm5lcnMhPT1iJiYoZz0hKCFuLmNvcm5lcnN8fCFuLmluc2V0JiYhai5pbnNldCkpLGchPT1iJiZpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixnKSxuLm1pbmkhPT1iJiZsLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixuLm1pbmkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9hcHBseU9wdGlvbnMoYSksdGhpcy5fc3VwZXIoYSksdGhpcy5fcmVuZGVyZWRPcHRpb25zPXRoaXMuX2dldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX2hhbmRsZUV4cGFuZENvbGxhcHNlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxkPXRoaXMuX3VpO2Quc3RhdHVzLnRleHQoYj9jLmV4cGFuZEN1ZVRleHQ6Yy5jb2xsYXBzZUN1ZVRleHQpLGQuaGVhZGluZy50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGIpLmZpbmQoImEiKS5maXJzdCgpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrYy5leHBhbmRlZEljb24sIWIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrYy5jb2xsYXBzZWRJY29uLGJ8fGMuZXhwYW5kZWRJY29uPT09Yy5jb2xsYXBzZWRJY29uKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGIpLGQuY29udGVudC50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiLGIpLmF0dHIoImFyaWEtaGlkZGVuIixiKS50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKSx0aGlzLm9wdGlvbnMuY29sbGFwc2VkPWIsdGhpcy5fdHJpZ2dlcihiPyJjb2xsYXBzZSI6ImV4cGFuZCIpfSxleHBhbmQ6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSghMSl9LGNvbGxhcHNlOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoITApfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLGI9dGhpcy5vcHRpb25zO2IuZW5oYW5jZWR8fChhLnBsYWNlaG9sZGVyPyhhLm9yaWdpbmFsSGVhZGluZy5pbnNlcnRCZWZvcmUoYS5wbGFjZWhvbGRlciksYS5wbGFjZWhvbGRlci5yZW1vdmUoKSxhLmhlYWRpbmcucmVtb3ZlKCkpOihhLnN0YXR1cy5yZW1vdmUoKSxhLmhlYWRpbmcucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgdWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKS5jaGlsZHJlbigpLmNvbnRlbnRzKCkudW53cmFwKCkpLGEuYW5jaG9yLmNvbnRlbnRzKCkudW53cmFwKCksYS5jb250ZW50LmNvbnRlbnRzKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZSB1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQgdWktY29sbGFwc2libGUtdGhlbWVkLWNvbnRlbnQgdWktY29sbGFwc2libGUtaW5zZXQgdWktY29ybmVyLWFsbCIpKX19KSxhLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0cz17ZXhwYW5kQ3VlVGV4dDoiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50cyIsY29sbGFwc2VDdWVUZXh0OiIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHMiLGNvbGxhcHNlZEljb246InBsdXMiLGNvbnRlbnRUaGVtZToiaW5oZXJpdCIsZXhwYW5kZWRJY29uOiJtaW51cyIsaWNvbnBvczoibGVmdCIsaW5zZXQ6ITAsY29ybmVyczohMCx0aGVtZToiaW5oZXJpdCIsbWluaTohMX19KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzPXtfZ2V0VmlzaWJsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gYj9jPWEubm90KCIudWktc2NyZWVuLWhpZGRlbiIpOihjPWEuZmlsdGVyKCI6dmlzaWJsZSIpLDA9PT1jLmxlbmd0aCYmKGM9YS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIikpKSxjfSxfYWRkRmlyc3RMYXN0Q2xhc3NlczpmdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVDbGFzcygidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZCIpLGIuZXEoMCkuYWRkQ2xhc3MoInVpLWZpcnN0LWNoaWxkIikuZW5kKCkubGFzdCgpLmFkZENsYXNzKCJ1aS1sYXN0LWNoaWxkIiksY3x8dGhpcy5lbGVtZW50LnRyaWdnZXIoInVwZGF0ZWxheW91dCIpfSxfcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlczpmdW5jdGlvbihhKXthLnJlbW92ZUNsYXNzKCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkIil9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz0iOm1vYmlsZS1jb2xsYXBzaWJsZSwgIithLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3I7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZXNldCIsYS5leHRlbmQoe2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JyksOmpxbURhdGEocm9sZT0nY29sbGFwc2libGVzZXQnKSIsb3B0aW9uczphLmV4dGVuZCh7ZW5oYW5jZWQ6ITF9LGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzKSxfaGFuZGxlQ29sbGFwc2libGVFeHBhbmQ6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIik7Yy5wYXJlbnQoKS5pcygiOm1vYmlsZS1jb2xsYXBzaWJsZXNldCwgOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKSYmYy5zaWJsaW5ncygiLnVpLWNvbGxhcHNpYmxlOm5vdCgudWktY29sbGFwc2libGUtY29sbGFwc2VkKSIpLmNvbGxhcHNpYmxlKCJjb2xsYXBzZSIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19jbGFzc2VzOiIifSksYy5lbmhhbmNlZHx8KGIuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLGMudGhlbWUpKyIgIisoYy5jb3JuZXJzJiZjLmluc2V0PyJ1aS1jb3JuZXItYWxsICI6IiIpKSx0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3IpLmNvbGxhcHNpYmxlKCkpLHRoaXMuX29uKGIse2NvbGxhcHNpYmxlZXhwYW5kOiJfaGFuZGxlQ29sbGFwc2libGVFeHBhbmQifSl9LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiPyJub25lIj09PWI/IiI6YStiOiIifSxfaW5pdDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goITApLHRoaXMuZWxlbWVudC5jaGlsZHJlbihjKS5maWx0ZXIoIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKSIpLmNvbGxhcHNpYmxlKCJleHBhbmQiKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZCxlPXRoaXMuZWxlbWVudCxmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLGEudGhlbWUpO3JldHVybiBmJiZlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ncm91cC10aGVtZS0iLHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKGYpLGEuaW5zZXQhPT1iJiYoZD0hKCFhLmluc2V0fHwhYS5jb3JuZXJzJiYhdGhpcy5vcHRpb25zLmNvcm5lcnMpKSxhLmNvcm5lcnMhPT1iJiYoZD0hKCFhLmNvcm5lcnN8fCFhLmluc2V0JiYhdGhpcy5vcHRpb25zLmluc2V0KSksZCE9PWImJmUudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGQpLGM9dGhpcy5fc3VwZXIoYSksdGhpcy5lbGVtZW50LmNoaWxkcmVuKCI6bW9iaWxlLWNvbGxhcHNpYmxlIikuY29sbGFwc2libGUoInJlZnJlc2giKSxjfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDt0aGlzLl9yZW1vdmVGaXJzdExhc3RDbGFzc2VzKGEuY2hpbGRyZW4oYykpLGEucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCB1aS1jb3JuZXItYWxsICIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWdyb3VwLXRoZW1lLSIsdGhpcy5vcHRpb25zLnRoZW1lKSkuY2hpbGRyZW4oIjptb2JpbGUtY29sbGFwc2libGUiKS5jb2xsYXBzaWJsZSgiZGVzdHJveSIpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgZD10aGlzLmVsZW1lbnQuY2hpbGRyZW4oYyk7dGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yKS5ub3QoIi51aS1jb2xsYXBzaWJsZSIpLmNvbGxhcHNpYmxlKCksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhkLHRoaXMuX2dldFZpc2libGVzKGQsYiksYil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCExKX19LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSl9KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZmllbGRjb250YWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4iKX19KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGMsZCxlPWEodGhpcyksZj1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxnPWUuY2hpbGRyZW4oKSxoPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxpPWYuZ3JpZDtpZighaSlpZihnLmxlbmd0aDw9NSlmb3IoZCBpbiBoKWhbZF09PT1nLmxlbmd0aCYmKGk9ZCk7ZWxzZSBpPSJhIixlLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2M9aFtpXSxlLmFkZENsYXNzKCJ1aS1ncmlkLSIraSksZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxjPjEmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksYz4yJiZnLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGM+MyYmZy5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxjPjQmJmcuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxlPWQuZmluZCgiYSIpLGY9ZS5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmI7ZC5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJpY29uIiksYz1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywidGhlbWUiKSxkPSJ1aS1idG4iO2MmJihkKz0iIHVpLWJ0bi0iK2MpLGImJihkKz0iIHVpLWljb24tIitiKyIgdWktYnRuLWljb24tIitmKSxhKHRoaXMpLmFkZENsYXNzKGQpfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGIuaGFzQ2xhc3MoInVpLWRpc2FibGVkIil8fGIuaGFzQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfHwoZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYShjKS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpfSksZC5jbG9zZXN0KCIudWktcGFnZSIpLmJpbmQoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbigpe2UuZmlsdGVyKCIudWktc3RhdGUtcGVyc2lzdCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hLm1vYmlsZS5nZXRBdHRyaWJ1dGU7YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGljb246ImNhcmF0LXIiLHNwbGl0SWNvbjoiY2FyYXQtciIsc3BsaXRUaGVtZTpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGluc2V0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSIiO2IrPWEub3B0aW9ucy5pbnNldD8iIHVpLWxpc3R2aWV3LWluc2V0IjoiIixhLm9wdGlvbnMuaW5zZXQmJihiKz1hLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLGIrPWEub3B0aW9ucy5zaGFkb3c/IiB1aS1zaGFkb3ciOiIiKSxhLmVsZW1lbnQuYWRkQ2xhc3MoIiB1aS1saXN0dmlldyIrYiksYS5yZWZyZXNoKCEwKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e307Zm9yKGVbY109ZVtkXT0hMDthOyl7aWYoZVthLm5vZGVOYW1lXSlyZXR1cm4gYTthPWFbYl19cmV0dXJuIG51bGx9LF9hZGRUaHVtYkNsYXNzZXM6ZnVuY3Rpb24oYil7dmFyIGMsZCxlPWIubGVuZ3RoO2ZvcihjPTA7ZT5jO2MrKylkPWEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShiW2NdLmZpcnN0Q2hpbGQsIm5leHRTaWJsaW5nIiwiaW1nIiwiSU1HIikpLGQubGVuZ3RoJiZhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZFswXS5wYXJlbnROb2RlLCJwYXJlbnROb2RlIiwibGkiLCJMSSIpKS5hZGRDbGFzcyhkLmhhc0NsYXNzKCJ1aS1saS1pY29uIik/InVpLWxpLWhhcy1pY29uIjoidWktbGktaGFzLXRodW1iIil9LF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9W10sZj17fTtmb3IoZltjXT1mW2RdPSEwLGI9Yi5maXJzdENoaWxkO2I7KWZbYi5ub2RlTmFtZV0mJmUucHVzaChiKSxiPWIubmV4dFNpYmxpbmc7cmV0dXJuIGEoZSl9LF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6YS5ub29wLF9hZnRlckxpc3R2aWV3UmVmcmVzaDphLm5vb3AscmVmcmVzaDpmdW5jdGlvbihjKXt2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHg9dGhpcy5vcHRpb25zLHk9dGhpcy5lbGVtZW50LHo9ISFhLm5vZGVOYW1lKHlbMF0sIm9sIiksQT15LmF0dHIoInN0YXJ0IiksQj17fSxDPXkuZmluZCgiLnVpLWxpLWNvdW50IiksRD1iKHlbMF0sImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUsRT1EPyJ1aS1ib2R5LSIrRDoidWktYm9keS1pbmhlcml0Ijtmb3IoeC50aGVtZSYmeS5hZGRDbGFzcygidWktZ3JvdXAtdGhlbWUtIit4LnRoZW1lKSx6JiYoQXx8MD09PUEpJiYobj1wYXJzZUludChBLDEwKS0xLHkuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK24pKSx0aGlzLl9iZWZvcmVMaXN0dmlld1JlZnJlc2goKSx3PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHlbMF0sImxpIiwiTEkiKSxlPTAsZj13Lmxlbmd0aDtmPmU7ZSsrKWc9dy5lcShlKSxoPSIiLChjfHxnWzBdLmNsYXNzTmFtZS5zZWFyY2goL1xidWktbGktc3RhdGljXGJ8XGJ1aS1saS1kaXZpZGVyXGIvKTwwKSYmKGw9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZ1swXSwiYSIsIkEiKSxtPSJsaXN0LWRpdmlkZXIiPT09YihnWzBdLCJyb2xlIikscD1nLmF0dHIoInZhbHVlIiksaT1iKGdbMF0sInRoZW1lIiksbC5sZW5ndGgmJmxbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXGJ1aS1idG5cYi8pPDAmJiFtPyhqPWIoZ1swXSwiaWNvbiIpLGs9aj09PSExPyExOmp8fHguaWNvbixsLnJlbW92ZUNsYXNzKCJ1aS1saW5rIiksZD0idWktYnRuIixpJiYoZCs9IiB1aS1idG4tIitpKSxsLmxlbmd0aD4xPyhoPSJ1aS1saS1oYXMtYWx0IixxPWwubGFzdCgpLHI9YihxWzBdLCJ0aGVtZSIpfHx4LnNwbGl0VGhlbWV8fGIoZ1swXSwidGhlbWUiLCEwKSxzPXI/IiB1aS1idG4tIityOiIiLHQ9YihxWzBdLCJpY29uIil8fGIoZ1swXSwiaWNvbiIpfHx4LnNwbGl0SWNvbix1PSJ1aS1idG4gdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tIit0K3MscS5hdHRyKCJ0aXRsZSIsYS50cmltKHEuZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKHUpLmVtcHR5KCkpOmsmJihkKz0iIHVpLWJ0bi1pY29uLXJpZ2h0IHVpLWljb24tIitrKSxsLmZpcnN0KCkuYWRkQ2xhc3MoZCkpOm0/KHY9YihnWzBdLCJ0aGVtZSIpfHx4LmRpdmlkZXJUaGVtZXx8eC50aGVtZSxoPSJ1aS1saS1kaXZpZGVyIHVpLWJhci0iKyh2P3Y6ImluaGVyaXQiKSxnLmF0dHIoInJvbGUiLCJoZWFkaW5nIikpOmwubGVuZ3RoPD0wJiYoaD0idWktbGktc3RhdGljIHVpLWJvZHktIisoaT9pOiJpbmhlcml0IikpLHomJnAmJihvPXBhcnNlSW50KHAsMTApLTEsZy5jc3MoImNvdW50ZXItcmVzZXQiLCJsaXN0bnVtYmVyaW5nICIrbykpKSxCW2hdfHwoQltoXT1bXSksQltoXS5wdXNoKGdbMF0pO2ZvcihoIGluIEIpYShCW2hdKS5hZGRDbGFzcyhoKTtDLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWxpLWhhcy1jb3VudCIpfSksRSYmQy5hZGRDbGFzcyhFKSx0aGlzLl9hZGRUaHVtYkNsYXNzZXModyksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKHcuZmluZCgiLnVpLWJ0biIpKSx0aGlzLl9hZnRlckxpc3R2aWV3UmVmcmVzaCgpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModyx0aGlzLl9nZXRWaXNpYmxlcyh3LGMpLGMpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hLnRyaW0oYi50ZXh0KCkpfHxudWxsO3JldHVybiBjP2M9Yy5zbGljZSgwLDEpLnRvVXBwZXJDYXNlKCk6bnVsbH1hLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLm1vYmlsZS5saXN0dmlldyx7b3B0aW9uczp7YXV0b2RpdmlkZXJzOiExLGF1dG9kaXZpZGVyc1NlbGVjdG9yOmJ9LF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzJiYodGhpcy5fcmVwbGFjZURpdmlkZXJzKCksdGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpKX0sX3JlcGxhY2VEaXZpZGVyczpmdW5jdGlvbigpe3ZhciBiLGQsZSxmLGcsaD1udWxsLGk9dGhpcy5lbGVtZW50O2ZvcihpLmNoaWxkcmVuKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCksZD1pLmNoaWxkcmVuKCJsaSIpLGI9MDtiPGQubGVuZ3RoO2IrKyllPWRbYl0sZj10aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3IoYShlKSksZiYmaCE9PWYmJihnPWMuY3JlYXRlRWxlbWVudCgibGkiKSxnLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoZikpLGcuc2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLCJsaXN0LWRpdmlkZXIiKSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcsZSkpLGg9Zn19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9LyhefFxzKXVpLWxpLWRpdmlkZXIoJHxccykvLGM9LyhefFxzKXVpLXNjcmVlbi1oaWRkZW4oJHxccykvO2Eud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOntoaWRlRGl2aWRlcnM6ITF9LF9hZnRlckxpc3R2aWV3UmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGQsZSxmPSEwO2lmKHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLm9wdGlvbnMuaGlkZURpdmlkZXJzKWZvcihhPXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHRoaXMuZWxlbWVudFswXSwibGkiLCJMSSIpLGQ9YS5sZW5ndGgtMTtkPi0xO2QtLSllPWFbZF0sZS5jbGFzc05hbWUubWF0Y2goYik/KGYmJihlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZSsiIHVpLXNjcmVlbi1oaWRkZW4iKSxmPSEwKTplLmNsYXNzTmFtZS5tYXRjaChjKXx8KGY9ITEpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5ub2pzPWZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsYikuYWRkQ2xhc3MoInVpLW5vanMiKX19KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhLGIpe3ZhciBjPWEubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3I7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJpbnB1dDpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnICkgKVt0eXBlPSdjaGVja2JveCddLGlucHV0W3R5cGU9J3JhZGlvJ106bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApKSIsb3B0aW9uczp7dGhlbWU6ImluaGVyaXQiLG1pbmk6ITEsd3JhcHBlckNsYXNzOm51bGwsZW5oYW5jZWQ6ITEsaWNvbnBvczoibGVmdCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsZD10aGlzLm9wdGlvbnMsZT1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxmPWIuY2xvc2VzdCgibGFiZWwiKSxnPWYubGVuZ3RoP2Y6Yi5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2MoYlswXS5pZCkrIiddIikuZmlyc3QoKSxoPWJbMF0udHlwZSxpPSJ1aS0iK2grIi1vbiIsaj0idWktIitoKyItb2ZmIjsoImNoZWNrYm94Ij09PWh8fCJyYWRpbyI9PT1oKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksZC5pY29ucG9zPWUoYiwiaWNvbnBvcyIpfHxnLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIpfHxkLmljb25wb3MsZC5taW5pPWUoYiwibWluaSIpfHxkLm1pbmksYS5leHRlbmQodGhpcyx7aW5wdXQ6YixsYWJlbDpnLHBhcmVudExhYmVsOmYsaW5wdXR0eXBlOmgsY2hlY2tlZENsYXNzOmksdW5jaGVja2VkQ2xhc3M6an0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKGcse3Ztb3VzZW92ZXI6Il9oYW5kbGVMYWJlbFZNb3VzZU92ZXIiLHZjbGljazoiX2hhbmRsZUxhYmVsVkNsaWNrIn0pLHRoaXMuX29uKGIse3Ztb3VzZWRvd246Il9jYWNoZVZhbHMiLHZjbGljazoiX2hhbmRsZUlucHV0VkNsaWNrIixmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMiLGJsdXI6Il9oYW5kbGVJbnB1dEJsdXIifSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoInVpLWJ0biB1aS1jb3JuZXItYWxsIiksdGhpcy5wYXJlbnRMYWJlbC5sZW5ndGg+MD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0nIisodGhpcy5vcHRpb25zLndyYXBwZXJDbGFzcz90aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzOiIiKSsiIHVpLSIrdGhpcy5pbnB1dHR5cGUrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD8iIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrIicgPjwvZGl2PiIpfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dEJsdXI6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRWQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIsdGhpcy5lbGVtZW50LmlzKCI6Y2hlY2tlZCIpKSx0aGlzLl9nZXRJbnB1dFNldCgpLm5vdCh0aGlzLmVsZW1lbnQpLnByb3AoImNoZWNrZWQiLCExKSx0aGlzLl91cGRhdGVBbGwoKX0sX2hhbmRsZUxhYmVsVk1vdXNlT3ZlcjpmdW5jdGlvbihhKXt0aGlzLmxhYmVsLnBhcmVudCgpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxfaGFuZGxlTGFiZWxWQ2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50O3JldHVybiBiLmlzKCI6ZGlzYWJsZWQiKT92b2lkIGEucHJldmVudERlZmF1bHQoKToodGhpcy5fY2FjaGVWYWxzKCksYi5wcm9wKCJjaGVja2VkIiwicmFkaW8iPT09dGhpcy5pbnB1dHR5cGUmJiEwfHwhYi5wcm9wKCJjaGVja2VkIikpLGIudHJpZ2dlckhhbmRsZXIoImNsaWNrIiksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QoYikucHJvcCgiY2hlY2tlZCIsITEpLHRoaXMuX3VwZGF0ZUFsbCgpLCExKX0sX2NhY2hlVmFsczpmdW5jdGlvbigpe3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJjYWNoZVZhbCIsdGhpcy5jaGVja2VkKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXt2YXIgYixkLGU9dGhpcy5lbGVtZW50WzBdLGY9ZS5uYW1lLGc9ZS5mb3JtLGg9dGhpcy5lbGVtZW50LnBhcmVudHMoKS5sYXN0KCkuZ2V0KDApLGk9dGhpcy5lbGVtZW50O3JldHVybiBmJiYicmFkaW8iPT09dGhpcy5pbnB1dHR5cGUmJmgmJihiPSJpbnB1dFt0eXBlPSdyYWRpbyddW25hbWU9JyIrYyhmKSsiJ10iLGc/KGQ9Zy5pZCxkJiYoaT1hKGIrIltmb3JtPSciK2MoZCkrIiddIixoKSksaT1hKGcpLmZpbmQoYikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybT09PWd9KS5hZGQoaSkpOmk9YShiLGgpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiF0aGlzLmZvcm19KSksaX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTsodGhpcy5jaGVja2VkfHwiY2hlY2tib3giPT09Yi5pbnB1dHR5cGUpJiZjLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX2hhc0ljb246ZnVuY3Rpb24oKXt2YXIgYixjLGQ9YS5tb2JpbGUuY29udHJvbGdyb3VwO3JldHVybiBkJiYoYj10aGlzLmVsZW1lbnQuY2xvc2VzdCgiOm1vYmlsZS1jb250cm9sZ3JvdXAsIitkLnByb3RvdHlwZS5pbml0U2VsZWN0b3IpLGIubGVuZ3RoPjApPyhjPWEuZGF0YShiWzBdLCJtb2JpbGUtY29udHJvbGdyb3VwIiksImhvcml6b250YWwiIT09KGM/Yy5vcHRpb25zLnR5cGU6Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiKSkpOiEwfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5faGFzSWNvbigpLGM9dGhpcy5lbGVtZW50WzBdLmNoZWNrZWQsZD1hLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxlPSJ1aS1idG4taWNvbi0iK3RoaXMub3B0aW9ucy5pY29ucG9zLGY9W10sZz1bXTtiPyhnLnB1c2goZCksZi5wdXNoKGUpKTooZy5wdXNoKGUpLChjP2Y6ZykucHVzaChkKSksYz8oZi5wdXNoKHRoaXMuY2hlY2tlZENsYXNzKSxnLnB1c2godGhpcy51bmNoZWNrZWRDbGFzcykpOihmLnB1c2godGhpcy51bmNoZWNrZWRDbGFzcyksZy5wdXNoKHRoaXMuY2hlY2tlZENsYXNzKSksdGhpcy5sYWJlbC5hZGRDbGFzcyhmLmpvaW4oIiAiKSkucmVtb3ZlQ2xhc3MoZy5qb2luKCIgIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbC5wYXJlbnQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5sYWJlbCxkPXRoaXMub3B0aW9ucyxlPXRoaXMud2lkZ2V0KCksZj10aGlzLl9oYXNJY29uKCk7YS5kaXNhYmxlZCE9PWImJih0aGlzLmlucHV0LnByb3AoImRpc2FibGVkIiwhIWEuZGlzYWJsZWQpLGUudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIWEuZGlzYWJsZWQpKSxhLm1pbmkhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIiwhIWEubWluaSksYS50aGVtZSE9PWImJmMucmVtb3ZlQ2xhc3MoInVpLWJ0bi0iK2QudGhlbWUpLmFkZENsYXNzKCJ1aS1idG4tIithLnRoZW1lKSxhLndyYXBwZXJDbGFzcyE9PWImJmUucmVtb3ZlQ2xhc3MoZC53cmFwcGVyQ2xhc3MpLmFkZENsYXNzKGEud3JhcHBlckNsYXNzKSxhLmljb25wb3MhPT1iJiZmP2MucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrZC5pY29ucG9zKS5hZGRDbGFzcygidWktYnRuLWljb24tIithLmljb25wb3MpOmZ8fGMucmVtb3ZlQ2xhc3MoInVpLWJ0bi1pY29uLSIrZC5pY29ucG9zKSx0aGlzLl9zdXBlcihhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIse2luaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nYnV0dG9uJ10sIGlucHV0W3R5cGU9J3N1Ym1pdCddLCBpbnB1dFt0eXBlPSdyZXNldCddIixvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOiJsZWZ0IixpY29uc2hhZG93OiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGlubGluZTpudWxsLG1pbmk6bnVsbCx3cmFwcGVyQ2xhc3M6bnVsbCxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIikmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLGEuZXh0ZW5kKHRoaXMse3dyYXBwZXI6dGhpcy5lbGVtZW50LnBhcmVudCgpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCEwKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl9idXR0b24oKSl9LF9idXR0b246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLl9nZXRJY29uQ2xhc3Nlcyh0aGlzLm9wdGlvbnMpO3JldHVybiBhKCI8ZGl2IGNsYXNzPSd1aS1idG4gdWktaW5wdXQtYnRuIisoYi53cmFwcGVyQ2xhc3M/IiAiK2Iud3JhcHBlckNsYXNzOiIiKSsoYi50aGVtZT8iIHVpLWJ0bi0iK2IudGhlbWU6IiIpKyhiLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIikrKGIuc2hhZG93PyIgdWktc2hhZG93IjoiIikrKGIuaW5saW5lPyIgdWktYnRuLWlubGluZSI6IiIpKyhiLm1pbmk/IiB1aS1taW5pIjoiIikrKGIuZGlzYWJsZWQ/IiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhjPyIgIitjOiIiKSsiJyA+Iit0aGlzLmVsZW1lbnQudmFsKCkrIjwvZGl2PiIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5idXR0b24pLHRoaXMuYnV0dG9uLnJlbW92ZSgpfSxfZ2V0SWNvbkNsYXNzZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWNvbj8idWktaWNvbi0iK2EuaWNvbisoYS5pY29uc2hhZG93PyIgdWktc2hhZG93LWljb24iOiIiKSsiIHVpLWJ0bi1pY29uLSIrYS5pY29ucG9zOiIifSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLndpZGdldCgpO2MudGhlbWUhPT1iJiZkLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoInVpLWJ0bi0iK2MudGhlbWUpLGMuY29ybmVycyE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci1hbGwiLGMuY29ybmVycyksYy5zaGFkb3chPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGMuc2hhZG93KSxjLmlubGluZSE9PWImJmQudG9nZ2xlQ2xhc3MoInVpLWJ0bi1pbmxpbmUiLGMuaW5saW5lKSxjLm1pbmkhPT1iJiZkLnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixjLm1pbmkpLGMuZGlzYWJsZWQhPT1iJiYodGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIixjLmRpc2FibGVkKSxkLnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsYy5kaXNhYmxlZCkpLChjLmljb24hPT1ifHxjLmljb25zaGFkb3chPT1ifHxjLmljb25wb3MhPT1iKSYmZC5yZW1vdmVDbGFzcyh0aGlzLl9nZXRJY29uQ2xhc3Nlcyh0aGlzLm9wdGlvbnMpKS5hZGRDbGFzcyh0aGlzLl9nZXRJY29uQ2xhc3NlcyhhLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYykpKSx0aGlzLl9zdXBlcihjKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpO3RoaXMub3B0aW9ucy5pY29uJiYibm90ZXh0Ij09PXRoaXMub3B0aW9ucy5pY29ucG9zJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKSYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLmVsZW1lbnQudmFsKCkpLGJ8fChjPXRoaXMuZWxlbWVudC5kZXRhY2goKSxhKHRoaXMud3JhcHBlcikudGV4dCh0aGlzLmVsZW1lbnQudmFsKCkpLmFwcGVuZChjKSksdGhpcy5vcHRpb25zLmRpc2FibGVkIT09ZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ZH0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hKCJtZXRhW25hbWU9dmlld3BvcnRdIiksYz1iLmF0dHIoImNvbnRlbnQiKSxkPWMrIixtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm8iLGU9YysiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzIixmPS8odXNlci1zY2FsYWJsZVtcc10qPVtcc10qbm8pfChtYXhpbXVtLXNjYWxlW1xzXSo9W1xzXSoxKVskLFxzXS8udGVzdChjKTthLm1vYmlsZS56b29tPWEuZXh0ZW5kKHt9LHtlbmFibGVkOiFmLGxvY2tlZDohMSxkaXNhYmxlOmZ1bmN0aW9uKGMpe2Z8fGEubW9iaWxlLnpvb20ubG9ja2VkfHwoYi5hdHRyKCJjb250ZW50IixkKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITEsYS5tb2JpbGUuem9vbS5sb2NrZWQ9Y3x8ITEpfSxlbmFibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWQmJmMhPT0hMHx8KGIuYXR0cigiY29udGVudCIsZSksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwLGEubW9iaWxlLnpvb20ubG9ja2VkPSExKX0scmVzdG9yZTpmdW5jdGlvbigpe2Z8fChiLmF0dHIoImNvbnRlbnQiLGMpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLHtpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3RleHQnXSxpbnB1dFt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSxpbnB1dFt0eXBlPSdudW1iZXInXSw6anFtRGF0YSh0eXBlPSdudW1iZXInKSxpbnB1dFt0eXBlPSdwYXNzd29yZCddLGlucHV0W3R5cGU9J2VtYWlsJ10saW5wdXRbdHlwZT0ndXJsJ10saW5wdXRbdHlwZT0ndGVsJ10sdGV4dGFyZWEsaW5wdXRbdHlwZT0ndGltZSddLGlucHV0W3R5cGU9J2RhdGUnXSxpbnB1dFt0eXBlPSdtb250aCddLGlucHV0W3R5cGU9J3dlZWsnXSxpbnB1dFt0eXBlPSdkYXRldGltZSddLGlucHV0W3R5cGU9J2RhdGV0aW1lLWxvY2FsJ10saW5wdXRbdHlwZT0nY29sb3InXSxpbnB1dDpub3QoW3R5cGVdKSxpbnB1dFt0eXBlPSdmaWxlJ10iLG9wdGlvbnM6e3RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLHdyYXBwZXJDbGFzczoiIixlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMuZWxlbWVudC5pcygiW3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpLGQ9IlRFWFRBUkVBIj09PXRoaXMuZWxlbWVudFswXS50YWdOYW1lLGU9dGhpcy5lbGVtZW50LmlzKCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJ0eXBlPSdyYW5nZSddIiksZj0odGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpfHx0aGlzLmVsZW1lbnQuaXMoIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInR5cGU9J3NlYXJjaCddIikpJiYhZTt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSYmKGIuZGlzYWJsZWQ9ITApLGEuZXh0ZW5kKHRoaXMse2NsYXNzZXM6dGhpcy5fY2xhc3Nlc0Zyb21PcHRpb25zKCksaXNTZWFyY2g6Yyxpc1RleHRhcmVhOmQsaXNSYW5nZTplLGlucHV0TmVlZHNXcmFwOmZ9KSx0aGlzLl9hdXRvQ29ycmVjdCgpLGIuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih7Zm9jdXM6Il9oYW5kbGVGb2N1cyIsYmx1cjoiX2hhbmRsZUJsdXIifSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnMoe2Rpc2FibGVkOnRoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIil9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYT1bXTt0aGlzLmlzVGV4dGFyZWEmJmEucHVzaCgidWktaW5wdXQtdGV4dCIpLCh0aGlzLmlzVGV4dGFyZWF8fHRoaXMuaXNSYW5nZSkmJmEucHVzaCgidWktc2hhZG93LWluc2V0IiksdGhpcy5pbnB1dE5lZWRzV3JhcD90aGlzLmVsZW1lbnQud3JhcCh0aGlzLl93cmFwKCkpOmE9YS5jb25jYXQodGhpcy5jbGFzc2VzKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYS5qb2luKCIgIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dE5lZWRzV3JhcD90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50fSxfY2xhc3Nlc0Zyb21PcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9W107cmV0dXJuIGIucHVzaCgidWktYm9keS0iKyhudWxsPT09YS50aGVtZT8iaW5oZXJpdCI6YS50aGVtZSkpLGEuY29ybmVycyYmYi5wdXNoKCJ1aS1jb3JuZXItYWxsIiksYS5taW5pJiZiLnB1c2goInVpLW1pbmkiKSxhLmRpc2FibGVkJiZiLnB1c2goInVpLXN0YXRlLWRpc2FibGVkIiksYS53cmFwcGVyQ2xhc3MmJmIucHVzaChhLndyYXBwZXJDbGFzcyksYn0sX3dyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdiBjbGFzcz0nIisodGhpcy5pc1NlYXJjaD8idWktaW5wdXQtc2VhcmNoICI6InVpLWlucHV0LXRleHQgIikrdGhpcy5jbGFzc2VzLmpvaW4oIiAiKSsiIHVpLXNoYWRvdy1pbnNldCc+PC9kaXY+Iil9LF9hdXRvQ29ycmVjdDpmdW5jdGlvbigpeyJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5lbGVtZW50WzBdLmF1dG9jb3JyZWN0fHxhLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8KHRoaXMuZWxlbWVudFswXS5zZXRBdHRyaWJ1dGUoImF1dG9jb3JyZWN0Iiwib2ZmIiksdGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpfSxfaGFuZGxlQmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyksdGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sX2hhbmRsZUZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksdGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy53aWRnZXQoKTt0aGlzLl9zdXBlcihhKSwoYS5kaXNhYmxlZCE9PWJ8fGEubWluaSE9PWJ8fGEuY29ybmVycyE9PWJ8fGEudGhlbWUhPT1ifHxhLndyYXBwZXJDbGFzcyE9PWIpJiYoYy5yZW1vdmVDbGFzcyh0aGlzLmNsYXNzZXMuam9pbigiICIpKSx0aGlzLmNsYXNzZXM9dGhpcy5fY2xhc3Nlc0Zyb21PcHRpb25zKCksYy5hZGRDbGFzcyh0aGlzLmNsYXNzZXMuam9pbigiICIpKSksYS5kaXNhYmxlZCE9PWImJnRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsISFhLmRpc2FibGVkKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLmlucHV0TmVlZHNXcmFwJiZ0aGlzLmVsZW1lbnQudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1pbnB1dC10ZXh0ICIrdGhpcy5jbGFzc2VzLmpvaW4oIiAiKSkpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbz10aGlzLHA9dGhpcy5lbGVtZW50LHE9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGEubW9iaWxlLmdldEF0dHJpYnV0ZShwWzBdLCJ0aGVtZSIpLHI9cT8iIHVpLWJhci0iK3E6IiB1aS1iYXItaW5oZXJpdCIscz10aGlzLm9wdGlvbnMuY29ybmVyc3x8cC5qcW1EYXRhKCJjb3JuZXJzIik/IiB1aS1jb3JuZXItYWxsIjoiIix0PXRoaXMub3B0aW9ucy5taW5pfHxwLmpxbURhdGEoIm1pbmkiKT8iIHVpLW1pbmkiOiIiLHU9cFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHY9InNlbGVjdCI9PT11LHc9cC5wYXJlbnQoKS5pcygiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIpLHg9dj8idWktc2xpZGVyLXN3aXRjaCI6IiIseT1wLmF0dHIoImlkIiksej1hKCJbZm9yPSciK3krIiddIiksQT16LmF0dHIoImlkIil8fHkrIi1sYWJlbCIsQj12PzA6cGFyc2VGbG9hdChwLmF0dHIoIm1pbiIpKSxDPXY/cC5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTpwYXJzZUZsb2F0KHAuYXR0cigibWF4IikpLEQ9Yi5wYXJzZUZsb2F0KHAuYXR0cigic3RlcCIpfHwxKSxFPWMuY3JlYXRlRWxlbWVudCgiYSIpLEY9YShFKSxHPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksSD1hKEcpLEk9dGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXY/ZnVuY3Rpb24oKXt2YXIgYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKEgpfSgpOiExO2lmKHouYXR0cigiaWQiLEEpLHRoaXMuaXNUb2dnbGVTd2l0Y2g9dixFLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSxHLnNldEF0dHJpYnV0ZSgicm9sZSIsImFwcGxpY2F0aW9uIiksRy5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0ICI6InVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQgIix4LHIscyx0XS5qb2luKCIiKSxFLmNsYXNzTmFtZT0idWktc2xpZGVyLWhhbmRsZSIsRy5hcHBlbmRDaGlsZChFKSxGLmF0dHIoe3JvbGU6InNsaWRlciIsImFyaWEtdmFsdWVtaW4iOkIsImFyaWEtdmFsdWVtYXgiOkMsImFyaWEtdmFsdWVub3ciOnRoaXMuX3ZhbHVlKCksImFyaWEtdmFsdWV0ZXh0Ijp0aGlzLl92YWx1ZSgpLHRpdGxlOnRoaXMuX3ZhbHVlKCksImFyaWEtbGFiZWxsZWRieSI6QX0pLGEuZXh0ZW5kKHRoaXMse3NsaWRlcjpILGhhbmRsZTpGLGNvbnRyb2w6cCx0eXBlOnUsc3RlcDpELG1heDpDLG1pbjpCLHZhbHVlYmc6SSxpc1Jhbmdlc2xpZGVyOncsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHYpe2ZvcihrPXAuYXR0cigidGFiaW5kZXgiKSxrJiZGLmF0dHIoInRhYmluZGV4IixrKSxwLmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpLEYuZm9jdXMoKX0pLGY9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0IixnPTAsaD1HLmNoaWxkTm9kZXMubGVuZ3RoO2g+ZztnKyspZi5hcHBlbmRDaGlsZChHLmNoaWxkTm9kZXNbZ10pO2ZvcihHLmFwcGVuZENoaWxkKGYpLEYuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxlPXAuZmluZCgib3B0aW9uIiksaT0wLGo9ZS5sZW5ndGg7aj5pO2krKylsPWk/ImEiOiJiIixtPWk/IiAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIiLG49Yy5jcmVhdGVFbGVtZW50KCJzcGFuIiksbi5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsbCxtXS5qb2luKCIiKSxuLnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLG4uYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShlW2ldLmlubmVySFRNTCkpLGEobikucHJlcGVuZFRvKEgpO28uX2xhYmVscz1hKCIudWktc2xpZGVyLWxhYmVsIixIKX1wLmFkZENsYXNzKHY/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihwLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSxILmJpbmQoInZtb3VzZWRvd24iLGEucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oYyx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oSC5hZGQoYykse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksSC5pbnNlcnRBZnRlcihwKSx2fHx3fHwoZj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixwLmFkZChIKS53cmFwQWxsKGYpKSx0aGlzLl9vbih0aGlzLmhhbmRsZSx7dm1vdXNlZG93bjoiX2hhbmRsZVZNb3VzZURvd24iLGtleWRvd246Il9oYW5kbGVLZXlkb3duIixrZXl1cDoiX2hhbmRsZUtleXVwIn0pLHRoaXMuaGFuZGxlLmJpbmQoInZjbGljayIsITEpLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChkLGQsITApfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09ZCYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEuY29ybmVycyE9PWQmJnRoaXMuX3NldENvcm5lcnMoYS5jb3JuZXJzKSxhLm1pbmkhPT1kJiZ0aGlzLl9zZXRNaW5pKGEubWluaSksYS5oaWdobGlnaHQhPT1kJiZ0aGlzLl9zZXRIaWdobGlnaHQoYS5oaWdobGlnaHQpLGEuZGlzYWJsZWQhPT1kJiZ0aGlzLl9zZXREaXNhYmxlZChhLmRpc2FibGVkKSx0aGlzLl9zdXBlcihhKX0sX2NvbnRyb2xDaGFuZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImNvbnRyb2xjaGFuZ2UiLGEpPT09ITE/ITE6dm9pZCh0aGlzLm1vdXNlTW92ZWR8fHRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKSl9LF9jb250cm9sS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCwhMCl9LF9jb250cm9sQmx1cjpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbigpe3RoaXMuX2NoZWNrZWRSZWZyZXNoKCl9LF9oYW5kbGVWTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fdmFsdWUoKTtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpiLnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5U2xpZGluZ3x8KHRoaXMuX2tleVNsaWRpbmc9ITAsdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX1zd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTp0aGlzLnJlZnJlc2godGhpcy5taW4pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6dGhpcy5yZWZyZXNoKHRoaXMubWF4KTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOnRoaXMucmVmcmVzaChjK3RoaXMuc3RlcCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDp0aGlzLnJlZnJlc2goYy10aGlzLnN0ZXApfX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbigpe3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9LF9zbGlkZXJWTW91c2VEb3duOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fDEhPT1hLndoaWNoJiYwIT09YS53aGljaCYmYS53aGljaCE9PWQ/ITE6dGhpcy5fdHJpZ2dlcigiYmVmb3Jlc3RhcnQiLGEpPT09ITE/ITE6KHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy51c2VyTW9kaWZpZWQ9ITEsdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmJlZm9yZVN0YXJ0PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KSx0aGlzLnJlZnJlc2goYSksdGhpcy5fdHJpZ2dlcigic3RhcnQiKSwhMSl9LF9zbGlkZXJWTW91c2VVcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYWdnaW5nPyh0aGlzLmRyYWdnaW5nPSExLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJih0aGlzLmhhbmRsZS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMucmVmcmVzaCh0aGlzLm1vdXNlTW92ZWQ/dGhpcy51c2VyTW9kaWZpZWQ/MD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowOnRoaXMuYmVmb3JlU3RhcnQ6MD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKSksdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuX3RyaWdnZXIoInN0b3AiKSwhMSk6dm9pZCAwfSxfcHJldmVudERvY3VtZW50RHJhZzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiZHJhZyIsYSk9PT0hMT8hMTp0aGlzLmRyYWdnaW5nJiYhdGhpcy5vcHRpb25zLmRpc2FibGVkPyh0aGlzLm1vdXNlTW92ZWQ9ITAsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLnJlZnJlc2goYSksdGhpcy51c2VyTW9kaWZpZWQ9dGhpcy5iZWZvcmVTdGFydCE9PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4LCExKTp2b2lkIDB9LF9jaGVja2VkUmVmcmVzaDpmdW5jdGlvbigpe3RoaXMudmFsdWUhPT10aGlzLl92YWx1ZSgpJiZ0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSl9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVG9nZ2xlU3dpdGNoP3RoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4OnBhcnNlRmxvYXQodGhpcy5lbGVtZW50LnZhbCgpKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKGQsITEsITApfSxyZWZyZXNoOmZ1bmN0aW9uKGIsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHo9dGhpcyxBPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sInRoZW1lIiksQj10aGlzLm9wdGlvbnMudGhlbWV8fEEsQz1CPyIgdWktYnRuLSIrQjoiIixEPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxBLEU9RD8iIHVpLWJhci0iK0Q6IiB1aS1iYXItaW5oZXJpdCIsRj10aGlzLm9wdGlvbnMuY29ybmVycz8iIHVpLWNvcm5lci1hbGwiOiIiLEc9dGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIjtpZih6LnNsaWRlclswXS5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciB1aS1zbGlkZXItc3dpdGNoIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXQiOiJ1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0IixFLEYsR10uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLGEoYikucHJlcGVuZFRvKHouc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLWJ0biIrQysiIHVpLXNoYWRvdyIpLGw9dGhpcy5lbGVtZW50LG09IXRoaXMuaXNUb2dnbGVTd2l0Y2gsbj1tP1tdOmwuZmluZCgib3B0aW9uIiksbz1tP3BhcnNlRmxvYXQobC5hdHRyKCJtaW4iKSk6MCxwPW0/cGFyc2VGbG9hdChsLmF0dHIoIm1heCIpKTpuLmxlbmd0aC0xLHE9bSYmcGFyc2VGbG9hdChsLmF0dHIoInN0ZXAiKSk+MD9wYXJzZUZsb2F0KGwuYXR0cigic3RlcCIpKToxLCJvYmplY3QiPT10eXBlb2YgYil7aWYoaD1iLGk9OCxmPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQsZz10aGlzLnNsaWRlci53aWR0aCgpLGo9Zy8oKHAtbykvcSksIXRoaXMuZHJhZ2dpbmd8fGgucGFnZVg8Zi1pfHxoLnBhZ2VYPmYrZytpKXJldHVybjtrPWo+MT8oaC5wYWdlWC1mKS9nKjEwMDpNYXRoLnJvdW5kKChoLnBhZ2VYLWYpL2cqMTAwKX1lbHNlIG51bGw9PWImJihiPW0/cGFyc2VGbG9hdChsLnZhbCgpfHwwKTpsWzBdLnNlbGVjdGVkSW5kZXgpLGs9KHBhcnNlRmxvYXQoYiktbykvKHAtbykqMTAwO2lmKCFpc05hTihrKSYmKHI9ay8xMDAqKHAtbykrbyxzPShyLW8pJXEsdD1yLXMsMipNYXRoLmFicyhzKT49cSYmKHQrPXM+MD9xOi1xKSx1PTEwMC8oKHAtbykvcSkscj1wYXJzZUZsb2F0KHQudG9GaXhlZCg1KSksInVuZGVmaW5lZCI9PXR5cGVvZiBqJiYoaj1nLygocC1vKS9xKSksaj4xJiZtJiYoaz0oci1vKSp1KigxL3EpKSwwPmsmJihrPTApLGs+MTAwJiYoaz0xMDApLG8+ciYmKHI9bykscj5wJiYocj1wKSx0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGsrIiUiKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLG0/cjpuLmVxKHIpLmF0dHIoInZhbHVlIikpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZXRleHQiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgidGl0bGUiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcygid2lkdGgiLGsrIiUiKSx0aGlzLl9sYWJlbHMmJih2PXRoaXMuaGFuZGxlLndpZHRoKCkvdGhpcy5zbGlkZXIud2lkdGgoKSoxMDAsdz1rJiZ2KygxMDAtdikqay8xMDAseD0xMDA9PT1rPzA6TWF0aC5taW4odisxMDAtdywxMDApLHRoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5oYXNDbGFzcygidWktc2xpZGVyLWxhYmVsLWEiKTthKHRoaXMpLndpZHRoKChiP3c6eCkrIiUiKX0pKSwhZSkpe2lmKHk9ITEsbT8oeT1sLnZhbCgpIT09cixsLnZhbChyKSk6KHk9bFswXS5zZWxlY3RlZEluZGV4IT09cixsWzBdLnNlbGVjdGVkSW5kZXg9ciksdGhpcy5fdHJpZ2dlcigiYmVmb3JlY2hhbmdlIixiKT09PSExKXJldHVybiExOyFkJiZ5JiZsLnRyaWdnZXIoImNoYW5nZSIpfX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXthPSEhYSxhPyh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0PSEhYSx0aGlzLnJlZnJlc2goKSk6dGhpcy52YWx1ZWJnJiYodGhpcy52YWx1ZWJnLnJlbW92ZSgpLHRoaXMudmFsdWViZz0hMSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktYnRuLSIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcygidWktYnRuLSIrYSk7dmFyIGI9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZToiaW5oZXJpdCIsYz1hP2E6ImluaGVyaXQiO3RoaXMuY29udHJvbC5yZW1vdmVDbGFzcygidWktYm9keS0iK2IpLmFkZENsYXNzKCJ1aS1ib2R5LSIrYyl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3B0aW9ucy50cmFja1RoZW1lP3RoaXMub3B0aW9ucy50cmFja1RoZW1lOiJpbmhlcml0IixjPWE/YToiaW5oZXJpdCI7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWJvZHktIitiKS5hZGRDbGFzcygidWktYm9keS0iK2MpfSxfc2V0TWluaTpmdW5jdGlvbihhKXthPSEhYSx0aGlzLmlzVG9nZ2xlU3dpdGNofHx0aGlzLmlzUmFuZ2VzbGlkZXJ8fCh0aGlzLnNsaWRlci5wYXJlbnQoKS50b2dnbGVDbGFzcygidWktbWluaSIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1taW5pIixhKSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpfSxfc2V0Q29ybmVyczpmdW5jdGlvbihhKXt0aGlzLnNsaWRlci50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYSksdGhpcy5pc1RvZ2dsZVN3aXRjaHx8dGhpcy5jb250cm9sLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe2E9ISFhLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsYSksdGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIixhKS5hdHRyKCJhcmlhLWRpc2FibGVkIixhKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3JldHVybiBjfHwoYz1hKCI8ZGl2PjwvZGl2PiIseyJjbGFzcyI6InVpLXNsaWRlci1wb3B1cCB1aS1zaGFkb3cgdWktY29ybmVyLWFsbCJ9KSksYy5jbG9uZSgpfXZhciBjO2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS5zbGlkZXIse29wdGlvbnM6e3BvcHVwRW5hYmxlZDohMSxzaG93VmFsdWU6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLGEuZXh0ZW5kKHRoaXMse19jdXJyZW50VmFsdWU6bnVsbCxfcG9wdXA6bnVsbCxfcG9wdXBWaXNpYmxlOiExfSksdGhpcy5fc2V0T3B0aW9uKCJwb3B1cEVuYWJsZWQiLHRoaXMub3B0aW9ucy5wb3B1cEVuYWJsZWQpLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfc2hvd1BvcHVwIn0pLHRoaXMuX29uKHRoaXMuc2xpZGVyLmFkZCh0aGlzLmRvY3VtZW50KSx7dm1vdXNldXA6Il9oaWRlUG9wdXAifSksdGhpcy5fcmVmcmVzaCgpfSxfcG9zaXRpb25Qb3B1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlLm9mZnNldCgpO3RoaXMuX3BvcHVwLm9mZnNldCh7bGVmdDphLmxlZnQrKHRoaXMuaGFuZGxlLndpZHRoKCktdGhpcy5fcG9wdXAud2lkdGgoKSkvMix0b3A6YS50b3AtdGhpcy5fcG9wdXAub3V0ZXJIZWlnaHQoKS01fSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxjKXt0aGlzLl9zdXBlcihhLGMpLCJzaG93VmFsdWUiPT09YT90aGlzLmhhbmRsZS5odG1sKGMmJiF0aGlzLm9wdGlvbnMubWluaT90aGlzLl92YWx1ZSgpOiIiKToicG9wdXBFbmFibGVkIj09PWEmJmMmJiF0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwPWIoKS5hZGRDbGFzcygidWktYm9keS0iKyh0aGlzLm9wdGlvbnMudGhlbWV8fCJhIikpLmhpZGUoKS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50KSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fcmVmcmVzaCgpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5vcHRpb25zO2IucG9wdXBFbmFibGVkJiZ0aGlzLmhhbmRsZS5yZW1vdmVBdHRyKCJ0aXRsZSIpLGE9dGhpcy5fdmFsdWUoKSxhIT09dGhpcy5fY3VycmVudFZhbHVlJiYodGhpcy5fY3VycmVudFZhbHVlPWEsYi5wb3B1cEVuYWJsZWQmJnRoaXMuX3BvcHVwPyh0aGlzLl9wb3NpdGlvblBvcHVwKCksdGhpcy5fcG9wdXAuaHRtbChhKSk6Yi5zaG93VmFsdWUmJiF0aGlzLm9wdGlvbnMubWluaSYmdGhpcy5oYW5kbGUuaHRtbChhKSl9LF9zaG93UG9wdXA6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9wdXBFbmFibGVkJiYhdGhpcy5fcG9wdXBWaXNpYmxlJiYodGhpcy5oYW5kbGUuaHRtbCgiIiksdGhpcy5fcG9wdXAuc2hvdygpLHRoaXMuX3Bvc2l0aW9uUG9wdXAoKSx0aGlzLl9wb3B1cFZpc2libGU9ITApfSxfaGlkZVBvcHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO2EucG9wdXBFbmFibGVkJiZ0aGlzLl9wb3B1cFZpc2libGUmJihhLnNob3dWYWx1ZSYmIWEubWluaSYmdGhpcy5oYW5kbGUuaHRtbCh0aGlzLl92YWx1ZSgpKSx0aGlzLl9wb3B1cC5oaWRlKCksdGhpcy5fcG9wdXBWaXNpYmxlPSExKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmZsaXBzd2l0Y2giLGEuZXh0ZW5kKHtvcHRpb25zOntvblRleHQ6Ik9uIixvZmZUZXh0OiJPZmYiLHRoZW1lOm51bGwsZW5oYW5jZWQ6ITEsd3JhcHBlckNsYXNzOm51bGwsY29ybmVyczohMCxtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkP2EuZXh0ZW5kKHRoaXMse2ZsaXBzd2l0Y2g6dGhpcy5lbGVtZW50LnBhcmVudCgpLG9uOnRoaXMuZWxlbWVudC5maW5kKCIudWktZmxpcHN3aXRjaC1vbiIpLmVxKDApLG9mZjp0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWZsaXBzd2l0Y2gtb2ZmIikuZXEoMCksdHlwZTp0aGlzLmVsZW1lbnQuZ2V0KDApLnRhZ05hbWV9KTp0aGlzLl9lbmhhbmNlKCksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5fb3JpZ2luYWxUYWJJbmRleD10aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiKSxudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4JiZ0aGlzLm9uLmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnaW5hbFRhYkluZGV4KSx0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCItMSIpLHRoaXMuX29uKHtmb2N1czoiX2hhbmRsZUlucHV0Rm9jdXMifSksdGhpcy5lbGVtZW50LmlzKCI6ZGlzYWJsZWQiKSYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KSx0aGlzLl9vbih0aGlzLmZsaXBzd2l0Y2gse2NsaWNrOiJfdG9nZ2xlIixzd2lwZWxlZnQ6Il9sZWZ0Iixzd2lwZXJpZ2h0OiJfcmlnaHQifSksdGhpcy5fb24odGhpcy5vbix7a2V5ZG93bjoiX2tleWRvd24ifSksdGhpcy5fb24oe2NoYW5nZToicmVmcmVzaCJ9KX0sX2hhbmRsZUlucHV0Rm9jdXM6ZnVuY3Rpb24oKXt0aGlzLm9uLmZvY3VzKCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsaXBzd2l0Y2h9LF9sZWZ0OmZ1bmN0aW9uKCl7dGhpcy5mbGlwc3dpdGNoLnJlbW92ZUNsYXNzKCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZSIpLCJTRUxFQ1QiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD0wOnRoaXMuZWxlbWVudC5wcm9wKCJjaGVja2VkIiwhMSksdGhpcy5lbGVtZW50LnRyaWdnZXIoImNoYW5nZSIpfSxfcmlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmZsaXBzd2l0Y2guYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtYWN0aXZlIiksIlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PTE6dGhpcy5lbGVtZW50LnByb3AoImNoZWNrZWQiLCEwKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2hhbmdlIil9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGI9YSgiPGRpdj4iKSxjPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPWMudGhlbWU/Yy50aGVtZToiaW5oZXJpdCIsZj1hKCI8YT48L2E+Iix7aHJlZjoiIyJ9KSxnPWEoIjxzcGFuPjwvc3Bhbj4iKSxoPWQuZ2V0KDApLnRhZ05hbWUsaT0iSU5QVVQiPT09aD9jLm9uVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDEpLnRleHQoKSxqPSJJTlBVVCI9PT1oP2Mub2ZmVGV4dDpkLmZpbmQoIm9wdGlvbiIpLmVxKDApLnRleHQoKTtmLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoLW9uIHVpLWJ0biB1aS1zaGFkb3cgdWktYnRuLWluaGVyaXQiKS50ZXh0KGkpLGcuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtb2ZmIikudGV4dChqKSxiLmFkZENsYXNzKCJ1aS1mbGlwc3dpdGNoIHVpLXNoYWRvdy1pbnNldCB1aS1iYXItIitlKyIgIisoYy53cmFwcGVyQ2xhc3M/Yy53cmFwcGVyQ2xhc3M6IiIpKyIgIisoZC5pcygiOmNoZWNrZWQiKXx8ZC5maW5kKCJvcHRpb24iKS5lcSgxKS5pcygiOnNlbGVjdGVkIik/InVpLWZsaXBzd2l0Y2gtYWN0aXZlIjoiIikrKGQuaXMoIjpkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIpKyhjLm1pbmk/IiB1aS1taW5pIjoiIikpLmFwcGVuZChmLGcpLGQuYWRkQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKS5hZnRlcihiKS5hcHBlbmRUbyhiKSxhLmV4dGVuZCh0aGlzLHtmbGlwc3dpdGNoOmIsb246ZixvZmY6Zyx0eXBlOmh9KX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX3JpZ2h0IjoiX2xlZnQiO2E9IlNFTEVDVCI9PT10aGlzLnR5cGU/dGhpcy5lbGVtZW50LmdldCgwKS5zZWxlY3RlZEluZGV4PjA/Il9yaWdodCI6Il9sZWZ0Ijp0aGlzLmVsZW1lbnQucHJvcCgiY2hlY2tlZCIpPyJfcmlnaHQiOiJfbGVmdCIsYSE9PWImJnRoaXNbYV0oKX0sX3RvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcygidWktZmxpcHN3aXRjaC1hY3RpdmUiKT8iX2xlZnQiOiJfcmlnaHQiO3RoaXNbYV0oKX0sX2tleWRvd246ZnVuY3Rpb24oYil7Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuTEVGVD90aGlzLl9sZWZ0KCk6Yi53aGljaD09PWEubW9iaWxlLmtleUNvZGUuUklHSFQ/dGhpcy5fcmlnaHQoKTpiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSYmKHRoaXMuX3RvZ2dsZSgpLGIucHJldmVudERlZmF1bHQoKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe2lmKGEudGhlbWUhPT1iKXt2YXIgYz1hLnRoZW1lP2EudGhlbWU6ImluaGVyaXQiLGQ9YS50aGVtZT9hLnRoZW1lOiJpbmhlcml0Ijt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKCJ1aS1iYXItIitjKS5hZGRDbGFzcygidWktYmFyLSIrZCl9YS5vblRleHQhPT1iJiZ0aGlzLm9uLnRleHQoYS5vblRleHQpLGEub2ZmVGV4dCE9PWImJnRoaXMub2ZmLnRleHQoYS5vZmZUZXh0KSxhLmRpc2FibGVkIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLGEuZGlzYWJsZWQpLGEubWluaSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEubWluaSksYS5jb3JuZXJzIT09YiYmdGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYS5jb3JuZXJzKSx0aGlzLl9zdXBlcihhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fChudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4P3RoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ2luYWxUYWJJbmRleCk6dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRhYmluZGV4IiksdGhpcy5vbi5yZW1vdmUoKSx0aGlzLm9mZi5yZW1vdmUoKSx0aGlzLmVsZW1lbnQudW53cmFwKCksdGhpcy5mbGlwc3dpdGNoLnJlbW92ZSgpLHRoaXMucmVtb3ZlQ2xhc3MoInVpLWZsaXBzd2l0Y2gtaW5wdXQiKSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5yYW5nZXNsaWRlciIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMubWluaT8idWktcmFuZ2VzbGlkZXIgdWktbWluaSI6InVpLXJhbmdlc2xpZGVyIixkPWIuZmluZCgiaW5wdXQiKS5maXJzdCgpLGU9Yi5maW5kKCJpbnB1dCIpLmxhc3QoKSxmPWIuZmluZCgibGFiZWwiKS5maXJzdCgpLGc9YS5kYXRhKGQuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIil8fGEuZGF0YShkLnNsaWRlcigpLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLGg9YS5kYXRhKGUuZ2V0KDApLCJtb2JpbGUtc2xpZGVyIil8fGEuZGF0YShlLnNsaWRlcigpLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLGk9Zy5zbGlkZXIsaj1oLnNsaWRlcixrPWcuaGFuZGxlLGw9YSgiPGRpdiBjbGFzcz0ndWktcmFuZ2VzbGlkZXItc2xpZGVycycgLz4iKS5hcHBlbmRUbyhiKTtkLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLGUuYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWxhc3QiKSxiLmFkZENsYXNzKGMpLGkuYXBwZW5kVG8obCksai5hcHBlbmRUbyhsKSxmLmluc2VydEJlZm9yZShiKSxrLnByZXBlbmRUbyhqKSxhLmV4dGVuZCh0aGlzLHtfaW5wdXRGaXJzdDpkLF9pbnB1dExhc3Q6ZSxfc2xpZGVyRmlyc3Q6aSxfc2xpZGVyTGFzdDpqLF9sYWJlbDpmLF90YXJnZXRWYWw6bnVsbCxfc2xpZGVyVGFyZ2V0OiExLF9zbGlkZXJzOmwsX3Byb3h5OiExfSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb24odGhpcy5lbGVtZW50LmZpbmQoImlucHV0LnVpLXNsaWRlci1pbnB1dCIpLHtzbGlkZWJlZm9yZXN0YXJ0OiJfc2xpZGViZWZvcmVzdGFydCIsc2xpZGVzdG9wOiJfc2xpZGVzdG9wIixzbGlkZWRyYWc6Il9zbGlkZWRyYWciLHNsaWRlYmVmb3JlY2hhbmdlOiJfY2hhbmdlIixibHVyOiJfY2hhbmdlIixrZXl1cDoiX2NoYW5nZSJ9KSx0aGlzLl9vbih7bW91c2Vkb3duOiJfY2hhbmdlIn0pLHRoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikse3Jlc2V0OiJfaGFuZGxlUmVzZXQifSksdGhpcy5fb24oayx7dm1vdXNlZG93bjoiX2RyYWdGaXJzdEhhbmRsZSJ9KX0sX2hhbmRsZVJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5fdXBkYXRlSGlnaGxpZ2h0KCl9LDApfSxfZHJhZ0ZpcnN0SGFuZGxlOmZ1bmN0aW9uKGIpe3JldHVybiBhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5yZWZyZXNoKGIpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGQ9Yz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtyZXR1cm4gdGhpcy5fc2xpZGVyVGFyZ2V0PSExLCJmaXJzdCI9PT10aGlzLl9wcm94eSYmY3x8Imxhc3QiPT09dGhpcy5fcHJveHkmJiFjPyhhLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEoZC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5yZWZyZXNoKGIpLCExKTp2b2lkIDB9LF9zbGlkZXN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGM/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKGIpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxhKGIub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9YShiLnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09YiYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09YiYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEubWluaSE9PWImJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWImJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksdGhpcy5fc3VwZXIoYSksdGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnM7KHRoaXMuX2lucHV0Rmlyc3QuaXMoIjpkaXNhYmxlZCIpfHx0aGlzLl9pbnB1dExhc3QuaXMoIjpkaXNhYmxlZCIpKSYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYS5maW5kKCJpbnB1dCIpLnNsaWRlcih7dGhlbWU6Yi50aGVtZSx0cmFja1RoZW1lOmIudHJhY2tUaGVtZSxkaXNhYmxlZDpiLmRpc2FibGVkLGNvcm5lcnM6Yi5jb3JuZXJzLG1pbmk6Yi5taW5pLGhpZ2hsaWdodDpiLmhpZ2hsaWdodH0pLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfSxfY2hhbmdlOmZ1bmN0aW9uKGIpe2lmKCJrZXl1cCI9PT1iLnR5cGUpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBjPXRoaXMsZD1wYXJzZUZsb2F0KHRoaXMuX2lucHV0Rmlyc3QudmFsKCksMTApLGU9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dExhc3QudmFsKCksMTApLGY9YShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZz1mP3RoaXMuX2lucHV0Rmlyc3Q6dGhpcy5faW5wdXRMYXN0LGg9Zj90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtpZih0aGlzLl9pbnB1dEZpcnN0LnZhbCgpPnRoaXMuX2lucHV0TGFzdC52YWwoKSYmIm1vdXNlZG93biI9PT1iLnR5cGUmJiFhKGIudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpKWcuYmx1cigpO2Vsc2UgaWYoIm1vdXNlZG93biI9PT1iLnR5cGUpcmV0dXJuO3JldHVybiBkPmUmJiF0aGlzLl9zbGlkZXJUYXJnZXQ/KGcudmFsKGY/ZTpkKS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl90cmlnZ2VyKCJub3JtYWxpemUiKSk6ZD5lJiYoZy52YWwodGhpcy5fdGFyZ2V0VmFsKS5zbGlkZXIoInJlZnJlc2giKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC52YWwoZj9kOmUpLnNsaWRlcigicmVmcmVzaCIpLGEuZGF0YShoLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5mb2N1cygpLGMuX3NsaWRlckZpcnN0LmNzcygiei1pbmRleCIsZj8iIjoxKSxjLl90cmlnZ2VyKCJub3JtYWxpemUiKX0sMCksdGhpcy5fcHJveHk9Zj8iZmlyc3QiOiJsYXN0IiksZD09PWU/KGEuZGF0YShnLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDEpLGEuZGF0YShoLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDApKTooYS5kYXRhKGguZ2V0KDApLCJtb2JpbGUtc2xpZGVyIikuaGFuZGxlLmNzcygiei1pbmRleCIsIiIpLGEuZGF0YShnLmdldCgwKSwibW9iaWxlLXNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLCIiKSksdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksZD49ZT8hMTp2b2lkIDB9LF91cGRhdGVIaWdobGlnaHQ6ZnVuY3Rpb24oKXt2YXIgYj1wYXJzZUludChhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGM9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0TGFzdC5nZXQoMCksIm1vYmlsZS1zbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGQ9Yy1iO3RoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWJnIikuY3NzKHsibWFyZ2luLWxlZnQiOmIrIiUiLHdpZHRoOmQrIiUifSl9LF9zZXRUaGVtZTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwidGhlbWUiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsInRoZW1lIixhKX0sX3NldFRyYWNrVGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIm9wdGlvbiIsInRyYWNrVGhlbWUiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsInRyYWNrVGhlbWUiLGEpfSxfc2V0TWluaTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcigib3B0aW9uIiwibWluaSIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcigib3B0aW9uIiwibWluaSIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1taW5pIiwhIWEpfSxfc2V0SGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCJvcHRpb24iLCJoaWdobGlnaHQiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIm9wdGlvbiIsImhpZ2hsaWdodCIsYSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbGFiZWwucHJlcGVuZFRvKHRoaXMuZWxlbWVudCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIiksdGhpcy5faW5wdXRGaXJzdC5hZnRlcih0aGlzLl9zbGlkZXJGaXJzdCksdGhpcy5faW5wdXRMYXN0LmFmdGVyKHRoaXMuX3NsaWRlckxhc3QpLHRoaXMuX3NsaWRlcnMucmVtb3ZlKCksdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IHVpLXJhbmdlc2xpZGVyLWxhc3QiKS5zbGlkZXIoImRlc3Ryb3kiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUudGV4dGlucHV0LHtvcHRpb25zOntjbGVhckJ0bjohMSxjbGVhckJ0blRleHQ6IkNsZWFyIHRleHQifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSwodGhpcy5vcHRpb25zLmNsZWFyQnRufHx0aGlzLmlzU2VhcmNoKSYmdGhpcy5fYWRkQ2xlYXJCdG4oKX0sY2xlYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWlucHV0LWNsZWFyIHVpLWJ0biB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktY29ybmVyLWFsbCcgdGl0bGU9JyIrdGhpcy5vcHRpb25zLmNsZWFyQnRuVGV4dCsiJz4iK3RoaXMub3B0aW9ucy5jbGVhckJ0blRleHQrIjwvYT4iKX0sX2NsZWFyQnRuQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnZhbCgiIikuZm9jdXMoKS50cmlnZ2VyKCJjaGFuZ2UiKSx0aGlzLl9jbGVhckJ0bi5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiksYS5wcmV2ZW50RGVmYXVsdCgpfSxfYWRkQ2xlYXJCdG46ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2VDbGVhcigpLGEuZXh0ZW5kKHRoaXMse19jbGVhckJ0bjp0aGlzLndpZGdldCgpLmZpbmQoImEudWktaW5wdXQtY2xlYXIiKX0pLHRoaXMuX2JpbmRDbGVhckV2ZW50cygpLHRoaXMuX3RvZ2dsZUNsZWFyKCl9LF9lbmhhbmNlQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyQnV0dG9uKCkuYXBwZW5kVG8odGhpcy53aWRnZXQoKSksdGhpcy53aWRnZXQoKS5hZGRDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIil9LF9iaW5kQ2xlYXJFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLl9jbGVhckJ0bix7Y2xpY2s6Il9jbGVhckJ0bkNsaWNrIn0pLHRoaXMuX29uKHtrZXl1cDoiX3RvZ2dsZUNsZWFyIixjaGFuZ2U6Il90b2dnbGVDbGVhciIsaW5wdXQ6Il90b2dnbGVDbGVhciIsZm9jdXM6Il90b2dnbGVDbGVhciIsYmx1cjoiX3RvZ2dsZUNsZWFyIixjdXQ6Il90b2dnbGVDbGVhciIscGFzdGU6Il90b2dnbGVDbGVhciJ9KX0sX3VuYmluZENsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKHRoaXMuX2NsZWFyQnRuLCJjbGljayIpLHRoaXMuX29mZih0aGlzLmVsZW1lbnQsImtleXVwIGNoYW5nZSBpbnB1dCBmb2N1cyBibHVyIGN1dCBwYXN0ZSIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhLmNsZWFyQnRuPT09Ynx8dGhpcy5lbGVtZW50LmlzKCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpfHwoYS5jbGVhckJ0bj90aGlzLl9hZGRDbGVhckJ0bigpOnRoaXMuX2Rlc3Ryb3lDbGVhcigpKSxhLmNsZWFyQnRuVGV4dCE9PWImJnRoaXMuX2NsZWFyQnRuIT09YiYmdGhpcy5fY2xlYXJCdG4udGV4dChhLmNsZWFyQnRuVGV4dCkuYXR0cigidGl0bGUiLGEuY2xlYXJCdG5UZXh0KX0sX3RvZ2dsZUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoIl90b2dnbGVDbGVhckNsYXNzIiwwKX0sX3RvZ2dsZUNsZWFyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckJ0bi50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhdGhpcy5lbGVtZW50LnZhbCgpKX0sX2Rlc3Ryb3lDbGVhcjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoInVpLWlucHV0LWhhcy1jbGVhciIpLHRoaXMuX3VuYmluZENsZWFyKCksdGhpcy5fY2xlYXJCdG4ucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl9kZXN0cm95Q2xlYXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUudGV4dGlucHV0LHtvcHRpb25zOnthdXRvZ3JvdzohMCxrZXl1cFRpbWVvdXRCdWZmZXI6MTAwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuYXV0b2dyb3cmJnRoaXMuaXNUZXh0YXJlYSYmdGhpcy5fYXV0b2dyb3coKX0sX2F1dG9ncm93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ciKSx0aGlzLl9vbih7a2V5dXA6Il90aW1lb3V0IixjaGFuZ2U6Il90aW1lb3V0IixpbnB1dDoiX3RpbWVvdXQiLHBhc3RlOiJfdGltZW91dCJ9KSx0aGlzLl9vbighMCx0aGlzLmRvY3VtZW50LHtwYWdlc2hvdzoiX2hhbmRsZVNob3ciLHBvcHVwYmVmb3JlcG9zaXRpb246Il9oYW5kbGVTaG93Iix1cGRhdGVsYXlvdXQ6Il9oYW5kbGVTaG93IixwYW5lbG9wZW46Il9oYW5kbGVTaG93In0pfSxfaGFuZGxlU2hvdzpmdW5jdGlvbihiKXthLmNvbnRhaW5zKGIudGFyZ2V0LHRoaXMuZWxlbWVudFswXSkmJnRoaXMuZWxlbWVudC5pcygiOnZpc2libGUiKSYmKCJwb3B1cGJlZm9yZXBvc2l0aW9uIiE9PWIudHlwZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplIikuYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGV4dGlucHV0LWF1dG9ncm93LXJlc2l6ZSIpfSx0aGlzKSwidHJhbnNpdGlvbiIpLHRoaXMuX3RpbWVvdXQoKSl9LF91bmJpbmRBdXRvZ3JvdzpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktdGV4dGlucHV0LWF1dG9ncm93IiksdGhpcy5fb2ZmKHRoaXMuZWxlbWVudCwia2V5dXAgY2hhbmdlIGlucHV0IHBhc3RlIiksdGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsInBhZ2VzaG93IHBvcHVwYmVmb3JlcG9zaXRpb24gdXBkYXRlbGF5b3V0IHBhbmVsb3BlbiIpfSxrZXl1cFRpbWVvdXQ6bnVsbCxfcHJlcGFyZUhlaWdodFVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLmtleXVwVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMua2V5dXBUaW1lb3V0KSxhPT09Yj90aGlzLl91cGRhdGVIZWlnaHQoKTp0aGlzLmtleXVwVGltZW91dD10aGlzLl9kZWxheSgiX3VwZGF0ZUhlaWdodCIsYSl9LF90aW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5fcHJlcGFyZUhlaWdodFVwZGF0ZSh0aGlzLm9wdGlvbnMua2V5dXBUaW1lb3V0QnVmZmVyKX0sX3VwZGF0ZUhlaWdodDpmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqPXRoaXMud2luZG93LnNjcm9sbFRvcCgpO3RoaXMua2V5dXBUaW1lb3V0PTAsIm9ucGFnZSJpbiB0aGlzLmVsZW1lbnRbMF18fHRoaXMuZWxlbWVudC5jc3Moe2hlaWdodDowLCJtaW4taGVpZ2h0IjowLCJtYXgtaGVpZ2h0IjowfSksZD10aGlzLmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0LGU9dGhpcy5lbGVtZW50WzBdLmNsaWVudEhlaWdodCxmPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKSxnPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpKSxoPWYrZyxpPWQraCsxNSwwPT09ZSYmKGE9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKCJwYWRkaW5nLXRvcCIpKSxiPXBhcnNlRmxvYXQodGhpcy5lbGVtZW50LmNzcygicGFkZGluZy1ib3R0b20iKSksYz1hK2IsaSs9YyksdGhpcy5lbGVtZW50LmNzcyh7aGVpZ2h0OmksIm1pbi1oZWlnaHQiOiIiLCJtYXgtaGVpZ2h0IjoiIn0pLHRoaXMud2luZG93LnNjcm9sbFRvcChqKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvZ3JvdyYmdGhpcy5pc1RleHRhcmVhJiZ0aGlzLl91cGRhdGVIZWlnaHQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYS5hdXRvZ3JvdyE9PWImJnRoaXMuaXNUZXh0YXJlYSYmKGEuYXV0b2dyb3c/dGhpcy5fYXV0b2dyb3coKTp0aGlzLl91bmJpbmRBdXRvZ3JvdygpKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSk6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJykgKSIsb3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOiJjYXJhdC1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITEsb3ZlcmxheVRoZW1lOm51bGwsZGl2aWRlclRoZW1lOm51bGwsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6ITAscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKX0sX3NldERpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLGEpLHRoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLGEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLGEpfSxfZm9jdXNCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmJ1dHRvbi5mb2N1cygpfSw0MCl9LF9zZWxlY3RPcHRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmlubGluZXx8dGhpcy5lbGVtZW50LmpxbURhdGEoImlubGluZSIpLGM9dGhpcy5vcHRpb25zLm1pbml8fHRoaXMuZWxlbWVudC5qcW1EYXRhKCJtaW5pIiksZD0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYoZD0iIHVpLWJ0bi1sZWZ0IiksfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJihkPSIgdWktYnRuLXJpZ2h0IiksYiYmKGQrPSIgdWktYnRuLWlubGluZSIpLGMmJihkKz0iIHVpLW1pbmkiKSx0aGlzLnNlbGVjdD10aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodCIpLndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCIrZCsiJz4iKSx0aGlzLnNlbGVjdElkPXRoaXMuc2VsZWN0LmF0dHIoImlkIil8fCJzZWxlY3QtIit0aGlzLnV1aWQsdGhpcy5idXR0b25JZD10aGlzLnNlbGVjdElkKyItYnV0dG9uIix0aGlzLmxhYmVsPWEoImxhYmVsW2Zvcj0nIit0aGlzLnNlbGVjdElkKyInXSIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLXNlbGVjdCIpO2EubGVuZ3RoPjAmJihhLmlzKCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHQiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGEuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0Iik/InVpLWJ0bi1sZWZ0IjoidWktYnRuLXJpZ2h0IiksdGhpcy5lbGVtZW50Lmluc2VydEFmdGVyKGEpLGEucmVtb3ZlKCkpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlRXh0ZW5zaW9uKCksdGhpcy5idXR0b249dGhpcy5fYnV0dG9uKCk7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoImljb25wb3MiKTohMSxmPXRoaXMuYnV0dG9uLmluc2VydEJlZm9yZSh0aGlzLnNlbGVjdCkuYXR0cigiaWQiLHRoaXMuYnV0dG9uSWQpLmFkZENsYXNzKCJ1aS1idG4iKyhkLmljb24/IiB1aS1pY29uLSIrZC5pY29uKyIgdWktYnRuLWljb24tIitlKyhkLmljb25zaGFkb3c/IiB1aS1zaGFkb3ctaWNvbiI6IiIpOiIiKSsoZC50aGVtZT8iIHVpLWJ0bi0iK2QudGhlbWU6IiIpKyhkLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIikrKGQuc2hhZG93PyIgdWktc2hhZG93IjoiIikpO3RoaXMuc2V0QnV0dG9uVGV4dCgpLGQubmF0aXZlTWVudSYmYi5vcGVyYSYmYi5vcGVyYS52ZXJzaW9uJiZmLmFkZENsYXNzKCJ1aS1zZWxlY3QtbmF0aXZlb25seSIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJvZHktaW5oZXJpdCIpLmhpZGUoKS5hcHBlbmRUbyhmLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChkLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpLGQubmF0aXZlTWVudSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLl9vbih0aGlzLmJ1dHRvbix7a2V5ZG93bjoiX2hhbmRsZUtleWRvd24ifSksdGhpcy5idWlsZCgpfSxidWlsZDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5zZWxlY3QuYXBwZW5kVG8oYi5idXR0b24pLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7Yi5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiZm9jdXMiLGZ1bmN0aW9uKCl7Yi5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJibHVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZCgiZm9jdXMgdm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtiLmJ1dHRvbi50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIHZtb3VzZW91dCIsZnVuY3Rpb24oKXtiLmJ1dHRvbi50cmlnZ2VyKCJ2bW91c2VvdXQiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KSxiLmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuc2VsZWN0LmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5idXR0b24uYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KSxiLnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5zZWxlY3RlZCgpLGU9dGhpcy5wbGFjZWhvbGRlcixmPWEoYy5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmNoaWxkcmVuKCJzcGFuIikubm90KCIudWktbGktY291bnQiKS5yZW1vdmUoKS5lbmQoKS5lbmQoKS5wcmVwZW5kKGZ1bmN0aW9uKCl7cmV0dXJuIGU9ZC5sZW5ndGg/ZC5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCIsICIpOmIucGxhY2Vob2xkZXIsZT9mLnRleHQoZSk6Zi5odG1sKCImIzE2MDsiKSxmLmFkZENsYXNzKGIuc2VsZWN0LmF0dHIoImNsYXNzIikpLmFkZENsYXNzKGQuYXR0cigiY2xhc3MiKSkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0oKSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoIl9yZWZyZXNoQnV0dG9uIil9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxfcmVmcmVzaEJ1dHRvbjpmdW5jdGlvbigpe3RoaXMuc2V0QnV0dG9uVGV4dCgpLHRoaXMuc2V0QnV0dG9uQ291bnQoKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hCdXR0b24oKX0sb3BlbjphLm5vb3AsY2xvc2U6YS5ub29wLGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMCksdGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCExKSx0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlua3M9ZnVuY3Rpb24oYil7YShiKS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5maWx0ZXIoIjpqcW1EYXRhKHJlbD0ncG9wdXAnKVtocmVmXVtocmVmIT0nJ10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0QXR0cmlidXRlKCJocmVmIikuc3Vic3RyaW5nKDEpO2ImJihhLnNldEF0dHJpYnV0ZSgiYXJpYS1oYXNwb3B1cCIsITApLGEuc2V0QXR0cmlidXRlKCJhcmlhLW93bnMiLGIpLGEuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMSkpfSkuZW5kKCkubm90KCIudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9fShhKSxmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSxiLGMsZCl7dmFyIGU9ZDtyZXR1cm4gZT1iPmE/YysoYS1iKS8yOk1hdGgubWluKE1hdGgubWF4KGMsZC1iLzIpLGMrYS1iKX1mdW5jdGlvbiBlKGEpe3JldHVybnt4OmEuc2Nyb2xsTGVmdCgpLHk6YS5zY3JvbGxUb3AoKSxjeDphWzBdLmlubmVyV2lkdGh8fGEud2lkdGgoKSxjeTphWzBdLmlubmVySGVpZ2h0fHxhLmhlaWdodCgpfX1hLndpZGdldCgibW9iaWxlLnBvcHVwIix7b3B0aW9uczp7d3JhcHBlckNsYXNzOm51bGwsdGhlbWU6bnVsbCxvdmVybGF5VGhlbWU6bnVsbCxzaGFkb3c6ITAsY29ybmVyczohMCx0cmFuc2l0aW9uOiJub25lIixwb3NpdGlvblRvOiJvcmlnaW4iLHRvbGVyYW5jZTpudWxsLGNsb3NlTGlua1NlbGVjdG9yOiJhOmpxbURhdGEocmVsPSdiYWNrJykiLGNsb3NlTGlua0V2ZW50czoiY2xpY2sucG9wdXAiLG5hdmlnYXRlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCIsY2xvc2VFdmVudHM6Im5hdmlnYXRlLnBvcHVwIHBhZ2ViZWZvcmVjaGFuZ2UucG9wdXAiLGRpc21pc3NpYmxlOiEwLGVuaGFuY2VkOiExLGhpc3Rvcnk6IWEubW9iaWxlLmJyb3dzZXIub2xkSUV9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmF0dHIoImlkIiksZD10aGlzLm9wdGlvbnM7ZC5oaXN0b3J5PWQuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLGEuZXh0ZW5kKHRoaXMse19zY3JvbGxUb3A6MCxfcGFnZTpiLmNsb3Nlc3QoIi51aS1wYWdlIiksX3VpOm51bGwsX2ZhbGxiYWNrVHJhbnNpdGlvbjoiIixfY3VycmVudFRyYW5zaXRpb246ITEsX3ByZXJlcXVpc2l0ZXM6bnVsbCxfaXNPcGVuOiExLF90b2xlcmFuY2U6bnVsbCxfcmVzaXplRGF0YTpudWxsLF9pZ25vcmVSZXNpemVUbzowLF9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M6ITF9KSwwPT09dGhpcy5fcGFnZS5sZW5ndGgmJih0aGlzLl9wYWdlPWEoImJvZHkiKSksZC5lbmhhbmNlZD90aGlzLl91aT17Y29udGFpbmVyOmIucGFyZW50KCksc2NyZWVuOmIucGFyZW50KCkucHJldigpLHBsYWNlaG9sZGVyOmEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZChjKyItcGxhY2Vob2xkZXIiKSl9Oih0aGlzLl91aT10aGlzLl9lbmhhbmNlKGIsYyksdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGQudHJhbnNpdGlvbikpLHRoaXMuX3NldFRvbGVyYW5jZShkLnRvbGVyYW5jZSkuX3VpLmZvY3VzRWxlbWVudD10aGlzLl91aS5jb250YWluZXIsdGhpcy5fb24odGhpcy5fdWkuc2NyZWVuLHt2Y2xpY2s6Il9lYXRFdmVudEFuZENsb3NlIn0pLHRoaXMuX29uKHRoaXMud2luZG93LHtvcmllbnRhdGlvbmNoYW5nZTphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZSIpLHJlc2l6ZTphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dSZXNpemUiKSxrZXl1cDphLnByb3h5KHRoaXMsIl9oYW5kbGVXaW5kb3dLZXlVcCIpfSksdGhpcy5fb24odGhpcy5kb2N1bWVudCx7Zm9jdXNpbjoiX2hhbmRsZURvY3VtZW50Rm9jdXNJbiJ9KX0sX2VuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLm9wdGlvbnMsZT1kLndyYXBwZXJDbGFzcyxmPXtzY3JlZW46YSgiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4gIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktb3ZlcmxheS0iLGQub3ZlcmxheVRoZW1lKSsiJz48L2Rpdj4iKSxwbGFjZWhvbGRlcjphKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OiBub25lOyc+PCEtLSBwbGFjZWhvbGRlciAtLT48L2Rpdj4iKSxjb250YWluZXI6YSgiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZSIrKGU/IiAiK2U6IiIpKyInPjwvZGl2PiIpfSxnPXRoaXMuZG9jdW1lbnRbMF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3JldHVybiBnLmFwcGVuZENoaWxkKGYuc2NyZWVuWzBdKSxnLmFwcGVuZENoaWxkKGYuY29udGFpbmVyWzBdKSxjJiYoZi5zY3JlZW4uYXR0cigiaWQiLGMrIi1zY3JlZW4iKSxmLmNvbnRhaW5lci5hdHRyKCJpZCIsYysiLXBvcHVwIiksZi5wbGFjZWhvbGRlci5hdHRyKCJpZCIsYysiLXBsYWNlaG9sZGVyIikuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIitjKyIgLS0+IikpLHRoaXMuX3BhZ2VbMF0uYXBwZW5kQ2hpbGQoZyksZi5wbGFjZWhvbGRlci5pbnNlcnRBZnRlcihiKSxiLmRldGFjaCgpLmFkZENsYXNzKCJ1aS1wb3B1cCAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsZC50aGVtZSkrIiAiKyhkLnNoYWRvdz8idWktb3ZlcmxheS1zaGFkb3cgIjoiIikrKGQuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSkuYXBwZW5kVG8oZi5jb250YWluZXIpLGZ9LF9lYXRFdmVudEFuZENsb3NlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMuZGlzbWlzc2libGUmJnRoaXMuY2xvc2UoKSwhMX0sX3Jlc2l6ZVNjcmVlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLnNjcmVlbixiPXRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCksYz1hLnJlbW92ZUF0dHIoInN0eWxlIikuaGVpZ2h0KCksZD10aGlzLmRvY3VtZW50LmhlaWdodCgpLTE7ZD5jP2EuaGVpZ2h0KGQpOmI+YyYmYS5oZWlnaHQoYil9LF9oYW5kbGVXaW5kb3dLZXlVcDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5faXNPcGVuJiZiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRT90aGlzLl9lYXRFdmVudEFuZENsb3NlKGIpOnZvaWQgMH0sX2V4cGVjdFJlc2l6ZUV2ZW50OmZ1bmN0aW9uKCl7dmFyIGE9ZSh0aGlzLndpbmRvdyk7aWYodGhpcy5fcmVzaXplRGF0YSl7aWYoYS54PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy54JiZhLnk9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLnkmJmEuY3g9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLmN4JiZhLmN5PT09dGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6dGhpcy5fZGVsYXkoIl9yZXNpemVUaW1lb3V0IiwyMDApLHdpbmRvd0Nvb3JkaW5hdGVzOmF9LCEwfSxfcmVzaXplVGltZW91dDpmdW5jdGlvbigpe3RoaXMuX2lzT3Blbj90aGlzLl9leHBlY3RSZXNpemVFdmVudCgpfHwodGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIiksdGhpcy5yZXBvc2l0aW9uKHtwb3NpdGlvblRvOiJ3aW5kb3cifSksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCkpLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpOih0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKX0sX3N0b3BJZ25vcmluZ1Jlc2l6ZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX2lnbm9yZVJlc2l6ZVRvPTB9LF9pZ25vcmVSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbyYmY2xlYXJUaW1lb3V0KHRoaXMuX2lnbm9yZVJlc2l6ZVRvKSx0aGlzLl9pZ25vcmVSZXNpemVUbz10aGlzLl9kZWxheSgiX3N0b3BJZ25vcmluZ1Jlc2l6ZUV2ZW50cyIsMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbigpe3RoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYoIXRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCkmJiF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3N8fHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIil8fHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlIikucmVtb3ZlQXR0cigic3R5bGUiKSl9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9Yi50YXJnZXQsZT10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGQhPT1lLmNvbnRhaW5lclswXSl7aWYoYz1hKGQpLDA9PT1jLnBhcmVudHMoKS5maWx0ZXIoZS5jb250YWluZXJbMF0pLmxlbmd0aClyZXR1cm4gYSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLm9uZSgiZm9jdXMiLGZ1bmN0aW9uKCl7Yy5ibHVyKCl9KSxlLmZvY3VzRWxlbWVudC5mb2N1cygpLGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExO2UuZm9jdXNFbGVtZW50WzBdPT09ZS5jb250YWluZXJbMF0mJihlLmZvY3VzRWxlbWVudD1jKX10aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKX19LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiPyJub25lIj09PWI/IiI6YStiOmErImluaGVyaXQifSxfYXBwbHlUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3JldHVybiBiJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiksIm5vbmUiIT09YiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbihiKSwibm9uZSI9PT10aGlzLl9mYWxsYmFja1RyYW5zaXRpb24mJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249IiIpLHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pKSksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLGQ9dGhpcy5lbGVtZW50LGU9dGhpcy5fdWkuc2NyZWVuO3JldHVybiBhLndyYXBwZXJDbGFzcyE9PWMmJnRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhiLndyYXBwZXJDbGFzcykuYWRkQ2xhc3MoYS53cmFwcGVyQ2xhc3MpLGEudGhlbWUhPT1jJiZkLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYi50aGVtZSkpLmFkZENsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1ib2R5LSIsYS50aGVtZSkpLGEub3ZlcmxheVRoZW1lIT09YyYmKGUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLW92ZXJsYXktIixiLm92ZXJsYXlUaGVtZSkpLmFkZENsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCJ1aS1vdmVybGF5LSIsYS5vdmVybGF5VGhlbWUpKSx0aGlzLl9pc09wZW4mJmUuYWRkQ2xhc3MoImluIikpLGEuc2hhZG93IT09YyYmZC50b2dnbGVDbGFzcygidWktb3ZlcmxheS1zaGFkb3ciLGEuc2hhZG93KSxhLmNvcm5lcnMhPT1jJiZkLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhLmNvcm5lcnMpLGEudHJhbnNpdGlvbiE9PWMmJih0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGEudHJhbnNpdGlvbikpLGEudG9sZXJhbmNlIT09YyYmdGhpcy5fc2V0VG9sZXJhbmNlKGEudG9sZXJhbmNlKSxhLmRpc2FibGVkIT09YyYmYS5kaXNhYmxlZCYmdGhpcy5jbG9zZSgpLHRoaXMuX3N1cGVyKGEpCn0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbihiKXt2YXIgZCxlPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09Yylzd2l0Y2goZD1TdHJpbmcoYikuc3BsaXQoIiwiKSxhLmVhY2goZCxmdW5jdGlvbihhLGIpe2RbYV09cGFyc2VJbnQoYiwxMCl9KSxkLmxlbmd0aCl7Y2FzZSAxOmlzTmFOKGRbMF0pfHwoZS50PWUucj1lLmI9ZS5sPWRbMF0pO2JyZWFrO2Nhc2UgMjppc05hTihkWzBdKXx8KGUudD1lLmI9ZFswXSksaXNOYU4oZFsxXSl8fChlLmw9ZS5yPWRbMV0pO2JyZWFrO2Nhc2UgNDppc05hTihkWzBdKXx8KGUudD1kWzBdKSxpc05hTihkWzFdKXx8KGUucj1kWzFdKSxpc05hTihkWzJdKXx8KGUuYj1kWzJdKSxpc05hTihkWzNdKXx8KGUubD1kWzNdKX1yZXR1cm4gdGhpcy5fdG9sZXJhbmNlPWUsdGhpc30sX2NsYW1wUG9wdXBXaWR0aDpmdW5jdGlvbihhKXt2YXIgYixjPWUodGhpcy53aW5kb3cpLGQ9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpjLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6Yy5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpjLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifTtyZXR1cm4gYXx8dGhpcy5fdWkuY29udGFpbmVyLmNzcygibWF4LXdpZHRoIixkLmN4KSxiPXtjeDp0aGlzLl91aS5jb250YWluZXIub3V0ZXJXaWR0aCghMCksY3k6dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKX0se3JjOmQsbWVudVNpemU6Yn19LF9jYWxjdWxhdGVGaW5hbExvY2F0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1iLnJjLGY9Yi5tZW51U2l6ZTtyZXR1cm4gYz17bGVmdDpkKGUuY3gsZi5jeCxlLngsYS54KSx0b3A6ZChlLmN5LGYuY3ksZS55LGEueSl9LGMudG9wPU1hdGgubWF4KDAsYy50b3ApLGMudG9wLT1NYXRoLm1pbihjLnRvcCxNYXRoLm1heCgwLGMudG9wK2YuY3ktdGhpcy5kb2N1bWVudC5oZWlnaHQoKSkpLGN9LF9wbGFjZW1lbnRDb29yZHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oYSx0aGlzLl9jbGFtcFBvcHVwV2lkdGgoKSl9LF9jcmVhdGVQcmVyZXF1aXNpdGVzOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmPXRoaXM7ZT17c2NyZWVuOmEuRGVmZXJyZWQoKSxjb250YWluZXI6YS5EZWZlcnJlZCgpfSxlLnNjcmVlbi50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmIoKX0pLGUuY29udGFpbmVyLnRoZW4oZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxdWlzaXRlcyYmYygpfSksYS53aGVuKGUuc2NyZWVuLGUuY29udGFpbmVyKS5kb25lKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJihmLl9wcmVyZXF1aXNpdGVzPW51bGwsZCgpKX0pLGYuX3ByZXJlcXVpc2l0ZXM9ZX0sX2FuaW1hdGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLmFkZENsYXNzKGIuc2NyZWVuQ2xhc3NUb0FkZCksYi5wcmVyZXF1aXNpdGVzLnNjcmVlbi5yZXNvbHZlKCksYi50cmFuc2l0aW9uJiYibm9uZSIhPT1iLnRyYW5zaXRpb24mJihiLmFwcGx5VHJhbnNpdGlvbiYmdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGIudHJhbnNpdGlvbiksdGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKT92b2lkIHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyhiLmNvbnRhaW5lckNsYXNzVG9BZGQpLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSkuYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShiLnByZXJlcXVpc2l0ZXMuY29udGFpbmVyLCJyZXNvbHZlIikpOih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKSx2b2lkIGIucHJlcmVxdWlzaXRlcy5jb250YWluZXIucmVzb2x2ZSgpKX0sX2Rlc2lyZWRDb29yZHM6ZnVuY3Rpb24oYil7dmFyIGMsZD1udWxsLGY9ZSh0aGlzLndpbmRvdyksZz1iLngsaD1iLnksaT1iLnBvc2l0aW9uVG87aWYoaSYmIm9yaWdpbiIhPT1pKWlmKCJ3aW5kb3ciPT09aSlnPWYuY3gvMitmLngsaD1mLmN5LzIrZi55O2Vsc2V7dHJ5e2Q9YShpKX1jYXRjaChqKXtkPW51bGx9ZCYmKGQuZmlsdGVyKCI6dmlzaWJsZSIpLDA9PT1kLmxlbmd0aCYmKGQ9bnVsbCkpfXJldHVybiBkJiYoYz1kLm9mZnNldCgpLGc9Yy5sZWZ0K2Qub3V0ZXJXaWR0aCgpLzIsaD1jLnRvcCtkLm91dGVySGVpZ2h0KCkvMiksKCJudW1iZXIiIT09YS50eXBlKGcpfHxpc05hTihnKSkmJihnPWYuY3gvMitmLngpLCgibnVtYmVyIiE9PWEudHlwZShoKXx8aXNOYU4oaCkpJiYoaD1mLmN5LzIrZi55KSx7eDpnLHk6aH19LF9yZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe2E9e3g6YS54LHk6YS55LHBvc2l0aW9uVG86YS5wb3NpdGlvblRvfSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVwb3NpdGlvbiIsYyxhKSx0aGlzLl91aS5jb250YWluZXIub2Zmc2V0KHRoaXMuX3BsYWNlbWVudENvb3Jkcyh0aGlzLl9kZXNpcmVkQ29vcmRzKGEpKSl9LHJlcG9zaXRpb246ZnVuY3Rpb24oYSl7dGhpcy5faXNPcGVuJiZ0aGlzLl9yZXBvc2l0aW9uKGEpfSxfb3BlblByZXJlcXVpc2l0ZXNDb21wbGV0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpO3RoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5faXNPcGVuPSEwLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3VpLmNvbnRhaW5lci5hdHRyKCJ0YWJpbmRleCIsIjAiKS5mb2N1cygpLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpLGEmJnRoaXMuZG9jdW1lbnQuZmluZCgiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9JyIrYSsiJ10iKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCksdGhpcy5fdHJpZ2dlcigiYWZ0ZXJvcGVuIil9LF9vcGVuOmZ1bmN0aW9uKGIpe3ZhciBjPWEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxiKSxkPWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOVwuXSspLyksYz0hIWImJmJbMV0sZD1hLm1hdGNoKC9BbmRyb2lkIChcZCsoPzpcLlxkKykpLyksZT0hIWQmJmRbMV0sZj1hLmluZGV4T2YoIkNocm9tZSIpPi0xO3JldHVybiBudWxsIT09ZCYmIjQuMCI9PT1lJiZjJiZjPjUzNC4xMyYmIWY/ITA6ITF9KCk7dGhpcy5fY3JlYXRlUHJlcmVxdWlzaXRlcyhhLm5vb3AsYS5ub29wLGEucHJveHkodGhpcywiX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGUiKSksdGhpcy5fY3VycmVudFRyYW5zaXRpb249Yy50cmFuc2l0aW9uLHRoaXMuX2FwcGx5VHJhbnNpdGlvbihjLnRyYW5zaXRpb24pLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtdHJ1bmNhdGUiKSx0aGlzLl9yZXBvc2l0aW9uKGMpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmZCYmdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOiEwLHRyYW5zaXRpb246Yy50cmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6IiIsc2NyZWVuQ2xhc3NUb0FkZDoiaW4iLGNvbnRhaW5lckNsYXNzVG9BZGQ6ImluIixhcHBseVRyYW5zaXRpb246ITEscHJlcmVxdWlzaXRlczp0aGlzLl9wcmVyZXF1aXNpdGVzfSl9LF9jbG9zZVByZXJlcXVpc2l0ZVNjcmVlbjpmdW5jdGlvbigpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygib3V0IikuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0sX2Nsb3NlUHJlcmVxdWlzaXRlQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJyZXZlcnNlIG91dCIpLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGUiKS5yZW1vdmVBdHRyKCJzdHlsZSIpfSxfY2xvc2VQcmVyZXF1aXNpdGVzRG9uZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3VpLmNvbnRhaW5lcixkPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpO2IucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxhLm1vYmlsZS5wb3B1cC5hY3RpdmU9YyxhKCI6Zm9jdXMiLGJbMF0pLmFkZChiWzBdKS5ibHVyKCksZCYmdGhpcy5kb2N1bWVudC5maW5kKCJbYXJpYS1oYXNwb3B1cD0ndHJ1ZSddW2FyaWEtb3ducz0nIitkKyInXSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKSx0aGlzLl90cmlnZ2VyKCJhZnRlcmNsb3NlIil9LF9jbG9zZTpmdW5jdGlvbihiKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fY3JlYXRlUHJlcmVxdWlzaXRlcyhhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXVpc2l0ZVNjcmVlbiIpLGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxdWlzaXRlQ29udGFpbmVyIiksYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXF1aXNpdGVzRG9uZSIpKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOnRoaXMuX3VpLnNjcmVlbi5oYXNDbGFzcygiaW4iKSx0cmFuc2l0aW9uOmI/Im5vbmUiOnRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6ImluIixzY3JlZW5DbGFzc1RvQWRkOiJvdXQiLGNvbnRhaW5lckNsYXNzVG9BZGQ6InJldmVyc2Ugb3V0IixhcHBseVRyYW5zaXRpb246ITAscHJlcmVxdWlzaXRlczp0aGlzLl9wcmVyZXF1aXNpdGVzfSl9LF91bmVuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLl9zZXRPcHRpb25zKHt0aGVtZTphLm1vYmlsZS5wb3B1cC5wcm90b3R5cGUub3B0aW9ucy50aGVtZX0pLHRoaXMuZWxlbWVudC5kZXRhY2goKS5pbnNlcnRBZnRlcih0aGlzLl91aS5wbGFjZWhvbGRlcikucmVtb3ZlQ2xhc3MoInVpLXBvcHVwIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwgdWktYm9keS1pbmhlcml0IiksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZSgpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl91aS5wbGFjZWhvbGRlci5yZW1vdmUoKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXM/KHRoaXMuZWxlbWVudC5vbmUoInBvcHVwYWZ0ZXJjbG9zZSIsYS5wcm94eSh0aGlzLCJfdW5lbmhhbmNlIikpLHRoaXMuY2xvc2UoKSk6dGhpcy5fdW5lbmhhbmNlKCksdGhpc30sX2Nsb3NlUG9wdXA6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zLGg9ITE7YyYmYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8YS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpc3x8KGIuc2Nyb2xsVG8oMCx0aGlzLl9zY3JvbGxUb3ApLGMmJiJwYWdlYmVmb3JlY2hhbmdlIj09PWMudHlwZSYmZCYmKGU9InN0cmluZyI9PXR5cGVvZiBkLnRvUGFnZT9kLnRvUGFnZTpkLnRvUGFnZS5qcW1EYXRhKCJ1cmwiKSxlPWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZSksZj1lLnBhdGhuYW1lK2Uuc2VhcmNoK2UuaGFzaCx0aGlzLl9teVVybCE9PWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGYpP2g9ITA6Yy5wcmV2ZW50RGVmYXVsdCgpKSx0aGlzLndpbmRvdy5vZmYoZy5jbG9zZUV2ZW50cyksdGhpcy5lbGVtZW50LnVuZGVsZWdhdGUoZy5jbG9zZUxpbmtTZWxlY3RvcixnLmNsb3NlTGlua0V2ZW50cyksdGhpcy5fY2xvc2UoaCkpfSxfYmluZENvbnRhaW5lckNsb3NlOmZ1bmN0aW9uKCl7dGhpcy53aW5kb3cub24odGhpcy5vcHRpb25zLmNsb3NlRXZlbnRzLGEucHJveHkodGhpcywiX2Nsb3NlUG9wdXAiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aS5jb250YWluZXJ9LG9wZW46ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9dGhpcyxqPXRoaXMub3B0aW9ucztyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlfHxqLmRpc2FibGVkP3RoaXM6KGEubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSxqLmhpc3Rvcnk/KGg9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSxkPWEubW9iaWxlLmRpYWxvZ0hhc2hLZXksZT1hLm1vYmlsZS5hY3RpdmVQYWdlLGY9ZT9lLmhhc0NsYXNzKCJ1aS1kaWFsb2ciKTohMSx0aGlzLl9teVVybD1jPWguZ2V0QWN0aXZlKCkudXJsLChnPWMuaW5kZXhPZihkKT4tMSYmIWYmJmguYWN0aXZlSW5kZXg+MCk/KGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCksdGhpcyk6KC0xIT09Yy5pbmRleE9mKGQpfHxmP2M9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaCtkOmMrPWMuaW5kZXhPZigiIyIpPi0xP2Q6IiMiK2QsMD09PWguYWN0aXZlSW5kZXgmJmM9PT1oLmluaXRpYWxEc3QmJihjKz1kKSx0aGlzLndpbmRvdy5vbmUoImJlZm9yZW5hdmlnYXRlIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLHRoaXMudXJsQWx0ZXJlZD0hMCxhLm1vYmlsZS5uYXZpZ2F0ZShjLHtyb2xlOiJkaWFsb2cifSksdGhpcykpOihpLl9vcGVuKGIpLGkuX2JpbmRDb250YWluZXJDbG9zZSgpLGkuZWxlbWVudC5kZWxlZ2F0ZShqLmNsb3NlTGlua1NlbGVjdG9yLGouY2xvc2VMaW5rRXZlbnRzLGZ1bmN0aW9uKGEpe2kuY2xvc2UoKSxhLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzKSl9LGNsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXM/dGhpczoodGhpcy5fc2Nyb2xsVG9wPXRoaXMud2luZG93LnNjcm9sbFRvcCgpLHRoaXMub3B0aW9ucy5oaXN0b3J5JiZ0aGlzLnVybEFsdGVyZWQ/KGEubW9iaWxlLmJhY2soKSx0aGlzLnVybEFsdGVyZWQ9ITEpOnRoaXMuX2Nsb3NlUG9wdXAoKSx0aGlzKX19KSxhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rPWZ1bmN0aW9uKGIpe3ZhciBjLGQ9YS5tb2JpbGUucGF0aCxlPWEoZC5oYXNoVG9TZWxlY3RvcihkLnBhcnNlVXJsKGIuYXR0cigiaHJlZiIpKS5oYXNoKSkuZmlyc3QoKTtlLmxlbmd0aD4wJiZlLmRhdGEoIm1vYmlsZS1wb3B1cCIpJiYoYz1iLm9mZnNldCgpLGUucG9wdXAoIm9wZW4iLHt4OmMubGVmdCtiLm91dGVyV2lkdGgoKS8yLHk6Yy50b3ArYi5vdXRlckhlaWdodCgpLzIsdHJhbnNpdGlvbjpiLmpxbURhdGEoInRyYW5zaXRpb24iKSxwb3NpdGlvblRvOmIuanFtRGF0YSgicG9zaXRpb24tdG8iKX0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGEubW9iaWxlLmRvY3VtZW50Lm9uKCJwYWdlYmVmb3JlY2hhbmdlIixmdW5jdGlvbihiLGMpeyJwb3B1cCI9PT1jLm9wdGlvbnMucm9sZSYmKGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbmsoYy5vcHRpb25zLmxpbmspLGIucHJldmVudERlZmF1bHQoKSl9KX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgZD0iLnVpLWRpc2FibGVkLC51aS1zdGF0ZS1kaXNhYmxlZCwudWktbGktZGl2aWRlciwudWktc2NyZWVuLWhpZGRlbiw6anFtRGF0YShyb2xlPSdwbGFjZWhvbGRlcicpIixlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hW2MrIkFsbCJdKCkubm90KGQpLmZpcnN0KCk7ZS5sZW5ndGgmJihiLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKX07YS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixhLm1vYmlsZS5zZWxlY3RtZW51LHtfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBhLm5hdGl2ZU1lbnU9YS5uYXRpdmVNZW51fHx0aGlzLmVsZW1lbnQucGFyZW50cygiOmpxbURhdGEocm9sZT0ncG9wdXAnKSw6bW9iaWxlLXBvcHVwIikubGVuZ3RoPjAsdGhpcy5fc3VwZXIoKX0sX2hhbmRsZVNlbGVjdEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmJsdXIoKSx0aGlzLmJ1dHRvbi5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSx0aGlzLl9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duKGEpfSxfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuaXNPcGVufHwoInZjbGljayI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKHRoaXMuX2RlY2lkZUZvcm1hdCgpLCJvdmVybGF5Ij09PXRoaXMubWVudVR5cGU/dGhpcy5idXR0b24uYXR0cigiaHJlZiIsIiMiK3RoaXMucG9wdXBJZCkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJwb3B1cCIpOnRoaXMuYnV0dG9uLmF0dHIoImhyZWYiLCIjIit0aGlzLmRpYWxvZ0lkKS5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrInJlbCIsImRpYWxvZyIpLHRoaXMuaXNPcGVuPSEwKX0sX2hhbmRsZUxpc3RGb2N1czpmdW5jdGlvbihiKXt2YXIgYz0iZm9jdXNpbiI9PT1iLnR5cGU/e3RhYmluZGV4OiIwIixldmVudDoidm1vdXNlb3ZlciJ9Ont0YWJpbmRleDoiLTEiLGV2ZW50OiJ2bW91c2VvdXQifTthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsYy50YWJpbmRleCkudHJpZ2dlcihjLmV2ZW50KX0sX2hhbmRsZUxpc3RLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGUoZCxjLCJwcmV2IiksITE7Y2FzZSA0MDpyZXR1cm4gZShkLGMsIm5leHQiKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSwhMX19LF9oYW5kbGVNZW51UGFnZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLnRoaXNQYWdlLnBhZ2UoImJpbmRSZW1vdmUiKX0sX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4ib3ZlcmxheSI9PT10aGlzLm1lbnVUeXBlPyh0aGlzLmNsb3NlKCksITEpOnZvaWQgMH0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHc9dGhpcy5vcHRpb25zO3JldHVybiB3Lm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoKToodj10aGlzLGM9dGhpcy5zZWxlY3RJZCxkPWMrIi1saXN0Ym94IixlPWMrIi1kaWFsb2ciLGY9dGhpcy5sYWJlbCxnPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLGg9dGhpcy5lbGVtZW50WzBdLm11bHRpcGxlLGk9YysiLW1lbnUiLGo9dy50aGVtZT8iIGRhdGEtIithLm1vYmlsZS5ucysidGhlbWU9JyIrdy50aGVtZSsiJyI6IiIsaz13Lm92ZXJsYXlUaGVtZXx8dy50aGVtZXx8bnVsbCxsPWs/IiBkYXRhLSIrYS5tb2JpbGUubnMrIm92ZXJsYXktdGhlbWU9JyIraysiJyI6IiIsbT13LmRpdmlkZXJUaGVtZSYmaD8iIGRhdGEtIithLm1vYmlsZS5ucysiZGl2aWRlci10aGVtZT0nIit3LmRpdmlkZXJUaGVtZSsiJyI6IiIsbj1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBjbGFzcz0ndWktc2VsZWN0bWVudScgaWQ9JyIrZSsiJyIraitsKyI+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZi5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj48L2Rpdj48ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+Iiksbz1hKCI8ZGl2IGlkPSciK2QrIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPjwvZGl2PiIpLmluc2VydEFmdGVyKHRoaXMuc2VsZWN0KS5wb3B1cCh7dGhlbWU6dy5vdmVybGF5VGhlbWV9KSxwPWEoIjx1bCBjbGFzcz0ndWktc2VsZWN0bWVudS1saXN0JyBpZD0nIitpKyInIHJvbGU9J2xpc3Rib3gnIGFyaWEtbGFiZWxsZWRieT0nIit0aGlzLmJ1dHRvbklkKyInIitqK20rIj48L3VsPiIpLmFwcGVuZFRvKG8pLHE9YSgiPGRpdiBjbGFzcz0ndWktaGVhZGVyIHVpLWJhci0iKyh3LnRoZW1lP3cudGhlbWU6ImluaGVyaXQiKSsiJz48L2Rpdj4iKS5wcmVwZW5kVG8obykscj1hKCI8aDEgY2xhc3M9J3VpLXRpdGxlJz48L2gxPiIpLmFwcGVuZFRvKHEpLHRoaXMuaXNNdWx0aXBsZSYmKHU9YSgiPGE+Iix7cm9sZToiYnV0dG9uIix0ZXh0OncuY2xvc2VUZXh0LGhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0biB1aS1jb3JuZXItYWxsIHVpLWJ0bi1sZWZ0IHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1pY29uLWRlbGV0ZSJ9KS5hcHBlbmRUbyhxKSksYS5leHRlbmQodGhpcyx7c2VsZWN0SWQ6YyxtZW51SWQ6aSxwb3B1cElkOmQsZGlhbG9nSWQ6ZSx0aGlzUGFnZTpnLG1lbnVQYWdlOm4sbGFiZWw6Zixpc011bHRpcGxlOmgsdGhlbWU6dy50aGVtZSxsaXN0Ym94Om8sbGlzdDpwLGhlYWRlcjpxLGhlYWRlclRpdGxlOnIsaGVhZGVyQ2xvc2U6dSxtZW51UGFnZUNvbnRlbnQ6cyxtZW51UGFnZUNsb3NlOnQscGxhY2Vob2xkZXI6IiJ9KSx0aGlzLnJlZnJlc2goKSx0aGlzLl9vcmlnVGFiSW5kZXg9PT1iJiYodGhpcy5fb3JpZ1RhYkluZGV4PW51bGw9PT10aGlzLnNlbGVjdFswXS5nZXRBdHRyaWJ1dGUoInRhYmluZGV4Iik/ITE6dGhpcy5zZWxlY3QuYXR0cigidGFiaW5kZXgiKSksdGhpcy5zZWxlY3QuYXR0cigidGFiaW5kZXgiLCItMSIpLHRoaXMuX29uKHRoaXMuc2VsZWN0LHtmb2N1czoiX2hhbmRsZVNlbGVjdEZvY3VzIn0pLHRoaXMuX29uKHRoaXMuYnV0dG9uLHt2Y2xpY2s6Il9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duIn0pLHRoaXMubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLHRoaXMuX29uKHRoaXMubGlzdCx7Zm9jdXNpbjoiX2hhbmRsZUxpc3RGb2N1cyIsZm9jdXNvdXQ6Il9oYW5kbGVMaXN0Rm9jdXMiLGtleWRvd246Il9oYW5kbGVMaXN0S2V5ZG93biJ9KSx0aGlzLmxpc3QuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsLnVpLXN0YXRlLWRpc2FibGVkLC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz12LnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGQ9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsIm9wdGlvbi1pbmRleCIpLGU9di5fc2VsZWN0T3B0aW9ucygpLmVxKGQpWzBdO2Uuc2VsZWN0ZWQ9di5pc011bHRpcGxlPyFlLnNlbGVjdGVkOiEwLHYuaXNNdWx0aXBsZSYmYSh0aGlzKS5maW5kKCJhIikudG9nZ2xlQ2xhc3MoInVpLWNoZWNrYm94LW9uIixlLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktY2hlY2tib3gtb2ZmIiwhZS5zZWxlY3RlZCksKHYuaXNNdWx0aXBsZXx8YyE9PWQpJiZ2LnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSx2LmlzTXVsdGlwbGU/di5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShkKS5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpOnYuY2xvc2UoKSxiLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLl9vbih0aGlzLm1lbnVQYWdlLHtwYWdlaGlkZToiX2hhbmRsZU1lbnVQYWdlSGlkZSJ9KSx0aGlzLl9vbih0aGlzLmxpc3Rib3gse3BvcHVwYWZ0ZXJjbG9zZToiY2xvc2UifSksdGhpcy5pc011bHRpcGxlJiZ0aGlzLl9vbih0aGlzLmhlYWRlckNsb3NlLHtjbGljazoiX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2sifSksdGhpcyl9LF9pc1JlYnVpbGRSZXF1aXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGlzdC5maW5kKCJsaSIpLGI9dGhpcy5fc2VsZWN0T3B0aW9ucygpLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTtyZXR1cm4gYi50ZXh0KCkhPT1hLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIil9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGMsZDtyZXR1cm4gdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoYik6KGM9dGhpcywoYnx8dGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSkmJmMuX2J1aWxkTGlzdCgpLGQ9dGhpcy5zZWxlY3RlZEluZGljZXMoKSxjLnNldEJ1dHRvblRleHQoKSxjLnNldEJ1dHRvbkNvdW50KCksdm9pZCBjLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmZpbmQoImEiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZW5kKCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7aWYoYS5pbkFycmF5KGIsZCk+LTEpe3ZhciBlPWEodGhpcyk7ZS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksYy5pc011bHRpcGxlP2UuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktY2hlY2tib3gtb24iKTplLmhhc0NsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik/ZS5uZXh0KCkuZmluZCgiYSIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTplLmZpbmQoImEiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9fSkpfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuKXt2YXIgYT10aGlzOyJwYWdlIj09PWEubWVudVR5cGU/KGEubWVudVBhZ2UuZGlhbG9nKCJjbG9zZSIpLGEubGlzdC5hcHBlbmRUbyhhLmxpc3Rib3gpKTphLmxpc3Rib3gucG9wdXAoImNsb3NlIiksYS5fZm9jdXNCdXR0b24oKSxhLmlzT3Blbj0hMX19LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5jbGljaygpfSxfZm9jdXNNZW51SXRlbTpmdW5jdGlvbigpe3ZhciBiPXRoaXMubGlzdC5maW5kKCJhLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOzA9PT1iLmxlbmd0aCYmKGI9dGhpcy5saXN0LmZpbmQoImxpOm5vdCgiK2QrIikgYS51aS1idG4iKSksYi5maXJzdCgpLmZvY3VzKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy53aW5kb3csZD1iLmxpc3QucGFyZW50KCksZT1kLm91dGVySGVpZ2h0KCksZj1jLnNjcm9sbFRvcCgpLGc9Yi5idXR0b24ub2Zmc2V0KCkudG9wLGg9Yy5oZWlnaHQoKTtlPmgtODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wPyhiLm1lbnVQYWdlLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxiLm1lbnVQYWdlQ29udGVudD1iLm1lbnVQYWdlLmZpbmQoIi51aS1jb250ZW50IiksYi5tZW51UGFnZUNsb3NlPWIubWVudVBhZ2UuZmluZCgiLnVpLWhlYWRlciBhIiksYi50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLDA9PT1mJiZnPmgmJmIudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLGcpfSksYi5tZW51UGFnZS5vbmUoe3BhZ2VzaG93OmEucHJveHkodGhpcywiX2ZvY3VzTWVudUl0ZW0iKSxwYWdlaGlkZTphLnByb3h5KHRoaXMsImNsb3NlIil9KSxiLm1lbnVUeXBlPSJwYWdlIixiLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoYi5saXN0KSxiLm1lbnVQYWdlLmZpbmQoImRpdiAudWktdGl0bGUiKS50ZXh0KGIubGFiZWwudGV4dCgpKSk6KGIubWVudVR5cGU9Im92ZXJsYXkiLGIubGlzdGJveC5vbmUoe3BvcHVwYWZ0ZXJvcGVuOmEucHJveHkodGhpcywiX2ZvY3VzTWVudUl0ZW0iKX0pKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscT10aGlzLHI9dGhpcy5vcHRpb25zLHM9dGhpcy5wbGFjZWhvbGRlcix0PSEwLHU9ImZhbHNlIix2PSJkYXRhLSIrYS5tb2JpbGUubnMsdz12KyJvcHRpb24taW5kZXgiLHg9disiaWNvbiIseT12KyJyb2xlIix6PXYrInBsYWNlaG9sZGVyIixBPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLEI9ITE7Zm9yKHEubGlzdC5lbXB0eSgpLmZpbHRlcigiLnVpLWxpc3R2aWV3IikubGlzdHZpZXcoImRlc3Ryb3kiKSxiPXRoaXMuX3NlbGVjdE9wdGlvbnMoKSxkPWIubGVuZ3RoLGU9dGhpcy5zZWxlY3RbMF0sZz0wO2Q+ZztnKyssQj0hMSloPWJbZ10saT1hKGgpLGkuaGFzQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKXx8KGo9aC5wYXJlbnROb2RlLGs9aS50ZXh0KCksbD1jLmNyZWF0ZUVsZW1lbnQoImEiKSxtPVtdLGwuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLGwuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShrKSksaiE9PWUmJiJvcHRncm91cCI9PT1qLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihuPWouZ2V0QXR0cmlidXRlKCJsYWJlbCIpLG4hPT1mJiYobz1jLmNyZWF0ZUVsZW1lbnQoImxpIiksby5zZXRBdHRyaWJ1dGUoeSwibGlzdC1kaXZpZGVyIiksby5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxvLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLG8uYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShuKSksQS5hcHBlbmRDaGlsZChvKSxmPW4pKSwhdHx8aC5nZXRBdHRyaWJ1dGUoInZhbHVlIikmJjAhPT1rLmxlbmd0aCYmIWkuanFtRGF0YSgicGxhY2Vob2xkZXIiKXx8KHQ9ITEsQj0hMCxudWxsPT09aC5nZXRBdHRyaWJ1dGUoeikmJih0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHI9ITApLGguc2V0QXR0cmlidXRlKHosITApLHIuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZtLnB1c2goInVpLXNjcmVlbi1oaWRkZW4iKSxzIT09ayYmKHM9cS5wbGFjZWhvbGRlcj1rKSkscD1jLmNyZWF0ZUVsZW1lbnQoImxpIiksaC5kaXNhYmxlZCYmKG0ucHVzaCgidWktc3RhdGUtZGlzYWJsZWQiKSxwLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsITApKSxwLnNldEF0dHJpYnV0ZSh3LGcpLHAuc2V0QXR0cmlidXRlKHgsdSksQiYmcC5zZXRBdHRyaWJ1dGUoeiwhMCkscC5jbGFzc05hbWU9bS5qb2luKCIgIikscC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxsLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLHRoaXMuaXNNdWx0aXBsZSYmYShsKS5hZGRDbGFzcygidWktYnRuIHVpLWNoZWNrYm94LW9mZiB1aS1idG4taWNvbi1yaWdodCIpLHAuYXBwZW5kQ2hpbGQobCksQS5hcHBlbmRDaGlsZChwKSk7cS5saXN0WzBdLmFwcGVuZENoaWxkKEEpLHRoaXMuaXNNdWx0aXBsZXx8cy5sZW5ndGg/dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpOnRoaXMuaGVhZGVyLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIikscS5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoKTphKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOnRoaXMuYnV0dG9uSWQsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjp0aGlzLm1lbnVJZH0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5uYXRpdmVNZW51fHwodGhpcy5jbG9zZSgpLHRoaXMuX29yaWdUYWJJbmRleCE9PWImJih0aGlzLl9vcmlnVGFiSW5kZXghPT0hMT90aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ1RhYkluZGV4KTp0aGlzLnNlbGVjdC5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpKSx0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHImJnRoaXMuX3NlbGVjdE9wdGlvbnMoKS5yZW1vdmVBdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInBsYWNlaG9sZGVyIiksdGhpcy5saXN0Ym94LnJlbW92ZSgpLHRoaXMubWVudVBhZ2UucmVtb3ZlKCkpLHRoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPWI/YjpbXTtyZXR1cm4gYy5wdXNoKCJ1aS1idG4iKSxhLnRoZW1lJiZjLnB1c2goInVpLWJ0bi0iK2EudGhlbWUpLGEuaWNvbiYmKGM9Yy5jb25jYXQoWyJ1aS1pY29uLSIrYS5pY29uLCJ1aS1idG4taWNvbi0iK2EuaWNvbnBvc10pLGEuaWNvbnNoYWRvdyYmYy5wdXNoKCJ1aS1zaGFkb3ctaWNvbiIpKSxhLmlubGluZSYmYy5wdXNoKCJ1aS1idG4taW5saW5lIiksYS5zaGFkb3cmJmMucHVzaCgidWktc2hhZG93IiksYS5jb3JuZXJzJiZjLnB1c2goInVpLWNvcm5lci1hbGwiKSxhLm1pbmkmJmMucHVzaCgidWktbWluaSIpLGN9ZnVuY3Rpb24gZChhKXt2YXIgYyxkLGUsZz0hMSxoPSEwLGk9e2ljb246IiIsaW5saW5lOiExLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25zaGFkb3c6ITEsbWluaTohMX0saj1bXTtmb3IoYT1hLnNwbGl0KCIgIiksYz0wO2M8YS5sZW5ndGg7YysrKWU9ITAsZD1mW2FbY11dLGQhPT1iPyhlPSExLGlbZF09ITApOjA9PT1hW2NdLmluZGV4T2YoInVpLWJ0bi1pY29uLSIpPyhlPSExLGg9ITEsaS5pY29ucG9zPWFbY10uc3Vic3RyaW5nKDEyKSk6MD09PWFbY10uaW5kZXhPZigidWktaWNvbi0iKT8oZT0hMSxpLmljb249YVtjXS5zdWJzdHJpbmcoOCkpOjA9PT1hW2NdLmluZGV4T2YoInVpLWJ0bi0iKSYmOD09PWFbY10ubGVuZ3RoPyhlPSExLGkudGhlbWU9YVtjXS5zdWJzdHJpbmcoNykpOiJ1aS1idG4iPT09YVtjXSYmKGU9ITEsZz0hMCksZSYmai5wdXNoKGFbY10pO3JldHVybiBoJiYoaS5pY29uPSIiKSx7b3B0aW9uczppLHVua25vd25DbGFzc2VzOmosYWxyZWFkeUVuaGFuY2VkOmd9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX12YXIgZj17InVpLXNoYWRvdyI6InNoYWRvdyIsInVpLWNvcm5lci1hbGwiOiJjb3JuZXJzIiwidWktYnRuLWlubGluZSI6ImlubGluZSIsInVpLXNoYWRvdy1pY29uIjoiaWNvbnNoYWRvdyIsInVpLW1pbmkiOiJtaW5pIn0sZz1mdW5jdGlvbigpe3ZhciBjPWEubW9iaWxlLmdldEF0dHJpYnV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG51bGw9PWM/YjpjfSxoPS9bQS1aXS9nO2EuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGYsaSl7dmFyIGosayxsLG0sbixvPWEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzO2ZvcihqPTA7ajx0aGlzLmxlbmd0aDtqKyspe2lmKGw9dGhpc1tqXSxrPWk/e2FscmVhZHlFbmhhbmNlZDohMSx1bmtub3duQ2xhc3NlczpbXX06ZChsLmNsYXNzTmFtZSksbT1hLmV4dGVuZCh7fSxrLmFscmVhZHlFbmhhbmNlZD9rLm9wdGlvbnM6e30sZiksIWsuYWxyZWFkeUVuaGFuY2VkKWZvcihuIGluIG8pbVtuXT09PWImJihtW25dPWcobCxuLnJlcGxhY2UoaCxlKSkpO2wuY2xhc3NOYW1lPWMoYS5leHRlbmQoe30sbyxtKSxrLnVua25vd25DbGFzc2VzKS5qb2luKCIgIiksImJ1dHRvbiIhPT1sLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmbC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJidXR0b24iKX1yZXR1cm4gdGhpc30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9e2ljb246IiIsaWNvbnBvczoibGVmdCIsdGhlbWU6bnVsbCxpbmxpbmU6ITEsc2hhZG93OiEwLGNvcm5lcnM6ITAsaWNvbnNoYWRvdzohMSxtaW5pOiExfSxhLmV4dGVuZChhLmZuLmJ1dHRvbk1hcmt1cCx7aW5pdFNlbGVjdG9yOiJhOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhLCBidXR0b24ifSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jb250cm9sZ3JvdXAiLGEuZXh0ZW5kKHtvcHRpb25zOntlbmhhbmNlZDohMSx0aGVtZTpudWxsLHNoYWRvdzohMSxjb3JuZXJzOiEwLGV4Y2x1ZGVJbnZpc2libGU6ITAsdHlwZToidmVydGljYWwiLG1pbmk6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7YS5mbi5idXR0b25NYXJrdXAmJnRoaXMuZWxlbWVudC5maW5kKGEuZm4uYnV0dG9uTWFya3VwLmluaXRTZWxlY3RvcikuYnV0dG9uTWFya3VwKCksYS5lYWNoKHRoaXMuX2NoaWxkV2lkZ2V0cyxhLnByb3h5KGZ1bmN0aW9uKGIsYyl7YS5tb2JpbGVbY10mJnRoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlW2NdLmluaXRTZWxlY3Rvcikubm90KGEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpKVtjXSgpfSx0aGlzKSksYS5leHRlbmQodGhpcyx7X3VpOm51bGwsX2luaXRpYWxSZWZyZXNoOiEwfSksdGhpcy5fdWk9Yy5lbmhhbmNlZD97Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1sYWJlbCIpLmNoaWxkcmVuKCksY2hpbGRXcmFwcGVyOmIuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX06dGhpcy5fZW5oYW5jZSgpfSxfY2hpbGRXaWRnZXRzOlsiY2hlY2tib3hyYWRpbyIsInNlbGVjdG1lbnUiLCJidXR0b24iXSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/Im5vbmUiPT09YT8iIjoidWktZ3JvdXAtdGhlbWUtIithOiIifSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPXtncm91cExlZ2VuZDpiLmNoaWxkcmVuKCJsZWdlbmQiKSxjaGlsZFdyYXBwZXI6Yi5hZGRDbGFzcygidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iKygiaG9yaXpvbnRhbCI9PT1jLnR5cGU/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCIpKyIgIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihjLnRoZW1lKSsiICIrKGMuY29ybmVycz8idWktY29ybmVyLWFsbCAiOiIiKSsoYy5taW5pPyJ1aS1taW5pICI6IiIpKS53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyAiKyhjLnNoYWRvdz09PSEwPyJ1aS1zaGFkb3ciOiIiKSsiJz48L2Rpdj4iKS5jaGlsZHJlbigpfTtyZXR1cm4gZC5ncm91cExlZ2VuZC5sZW5ndGg+MCYmYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz48L2Rpdj4iKS5hcHBlbmQoZC5ncm91cExlZ2VuZCkucHJlcGVuZFRvKGIpLGR9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzLmVsZW1lbnQ7cmV0dXJuIGEudHlwZSE9PWImJihlLnJlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB1aS1jb250cm9sZ3JvdXAtdmVydGljYWwiKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLSIrKCJob3Jpem9udGFsIj09PWEudHlwZT8iaG9yaXpvbnRhbCI6InZlcnRpY2FsIikpLGM9ITApLGEudGhlbWUhPT1iJiZlLnJlbW92ZUNsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGEudGhlbWUpKSxhLmNvcm5lcnMhPT1iJiZlLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhLmNvcm5lcnMpLGEubWluaSE9PWImJmUudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEubWluaSksYS5zaGFkb3chPT1iJiZ0aGlzLl91aS5jaGlsZFdyYXBwZXIudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsYS5zaGFkb3cpLGEuZXhjbHVkZUludmlzaWJsZSE9PWImJih0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT1hLmV4Y2x1ZGVJbnZpc2libGUsYz0hMCksZD10aGlzLl9zdXBlcihhKSxjJiZ0aGlzLnJlZnJlc2goKSxkfSxjb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWkuY2hpbGRXcmFwcGVyfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jb250YWluZXIoKSxjPWIuZmluZCgiLnVpLWJ0biIpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSxkPXRoaXMuX2luaXRpYWxSZWZyZXNoO2EubW9iaWxlLmNoZWNrYm94cmFkaW8mJmIuZmluZCgiOm1vYmlsZS1jaGVja2JveHJhZGlvIikuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT90aGlzLl9nZXRWaXNpYmxlcyhjLGQpOmMsZCksdGhpcy5faW5pdGlhbFJlZnJlc2g9ITF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXMub3B0aW9ucztyZXR1cm4gYy5lbmhhbmNlZD90aGlzOihhPXRoaXMuX3VpLGI9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsIHVpLWNvcm5lci1hbGwgdWktbWluaSAiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKGMudGhlbWUpKS5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYiksYS5ncm91cExlZ2VuZC51bndyYXAoKSx2b2lkIGEuY2hpbGRXcmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCkpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLnRvb2xiYXIiLHtpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdoZWFkZXInKSIsb3B0aW9uczp7dGhlbWU6bnVsbCxhZGRCYWNrQnRuOiExLGJhY2tCdG5UaGVtZTpudWxsLGJhY2tCdG5UZXh0OiJCYWNrIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciIsZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTswPT09ZS5sZW5ndGgmJihlPSExLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OiJyZWZyZXNoIn0pKSxhLmV4dGVuZCh0aGlzLHtyb2xlOmQscGFnZTplLGxlZnRidG46YixyaWdodGJ0bjpjfSksdGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJoZWFkZXIiPT09ZD8iYmFubmVyIjoiY29udGVudGluZm8iKS5hZGRDbGFzcygidWktIitkKSx0aGlzLnJlZnJlc2goKSx0aGlzLl9zZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe2lmKGMuYWRkQmFja0J0biE9PWImJih0aGlzLm9wdGlvbnMuYWRkQmFja0J0biYmImhlYWRlciI9PT10aGlzLnJvbGUmJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJnRoaXMucGFnZVswXS5nZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysidXJsIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIXRoaXMubGVmdGJ0bj90aGlzLl9hZGRCYWNrQnV0dG9uKCk6dGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIikucmVtb3ZlKCkpLG51bGwhPWMuYmFja0J0blRoZW1lJiZ0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXRvb2xiYXItYmFjay1idG4iKS5hZGRDbGFzcygidWktYnRuIHVpLWJ0bi0iK2MuYmFja0J0blRoZW1lKSxjLmJhY2tCdG5UZXh0IT09YiYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS10b29sYmFyLWJhY2stYnRuIC51aS1idG4tdGV4dCIpLnRleHQoYy5iYWNrQnRuVGV4dCksYy50aGVtZSE9PWIpe3ZhciBkPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ImluaGVyaXQiLGU9Yy50aGVtZT9jLnRoZW1lOiJpbmhlcml0Ijt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWJhci0iK2QpLmFkZENsYXNzKCJ1aS1iYXItIitlKX10aGlzLl9zdXBlcihjKX0scmVmcmVzaDpmdW5jdGlvbigpeyJoZWFkZXIiPT09dGhpcy5yb2xlJiZ0aGlzLl9hZGRIZWFkZXJCdXR0b25DbGFzc2VzKCksdGhpcy5wYWdlfHwodGhpcy5fc2V0UmVsYXRpdmUoKSwiZm9vdGVyIj09PXRoaXMucm9sZSYmdGhpcy5lbGVtZW50LmFwcGVuZFRvKCJib2R5IikpLHRoaXMuX2FkZEhlYWRpbmdDbGFzc2VzKCksdGhpcy5fYnRuTWFya3VwKCl9LF9zZXRSZWxhdGl2ZTpmdW5jdGlvbigpe2EoIltkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnXSIpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pfSxfYnRuTWFya3VwOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJhIikuZmlsdGVyKCI6bm90KFtkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J25vbmUnXSkiKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLCJidXR0b24iKSx0aGlzLmVsZW1lbnQudHJpZ2dlcigiY3JlYXRlIil9LF9hZGRIZWFkZXJCdXR0b25DbGFzc2VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJhLCBidXR0b24iKTt0aGlzLmxlZnRidG49YS5oYXNDbGFzcygidWktYnRuLWxlZnQiKSx0aGlzLnJpZ2h0YnRuPWEuaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLHRoaXMubGVmdGJ0bj10aGlzLmxlZnRidG58fGEuZXEoMCkubm90KCIudWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi1sZWZ0IikubGVuZ3RoLHRoaXMucmlnaHRidG49dGhpcy5yaWdodGJ0bnx8YS5lcSgxKS5hZGRDbGFzcygidWktYnRuLXJpZ2h0IikubGVuZ3RofSxfYWRkQmFja0J1dHRvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPWIuYmFja0J0blRoZW1lfHxiLnRoZW1lO2EoIjxhIHJvbGU9J2J1dHRvbicgaHJlZj0namF2YXNjcmlwdDp2b2lkKDApOycgY2xhc3M9J3VpLWJ0biB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyB1aS1idG4tbGVmdCAiKyhjPyJ1aS1idG4tIitjKyIgIjoiIikrInVpLXRvb2xiYXItYmFjay1idG4gdWktaWNvbi1jYXJhdC1sIHVpLWJ0bi1pY29uLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJz4iK2IuYmFja0J0blRleHQrIjwvYT4iKS5wcmVwZW5kVG8odGhpcy5lbGVtZW50KX0sX2FkZEhlYWRpbmdDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7cm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIsYS5tb2JpbGUudG9vbGJhcix7b3B0aW9uczp7cG9zaXRpb246bnVsbCx2aXNpYmxlT25QYWdlU2hvdzohMCxkaXNhYmxlUGFnZVpvb206ITAsdHJhbnNpdGlvbjoic2xpZGUiLGZ1bGxzY3JlZW46ITEsdGFwVG9nZ2xlOiEwLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCwgLnVpLWZsaXBzd2l0Y2gsIC51aS1wb3B1cCwgLnVpLXBhbmVsLCAudWktcGFuZWwtZGlzbWlzcy1vcGVuIixoaWRlRHVyaW5nRm9jdXM6ImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0Iix1cGRhdGVQYWdlUGFkZGluZzohMCx0cmFja1BlcnNpc3RlbnRUb29sYmFyczohMCxzdXBwb3J0QmxhY2tsaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIWEuc3VwcG9ydC5maXhlZFBvc2l0aW9ufX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksImZpeGVkIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbnx8dGhpcy5vcHRpb25zLnN1cHBvcnRCbGFja2xpc3QoKXx8dGhpcy5fbWFrZUZpeGVkKCl9LF9tYWtlRml4ZWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLSIrdGhpcy5yb2xlKyItZml4ZWQiKSx0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKCksdGhpcy5fYWRkVHJhbnNpdGlvbkNsYXNzKCksdGhpcy5fYmluZFBhZ2VFdmVudHMoKSx0aGlzLl9iaW5kVG9nZ2xlSGFuZGxlcnMoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYyl7aWYoImZpeGVkIj09PWMucG9zaXRpb24mJiJmaXhlZCIhPT10aGlzLm9wdGlvbnMucG9zaXRpb24mJnRoaXMuX21ha2VGaXhlZCgpLCJmaXhlZCI9PT10aGlzLm9wdGlvbnMucG9zaXRpb24mJiF0aGlzLm9wdGlvbnMuc3VwcG9ydEJsYWNrbGlzdCgpKXt2YXIgZD10aGlzLnBhZ2U/dGhpcy5wYWdlOmEoIi51aS1wYWdlLWFjdGl2ZSIpLmxlbmd0aD4wP2EoIi51aS1wYWdlLWFjdGl2ZSIpOmEoIi51aS1wYWdlIikuZXEoMCk7Yy5mdWxsc2NyZWVuIT09YiYmKGMuZnVsbHNjcmVlbj8odGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKSxkLmFkZENsYXNzKCJ1aS1wYWdlLSIrdGhpcy5yb2xlKyItZnVsbHNjcmVlbiIpKToodGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS0iK3RoaXMucm9sZSsiLWZ1bGxzY3JlZW4iKSxkLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLSIrdGhpcy5yb2xlKyItZnVsbHNjcmVlbiIpLmFkZENsYXNzKCJ1aS1wYWdlLSIrdGhpcy5yb2xlKyItZml4ZWQiKSkpfXRoaXMuX3N1cGVyKGMpfSxfYWRkVHJhbnNpdGlvbkNsYXNzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247YSYmIm5vbmUiIT09YSYmKCJzbGlkZSI9PT1hJiYoYT10aGlzLmVsZW1lbnQuaGFzQ2xhc3MoInVpLWhlYWRlciIpPyJzbGlkZWRvd24iOiJzbGlkZXVwIiksdGhpcy5lbGVtZW50LmFkZENsYXNzKGEpKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYWdlP3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpOnRoaXMuZG9jdW1lbnQ7dGhpcy5fb24oYSx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsYW5pbWF0aW9uc3RhcnQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIsdXBkYXRlbGF5b3V0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHBhZ2VzaG93OiJfaGFuZGxlUGFnZVNob3ciLHBhZ2ViZWZvcmVoaWRlOiJfaGFuZGxlUGFnZUJlZm9yZUhpZGUifSl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucztiLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxiLnZpc2libGVPblBhZ2VTaG93fHx0aGlzLmhpZGUoITApfSxfaGFuZGxlQW5pbWF0aW9uU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIil9LF9oYW5kbGVQYWdlU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZToiLnVpLXBhZ2UtYWN0aXZlIiksdGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vbih0aGlzLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOiJ1cGRhdGVQYWdlUGFkZGluZyJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVIaWRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaD10aGlzLm9wdGlvbnM7aC5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKSxoLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vZmYodGhpcy53aW5kb3csInRocm90dGxlZHJlc2l6ZSIpLGgudHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMmJihkPWEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMucGFnZSksZT1hKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLnBhZ2UpLGY9ZC5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZD0nIitkLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpLGc9ZS5sZW5ndGgmJmMubmV4dFBhZ2UmJmEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZD0nIitlLmpxbURhdGEoImlkIikrIicpIixjLm5leHRQYWdlKXx8YSgpLChmLmxlbmd0aHx8Zy5sZW5ndGgpJiYoZi5hZGQoZykuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksYy5uZXh0UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2cucHJlcGVuZFRvKHRoaXMpLGYuYXBwZW5kVG8odGhpcyl9KSkpfSxfdmlzaWJsZTohMCx1cGRhdGVQYWdlUGFkZGluZzpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmVsZW1lbnQsZT0iaGVhZGVyIj09PXRoaXMucm9sZSxmPXBhcnNlRmxvYXQoZC5jc3MoZT8idG9wIjoiYm90dG9tIikpO3RoaXMub3B0aW9ucy5mdWxsc2NyZWVufHwoYz1jJiZjLnR5cGU9PT1iJiZjfHx0aGlzLnBhZ2V8fGQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxjPXRoaXMucGFnZT90aGlzLnBhZ2U6Ii51aS1wYWdlLWFjdGl2ZSIsYShjKS5jc3MoInBhZGRpbmctIisoZT8idG9wIjoiYm90dG9tIiksZC5vdXRlckhlaWdodCgpK2YpKX0sX3VzZVRyYW5zaXRpb246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy53aW5kb3csZD10aGlzLmVsZW1lbnQsZT1jLnNjcm9sbFRvcCgpLGY9ZC5oZWlnaHQoKSxnPXRoaXMucGFnZT9kLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCk6YSgiLnVpLXBhZ2UtYWN0aXZlIikuaGVpZ2h0KCksaD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtyZXR1cm4hYiYmKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiYibm9uZSIhPT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmKCJoZWFkZXIiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmU+Znx8ImZvb3RlciI9PT10aGlzLnJvbGUmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZy1mPmUraCl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MucmVtb3ZlQ2xhc3MoIm91dCAiK2IpLmFkZENsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygiaW4iKX0pOmMucmVtb3ZlQ2xhc3MoYiksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudCxkPSJvdXQiKygic2xpZGUiPT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLmFkZENsYXNzKGQpLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKX0pOmMuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcyxlPWQub3B0aW9ucyxmPSEwLGc9dGhpcy5wYWdlP3RoaXMucGFnZTphKCIudWktcGFnZSIpO2cuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtlLnRhcFRvZ2dsZSYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoZS50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmZC50b2dnbGUoKX0pLmJpbmQoImZvY3VzaW4gZm9jdXNvdXQiLGZ1bmN0aW9uKGcpe3NjcmVlbi53aWR0aDwxMDI1JiZhKGcudGFyZ2V0KS5pcyhlLmhpZGVEdXJpbmdGb2N1cykmJiFhKGcudGFyZ2V0KS5jbG9zZXN0KCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoJiYoImZvY3Vzb3V0IiE9PWcudHlwZXx8Zj8iZm9jdXNpbiI9PT1nLnR5cGUmJmYmJihjbGVhclRpbWVvdXQoYiksZj0hMSxjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmhpZGUoKX0sMCkpOihmPSEwLGNsZWFyVGltZW91dChjKSxiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnNob3coKX0sMCkpKX0pfSxfc2V0UmVsYXRpdmU6ZnVuY3Rpb24oKXsiZml4ZWQiIT09dGhpcy5vcHRpb25zLnBvc2l0aW9uJiZhKCJbZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJ10iKS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmhhc0NsYXNzKCJ1aS1oZWFkZXIiKTthLmNsb3Nlc3QoIi51aS1wYWdlIikuY3NzKCJwYWRkaW5nLSIrKGI/InRvcCI6ImJvdHRvbSIpLCIiKSxhLnJlbW92ZUNsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZm9vdGVyLWZpeGVkIHVpLWhlYWRlci1mdWxsc2NyZWVuIHVpLWZvb3Rlci1mdWxsc2NyZWVuIGluIG91dCBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlbiIpLGEuY2xvc2VzdCgiLnVpLXBhZ2UiKS5yZW1vdmVDbGFzcygidWktcGFnZS1oZWFkZXItZml4ZWQgdWktcGFnZS1mb290ZXItZml4ZWQgdWktcGFnZS1oZWFkZXItZnVsbHNjcmVlbiB1aS1wYWdlLWZvb3Rlci1mdWxsc2NyZWVuIil9fSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudG9vbGJhciIsYS5tb2JpbGUudG9vbGJhcix7X21ha2VGaXhlZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5fd29ya2Fyb3VuZHMoKX0sX3dvcmthcm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPW5hdmlnYXRvci5wbGF0Zm9ybSxjPWEubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLGQ9ISFjJiZjWzFdLGU9bnVsbCxmPXRoaXM7aWYoYi5pbmRleE9mKCJpUGhvbmUiKT4tMXx8Yi5pbmRleE9mKCJpUGFkIik+LTF8fGIuaW5kZXhPZigiaVBvZCIpPi0xKWU9ImlvcyI7ZWxzZXtpZighKGEuaW5kZXhPZigiQW5kcm9pZCIpPi0xKSlyZXR1cm47ZT0iYW5kcm9pZCJ9aWYoImlvcyI9PT1lKWYuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCk7ZWxzZXtpZighKCJhbmRyb2lkIj09PWUmJmQmJjUzND5kKSlyZXR1cm47Zi5fYmluZFNjcm9sbFdvcmthcm91bmQoKSxmLl9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZCgpfX0sX3ZpZXdwb3J0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5oYXNDbGFzcygidWktaGVhZGVyIiksYz1NYXRoLmFicyhhLm9mZnNldCgpLnRvcC10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSk7cmV0dXJuIGJ8fChjPU1hdGgucm91bmQoYy10aGlzLndpbmRvdy5oZWlnaHQoKSthLm91dGVySGVpZ2h0KCkpLTYwKSxjfSxfYmluZFNjcm9sbFdvcmthcm91bmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuX29uKHRoaXMud2luZG93LHtzY3JvbGxzdG9wOmZ1bmN0aW9uKCl7dmFyIGI9YS5fdmlld3BvcnRPZmZzZXQoKTtiPjImJmEuX3Zpc2libGUmJmEuX3RyaWdnZXJSZWRyYXcoKX19KX0sX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4ZWQiKX0sX3RyaWdnZXJSZWRyYXc6ZnVuY3Rpb24oKXt2YXIgYj1wYXJzZUZsb2F0KGEoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iKSk7YSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIsYisxKyJweCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIixiKyJweCIpfSwwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeCIpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1lLmNsb25lKCksYj1hLmVxKDApLGM9YS5lcSgxKSxkPWMuY2hpbGRyZW4oKTtyZXR1cm57YXJFbHM6Yy5hZGQoYiksZ2Q6YixjdDpjLGFyOmR9fXZhciBkPWEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU8PTgsZT1hKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdy1ndWlkZSc+PC9kaXY+PGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3ctY29udGFpbmVyIisoZD8iIGllIjoiIikrIic+PGRpdiBjbGFzcz0ndWktcG9wdXAtYXJyb3cnPjwvZGl2PjwvZGl2PiIpO2Eud2lkZ2V0KCJtb2JpbGUucG9wdXAiLGEubW9iaWxlLnBvcHVwLHtvcHRpb25zOnthcnJvdzoiIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5fc3VwZXIoKTtyZXR1cm4gdGhpcy5vcHRpb25zLmFycm93JiYodGhpcy5fdWkuYXJyb3c9YT10aGlzLl9hZGRBcnJvdygpKSxifSxfYWRkQXJyb3c6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMub3B0aW9ucyxkPWMoKTtyZXR1cm4gYT10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGIudGhlbWUpLGQuYXIuYWRkQ2xhc3MoYSsoYi5zaGFkb3c/IiB1aS1vdmVybGF5LXNoYWRvdyI6IiIpKSxkLmFyRWxzLmhpZGUoKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLGR9LF91bmVuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aS5hcnJvdztyZXR1cm4gYSYmYS5hckVscy5yZW1vdmUoKSx0aGlzLl9zdXBlcigpfSxfdHJ5QW5BcnJvdzpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpPXt9LGo9e307cmV0dXJuIGQuYXJGdWxsW2EuZGltS2V5XT5kLmd1aWRlRGltc1thLmRpbUtleV0/ZTooaVthLmZzdF09Y1thLmZzdF0rKGQuYXJIYWxmW2Eub0RpbUtleV0rZC5tZW51SGFsZlthLm9EaW1LZXldKSphLm9mZnNldEZhY3Rvci1kLmNvbnRlbnRCb3hbYS5mc3RdKyhkLmNsYW1wSW5mby5tZW51U2l6ZVthLm9EaW1LZXldLWQuY29udGVudEJveFthLm9EaW1LZXldKSphLmFycm93T2Zmc2V0RmFjdG9yLGlbYS5zbmRdPWNbYS5zbmRdLGY9ZC5yZXN1bHR8fHRoaXMuX2NhbGN1bGF0ZUZpbmFsTG9jYXRpb24oaSxkLmNsYW1wSW5mbyksZz17eDpmLmxlZnQseTpmLnRvcH0salthLmZzdF09Z1thLmZzdF0rZC5jb250ZW50Qm94W2EuZnN0XSthLnRpcE9mZnNldCxqW2Euc25kXT1NYXRoLm1heChmW2EucHJvcF0rZC5ndWlkZU9mZnNldFthLnByb3BdK2QuYXJIYWxmW2EuZGltS2V5XSxNYXRoLm1pbihmW2EucHJvcF0rZC5ndWlkZU9mZnNldFthLnByb3BdK2QuZ3VpZGVEaW1zW2EuZGltS2V5XS1kLmFySGFsZlthLmRpbUtleV0sY1thLnNuZF0pKSxoPU1hdGguYWJzKGMueC1qLngpK01hdGguYWJzKGMueS1qLnkpLCghZXx8aDxlLmRpZmYpJiYoalthLnNuZF0tPWQuYXJIYWxmW2EuZGltS2V5XStmW2EucHJvcF0rZC5jb250ZW50Qm94W2Euc25kXSxlPXtkaXI6YixkaWZmOmgscmVzdWx0OmYscG9zUHJvcDphLnByb3AscG9zVmFsOmpbYS5zbmRdfSksZSl9LF9nZXRQbGFjZW1lbnRTdGF0ZTpmdW5jdGlvbihhKXt2YXIgYixjLGQ9dGhpcy5fdWkuYXJyb3csZT17Y2xhbXBJbmZvOnRoaXMuX2NsYW1wUG9wdXBXaWR0aCghYSksYXJGdWxsOntjeDpkLmN0LndpZHRoKCksY3k6ZC5jdC5oZWlnaHQoKX0sZ3VpZGVEaW1zOntjeDpkLmdkLndpZHRoKCksY3k6ZC5nZC5oZWlnaHQoKX0sZ3VpZGVPZmZzZXQ6ZC5nZC5vZmZzZXQoKX07cmV0dXJuIGI9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGQuZ2QuY3NzKHtsZWZ0OjAsdG9wOjAscmlnaHQ6MCxib3R0b206MH0pLGM9ZC5nZC5vZmZzZXQoKSxlLmNvbnRlbnRCb3g9e3g6Yy5sZWZ0LWIubGVmdCx5OmMudG9wLWIudG9wLGN4OmQuZ2Qud2lkdGgoKSxjeTpkLmdkLmhlaWdodCgpfSxkLmdkLnJlbW92ZUF0dHIoInN0eWxlIiksZS5ndWlkZU9mZnNldD17bGVmdDplLmd1aWRlT2Zmc2V0LmxlZnQtYi5sZWZ0LHRvcDplLmd1aWRlT2Zmc2V0LnRvcC1iLnRvcH0sZS5hckhhbGY9e2N4OmUuYXJGdWxsLmN4LzIsY3k6ZS5hckZ1bGwuY3kvMn0sZS5tZW51SGFsZj17Y3g6ZS5jbGFtcEluZm8ubWVudVNpemUuY3gvMixjeTplLmNsYW1wSW5mby5tZW51U2l6ZS5jeS8yfSxlfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGgsaT10aGlzLm9wdGlvbnMuYXJyb3csaj10aGlzLl91aS5hcnJvdztyZXR1cm4gaj8oai5hckVscy5zaG93KCksaD17fSxjPXRoaXMuX2dldFBsYWNlbWVudFN0YXRlKCEwKSxmPXtsOntmc3Q6IngiLHNuZDoieSIscHJvcDoidG9wIixkaW1LZXk6ImN5IixvRGltS2V5OiJjeCIsb2Zmc2V0RmFjdG9yOjEsdGlwT2Zmc2V0Oi1jLmFySGFsZi5jeCxhcnJvd09mZnNldEZhY3RvcjowfSxyOntmc3Q6IngiLHNuZDoieSIscHJvcDoidG9wIixkaW1LZXk6ImN5IixvRGltS2V5OiJjeCIsb2Zmc2V0RmFjdG9yOi0xLHRpcE9mZnNldDpjLmFySGFsZi5jeCtjLmNvbnRlbnRCb3guY3gsYXJyb3dPZmZzZXRGYWN0b3I6MX0sYjp7ZnN0OiJ5IixzbmQ6IngiLHByb3A6ImxlZnQiLGRpbUtleToiY3giLG9EaW1LZXk6ImN5IixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN5K2MuY29udGVudEJveC5jeSxhcnJvd09mZnNldEZhY3RvcjoxfSx0Ontmc3Q6InkiLHNuZDoieCIscHJvcDoibGVmdCIsZGltS2V5OiJjeCIsb0RpbUtleToiY3kiLG9mZnNldEZhY3RvcjoxLHRpcE9mZnNldDotYy5hckhhbGYuY3ksYXJyb3dPZmZzZXRGYWN0b3I6MH19LGEuZWFjaCgoaT09PSEwPyJsLHQscixiIjppKS5zcGxpdCgiLCIpLGEucHJveHkoZnVuY3Rpb24oYSxkKXtlPXRoaXMuX3RyeUFuQXJyb3coZltkXSxkLGIsYyxlKX0sdGhpcykpLGU/KGouY3QucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWFycm93LWwgdWktcG9wdXAtYXJyb3ctdCB1aS1wb3B1cC1hcnJvdy1yIHVpLXBvcHVwLWFycm93LWIiKS5hZGRDbGFzcygidWktcG9wdXAtYXJyb3ctIitlLmRpcikucmVtb3ZlQXR0cigic3R5bGUiKS5jc3MoZS5wb3NQcm9wLGUucG9zVmFsKS5zaG93KCksZHx8KGc9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGhbZltlLmRpcl0uZnN0XT1qLmN0Lm9mZnNldCgpLGhbZltlLmRpcl0uc25kXT17bGVmdDpnLmxlZnQrYy5jb250ZW50Qm94LngsdG9wOmcudG9wK2MuY29udGVudEJveC55fSksZS5yZXN1bHQpOihqLmFyRWxzLmhpZGUoKSx0aGlzLl9zdXBlcihiKSkpOnRoaXMuX3N1cGVyKGIpCn0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLm9wdGlvbnMudGhlbWUsZT10aGlzLl91aS5hcnJvdyxmPXRoaXMuX3N1cGVyKGEpO2lmKGEuYXJyb3chPT1iKXtpZighZSYmYS5hcnJvdylyZXR1cm4gdm9pZCh0aGlzLl91aS5hcnJvdz10aGlzLl9hZGRBcnJvdygpKTtlJiYhYS5hcnJvdyYmKGUuYXJFbHMucmVtb3ZlKCksdGhpcy5fdWkuYXJyb3c9bnVsbCl9cmV0dXJuIGU9dGhpcy5fdWkuYXJyb3csZSYmKGEudGhlbWUhPT1iJiYoZD10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbigidWktYm9keS0iLGQpLGM9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oInVpLWJvZHktIixhLnRoZW1lKSxlLmFyLnJlbW92ZUNsYXNzKGQpLmFkZENsYXNzKGMpKSxhLnNoYWRvdyE9PWImJmUuYXIudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhLnNoYWRvdykpLGZ9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGEmJmEuYXJFbHMucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxjKXthLndpZGdldCgibW9iaWxlLnBhbmVsIix7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6InVpLXBhbmVsIixwYW5lbE9wZW46InVpLXBhbmVsLW9wZW4iLHBhbmVsQ2xvc2VkOiJ1aS1wYW5lbC1jbG9zZWQiLHBhbmVsRml4ZWQ6InVpLXBhbmVsLWZpeGVkIixwYW5lbElubmVyOiJ1aS1wYW5lbC1pbm5lciIsbW9kYWw6InVpLXBhbmVsLWRpc21pc3MiLG1vZGFsT3BlbjoidWktcGFuZWwtZGlzbWlzcy1vcGVuIixwYWdlQ29udGFpbmVyOiJ1aS1wYW5lbC1wYWdlLWNvbnRhaW5lciIscGFnZVdyYXBwZXI6InVpLXBhbmVsLXdyYXBwZXIiLHBhZ2VGaXhlZFRvb2xiYXI6InVpLXBhbmVsLWZpeGVkLXRvb2xiYXIiLHBhZ2VDb250ZW50UHJlZml4OiJ1aS1wYW5lbC1wYWdlLWNvbnRlbnQiLGFuaW1hdGU6InVpLXBhbmVsLWFuaW1hdGUifSxhbmltYXRlOiEwLHRoZW1lOm51bGwscG9zaXRpb246ImxlZnQiLGRpc21pc3NpYmxlOiEwLGRpc3BsYXk6InJldmVhbCIsc3dpcGVDbG9zZTohMCxwb3NpdGlvbkZpeGVkOiExfSxfY2xvc2VMaW5rOm51bGwsX3BhcmVudFBhZ2U6bnVsbCxfcGFnZTpudWxsLF9tb2RhbDpudWxsLF9wYW5lbElubmVyOm51bGwsX3dyYXBwZXI6bnVsbCxfZml4ZWRUb29sYmFyczpudWxsLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmNsb3Nlc3QoIi51aS1wYWdlLCA6anFtRGF0YShyb2xlPSdwYWdlJykiKTthLmV4dGVuZCh0aGlzLHtfY2xvc2VMaW5rOmIuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhcmVudFBhZ2U6Yy5sZW5ndGg+MD9jOiExLF9vcGVuZWRQYWdlOm51bGwsX3BhZ2U6dGhpcy5fZ2V0UGFnZSxfcGFuZWxJbm5lcjp0aGlzLl9nZXRQYW5lbElubmVyKCksX2ZpeGVkVG9vbGJhcnM6dGhpcy5fZ2V0Rml4ZWRUb29sYmFyc30pLCJvdmVybGF5IiE9PXRoaXMub3B0aW9ucy5kaXNwbGF5JiZ0aGlzLl9nZXRXcmFwcGVyKCksdGhpcy5fYWRkUGFuZWxDbGFzc2VzKCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZ0aGlzLm9wdGlvbnMuYW5pbWF0ZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmFuaW1hdGUpLHRoaXMuX2JpbmRVcGRhdGVMYXlvdXQoKSx0aGlzLl9iaW5kQ2xvc2VFdmVudHMoKSx0aGlzLl9iaW5kTGlua0xpc3RlbmVycygpLHRoaXMuX2JpbmRQYWdlRXZlbnRzKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLl9jcmVhdGVNb2RhbCgpLHRoaXMuX2JpbmRTd2lwZUV2ZW50cygpfSxfZ2V0UGFuZWxJbm5lcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maW5kKCIuIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWEubGVuZ3RoJiYoYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSciK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsSW5uZXIrIicgLz4iKS5wYXJlbnQoKSksYX0sX2NyZWF0ZU1vZGFsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuX3BhcmVudFBhZ2U/Yi5fcGFyZW50UGFnZS5wYXJlbnQoKTpiLmVsZW1lbnQucGFyZW50KCk7Yi5fbW9kYWw9YSgiPGRpdiBjbGFzcz0nIitiLm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCsiJz48L2Rpdj4iKS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pLmFwcGVuZFRvKGMpfSxfZ2V0UGFnZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX29wZW5lZFBhZ2V8fHRoaXMuX3BhcmVudFBhZ2V8fGEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7cmV0dXJuIGJ9LF9nZXRXcmFwcGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fcGFnZSgpLmZpbmQoIi4iK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VXcmFwcGVyKTswPT09YS5sZW5ndGgmJihhPXRoaXMuX3BhZ2UoKS5jaGlsZHJlbigiLnVpLWhlYWRlcjpub3QoLnVpLWhlYWRlci1maXhlZCksIC51aS1jb250ZW50Om5vdCgudWktcG9wdXApLCAudWktZm9vdGVyOm5vdCgudWktZm9vdGVyLWZpeGVkKSIpLndyYXBBbGwoIjxkaXYgY2xhc3M9JyIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIrIic+PC9kaXY+IikucGFyZW50KCkpLHRoaXMuX3dyYXBwZXI9YX0sX2dldEZpeGVkVG9vbGJhcnM6ZnVuY3Rpb24oKXt2YXIgYj1hKCJib2R5IikuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiKSxjPXRoaXMuX3BhZ2UoKS5maW5kKCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIiksZD1iLmFkZChjKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYWdlRml4ZWRUb29sYmFyKTtyZXR1cm4gZH0sX2dldFBvc0Rpc3BsYXlDbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhKyItcG9zaXRpb24tIit0aGlzLm9wdGlvbnMucG9zaXRpb24rIiAiK2ErIi1kaXNwbGF5LSIrdGhpcy5vcHRpb25zLmRpc3BsYXl9LF9nZXRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCsiICIrdGhpcy5fZ2V0UG9zRGlzcGxheUNsYXNzZXModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwpKyIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbENsb3NlZCsiIHVpLWJvZHktIisodGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZToiaW5oZXJpdCIpO3JldHVybiB0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmKGErPSIgIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKSxhfSxfYWRkUGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMuX2dldFBhbmVsQ2xhc3NlcygpKX0sX2hhbmRsZUNsb3NlQ2xpY2tBbmRFYXRFdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS5pc0RlZmF1bHRQcmV2ZW50ZWQoKT92b2lkIDA6KGEucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKCksITEpfSxfaGFuZGxlQ2xvc2VDbGljazpmdW5jdGlvbihhKXthLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLmNsb3NlKCl9LF9iaW5kQ2xvc2VFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLl9jbG9zZUxpbmsse2NsaWNrOiJfaGFuZGxlQ2xvc2VDbGljayJ9KSx0aGlzLl9vbih7ImNsaWNrIGE6anFtRGF0YShhamF4PSdmYWxzZScpIjoiX2hhbmRsZUNsb3NlQ2xpY2sifSl9LF9wb3NpdGlvblBhbmVsOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1jLl9wYW5lbElubmVyLm91dGVySGVpZ2h0KCksZT1kPmEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO2V8fCFjLm9wdGlvbnMucG9zaXRpb25GaXhlZD8oZSYmKGMuX3VuZml4UGFuZWwoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoZCkpLGImJnRoaXMud2luZG93WzBdLnNjcm9sbFRvKDAsYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpKTpjLl9maXhQYW5lbCgpfSxfYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb24oYShiKSx7dGhyb3R0bGVkcmVzaXplOiJfcG9zaXRpb25QYW5lbCJ9KX0sX3VuYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKGEoYiksInRocm90dGxlZHJlc2l6ZSIpfSxfdW5maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfZml4UGFuZWw6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2JpbmRVcGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2EuX29wZW4mJmEuX3Bvc2l0aW9uUGFuZWwoKX0pfSxfYmluZExpbmtMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt0aGlzLl9vbigiYm9keSIseyJjbGljayBhIjoiX2hhbmRsZUNsaWNrIn0pfSxfaGFuZGxlQ2xpY2s6ZnVuY3Rpb24oYil7dmFyIGQsZT10aGlzLmVsZW1lbnQuYXR0cigiaWQiKTtyZXR1cm4gYi5jdXJyZW50VGFyZ2V0LmhyZWYuc3BsaXQoIiMiKVsxXT09PWUmJmUhPT1jPyhiLnByZXZlbnREZWZhdWx0KCksZD1hKGIudGFyZ2V0KSxkLmhhc0NsYXNzKCJ1aS1idG4iKSYmKGQuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHRoaXMuZWxlbWVudC5vbmUoInBhbmVsb3BlbiBwYW5lbGNsb3NlIixmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpLHRoaXMudG9nZ2xlKCksITEpOnZvaWQgMH0sX2JpbmRTd2lwZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLl9tb2RhbD9hLmVsZW1lbnQuYWRkKGEuX21vZGFsKTphLmVsZW1lbnQ7YS5vcHRpb25zLnN3aXBlQ2xvc2UmJigibGVmdCI9PT1hLm9wdGlvbnMucG9zaXRpb24/Yi5vbigic3dpcGVsZWZ0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pOmIub24oInN3aXBlcmlnaHQucGFuZWwiLGZ1bmN0aW9uKCl7YS5jbG9zZSgpfSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuZG9jdW1lbnQub24oInBhbmVsYmVmb3Jlb3BlbiIsZnVuY3Rpb24oYil7YS5fb3BlbiYmYi50YXJnZXQhPT1hLmVsZW1lbnRbMF0mJmEuY2xvc2UoKX0pLm9uKCJrZXl1cC5wYW5lbCIsZnVuY3Rpb24oYil7Mjc9PT1iLmtleUNvZGUmJmEuX29wZW4mJmEuY2xvc2UoKX0pLHRoaXMuX3BhcmVudFBhZ2V8fCJvdmVybGF5Ij09PXRoaXMub3B0aW9ucy5kaXNwbGF5fHx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtwYWdlc2hvdzoiX2dldFdyYXBwZXIifSksYS5fcGFyZW50UGFnZT90aGlzLmRvY3VtZW50Lm9uKCJwYWdlaGlkZSIsIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pOnRoaXMuZG9jdW1lbnQub24oInBhZ2ViZWZvcmVoaWRlIixmdW5jdGlvbigpe2EuX29wZW4mJmEuY2xvc2UoITApfSl9LF9vcGVuOiExLF9wYWdlQ29udGVudE9wZW5DbGFzc2VzOm51bGwsX21vZGFsT3BlbkNsYXNzZXM6bnVsbCxvcGVuOmZ1bmN0aW9uKGIpe2lmKCF0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9Yy5vcHRpb25zLGU9ZnVuY3Rpb24oKXtjLmRvY3VtZW50Lm9mZigicGFuZWxjbG9zZSIpLGMuX3BhZ2UoKS5qcW1EYXRhKCJwYW5lbCIsIm9wZW4iKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSksIWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlP2MuZWxlbWVudC5hbmltYXRpb25Db21wbGV0ZShmLCJ0cmFuc2l0aW9uIik6c2V0VGltZW91dChmLDApLGQudGhlbWUmJiJvdmVybGF5IiE9PWQuZGlzcGxheSYmYy5fcGFnZSgpLnBhcmVudCgpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKyItdGhlbWVkICIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi0iK2QudGhlbWUpLGMuZWxlbWVudC5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLGMuX3Bvc2l0aW9uUGFuZWwoITApLGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM9Yy5fZ2V0UG9zRGlzcGxheUNsYXNzZXMoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KSwib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMuX3dyYXBwZXIuYWRkQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyksYy5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpKSxjLl9tb2RhbE9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5tb2RhbCkrIiAiK2QuY2xhc3Nlcy5tb2RhbE9wZW4sYy5fbW9kYWwmJmMuX21vZGFsLmFkZENsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpLmhlaWdodChNYXRoLm1heChjLl9tb2RhbC5oZWlnaHQoKSxjLmRvY3VtZW50LmhlaWdodCgpKSl9LGY9ZnVuY3Rpb24oKXsib3ZlcmxheSIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSxjLl9maXhlZFRvb2xiYXJzKCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpKSxjLl9iaW5kRml4TGlzdGVuZXIoKSxjLl90cmlnZ2VyKCJvcGVuIiksYy5fb3BlbmVkUGFnZT1jLl9wYWdlKCl9O2MuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSwib3BlbiI9PT1jLl9wYWdlKCkuanFtRGF0YSgicGFuZWwiKT9jLmRvY3VtZW50Lm9uKCJwYW5lbGNsb3NlIixmdW5jdGlvbigpe2UoKX0pOmUoKSxjLl9vcGVuPSEwfX0sY2xvc2U6ZnVuY3Rpb24oYil7aWYodGhpcy5fb3Blbil7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWZ1bmN0aW9uKCl7Yy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLCJvdmVybGF5IiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpKSwhYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGU/Yy5lbGVtZW50LmFuaW1hdGlvbkNvbXBsZXRlKGYsInRyYW5zaXRpb24iKTpzZXRUaW1lb3V0KGYsMCksYy5fbW9kYWwmJmMuX21vZGFsLnJlbW92ZUNsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpfSxmPWZ1bmN0aW9uKCl7ZC50aGVtZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiZjLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitkLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrZC50aGVtZSksYy5lbGVtZW50LmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCksIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCsiLW9wZW4iKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4KyItb3BlbiIpKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmIm92ZXJsYXkiIT09ZC5kaXNwbGF5JiYoYy5fd3JhcHBlci5yZW1vdmVDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSksYy5fZml4UGFuZWwoKSxjLl91bmJpbmRGaXhMaXN0ZW5lcigpLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCgpLGMuX3BhZ2UoKS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLGMuX3RyaWdnZXIoImNsb3NlIiksYy5fb3BlbmVkUGFnZT1udWxsfTtjLl90cmlnZ2VyKCJiZWZvcmVjbG9zZSIpLGUoKSxjLl9vcGVuPSExfX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl9vcGVuPyJjbG9zZSI6Im9wZW4iXSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5vcHRpb25zLGQ9YSgiYm9keSA+IDptb2JpbGUtcGFuZWwiKS5sZW5ndGgrYS5tb2JpbGUuYWN0aXZlUGFnZS5maW5kKCI6bW9iaWxlLXBhbmVsIikubGVuZ3RoPjE7Im92ZXJsYXkiIT09Yy5kaXNwbGF5JiYoYj1hKCJib2R5ID4gOm1vYmlsZS1wYW5lbCIpLmFkZChhLm1vYmlsZS5hY3RpdmVQYWdlLmZpbmQoIjptb2JpbGUtcGFuZWwiKSksMD09PWIubm90KCIudWktcGFuZWwtZGlzcGxheS1vdmVybGF5Iikubm90KHRoaXMuZWxlbWVudCkubGVuZ3RoJiZ0aGlzLl93cmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fb3BlbiYmKHRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrIi1vcGVuIiksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZjLmFuaW1hdGUmJnRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuYW5pbWF0ZSksdGhpcy5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLnRoZW1lJiZ0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrIi10aGVtZWQgIitjLmNsYXNzZXMucGFnZUNvbnRhaW5lcisiLSIrYy50aGVtZSkpKSxkfHx0aGlzLmRvY3VtZW50Lm9mZigicGFuZWxvcGVuIHBhbmVsY2xvc2UiKSx0aGlzLl9vcGVuJiZ0aGlzLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYW5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSxjLmNsYXNzZXMucGFuZWxPcGVuLGMuY2xhc3Nlcy5hbmltYXRlXS5qb2luKCIgIikpLm9mZigic3dpcGVsZWZ0LnBhbmVsIHN3aXBlcmlnaHQucGFuZWwiKS5vZmYoInBhbmVsYmVmb3Jlb3BlbiIpLm9mZigicGFuZWxoaWRlIikub2ZmKCJrZXl1cC5wYW5lbCIpLm9mZigidXBkYXRlbGF5b3V0IiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUudGFibGUiLHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnRhYmxlKSxhLmV4dGVuZCh0aGlzLHtoZWFkZXJzOmIsYWxsSGVhZGVyczpifSksdGhpcy5fcmVmcmVzaCghMCl9LF9zZXRIZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LmZpbmQoInRoZWFkIHRyIik7dGhpcy5oZWFkZXJzPXRoaXMuZWxlbWVudC5maW5kKCJ0cjplcSgwKSIpLmNoaWxkcmVuKCksdGhpcy5hbGxIZWFkZXJzPXRoaXMuaGVhZGVycy5hZGQoYS5jaGlsZHJlbigpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goKX0scmVidWlsZDphLm5vb3AsX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmZpbmQoInRoZWFkIHRyIik7dGhpcy5fc2V0SGVhZGVycygpLGMuZWFjaChmdW5jdGlvbigpe3ZhciBkPTA7YSh0aGlzKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgZSxmPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksMTApLGc9IjpudGgtY2hpbGQoIisoZCsxKSsiKSI7aWYodGhpcy5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysiY29sc3RhcnQiLGQrMSksZilmb3IoZT0wO2YtMT5lO2UrKylkKyssZys9IiwgOm50aC1jaGlsZCgiKyhkKzEpKyIpIjthKHRoaXMpLmpxbURhdGEoImNlbGxzIixiLmZpbmQoInRyIikubm90KGMuZXEoMCkpLm5vdCh0aGlzKS5jaGlsZHJlbihnKSksZCsrfSl9KX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUudGFibGUse29wdGlvbnM6e21vZGU6ImNvbHVtbnRvZ2dsZSIsY29sdW1uQnRuVGhlbWU6bnVsbCxjb2x1bW5Qb3B1cFRoZW1lOm51bGwsY29sdW1uQnRuVGV4dDoiQ29sdW1ucy4uLiIsY2xhc3NlczphLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtwb3B1cDoidWktdGFibGUtY29sdW1udG9nZ2xlLXBvcHVwIixjb2x1bW5CdG46InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1idG4iLHByaW9yaXR5UHJlZml4OiJ1aS10YWJsZS1wcmlvcml0eS0iLGNvbHVtblRvZ2dsZVRhYmxlOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJjb2x1bW50b2dnbGUiPT09dGhpcy5vcHRpb25zLm1vZGUmJihhLmV4dGVuZCh0aGlzLHtfbWVudTpudWxsfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyh0aGlzLl9tZW51PWEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZCh0aGlzLl9pZCgpKyItcG9wdXAiKSkuY2hpbGRyZW4oKS5maXJzdCgpLHRoaXMuX2FkZFRvZ2dsZXModGhpcy5fbWVudSwhMCkpOih0aGlzLl9tZW51PXRoaXMuX2VuaGFuY2VDb2xUb2dnbGUoKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuY29sdW1uVG9nZ2xlVGFibGUpKSx0aGlzLl9zZXR1cEV2ZW50cygpLHRoaXMuX3NldFRvZ2dsZVN0YXRlKCkpfSxfaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImlkIil8fHRoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWR9LF9zZXR1cEV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMud2luZG93LHt0aHJvdHRsZWRyZXNpemU6Il9zZXRUb2dnbGVTdGF0ZSJ9KSx0aGlzLl9vbih0aGlzLl9tZW51LHsiY2hhbmdlIGlucHV0IjoiX21lbnVJbnB1dENoYW5nZSJ9KX0sX2FkZFRvZ2dsZXM6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPTAsZj10aGlzLm9wdGlvbnMsZz1iLmNvbnRyb2xncm91cCgiY29udGFpbmVyIik7Yz9kPWIuZmluZCgiaW5wdXQiKTpnLmVtcHR5KCksdGhpcy5oZWFkZXJzLm5vdCgidGQiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxoPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJwcmlvcml0eSIpLGk9Yi5hZGQoYi5qcW1EYXRhKCJjZWxscyIpKTtoJiYoaS5hZGRDbGFzcyhmLmNsYXNzZXMucHJpb3JpdHlQcmVmaXgraCksKGM/ZC5lcShlKyspOmEoIjxsYWJlbD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNoZWNrZWQgLz4iKyhiLmNoaWxkcmVuKCJhYmJyIikuZmlyc3QoKS5hdHRyKCJ0aXRsZSIpfHxiLnRleHQoKSkrIjwvbGFiZWw+IikuYXBwZW5kVG8oZykuY2hpbGRyZW4oMCkuY2hlY2tib3hyYWRpbyh7dGhlbWU6Zi5jb2x1bW5Qb3B1cFRoZW1lfSkpLmpxbURhdGEoImNlbGxzIixpKSl9KSxjfHxiLmNvbnRyb2xncm91cCgicmVmcmVzaCIpfSxfbWVudUlucHV0Q2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Y1swXS5jaGVja2VkO2MuanFtRGF0YSgiY2VsbHMiKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iLCFkKS50b2dnbGVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIixkKSxjWzBdLmdldEF0dHJpYnV0ZSgibG9ja2VkIik/KGMucmVtb3ZlQXR0cigibG9ja2VkIiksdGhpcy5fdW5sb2NrQ2VsbHMoYy5qcW1EYXRhKCJjZWxscyIpKSk6Yy5hdHRyKCJsb2NrZWQiLCEwKX0sX3VubG9ja0NlbGxzOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIHVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpfSxfZW5oYW5jZUNvbFRvZ2dsZTpmdW5jdGlvbigpe3ZhciBiLGMsZCxlLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9YS5tb2JpbGUubnMsaT10aGlzLmRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm4gYj10aGlzLl9pZCgpKyItcG9wdXAiLGM9YSgiPGEgaHJlZj0nIyIrYisiJyBjbGFzcz0nIitnLmNsYXNzZXMuY29sdW1uQnRuKyIgdWktYnRuIHVpLWJ0bi0iKyhnLmNvbHVtbkJ0blRoZW1lfHwiYSIpKyIgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktbWluaScgZGF0YS0iK2grInJlbD0ncG9wdXAnPiIrZy5jb2x1bW5CdG5UZXh0KyI8L2E+IiksZD1hKCI8ZGl2IGNsYXNzPSciK2cuY2xhc3Nlcy5wb3B1cCsiJyBpZD0nIitiKyInPjwvZGl2PiIpLGU9YSgiPGZpZWxkc2V0PjwvZmllbGRzZXQ+IikuY29udHJvbGdyb3VwKCksdGhpcy5fYWRkVG9nZ2xlcyhlLCExKSxlLmFwcGVuZFRvKGQpLGkuYXBwZW5kQ2hpbGQoZFswXSksaS5hcHBlbmRDaGlsZChjWzBdKSxmLmJlZm9yZShpKSxkLnBvcHVwKCksZX0scmVidWlsZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksImNvbHVtbnRvZ2dsZSI9PT10aGlzLm9wdGlvbnMubW9kZSYmdGhpcy5fcmVmcmVzaCghMSl9LF9yZWZyZXNoOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyKGEpLGF8fCJjb2x1bW50b2dnbGUiIT09dGhpcy5vcHRpb25zLm1vZGV8fCh0aGlzLl91bmxvY2tDZWxscyh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXRhYmxlLWNlbGwtaGlkZGVuLCAudWktdGFibGUtY2VsbC12aXNpYmxlIikpLHRoaXMuX2FkZFRvZ2dsZXModGhpcy5fbWVudSxhKSx0aGlzLl9zZXRUb2dnbGVTdGF0ZSgpKX0sX3NldFRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWVudS5maW5kKCJpbnB1dCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO3RoaXMuY2hlY2tlZD0idGFibGUtY2VsbCI9PT1iLmpxbURhdGEoImNlbGxzIikuZXEoMCkuY3NzKCJkaXNwbGF5IiksYi5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRhYmxlIixhLm1vYmlsZS50YWJsZSx7b3B0aW9uczp7bW9kZToicmVmbG93IixjbGFzc2VzOmEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3JlZmxvd1RhYmxlOiJ1aS10YWJsZS1yZWZsb3ciLGNlbGxMYWJlbHM6InVpLXRhYmxlLWNlbGwtbGFiZWwifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJyZWZsb3ciPT09dGhpcy5vcHRpb25zLm1vZGUmJih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucmVmbG93VGFibGUpLHRoaXMuX3VwZGF0ZVJlZmxvdygpKSl9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLCJyZWZsb3ciPT09dGhpcy5vcHRpb25zLm1vZGUmJnRoaXMuX3JlZnJlc2goITEpfSxfcmVmcmVzaDpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhfHwicmVmbG93IiE9PXRoaXMub3B0aW9ucy5tb2RlfHx0aGlzLl91cGRhdGVSZWZsb3coKX0sX3VwZGF0ZVJlZmxvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnM7YShiLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZSxmPWEodGhpcykuanFtRGF0YSgiY2VsbHMiKSxnPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLCJjb2xzdGFydCIpLGg9Zi5ub3QodGhpcykuZmlsdGVyKCJ0aGVhZCB0aCIpLmxlbmd0aCYmIiB1aS10YWJsZS1jZWxsLWxhYmVsLXRvcCIsaT1hKHRoaXMpLnRleHQoKTsiIiE9PWkmJihoPyhkPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksMTApLGU9IiIsZCYmKGU9InRkOm50aC1jaGlsZCgiK2QrIm4gKyAiK2crIikiKSxiLl9hZGRMYWJlbHMoZi5maWx0ZXIoZSksYy5jbGFzc2VzLmNlbGxMYWJlbHMraCxpKSk6Yi5fYWRkTGFiZWxzKGYsYy5jbGFzc2VzLmNlbGxMYWJlbHMsaSkpfSl9LF9hZGRMYWJlbHM6ZnVuY3Rpb24oYSxiLGMpe2Eubm90KCI6aGFzKGIuIitiKyIpIikucHJlcGVuZCgiPGIgY2xhc3M9JyIrYisiJz4iK2MrIjwvYj4iKX19KX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbihiLGMpe3JldHVybi0xPT09KCIiKyhhLm1vYmlsZS5nZXRBdHRyaWJ1dGUodGhpcywiZmlsdGVydGV4dCIpfHxhKHRoaXMpLnRleHQoKSkpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKX07YS53aWRnZXQoIm1vYmlsZS5maWx0ZXJhYmxlIix7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShmaWx0ZXI9J3RydWUnKSIsb3B0aW9uczp7ZmlsdGVyUmV2ZWFsOiExLGZpbHRlckNhbGxiYWNrOmQsZW5oYW5jZWQ6ITEsaW5wdXQ6bnVsbCxjaGlsZHJlbjoiPiBsaSwgPiBvcHRpb24sID4gb3B0Z3JvdXAgb3B0aW9uLCA+IHRib2R5IHRyLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktYnRuLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktY2hlY2tib3gsID4gLnVpLWNvbnRyb2xncm91cC1jb250cm9scyA+IC51aS1yYWRpbyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X3NlYXJjaDpudWxsLF90aW1lcjowfSksdGhpcy5fc2V0SW5wdXQoYi5pbnB1dCksYi5lbmhhbmNlZHx8dGhpcy5fZmlsdGVySXRlbXMoKHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLnZhbCgpfHwiIikudG9Mb3dlckNhc2UoKSl9LF9vbktleVVwOmZ1bmN0aW9uKCl7dmFyIGMsZCxlPXRoaXMuX3NlYXJjaDtpZihlKXtpZihjPWUudmFsKCkudG9Mb3dlckNhc2UoKSxkPWEubW9iaWxlLmdldEF0dHJpYnV0ZShlWzBdLCJsYXN0dmFsIikrIiIsZCYmZD09PWMpcmV0dXJuO3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLHRoaXMuX3RpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIixudWxsLHtpbnB1dDplfSksZVswXS5zZXRBdHRyaWJ1dGUoImRhdGEtIithLm1vYmlsZS5ucysibGFzdHZhbCIsYyksdGhpcy5fZmlsdGVySXRlbXMoYyksdGhpcy5fdGltZXI9MH0sMjUwKX19LF9nZXRGaWx0ZXJhYmxlSXRlbXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMuY2hpbGRyZW4sZD1jP2EuaXNGdW5jdGlvbihjKT9jKCk6Yy5ub2RlTmFtZT9hKGMpOmMuanF1ZXJ5P2M6dGhpcy5lbGVtZW50LmZpbmQoYyk6e2xlbmd0aDowfTtyZXR1cm4gMD09PWQubGVuZ3RoJiYoZD1iLmNoaWxkcmVuKCkpLGR9LF9maWx0ZXJJdGVtczpmdW5jdGlvbihiKXt2YXIgYyxlLGYsZyxoPVtdLGk9W10saj10aGlzLm9wdGlvbnMsaz10aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTtpZihudWxsIT1iKWZvcihlPWouZmlsdGVyQ2FsbGJhY2t8fGQsZj1rLmxlbmd0aCxjPTA7Zj5jO2MrKylnPWUuY2FsbChrW2NdLGMsYik/aTpoLGcucHVzaChrW2NdKTswPT09aS5sZW5ndGg/a1tqLmZpbHRlclJldmVhbD8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJ1aS1zY3JlZW4taGlkZGVuIik6KGEoaSkuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSxhKGgpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIikpLHRoaXMuX3JlZnJlc2hDaGlsZFdpZGdldCgpLHRoaXMuX3RyaWdnZXIoImZpbHRlciIsbnVsbCx7aXRlbXM6a30pfSxfcmVmcmVzaENoaWxkV2lkZ2V0OmZ1bmN0aW9uKCl7dmFyIGIsYyxkPVsiY29sbGFwc2libGVzZXQiLCJzZWxlY3RtZW51IiwiY29udHJvbGdyb3VwIiwibGlzdHZpZXciXTtmb3IoYz1kLmxlbmd0aC0xO2M+LTE7Yy0tKWI9ZFtjXSxhLm1vYmlsZVtiXSYmKGI9dGhpcy5lbGVtZW50LmRhdGEoIm1vYmlsZS0iK2IpLGImJmEuaXNGdW5jdGlvbihiLnJlZnJlc2gpJiZiLnJlZnJlc2goKSl9LF9zZXRJbnB1dDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zZWFyY2g7dGhpcy5fdGltZXImJihiLmNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9MCksZCYmKHRoaXMuX29mZihkLCJrZXl1cCBjaGFuZ2UgaW5wdXQiKSxkPW51bGwpLGMmJihkPWMuanF1ZXJ5P2M6Yy5ub2RlTmFtZT9hKGMpOnRoaXMuZG9jdW1lbnQuZmluZChjKSx0aGlzLl9vbihkLHtrZXl1cDoiX29uS2V5VXAiLGNoYW5nZToiX29uS2V5VXAiLGlucHV0OiJfb25LZXlVcCJ9KSksdGhpcy5fc2VhcmNoPWR9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPSEoYS5maWx0ZXJSZXZlYWw9PT1jJiZhLmZpbHRlckNhbGxiYWNrPT09YyYmYS5jaGlsZHJlbj09PWMpO3RoaXMuX3N1cGVyKGEpLGEuaW5wdXQhPT1jJiYodGhpcy5fc2V0SW5wdXQoYS5pbnB1dCksYj0hMCksYiYmdGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5fZ2V0RmlsdGVyYWJsZUl0ZW1zKCk7YS5lbmhhbmNlZD9iLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIixhLmZpbHRlclJldmVhbCk6Yi5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fdGltZXImJihiLmNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9MCksdGhpcy5fZmlsdGVySXRlbXMoKHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLnZhbCgpfHwiIikudG9Mb3dlckNhc2UoKSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yi5jYWxsKHRoaXMsYyksYS5fc3luY1RleHRJbnB1dE9wdGlvbnMoYyl9fSxkPS8oXnxccyl1aS1saS1kaXZpZGVyKFxzfCQpLyxlPWEubW9iaWxlLmZpbHRlcmFibGUucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s7YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiF0aGlzLmNsYXNzTmFtZS5tYXRjaChkKSYmZS5jYWxsKHRoaXMsYSxiKX0sYS53aWRnZXQoIm1vYmlsZS5maWx0ZXJhYmxlIixhLm1vYmlsZS5maWx0ZXJhYmxlLHtvcHRpb25zOntmaWx0ZXJQbGFjZWhvbGRlcjoiRmlsdGVyIGl0ZW1zLi4uIixmaWx0ZXJUaGVtZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMuZWxlbWVudCxlPVsiY29sbGFwc2libGVzZXQiLCJzZWxlY3RtZW51IiwiY29udHJvbGdyb3VwIiwibGlzdHZpZXciXSxmPXt9O2Zvcih0aGlzLl9zdXBlcigpLGEuZXh0ZW5kKHRoaXMse193aWRnZXQ6bnVsbH0pLGI9ZS5sZW5ndGgtMTtiPi0xO2ItLSlpZihjPWVbYl0sYS5tb2JpbGVbY10pe2lmKHRoaXMuX3NldFdpZGdldChkLmRhdGEoIm1vYmlsZS0iK2MpKSlicmVhaztmW2MrImNyZWF0ZSJdPSJfaGFuZGxlQ3JlYXRlIn10aGlzLl93aWRnZXR8fHRoaXMuX29uKGQsZil9LF9oYW5kbGVDcmVhdGU6ZnVuY3Rpb24oYSl7dGhpcy5fc2V0V2lkZ2V0KHRoaXMuZWxlbWVudC5kYXRhKCJtb2JpbGUtIithLnR5cGUuc3Vic3RyaW5nKDAsYS50eXBlLmxlbmd0aC02KSkpfSxfdHJpZ2dlcjpmdW5jdGlvbihhLGIsYyl7dGhpcy5fd2lkZ2V0JiYibW9iaWxlLWxpc3R2aWV3Ij09PXRoaXMuX3dpZGdldC53aWRnZXRGdWxsTmFtZSYmImJlZm9yZWZpbHRlciI9PT1hJiZ0aGlzLl93aWRnZXQuX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsYixjKSx0aGlzLl9zdXBlcihhLGIsYyl9LF9zZXRXaWRnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuX3dpZGdldCYmYSYmKHRoaXMuX3dpZGdldD1hLHRoaXMuX3dpZGdldC5fc2V0T3B0aW9ucz1jKHRoaXMsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zKSksdGhpcy5fd2lkZ2V0JiYodGhpcy5fc3luY1RleHRJbnB1dE9wdGlvbnModGhpcy5fd2lkZ2V0Lm9wdGlvbnMpLCJsaXN0dmlldyI9PT10aGlzLl93aWRnZXQud2lkZ2V0TmFtZSYmKHRoaXMuX3dpZGdldC5vcHRpb25zLmhpZGVEaXZpZGVycz0hMCx0aGlzLl93aWRnZXQuZWxlbWVudC5saXN0dmlldygicmVmcmVzaCIpKSksISF0aGlzLl93aWRnZXR9LF9pc1NlYXJjaEludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmpxbURhdGEoInVpLWZpbHRlcmFibGUtIit0aGlzLnV1aWQrIi1pbnRlcm5hbCIpfSxfc2V0SW5wdXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9ITAsZT17fTtpZighYil7aWYodGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpKXJldHVybjtkPSExLGI9YSgiPGlucHV0IGRhdGEtIithLm1vYmlsZS5ucysidHlwZT0nc2VhcmNoJyBwbGFjZWhvbGRlcj0nIitjLmZpbHRlclBsYWNlaG9sZGVyKyInPjwvaW5wdXQ+IikuanFtRGF0YSgidWktZmlsdGVyYWJsZS0iK3RoaXMudXVpZCsiLWludGVybmFsIiwhMCksYSgiPGZvcm0gY2xhc3M9J3VpLWZpbHRlcmFibGUnPjwvZm9ybT4iKS5hcHBlbmQoYikuc3VibWl0KGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxiLmJsdXIoKX0pLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQpLGEubW9iaWxlLnRleHRpbnB1dCYmKG51bGwhPXRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZSYmKGUudGhlbWU9Yy5maWx0ZXJUaGVtZSksYi50ZXh0aW5wdXQoZSkpfXRoaXMuX3N1cGVyKGIpLHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmZCYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIix0aGlzLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zdXBlcihjKTtyZXR1cm4gYy5maWx0ZXJQbGFjZWhvbGRlciE9PWImJnRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLmF0dHIoInBsYWNlaG9sZGVyIixjLmZpbHRlclBsYWNlaG9sZGVyKSxjLmZpbHRlclRoZW1lIT09YiYmdGhpcy5fc2VhcmNoJiZhLm1vYmlsZS50ZXh0aW5wdXQmJnRoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsInRoZW1lIixjLmZpbHRlclRoZW1lKSxkfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9LF9zeW5jVGV4dElucHV0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZCxlPXt9O2lmKHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmYS5tb2JpbGUudGV4dGlucHV0KXtmb3IoZCBpbiBhLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLm9wdGlvbnMpY1tkXSE9PWImJihlW2RdPSJ0aGVtZSI9PT1kJiZudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU/dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lOmNbZF0pO3RoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIm9wdGlvbiIsZSl9fX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtyZXR1cm4rK2V9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5oYXNoLmxlbmd0aD4xJiZkZWNvZGVVUklDb21wb25lbnQoYS5ocmVmLnJlcGxhY2UoZiwiIikpPT09ZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhyZWYucmVwbGFjZShmLCIiKSl9dmFyIGU9MCxmPS8jLiokLzthLndpZGdldCgidWkudGFicyIse3ZlcnNpb246ImZhZGYyYjMxMmEwNTA0MDQzNjQ1MWM2NGJiZmFmNDgxNGJjNjJjNTYiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITEsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLGMuY29sbGFwc2libGUpLmRlbGVnYXRlKCIudWktdGFicy1uYXYgPiBsaSIsIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihiKXthKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmYi5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9wcm9jZXNzVGFicygpLGMuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKSxhLmlzQXJyYXkoYy5kaXNhYmxlZCkmJihjLmRpc2FibGVkPWEudW5pcXVlKGMuZGlzYWJsZWQuY29uY2F0KGEubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRhYnMuaW5kZXgoYSl9KSkpLnNvcnQoKSksdGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUoYy5hY3RpdmUpOmEoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQoYy5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5hY3RpdmUsYz10aGlzLm9wdGlvbnMuY29sbGFwc2libGUsZD1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PWImJihkJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihjLGUpe3JldHVybiBhKGUpLmF0dHIoImFyaWEtY29udHJvbHMiKT09PWQ/KGI9YywhMSk6dm9pZCAwfSksbnVsbD09PWImJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSkpLChudWxsPT09Ynx8LTE9PT1iKSYmKGI9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksYiE9PSExJiYoYj10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKGIpKSwtMT09PWImJihiPWM/ITE6MCkpLCFjJiZiPT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPTApLGJ9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6YSgpfX0sX3RhYktleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoImxpIiksZD10aGlzLnRhYnMuaW5kZXgoYyksZT0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdihiKSl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBhLnVpLmtleUNvZGUuRE9XTjpkKys7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuVVA6Y2FzZSBhLnVpLmtleUNvZGUuTEVGVDplPSExLGQtLTticmVhaztjYXNlIGEudWkua2V5Q29kZS5FTkQ6ZD10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuSE9NRTpkPTA7YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx2b2lkIHRoaXMuX2FjdGl2YXRlKGQpO2Nhc2UgYS51aS5rZXlDb2RlLkVOVEVSOnJldHVybiBiLnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksdm9pZCB0aGlzLl9hY3RpdmF0ZShkPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTpkKTtkZWZhdWx0OnJldHVybn1iLnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksZD10aGlzLl9mb2N1c05leHRUYWIoZCxlKSxiLmN0cmxLZXl8fChjLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJmYWxzZSIpLHRoaXMudGFicy5lcShkKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwidHJ1ZSIpLHRoaXMuYWN0aXZhdGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMub3B0aW9uKCJhY3RpdmUiLGQpfSx0aGlzLmRlbGF5KSl9fSxfcGFuZWxLZXlkb3duOmZ1bmN0aW9uKGIpe3RoaXMuX2hhbmRsZVBhZ2VOYXYoYil8fGIuY3RybEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlVQJiYoYi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYWN0aXZlLmZvY3VzKCkpfSxfaGFuZGxlUGFnZU5hdjpmdW5jdGlvbihiKXtyZXR1cm4gYi5hbHRLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5QQUdFX1VQPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZS0xLCExKSksITApOmIuYWx0S2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuUEFHRV9ET1dOPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSsxLCEwKSksITApOnZvaWQgMH0sX2ZpbmROZXh0VGFiOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe3JldHVybiBiPmUmJihiPTApLDA+YiYmKGI9ZSksYn1mb3IodmFyIGU9dGhpcy50YWJzLmxlbmd0aC0xOy0xIT09YS5pbkFycmF5KGQoKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyliPWM/YisxOmItMTtyZXR1cm4gYn0sX2ZvY3VzTmV4dFRhYjpmdW5jdGlvbihhLGIpe3JldHVybiBhPXRoaXMuX2ZpbmROZXh0VGFiKGEsYiksdGhpcy50YWJzLmVxKGEpLmZvY3VzKCksYX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiJhY3RpdmUiPT09YT92b2lkIHRoaXMuX2FjdGl2YXRlKGIpOiJkaXNhYmxlZCI9PT1hP3ZvaWQgdGhpcy5fc2V0dXBEaXNhYmxlZChiKToodGhpcy5fc3VwZXIoYSxiKSwiY29sbGFwc2libGUiPT09YSYmKHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsYiksYnx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PWEmJnRoaXMuX3NldHVwRXZlbnRzKGIpLHZvaWQoImhlaWdodFN0eWxlIj09PWEmJnRoaXMuX3NldHVwSGVpZ2h0U3R5bGUoYikpKX0sX3RhYklkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmF0dHIoImFyaWEtY29udHJvbHMiKXx8InVpLXRhYnMtIitjKCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBhP2EucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTtiLmRpc2FibGVkPWEubWFwKGMuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihhKXtyZXR1cm4gYy5pbmRleChhKX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksYi5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFhLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PWIuZGlzYWJsZWQubGVuZ3RoPyhiLmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1hKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsYi5hY3RpdmUtMSksITEpKTpiLmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOihiLmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1hKCkpLHRoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXR1cERpc2FibGVkKHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fc2V0dXBFdmVudHModGhpcy5vcHRpb25zLmV2ZW50KSx0aGlzLl9zZXR1cEhlaWdodFN0eWxlKHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSksdGhpcy50YWJzLm5vdCh0aGlzLmFjdGl2ZSkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscy5ub3QodGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpKS5oaWRlKCkuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KSx0aGlzLmFjdGl2ZS5sZW5ndGg/KHRoaXMuYWN0aXZlLmFkZENsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLHRhYkluZGV4OjB9KSx0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkuc2hvdygpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy50YWJsaXN0PXRoaXMuX2dldExpc3QoKS5hZGRDbGFzcygidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwiKS5hdHRyKCJyb2xlIiwidGFibGlzdCIpLHRoaXMudGFicz10aGlzLnRhYmxpc3QuZmluZCgiPiBsaTpoYXMoYVtocmVmXSkiKS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItdG9wIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pLHRoaXMuYW5jaG9ycz10aGlzLnRhYnMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEoImEiLHRoaXMpWzBdfSkuYWRkQ2xhc3MoInVpLXRhYnMtYW5jaG9yIikuYXR0cih7cm9sZToicHJlc2VudGF0aW9uIix0YWJJbmRleDotMX0pLHRoaXMucGFuZWxzPWEoKSx0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbihjLGUpe3ZhciBmLGcsaCxpPWEoZSkudW5pcXVlSWQoKS5hdHRyKCJpZCIpLGo9YShlKS5jbG9zZXN0KCJsaSIpLGs9ai5hdHRyKCJhcmlhLWNvbnRyb2xzIik7ZChlKT8oZj1lLmhhc2gsZz1iLmVsZW1lbnQuZmluZChiLl9zYW5pdGl6ZVNlbGVjdG9yKGYpKSk6KGg9Yi5fdGFiSWQoaiksZj0iIyIraCxnPWIuZWxlbWVudC5maW5kKGYpLGcubGVuZ3RofHwoZz1iLl9jcmVhdGVQYW5lbChoKSxnLmluc2VydEFmdGVyKGIucGFuZWxzW2MtMV18fGIudGFibGlzdCkpLGcuYXR0cigiYXJpYS1saXZlIiwicG9saXRlIikpLGcubGVuZ3RoJiYoYi5wYW5lbHM9Yi5wYW5lbHMuYWRkKGcpKSxrJiZqLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIsayksai5hdHRyKHsiYXJpYS1jb250cm9scyI6Zi5zdWJzdHJpbmcoMSksImFyaWEtbGFiZWxsZWRieSI6aX0pLGcuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixpKX0pLHRoaXMucGFuZWxzLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5hdHRyKCJyb2xlIiwidGFicGFuZWwiKX0sX2dldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoIm9sLHVsIikuZXEoMCl9LF9jcmVhdGVQYW5lbDpmdW5jdGlvbihiKXtyZXR1cm4gYSgiPGRpdj4iKS5hdHRyKCJpZCIsYikuYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmRhdGEoInVpLXRhYnMtZGVzdHJveSIsITApfSxfc2V0dXBEaXNhYmxlZDpmdW5jdGlvbihiKXthLmlzQXJyYXkoYikmJihiLmxlbmd0aD9iLmxlbmd0aD09PXRoaXMuYW5jaG9ycy5sZW5ndGgmJihiPSEwKTpiPSExKTtmb3IodmFyIGMsZD0wO2M9dGhpcy50YWJzW2RdO2QrKyliPT09ITB8fC0xIT09YS5pbkFycmF5KGQsYik/YShjKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpOmEoYykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpO3RoaXMub3B0aW9ucy5kaXNhYmxlZD1ifSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oYil7dmFyIGM9e2NsaWNrOmZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX19O2ImJmEuZWFjaChiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtjW2JdPSJfZXZlbnRIYW5kbGVyIn0pLHRoaXMuX29mZih0aGlzLmFuY2hvcnMuYWRkKHRoaXMudGFicykuYWRkKHRoaXMucGFuZWxzKSksdGhpcy5fb24odGhpcy5hbmNob3JzLGMpLHRoaXMuX29uKHRoaXMudGFicyx7a2V5ZG93bjoiX3RhYktleWRvd24ifSksdGhpcy5fb24odGhpcy5wYW5lbHMse2tleWRvd246Il9wYW5lbEtleWRvd24ifSksdGhpcy5fZm9jdXNhYmxlKHRoaXMudGFicyksdGhpcy5faG92ZXJhYmxlKHRoaXMudGFicyl9LF9zZXR1cEhlaWdodFN0eWxlOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5lbGVtZW50LnBhcmVudCgpOyJmaWxsIj09PWI/KGM9ZC5oZWlnaHQoKSxjLT10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKS10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKCI6dmlzaWJsZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGQ9Yi5jc3MoInBvc2l0aW9uIik7ImFic29sdXRlIiE9PWQmJiJmaXhlZCIhPT1kJiYoYy09Yi5vdXRlckhlaWdodCghMCkpfSksdGhpcy5lbGVtZW50LmNoaWxkcmVuKCkubm90KHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7Yy09YSh0aGlzKS5vdXRlckhlaWdodCghMCl9KSx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCxjLWEodGhpcykuaW5uZXJIZWlnaHQoKSthKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKToiYXV0byI9PT1iJiYoYz0wLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtjPU1hdGgubWF4KGMsYSh0aGlzKS5oZWlnaHQoIiIpLmhlaWdodCgpKX0pLmhlaWdodChjKSl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLGQ9dGhpcy5hY3RpdmUsZT1hKGIuY3VycmVudFRhcmdldCksZj1lLmNsb3Nlc3QoImxpIiksZz1mWzBdPT09ZFswXSxoPWcmJmMuY29sbGFwc2libGUsaT1oP2EoKTp0aGlzLl9nZXRQYW5lbEZvclRhYihmKSxqPWQubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKGQpOmEoKSxrPXtvbGRUYWI6ZCxvbGRQYW5lbDpqLG5ld1RhYjpoP2EoKTpmLG5ld1BhbmVsOml9O2IucHJldmVudERlZmF1bHQoKSxmLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHxmLmhhc0NsYXNzKCJ1aS10YWJzLWxvYWRpbmciKXx8dGhpcy5ydW5uaW5nfHxnJiYhYy5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlQWN0aXZhdGUiLGIsayk9PT0hMXx8KGMuYWN0aXZlPWg/ITE6dGhpcy50YWJzLmluZGV4KGYpLHRoaXMuYWN0aXZlPWc/YSgpOmYsdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCksai5sZW5ndGh8fGkubGVuZ3RofHxhLmVycm9yKCJqUXVlcnkgVUkgVGFiczogTWlzbWF0Y2hpbmcgZnJhZ21lbnQgaWRlbnRpZmllci4iKSxpLmxlbmd0aCYmdGhpcy5sb2FkKHRoaXMudGFicy5pbmRleChmKSxiKSx0aGlzLl90b2dnbGUoYixrKSl9LF90b2dnbGU6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7Zi5ydW5uaW5nPSExLGYuX3RyaWdnZXIoImFjdGl2YXRlIixiLGMpfWZ1bmN0aW9uIGUoKXtjLm5ld1RhYi5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxnLmxlbmd0aCYmZi5vcHRpb25zLnNob3c/Zi5fc2hvdyhnLGYub3B0aW9ucy5zaG93LGQpOihnLnNob3coKSxkKCkpfXZhciBmPXRoaXMsZz1jLm5ld1BhbmVsLGg9Yy5vbGRQYW5lbDt0aGlzLnJ1bm5pbmc9ITAsaC5sZW5ndGgmJnRoaXMub3B0aW9ucy5oaWRlP3RoaXMuX2hpZGUoaCx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2Mub2xkVGFiLmNsb3Nlc3QoImxpIikucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSIpLGUoKX0pOihjLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxoLmhpZGUoKSxlKCkpLGguYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KSxjLm9sZFRhYi5hdHRyKCJhcmlhLXNlbGVjdGVkIiwiZmFsc2UiKSxnLmxlbmd0aCYmaC5sZW5ndGg/Yy5vbGRUYWIuYXR0cigidGFiSW5kZXgiLC0xKTpnLmxlbmd0aCYmdGhpcy50YWJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09YSh0aGlzKS5hdHRyKCJ0YWJJbmRleCIpfSkuYXR0cigidGFiSW5kZXgiLC0xKSxnLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsImFyaWEtaGlkZGVuIjoiZmFsc2UifSksYy5uZXdUYWIuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuX2ZpbmRBY3RpdmUoYik7ZFswXSE9PXRoaXMuYWN0aXZlWzBdJiYoZC5sZW5ndGh8fChkPXRoaXMuYWN0aXZlKSxjPWQuZmluZCgiLnVpLXRhYnMtYW5jaG9yIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6YyxjdXJyZW50VGFyZ2V0OmMscHJldmVudERlZmF1bHQ6YS5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbihiKXtyZXR1cm4gYj09PSExP2EoKTp0aGlzLnRhYnMuZXEoYil9LF9nZXRJbmRleDpmdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGEmJihhPXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKCJbaHJlZiQ9JyIrYSsiJ10iKSkpLGF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIHVpLXRhYnMtY29sbGFwc2libGUiKSx0aGlzLnRhYmxpc3QucmVtb3ZlQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikucmVtb3ZlQXR0cigicm9sZSIpLHRoaXMuYW5jaG9ycy5yZW1vdmVDbGFzcygidWktdGFicy1hbmNob3IiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigidGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpLHRoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXthLmRhdGEodGhpcywidWktdGFicy1kZXN0cm95Iik/YSh0aGlzKS5yZW1vdmUoKTphKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCB1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktd2lkZ2V0LWNvbnRlbnQgdWktdGFicy1hY3RpdmUgdWktdGFicy1wYW5lbCIpLnJlbW92ZUF0dHIoInRhYkluZGV4IikucmVtb3ZlQXR0cigiYXJpYS1saXZlIikucmVtb3ZlQXR0cigiYXJpYS1idXN5IikucmVtb3ZlQXR0cigiYXJpYS1zZWxlY3RlZCIpLnJlbW92ZUF0dHIoImFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1leHBhbmRlZCIpLnJlbW92ZUF0dHIoInJvbGUiKX0pLHRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIik7Yz9iLmF0dHIoImFyaWEtY29udHJvbHMiLGMpLnJlbW92ZURhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpOmIucmVtb3ZlQXR0cigiYXJpYS1jb250cm9scyIpfSksdGhpcy5wYW5lbHMuc2hvdygpLCJjb250ZW50IiE9PXRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSYmdGhpcy5wYW5lbHMuY3NzKCJoZWlnaHQiLCIiKX0sZW5hYmxlOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtkIT09ITEmJihjPT09Yj9kPSExOihjPXRoaXMuX2dldEluZGV4KGMpLGQ9YS5pc0FycmF5KGQpP2EubWFwKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1jP2E6bnVsbH0pOmEubWFwKHRoaXMudGFicyxmdW5jdGlvbihhLGIpe3JldHVybiBiIT09Yz9iOm51bGx9KSksdGhpcy5fc2V0dXBEaXNhYmxlZChkKSl9LGRpc2FibGU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5vcHRpb25zLmRpc2FibGVkO2lmKGQhPT0hMCl7aWYoYz09PWIpZD0hMDtlbHNle2lmKGM9dGhpcy5fZ2V0SW5kZXgoYyksLTEhPT1hLmluQXJyYXkoYyxkKSlyZXR1cm47ZD1hLmlzQXJyYXkoZCk/YS5tZXJnZShbY10sZCkuc29ydCgpOltjXX10aGlzLl9zZXR1cERpc2FibGVkKGQpfX0sbG9hZDpmdW5jdGlvbihiLGMpe2I9dGhpcy5fZ2V0SW5kZXgoYik7dmFyIGU9dGhpcyxmPXRoaXMudGFicy5lcShiKSxnPWYuZmluZCgiLnVpLXRhYnMtYW5jaG9yIiksaD10aGlzLl9nZXRQYW5lbEZvclRhYihmKSxpPXt0YWI6ZixwYW5lbDpofTtkKGdbMF0pfHwodGhpcy54aHI9YS5hamF4KHRoaXMuX2FqYXhTZXR0aW5ncyhnLGMsaSkpLHRoaXMueGhyJiYiY2FuY2VsZWQiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKGYuYWRkQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpLGguYXR0cigiYXJpYS1idXN5IiwidHJ1ZSIpLHRoaXMueGhyLnN1Y2Nlc3MoZnVuY3Rpb24oYSl7c2V0VGltZW91dChmdW5jdGlvbigpe2guaHRtbChhKSxlLl90cmlnZ2VyKCJsb2FkIixjLGkpfSwxKX0pLmNvbXBsZXRlKGZ1bmN0aW9uKGEsYil7c2V0VGltZW91dChmdW5jdGlvbigpeyJhYm9ydCI9PT1iJiZlLnBhbmVscy5zdG9wKCExLCEwKSxmLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWxvYWRpbmciKSxoLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLGE9PT1lLnhociYmZGVsZXRlIGUueGhyfSwxKX0pKSl9LF9hamF4U2V0dGluZ3M6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7cmV0dXJue3VybDpiLmF0dHIoImhyZWYiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKGIsZil7cmV0dXJuIGUuX3RyaWdnZXIoImJlZm9yZUxvYWQiLGMsYS5leHRlbmQoe2pxWEhSOmIsYWpheFNldHRpbmdzOmZ9LGQpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24oYil7dmFyIGM9YShiKS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK2MpKX19KX0oYSksZnVuY3Rpb24oKXt9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtlPWEub3JpZ2luYWxFdmVudCxpPWUuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxmPU1hdGguYWJzKGkueCksZz1NYXRoLmFicyhpLnkpLGg9TWF0aC5hYnMoaS56KSwhYi5vcmllbnRhdGlvbiYmKGY+N3x8KGg+NiYmOD5nfHw4PmgmJmc+NikmJmY+NSk/ZC5lbmFibGVkJiZkLmRpc2FibGUoKTpkLmVuYWJsZWR8fGQuZW5hYmxlKCl9YS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSEwO3ZhciBkLGUsZixnLGgsaSxqPW5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuL2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmL09TIFsxLTVdX1swLTlfXSogbGlrZSBNYWMgT1MgWC9pLnRlc3QoaikmJmouaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMT8oZD1hLm1vYmlsZS56b29tLHZvaWQgYS5tb2JpbGUuZG9jdW1lbnQub24oIm1vYmlsZWluaXQiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkJiZhLm1vYmlsZS53aW5kb3cuYmluZCgib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXgiLGQuZW5hYmxlKS5iaW5kKCJkZXZpY2Vtb3Rpb24uaW9zb3JpZW50YXRpb25maXgiLGMpfSkpOnZvaWQoYS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSExKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXtlLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIil9dmFyIGU9YSgiaHRtbCIpLGY9YS5tb2JpbGUud2luZG93O2EoYi5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpLGEubW9iaWxlLmdyYWRlQSgpJiYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdCYmKGEubW9iaWxlLmFqYXhFbmFibGVkPSExKSxlLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpLHNldFRpbWVvdXQoZCw1ZTMpLGEuZXh0ZW5kKGEubW9iaWxlLHtpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLnBhdGgsZT1hKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiksZz1iLnN0cmlwSGFzaChiLnN0cmlwUXVlcnlQYXJhbXMoYi5wYXJzZUxvY2F0aW9uKCkuaGFzaCkpLGg9Yy5nZXRFbGVtZW50QnlJZChnKTsKZS5sZW5ndGh8fChlPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiWzBdLmdldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSksYS5tb2JpbGUuZmlyc3RQYWdlPWUuZmlyc3QoKSxhLm1vYmlsZS5wYWdlQ29udGFpbmVyPWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0IikucGFnZWNvbnRhaW5lcigpLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpLGYudHJpZ2dlcigicGFnZWNvbnRhaW5lcmNyZWF0ZSIpLGEubW9iaWxlLmxvYWRpbmcoInNob3ciKSxkKCksYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJmEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhKGgpLmlzKCI6anFtRGF0YShyb2xlPSdwYWdlJykiKXx8YS5tb2JpbGUucGF0aC5pc1BhdGgoZyl8fGc9PT1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT9hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2s9W10sYS5tb2JpbGUubmF2aWdhdGUoYS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/bG9jYXRpb24uaGFzaDpsb2NhdGlvbi5ocmVmKSk6Zi50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKTooYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKSYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuaW5pdGlhbERzdD1nLnJlcGxhY2UoIiMiLCIiKSksYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpJiZhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3Iuc3F1YXNoKGIucGFyc2VMb2NhdGlvbigpLmhyZWYpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSl9fSksYShmdW5jdGlvbigpe2Euc3VwcG9ydC5pbmxpbmVTVkcoKSxhLm1vYmlsZS5oaWRlVXJsQmFyJiZiLnNjcm9sbFRvKDAsMSksYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9YS5zdXBwb3J0LnNjcm9sbFRvcCYmMSE9PWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKT8xOjAsYS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZhLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpLGEubW9iaWxlLmhpZGVVcmxCYXImJmYubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpLGEuc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzfHxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiLnVpLXN0YXRlLWRpc2FibGVkLC51aS1kaXNhYmxlZCIsInZjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCl9KX0pKX0oYSx0aGlzKX0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1qcXVlcnkubW9iaWxlLTEuNC4yLm1pbi5tYXA=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 06:46:05 GMT",
                    "Content-Length": "195659",
                    "Date": "Fri, 07 Nov 2014 06:46:06 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
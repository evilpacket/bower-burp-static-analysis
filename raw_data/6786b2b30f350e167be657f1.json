{
    "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/build/javascripts/jquery.mobile-1.3.1.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>n!==d?(u(d=n,r),e(t).trigger(s)):r!==d&amp;&amp;(location.href=location.href.replace(/#.*/,\"\")+r),o=setTimeout(i,e.fn[s].delay)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/marcorinck/jquery-mobile-iscrollview/demo/build/javascripts/jquery.mobile-1.3.1.min.js",
                "path": "/marcorinck/jquery-mobile-iscrollview/demo/build/javascripts/jquery.mobile-1.3.1.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9tYXJjb3JpbmNrL2pxdWVyeS1tb2JpbGUtaXNjcm9sbHZpZXcvZGVtby9idWlsZC9qYXZhc2NyaXB0cy9qcXVlcnkubW9iaWxlLTEuMy4xLm1pbi5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTQ0NTI5DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA2OjQ5OjQzIEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwNjo0OTo0MyBHTVQNCg0KLyohIGpRdWVyeSBNb2JpbGUgMS4zLjEgfCBHaXQgSEVBRCBoYXNoOiA3NGI0YmVjIDw+IDIwMTMtMDQtMTBUMjE6NTc6MjNaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KCihmdW5jdGlvbihlLHQsaSl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihuKXtyZXR1cm4gaShuLGUsdCksbi5tb2JpbGV9KTppKGUualF1ZXJ5LGUsdCl9KSh0aGlzLGRvY3VtZW50LGZ1bmN0aW9uKGUsdCxpLG4peyhmdW5jdGlvbihlKXtlLm1vYmlsZT17fX0pKGUpLGZ1bmN0aW9uKGUsdCxuKXt2YXIgYT17fTtlLm1vYmlsZT1lLmV4dGVuZChlLm1vYmlsZSx7dmVyc2lvbjoiMS4zLjEiLG5zOiIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MjUwLHRvdWNoT3ZlcmZsb3dFbmFibGVkOiExLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWU6ImUiLHBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQ6ITEsYXV0b0luaXRpYWxpemVQYWdlOiEwLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsaWdub3JlQ29udGVudEVuYWJsZWQ6ITEsb3JpZW50YXRpb25DaGFuZ2VFbmFibGVkOiEwLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LHdpbmRvdzplKHQpLGRvY3VtZW50OmUoaSksa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LGJlaGF2aW9yczp7fSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oaSl7Im51bWJlciIhPT1lLnR5cGUoaSkmJihpPWUubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSxlLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zY3JvbGxUbygwLGkpLGUubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5Oml9KX0sMjApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sbnNOb3JtYWxpemVEaWN0OmEsbnNOb3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/YVt0XXx8KGFbdF09ZS5jYW1lbENhc2UoZS5tb2JpbGUubnMrdCkpOm59LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpLG4sYT1lWzBdLG89IiIscz0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi87YSYmKGk9YS5jbGFzc05hbWV8fCIiLCEoaSYmKG49cy5leGVjKGkpKSYmKG89blsyXSkpKTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIG98fHR8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJtb2JpbGUtcGFnZSIpfSxlbmhhbmNlYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhlLCJlbmhhbmNlIil9LGhpamFja2FibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoZSwiYWpheCIpfSxoYXZlUGFyZW50czpmdW5jdGlvbih0LGkpe2lmKCFlLm1vYmlsZS5pZ25vcmVDb250ZW50RW5hYmxlZClyZXR1cm4gdDtmb3IodmFyIG4sYSxvLHM9dC5sZW5ndGgscj1lKCksbD0wO3M+bDtsKyspe2ZvcihhPXQuZXEobCksbz0hMSxuPXRbbF07bjspe3ZhciBkPW4uZ2V0QXR0cmlidXRlP24uZ2V0QXR0cmlidXRlKCJkYXRhLSIrZS5tb2JpbGUubnMraSk6IiI7aWYoImZhbHNlIj09PWQpe289ITA7YnJlYWt9bj1uLnBhcmVudE5vZGV9b3x8KHI9ci5hZGQoYSkpfXJldHVybiByfSxnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbm5lckhlaWdodHx8ZS5tb2JpbGUud2luZG93LmhlaWdodCgpfX0sZS5tb2JpbGUpLGUuZm4uanFtRGF0YT1mdW5jdGlvbih0LGkpe3ZhciBhO3JldHVybiB0IT09biYmKHQmJih0PWUubW9iaWxlLm5zTm9ybWFsaXplKHQpKSxhPTI+YXJndW1lbnRzLmxlbmd0aHx8aT09PW4/dGhpcy5kYXRhKHQpOnRoaXMuZGF0YSh0LGkpKSxhfSxlLmpxbURhdGE9ZnVuY3Rpb24odCxpLGEpe3ZhciBvO3JldHVybiBpIT09biYmKG89ZS5kYXRhKHQsaT9lLm1vYmlsZS5uc05vcm1hbGl6ZShpKTppLGEpKSxvfSxlLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShlLm1vYmlsZS5uc05vcm1hbGl6ZSh0KSl9LGUuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbih0LGkpe3JldHVybiBlLnJlbW92ZURhdGEodCxlLm1vYmlsZS5uc05vcm1hbGl6ZShpKSl9LGUuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oKXtlLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxlLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKHQpe3ZhciBpPWUodCk7KGkuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxlKCkpLnJlbW92ZSgpLGkucmVtb3ZlKCl9LGUuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbih0KXtlLmFkZERlcGVuZGVudHMoZSh0aGlzKSx0KX0sZS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKHQsaSl7dmFyIG49ZSh0KS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGUoKTtlKHQpLmpxbURhdGEoImRlcGVuZGVudHMiLGUubWVyZ2UobixpKSl9LGUuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZSgiPGRpdi8+IikudGV4dChlKHRoaXMpLnRleHQoKSkuaHRtbCgpfSxlLmZuLmpxbUVuaGFuY2VhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfSxlLmZuLmpxbUhpamFja2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX07dmFyIG89ZS5maW5kLHM9LzpqcW1EYXRhXCgoW14pXSopXCkvZztlLmZpbmQ9ZnVuY3Rpb24odCxpLG4sYSl7cmV0dXJuIHQ9dC5yZXBsYWNlKHMsIltkYXRhLSIrKGUubW9iaWxlLm5zfHwiIikrIiQxXSIpLG8uY2FsbCh0aGlzLHQsaSxuLGEpfSxlLmV4dGVuZChlLmZpbmQsbyksZS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5maW5kKHQsbnVsbCxudWxsLGkpfSxlLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuZmluZChpLG51bGwsbnVsbCxbdF0pLmxlbmd0aD4wfX0oZSx0aGlzKSxmdW5jdGlvbihlLHQpe3ZhciBpPTAsbj1BcnJheS5wcm90b3R5cGUuc2xpY2UsYT1lLmNsZWFuRGF0YTtlLmNsZWFuRGF0YT1mdW5jdGlvbih0KXtmb3IodmFyIGksbj0wO251bGwhPShpPXRbbl0pO24rKyl0cnl7ZShpKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9Y2F0Y2gobyl7fWEodCl9LGUud2lkZ2V0PWZ1bmN0aW9uKGksbixhKXt2YXIgbyxzLHIsbCxkPWkuc3BsaXQoIi4iKVswXTtpPWkuc3BsaXQoIi4iKVsxXSxvPWQrIi0iK2ksYXx8KGE9bixuPWUuV2lkZ2V0KSxlLmV4cHJbIjoiXVtvLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhZS5kYXRhKHQsbyl9LGVbZF09ZVtkXXx8e30scz1lW2RdW2ldLHI9ZVtkXVtpXT1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/KGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChlLGkpLHQpOm5ldyByKGUsaSl9LGUuZXh0ZW5kKHIscyx7dmVyc2lvbjphLnZlcnNpb24sX3Byb3RvOmUuZXh0ZW5kKHt9LGEpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLGw9bmV3IG4sbC5vcHRpb25zPWUud2lkZ2V0LmV4dGVuZCh7fSxsLm9wdGlvbnMpLGUuZWFjaChhLGZ1bmN0aW9uKHQsaSl7ZS5pc0Z1bmN0aW9uKGkpJiYoYVt0XT1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucHJvdG90eXBlW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYT1mdW5jdGlvbihlKXtyZXR1cm4gbi5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxlKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLl9zdXBlcixvPXRoaXMuX3N1cGVyQXBwbHk7cmV0dXJuIHRoaXMuX3N1cGVyPWUsdGhpcy5fc3VwZXJBcHBseT1hLHQ9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fc3VwZXI9bix0aGlzLl9zdXBlckFwcGx5PW8sdH19KCkpfSksci5wcm90b3R5cGU9ZS53aWRnZXQuZXh0ZW5kKGwse3dpZGdldEV2ZW50UHJlZml4OnM/bC53aWRnZXRFdmVudFByZWZpeDppfSxhLHtjb25zdHJ1Y3RvcjpyLG5hbWVzcGFjZTpkLHdpZGdldE5hbWU6aSx3aWRnZXRGdWxsTmFtZTpvfSkscz8oZS5lYWNoKHMuX2NoaWxkQ29uc3RydWN0b3JzLGZ1bmN0aW9uKHQsaSl7dmFyIG49aS5wcm90b3R5cGU7ZS53aWRnZXQobi5uYW1lc3BhY2UrIi4iK24ud2lkZ2V0TmFtZSxyLGkuX3Byb3RvKX0pLGRlbGV0ZSBzLl9jaGlsZENvbnN0cnVjdG9ycyk6bi5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaChyKSxlLndpZGdldC5icmlkZ2UoaSxyKX0sZS53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKGkpe2Zvcih2YXIgYSxvLHM9bi5jYWxsKGFyZ3VtZW50cywxKSxyPTAsbD1zLmxlbmd0aDtsPnI7cisrKWZvcihhIGluIHNbcl0pbz1zW3JdW2FdLHNbcl0uaGFzT3duUHJvcGVydHkoYSkmJm8hPT10JiYoaVthXT1lLmlzUGxhaW5PYmplY3Qobyk/ZS5pc1BsYWluT2JqZWN0KGlbYV0pP2Uud2lkZ2V0LmV4dGVuZCh7fSxpW2FdLG8pOmUud2lkZ2V0LmV4dGVuZCh7fSxvKTpvKTtyZXR1cm4gaX0sZS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGksYSl7dmFyIG89YS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fGk7ZS5mbltpXT1mdW5jdGlvbihzKXt2YXIgcj0ic3RyaW5nIj09dHlwZW9mIHMsbD1uLmNhbGwoYXJndW1lbnRzLDEpLGQ9dGhpcztyZXR1cm4gcz0hciYmbC5sZW5ndGg/ZS53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW3NdLmNvbmNhdChsKSk6cyxyP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuLGE9ZS5kYXRhKHRoaXMsbyk7cmV0dXJuIGE/ZS5pc0Z1bmN0aW9uKGFbc10pJiYiXyIhPT1zLmNoYXJBdCgwKT8obj1hW3NdLmFwcGx5KGEsbCksbiE9PWEmJm4hPT10PyhkPW4mJm4uanF1ZXJ5P2QucHVzaFN0YWNrKG4uZ2V0KCkpOm4sITEpOnQpOmUuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK3MrIicgZm9yICIraSsiIHdpZGdldCBpbnN0YW5jZSIpOmUuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitpKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIrImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitzKyInIil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lLmRhdGEodGhpcyxvKTt0P3Qub3B0aW9uKHN8fHt9KS5faW5pdCgpOmUuZGF0YSh0aGlzLG8sbmV3IGEocyx0aGlzKSl9KSxkfX0sZS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGUuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxlLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbih0LG4pe249ZShufHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9ZShuKSx0aGlzLnV1aWQ9aSsrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWUud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLHQpLHRoaXMuYmluZGluZ3M9ZSgpLHRoaXMuaG92ZXJhYmxlPWUoKSx0aGlzLmZvY3VzYWJsZT1lKCksbiE9PXRoaXMmJihlLmRhdGEobix0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09biYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1lKG4uc3R5bGU/bi5vd25lckRvY3VtZW50Om4uZG9jdW1lbnR8fG4pLHRoaXMud2luZG93PWUodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6ZS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6ZS5ub29wLF9jcmVhdGU6ZS5ub29wLF9pbml0OmUubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpLnJlbW92ZURhdGEodGhpcy53aWRnZXRGdWxsTmFtZSkucmVtb3ZlRGF0YShlLmNhbWVsQ2FzZSh0aGlzLndpZGdldEZ1bGxOYW1lKSksdGhpcy53aWRnZXQoKS51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCAiKyJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuYmluZGluZ3MudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxfZGVzdHJveTplLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGksbil7dmFyIGEsbyxzLHI9aTtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoInN0cmluZyI9PXR5cGVvZiBpKWlmKHI9e30sYT1pLnNwbGl0KCIuIiksaT1hLnNoaWZ0KCksYS5sZW5ndGgpe2ZvcihvPXJbaV09ZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9uc1tpXSkscz0wO2EubGVuZ3RoLTE+cztzKyspb1thW3NdXT1vW2Fbc11dfHx7fSxvPW9bYVtzXV07aWYoaT1hLnBvcCgpLG49PT10KXJldHVybiBvW2ldPT09dD9udWxsOm9baV07b1tpXT1ufWVsc2V7aWYobj09PXQpcmV0dXJuIHRoaXMub3B0aW9uc1tpXT09PXQ/bnVsbDp0aGlzLm9wdGlvbnNbaV07cltpXT1ufXJldHVybiB0aGlzLl9zZXRPcHRpb25zKHIpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpdGhpcy5fc2V0T3B0aW9uKHQsZVt0XSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcHRpb25zW2VdPXQsImRpc2FibGVkIj09PWUmJih0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KS5hdHRyKCJhcmlhLWRpc2FibGVkIix0KSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKSksdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LF9vbjpmdW5jdGlvbihpLG4sYSl7dmFyIG8scz10aGlzOyJib29sZWFuIiE9dHlwZW9mIGkmJihhPW4sbj1pLGk9ITEpLGE/KG49bz1lKG4pLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQobikpOihhPW4sbj10aGlzLmVsZW1lbnQsbz10aGlzLndpZGdldCgpKSxlLmVhY2goYSxmdW5jdGlvbihhLHIpe2Z1bmN0aW9uIGwoKXtyZXR1cm4gaXx8cy5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFlKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpPygic3RyaW5nIj09dHlwZW9mIHI/c1tyXTpyKS5hcHBseShzLGFyZ3VtZW50cyk6dH0ic3RyaW5nIiE9dHlwZW9mIHImJihsLmd1aWQ9ci5ndWlkPXIuZ3VpZHx8bC5ndWlkfHxlLmd1aWQrKyk7dmFyIGQ9YS5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxjPWRbMV0rcy5ldmVudE5hbWVzcGFjZSxoPWRbMl07aD9vLmRlbGVnYXRlKGgsYyxsKTpuLmJpbmQoYyxsKX0pfSxfb2ZmOmZ1bmN0aW9uKGUsdCl7dD0odHx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxlLnVuYmluZCh0KS51bmRlbGVnYXRlKHQpfSxfZGVsYXk6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKCl7cmV0dXJuKCJzdHJpbmciPT10eXBlb2YgZT9uW2VdOmUpLmFwcGx5KG4sYXJndW1lbnRzKX12YXIgbj10aGlzO3JldHVybiBzZXRUaW1lb3V0KGksdHx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24odCl7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKHQpLHRoaXMuX29uKHQse21vdXNlZW50ZXI6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe2UodC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbih0KXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQodCksdGhpcy5fb24odCx7Zm9jdXNpbjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKHQpe2UodC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLG4pe3ZhciBhLG8scz10aGlzLm9wdGlvbnNbdF07aWYobj1ufHx7fSxpPWUuRXZlbnQoaSksaS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxpLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sbz1pLm9yaWdpbmFsRXZlbnQpZm9yKGEgaW4gbylhIGluIGl8fChpW2FdPW9bYV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLG4pLCEoZS5pc0Z1bmN0aW9uKHMpJiZzLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbaV0uY29uY2F0KG4pKT09PSExfHxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGUuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24odCxpKXtlLldpZGdldC5wcm90b3R5cGVbIl8iK3RdPWZ1bmN0aW9uKG4sYSxvKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPXtlZmZlY3Q6YX0pO3ZhciBzLHI9YT9hPT09ITB8fCJudW1iZXIiPT10eXBlb2YgYT9pOmEuZWZmZWN0fHxpOnQ7YT1hfHx7fSwibnVtYmVyIj09dHlwZW9mIGEmJihhPXtkdXJhdGlvbjphfSkscz0hZS5pc0VtcHR5T2JqZWN0KGEpLGEuY29tcGxldGU9byxhLmRlbGF5JiZuLmRlbGF5KGEuZGVsYXkpLHMmJmUuZWZmZWN0cyYmZS5lZmZlY3RzLmVmZmVjdFtyXT9uW3RdKGEpOnIhPT10JiZuW3JdP25bcl0oYS5kdXJhdGlvbixhLmVhc2luZyxvKTpuLnF1ZXVlKGZ1bmN0aW9uKGkpe2UodGhpcylbdF0oKSxvJiZvLmNhbGwoblswXSksaSgpfSl9fSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7ZS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RyaWdnZXIoImluaXQiKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmVsZW1lbnQsbj17fTtyZXR1cm4gZS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihlKXt2YXIgYT1pLmpxbURhdGEoZS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGUpe3JldHVybiItIitlLnRvTG93ZXJDYXNlKCl9KSk7YSE9PXQmJihuW2VdPWEpfSksbn0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbih0LGkpe3RoaXMuZW5oYW5jZShlKHRoaXMub3B0aW9ucy5pbml0U2VsZWN0b3IsZSh0KSksaSl9LGVuaGFuY2U6ZnVuY3Rpb24odCxpKXt2YXIgbixhLG89ZSh0KTtvPWUubW9iaWxlLmVuaGFuY2VhYmxlKG8pLGkmJm8ubGVuZ3RoJiYobj1lLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEobyksYT1uJiZuLmtlZXBOYXRpdmVTZWxlY3RvcigpfHwiIixvPW8ubm90KGEpKSxvW3RoaXMud2lkZ2V0TmFtZV0oKX0scmFpc2U6ZnVuY3Rpb24oZSl7dGhyb3ciV2lkZ2V0IFsiK3RoaXMud2lkZ2V0TmFtZSsiXTogIitlfX0pfShlKSxmdW5jdGlvbihlKXtlLmV4dGVuZChlLm1vYmlsZSx7bG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZTpuLGxvYWRpbmdNZXNzYWdlVGhlbWU6bixsb2FkaW5nTWVzc2FnZTpuLHNob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbih0LGksbil7ZS5tb2JpbGUubG9hZGluZygic2hvdyIsdCxpLG4pfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtlLm1vYmlsZS5sb2FkaW5nKCJoaWRlIil9LGxvYWRpbmc6ZnVuY3Rpb24oKXt0aGlzLmxvYWRlcldpZGdldC5sb2FkZXIuYXBwbHkodGhpcy5sb2FkZXJXaWRnZXQsYXJndW1lbnRzKX19KTt2YXIgdD0idWktbG9hZGVyIixpPWUoImh0bWwiKSxhPWUubW9iaWxlLndpbmRvdztlLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIit0KyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyc+PC9zcGFuPiIrIjxoMT48L2gxPiIrIjwvZGl2PiIsZmFrZUZpeExvYWRlcjpmdW5jdGlvbigpe3ZhciB0PWUoIi4iK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO3RoaXMuZWxlbWVudC5jc3Moe3RvcDplLnN1cHBvcnQuc2Nyb2xsVG9wJiZhLnNjcm9sbFRvcCgpK2EuaGVpZ2h0KCkvMnx8dC5sZW5ndGgmJnQub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSxpPWEuc2Nyb2xsVG9wKCksbj1lLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTsoaT50LnRvcHx8dC50b3AtaT5uKSYmKHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSx0aGlzLmZha2VGaXhMb2FkZXIoKSxhLnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pLmJpbmQoInNjcm9sbCIsZS5wcm94eSh0aGlzLmZha2VGaXhMb2FkZXIsdGhpcykpKX0scmVzZXRIdG1sOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmh0bWwoZSh0aGlzLmRlZmF1bHRIdG1sKS5odG1sKCkpfSxzaG93OmZ1bmN0aW9uKG8scyxyKXt2YXIgbCxkLGM7dGhpcy5yZXNldEh0bWwoKSwib2JqZWN0Ij09PWUudHlwZShvKT8oYz1lLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsbyksbz1jLnRoZW1lfHxlLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lKTooYz10aGlzLm9wdGlvbnMsbz1vfHxlLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lfHxjLnRoZW1lKSxkPXN8fGUubW9iaWxlLmxvYWRpbmdNZXNzYWdlfHxjLnRleHQsaS5hZGRDbGFzcygidWktbG9hZGluZyIpLChlLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSE9PSExfHxjLmh0bWwpJiYobD1lLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlIT09bj9lLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmMudGV4dFZpc2libGUsdGhpcy5lbGVtZW50LmF0dHIoImNsYXNzIix0KyIgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrbysiIHVpLWxvYWRlci0iKyhsfHxzfHxvLnRleHQ/InZlcmJvc2UiOiJkZWZhdWx0IikrKGMudGV4dG9ubHl8fHI/IiB1aS1sb2FkZXItdGV4dG9ubHkiOiIiKSksYy5odG1sP3RoaXMuZWxlbWVudC5odG1sKGMuaHRtbCk6dGhpcy5lbGVtZW50LmZpbmQoImgxIikudGV4dChkKSx0aGlzLmVsZW1lbnQuYXBwZW5kVG8oZS5tb2JpbGUucGFnZUNvbnRhaW5lciksdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKCksYS5iaW5kKCJzY3JvbGwiLGUucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKSl9LGhpZGU6ZnVuY3Rpb24oKXtpLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIiksZS5tb2JpbGUubG9hZGluZ01lc3NhZ2UmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSxlLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuZmFrZUZpeExvYWRlciksZS5tb2JpbGUud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pfX0pLGEuYmluZCgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXtlLm1vYmlsZS5sb2FkZXJXaWRnZXQ9ZS5tb2JpbGUubG9hZGVyV2lkZ2V0fHxlKGUubW9iaWxlLmxvYWRlci5wcm90b3R5cGUuZGVmYXVsdEh0bWwpLmxvYWRlcigpfSl9KGUsdGhpcyksZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGU9ZXx8bG9jYXRpb24uaHJlZiwiIyIrZS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgbyxzPSJoYXNoY2hhbmdlIixyPWksbD1lLmV2ZW50LnNwZWNpYWwsZD1yLmRvY3VtZW50TW9kZSxjPSJvbiIrcyBpbiB0JiYoZD09PW58fGQ+Nyk7ZS5mbltzXT1mdW5jdGlvbihlKXtyZXR1cm4gZT90aGlzLmJpbmQocyxlKTp0aGlzLnRyaWdnZXIocyl9LGUuZm5bc10uZGVsYXk9NTAsbFtzXT1lLmV4dGVuZChsW3NdLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBjPyExOihlKG8uc3RhcnQpLG4pfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBjPyExOihlKG8uc3RvcCksbil9fSksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt2YXIgbj1hKCkscj1wKGQpO24hPT1kPyh1KGQ9bixyKSxlKHQpLnRyaWdnZXIocykpOnIhPT1kJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK3IpLG89c2V0VGltZW91dChpLGUuZm5bc10uZGVsYXkpfXZhciBvLGw9e30sZD1hKCksaD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdT1oLHA9aDtyZXR1cm4gbC5zdGFydD1mdW5jdGlvbigpe298fGkoKX0sbC5zdG9wPWZ1bmN0aW9uKCl7byYmY2xlYXJUaW1lb3V0KG8pLG89bn0sdC5hdHRhY2hFdmVudCYmIXQuYWRkRXZlbnRMaXN0ZW5lciYmIWMmJmZ1bmN0aW9uKCl7dmFyIHQsbjtsLnN0YXJ0PWZ1bmN0aW9uKCl7dHx8KG49ZS5mbltzXS5zcmMsbj1uJiZuK2EoKSx0PWUoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe258fHUoYSgpKSxpKCl9KS5hdHRyKCJzcmMiLG58fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csci5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5eyJ0aXRsZSI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJih0LmRvY3VtZW50LnRpdGxlPXIudGl0bGUpfWNhdGNoKGUpe319KX0sbC5zdG9wPWgscD1mdW5jdGlvbigpe3JldHVybiBhKHQubG9jYXRpb24uaHJlZil9LHU9ZnVuY3Rpb24oaSxuKXt2YXIgYT10LmRvY3VtZW50LG89ZS5mbltzXS5kb21haW47aSE9PW4mJihhLnRpdGxlPXIudGl0bGUsYS5vcGVuKCksbyYmYS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrbysnIjwvc2NyaXB0PicpLGEuY2xvc2UoKSx0LmxvY2F0aW9uLmhhc2g9aSl9fSgpLGx9KCl9KGUsdGhpcyksZnVuY3Rpb24oZSl7dC5tYXRjaE1lZGlhPXQubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oZSl7dmFyIHQsaT1lLmRvY3VtZW50RWxlbWVudCxuPWkuZmlyc3RFbGVtZW50Q2hpbGR8fGkuZmlyc3RDaGlsZCxhPWUuY3JlYXRlRWxlbWVudCgiYm9keSIpLG89ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gby5pZD0ibXEtdGVzdC0xIixvLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGEuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsYS5hcHBlbmRDaGlsZChvKSxmdW5jdGlvbihlKXtyZXR1cm4gby5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2UrJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxpLmluc2VydEJlZm9yZShhLG4pLHQ9NDI9PT1vLm9mZnNldFdpZHRoLGkucmVtb3ZlQ2hpbGQoYSkse21hdGNoZXM6dCxtZWRpYTplfX19KGkpLGUubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hdGNoTWVkaWEoZSkubWF0Y2hlc319KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PXt0b3VjaDoib250b3VjaGVuZCJpbiBpfTtlLm1vYmlsZS5zdXBwb3J0PWUubW9iaWxlLnN1cHBvcnR8fHt9LGUuZXh0ZW5kKGUuc3VwcG9ydCx0KSxlLmV4dGVuZChlLm1vYmlsZS5zdXBwb3J0LHQpfShlKSxmdW5jdGlvbihlKXtlLmV4dGVuZChlLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiB0JiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiB0fSl9KGUpLGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpLGk9KGUrIiAiK3Auam9pbih0KyIgIikrdCkuc3BsaXQoIiAiKTtmb3IodmFyIGEgaW4gaSlpZih1W2lbYV1dIT09bilyZXR1cm4hMH1mdW5jdGlvbiBvKGUsdCxuKXtmb3IodmFyIGEsbz1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSl9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIiI9PT1lPyIiOiItIitlLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Uuc3Vic3RyKDEpKyItIn0sbD1mdW5jdGlvbihpKXt2YXIgbj1yKGkpK2UrIjogIit0KyI7IixsPXMoaSksZD1sKygiIj09PWw/ZTpzKGUpKTtvLnNldEF0dHJpYnV0ZSgic3R5bGUiLG4pLG8uc3R5bGVbZF0mJihhPSEwKX0sZD1uP246cCxjPTA7ZC5sZW5ndGg+YztjKyspbChkW2NdKTtyZXR1cm4hIWF9ZnVuY3Rpb24gcygpe3ZhciBhPSJ0cmFuc2Zvcm0tM2QiLG89ZS5tb2JpbGUubWVkaWEoIigtIitwLmpvaW4oIi0iK2ErIiksKC0iKSsiLSIrYSsiKSwoIithKyIpIik7aWYobylyZXR1cm4hIW87dmFyIHM9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9O2guYXBwZW5kKHMpO2Zvcih2YXIgbCBpbiByKXMuc3R5bGVbbF0hPT1uJiYocy5zdHlsZVtsXT0idHJhbnNsYXRlM2QoIDEwMHB4LCAxcHgsIDFweCApIixvPXQuZ2V0Q29tcHV0ZWRTdHlsZShzKS5nZXRQcm9wZXJ0eVZhbHVlKHJbbF0pKTtyZXR1cm4hIW8mJiJub25lIiE9PW99ZnVuY3Rpb24gcigpe3ZhciB0LGksbj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGE9ZSgiaGVhZCBiYXNlIiksbz1udWxsLHM9IiI7cmV0dXJuIGEubGVuZ3RoP3M9YS5hdHRyKCJocmVmIik6YT1vPWUoIjxiYXNlPiIse2hyZWY6bn0pLmFwcGVuZFRvKCJoZWFkIiksdD1lKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhoKSxpPXRbMF0uaHJlZixhWzBdLmhyZWY9c3x8bG9jYXRpb24ucGF0aG5hbWUsbyYmby5yZW1vdmUoKSwwPT09aS5pbmRleE9mKG4pfWZ1bmN0aW9uIGwoKXt2YXIgZSxuPWkuY3JlYXRlRWxlbWVudCgieCIpLGE9aS5kb2N1bWVudEVsZW1lbnQsbz10LmdldENvbXB1dGVkU3R5bGU7cmV0dXJuInBvaW50ZXJFdmVudHMiaW4gbi5zdHlsZT8obi5zdHlsZS5wb2ludGVyRXZlbnRzPSJhdXRvIixuLnN0eWxlLnBvaW50ZXJFdmVudHM9IngiLGEuYXBwZW5kQ2hpbGQobiksZT1vJiYiYXV0byI9PT1vKG4sIiIpLnBvaW50ZXJFdmVudHMsYS5yZW1vdmVDaGlsZChuKSwhIWUpOiExfWZ1bmN0aW9uIGQoKXt2YXIgZT1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PW59ZnVuY3Rpb24gYygpe3ZhciBlPXQsaT1uYXZpZ2F0b3IudXNlckFnZW50LG49bmF2aWdhdG9yLnBsYXRmb3JtLGE9aS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksbz0hIWEmJmFbMV0scz1pLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLykscj0hIXMmJnNbMV0sbD1pLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGQ9ISFsJiZsWzFdO3JldHVybihuLmluZGV4T2YoImlQaG9uZSIpPi0xfHxuLmluZGV4T2YoImlQYWQiKT4tMXx8bi5pbmRleE9mKCJpUG9kIik+LTEpJiZvJiY1MzQ+b3x8ZS5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChlLm9wZXJhbWluaSl8fGwmJjc0NTg+ZHx8aS5pbmRleE9mKCJBbmRyb2lkIik+LTEmJm8mJjUzMz5vfHxyJiY2PnJ8fCJwYWxtR2V0UmVzb3VyY2UiaW4gdCYmbyYmNTM0Pm98fGkuaW5kZXhPZigiTWVlR28iKT4tMSYmaS5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT8hMTohMH12YXIgaD1lKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSx1PWhbMF0uc3R5bGUscD1bIldlYmtpdCIsIk1veiIsIk8iXSxtPSJwYWxtR2V0UmVzb3VyY2UiaW4gdCxmPXQub3BlcmEsZz10Lm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKHQub3BlcmFtaW5pKSxiPXQuYmxhY2tiZXJyeSYmIWEoIi13ZWJraXQtdHJhbnNmb3JtIik7ZS5leHRlbmQoZS5tb2JpbGUse2Jyb3dzZXI6e319KSxlLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGU9Myx0PWkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbj10LmFsbHx8W107ZG8gdC5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKytlKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKG5bMF0pO3JldHVybiBlPjQ/ZTohZX0oKSxlLmV4dGVuZChlLnN1cHBvcnQse2Nzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gdHx8bygidHJhbnNpdGlvbiIsImhlaWdodCAxMDBtcyBsaW5lYXIiLFsiV2Via2l0IiwiTW96IiwiIl0pJiYhZS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmIWYscHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5JiYhKHQubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94Iik+PTAmJnQudG9wIT09dCkmJi0xPT09dC5uYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaCgvQ3JpT1MvKSxtZWRpYXF1ZXJ5OmUubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFhKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWEoIm92ZXJmbG93U2Nyb2xsaW5nIiksY3NzVHJhbnNmb3JtM2Q6cygpLGJveFNoYWRvdzohIWEoImJveFNoYWRvdyIpJiYhYixmaXhlZFBvc2l0aW9uOmMoKSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiB0fHwic2Nyb2xsVG9wImluIGkuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGhbMF0pJiYhbSYmIWcsZHluYW1pY0Jhc2VUYWc6cigpLGNzc1BvaW50ZXJFdmVudHM6bCgpLGJvdW5kaW5nUmVjdDpkKCl9KSxoLnJlbW92ZSgpO3ZhciB2PWZ1bmN0aW9uKCl7dmFyIGU9dC5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBlLmluZGV4T2YoIk5va2lhIik+LTEmJihlLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxlLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmUuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmZS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2UubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihlLnN1cHBvcnQubWVkaWFxdWVyeXx8ZS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmZS5tb2JpbGUuYnJvd3Nlci5vbGRJRT49NykmJihlLnN1cHBvcnQuYm91bmRpbmdSZWN0fHxudWxsIT09ZS5mbi5qcXVlcnkubWF0Y2goLzFcLlswLTcrXVwuWzAtOStdPy8pKX0sZS5tb2JpbGUuYWpheEJsYWNrbGlzdD10LmJsYWNrYmVycnkmJiF0LldlYktpdFBvaW50fHxnfHx2LHYmJmUoZnVuY3Rpb24oKXtlKCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iKS5hdHRyKCJyZWwiLCJhbHRlcm5hdGUgc3R5bGVzaGVldCIpLmF0dHIoInJlbCIsInN0eWxlc2hlZXQiKX0pLGUuc3VwcG9ydC5ib3hTaGFkb3d8fGUoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0oZSksZnVuY3Rpb24oZSx0KXt2YXIgaSxuPWUubW9iaWxlLndpbmRvdztlLmV2ZW50LnNwZWNpYWwubmF2aWdhdGU9aT17Ym91bmQ6ITEscHVzaFN0YXRlRW5hYmxlZDohMCxvcmlnaW5hbEV2ZW50TmFtZTp0LGlzUHVzaFN0YXRlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBlLnN1cHBvcnQucHVzaFN0YXRlJiZlLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkPT09ITAmJnRoaXMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpfSxpc0hhc2hDaGFuZ2VFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGUubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkPT09ITB9LHBvcHN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBlLkV2ZW50KCJuYXZpZ2F0ZSIpLGE9bmV3IGUuRXZlbnQoImJlZm9yZW5hdmlnYXRlIiksbz10Lm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9O2xvY2F0aW9uLmhyZWYsbi50cmlnZ2VyKGEpLGEuaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0Lmhpc3RvcnlTdGF0ZSYmZS5leHRlbmQobyx0Lmhpc3RvcnlTdGF0ZSksaS5vcmlnaW5hbEV2ZW50PXQsc2V0VGltZW91dChmdW5jdGlvbigpe24udHJpZ2dlcihpLHtzdGF0ZTpvfSl9LDApKX0saGFzaGNoYW5nZTpmdW5jdGlvbih0KXt2YXIgaT1uZXcgZS5FdmVudCgibmF2aWdhdGUiKSxhPW5ldyBlLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpO24udHJpZ2dlcihhKSxhLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoaS5vcmlnaW5hbEV2ZW50PXQsbi50cmlnZ2VyKGkse3N0YXRlOnQuaGFzaGNoYW5nZVN0YXRlfHx7fX0pKX0sc2V0dXA6ZnVuY3Rpb24oKXtpLmJvdW5kfHwoaS5ib3VuZD0hMCxpLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhpLm9yaWdpbmFsRXZlbnROYW1lPSJwb3BzdGF0ZSIsbi5iaW5kKCJwb3BzdGF0ZS5uYXZpZ2F0ZSIsaS5wb3BzdGF0ZSkpOmkuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYoaS5vcmlnaW5hbEV2ZW50TmFtZT0iaGFzaGNoYW5nZSIsbi5iaW5kKCJoYXNoY2hhbmdlLm5hdmlnYXRlIixpLmhhc2hjaGFuZ2UpKSl9fX0oZSksZnVuY3Rpb24oZSxpKXt2YXIgbixhLG89IiZ1aS1zdGF0ZT1kaWFsb2ciO2UubW9iaWxlLnBhdGg9bj17dWlTdGF0ZUtleToiJnVpLXN0YXRlIix1cmxQYXJzZVJFOi9eXHMqKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sZ2V0TG9jYXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9ZT90aGlzLnBhcnNlVXJsKGUpOmxvY2F0aW9uLGk9dGhpcy5wYXJzZVVybChlfHxsb2NhdGlvbi5ocmVmKS5oYXNoO3JldHVybiBpPSIjIj09PWk/IiI6aSx0LnByb3RvY29sKyIvLyIrdC5ob3N0K3QucGF0aG5hbWUrdC5zZWFyY2graX0scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKHQpe2lmKCJvYmplY3QiPT09ZS50eXBlKHQpKXJldHVybiB0O3ZhciBpPW4udXJsUGFyc2VSRS5leGVjKHR8fCIiKXx8W107cmV0dXJue2hyZWY6aVswXXx8IiIsaHJlZk5vSGFzaDppWzFdfHwiIixocmVmTm9TZWFyY2g6aVsyXXx8IiIsZG9tYWluOmlbM118fCIiLHByb3RvY29sOmlbNF18fCIiLGRvdWJsZVNsYXNoOmlbNV18fCIiLGF1dGhvcml0eTppWzZdfHwiIix1c2VybmFtZTppWzhdfHwiIixwYXNzd29yZDppWzldfHwiIixob3N0OmlbMTBdfHwiIixob3N0bmFtZTppWzExXXx8IiIscG9ydDppWzEyXXx8IiIscGF0aG5hbWU6aVsxM118fCIiLGRpcmVjdG9yeTppWzE0XXx8IiIsZmlsZW5hbWU6aVsxNV18fCIiLHNlYXJjaDppWzE2XXx8IiIsaGFzaDppWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGUsdCl7aWYoZSYmIi8iPT09ZS5jaGFyQXQoMCkpcmV0dXJuIGU7ZT1lfHwiIix0PXQ/dC5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiO2Zvcih2YXIgaT10P3Quc3BsaXQoIi8iKTpbXSxuPWUuc3BsaXQoIi8iKSxhPTA7bi5sZW5ndGg+YTthKyspe3ZhciBvPW5bYV07c3dpdGNoKG8pe2Nhc2UiLiI6YnJlYWs7Y2FzZSIuLiI6aS5sZW5ndGgmJmkucG9wKCk7YnJlYWs7ZGVmYXVsdDppLnB1c2gobyl9fXJldHVybiIvIitpLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4ucGFyc2VVcmwoZSkuZG9tYWluPT09bi5wYXJzZVVybCh0KS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIiI9PT1uLnBhcnNlVXJsKGUpLnByb3RvY29sfSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGUpe3JldHVybiIiIT09bi5wYXJzZVVybChlKS5wcm90b2NvbH0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGUsdCl7aWYoIW4uaXNSZWxhdGl2ZVVybChlKSlyZXR1cm4gZTt0PT09aSYmKHQ9dGhpcy5kb2N1bWVudEJhc2UpO3ZhciBhPW4ucGFyc2VVcmwoZSksbz1uLnBhcnNlVXJsKHQpLHM9YS5wcm90b2NvbHx8by5wcm90b2NvbCxyPWEucHJvdG9jb2w/YS5kb3VibGVTbGFzaDphLmRvdWJsZVNsYXNofHxvLmRvdWJsZVNsYXNoLGw9YS5hdXRob3JpdHl8fG8uYXV0aG9yaXR5LGQ9IiIhPT1hLnBhdGhuYW1lLGM9bi5tYWtlUGF0aEFic29sdXRlKGEucGF0aG5hbWV8fG8uZmlsZW5hbWUsby5wYXRobmFtZSksaD1hLnNlYXJjaHx8IWQmJm8uc2VhcmNofHwiIix1PWEuaGFzaDtyZXR1cm4gcytyK2wrYytoK3V9LGFkZFNlYXJjaFBhcmFtczpmdW5jdGlvbih0LGkpe3ZhciBhPW4ucGFyc2VVcmwodCksbz0ib2JqZWN0Ij09dHlwZW9mIGk/ZS5wYXJhbShpKTppLHM9YS5zZWFyY2h8fCI/IjtyZXR1cm4gYS5ocmVmTm9TZWFyY2grcysoIj8iIT09cy5jaGFyQXQocy5sZW5ndGgtMSk/IiYiOiIiKStvKyhhLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihlKXt2YXIgaT1uLnBhcnNlVXJsKGUpO3JldHVybiBuLmlzRW1iZWRkZWRQYWdlKGkpP2kuaGFzaC5zcGxpdChvKVswXS5yZXBsYWNlKC9eIy8sIiIpLnJlcGxhY2UoL1w/LiokLywiIik6bi5pc1NhbWVEb21haW4oaSx0aGlzLmRvY3VtZW50QmFzZSk/aS5ocmVmTm9IYXNoLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKS5zcGxpdChvKVswXTp0LmRlY29kZVVSSUNvbXBvbmVudChlKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09aSYmKGU9bi5wYXJzZUxvY2F0aW9uKCkuaGFzaCksbi5zdHJpcEhhc2goZSkucmVwbGFjZSgvW15cL10qXC5bXlwvKl0rJC8sIiIpfSxzZXQ6ZnVuY3Rpb24oZSl7bG9jYXRpb24uaGFzaD1lfSxpc1BhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuL1wvLy50ZXN0KGUpfSxjbGVhbjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eIy8sIiIpfSxzdHJpcFF1ZXJ5UGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1w/LiokLywiIil9LGNsZWFuSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJpcEhhc2goZS5yZXBsYWNlKC9cPy4qJC8sIiIpLnJlcGxhY2UobywiIikpfSxpc0hhc2hWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4vXiNbXiNdKyQvLnRlc3QoZSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5wYXJzZVVybChlKTtyZXR1cm4gdC5wcm90b2NvbCYmdC5kb21haW4hPT10aGlzLmRvY3VtZW50VXJsLmRvbWFpbj8hMDohMX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oZSl7cmV0dXJuL14oOj9cdys6KS8udGVzdChlKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5wYXJzZVVybChlKTtyZXR1cm4iIiE9PXQucHJvdG9jb2w/IXRoaXMuaXNQYXRoKHQuaGFzaCkmJnQuaGFzaCYmKHQuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZ0LmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoKTovXiMvLnRlc3QodC5ocmVmKX0sc3F1YXNoOmZ1bmN0aW9uKGUsdCl7dmFyIGksYSxvLHMscj10aGlzLmlzUGF0aChlKSxsPXRoaXMucGFyc2VVcmwoZSksZD1sLmhhc2gsYz0iIjtyZXR1cm4gdD10fHwobi5pc1BhdGgoZSk/bi5nZXRMb2NhdGlvbigpOm4uZ2V0RG9jdW1lbnRVcmwoKSksYT1yP24uc3RyaXBIYXNoKGUpOmUsYT1uLmlzUGF0aChsLmhhc2gpP24uc3RyaXBIYXNoKGwuaGFzaCk6YSxzPWEuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpLHM+LTEmJihjPWEuc2xpY2UocyksYT1hLnNsaWNlKDAscykpLGk9bi5tYWtlVXJsQWJzb2x1dGUoYSx0KSxvPXRoaXMucGFyc2VVcmwoaSkuc2VhcmNoLHI/KChuLmlzUGF0aChkKXx8MD09PWQucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSkmJihkPSIiKSxjJiYtMT09PWQuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpJiYoZCs9YyksLTE9PT1kLmluZGV4T2YoIiMiKSYmIiIhPT1kJiYoZD0iIyIrZCksaT1uLnBhcnNlVXJsKGkpLGk9aS5wcm90b2NvbCsiLy8iK2kuaG9zdCtpLnBhdGhuYW1lK28rZCk6aSs9aS5pbmRleE9mKCIjIik+LTE/YzoiIyIrYyxpfSxpc1ByZXNlcnZhYmxlSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KX19LG4uZG9jdW1lbnRVcmw9bi5wYXJzZUxvY2F0aW9uKCksYT1lKCJoZWFkIikuZmluZCgiYmFzZSIpLG4uZG9jdW1lbnRCYXNlPWEubGVuZ3RoP24ucGFyc2VVcmwobi5tYWtlVXJsQWJzb2x1dGUoYS5hdHRyKCJocmVmIiksbi5kb2N1bWVudFVybC5ocmVmKSk6bi5kb2N1bWVudFVybCxuLmRvY3VtZW50QmFzZURpZmZlcnM9bi5kb2N1bWVudFVybC5ocmVmTm9IYXNoIT09bi5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCxuLmdldERvY3VtZW50VXJsPWZ1bmN0aW9uKHQpe3JldHVybiB0P2UuZXh0ZW5kKHt9LG4uZG9jdW1lbnRVcmwpOm4uZG9jdW1lbnRVcmwuaHJlZn0sbi5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ZS5leHRlbmQoe30sbi5kb2N1bWVudEJhc2UpOm4uZG9jdW1lbnRCYXNlLmhyZWZ9fShlKSxmdW5jdGlvbihlLHQpe2UubW9iaWxlLnBhdGgsZS5tb2JpbGUuSGlzdG9yeT1mdW5jdGlvbihlLHQpe3RoaXMuc3RhY2s9ZXx8W10sdGhpcy5hY3RpdmVJbmRleD10fHwwfSxlLmV4dGVuZChlLm1vYmlsZS5IaXN0b3J5LnByb3RvdHlwZSx7Z2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleF19LGdldExhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnByZXZpb3VzSW5kZXhdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleCsxXX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgtMV19LGFkZDpmdW5jdGlvbihlLHQpe3Q9dHx8e30sdGhpcy5nZXROZXh0KCkmJnRoaXMuY2xlYXJGb3J3YXJkKCksdC5oYXNoJiYtMT09PXQuaGFzaC5pbmRleE9mKCIjIikmJih0Lmhhc2g9IiMiK3QuaGFzaCksdC51cmw9ZSx0aGlzLnN0YWNrLnB1c2godCksdGhpcy5hY3RpdmVJbmRleD10aGlzLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPXRoaXMuc3RhY2suc2xpY2UoMCx0aGlzLmFjdGl2ZUluZGV4KzEpfSxmaW5kOmZ1bmN0aW9uKGUsdCxpKXt0PXR8fHRoaXMuc3RhY2s7dmFyIG4sYSxvLHM9dC5sZW5ndGg7Zm9yKGE9MDtzPmE7YSsrKWlmKG49dFthXSwoZGVjb2RlVVJJQ29tcG9uZW50KGUpPT09ZGVjb2RlVVJJQ29tcG9uZW50KG4udXJsKXx8ZGVjb2RlVVJJQ29tcG9uZW50KGUpPT09ZGVjb2RlVVJJQ29tcG9uZW50KG4uaGFzaCkpJiYobz1hLGkpKXJldHVybiBvO3JldHVybiBvfSxjbG9zZXN0OmZ1bmN0aW9uKGUpe3ZhciBpLG49dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gaT10aGlzLmZpbmQoZSx0aGlzLnN0YWNrLnNsaWNlKDAsbikpLGk9PT10JiYoaT10aGlzLmZpbmQoZSx0aGlzLnN0YWNrLnNsaWNlKG4pLCEwKSxpPWk9PT10P2k6aStuKSxpfSxkaXJlY3Q6ZnVuY3Rpb24oaSl7dmFyIG49dGhpcy5jbG9zZXN0KGkudXJsKSxhPXRoaXMuYWN0aXZlSW5kZXg7biE9PXQmJih0aGlzLmFjdGl2ZUluZGV4PW4sdGhpcy5wcmV2aW91c0luZGV4PWEpLGE+bj8oaS5wcmVzZW50fHxpLmJhY2t8fGUubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiYmFjayIpOm4+YT8oaS5wcmVzZW50fHxpLmZvcndhcmR8fGUubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiZm9yd2FyZCIpOm49PT10JiZpLm1pc3NpbmcmJmkubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oZSksZnVuY3Rpb24oZSl7dmFyIGE9ZS5tb2JpbGUucGF0aCxvPWxvY2F0aW9uLmhyZWY7ZS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKHQpe3RoaXMuaGlzdG9yeT10LHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsZS5tb2JpbGUud2luZG93LmJpbmQoeyJwb3BzdGF0ZS5oaXN0b3J5IjplLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksImhhc2hjaGFuZ2UuaGlzdG9yeSI6ZS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sZS5leHRlbmQoZS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7c3F1YXNoOmZ1bmN0aW9uKG4sbyl7dmFyIHMscixsPWEuaXNQYXRoKG4pP2Euc3RyaXBIYXNoKG4pOm47cmV0dXJuIHI9YS5zcXVhc2gobikscz1lLmV4dGVuZCh7aGFzaDpsLHVybDpyfSxvKSx0Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHMscy50aXRsZXx8aS50aXRsZSxyKSxzfSxoYXNoOmZ1bmN0aW9uKGUsdCl7dmFyIGksbixvO2lmKGk9YS5wYXJzZVVybChlKSxuPWEucGFyc2VMb2NhdGlvbigpLG4ucGF0aG5hbWUrbi5zZWFyY2g9PT1pLnBhdGhuYW1lK2kuc2VhcmNoKW89aS5oYXNoP2kuaGFzaDppLnBhdGhuYW1lK2kuc2VhcmNoO2Vsc2UgaWYoYS5pc1BhdGgoZSkpe3ZhciBzPWEucGFyc2VVcmwodCk7bz1zLnBhdGhuYW1lK3Muc2VhcmNoKyhhLmlzUHJlc2VydmFibGVIYXNoKHMuaGFzaCk/cy5oYXNoLnJlcGxhY2UoIiMiLCIiKToiIil9ZWxzZSBvPWU7cmV0dXJuIG99LGdvOmZ1bmN0aW9uKG4sbyxzKXt2YXIgcixsLGQsYyxoPWUuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKTtsPWEuc3F1YXNoKG4pLGQ9dGhpcy5oYXNoKG4sbCkscyYmZCE9PWEuc3RyaXBIYXNoKGEucGFyc2VMb2NhdGlvbigpLmhhc2gpJiYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9cyksdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSEwLHQubG9jYXRpb24uaGFzaD1kLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSxyPWUuZXh0ZW5kKHt1cmw6bCxoYXNoOmQsdGl0bGU6aS50aXRsZX0sbyksaCYmKGM9bmV3IGUuRXZlbnQoInBvcHN0YXRlIiksYy5vcmlnaW5hbEV2ZW50PXt0eXBlOiJwb3BzdGF0ZSIsc3RhdGU6bnVsbH0sdGhpcy5zcXVhc2gobixyKSxzfHwodGhpcy5pZ25vcmVQb3BTdGF0ZT0hMCxlLm1vYmlsZS53aW5kb3cudHJpZ2dlcihjKSkpLHRoaXMuaGlzdG9yeS5hZGQoci51cmwscil9LHBvcHN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBpLHM7aWYoZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4pOnRoaXMuaWdub3JlUG9wU3RhdGU/KHRoaXMuaWdub3JlUG9wU3RhdGU9ITEsbik6IXQub3JpZ2luYWxFdmVudC5zdGF0ZSYmMT09PXRoaXMuaGlzdG9yeS5zdGFjay5sZW5ndGgmJnRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2UmJih0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlPSExLGxvY2F0aW9uLmhyZWY9PT1vKT8odC5wcmV2ZW50RGVmYXVsdCgpLG4pOihpPWEucGFyc2VMb2NhdGlvbigpLmhhc2gsIXQub3JpZ2luYWxFdmVudC5zdGF0ZSYmaT8ocz10aGlzLnNxdWFzaChpKSx0aGlzLmhpc3RvcnkuYWRkKHMudXJsLHMpLHQuaGlzdG9yeVN0YXRlPXMsbik6KHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDoodC5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fSkudXJsfHxpLHByZXNlbnQ6ZnVuY3Rpb24oaSxuKXt0Lmhpc3RvcnlTdGF0ZT1lLmV4dGVuZCh7fSxpKSx0Lmhpc3RvcnlTdGF0ZS5kaXJlY3Rpb249bn19KSxuKSl9LGhhc2hjaGFuZ2U6ZnVuY3Rpb24odCl7dmFyIG8scztpZihlLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYhZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXtpZih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZSlyZXR1cm4gdGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9ITEsdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxuO289dGhpcy5oaXN0b3J5LHM9YS5wYXJzZUxvY2F0aW9uKCkuaGFzaCx0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6cyxwcmVzZW50OmZ1bmN0aW9uKGksbil7dC5oYXNoY2hhbmdlU3RhdGU9ZS5leHRlbmQoe30saSksdC5oYXNoY2hhbmdlU3RhdGUuZGlyZWN0aW9uPW59LG1pc3Npbmc6ZnVuY3Rpb24oKXtvLmFkZChzLHtoYXNoOnMsdGl0bGU6aS50aXRsZX0pfX0pfX19KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUubmF2aWdhdGU9ZnVuY3Rpb24odCxpLG4pe2UubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5nbyh0LGksbil9LGUubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk9bmV3IGUubW9iaWxlLkhpc3RvcnksZS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yPW5ldyBlLm1vYmlsZS5OYXZpZ2F0b3IoZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSk7dmFyIHQ9ZS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCk7ZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQodC5ocmVmLHtoYXNoOnQuaGFzaH0pfShlKSxmdW5jdGlvbihlLHQsaSxuKXtmdW5jdGlvbiBhKGUpe2Zvcig7ZSYmZS5vcmlnaW5hbEV2ZW50IT09bjspZT1lLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGV9ZnVuY3Rpb24gbyh0LGkpe3ZhciBvLHMscixsLGQsYyxoLHUscCxtPXQudHlwZTtpZih0PWUuRXZlbnQodCksdC50eXBlPWksbz10Lm9yaWdpbmFsRXZlbnQscz1lLmV2ZW50LnByb3BzLG0uc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYocz1xKSxvKWZvcihoPXMubGVuZ3RoLGw7aDspbD1zWy0taF0sdFtsXT1vW2xdO2lmKG0uc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhdC53aGljaCYmKHQud2hpY2g9MSksLTEhPT1tLnNlYXJjaCgvXnRvdWNoLykmJihyPWEobyksbT1yLnRvdWNoZXMsZD1yLmNoYW5nZWRUb3VjaGVzLGM9bSYmbS5sZW5ndGg/bVswXTpkJiZkLmxlbmd0aD9kWzBdOm4pKWZvcih1PTAscD1rLmxlbmd0aDtwPnU7dSsrKWw9a1t1XSx0W2xdPWNbbF07cmV0dXJuIHR9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGksbixhPXt9O3Q7KXtpPWUuZGF0YSh0LFQpO2ZvcihuIGluIGkpaVtuXSYmKGFbbl09YS5oYXNWaXJ0dWFsQmluZGluZz0hMCk7dD10LnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gcih0LGkpe2Zvcih2YXIgbjt0Oyl7aWYobj1lLmRhdGEodCxUKSxuJiYoIWl8fG5baV0pKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIGwoKXtNPSExfWZ1bmN0aW9uIGQoKXtNPSEwfWZ1bmN0aW9uIGMoKXtVPTAsTy5sZW5ndGg9MCxIPSExLGQoKX1mdW5jdGlvbiBoKCl7bCgpfWZ1bmN0aW9uIHUoKXtwKCksUz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Uz0wLGMoKX0sZS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1mdW5jdGlvbiBwKCl7UyYmKGNsZWFyVGltZW91dChTKSxTPTApfWZ1bmN0aW9uIG0odCxpLG4pe3ZhciBhO3JldHVybihuJiZuW3RdfHwhbiYmcihpLnRhcmdldCx0KSkmJihhPW8oaSx0KSxlKGkudGFyZ2V0KS50cmlnZ2VyKGEpKSxhfWZ1bmN0aW9uIGYodCl7dmFyIGk9ZS5kYXRhKHQudGFyZ2V0LEQpO2lmKCEoSHx8VSYmVT09PWkpKXt2YXIgbj1tKCJ2Iit0LnR5cGUsdCk7biYmKG4uaXNEZWZhdWx0UHJldmVudGVkKCkmJnQucHJldmVudERlZmF1bHQoKSxuLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJnQuc3RvcFByb3BhZ2F0aW9uKCksbi5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZ0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19ZnVuY3Rpb24gZyh0KXt2YXIgaSxuLG89YSh0KS50b3VjaGVzO2lmKG8mJjE9PT1vLmxlbmd0aCYmKGk9dC50YXJnZXQsbj1zKGkpLG4uaGFzVmlydHVhbEJpbmRpbmcpKXtVPUwrKyxlLmRhdGEoaSxELFUpLHAoKSxoKCksST0hMTt2YXIgcj1hKHQpLnRvdWNoZXNbMF07QT1yLnBhZ2VYLE49ci5wYWdlWSxtKCJ2bW91c2VvdmVyIix0LG4pLG0oInZtb3VzZWRvd24iLHQsbil9fWZ1bmN0aW9uIGIoZSl7TXx8KEl8fG0oInZtb3VzZWNhbmNlbCIsZSxzKGUudGFyZ2V0KSksST0hMCx1KCkpfWZ1bmN0aW9uIHYodCl7aWYoIU0pe3ZhciBpPWEodCkudG91Y2hlc1swXSxuPUksbz1lLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQscj1zKHQudGFyZ2V0KTtJPUl8fE1hdGguYWJzKGkucGFnZVgtQSk+b3x8TWF0aC5hYnMoaS5wYWdlWS1OKT5vLEkmJiFuJiZtKCJ2bW91c2VjYW5jZWwiLHQsciksbSgidm1vdXNlbW92ZSIsdCxyKSx1KCl9fWZ1bmN0aW9uIF8oZSl7aWYoIU0pe2QoKTt2YXIgdCxpPXMoZS50YXJnZXQpO2lmKG0oInZtb3VzZXVwIixlLGkpLCFJKXt2YXIgbj1tKCJ2Y2xpY2siLGUsaSk7biYmbi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9YShlKS5jaGFuZ2VkVG91Y2hlc1swXSxPLnB1c2goe3RvdWNoSUQ6VSx4OnQuY2xpZW50WCx5OnQuY2xpZW50WX0pLEg9ITApfW0oInZtb3VzZW91dCIsZSxpKSxJPSExLHUoKX19ZnVuY3Rpb24gQyh0KXt2YXIgaSxuPWUuZGF0YSh0LFQpO2lmKG4pZm9yKGkgaW4gbilpZihuW2ldKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHgoKXt9ZnVuY3Rpb24geSh0KXt2YXIgaT10LnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXtDKHRoaXMpfHxlLmRhdGEodGhpcyxULHt9KTt2YXIgbj1lLmRhdGEodGhpcyxUKTtuW3RdPSEwLGpbdF09KGpbdF18fDApKzEsMT09PWpbdF0mJkIuYmluZChpLGYpLGUodGhpcykuYmluZChpLHgpLEYmJihqLnRvdWNoc3RhcnQ9KGoudG91Y2hzdGFydHx8MCkrMSwxPT09ai50b3VjaHN0YXJ0JiZCLmJpbmQoInRvdWNoc3RhcnQiLGcpLmJpbmQoInRvdWNoZW5kIixfKS5iaW5kKCJ0b3VjaG1vdmUiLHYpLmJpbmQoInNjcm9sbCIsYikpfSx0ZWFyZG93bjpmdW5jdGlvbigpey0talt0XSxqW3RdfHxCLnVuYmluZChpLGYpLEYmJigtLWoudG91Y2hzdGFydCxqLnRvdWNoc3RhcnR8fEIudW5iaW5kKCJ0b3VjaHN0YXJ0IixnKS51bmJpbmQoInRvdWNobW92ZSIsdikudW5iaW5kKCJ0b3VjaGVuZCIsXykudW5iaW5kKCJzY3JvbGwiLGIpKTt2YXIgbj1lKHRoaXMpLGE9ZS5kYXRhKHRoaXMsVCk7YSYmKGFbdF09ITEpLG4udW5iaW5kKGkseCksQyh0aGlzKXx8bi5yZW1vdmVEYXRhKFQpfX19dmFyIHcsVD0idmlydHVhbE1vdXNlQmluZGluZ3MiLEQ9InZpcnR1YWxUb3VjaElEIixQPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxrPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLEU9ZS5ldmVudC5tb3VzZUhvb2tzP2UuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxxPWUuZXZlbnQucHJvcHMuY29uY2F0KEUpLGo9e30sUz0wLEE9MCxOPTAsST0hMSxPPVtdLEg9ITEsTT0hMSxGPSJhZGRFdmVudExpc3RlbmVyImluIGksQj1lKGkpLEw9MSxVPTA7ZS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIHo9MDtQLmxlbmd0aD56O3orKyllLmV2ZW50LnNwZWNpYWxbUFt6XV09eShQW3pdKTtGJiZpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbih0KXt2YXIgaSxhLG8scyxyLGwsZD1PLmxlbmd0aCxjPXQudGFyZ2V0O2lmKGQpZm9yKGk9dC5jbGllbnRYLGE9dC5jbGllbnRZLHc9ZS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZCxvPWM7bzspe2ZvcihzPTA7ZD5zO3MrKylpZihyPU9bc10sbD0wLG89PT1jJiZ3Pk1hdGguYWJzKHIueC1pKSYmdz5NYXRoLmFicyhyLnktYSl8fGUuZGF0YShvLEQpPT09ci50b3VjaElEKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxuO289by5wYXJlbnROb2RlfX0sITApfShlLHQsaSksZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGEodCxpLG4pe3ZhciBhPW4udHlwZTtuLnR5cGU9aSxlLmV2ZW50LmRpc3BhdGNoLmNhbGwodCxuKSxuLnR5cGU9YX12YXIgbz1lKGkpO2UuZWFjaCgidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbih0LGkpe2UuZm5baV09ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKGksZSk6dGhpcy50cmlnZ2VyKGkpfSxlLmF0dHJGbiYmKGUuYXR0ckZuW2ldPSEwKX0pO3ZhciBzPWUubW9iaWxlLnN1cHBvcnQudG91Y2gscj0idG91Y2htb3ZlIHNjcm9sbCIsbD1zPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixkPXM/InRvdWNoZW5kIjoibW91c2V1cCIsYz1zPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2UuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDohMCxzZXR1cDpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSx0KXtpPXQsYShvLGk/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsZSl9dmFyIGksbixvPXRoaXMscz1lKG8pO3MuYmluZChyLGZ1bmN0aW9uKGEpe2UuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoaXx8dChhLCEwKSxjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChhLCExKX0sNTApKX0pfX0sZS5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9ZSh0KTtpLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHMoKXtjbGVhclRpbWVvdXQoZCl9ZnVuY3Rpb24gcigpe3MoKSxpLnVuYmluZCgidmNsaWNrIixsKS51bmJpbmQoInZtb3VzZXVwIixzKSxvLnVuYmluZCgidm1vdXNlY2FuY2VsIixyKX1mdW5jdGlvbiBsKGUpe3IoKSxjPT09ZS50YXJnZXQmJmEodCwidGFwIixlKX1pZihuLndoaWNoJiYxIT09bi53aGljaClyZXR1cm4hMTt2YXIgZCxjPW4udGFyZ2V0O24ub3JpZ2luYWxFdmVudCxpLmJpbmQoInZtb3VzZXVwIixzKS5iaW5kKCJ2Y2xpY2siLGwpLG8uYmluZCgidm1vdXNlY2FuY2VsIixyKSxkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKHQsInRhcGhvbGQiLGUuRXZlbnQoInRhcGhvbGQiLHt0YXJnZXQ6Y30pKQp9LGUuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX19LGUuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxZTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/dC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06dDtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2kucGFnZVgsaS5wYWdlWV0sb3JpZ2luOmUodC50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihlKXt2YXIgdD1lLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9lLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTplO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbdC5wYWdlWCx0LnBhZ2VZXX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKHQsaSl7aS50aW1lLXQudGltZTxlLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKHQuY29vcmRzWzBdLWkuY29vcmRzWzBdKT5lLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyh0LmNvb3Jkc1sxXS1pLmNvb3Jkc1sxXSk8ZS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJnQub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcih0LmNvb3Jkc1swXT5pLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpfSxzZXR1cDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT1lKHQpO2kuYmluZChsLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGEodCl7cyYmKG89ZS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AodCksTWF0aC5hYnMocy5jb29yZHNbMF0tby5jb29yZHNbMF0pPmUuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZ0LnByZXZlbnREZWZhdWx0KCkpfXZhciBvLHM9ZS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KHQpO2kuYmluZChjLGEpLm9uZShkLGZ1bmN0aW9uKCl7aS51bmJpbmQoYyxhKSxzJiZvJiZlLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUocyxvKSxzPW89bn0pfSl9fSxlLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24odCxpKXtlLmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7ZSh0aGlzKS5iaW5kKGksZS5ub29wKX19fSl9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXtlKHRoaXMpLmJpbmQoInJlc2l6ZSIsbyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7ZSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsbyl9fTt2YXIgdCxpLG4sYT0yNTAsbz1mdW5jdGlvbigpe2k9KG5ldyBEYXRlKS5nZXRUaW1lKCksbj1pLXMsbj49YT8ocz1pLGUodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOih0JiZjbGVhclRpbWVvdXQodCksdD1zZXRUaW1lb3V0KG8sYS1uKSl9LHM9MH0oZSksZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBhKCl7dmFyIGU9bygpO2UhPT1zJiYocz1lLGQudHJpZ2dlcihjKSl9dmFyIG8scyxyLGwsZD1lKHQpLGM9Im9yaWVudGF0aW9uY2hhbmdlIixoPXswOiEwLDE4MDohMH07aWYoZS5zdXBwb3J0Lm9yaWVudGF0aW9uKXt2YXIgdT10LmlubmVyV2lkdGh8fGQud2lkdGgoKSxwPXQuaW5uZXJIZWlnaHR8fGQuaGVpZ2h0KCksbT01MDtyPXU+cCYmdS1wPm0sbD1oW3Qub3JpZW50YXRpb25dLChyJiZsfHwhciYmIWwpJiYoaD17Ii05MCI6ITAsOTA6ITB9KX1lLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9ZS5leHRlbmQoe30sZS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBlLnN1cHBvcnQub3JpZW50YXRpb24mJiFlLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KHM9bygpLGQuYmluZCgidGhyb3R0bGVkcmVzaXplIixhKSxuKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gZS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhZS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOihkLnVuYmluZCgidGhyb3R0bGVkcmVzaXplIixhKSxuKX0sYWRkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaGFuZGxlcjtlLmhhbmRsZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUub3JpZW50YXRpb249bygpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KSxlLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb249bz1mdW5jdGlvbigpe3ZhciBuPSEwLGE9aS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIG49ZS5zdXBwb3J0Lm9yaWVudGF0aW9uP2hbdC5vcmllbnRhdGlvbl06YSYmMS4xPmEuY2xpZW50V2lkdGgvYS5jbGllbnRIZWlnaHQsbj8icG9ydHJhaXQiOiJsYW5kc2NhcGUifSxlLmZuW2NdPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChjLGUpOnRoaXMudHJpZ2dlcihjKX0sZS5hdHRyRm4mJihlLmF0dHJGbltjXT0hMCl9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5wYWdlIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixkb21DYWNoZTohMSxrZWVwTmF0aXZlRGVmYXVsdDoiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImJlZm9yZWNyZWF0ZSIpPT09ITE/ITE6KHRoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKS5hZGRDbGFzcygidWktcGFnZSB1aS1ib2R5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse3BhZ2ViZWZvcmVoaWRlOiJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIixwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93In0pLG4pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe2UubW9iaWxlLnBhZ2VDb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIitlLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQucGFyZW50KCkpKX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnMudGhlbWUmJmUubW9iaWxlLnBhZ2VDb250YWluZXIuYWRkQ2xhc3MoInVpLW92ZXJsYXktIisodHx8dGhpcy5vcHRpb25zLnRoZW1lKSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucyxpPXQua2VlcE5hdGl2ZSYmZS50cmltKHQua2VlcE5hdGl2ZSk7cmV0dXJuIGkmJnQua2VlcE5hdGl2ZSE9PXQua2VlcE5hdGl2ZURlZmF1bHQ/W3Qua2VlcE5hdGl2ZSx0LmtlZXBOYXRpdmVEZWZhdWx0XS5qb2luKCIsICIpOnQua2VlcE5hdGl2ZURlZmF1bHR9fSl9KGUpLGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1mdW5jdGlvbihuKXtyZXR1cm4gbj09PWkmJihuPSEwKSxmdW5jdGlvbihpLGEsbyxzKXt2YXIgcj1uZXcgZS5EZWZlcnJlZCxsPWE/IiByZXZlcnNlIjoiIixkPWUubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCksYz1kLmxhc3RTY3JvbGx8fGUubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGg9ZS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksdT1lLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT0hMSYmZS5tb2JpbGUud2luZG93LndpZHRoKCk+ZS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLHA9IWUuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8dXx8IWl8fCJub25lIj09PWl8fE1hdGgubWF4KGUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSxjKT5lLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uKCksbT0iIHVpLXBhZ2UtcHJlLWluIixmPWZ1bmN0aW9uKCl7ZS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIitpKX0sZz1mdW5jdGlvbigpe2UuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHQuc2Nyb2xsVG8oMCxjKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LGI9ZnVuY3Rpb24oKXtzLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIG91dCBpbiByZXZlcnNlICIraSkuaGVpZ2h0KCIiKX0sdj1mdW5jdGlvbigpe24/cy5hbmltYXRpb25Db21wbGV0ZShfKTpfKCkscy5oZWlnaHQoaCtlLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKGkrIiBvdXQiK2wpfSxfPWZ1bmN0aW9uKCl7cyYmbiYmYigpLEMoKX0sQz1mdW5jdGlvbigpe28uY3NzKCJ6LWluZGV4IiwtMTApLG8uYWRkQ2xhc3MoZS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK20pLGUubW9iaWxlLmZvY3VzUGFnZShvKSxvLmhlaWdodChoK2MpLGcoKSxvLmNzcygiei1pbmRleCIsIiIpLHB8fG8uYW5pbWF0aW9uQ29tcGxldGUoeCksby5yZW1vdmVDbGFzcyhtKS5hZGRDbGFzcyhpKyIgaW4iK2wpLHAmJngoKX0seD1mdW5jdGlvbigpe258fHMmJmIoKSxvLnJlbW92ZUNsYXNzKCJvdXQgaW4gcmV2ZXJzZSAiK2kpLmhlaWdodCgiIiksZigpLGUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSE9PWMmJmcoKSxyLnJlc29sdmUoaSxhLG8scywhMCl9O3JldHVybiBmKCkscyYmIXA/digpOl8oKSxyLnByb21pc2UoKX19LGE9bigpLG89bighMSkscz1mdW5jdGlvbigpe3JldHVybiAzKmUubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTtlLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9YSxlLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9eyJkZWZhdWx0IjplLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsc2VxdWVudGlhbDphLHNpbXVsdGFuZW91czpvfSxlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYhZS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW3RdJiYodD1lLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW3RdKSx0fSxlLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWUubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fHN9KGUsdGhpcyksZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBhKHQpeyFmfHxmLmNsb3Nlc3QoIi4iK2UubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RoJiYhdHx8Zi5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksZj1udWxsfWZ1bmN0aW9uIG8oKXtfPSExLHYubGVuZ3RoPjAmJmUubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCx2LnBvcCgpKX1mdW5jdGlvbiBzKHQsaSxuLGEpe2kmJmkuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiYmVmb3JlaGlkZSIsbnVsbCx7bmV4dFBhZ2U6dH0pLHQuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiYmVmb3Jlc2hvdyIsbnVsbCx7cHJldlBhZ2U6aXx8ZSgiIil9KSxlLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxuPWUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKG4pO3ZhciBvPWUubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tufHwiZGVmYXVsdCJdfHxlLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIscz1vKG4sYSx0LGkpO3JldHVybiBzLmRvbmUoZnVuY3Rpb24oKXtpJiZpLmRhdGEoIm1vYmlsZS1wYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOnR9KSx0LmRhdGEoIm1vYmlsZS1wYWdlIikuX3RyaWdnZXIoInNob3ciLG51bGwse3ByZXZQYWdlOml8fGUoIiIpfSl9KSxzfWZ1bmN0aW9uIHIodCxpKXtpJiZ0LmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysicm9sZSIsaSksdC5wYWdlKCl9ZnVuY3Rpb24gbCgpe3ZhciB0PWUubW9iaWxlLmFjdGl2ZVBhZ2UmJmMoZS5tb2JpbGUuYWN0aXZlUGFnZSk7cmV0dXJuIHR8fHcuaHJlZk5vSGFzaH1mdW5jdGlvbiBkKGUpe2Zvcig7ZSYmKCJzdHJpbmciIT10eXBlb2YgZS5ub2RlTmFtZXx8ImEiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGV9ZnVuY3Rpb24gYyh0KXt2YXIgaT1lKHQpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksbj13LmhyZWZOb0hhc2g7cmV0dXJuIGkmJnAuaXNQYXRoKGkpfHwoaT1uKSxwLm1ha2VVcmxBYnNvbHV0ZShpLG4pfXZhciBoPWUubW9iaWxlLndpbmRvdyx1PShlKCJodG1sIiksZSgiaGVhZCIpKSxwPWUuZXh0ZW5kKGUubW9iaWxlLnBhdGgse2dldEZpbGVQYXRoOmZ1bmN0aW9uKHQpe3ZhciBpPSImIitlLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiB0JiZ0LnNwbGl0KGkpWzBdLnNwbGl0KEMpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbih0KXt2YXIgaT1wLnBhcnNlVXJsKHAubWFrZVVybEFic29sdXRlKHQsdGhpcy5kb2N1bWVudEJhc2UpKSxhPWkuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZpLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLG89ZS5tb2JpbGUuZmlyc3RQYWdlLHM9byYmb1swXT9vWzBdLmlkOm47cmV0dXJuIGEmJighaS5oYXNofHwiIyI9PT1pLmhhc2h8fHMmJmkuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09cyl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmImZpbGU6Ij09PXQucHJvdG9jb2wmJi0xIT09aS5zZWFyY2goL15odHRwcz86Lyl9fSksbT1udWxsLGY9bnVsbCxnPWUuRGVmZXJyZWQoKSxiPWUubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnksdj1bXSxfPSExLEM9IiZ1aS1zdGF0ZT1kaWFsb2ciLHg9dS5jaGlsZHJlbigiYmFzZSIpLHk9cC5kb2N1bWVudFVybCx3PXAuZG9jdW1lbnRCYXNlLFQ9KHAuZG9jdW1lbnRCYXNlRGlmZmVycyxlLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQpLEQ9ZS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OngubGVuZ3RoP3g6ZSgiPGJhc2U+Iix7aHJlZjp3LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8odSksc2V0OmZ1bmN0aW9uKGUpe2U9cC5wYXJzZVVybChlKS5ocmVmTm9IYXNoLEQuZWxlbWVudC5hdHRyKCJocmVmIixwLm1ha2VVcmxBYnNvbHV0ZShlLHcpKX0scmVzZXQ6ZnVuY3Rpb24oKXtELmVsZW1lbnQuYXR0cigiaHJlZiIsdy5ocmVmTm9TZWFyY2gpfX06bjtlLm1vYmlsZS5nZXREb2N1bWVudFVybD1wLmdldERvY3VtZW50VXJsLGUubW9iaWxlLmdldERvY3VtZW50QmFzZT1wLmdldERvY3VtZW50QmFzZSxlLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGU9dC5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiZlJiZlLmFwcCYmZS5hcHAuYmFja0hpc3Rvcnk/ZS5hcHAuYmFja0hpc3RvcnkoKTp0Lmhpc3RvcnkuYmFjaygpfSxlLm1vYmlsZS5mb2N1c1BhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maW5kKCJbYXV0b2ZvY3VzXSIpLGk9ZS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKTtyZXR1cm4gdC5sZW5ndGg/KHQuZm9jdXMoKSxuKTooaS5sZW5ndGg/aS5mb2N1cygpOmUuZm9jdXMoKSxuKX07dmFyIFAsayxFPSEwO1A9ZnVuY3Rpb24oKXtpZihFKXt2YXIgdD1lLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2lmKHQpe3ZhciBpPWguc2Nyb2xsVG9wKCk7dC5sYXN0U2Nyb2xsPWUubW9iaWxlLm1pblNjcm9sbEJhY2s+aT9lLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDppfX19LGs9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KFAsMTAwKX0saC5iaW5kKGUuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtFPSExfSksaC5vbmUoZS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0U9ITB9KSxoLm9uZSgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXtlLm1vYmlsZS5wYWdlQ29udGFpbmVyLmJpbmQoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKCl7RT0hMCxoLnVuYmluZCgic2Nyb2xsc3RvcCIsayksaC5iaW5kKCJzY3JvbGxzdG9wIixrKX0pfSksaC5iaW5kKCJzY3JvbGxzdG9wIixrKSxlLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1lLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodD1mdW5jdGlvbih0KXt2YXIgaT1lKCIuIitlLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLG49cGFyc2VGbG9hdChpLmNzcygicGFkZGluZy10b3AiKSksYT1wYXJzZUZsb2F0KGkuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxvPXBhcnNlRmxvYXQoaS5jc3MoImJvcmRlci10b3Atd2lkdGgiKSkscz1wYXJzZUZsb2F0KGkuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpO3Q9Im51bWJlciI9PXR5cGVvZiB0P3Q6VCgpLGkuY3NzKCJtaW4taGVpZ2h0Iix0LW4tYS1vLXMpfSxlLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiBlLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/ZSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLHQpOihzZXRUaW1lb3V0KHQsMCksZSh0aGlzKSl9LGUubW9iaWxlLnBhdGg9cCxlLm1vYmlsZS5iYXNlPUQsZS5tb2JpbGUudXJsSGlzdG9yeT1iLGUubW9iaWxlLmRpYWxvZ0hhc2hLZXk9QyxlLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITEsZS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTshdC5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGUmJnQuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZ0LmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLGk9bmV3IGUuRXZlbnQoInBhZ2VyZW1vdmUiKTt0LnRyaWdnZXIoaSksaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dC5yZW1vdmVXaXRoRGVwZW5kZW50cygpfSl9LGUubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKHQsaSl7dmFyIGE9ZS5EZWZlcnJlZCgpLG89ZS5leHRlbmQoe30sZS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHMsaSkscz1udWxsLGQ9bnVsbCxjPXAubWFrZVVybEFic29sdXRlKHQsbCgpKTtvLmRhdGEmJiJnZXQiPT09by50eXBlJiYoYz1wLmFkZFNlYXJjaFBhcmFtcyhjLG8uZGF0YSksby5kYXRhPW4pLG8uZGF0YSYmInBvc3QiPT09by50eXBlJiYoby5yZWxvYWRQYWdlPSEwKTt2YXIgaD1wLmdldEZpbGVQYXRoKGMpLHU9cC5jb252ZXJ0VXJsVG9EYXRhVXJsKGMpO2lmKG8ucGFnZUNvbnRhaW5lcj1vLnBhZ2VDb250YWluZXJ8fGUubW9iaWxlLnBhZ2VDb250YWluZXIscz1vLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIltkYXRhLSIrZS5tb2JpbGUubnMrInVybD0nIit1KyInXSIpLDA9PT1zLmxlbmd0aCYmdSYmIXAuaXNQYXRoKHUpJiYocz1vLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIiMiK3UpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidXJsIix1KS5qcW1EYXRhKCJ1cmwiLHUpKSwwPT09cy5sZW5ndGgpaWYoZS5tb2JpbGUuZmlyc3RQYWdlJiZwLmlzRmlyc3RQYWdlVXJsKGgpKWUubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5sZW5ndGgmJihzPWUoZS5tb2JpbGUuZmlyc3RQYWdlKSk7ZWxzZSBpZihwLmlzRW1iZWRkZWRQYWdlKGgpKXJldHVybiBhLnJlamVjdChjLGkpLGEucHJvbWlzZSgpO2lmKHMubGVuZ3RoKXtpZighby5yZWxvYWRQYWdlKXJldHVybiByKHMsby5yb2xlKSxhLnJlc29sdmUoYyxpLHMpLEQmJiFpLnByZWZldGNoJiZELnNldCh0KSxhLnByb21pc2UoKTtkPXN9dmFyIG09by5wYWdlQ29udGFpbmVyLGY9bmV3IGUuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIiksZz17dXJsOnQsYWJzVXJsOmMsZGF0YVVybDp1LGRlZmVycmVkOmEsb3B0aW9uczpvfTtpZihtLnRyaWdnZXIoZixnKSxmLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBhLnByb21pc2UoKTtpZihvLnNob3dMb2FkTXNnKXZhciBiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sby5sb2FkTXNnRGVsYXkpLHY9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoYiksZS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCl9O3JldHVybiBEJiZpLnByZWZldGNoPT09biYmRC5yZXNldCgpLGUubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlc3x8cC5pc1NhbWVEb21haW4oeSxjKT9lLmFqYXgoe3VybDpoLHR5cGU6by50eXBlLGRhdGE6by5kYXRhLGNvbnRlbnRUeXBlOm8uY29udGVudFR5cGUsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6ZnVuY3Rpb24obCxtLGYpe3ZhciBiPWUoIjxkaXY+PC9kaXY+IiksXz1sLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMSxDPVJlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIitlLm1vYmlsZS5ucysicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KSIpLHg9UmVnRXhwKCJcXGJkYXRhLSIrZS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7aWYoQy50ZXN0KGwpJiZSZWdFeHAuJDEmJngudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJih0PWg9cC5nZXRGaWxlUGF0aChlKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSxEJiZpLnByZWZldGNoPT09biYmRC5zZXQoaCksYi5nZXQoMCkuaW5uZXJIVE1MPWwscz1iLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpLHMubGVuZ3RofHwocz1lKCI8ZGl2IGRhdGEtIitlLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+IisobC5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksXyYmIXMuanFtRGF0YSgidGl0bGUiKSYmKH5fLmluZGV4T2YoIiYiKSYmKF89ZSgiPGRpdj4iK18rIjwvZGl2PiIpLnRleHQoKSkscy5qcW1EYXRhKCJ0aXRsZSIsXykpLCFlLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciB5PXAuZ2V0KGgpO3MuZmluZCgiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmUodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsaT1lKHRoaXMpLmF0dHIodCk7aT1pLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKSwvXihcdys6fCN8XC8pLy50ZXN0KGkpfHxlKHRoaXMpLmF0dHIodCx5K2kpfSl9cy5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInVybCIscC5jb252ZXJ0VXJsVG9EYXRhVXJsKGgpKS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrImV4dGVybmFsLXBhZ2UiLCEwKS5hcHBlbmRUbyhvLnBhZ2VDb250YWluZXIpLHMub25lKCJwYWdlY3JlYXRlIixlLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUpLHIocyxvLnJvbGUpLGMuaW5kZXhPZigiJiIrZS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihzPW8ucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiW2RhdGEtIitlLm1vYmlsZS5ucysidXJsPSciK3UrIiddIikpLG8uc2hvd0xvYWRNc2cmJnYoKSxnLnhocj1mLGcudGV4dFN0YXR1cz1tLGcucGFnZT1zLG8ucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlbG9hZCIsZyksYS5yZXNvbHZlKGMsaSxzLGQpfSxlcnJvcjpmdW5jdGlvbih0LG4scyl7RCYmRC5zZXQocC5nZXQoKSksZy54aHI9dCxnLnRleHRTdGF0dXM9bixnLmVycm9yVGhyb3duPXM7dmFyIHI9bmV3IGUuRXZlbnQoInBhZ2Vsb2FkZmFpbGVkIik7by5wYWdlQ29udGFpbmVyLnRyaWdnZXIocixnKSxyLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoby5zaG93TG9hZE1zZyYmKHYoKSxlLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coZS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxlLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChlLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2csMTUwMCkpLGEucmVqZWN0KGMsaSkpfX0pOmEucmVqZWN0KGMsaSksYS5wcm9taXNlKCl9LGUubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzPXt0eXBlOiJnZXQiLGRhdGE6bixyZWxvYWRQYWdlOiExLHJvbGU6bixzaG93TG9hZE1zZzohMSxwYWdlQ29udGFpbmVyOm4sbG9hZE1zZ0RlbGF5OjUwfSxlLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKHQsZCl7aWYoXylyZXR1cm4gdi51bnNoaWZ0KGFyZ3VtZW50cyksbjt2YXIgYyxoPWUuZXh0ZW5kKHt9LGUubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsZCk7aC5wYWdlQ29udGFpbmVyPWgucGFnZUNvbnRhaW5lcnx8ZS5tb2JpbGUucGFnZUNvbnRhaW5lcixoLmZyb21QYWdlPWguZnJvbVBhZ2V8fGUubW9iaWxlLmFjdGl2ZVBhZ2UsYz0ic3RyaW5nIj09dHlwZW9mIHQ7dmFyIHU9aC5wYWdlQ29udGFpbmVyLG09bmV3IGUuRXZlbnQoInBhZ2ViZWZvcmVjaGFuZ2UiKSxmPXt0b1BhZ2U6dCxvcHRpb25zOmh9O2lmKGYuYWJzVXJsPWM/cC5tYWtlVXJsQWJzb2x1dGUodCxsKCkpOnQuZGF0YSgiYWJzVXJsIiksdS50cmlnZ2VyKG0sZiksIW0uaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKHQ9Zi50b1BhZ2UsYz0ic3RyaW5nIj09dHlwZW9mIHQsXz0hMCxjKXJldHVybiBoLnRhcmdldD10LGUubW9iaWxlLmxvYWRQYWdlKHQsaCkuZG9uZShmdW5jdGlvbih0LGksbixhKXtfPSExLGkuZHVwbGljYXRlQ2FjaGVkUGFnZT1hLG4uZGF0YSgiYWJzVXJsIixmLmFic1VybCksZS5tb2JpbGUuY2hhbmdlUGFnZShuLGkpfSkuZmFpbChmdW5jdGlvbigpe2EoITApLG8oKSxoLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWNoYW5nZWZhaWxlZCIsZil9KSxuO3RbMF0hPT1lLm1vYmlsZS5maXJzdFBhZ2VbMF18fGguZGF0YVVybHx8KGguZGF0YVVybD15LmhyZWZOb0hhc2gpO3ZhciBnPWguZnJvbVBhZ2UseD1oLmRhdGFVcmwmJnAuY29udmVydFVybFRvRGF0YVVybChoLmRhdGFVcmwpfHx0LmpxbURhdGEoInVybCIpLHc9eCxUPShwLmdldEZpbGVQYXRoKHgpLGIuZ2V0QWN0aXZlKCkpLEQ9MD09PWIuYWN0aXZlSW5kZXgsUD0wLGs9aS50aXRsZSxFPSJkaWFsb2ciPT09aC5yb2xlfHwiZGlhbG9nIj09PXQuanFtRGF0YSgicm9sZSIpO2lmKGcmJmdbMF09PT10WzBdJiYhaC5hbGxvd1NhbWVQYWdlVHJhbnNpdGlvbilyZXR1cm4gXz0hMSx1LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGYpLGguZnJvbUhhc2hDaGFuZ2UmJmIuZGlyZWN0KHt1cmw6eH0pLG47cih0LGgucm9sZSksaC5mcm9tSGFzaENoYW5nZSYmKFA9ImJhY2siPT09ZC5kaXJlY3Rpb24/LTE6MSk7dHJ5e2kuYWN0aXZlRWxlbWVudCYmImJvZHkiIT09aS5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/ZShpLmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTplKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChxKXt9dmFyIGo9ITE7RSYmVCYmKFQudXJsJiZULnVybC5pbmRleE9mKEMpPi0xJiZlLm1vYmlsZS5hY3RpdmVQYWdlJiYhZS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpJiZiLmFjdGl2ZUluZGV4PjAmJihoLmNoYW5nZUhhc2g9ITEsaj0hMCkseD1ULnVybHx8IiIseCs9IWomJnguaW5kZXhPZigiIyIpPi0xP0M6IiMiK0MsMD09PWIuYWN0aXZlSW5kZXgmJng9PT1iLmluaXRpYWxEc3QmJih4Kz1DKSk7dmFyIFM9VD90LmpxbURhdGEoInRpdGxlIil8fHQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOms7aWYoUyYmaz09PWkudGl0bGUmJihrPVMpLHQuanFtRGF0YSgidGl0bGUiKXx8dC5qcW1EYXRhKCJ0aXRsZSIsayksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KFAmJiFEP1QudHJhbnNpdGlvbjpuKXx8KEU/ZS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246ZS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhUCYmaiYmKGIuZ2V0QWN0aXZlKCkucGFnZVVybD13KSx4JiYhaC5mcm9tSGFzaENoYW5nZSl7dmFyIEE7IXAuaXNQYXRoKHgpJiYwPnguaW5kZXhPZigiIyIpJiYoeD0iIyIreCksQT17dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24sdGl0bGU6ayxwYWdlVXJsOncscm9sZTpoLnJvbGV9LGguY2hhbmdlSGFzaCE9PSExJiZlLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD9lLm1vYmlsZS5uYXZpZ2F0ZSh4LEEsITApOnRbMF0hPT1lLm1vYmlsZS5maXJzdFBhZ2VbMF0mJmUubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKHgsQSl9aS50aXRsZT1rLGUubW9iaWxlLmFjdGl2ZVBhZ2U9dCxoLnJldmVyc2U9aC5yZXZlcnNlfHwwPlAscyh0LGcsaC50cmFuc2l0aW9uLGgucmV2ZXJzZSkuZG9uZShmdW5jdGlvbihpLG4scyxyLGwpe2EoKSxoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmguZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKSxsfHxlLm1vYmlsZS5mb2N1c1BhZ2UodCksbygpLHUudHJpZ2dlcigicGFnZWNoYW5nZSIsZil9KX19LGUubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHM9e3RyYW5zaXRpb246bixyZXZlcnNlOiExLGNoYW5nZUhhc2g6ITAsZnJvbUhhc2hDaGFuZ2U6ITEscm9sZTpuLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6bixwYWdlQ29udGFpbmVyOm4sc2hvd0xvYWRNc2c6ITAsZGF0YVVybDpuLGZyb21QYWdlOm4sYWxsb3dTYW1lUGFnZVRyYW5zaXRpb246ITF9LGUubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQ9ZS5EZWZlcnJlZCgpLGUubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGk9ZnVuY3Rpb24odCxpKXt2YXIgYSxvLHMscixsPSEwO3JldHVybiFlLm1vYmlsZS5hamF4RW5hYmxlZHx8dC5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHwhdC5qcW1IaWphY2thYmxlKCkubGVuZ3RofHx0LmF0dHIoInRhcmdldCIpPyExOihhPXQuYXR0cigiYWN0aW9uIikscj0odC5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksYXx8KGE9Yyh0KSwiZ2V0Ij09PXImJihhPXAucGFyc2VVcmwoYSkuaHJlZk5vU2VhcmNoKSxhPT09dy5ocmVmTm9IYXNoJiYoYT15LmhyZWZOb1NlYXJjaCkpLGE9cC5tYWtlVXJsQWJzb2x1dGUoYSxjKHQpKSxwLmlzRXh0ZXJuYWwoYSkmJiFwLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHksYSk/ITE6KGl8fChvPXQuc2VyaWFsaXplQXJyYXkoKSxtJiZtWzBdLmZvcm09PT10WzBdJiYocz1tLmF0dHIoIm5hbWUiKSxzJiYoZS5lYWNoKG8sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5uYW1lPT09cz8ocz0iIiwhMSk6bn0pLHMmJm8ucHVzaCh7bmFtZTpzLHZhbHVlOm0uYXR0cigidmFsdWUiKX0pKSksbD17dXJsOmEsb3B0aW9uczp7dHlwZTpyLGRhdGE6ZS5wYXJhbShvKSx0cmFuc2l0aW9uOnQuanFtRGF0YSgidHJhbnNpdGlvbiIpLHJldmVyc2U6InJldmVyc2UiPT09dC5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOiEwfX0pLGwpKX07ZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoImZvcm0iLCJzdWJtaXQiLGZ1bmN0aW9uKHQpe3ZhciBuPWkoZSh0aGlzKSk7biYmKGUubW9iaWxlLmNoYW5nZVBhZ2Uobi51cmwsbi5vcHRpb25zKSx0LnByZXZlbnREZWZhdWx0KCkpfSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbih0KXt2YXIgbixvLHM9dC50YXJnZXQscj0hMTtpZighKHQud2hpY2g+MSkmJmUubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYobT1lKHMpLGUuZGF0YShzLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFpKGUocykuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47cy5wYXJlbnROb2RlJiYocz1zLnBhcmVudE5vZGUpfWVsc2V7aWYocz1kKHMpLCFzfHwiIyI9PT1wLnBhcnNlVXJsKHMuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWUocykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fnMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP3MucGFyZW50Tm9kZSYmKG89ZS5kYXRhKHMucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6bz1lLmRhdGEocywiYnV0dG9uRWxlbWVudHMiKSxvP3M9by5vdXRlcjpyPSEwLG49ZShzKSxyJiYobj1uLmNsb3Nlc3QoIi51aS1idG4iKSksbi5sZW5ndGg+MCYmIW4uaGFzQ2xhc3MoInVpLWRpc2FibGVkIikmJihhKCEwKSxmPW4sZi5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihpKXtpZihlLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgbyxzPWQoaS50YXJnZXQpLHI9ZShzKTtpZihzJiYhKGkud2hpY2g+MSkmJnIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYobz1mdW5jdGlvbigpe3Quc2V0VGltZW91dChmdW5jdGlvbigpe2EoITApfSwyMDApfSxyLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiBlLm1vYmlsZS5iYWNrKCksITE7dmFyIGw9YyhyKSxoPXAubWFrZVVybEFic29sdXRlKHIuYXR0cigiaHJlZiIpfHwiIyIsbCk7aWYoIWUubW9iaWxlLmFqYXhFbmFibGVkJiYhcC5pc0VtYmVkZGVkUGFnZShoKSlyZXR1cm4gbygpLG47aWYoLTEhPT1oLnNlYXJjaCgiIyIpKXtpZihoPWgucmVwbGFjZSgvW14jXSojLywiIiksIWgpcmV0dXJuIGkucHJldmVudERlZmF1bHQoKSxuO2g9cC5pc1BhdGgoaCk/cC5tYWtlVXJsQWJzb2x1dGUoaCxsKTpwLm1ha2VVcmxBYnNvbHV0ZSgiIyIraCx5LmhyZWZOb0hhc2gpfXZhciB1PXIuaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8ci5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxyLmlzKCJbdGFyZ2V0XSIpLG09dXx8cC5pc0V4dGVybmFsKGgpJiYhcC5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh5LGgpO2lmKG0pcmV0dXJuIG8oKSxuO3ZhciBmPXIuanFtRGF0YSgidHJhbnNpdGlvbiIpLGc9InJldmVyc2UiPT09ci5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8ci5qcW1EYXRhKCJiYWNrIiksYj1yLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysicmVsIil8fG47ZS5tb2JpbGUuY2hhbmdlUGFnZShoLHt0cmFuc2l0aW9uOmYscmV2ZXJzZTpnLHJvbGU6YixsaW5rOnJ9KSxpLnByZXZlbnREZWZhdWx0KCl9fX0pLGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciB0PVtdO2UodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpLG49aS5hdHRyKCJocmVmIik7biYmLTE9PT1lLmluQXJyYXkobix0KSYmKHQucHVzaChuKSxlLm1vYmlsZS5sb2FkUGFnZShuLHtyb2xlOmkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksZS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oaSxhKXt2YXIgbz1wLnN0cmlwSGFzaChpKSxzPTA9PT1lLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD8ibm9uZSI6bixyPXtjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwLHJldmVyc2U6ImJhY2siPT09YS5kaXJlY3Rpb259O2lmKGUuZXh0ZW5kKHIsYSx7dHJhbnNpdGlvbjooYi5nZXRMYXN0KCl8fHt9KS50cmFuc2l0aW9ufHxzfSksYi5hY3RpdmVJbmRleD4wJiZvLmluZGV4T2YoQyk+LTEmJmIuaW5pdGlhbERzdCE9PW8pe2lmKGUubW9iaWxlLmFjdGl2ZVBhZ2UmJiFlLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikpcmV0dXJuImJhY2siPT09YS5kaXJlY3Rpb24/ZS5tb2JpbGUuYmFjaygpOnQuaGlzdG9yeS5mb3J3YXJkKCksbjtvPWEucGFnZVVybDt2YXIgbD1lLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2UuZXh0ZW5kKHIse3JvbGU6bC5yb2xlLHRyYW5zaXRpb246bC50cmFuc2l0aW9uLHJldmVyc2U6ImJhY2siPT09YS5kaXJlY3Rpb259KX1vPyhvPXAuaXNQYXRoKG8pP286cC5tYWtlVXJsQWJzb2x1dGUoIiMiK28sdyksbz09PXAubWFrZVVybEFic29sdXRlKCIjIitiLmluaXRpYWxEc3QsdykmJmIuc3RhY2subGVuZ3RoJiZiLnN0YWNrWzBdLnVybCE9PWIuaW5pdGlhbERzdC5yZXBsYWNlKEMsIiIpJiYobz1lLm1vYmlsZS5maXJzdFBhZ2UpLGUubW9iaWxlLmNoYW5nZVBhZ2UobyxyKSk6ZS5tb2JpbGUuY2hhbmdlUGFnZShlLm1vYmlsZS5maXJzdFBhZ2Uscil9LGguYmluZCgibmF2aWdhdGUiLGZ1bmN0aW9uKHQsaSl7dmFyIG47dC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChuPWUuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5vcmlnaW5hbEV2ZW50TmFtZS5pbmRleE9mKCJoYXNoY2hhbmdlIik+LTE/aS5zdGF0ZS5oYXNoOmkuc3RhdGUudXJsLG58fChuPWUubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2gpLG4mJiIjIiE9PW4mJjAhPT1uLmluZGV4T2YoIiMiK2UubW9iaWxlLnBhdGgudWlTdGF0ZUtleSl8fChuPWxvY2F0aW9uLmhyZWYpLGUubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKG4saS5zdGF0ZSkpfSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGUubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCksZS5tb2JpbGUud2luZG93LmJpbmQoInRocm90dGxlZHJlc2l6ZSIsZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KX0sZShmdW5jdGlvbigpe2cucmVzb2x2ZSgpfSksZS53aGVuKGcsZS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2UubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbGlwPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MucG9wPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9ZS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91cyxlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSJ9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWZhZGU9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGV1cD0iZmFkZSJ9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX0sZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe3ZhciBpLG49ZS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGUodC50YXJnZXQpKTtuJiYoaT1uLm9wdGlvbnMsZSh0LnRhcmdldCkuZmluZCgiaW5wdXQiKS5ub3Qobi5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj10aGlzLmdldEF0dHJpYnV0ZSgidHlwZSIpLGE9aS5kZWdyYWRlSW5wdXRzW25dfHwidGV4dCI7aWYoaS5kZWdyYWRlSW5wdXRzW25dKXt2YXIgbz1lKCI8ZGl2PiIpLmh0bWwodC5jbG9uZSgpKS5odG1sKCkscz1vLmluZGV4T2YoIiB0eXBlPSIpPi0xLHI9cz8vXHMrdHlwZT1bIiddP1x3K1snIl0/LzovXC8/Pi8sbD0nIHR5cGU9IicrYSsnIiBkYXRhLScrZS5tb2JpbGUubnMrJ3R5cGU9IicrbisnIicrKHM/IiI6Ij4iKTt0LnJlcGxhY2VXaXRoKG8ucmVwbGFjZShyLGwpKX19KSl9KX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5kaWFsb2ciLGUubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xvc2VCdG46ImxlZnQiLGNsb3NlQnRuVGV4dDoiQ2xvc2UiLG92ZXJsYXlUaGVtZToiYSIsY29ybmVyczohMCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIn0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5faXNDbG9zZWFibGU9ITAsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmdGhpcy5lbGVtZW50LnBhZ2UoInJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiKS5wYWdlKCJzZXRDb250YWluZXJCYWNrZ3JvdW5kIix0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudCxpPXRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsbj1lKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IitpfSk7dC5hZGRDbGFzcygidWktZGlhbG9nIHVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKSx0LndyYXBJbm5lcihuKSx0LmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKHQpe3ZhciBpLG49ZSh0LnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PXQudHlwZT8iYSI6ImZvcm0iKTtuLmxlbmd0aCYmIW4uanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoaT1lLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxuLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsaS50cmFuc2l0aW9ufHxlLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSksdGhpcy5fb24odCx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSxlLmV4dGVuZCh0aGlzLHtfY3JlYXRlQ29tcGxldGU6ITF9KSx0aGlzLl9zZXRDbG9zZUJ0bih0aGlzLm9wdGlvbnMuY2xvc2VCdG4pfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24odCl7dmFyIGksbixhPXRoaXM7dGhpcy5faGVhZGVyQ2xvc2VCdXR0b24mJih0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbi5yZW1vdmUoKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1udWxsKSwibm9uZSIhPT10JiYobj0ibGVmdCI9PT10PyJsZWZ0IjoicmlnaHQiLGk9ZSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi0iK24rIicgZGF0YS0iK2UubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIitlLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCkucHJlcGVuZChpKSx0aGlzLl9jcmVhdGVDb21wbGV0ZSYmZS5mbi5idXR0b25NYXJrdXAmJmkuYnV0dG9uTWFya3VwKCksdGhpcy5fY3JlYXRlQ29tcGxldGU9ITAsaS5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1pKX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpeyJjbG9zZUJ0biI9PT1lJiZ0aGlzLl9zZXRDbG9zZUJ0bih0KSx0aGlzLl9zdXBlcihlLHQpfSxjbG9zZTpmdW5jdGlvbigpe3ZhciB0LGksbj1lLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5O3RoaXMuX2lzQ2xvc2VhYmxlJiYodGhpcy5faXNDbG9zZWFibGU9ITEsZS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJm4uYWN0aXZlSW5kZXg+MD9lLm1vYmlsZS5iYWNrKCk6KHQ9TWF0aC5tYXgoMCxuLmFjdGl2ZUluZGV4LTEpLGk9bi5zdGFja1t0XS5wYWdlVXJsfHxuLnN0YWNrW3RdLnVybCxuLnByZXZpb3VzSW5kZXg9bi5hY3RpdmVJbmRleCxuLmFjdGl2ZUluZGV4PXQsZS5tb2JpbGUucGF0aC5pc1BhdGgoaSl8fChpPWUubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitpKSksZS5tb2JpbGUuY2hhbmdlUGFnZShpLHtkaXJlY3Rpb246ImJhY2siLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSkpfX0pLGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKGUubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7ZS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5lbmhhbmNlKHRoaXMpfSl9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayIsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPSExLGUubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGwsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSIsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSIsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbCxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbih0KXt2YXIgaT1lKHQudGFyZ2V0KSxuPWkuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLGE9aS5qcW1EYXRhKCJyb2xlIiksbz1uLnRoZW1lO2UoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIixpKS5qcW1FbmhhbmNlYWJsZSgpLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxzLHIsbCxkPWUodGhpcyksYz1kLmpxbURhdGEoInJvbGUiKSxoPWQuanFtRGF0YSgidGhlbWUiKSx1PWh8fG4uY29udGVudFRoZW1lfHwiZGlhbG9nIj09PWEmJm87aWYoZC5hZGRDbGFzcygidWktIitjKSwiaGVhZGVyIj09PWN8fCJmb290ZXIiPT09Yyl7dmFyIHA9aHx8KCJoZWFkZXIiPT09Yz9uLmhlYWRlclRoZW1lOm4uZm9vdGVyVGhlbWUpfHxvO2QuYWRkQ2xhc3MoInVpLWJhci0iK3ApLmF0dHIoInJvbGUiLCJoZWFkZXIiPT09Yz8iYmFubmVyIjoiY29udGVudGluZm8iKSwiaGVhZGVyIj09PWMmJih0PWQuY2hpbGRyZW4oImEsIGJ1dHRvbiIpLHM9dC5oYXNDbGFzcygidWktYnRuLWxlZnQiKSxyPXQuaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLHM9c3x8dC5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgscj1yfHx0LmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGgpLG4uYWRkQmFja0J0biYmImhlYWRlciI9PT1jJiZlKCIudWktcGFnZSIpLmxlbmd0aD4xJiZpLmpxbURhdGEoInVybCIpIT09ZS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFzJiYobD1lKCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIitlLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrZS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrbi5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidGhlbWUiLG4uYmFja0J0blRoZW1lfHxwKS5wcmVwZW5kVG8oZCkpLGQuY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHtyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSJjb250ZW50Ij09PWMmJih1JiZkLmFkZENsYXNzKCJ1aS1ib2R5LSIrdSksZC5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ7ZSYmKHQ9InN0cmluZyI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWUrIiAiLCEodCYmdC5pbmRleE9mKCJ1aS1idG4gIik+LTEmJjA+dC5pbmRleE9mKCJ1aS1kaXNhYmxlZCAiKSkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZX1mdW5jdGlvbiBhKG4sYSxvLHMscil7dmFyIGw9ZS5kYXRhKG5bMF0sImJ1dHRvbkVsZW1lbnRzIik7bi5yZW1vdmVDbGFzcyhhKS5hZGRDbGFzcyhvKSxsJiYobC5iY2xzPWUoaS5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MobC5iY2xzKyIgIitvKS5yZW1vdmVDbGFzcyhhKS5hdHRyKCJjbGFzcyIpLHMhPT10JiYobC5ob3Zlcj1zKSxsLnN0YXRlPXIpfXZhciBvPWZ1bmN0aW9uKGUsaSl7dmFyIG49ZS5nZXRBdHRyaWJ1dGUoaSk7cmV0dXJuInRydWUiPT09bj8hMDoiZmFsc2UiPT09bj8hMTpudWxsPT09bj90Om59O2UuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKG4pe3ZhciBhLHI9dGhpcyxsPSJkYXRhLSIrZS5tb2JpbGUubnM7bj1uJiYib2JqZWN0Ij09PWUudHlwZShuKT9uOnt9O2Zvcih2YXIgZD0wO3IubGVuZ3RoPmQ7ZCsrKXt2YXIgYyxoLHUscCxtLGYsZz1yLmVxKGQpLGI9Z1swXSx2PWUuZXh0ZW5kKHt9LGUuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzLHtpY29uOm4uaWNvbiE9PXQ/bi5pY29uOm8oYixsKyJpY29uIiksaWNvbnBvczpuLmljb25wb3MhPT10P24uaWNvbnBvczpvKGIsbCsiaWNvbnBvcyIpLHRoZW1lOm4udGhlbWUhPT10P24udGhlbWU6byhiLGwrInRoZW1lIil8fGUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKSxpbmxpbmU6bi5pbmxpbmUhPT10P24uaW5saW5lOm8oYixsKyJpbmxpbmUiKSxzaGFkb3c6bi5zaGFkb3chPT10P24uc2hhZG93Om8oYixsKyJzaGFkb3ciKSxjb3JuZXJzOm4uY29ybmVycyE9PXQ/bi5jb3JuZXJzOm8oYixsKyJjb3JuZXJzIiksaWNvbnNoYWRvdzpuLmljb25zaGFkb3chPT10P24uaWNvbnNoYWRvdzpvKGIsbCsiaWNvbnNoYWRvdyIpLG1pbmk6bi5taW5pIT09dD9uLm1pbmk6byhiLGwrIm1pbmkiKX0sbiksXz0idWktYnRuLWlubmVyIixDPSJ1aS1idG4tdGV4dCIseD0hMSx5PSJ1cCI7Zm9yKGEgaW4gdil2W2FdPT09dHx8bnVsbD09PXZbYV0/Zy5yZW1vdmVBdHRyKGwrYSk6Yi5zZXRBdHRyaWJ1dGUobCthLHZbYV0pO2ZvcigicG9wdXAiPT09byhiLGwrInJlbCIpJiZnLmF0dHIoImhyZWYiKSYmKGIuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIiwhMCksYi5zZXRBdHRyaWJ1dGUoImFyaWEtb3ducyIsZy5hdHRyKCJocmVmIikpKSxmPWUuZGF0YSgiSU5QVVQiPT09Yi50YWdOYW1lfHwiQlVUVE9OIj09PWIudGFnTmFtZT9iLnBhcmVudE5vZGU6YiwiYnV0dG9uRWxlbWVudHMiKSxmPyhiPWYub3V0ZXIsZz1lKGIpLHU9Zi5pbm5lcixwPWYudGV4dCxlKGYuaWNvbikucmVtb3ZlKCksZi5pY29uPW51bGwseD1mLmhvdmVyLHk9Zi5zdGF0ZSk6KHU9aS5jcmVhdGVFbGVtZW50KHYud3JhcHBlckVscykscD1pLmNyZWF0ZUVsZW1lbnQodi53cmFwcGVyRWxzKSksbT12Lmljb24/aS5jcmVhdGVFbGVtZW50KCJzcGFuIik6bnVsbCxzJiYhZiYmcygpLHYudGhlbWV8fCh2LnRoZW1lPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKSksYz0idWktYnRuICIsYys9eD8idWktYnRuLWhvdmVyLSIrdi50aGVtZToiIixjKz15PyIgdWktYnRuLSIreSsiLSIrdi50aGVtZToiIixjKz12LnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIsYys9di5jb3JuZXJzPyIgdWktYnRuLWNvcm5lci1hbGwiOiIiLHYubWluaSE9PXQmJihjKz12Lm1pbmk9PT0hMD8iIHVpLW1pbmkiOiIgdWktZnVsbHNpemUiKSx2LmlubGluZSE9PXQmJihjKz12LmlubGluZT09PSEwPyIgdWktYnRuLWlubGluZSI6IiB1aS1idG4tYmxvY2siKSx2Lmljb24mJih2Lmljb249InVpLWljb24tIit2Lmljb24sdi5pY29ucG9zPXYuaWNvbnBvc3x8ImxlZnQiLGg9InVpLWljb24gIit2Lmljb24sdi5pY29uc2hhZG93JiYoaCs9IiB1aS1pY29uLXNoYWRvdyIpKSx2Lmljb25wb3MmJihjKz0iIHVpLWJ0bi1pY29uLSIrdi5pY29ucG9zLCJub3RleHQiIT09di5pY29ucG9zfHxnLmF0dHIoInRpdGxlIil8fGcuYXR0cigidGl0bGUiLGcuZ2V0RW5jb2RlZFRleHQoKSkpLGYmJmcucmVtb3ZlQ2xhc3MoZi5iY2xzfHwiIiksZy5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKGMpLHUuY2xhc3NOYW1lPV8scC5jbGFzc05hbWU9QyxmfHx1LmFwcGVuZENoaWxkKHApLG0mJihtLmNsYXNzTmFtZT1oLGYmJmYuaWNvbnx8KG0uaW5uZXJIVE1MPSImIzE2MDsiLHUuYXBwZW5kQ2hpbGQobSkpKTtiLmZpcnN0Q2hpbGQmJiFmOylwLmFwcGVuZENoaWxkKGIuZmlyc3RDaGlsZCk7Znx8Yi5hcHBlbmRDaGlsZCh1KSxmPXtob3Zlcjp4LHN0YXRlOnksYmNsczpjLG91dGVyOmIsaW5uZXI6dSx0ZXh0OnAsaWNvbjptfSxlLmRhdGEoYiwiYnV0dG9uRWxlbWVudHMiLGYpLGUuZGF0YSh1LCJidXR0b25FbGVtZW50cyIsZiksZS5kYXRhKHAsImJ1dHRvbkVsZW1lbnRzIixmKSxtJiZlLmRhdGEobSwiYnV0dG9uRWxlbWVudHMiLGYpfXJldHVybiB0aGlzfSxlLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17Y29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIHM9ZnVuY3Rpb24oKXt2YXIgaSxvLHI9ZS5tb2JpbGUuYnV0dG9uTWFya3VwLmhvdmVyRGVsYXk7ZS5tb2JpbGUuZG9jdW1lbnQuYmluZCh7InZtb3VzZWRvd24gdm1vdXNlY2FuY2VsIHZtb3VzZXVwIHZtb3VzZW92ZXIgdm1vdXNlb3V0IGZvY3VzIGJsdXIgc2Nyb2xsc3RhcnQiOmZ1bmN0aW9uKHMpe3ZhciBsLGQ9ZShuKHMudGFyZ2V0KSksYz1zLm9yaWdpbmFsRXZlbnQmJi9edG91Y2gvLnRlc3Qocy5vcmlnaW5hbEV2ZW50LnR5cGUpLGg9cy50eXBlO2QubGVuZ3RoJiYobD1kLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidGhlbWUiKSwidm1vdXNlZG93biI9PT1oP2M/aT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShkLCJ1aS1idG4tdXAtIitsLCJ1aS1idG4tZG93bi0iK2wsdCwiZG93biIpfSxyKTphKGQsInVpLWJ0bi11cC0iK2wsInVpLWJ0bi1kb3duLSIrbCx0LCJkb3duIik6InZtb3VzZWNhbmNlbCI9PT1ofHwidm1vdXNldXAiPT09aD9hKGQsInVpLWJ0bi1kb3duLSIrbCwidWktYnRuLXVwLSIrbCx0LCJ1cCIpOiJ2bW91c2VvdmVyIj09PWh8fCJmb2N1cyI9PT1oP2M/bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShkLCJ1aS1idG4tdXAtIitsLCJ1aS1idG4taG92ZXItIitsLCEwLCIiKX0scik6YShkLCJ1aS1idG4tdXAtIitsLCJ1aS1idG4taG92ZXItIitsLCEwLCIiKTooInZtb3VzZW91dCI9PT1ofHwiYmx1ciI9PT1ofHwic2Nyb2xsc3RhcnQiPT09aCkmJihhKGQsInVpLWJ0bi1ob3Zlci0iK2wrIiB1aS1idG4tZG93bi0iK2wsInVpLWJ0bi11cC0iK2wsITEsInVwIiksaSYmY2xlYXJUaW1lb3V0KGkpLG8mJmNsZWFyVGltZW91dChvKSkpfSwiZm9jdXNpbiBmb2N1cyI6ZnVuY3Rpb24odCl7ZShuKHQudGFyZ2V0KSkuYWRkQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9LCJmb2N1c291dCBibHVyIjpmdW5jdGlvbih0KXtlKG4odC50YXJnZXQpKS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX19KSxzPW51bGx9O2UubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsdC50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkubm90KCJidXR0b24sIGlucHV0LCAudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOiEwLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsY29sbGFwc2VkSWNvbjoicGx1cyIsZXhwYW5kZWRJY29uOiJtaW51cyIsaWNvbnBvczoibGVmdCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpbnNldDohMCxjb3JuZXJzOiEwLG1pbmk6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMuZWxlbWVudCxuPXRoaXMub3B0aW9ucyxhPWkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlIiksbz1pLmNoaWxkcmVuKG4uaGVhZGluZykuZmlyc3QoKSxzPWEud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxyPWkuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0IiksbD0iIjtvLmlzKCJsZWdlbmQiKSYmKG89ZSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK28uaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUobyksby5uZXh0KCkucmVtb3ZlKCkpLHIubGVuZ3RoPyhuLnRoZW1lfHwobi50aGVtZT1yLmpxbURhdGEoInRoZW1lIil8fGUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHIsImMiKSksbi5jb250ZW50VGhlbWV8fChuLmNvbnRlbnRUaGVtZT1yLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksbi5jb2xsYXBzZWRJY29uPWkuanFtRGF0YSgiY29sbGFwc2VkLWljb24iKXx8ci5qcW1EYXRhKCJjb2xsYXBzZWQtaWNvbiIpfHxuLmNvbGxhcHNlZEljb24sbi5leHBhbmRlZEljb249aS5qcW1EYXRhKCJleHBhbmRlZC1pY29uIil8fHIuanFtRGF0YSgiZXhwYW5kZWQtaWNvbiIpfHxuLmV4cGFuZGVkSWNvbixuLmljb25wb3M9aS5qcW1EYXRhKCJpY29ucG9zIil8fHIuanFtRGF0YSgiaWNvbnBvcyIpfHxuLmljb25wb3Msbi5pbnNldD1yLmpxbURhdGEoImluc2V0IikhPT10P3IuanFtRGF0YSgiaW5zZXQiKTohMCxuLmNvcm5lcnM9ITEsbi5taW5pfHwobi5taW5pPXIuanFtRGF0YSgibWluaSIpKSk6bi50aGVtZXx8KG4udGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoaSwiYyIpKSxuLmluc2V0JiYobCs9IiB1aS1jb2xsYXBzaWJsZS1pbnNldCIsbi5jb3JuZXJzJiYobCs9IiB1aS1jb3JuZXItYWxsIikpLG4uY29udGVudFRoZW1lJiYobCs9IiB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCIscy5hZGRDbGFzcygidWktYm9keS0iK24uY29udGVudFRoZW1lKSksIiIhPT1sJiZhLmFkZENsYXNzKGwpLG8uaW5zZXJ0QmVmb3JlKHMpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczpuLmljb25wb3MsaWNvbjpuLmNvbGxhcHNlZEljb24sbWluaTpuLm1pbmksdGhlbWU6bi50aGVtZX0pLGEuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbih0KXtpZighdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGk9ZSh0aGlzKSxhPSJjb2xsYXBzZSI9PT10LnR5cGU7dC5wcmV2ZW50RGVmYXVsdCgpLG8udG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIixhKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGE/bi5leHBhbmRDdWVUZXh0Om4uY29sbGFwc2VDdWVUZXh0KS5lbmQoKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrbi5leHBhbmRlZEljb24sIWEpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrbi5jb2xsYXBzZWRJY29uLGF8fG4uZXhwYW5kZWRJY29uPT09bi5jb2xsYXBzZWRJY29uKS5lbmQoKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksaS50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29sbGFwc2VkIixhKSxzLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsYSkuYXR0cigiYXJpYS1oaWRkZW4iLGEpLHMudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fSkudHJpZ2dlcihuLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKSxvLmJpbmQoInRhcCIsZnVuY3Rpb24oKXtvLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1vLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2EudHJpZ2dlcih0KSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXM9e19nZXRWaXNpYmxlczpmdW5jdGlvbihlLHQpe3ZhciBpO3JldHVybiB0P2k9ZS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6KGk9ZS5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWkubGVuZ3RoJiYoaT1lLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKSkpLGl9LF9hZGRGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGUsdCxpKXtlLnJlbW92ZUNsYXNzKCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkIiksdC5lcSgwKS5hZGRDbGFzcygidWktZmlyc3QtY2hpbGQiKS5lbmQoKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWxhc3QtY2hpbGQiKSxpfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxuPXRoaXMub3B0aW9ucztuLnRoZW1lfHwobi50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShpLCJjIikpLG4uY29udGVudFRoZW1lfHwobi5jb250ZW50VGhlbWU9aS5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLG4uY29ybmVyc3x8KG4uY29ybmVycz1pLmpxbURhdGEoImNvcm5lcnMiKSksaS5qcW1EYXRhKCJpbnNldCIpIT09dCYmKG4uaW5zZXQ9aS5qcW1EYXRhKCJpbnNldCIpKSxuLmluc2V0PW4uaW5zZXQhPT10P24uaW5zZXQ6ITAsbi5jb3JuZXJzPW4uY29ybmVycyE9PXQ/bi5jb3JuZXJzOiEwLG4uY29ybmVycyYmbi5pbnNldCYmaS5hZGRDbGFzcygidWktY29ybmVyLWFsbCIpLGkuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIpfHxpLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiLCEwKS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpO2kucGFyZW50KCkuaXMoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikmJmkuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZSIpLnRyaWdnZXIoImNvbGxhcHNlIil9KX0sX2luaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsdD1lLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIiksaT10LmZpbHRlcigiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpIik7CnRoaXMuX3JlZnJlc2goInRydWUiKSxpLnRyaWdnZXIoImV4cGFuZCIpfSxfcmVmcmVzaDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTtlLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShpLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoaSx0aGlzLl9nZXRWaXNpYmxlcyhpLHQpLHQpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxlLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7ZS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIikuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJiEvXFMvLnRlc3QodGhpcy5ub2RlVmFsdWUpfSkucmVtb3ZlKCl9LGUoaSkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIix0LnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5maWVsZGNvbnRhaW4oKX0pfShlKSxmdW5jdGlvbihlKXtlLmZuLmdyaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpLG49ZSh0aGlzKSxhPWUuZXh0ZW5kKHtncmlkOm51bGx9LHQpLG89bi5jaGlsZHJlbigpLHM9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LHI9YS5ncmlkO2lmKCFyKWlmKDU+PW8ubGVuZ3RoKWZvcih2YXIgbCBpbiBzKXNbbF09PT1vLmxlbmd0aCYmKHI9bCk7ZWxzZSByPSJhIixuLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2k9c1tyXSxuLmFkZENsYXNzKCJ1aS1ncmlkLSIrciksby5maWx0ZXIoIjpudGgtY2hpbGQoIitpKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxpPjEmJm8uZmlsdGVyKCI6bnRoLWNoaWxkKCIraSsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksaT4yJiZvLmZpbHRlcigiOm50aC1jaGlsZCgiK2krIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGk+MyYmby5maWx0ZXIoIjpudGgtY2hpbGQoIitpKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxpPjQmJm8uZmlsdGVyKCI6bnRoLWNoaWxkKCIraSsibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGUubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSduYXZiYXInKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQsYT1uLmZpbmQoImEiKSxvPWEuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczp0O24uYWRkQ2xhc3MoInVpLW5hdmJhciB1aS1taW5pIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGEuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiExLHNoYWRvdzohMSxpbmxpbmU6ITAsaWNvbnBvczpvfSksbi5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24odCl7dmFyIG49ZSh0LnRhcmdldCkuaXMoImEiKT9lKHRoaXMpOmUodGhpcykucGFyZW50KCJhIik7aWYoIW4uaXMoIi51aS1kaXNhYmxlZCwgLnVpLWJ0bi1hY3RpdmUiKSl7YS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksZSh0aGlzKS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7dmFyIG89ZSh0aGlzKTtlKGkpLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7by5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxuLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7YS5maWx0ZXIoIi51aS1zdGF0ZS1wZXJzaXN0IikuYWRkQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLm5hdmJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9e307ZS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsZS5tb2JpbGUud2lkZ2V0LGUuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLGljb246ImFycm93LXIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0iIjt0Kz1lLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCI6IiIsZS5vcHRpb25zLmluc2V0JiYodCs9ZS5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIix0Kz1lLm9wdGlvbnMuc2hhZG93PyIgdWktc2hhZG93IjoiIiksZS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGkrIiB1aS1saXN0dmlldyIrdH0pLGUucmVmcmVzaCghMCl9LF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOmZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPXt9O2ZvcihhW2ldPWFbbl09ITA7ZTspe2lmKGFbZS5ub2RlTmFtZV0pcmV0dXJuIGU7ZT1lW3RdfXJldHVybiBudWxsfSxfZ2V0Q2hpbGRyZW5CeVRhZ05hbWU6ZnVuY3Rpb24odCxpLG4pe3ZhciBhPVtdLG89e307Zm9yKG9baV09b1tuXT0hMCx0PXQuZmlyc3RDaGlsZDt0OylvW3Qubm9kZU5hbWVdJiZhLnB1c2godCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBlKGEpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKHQpe3ZhciBpLG4sYT10Lmxlbmd0aDtmb3IoaT0wO2E+aTtpKyspbj1lKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUodFtpXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxuLmxlbmd0aCYmKG4uYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksZSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKG5bMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3Mobi5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIG4sYSxvLHMscixsLGQsYyxoLHUscCxtLGY9dGhpcy5vcHRpb25zLGc9dGhpcy5lbGVtZW50LGI9Zy5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8Zi5kaXZpZGVyVGhlbWUsdj1nLmpxbURhdGEoInNwbGl0dGhlbWUiKSxfPWcuanFtRGF0YSgic3BsaXRpY29uIiksQz1nLmpxbURhdGEoImljb24iKSx4PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKGdbMF0sImxpIiwiTEkiKSx5PSEhZS5ub2RlTmFtZShnWzBdLCJvbCIpLHc9IWUuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50LFQ9Zy5hdHRyKCJzdGFydCIpLEQ9e307eSYmdyYmZy5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCkseSYmKFR8fDA9PT1UP3c/ZD1wYXJzZUludChULDEwKTooYz1wYXJzZUludChULDEwKS0xLGcuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2MpKTp3JiYoZD0xKSksZi50aGVtZXx8KGYudGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpO2Zvcih2YXIgUD0wLGs9eC5sZW5ndGg7az5QO1ArKyl7aWYobj14LmVxKFApLGE9InVpLWxpIix0fHwhbi5oYXNDbGFzcygidWktbGkiKSl7bz1uLmpxbURhdGEoInRoZW1lIil8fGYudGhlbWUscz10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShuWzBdLCJhIiwiQSIpO3ZhciBFPSJsaXN0LWRpdmlkZXIiPT09bi5qcW1EYXRhKCJyb2xlIik7cy5sZW5ndGgmJiFFPyhwPW4uanFtRGF0YSgiaWNvbiIpLG4uYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25wb3M6InJpZ2h0IixpY29uOnMubGVuZ3RoPjF8fHA9PT0hMT8hMTpwfHxDfHxmLmljb24sdGhlbWU6b30pLHAhPT0hMSYmMT09PXMubGVuZ3RoJiZuLmFkZENsYXNzKCJ1aS1saS1oYXMtYXJyb3ciKSxzLmZpcnN0KCkucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0Iikscy5sZW5ndGg+MSYmKGErPSIgdWktbGktaGFzLWFsdCIscj1zLmxhc3QoKSxsPXZ8fHIuanFtRGF0YSgidGhlbWUiKXx8Zi5zcGxpdFRoZW1lLG09ci5qcW1EYXRhKCJpY29uIiksci5hcHBlbmRUbyhuKS5hdHRyKCJ0aXRsZSIsZS50cmltKHIuZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSx0aGVtZTpvLGljb246ITEsaWNvbnBvczoibm90ZXh0In0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoZShpLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCx0aGVtZTpsLGljb25wb3M6Im5vdGV4dCIsaWNvbjptfHxwfHxffHxmLnNwbGl0SWNvbn0pKSkpOkU/KGErPSIgdWktbGktZGl2aWRlciB1aS1iYXItIisobi5qcW1EYXRhKCJ0aGVtZSIpfHxiKSxuLmF0dHIoInJvbGUiLCJoZWFkaW5nIikseSYmKFR8fDA9PT1UP3c/ZD1wYXJzZUludChULDEwKTooaD1wYXJzZUludChULDEwKS0xLG4uY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2gpKTp3JiYoZD0xKSkpOmErPSIgdWktbGktc3RhdGljIHVpLWJ0bi11cC0iK299eSYmdyYmMD5hLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKSYmKHU9YS5pbmRleE9mKCJ1aS1saS1zdGF0aWMiKT4wP246bi5maW5kKCIudWktbGluay1pbmhlcml0IiksdS5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2QrKyArIi4gPC9zcGFuPiIpKSxEW2FdfHwoRFthXT1bXSksRFthXS5wdXNoKG5bMF0pfWZvcihhIGluIEQpZShEW2FdKS5hZGRDbGFzcyhhKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKGEpO2cuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpO3QucHJlcGVuZFRvKHQucGFyZW50KCkpfSkuZW5kKCkuZmluZCgiLnVpLWxpLWNvdW50IikuZWFjaChmdW5jdGlvbigpe2UodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KS5hZGRDbGFzcygidWktYnRuLXVwLSIrKGcuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrIiB1aS1idG4tY29ybmVyLWFsbCIpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh4KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMoZy5maW5kKCIudWktbGluay1pbmhlcml0IikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoeCx0aGlzLl9nZXRWaXNpYmxlcyh4LHQpLHQpLHRoaXMuX3RyaWdnZXIoImFmdGVycmVmcmVzaCIpfSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW15hLXpBLVowLTldL2csIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGksYT10aGlzLmVsZW1lbnQsbz1hLmNsb3Nlc3QoIi51aS1wYWdlIikscz1vLmpxbURhdGEoInVybCIpLHI9c3x8b1swXVtlLmV4cGFuZG9dLGw9YS5hdHRyKCJpZCIpLGQ9dGhpcy5vcHRpb25zLGM9ImRhdGEtIitlLm1vYmlsZS5ucyxoPXRoaXMsdT1vLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKTtpZih0W3JdPT09biYmKHRbcl09LTEpLGw9bHx8Kyt0W3JdLGUoYS5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBuLG8scj1lKHRoaXMpLGg9ci5hdHRyKCJpZCIpfHxsKyItIit0LHA9ci5wYXJlbnQoKSxtPWUoci5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSksZj1tLmxlbmd0aD9tOmUoIjxzcGFuPiIrZS50cmltKHAuY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IiksZz1mLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSxiPShzfHwiIikrIiYiK2UubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2gsdj1yLmpxbURhdGEoInRoZW1lIil8fGQudGhlbWUsXz1yLmpxbURhdGEoImNvdW50dGhlbWUiKXx8YS5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGQuY291bnRUaGVtZTtpPSEwLG49ci5kZXRhY2goKS53cmFwKCI8ZGl2ICIrYysicm9sZT0ncGFnZScgIitjKyJ1cmw9JyIrYisiJyAiK2MrInRoZW1lPSciK3YrIicgIitjKyJjb3VudC10aGVtZT0nIitfKyInPjxkaXYgIitjKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKS5wYXJlbnQoKS5iZWZvcmUoIjxkaXYgIitjKyJyb2xlPSdoZWFkZXInICIrYysidGhlbWU9JyIrZC5oZWFkZXJUaGVtZSsiJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitnKyI8L2Rpdj48L2Rpdj4iKS5hZnRlcih1P2UoIjxkaXYgIitjKyJyb2xlPSdmb290ZXInICIrYysiaWQ9JyIrdSsiJz4iKToiIikucGFyZW50KCkuYXBwZW5kVG8oZS5tb2JpbGUucGFnZUNvbnRhaW5lciksbi5wYWdlKCksbz1wLmZpbmQoImE6Zmlyc3QiKSxvLmxlbmd0aHx8KG89ZSgiPGEvPiIpLmh0bWwoZnx8ZykucHJlcGVuZFRvKHAuZW1wdHkoKSkpLG8uYXR0cigiaHJlZiIsIiMiK2IpfSkubGlzdHZpZXcoKSxpJiZvLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmby5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGU9PT0hMSl7dmFyIHA9ZnVuY3Rpb24odCxpKXt2YXIgbixhPWkubmV4dFBhZ2Uscj1uZXcgZS5FdmVudCgicGFnZXJlbW92ZSIpO2kubmV4dFBhZ2UmJihuPWEuanFtRGF0YSgidXJsIiksMCE9PW4uaW5kZXhPZihzKyImIitlLm1vYmlsZS5zdWJQYWdlVXJsS2V5KSYmKGguY2hpbGRQYWdlcygpLnJlbW92ZSgpLG8udHJpZ2dlcihyKSxyLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCkpKX07by51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIscCl9fSxjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoInVybCIpO3JldHVybiBlKCI6anFtRGF0YSh1cmxePSciK3QrIiYiK2UubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSxlLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZSgibWV0YVtuYW1lPXZpZXdwb3J0XSIpLGk9dC5hdHRyKCJjb250ZW50Iiksbj1pKyIsbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vIixhPWkrIixtYXhpbXVtLXNjYWxlPTEwLCB1c2VyLXNjYWxhYmxlPXllcyIsbz0vKHVzZXItc2NhbGFibGVbXHNdKj1bXHNdKm5vKXwobWF4aW11bS1zY2FsZVtcc10qPVtcc10qMSlbJCxcc10vLnRlc3QoaSk7ZS5tb2JpbGUuem9vbT1lLmV4dGVuZCh7fSx7ZW5hYmxlZDohbyxsb2NrZWQ6ITEsZGlzYWJsZTpmdW5jdGlvbihpKXtvfHxlLm1vYmlsZS56b29tLmxvY2tlZHx8KHQuYXR0cigiY29udGVudCIsbiksZS5tb2JpbGUuem9vbS5lbmFibGVkPSExLGUubW9iaWxlLnpvb20ubG9ja2VkPWl8fCExKX0sZW5hYmxlOmZ1bmN0aW9uKGkpe298fGUubW9iaWxlLnpvb20ubG9ja2VkJiZpIT09ITB8fCh0LmF0dHIoImNvbnRlbnQiLGEpLGUubW9iaWxlLnpvb20uZW5hYmxlZD0hMCxlLm1vYmlsZS56b29tLmxvY2tlZD0hMSl9LHJlc3RvcmU6ZnVuY3Rpb24oKXtvfHwodC5hdHRyKCJjb250ZW50IixpKSxlLm1vYmlsZS56b29tLmVuYWJsZWQ9ITApfX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLG1pbmk6ITEscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10sIDpqcW1EYXRhKHR5cGU9J251bWJlcicpLCBpbnB1dFt0eXBlPSdwYXNzd29yZCddLCBpbnB1dFt0eXBlPSdlbWFpbCddLCBpbnB1dFt0eXBlPSd1cmwnXSwgaW5wdXRbdHlwZT0ndGVsJ10sIHRleHRhcmVhLCBpbnB1dFt0eXBlPSd0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGUnXSwgaW5wdXRbdHlwZT0nbW9udGgnXSwgaW5wdXRbdHlwZT0nd2VlayddLCBpbnB1dFt0eXBlPSdkYXRldGltZSddLCBpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBpbnB1dFt0eXBlPSdjb2xvciddLCBpbnB1dDpub3QoW3R5cGVdKSwgaW5wdXRbdHlwZT0nZmlsZSddIixjbGVhckJ0bjohMSxjbGVhclNlYXJjaEJ1dHRvblRleHQ6bnVsbCxjbGVhckJ0blRleHQ6ImNsZWFyIHRleHQiLGRpc2FibGVkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLCFzLnZhbCgpKX0sMCl9dmFyIGksYSxvPXRoaXMscz10aGlzLmVsZW1lbnQscj10aGlzLm9wdGlvbnMsbD1yLnRoZW1lfHxlLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSxkPSIgdWktYm9keS0iK2wsYz1yLm1pbmk/IiB1aS1taW5pIjoiIixoPXMuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSx1PXIuY2xlYXJTZWFyY2hCdXR0b25UZXh0fHxyLmNsZWFyQnRuVGV4dCxwPXMuaXMoInRleHRhcmVhLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpIiksbT0hIXIuY2xlYXJCdG4mJiFwLGY9cy5pcygiaW5wdXQiKSYmIXMuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKTtpZihlKCJsYWJlbFtmb3I9JyIrcy5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IiksaT1zLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIitsKSxzWzBdLmF1dG9jb3JyZWN0PT09bnx8ZS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3d8fChzWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxzWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpLGg/aT1zLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIitkK2MrIic+PC9kaXY+IikucGFyZW50KCk6ZiYmKGk9cy53cmFwKCI8ZGl2IGNsYXNzPSd1aS1pbnB1dC10ZXh0IHVpLXNoYWRvdy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLWJ0bi1zaGFkb3ciK2QrYysiJz48L2Rpdj4iKS5wYXJlbnQoKSksbXx8aD8oYT1lKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSciK3UrIic+Iit1KyI8L2E+IikuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGUpe3MudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpLGEuYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpLGUucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGkpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6ITAsc2hhZG93OiEwLG1pbmk6ci5taW5pfSksaHx8aS5hZGRDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIiksdCgpLHMuYmluZCgicGFzdGUgY3V0IGtleXVwIGlucHV0IGZvY3VzIGNoYW5nZSBibHVyIix0KSk6Znx8aHx8cy5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1zaGFkb3ctaW5zZXQiK2QrYykscy5mb2N1cyhmdW5jdGlvbigpe3IucHJldmVudEZvY3VzWm9vbSYmZS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxpLmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmx1cihmdW5jdGlvbigpe2kucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyksci5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KSxzLmlzKCJ0ZXh0YXJlYSIpKXt2YXIgZyxiPTE1LHY9MTAwO3RoaXMuX2tleXVwPWZ1bmN0aW9uKCl7dmFyIGU9c1swXS5zY3JvbGxIZWlnaHQsdD1zWzBdLmNsaWVudEhlaWdodDtpZihlPnQpe3ZhciBpPXBhcnNlRmxvYXQocy5jc3MoInBhZGRpbmctdG9wIikpLG49cGFyc2VGbG9hdChzLmNzcygicGFkZGluZy1ib3R0b20iKSksYT1pK247cy5oZWlnaHQoZS1hK2IpfX0scy5vbigia2V5dXAgY2hhbmdlIGlucHV0IHBhc3RlIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChnKSxnPXNldFRpbWVvdXQoby5fa2V5dXAsdil9KSx0aGlzLl9vbighMCxlLm1vYmlsZS5kb2N1bWVudCx7cGFnZWNoYW5nZToiX2tleXVwIn0pLGUudHJpbShzLnZhbCgpKSYmdGhpcy5fb24oITAsZS5tb2JpbGUud2luZG93LHtsb2FkOiJfa2V5dXAifSl9cy5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksaT10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxuPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApJiYoaXx8dCk7cmV0dXJuIGU9bj90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50LGUuYWRkQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZWxlbWVudC5pcygiW3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpLGk9dGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpJiYhdGhpcy5lbGVtZW50LmlzKCI6anFtRGF0YSh0eXBlPSdyYW5nZScpIiksbj10aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKSYmKGl8fHQpO3JldHVybiBlPW4/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCxlLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX19KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ITEsZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9IkZpbHRlciBpdGVtcy4uLiIsZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWU9ImMiLGUubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclJldmVhbD0hMTt2YXIgdD1mdW5jdGlvbihlLHQpe3JldHVybi0xPT09KCIiK2UpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KX07ZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9dCxlLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgidWwsIG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKSxuPWkuZGF0YSgibW9iaWxlLWxpc3R2aWV3Iik7aWYobiYmbi5vcHRpb25zLmZpbHRlcil7bi5vcHRpb25zLmZpbHRlclJldmVhbCYmaS5jaGlsZHJlbigpLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik7dmFyIGE9ZSgiPGZvcm0+Iix7ImNsYXNzIjoidWktbGlzdHZpZXctZmlsdGVyIHVpLWJhci0iK24ub3B0aW9ucy5maWx0ZXJUaGVtZSxyb2xlOiJzZWFyY2gifSkuc3VibWl0KGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxzLmJsdXIoKX0pLG89ZnVuY3Rpb24oKXt2YXIgYSxvPWUodGhpcykscz10aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCkscj1udWxsLGw9aS5jaGlsZHJlbigpLGQ9by5qcW1EYXRhKCJsYXN0dmFsIikrIiIsYz0hMSxoPSIiLHU9bi5vcHRpb25zLmZpbHRlckNhbGxiYWNrIT09dDtpZighZHx8ZCE9PXMpe2lmKG4uX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsImJlZm9yZWZpbHRlciIse2lucHV0OnRoaXN9KSxvLmpxbURhdGEoImxhc3R2YWwiLHMpLHV8fHMubGVuZ3RoPGQubGVuZ3RofHwwIT09cy5pbmRleE9mKGQpP3I9aS5jaGlsZHJlbigpOihyPWkuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIiksIXIubGVuZ3RoJiZuLm9wdGlvbnMuZmlsdGVyUmV2ZWFsJiYocj1pLmNoaWxkcmVuKCIudWktc2NyZWVuLWhpZGRlbiIpKSkscyl7Zm9yKHZhciBwPXIubGVuZ3RoLTE7cD49MDtwLS0pYT1lKHJbcF0pLGg9YS5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fGEudGV4dCgpLGEuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/KGEudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCFjKSxjPSExKTpuLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soaCxzLGEpP2EudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCEwKTpjPSEwO3IuZmlsdGVyKCI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMSksci5maWx0ZXIoIi51aS1maWx0ZXItaGlkZXF1ZXVlIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCEwKS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITEpfWVsc2Ugci50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsISFuLm9wdGlvbnMuZmlsdGVyUmV2ZWFsKTtuLl9hZGRGaXJzdExhc3RDbGFzc2VzKGwsbi5fZ2V0VmlzaWJsZXMobCwhMSksITEpfX0scz1lKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6bi5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSBpbnB1dCIsbykuYXBwZW5kVG8oYSkudGV4dGlucHV0KCk7bi5vcHRpb25zLmluc2V0JiZhLmFkZENsYXNzKCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXQiKSxhLmJpbmQoInN1Ym1pdCIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pLmluc2VydEJlZm9yZShpKX19KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzPSExLGUubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yPWZ1bmN0aW9uKHQpe3ZhciBpPWUudHJpbSh0LnRleHQoKSl8fG51bGw7cmV0dXJuIGk/aT1pLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKTpudWxsfSxlLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgidWwsb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG49dC5kYXRhKCJtb2JpbGUtbGlzdHZpZXciKTtpZihuJiZuLm9wdGlvbnMuYXV0b2RpdmlkZXJzKXt2YXIgYT1mdW5jdGlvbigpe3QuZmluZCgibGk6anFtRGF0YShyb2xlPSdsaXN0LWRpdmlkZXInKSIpLnJlbW92ZSgpO2Zvcih2YXIgYSxvLHM9dC5maW5kKCJsaSIpLHI9bnVsbCxsPTA7cy5sZW5ndGg+bDtsKyspe2lmKGE9c1tsXSxvPW4ub3B0aW9ucy5hdXRvZGl2aWRlcnNTZWxlY3RvcihlKGEpKSxvJiZyIT09byl7dmFyIGQ9aS5jcmVhdGVFbGVtZW50KCJsaSIpO2QuYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZShvKSksZC5zZXRBdHRyaWJ1dGUoImRhdGEtIitlLm1vYmlsZS5ucysicm9sZSIsImxpc3QtZGl2aWRlciIpLGEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZCxhKX1yPW99fSxvPWZ1bmN0aW9uKCl7dC51bmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixvKSxhKCksbi5yZWZyZXNoKCksdC5iaW5kKCJsaXN0dmlld2FmdGVycmVmcmVzaCIsbyl9O28oKX19KX0oZSksZnVuY3Rpb24oZSl7ZShpKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZSgiOmpxbURhdGEocm9sZT0nbm9qcycpIix0LnRhcmdldCkuYWRkQ2xhc3MoInVpLW5vanMiKX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0PXtfaGFuZGxlRm9ybVJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKSx7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3Jlc2V0Iil9fSl9fX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsbWluaTohMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J2NoZWNrYm94J10saW5wdXRbdHlwZT0ncmFkaW8nXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9dGhpcy5lbGVtZW50LG89dGhpcy5vcHRpb25zLHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5qcW1EYXRhKHQpfHxlLmNsb3Nlc3QoImZvcm0sIGZpZWxkc2V0IikuanFtRGF0YSh0KX0scj1lKGEpLmNsb3Nlc3QoImxhYmVsIiksbD1yLmxlbmd0aD9yOmUoYSkuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQsIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJsYWJlbCIpLmZpbHRlcigiW2Zvcj0nIithWzBdLmlkKyInXSIpLmZpcnN0KCksZD1hWzBdLnR5cGUsYz1zKGEsIm1pbmkiKXx8by5taW5pLGg9ZCsiLW9uIix1PWQrIi1vZmYiLHA9cyhhLCJpY29ucG9zIiksbT0idWktIitoLGY9InVpLSIrdTtpZigiY2hlY2tib3giPT09ZHx8InJhZGlvIj09PWQpe2UuZXh0ZW5kKHRoaXMse2xhYmVsOmwsaW5wdXR0eXBlOmQsY2hlY2tlZENsYXNzOm0sdW5jaGVja2VkQ2xhc3M6ZixjaGVja2VkaWNvbjpoLHVuY2hlY2tlZGljb246dX0pLG8udGhlbWV8fChvLnRoZW1lPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpKSxsLmJ1dHRvbk1hcmt1cCh7dGhlbWU6by50aGVtZSxpY29uOnUsc2hhZG93OiExLG1pbmk6YyxpY29ucG9zOnB9KTt2YXIgZz1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuY2xhc3NOYW1lPSJ1aS0iK2QsYS5hZGQobCkud3JhcEFsbChnKSxsLmJpbmQoe3Ztb3VzZW92ZXI6ZnVuY3Rpb24odCl7ZSh0aGlzKS5wYXJlbnQoKS5pcygiLnVpLWRpc2FibGVkIikmJnQuc3RvcFByb3BhZ2F0aW9uKCl9LHZjbGljazpmdW5jdGlvbihlKXtyZXR1cm4gYS5pcygiOmRpc2FibGVkIik/KGUucHJldmVudERlZmF1bHQoKSxuKToodC5fY2FjaGVWYWxzKCksYS5wcm9wKCJjaGVja2VkIiwicmFkaW8iPT09ZCYmITB8fCFhLnByb3AoImNoZWNrZWQiKSksYS50cmlnZ2VySGFuZGxlcigiY2xpY2siKSx0Ll9nZXRJbnB1dFNldCgpLm5vdChhKS5wcm9wKCJjaGVja2VkIiwhMSksdC5fdXBkYXRlQWxsKCksITEpfX0pLGEuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe3QuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpO2kuaXMoIjpjaGVja2VkIik/KGkucHJvcCgiY2hlY2tlZCIsITApLHQuX2dldElucHV0U2V0KCkubm90KGkpLnByb3AoImNoZWNrZWQiLCExKSk6aS5wcm9wKCJjaGVja2VkIiwhMSksdC5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7bC5hZGRDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe2wucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCl9fSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5qcW1EYXRhKCJjYWNoZVZhbCIsdGhpcy5jaGVja2VkKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iY2hlY2tib3giPT09dGhpcy5pbnB1dHR5cGU/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLCA6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnRbMF0ubmFtZSsiJ11bdHlwZT0nIit0aGlzLmlucHV0dHlwZSsiJ10iKX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKTsodGhpcy5jaGVja2VkfHwiY2hlY2tib3giPT09dC5pbnB1dHR5cGUpJiZpLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXSxpPSIgIitlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxuPXRoaXMuY2hlY2tlZENsYXNzKyh0aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIikubGVuZ3RoP2k6IiIpLGE9dGhpcy5sYWJlbDt0LmNoZWNrZWQ/YS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzK2kpLmFkZENsYXNzKG4pLmJ1dHRvbk1hcmt1cCh7aWNvbjp0aGlzLmNoZWNrZWRpY29ufSk6YS5yZW1vdmVDbGFzcyhuKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKS5idXR0b25NYXJrdXAoe2ljb246dGhpcy51bmNoZWNrZWRpY29ufSksdC5kaXNhYmxlZD90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0sZS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLmJ1dHRvbiIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCxpbmxpbmU6bnVsbCxtaW5pOm51bGwsaW5pdFNlbGVjdG9yOiJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuZWxlbWVudCxhPWZ1bmN0aW9uKGUpe3ZhciB0LGk9e307Zm9yKHQgaW4gZSludWxsIT09ZVt0XSYmImluaXRTZWxlY3RvciIhPT10JiYoaVt0XT1lW3RdKTtyZXR1cm4gaX0odGhpcy5vcHRpb25zKSxvPSIiO3JldHVybiJBIj09PWlbMF0udGFnTmFtZT8oaS5oYXNDbGFzcygidWktYnRuIil8fGkuYnV0dG9uTWFya3VwKCksbik6KHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSksfmlbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihvPSJ1aS1idG4tbGVmdCIpLH5pWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKG89InVpLWJ0bi1yaWdodCIpLCgic3VibWl0Ij09PWkuYXR0cigidHlwZSIpfHwicmVzZXQiPT09aS5hdHRyKCJ0eXBlIikpJiYobz9vKz0iIHVpLXN1Ym1pdCI6bz0idWktc3VibWl0IiksZSgibGFiZWxbZm9yPSciK2kuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktc3VibWl0IiksdGhpcy5idXR0b249ZSgiPGRpdj48L2Rpdj4iKVtpLmh0bWwoKT8iaHRtbCI6InRleHQiXShpLmh0bWwoKXx8aS52YWwoKSkuaW5zZXJ0QmVmb3JlKGkpLmJ1dHRvbk1hcmt1cChhKS5hZGRDbGFzcyhvKS5hcHBlbmQoaS5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKSx0PXRoaXMuYnV0dG9uLGkuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXt0LmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7dC5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLnJlZnJlc2goKSxuKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciBuPXt9O25bdF09aSwiaW5pdFNlbGVjdG9yIiE9PXQmJih0aGlzLmJ1dHRvbi5idXR0b25NYXJrdXAobiksdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoZS5tb2JpbGUubnN8fCIiKSt0LnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGkpKSx0aGlzLl9zdXBlcigiX3NldE9wdGlvbiIsdCxpKX0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCksdGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudDt0LnByb3AoImRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKSxlKHRoaXMuYnV0dG9uLmRhdGEoImJ1dHRvbkVsZW1lbnRzIikudGV4dClbdC5odG1sKCk/Imh0bWwiOiJ0ZXh0Il0odC5odG1sKCl8fHQudmFsKCkpfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5idXR0b24ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQsITApfSl9KGUpLGZ1bmN0aW9uKGUsbil7ZS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGUubW9iaWxlLndpZGdldCxlLmV4dGVuZCh7d2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIixtaW5pOiExLGhpZ2hsaWdodDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhLG8scz10aGlzLHI9dGhpcy5lbGVtZW50LGw9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUociwiYyIpLGQ9dGhpcy5vcHRpb25zLnRoZW1lfHxsLGM9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGwsaD1yWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksdT0odGhpcy5pc1RvZ2dsZVN3aXRjaD0ic2VsZWN0Ij09PWgsci5wYXJlbnQoKS5pcygiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIpKSxwPXRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiIiLG09ci5hdHRyKCJpZCIpLGY9ZSgiW2Zvcj0nIittKyInXSIpLGc9Zi5hdHRyKCJpZCIpfHxtKyItbGFiZWwiLGI9Zi5hdHRyKCJpZCIsZyksdj10aGlzLmlzVG9nZ2xlU3dpdGNoPzA6cGFyc2VGbG9hdChyLmF0dHIoIm1pbiIpKSxfPXRoaXMuaXNUb2dnbGVTd2l0Y2g/ci5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTpwYXJzZUZsb2F0KHIuYXR0cigibWF4IikpLEM9dC5wYXJzZUZsb2F0KHIuYXR0cigic3RlcCIpfHwxKSx4PXRoaXMub3B0aW9ucy5taW5pfHxyLmpxbURhdGEoIm1pbmkiKT8iIHVpLW1pbmkiOiIiLHk9aS5jcmVhdGVFbGVtZW50KCJhIiksdz1lKHkpLFQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxEPWUoVCksUD10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaD9mdW5jdGlvbigpe3ZhciB0PWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHQuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIitlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIHVpLWJ0bi1jb3JuZXItYWxsIixlKHQpLnByZXBlbmRUbyhEKX0oKTohMTtpZih5LnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSxULnNldEF0dHJpYnV0ZSgicm9sZSIsImFwcGxpY2F0aW9uIiksVC5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciAiOiJ1aS1zbGlkZXItdHJhY2sgIixwLCIgdWktYnRuLWRvd24tIixjLCIgdWktYnRuLWNvcm5lci1hbGwiLHhdLmpvaW4oIiIpLHkuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaGFuZGxlIixULmFwcGVuZENoaWxkKHkpLHcuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmQsc2hhZG93OiEwfSkuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6diwiYXJpYS12YWx1ZW1heCI6XywiYXJpYS12YWx1ZW5vdyI6dGhpcy5fdmFsdWUoKSwiYXJpYS12YWx1ZXRleHQiOnRoaXMuX3ZhbHVlKCksdGl0bGU6dGhpcy5fdmFsdWUoKSwiYXJpYS1sYWJlbGxlZGJ5IjpnfSksZS5leHRlbmQodGhpcyx7c2xpZGVyOkQsaGFuZGxlOncsdHlwZTpoLHN0ZXA6QyxtYXg6XyxtaW46dix2YWx1ZWJnOlAsaXNSYW5nZXNsaWRlcjp1LGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOiExLG1vdXNlTW92ZWQ6ITF9KSx0aGlzLmlzVG9nZ2xlU3dpdGNoKXtvPWkuY3JlYXRlRWxlbWVudCgiZGl2Iiksby5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCI7Zm9yKHZhciBrPTAsRT1ULmNoaWxkTm9kZXMubGVuZ3RoO0U+aztrKyspby5hcHBlbmRDaGlsZChULmNoaWxkTm9kZXNba10pO1QuYXBwZW5kQ2hpbGQobyksdy5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGE9ci5maW5kKCJvcHRpb24iKTtmb3IodmFyIHE9MCxqPWEubGVuZ3RoO2o+cTtxKyspe3ZhciBTPXE/ImEiOiJiIixBPXE/IiAiK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIgdWktYnRuLWRvd24tIitjLE49KGkuY3JlYXRlRWxlbWVudCgiZGl2IiksaS5jcmVhdGVFbGVtZW50KCJzcGFuIikpO04uY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLFMsQSwiIHVpLWJ0bi1jb3JuZXItYWxsIl0uam9pbigiIiksTi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSxOLmFwcGVuZENoaWxkKGkuY3JlYXRlVGV4dE5vZGUoYVtxXS5pbm5lckhUTUwpKSxlKE4pLnByZXBlbmRUbyhEKX1zLl9sYWJlbHM9ZSgiLnVpLXNsaWRlci1sYWJlbCIsRCl9Yi5hZGRDbGFzcygidWktc2xpZGVyIiksci5hZGRDbGFzcyh0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXItc3dpdGNoIjoidWktc2xpZGVyLWlucHV0IiksdGhpcy5fb24ocix7Y2hhbmdlOiJfY29udHJvbENoYW5nZSIsa2V5dXA6Il9jb250cm9sS2V5dXAiLGJsdXI6Il9jb250cm9sQmx1ciIsdm1vdXNldXA6Il9jb250cm9sVk1vdXNlVXAifSksRC5iaW5kKCJ2bW91c2Vkb3duIixlLnByb3h5KHRoaXMuX3NsaWRlclZNb3VzZURvd24sdGhpcykpLmJpbmQoInZjbGljayIsITEpLHRoaXMuX29uKGkse3Ztb3VzZW1vdmU6Il9wcmV2ZW50RG9jdW1lbnREcmFnIn0pLHRoaXMuX29uKEQuYWRkKGkpLHt2bW91c2V1cDoiX3NsaWRlclZNb3VzZVVwIn0pLEQuaW5zZXJ0QWZ0ZXIociksdGhpcy5pc1RvZ2dsZVN3aXRjaHx8dXx8KG89dGhpcy5vcHRpb25zLm1pbmk/IjxkaXYgY2xhc3M9J3VpLXNsaWRlciB1aS1taW5pJz4iOiI8ZGl2IGNsYXNzPSd1aS1zbGlkZXInPiIsci5hZGQoRCkud3JhcEFsbChvKSksdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXtELmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7RC5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLl9vbih0aGlzLmhhbmRsZSx7dm1vdXNlZG93bjoiX2hhbmRsZVZNb3VzZURvd24iLGtleWRvd246Il9oYW5kbGVLZXlkb3duIixrZXl1cDoiX2hhbmRsZUtleXVwIn0pLHRoaXMuaGFuZGxlLmJpbmQoInZjbGljayIsITEpLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChuLG4sITApfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiY29udHJvbGNoYW5nZSIsZSk9PT0hMT8hMToodGhpcy5tb3VzZU1vdmVkfHx0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCksbil9LF9jb250cm9sS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCwhMCl9LF9jb250cm9sQmx1cjpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbigpe3RoaXMuX2NoZWNrZWRSZWZyZXNoKCl9LF9oYW5kbGVWTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fdmFsdWUoKTtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGUubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGUubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGUubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGUubW9iaWxlLmtleUNvZGUuTEVGVDp0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5U2xpZGluZ3x8KHRoaXMuX2tleVNsaWRpbmc9ITAsdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX1zd2l0Y2godC5rZXlDb2RlKXtjYXNlIGUubW9iaWxlLmtleUNvZGUuSE9NRTp0aGlzLnJlZnJlc2godGhpcy5taW4pO2JyZWFrO2Nhc2UgZS5tb2JpbGUua2V5Q29kZS5FTkQ6dGhpcy5yZWZyZXNoKHRoaXMubWF4KTticmVhaztjYXNlIGUubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGUubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlJJR0hUOnRoaXMucmVmcmVzaChpK3RoaXMuc3RlcCk7YnJlYWs7Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGUubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGUubW9iaWxlLmtleUNvZGUuTEVGVDp0aGlzLnJlZnJlc2goaS10aGlzLnN0ZXApfX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbigpe3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9LF9zbGlkZXJWTW91c2VEb3duOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fDEhPT1lLndoaWNoJiYwIT09ZS53aGljaD8hMTp0aGlzLl90cmlnZ2VyKCJiZWZvcmVzdGFydCIsZSk9PT0hMT8hMToodGhpcy5kcmFnZ2luZz0hMCx0aGlzLnVzZXJNb2RpZmllZD0hMSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuYmVmb3JlU3RhcnQ9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLHRoaXMucmVmcmVzaChlKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIpLCExKX0sX3NsaWRlclZNb3VzZVVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5tb3VzZU1vdmVkP3RoaXMudXNlck1vZGlmaWVkP3RoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApOnRoaXMucmVmcmVzaCh0aGlzLmJlZm9yZVN0YXJ0KTp0aGlzLnJlZnJlc2goMD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKSksdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuX3RyaWdnZXIoInN0b3AiKSwhMSk6bn0sX3ByZXZlbnREb2N1bWVudERyYWc6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImRyYWciLGUpPT09ITE/ITE6dGhpcy5kcmFnZ2luZyYmIXRoaXMub3B0aW9ucy5kaXNhYmxlZD8odGhpcy5tb3VzZU1vdmVkPSEwLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5yZWZyZXNoKGUpLHRoaXMudXNlck1vZGlmaWVkPXRoaXMuYmVmb3JlU3RhcnQhPT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCwhMSk6bn0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb2dnbGVTd2l0Y2g/dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg6cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2gobiwhMSwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24odCxhLG8pe3ZhciBzLHIsbCxkLGM9dGhpcyxoPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLHU9dGhpcy5vcHRpb25zLnRoZW1lfHxoLHA9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGg7Yy5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci10cmFjayIsIiB1aS1idG4tZG93bi0iK3AsIiB1aS1idG4tY29ybmVyLWFsbCIsdGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIl0uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdC5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGUodCkucHJlcGVuZFRvKGMuc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOnUsc2hhZG93OiEwfSk7dmFyIG0sZixnPXRoaXMuZWxlbWVudCxiPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLHY9Yj9bXTpnLmZpbmQoIm9wdGlvbiIpLF89Yj9wYXJzZUZsb2F0KGcuYXR0cigibWluIikpOjAsQz1iP3BhcnNlRmxvYXQoZy5hdHRyKCJtYXgiKSk6di5sZW5ndGgtMSx4PWImJnBhcnNlRmxvYXQoZy5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChnLmF0dHIoInN0ZXAiKSk6MTtpZigib2JqZWN0Ij09dHlwZW9mIHQpe2lmKGw9dCxkPTgscz10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LHI9dGhpcy5zbGlkZXIud2lkdGgoKSxtPXIvKChDLV8pL3gpLCF0aGlzLmRyYWdnaW5nfHxzLWQ+bC5wYWdlWHx8bC5wYWdlWD5zK3IrZClyZXR1cm47Zj1tPjE/MTAwKigobC5wYWdlWC1zKS9yKTpNYXRoLnJvdW5kKDEwMCooKGwucGFnZVgtcykvcikpfWVsc2UgbnVsbD09dCYmKHQ9Yj9wYXJzZUZsb2F0KGcudmFsKCl8fDApOmdbMF0uc2VsZWN0ZWRJbmRleCksZj0xMDAqKChwYXJzZUZsb2F0KHQpLV8pLyhDLV8pKTtpZighaXNOYU4oZikpe3ZhciB5PWYvMTAwKihDLV8pK18sdz0oeS1fKSV4LFQ9eS13OzIqTWF0aC5hYnModyk+PXgmJihUKz13PjA/eDoteCk7dmFyIEQ9MTAwLygoQy1fKS94KTtpZih5PXBhcnNlRmxvYXQoVC50b0ZpeGVkKDUpKSxtPT09biYmKG09ci8oKEMtXykveCkpLG0+MSYmYiYmKGY9KHktXykqRCooMS94KSksMD5mJiYoZj0wKSxmPjEwMCYmKGY9MTAwKSxfPnkmJih5PV8pLHk+QyYmKHk9QyksdGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixmKyIlIiksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93IixiP3k6di5lcSh5KS5hdHRyKCJ2YWx1ZSIpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWV0ZXh0IixiP3k6di5lcSh5KS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoInRpdGxlIixiP3k6di5lcSh5KS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoIndpZHRoIixmKyIlIiksdGhpcy5fbGFiZWxzKXt2YXIgUD0xMDAqKHRoaXMuaGFuZGxlLndpZHRoKCkvdGhpcy5zbGlkZXIud2lkdGgoKSksaz1mJiZQKygxMDAtUCkqZi8xMDAsRT0xMDA9PT1mPzA6TWF0aC5taW4oUCsxMDAtaywxMDApO3RoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5pcygiLnVpLXNsaWRlci1sYWJlbC1hIik7ZSh0aGlzKS53aWR0aCgodD9rOkUpKyIlIil9KX1pZighbyl7dmFyIHE9ITE7aWYoYj8ocT1nLnZhbCgpIT09eSxnLnZhbCh5KSk6KHE9Z1swXS5zZWxlY3RlZEluZGV4IT09eSxnWzBdLnNlbGVjdGVkSW5kZXg9eSksdGhpcy5fdHJpZ2dlcigiYmVmb3JlY2hhbmdlIix0KT09PSExKXJldHVybiExOyFhJiZxJiZnLnRyaWdnZXIoImNoYW5nZSIpfX19LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKSx0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApLHRoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9fSxlLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLnNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5yYW5nZXNsaWRlciIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3Jhbmdlc2xpZGVyJykiLG1pbmk6ITEsaGlnaGxpZ2h0OiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLmVsZW1lbnQsbj10aGlzLm9wdGlvbnMubWluaT8idWktcmFuZ2VzbGlkZXIgdWktbWluaSI6InVpLXJhbmdlc2xpZGVyIixhPWkuZmluZCgiaW5wdXQiKS5maXJzdCgpLG89aS5maW5kKCJpbnB1dCIpLmxhc3QoKSxzPWkuZmluZCgibGFiZWwiKS5maXJzdCgpLHI9ZS5kYXRhKGEuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5zbGlkZXIsbD1lLmRhdGEoby5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnNsaWRlcixkPWUuZGF0YShhLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLGM9ZSgnPGRpdiBjbGFzcz0idWktcmFuZ2VzbGlkZXItc2xpZGVycyIgLz4nKS5hcHBlbmRUbyhpKTtpLmZpbmQoImxhYmVsIikubGVuZ3RoPjEmJih0PWkuZmluZCgibGFiZWwiKS5sYXN0KCkuaGlkZSgpKSxhLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLG8uYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWxhc3QiKSxpLmFkZENsYXNzKG4pLHIuYXBwZW5kVG8oYyksbC5hcHBlbmRUbyhjKSxzLnByZXBlbmRUbyhpKSxkLnByZXBlbmRUbyhsKSxlLmV4dGVuZCh0aGlzLHtfaW5wdXRGaXJzdDphLF9pbnB1dExhc3Q6byxfc2xpZGVyRmlyc3Q6cixfc2xpZGVyTGFzdDpsLF90YXJnZXRWYWw6bnVsbCxfc2xpZGVyVGFyZ2V0OiExLF9zbGlkZXJzOmMsX3Byb3h5OiExfSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb24odGhpcy5lbGVtZW50LmZpbmQoImlucHV0LnVpLXNsaWRlci1pbnB1dCIpLHtzbGlkZWJlZm9yZXN0YXJ0OiJfc2xpZGViZWZvcmVzdGFydCIsc2xpZGVzdG9wOiJfc2xpZGVzdG9wIixzbGlkZWRyYWc6Il9zbGlkZWRyYWciLHNsaWRlYmVmb3JlY2hhbmdlOiJfY2hhbmdlIixibHVyOiJfY2hhbmdlIixrZXl1cDoiX2NoYW5nZSJ9KSx0aGlzLl9vbih7bW91c2Vkb3duOiJfY2hhbmdlIn0pLHRoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikse3Jlc2V0OiJfaGFuZGxlUmVzZXQifSksdGhpcy5fb24oZCx7dm1vdXNlZG93bjoiX2RyYWdGaXJzdEhhbmRsZSJ9KX0sX2hhbmRsZVJlc2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fdXBkYXRlSGlnaGxpZ2h0KCl9LDApfSxfZHJhZ0ZpcnN0SGFuZGxlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmRyYWdnaW5nPSEwLGUuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikucmVmcmVzaCh0KSwhMX0sX3NsaWRlZHJhZzpmdW5jdGlvbih0KXt2YXIgaT1lKHQudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KSxhPWk/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7cmV0dXJuIHRoaXMuX3NsaWRlclRhcmdldD0hMSwiZmlyc3QiPT09dGhpcy5fcHJveHkmJml8fCJsYXN0Ij09PXRoaXMuX3Byb3h5JiYhaT8oZS5kYXRhKGEuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5kcmFnZ2luZz0hMCxlLmRhdGEoYS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnJlZnJlc2godCksITEpOm59LF9zbGlkZXN0b3A6ZnVuY3Rpb24odCl7dmFyIGk9ZSh0LnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGk/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKHQpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxlKHQub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9ZSh0LnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUpe3RoaXMuX3N1cGVyQXBwbHkoZSksdGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsdD10aGlzLm9wdGlvbnM7ZS5maW5kKCJpbnB1dCIpLnNsaWRlcih7dGhlbWU6dC50aGVtZSx0cmFja1RoZW1lOnQudHJhY2tUaGVtZSxkaXNhYmxlZDp0LmRpc2FibGVkLG1pbmk6dC5taW5pLGhpZ2hsaWdodDp0LmhpZ2hsaWdodH0pLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfSxfY2hhbmdlOmZ1bmN0aW9uKHQpe2lmKCJrZXl1cCI9PT10LnR5cGUpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBpPXRoaXMsYT1wYXJzZUZsb2F0KHRoaXMuX2lucHV0Rmlyc3QudmFsKCksMTApLG89cGFyc2VGbG9hdCh0aGlzLl9pbnB1dExhc3QudmFsKCksMTApLHM9ZSh0LnRhcmdldCkuaGFzQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0Iikscj1zP3RoaXMuX2lucHV0Rmlyc3Q6dGhpcy5faW5wdXRMYXN0LGw9cz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtpZih0aGlzLl9pbnB1dEZpcnN0LnZhbCgpPnRoaXMuX2lucHV0TGFzdC52YWwoKSYmIm1vdXNlZG93biI9PT10LnR5cGUmJiFlKHQudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpKXIuYmx1cigpO2Vsc2UgaWYoIm1vdXNlZG93biI9PT10LnR5cGUpcmV0dXJuO3JldHVybiBhPm8mJiF0aGlzLl9zbGlkZXJUYXJnZXQ/KHIudmFsKHM/bzphKS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl90cmlnZ2VyKCJub3JtYWxpemUiKSk6YT5vJiYoci52YWwodGhpcy5fdGFyZ2V0VmFsKS5zbGlkZXIoInJlZnJlc2giKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC52YWwocz9hOm8pLnNsaWRlcigicmVmcmVzaCIpLGUuZGF0YShsLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmZvY3VzKCksaS5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixzPyIiOjEpLGkuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1zPyJmaXJzdCI6Imxhc3QiKSxhPT09bz8oZS5kYXRhKHIuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxlLmRhdGEobC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDApKTooZS5kYXRhKGwuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIiksZS5kYXRhKHIuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGE+PW8/ITE6bn0sX3VwZGF0ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciB0PXBhcnNlSW50KGUuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxpPXBhcnNlSW50KGUuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLG49aS10O3RoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWJnIikuY3NzKHsibWFyZ2luLWxlZnQiOnQrIiUiLHdpZHRoOm4rIiUifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIikuZmluZCgibGFiZWwiKS5zaG93KCksdGhpcy5faW5wdXRGaXJzdC5hZnRlcih0aGlzLl9zbGlkZXJGaXJzdCksdGhpcy5faW5wdXRMYXN0LmFmdGVyKHRoaXMuX3NsaWRlckxhc3QpLHRoaXMuX3NsaWRlcnMucmVtb3ZlKCksdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IHVpLXJhbmdlc2xpZGVyLWxhc3QiKS5zbGlkZXIoImRlc3Ryb3kiKX19KSxlLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixlLm1vYmlsZS5yYW5nZXNsaWRlcixlLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSxlKGkpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5yYW5nZXNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsZGlzYWJsZWQ6ITEsaWNvbjoiYXJyb3ctZCIsaWNvbnBvczoicmlnaHQiLGlubGluZTohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLG92ZXJsYXlUaGVtZToiYSIsZGl2aWRlclRoZW1lOiJiIixoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6ITAsY2xvc2VUZXh0OiJDbG9zZSIsbmF0aXZlTWVudTohMCxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxpbml0U2VsZWN0b3I6InNlbGVjdDpub3QoIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpICkiLG1pbmk6ITF9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gZSgiPGRpdi8+IikKfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZSksdGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsZSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt2YXIgdD0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYodD0iIHVpLWJ0bi1sZWZ0IiksfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJih0PSIgdWktYnRuLXJpZ2h0IiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QiK3QrIic+IiksdGhpcy5zZWxlY3RJRD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpLHRoaXMubGFiZWw9ZSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SUQrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZSx0aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5zZWxlY3QsImMiKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1zZWxlY3QiKTtlLmxlbmd0aD4wJiYoZS5pcygiLnVpLWJ0bi1sZWZ0LCAudWktYnRuLXJpZ2h0IikmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhlLmlzKCIudWktYnRuLWxlZnQiKT8idWktYnRuLWxlZnQiOiJ1aS1idG4tcmlnaHQiKSx0aGlzLmVsZW1lbnQuaW5zZXJ0QWZ0ZXIoZSksZS5yZW1vdmUoKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVDcmVhdGUiKSx0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgaT10aGlzLG49dGhpcy5vcHRpb25zLGE9bi5pbmxpbmV8fHRoaXMuc2VsZWN0LmpxbURhdGEoImlubGluZSIpLG89bi5taW5pfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJtaW5pIikscz1uLmljb24/bi5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpY29ucG9zIik6ITEscj0oLTE9PT10aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4PzA6dGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCx0aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6bi50aGVtZSxpY29uOm4uaWNvbixpY29ucG9zOnMsaW5saW5lOmEsY29ybmVyczpuLmNvcm5lcnMsc2hhZG93Om4uc2hhZG93LGljb25zaGFkb3c6bi5pY29uc2hhZG93LG1pbmk6b30pKTt0aGlzLnNldEJ1dHRvblRleHQoKSxuLm5hdGl2ZU1lbnUmJnQub3BlcmEmJnQub3BlcmEudmVyc2lvbiYmci5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKSx0aGlzLmlzTXVsdGlwbGUmJih0aGlzLmJ1dHRvbkNvdW50PWUoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhyLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChuLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2kucmVmcmVzaCgpLG4ubmF0aXZlTWVudSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyh0LmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXt0LmJ1dHRvbi5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXt0LmJ1dHRvbi5hZGRDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7dC5idXR0b24ucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe3QuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7dC5idXR0b24ucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe3QuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe3QuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK3Qub3B0aW9ucy50aGVtZSl9KSx0LmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksdC5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmZS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLHQuc2VsZWN0LmJpbmQoImZvY3VzIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksdC5idXR0b24uYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2UubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KSx0LnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dGhpcy5zZWxlY3RlZCgpLGE9dGhpcy5wbGFjZWhvbGRlcixvPWUoaS5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtyZXR1cm4gYT1uLmxlbmd0aD9uLm1hcChmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6dC5wbGFjZWhvbGRlcixvLnRleHQoYSkuYWRkQ2xhc3ModC5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3Mobi5hdHRyKCJjbGFzcyIpKX0pfSxzZXRCdXR0b25Db3VudDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbZS5sZW5ndGg+MT8ic2hvdyI6ImhpZGUiXSgpLnRleHQoZS5sZW5ndGgpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0QnV0dG9uVGV4dCgpLHRoaXMuc2V0QnV0dG9uQ291bnQoKX0sb3BlbjplLm5vb3AsY2xvc2U6ZS5ub29wLGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMCksdGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCExKSx0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19LGUubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBhKGUsdCxpLG4pe3ZhciBhPW47cmV0dXJuIGE9dD5lP2krKGUtdCkvMjpNYXRoLm1pbihNYXRoLm1heChpLG4tdC8yKSxpK2UtdCl9ZnVuY3Rpb24gbygpe3ZhciBpPWUubW9iaWxlLndpbmRvdztyZXR1cm57eDppLnNjcm9sbExlZnQoKSx5Omkuc2Nyb2xsVG9wKCksY3g6dC5pbm5lcldpZHRofHxpLndpZHRoKCksY3k6dC5pbm5lckhlaWdodHx8aS5oZWlnaHQoKX19ZS53aWRnZXQoIm1vYmlsZS5wb3B1cCIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLG92ZXJsYXlUaGVtZTpudWxsLHNoYWRvdzohMCxjb3JuZXJzOiEwLHRyYW5zaXRpb246Im5vbmUiLHBvc2l0aW9uVG86Im9yaWdpbiIsdG9sZXJhbmNlOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdwb3B1cCcpIixjbG9zZUxpbmtTZWxlY3RvcjoiYTpqcW1EYXRhKHJlbD0nYmFjaycpIixjbG9zZUxpbmtFdmVudHM6ImNsaWNrLnBvcHVwIixuYXZpZ2F0ZUV2ZW50czoibmF2aWdhdGUucG9wdXAiLGNsb3NlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwIixkaXNtaXNzaWJsZTohMCxoaXN0b3J5OiFlLm1vYmlsZS5icm93c2VyLm9sZElFfSxfZWF0RXZlbnRBbmRDbG9zZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLmNsb3NlKCksITF9LF9yZXNpemVTY3JlZW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApO3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVBdHRyKCJzdHlsZSIpLGU+dGhpcy5fdWkuc2NyZWVuLmhlaWdodCgpJiZ0aGlzLl91aS5zY3JlZW4uaGVpZ2h0KGUpfSxfaGFuZGxlV2luZG93S2V5VXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2lzT3BlbiYmdC5rZXlDb2RlPT09ZS5tb2JpbGUua2V5Q29kZS5FU0NBUEU/dGhpcy5fZWF0RXZlbnRBbmRDbG9zZSh0KTpufSxfZXhwZWN0UmVzaXplRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgdD1vKCk7aWYodGhpcy5fcmVzaXplRGF0YSl7aWYodC54PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMueCYmdC55PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMueSYmdC5jeD09PXRoaXMuX3Jlc2l6ZURhdGEud2luQ29vcmRzLmN4JiZ0LmN5PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3kpcmV0dXJuITE7Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZURhdGEudGltZW91dElkKX1yZXR1cm4gdGhpcy5fcmVzaXplRGF0YT17dGltZW91dElkOnNldFRpbWVvdXQoZS5wcm94eSh0aGlzLCJfcmVzaXplVGltZW91dCIpLDIwMCksd2luQ29vcmRzOnR9LCEwfSxfcmVzaXplVGltZW91dDpmdW5jdGlvbigpe3RoaXMuX2lzT3Blbj90aGlzLl9leHBlY3RSZXNpemVFdmVudCgpfHwodGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5yZXBvc2l0aW9uKHtwb3NpdGlvblRvOiJ3aW5kb3cifSksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCkpLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpOih0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKX0sX2lnbm9yZVJlc2l6ZUV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5faWdub3JlUmVzaXplVG8mJmNsZWFyVGltZW91dCh0aGlzLl9pZ25vcmVSZXNpemVUbyksdGhpcy5faWdub3JlUmVzaXplVG89c2V0VGltZW91dChmdW5jdGlvbigpe2UuX2lnbm9yZVJlc2l6ZVRvPTB9LDFlMyl9LF9oYW5kbGVXaW5kb3dSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKCF0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpJiYhdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzfHx0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpfHx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIikpfSxfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2U6ZnVuY3Rpb24oKXshdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzJiZ0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCksdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSEwKX0sX2hhbmRsZURvY3VtZW50Rm9jdXNJbjpmdW5jdGlvbih0KXt2YXIgbixhPXQudGFyZ2V0LG89dGhpcy5fdWk7aWYodGhpcy5faXNPcGVuKXtpZihhIT09by5jb250YWluZXJbMF0pe2lmKG49ZSh0LnRhcmdldCksMD09PW4ucGFyZW50cygpLmZpbHRlcihvLmNvbnRhaW5lclswXSkubGVuZ3RoKXJldHVybiBlKGkuYWN0aXZlRWxlbWVudCkub25lKCJmb2N1cyIsZnVuY3Rpb24oKXtuLmJsdXIoKX0pLG8uZm9jdXNFbGVtZW50LmZvY3VzKCksdC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITE7by5mb2N1c0VsZW1lbnRbMF09PT1vLmNvbnRhaW5lclswXSYmKG8uZm9jdXNFbGVtZW50PW4pfXRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXtzY3JlZW46ZSgiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4nPjwvZGl2PiIpLHBsYWNlaG9sZGVyOmUoIjxkaXYgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz48IS0tIHBsYWNlaG9sZGVyIC0tPjwvZGl2PiIpLGNvbnRhaW5lcjplKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1jb250YWluZXIgdWktcG9wdXAtaGlkZGVuJz48L2Rpdj4iKX0saT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpLG89dGhpczt0aGlzLm9wdGlvbnMuaGlzdG9yeT10aGlzLm9wdGlvbnMuaGlzdG9yeSYmZS5tb2JpbGUuYWpheEVuYWJsZWQmJmUubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLDA9PT1pLmxlbmd0aCYmKGk9ZSgiYm9keSIpKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXJ8fGUubW9iaWxlLnBhZ2VDb250YWluZXIsaS5hcHBlbmQodC5zY3JlZW4pLHQuY29udGFpbmVyLmluc2VydEFmdGVyKHQuc2NyZWVuKSx0LnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksYSYmKHQuc2NyZWVuLmF0dHIoImlkIixhKyItc2NyZWVuIiksdC5jb250YWluZXIuYXR0cigiaWQiLGErIi1wb3B1cCIpLHQucGxhY2Vob2xkZXIuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIithKyIgLS0+IikpLHQuY29udGFpbmVyLmFwcGVuZCh0aGlzLmVsZW1lbnQpLHQuZm9jdXNFbGVtZW50PXQuY29udGFpbmVyLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcG9wdXAiKSxlLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6aSxfdWk6dCxfZmFsbGJhY2tUcmFuc2l0aW9uOiIiLF9jdXJyZW50VHJhbnNpdGlvbjohMSxfcHJlcmVxczpudWxsLF9pc09wZW46ITEsX3RvbGVyYW5jZTpudWxsLF9yZXNpemVEYXRhOm51bGwsX2lnbm9yZVJlc2l6ZVRvOjAsX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzczohMX0pLGUuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oZSx0KXtvLm9wdGlvbnNbZV09bixvLl9zZXRPcHRpb24oZSx0LCEwKX0pLHQuc2NyZWVuLmJpbmQoInZjbGljayIsZS5wcm94eSh0aGlzLCJfZWF0RXZlbnRBbmRDbG9zZSIpKSx0aGlzLl9vbihlLm1vYmlsZS53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmUucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmUucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmUucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9KSx0aGlzLl9vbihlLm1vYmlsZS5kb2N1bWVudCx7Zm9jdXNpbjplLnByb3h5KHRoaXMsIl9oYW5kbGVEb2N1bWVudEZvY3VzSW4iKX0pfSxfYXBwbHlUaGVtZTpmdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuLGE9KGUuYXR0cigiY2xhc3MiKXx8IiIpLnNwbGl0KCIgIiksbz1udWxsLHM9dCsiIjthLmxlbmd0aD4wOyl7aWYobz1hLnBvcCgpLG49UmVnRXhwKCJedWktIitpKyItKFthLXpdKSQiKS5leGVjKG8pLG4mJm4ubGVuZ3RoPjEpe289blsxXTticmVha31vPW51bGx9dCE9PW8mJihlLnJlbW92ZUNsYXNzKCJ1aS0iK2krIi0iK28pLG51bGwhPT10JiYibm9uZSIhPT10JiZlLmFkZENsYXNzKCJ1aS0iK2krIi0iK3MpKX0sX3NldFRoZW1lOmZ1bmN0aW9uKGUpe3RoaXMuX2FwcGx5VGhlbWUodGhpcy5lbGVtZW50LGUsImJvZHkiKX0sX3NldE92ZXJsYXlUaGVtZTpmdW5jdGlvbihlKXt0aGlzLl9hcHBseVRoZW1lKHRoaXMuX3VpLnNjcmVlbixlLCJvdmVybGF5IiksdGhpcy5faXNPcGVuJiZ0aGlzLl91aS5zY3JlZW4uYWRkQ2xhc3MoImluIil9LF9zZXRTaGFkb3c6ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1vdmVybGF5LXNoYWRvdyIsZSl9LF9zZXRDb3JuZXJzOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsZSl9LF9hcHBseVRyYW5zaXRpb246ZnVuY3Rpb24odCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiksdCYmIm5vbmUiIT09dCYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj1lLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbih0KSwibm9uZSI9PT10aGlzLl9mYWxsYmFja1RyYW5zaXRpb24mJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249IiIpLHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pKX0sX3NldFRyYW5zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudFRyYW5zaXRpb258fHRoaXMuX2FwcGx5VHJhbnNpdGlvbihlKX0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbih0KXt2YXIgaT17dDozMCxyOjE1LGI6MzAsbDoxNX07aWYodCE9PW4pe3ZhciBhPSh0KyIiKS5zcGxpdCgiLCIpO3N3aXRjaChlLmVhY2goYSxmdW5jdGlvbihlLHQpe2FbZV09cGFyc2VJbnQodCwxMCl9KSxhLmxlbmd0aCl7Y2FzZSAxOmlzTmFOKGFbMF0pfHwoaS50PWkucj1pLmI9aS5sPWFbMF0pO2JyZWFrO2Nhc2UgMjppc05hTihhWzBdKXx8KGkudD1pLmI9YVswXSksaXNOYU4oYVsxXSl8fChpLmw9aS5yPWFbMV0pO2JyZWFrO2Nhc2UgNDppc05hTihhWzBdKXx8KGkudD1hWzBdKSxpc05hTihhWzFdKXx8KGkucj1hWzFdKSxpc05hTihhWzJdKXx8KGkuYj1hWzJdKSxpc05hTihhWzNdKXx8KGkubD1hWzNdKTticmVhaztkZWZhdWx0On19dGhpcy5fdG9sZXJhbmNlPWl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgYSxvPSJfc2V0Iit0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7dGhpc1tvXSE9PW4mJnRoaXNbb10oaSksYT1bImluaXRTZWxlY3RvciIsImNsb3NlTGlua1NlbGVjdG9yIiwiY2xvc2VMaW5rRXZlbnRzIiwibmF2aWdhdGVFdmVudHMiLCJjbG9zZUV2ZW50cyIsImhpc3RvcnkiLCJjb250YWluZXIiXSxlLm1vYmlsZS53aWRnZXQucHJvdG90eXBlLl9zZXRPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLC0xPT09ZS5pbkFycmF5KHQsYSkmJnRoaXMuZWxlbWVudC5hdHRyKCJkYXRhLSIrKGUubW9iaWxlLm5zfHwiIikrdC5yZXBsYWNlKC8oW0EtWl0pLywiLSQxIikudG9Mb3dlckNhc2UoKSxpKX0sX3BsYWNlbWVudENvb3JkczpmdW5jdGlvbihlKXt2YXIgdCxuLHM9bygpLHI9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpzLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6cy5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpzLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifTt0aGlzLl91aS5jb250YWluZXIuY3NzKCJtYXgtd2lkdGgiLHIuY3gpLHQ9e2N4OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlcldpZHRoKCEwKSxjeTp0aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApfSxuPXt4OmEoci5jeCx0LmN4LHIueCxlLngpLHk6YShyLmN5LHQuY3ksci55LGUueSl9LG4ueT1NYXRoLm1heCgwLG4ueSk7dmFyIGw9aS5kb2N1bWVudEVsZW1lbnQsZD1pLmJvZHksYz1NYXRoLm1heChsLmNsaWVudEhlaWdodCxkLnNjcm9sbEhlaWdodCxkLm9mZnNldEhlaWdodCxsLnNjcm9sbEhlaWdodCxsLm9mZnNldEhlaWdodCk7cmV0dXJuIG4ueS09TWF0aC5taW4obi55LE1hdGgubWF4KDAsbi55K3QuY3ktYykpLHtsZWZ0Om4ueCx0b3A6bi55fX0sX2NyZWF0ZVByZXJlcXM6ZnVuY3Rpb24odCxpLG4pe3ZhciBhLG89dGhpczthPXtzY3JlZW46ZS5EZWZlcnJlZCgpLGNvbnRhaW5lcjplLkRlZmVycmVkKCl9LGEuc2NyZWVuLnRoZW4oZnVuY3Rpb24oKXthPT09by5fcHJlcmVxcyYmdCgpfSksYS5jb250YWluZXIudGhlbihmdW5jdGlvbigpe2E9PT1vLl9wcmVyZXFzJiZpKCl9KSxlLndoZW4oYS5zY3JlZW4sYS5jb250YWluZXIpLmRvbmUoZnVuY3Rpb24oKXthPT09by5fcHJlcmVxcyYmKG8uX3ByZXJlcXM9bnVsbCxuKCkpfSksby5fcHJlcmVxcz1hfSxfYW5pbWF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKHQuY2xhc3NUb1JlbW92ZSkuYWRkQ2xhc3ModC5zY3JlZW5DbGFzc1RvQWRkKSx0LnByZXJlcXMuc2NyZWVuLnJlc29sdmUoKSx0LnRyYW5zaXRpb24mJiJub25lIiE9PXQudHJhbnNpdGlvbiYmKHQuYXBwbHlUcmFuc2l0aW9uJiZ0aGlzLl9hcHBseVRyYW5zaXRpb24odC50cmFuc2l0aW9uKSx0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pPyh0aGlzLl91aS5jb250YWluZXIuYW5pbWF0aW9uQ29tcGxldGUoZS5wcm94eSh0LnByZXJlcXMuY29udGFpbmVyLCJyZXNvbHZlIikpLmFkZENsYXNzKHQuY29udGFpbmVyQ2xhc3NUb0FkZCkucmVtb3ZlQ2xhc3ModC5jbGFzc1RvUmVtb3ZlKSxuKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKHQuY2xhc3NUb1JlbW92ZSksdC5wcmVyZXFzLmNvbnRhaW5lci5yZXNvbHZlKCksbil9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKHQpe3ZhciBpLG49bnVsbCxhPW8oKSxzPXQueCxyPXQueSxsPXQucG9zaXRpb25UbztpZihsJiYib3JpZ2luIiE9PWwpaWYoIndpbmRvdyI9PT1sKXM9YS5jeC8yK2EueCxyPWEuY3kvMithLnk7ZWxzZXt0cnl7bj1lKGwpfWNhdGNoKGQpe249bnVsbH1uJiYobi5maWx0ZXIoIjp2aXNpYmxlIiksMD09PW4ubGVuZ3RoJiYobj1udWxsKSl9cmV0dXJuIG4mJihpPW4ub2Zmc2V0KCkscz1pLmxlZnQrbi5vdXRlcldpZHRoKCkvMixyPWkudG9wK24ub3V0ZXJIZWlnaHQoKS8yKSwoIm51bWJlciIhPT1lLnR5cGUocyl8fGlzTmFOKHMpKSYmKHM9YS5jeC8yK2EueCksKCJudW1iZXIiIT09ZS50eXBlKHIpfHxpc05hTihyKSkmJihyPWEuY3kvMithLnkpLHt4OnMseTpyfX0sX3JlcG9zaXRpb246ZnVuY3Rpb24oZSl7ZT17eDplLngseTplLnkscG9zaXRpb25UbzplLnBvc2l0aW9uVG99LHRoaXMuX3RyaWdnZXIoImJlZm9yZXBvc2l0aW9uIixlKSx0aGlzLl91aS5jb250YWluZXIub2Zmc2V0KHRoaXMuX3BsYWNlbWVudENvb3Jkcyh0aGlzLl9kZXNpcmVkQ29vcmRzKGUpKSl9LHJlcG9zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5faXNPcGVuJiZ0aGlzLl9yZXBvc2l0aW9uKGUpfSxfb3BlblByZXJlcXNDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5faXNPcGVuPSEwLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3VpLmNvbnRhaW5lci5hdHRyKCJ0YWJpbmRleCIsIjAiKS5mb2N1cygpLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpLHRoaXMuX3RyaWdnZXIoImFmdGVyb3BlbiIpfSxfb3BlbjpmdW5jdGlvbih0KXt2YXIgaT1lLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdCksbj1mdW5jdGlvbigpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQsdD1lLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGk9ISF0JiZ0WzFdLG49ZS5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGE9ISFuJiZuWzFdLG89ZS5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gbnVsbCE9PW4mJiI0LjAiPT09YSYmaSYmaT41MzQuMTMmJiFvPyEwOiExfSgpO3RoaXMuX2NyZWF0ZVByZXJlcXMoZS5ub29wLGUubm9vcCxlLnByb3h5KHRoaXMsIl9vcGVuUHJlcmVxc0NvbXBsZXRlIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWkudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oaS50cmFuc2l0aW9uKSx0aGlzLm9wdGlvbnMudGhlbWV8fHRoaXMuX3NldFRoZW1lKHRoaXMuX3BhZ2UuanFtRGF0YSgidGhlbWUiKXx8ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5fcGFnZSwiYyIpKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMuX3JlcG9zaXRpb24oaSksdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmbiYmdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOiEwLHRyYW5zaXRpb246aS50cmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6IiIsc2NyZWVuQ2xhc3NUb0FkZDoiaW4iLGNvbnRhaW5lckNsYXNzVG9BZGQ6ImluIixhcHBseVRyYW5zaXRpb246ITEscHJlcmVxczp0aGlzLl9wcmVyZXFzfSl9LF9jbG9zZVByZXJlcVNjcmVlbjpmdW5jdGlvbigpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygib3V0IikuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0sX2Nsb3NlUHJlcmVxQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJyZXZlcnNlIG91dCIpLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpfSxfY2xvc2VQcmVyZXFzRG9uZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucyx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxlLm1vYmlsZS5wb3B1cC5hY3RpdmU9bix0aGlzLl90cmlnZ2VyKCJhZnRlcmNsb3NlIil9LF9jbG9zZTpmdW5jdGlvbih0KXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fY3JlYXRlUHJlcmVxcyhlLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcVNjcmVlbiIpLGUucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxQ29udGFpbmVyIiksZS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFzRG9uZSIpKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOnRoaXMuX3VpLnNjcmVlbi5oYXNDbGFzcygiaW4iKSx0cmFuc2l0aW9uOnQ/Im5vbmUiOnRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6ImluIixzY3JlZW5DbGFzc1RvQWRkOiJvdXQiLGNvbnRhaW5lckNsYXNzVG9BZGQ6InJldmVyc2Ugb3V0IixhcHBseVRyYW5zaXRpb246ITAscHJlcmVxczp0aGlzLl9wcmVyZXFzfSl9LF91bmVuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl9zZXRUaGVtZSgibm9uZSIpLHRoaXMuZWxlbWVudC5kZXRhY2goKS5pbnNlcnRBZnRlcih0aGlzLl91aS5wbGFjZWhvbGRlcikucmVtb3ZlQ2xhc3MoInVpLXBvcHVwIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwiKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlKCksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX3VpLnBsYWNlaG9sZGVyLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe2UubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXM/KHRoaXMuZWxlbWVudC5vbmUoInBvcHVwYWZ0ZXJjbG9zZSIsZS5wcm94eSh0aGlzLCJfdW5lbmhhbmNlIikpLHRoaXMuY2xvc2UoKSk6dGhpcy5fdW5lbmhhbmNlKCl9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGksbil7dmFyIGEsbyxzPXRoaXMub3B0aW9ucyxyPSExO3Quc2Nyb2xsVG8oMCx0aGlzLl9zY3JvbGxUb3ApLGkmJiJwYWdlYmVmb3JlY2hhbmdlIj09PWkudHlwZSYmbiYmKGE9InN0cmluZyI9PXR5cGVvZiBuLnRvUGFnZT9uLnRvUGFnZTpuLnRvUGFnZS5qcW1EYXRhKCJ1cmwiKSxhPWUubW9iaWxlLnBhdGgucGFyc2VVcmwoYSksbz1hLnBhdGhuYW1lK2Euc2VhcmNoK2EuaGFzaCx0aGlzLl9teVVybCE9PWUubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKG8pP3I9ITA6aS5wcmV2ZW50RGVmYXVsdCgpKSxzLmNvbnRhaW5lci51bmJpbmQocy5jbG9zZUV2ZW50cyksdGhpcy5lbGVtZW50LnVuZGVsZWdhdGUocy5jbG9zZUxpbmtTZWxlY3RvcixzLmNsb3NlTGlua0V2ZW50cyksdGhpcy5fY2xvc2Uocil9LF9iaW5kQ29udGFpbmVyQ2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuY29udGFpbmVyLm9uZSh0aGlzLm9wdGlvbnMuY2xvc2VFdmVudHMsZS5wcm94eSh0aGlzLCJfY2xvc2VQb3B1cCIpKX0sb3BlbjpmdW5jdGlvbihpKXt2YXIgYSxvLHMscixsLGQsYz10aGlzLGg9dGhpcy5vcHRpb25zO2lmKCFlLm1vYmlsZS5wb3B1cC5hY3RpdmUpe2lmKGUubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD1lLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCksIWguaGlzdG9yeSlyZXR1cm4gYy5fb3BlbihpKSxjLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxjLmVsZW1lbnQuZGVsZWdhdGUoaC5jbG9zZUxpbmtTZWxlY3RvcixoLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihlKXtjLmNsb3NlKCksZS5wcmV2ZW50RGVmYXVsdCgpfSksbjtpZihkPWUubW9iaWxlLnVybEhpc3Rvcnksbz1lLm1vYmlsZS5kaWFsb2dIYXNoS2V5LHM9ZS5tb2JpbGUuYWN0aXZlUGFnZSxyPXMuaXMoIi51aS1kaWFsb2ciKSx0aGlzLl9teVVybD1hPWQuZ2V0QWN0aXZlKCkudXJsLGw9YS5pbmRleE9mKG8pPi0xJiYhciYmZC5hY3RpdmVJbmRleD4wKXJldHVybiBjLl9vcGVuKGkpLGMuX2JpbmRDb250YWluZXJDbG9zZSgpLG47LTEhPT1hLmluZGV4T2Yobyl8fHI/YT1lLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK286YSs9YS5pbmRleE9mKCIjIik+LTE/bzoiIyIrbywwPT09ZC5hY3RpdmVJbmRleCYmYT09PWQuaW5pdGlhbERzdCYmKGErPW8pLGUodCkub25lKCJiZWZvcmVuYXZpZ2F0ZSIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGMuX29wZW4oaSksYy5fYmluZENvbnRhaW5lckNsb3NlKCl9KSx0aGlzLnVybEFsdGVyZWQ9ITAsZS5tb2JpbGUubmF2aWdhdGUoYSx7cm9sZToiZGlhbG9nIn0pfX0sY2xvc2U6ZnVuY3Rpb24oKXtlLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzJiYodGhpcy5fc2Nyb2xsVG9wPWUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLm9wdGlvbnMuaGlzdG9yeSYmdGhpcy51cmxBbHRlcmVkPyhlLm1vYmlsZS5iYWNrKCksdGhpcy51cmxBbHRlcmVkPSExKTp0aGlzLl9jbG9zZVBvcHVwKCkpfX0pLGUubW9iaWxlLnBvcHVwLmhhbmRsZUxpbms9ZnVuY3Rpb24odCl7dmFyIGksbj10LmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLGE9MD09PW4ubGVuZ3RoP2UoImJvZHkiKTpuLG89ZShlLm1vYmlsZS5wYXRoLnBhcnNlVXJsKHQuYXR0cigiaHJlZiIpKS5oYXNoLGFbMF0pO28uZGF0YSgibW9iaWxlLXBvcHVwIikmJihpPXQub2Zmc2V0KCksby5wb3B1cCgib3BlbiIse3g6aS5sZWZ0K3Qub3V0ZXJXaWR0aCgpLzIseTppLnRvcCt0Lm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOnQuanFtRGF0YSgidHJhbnNpdGlvbiIpLHBvc2l0aW9uVG86dC5qcW1EYXRhKCJwb3NpdGlvbi10byIpfSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LnBhcmVudCgpLnBhcmVudCgpO2kuaGFzQ2xhc3MoInVpLWxpIikmJih0PWkucGFyZW50KCkpLHQucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApfSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlYmVmb3JlY2hhbmdlIixmdW5jdGlvbih0LGkpeyJwb3B1cCI9PT1pLm9wdGlvbnMucm9sZSYmKGUubW9iaWxlLnBvcHVwLmhhbmRsZUxpbmsoaS5vcHRpb25zLmxpbmspLHQucHJldmVudERlZmF1bHQoKSl9KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUucG9wdXAucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQsITApfSl9KGUpLGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24obil7dmFyIGEsbyxzLHI9KG4uc2VsZWN0LG4uX2Rlc3Ryb3kpLGw9bi5zZWxlY3RJRCxkPWw/bDooZS5tb2JpbGUubnN8fCIiKSsidXVpZC0iK24udXVpZCxjPWQrIi1saXN0Ym94IixoPWQrIi1kaWFsb2ciLHU9bi5sYWJlbCxwPW4uc2VsZWN0LmNsb3Nlc3QoIi51aS1wYWdlIiksbT1uLl9zZWxlY3RPcHRpb25zKCksZj1uLmlzTXVsdGlwbGU9bi5zZWxlY3RbMF0ubXVsdGlwbGUsZz1sKyItYnV0dG9uIixiPWwrIi1tZW51Iix2PWUoIjxkaXYgZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPSdkaWFsb2cnIGlkPSciK2grIicgZGF0YS0iK2UubW9iaWxlLm5zKyJ0aGVtZT0nIituLm9wdGlvbnMudGhlbWUrIicgZGF0YS0iK2UubW9iaWxlLm5zKyJvdmVybGF5LXRoZW1lPSciK24ub3B0aW9ucy5vdmVybGF5VGhlbWUrIic+IisiPGRpdiBkYXRhLSIrZS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+IisiPGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrdS5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj4iKyI8L2Rpdj4iKyI8ZGl2IGRhdGEtIitlLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+IisiPC9kaXY+IiksXz1lKCI8ZGl2IGlkPSciK2MrIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPiIpLmluc2VydEFmdGVyKG4uc2VsZWN0KS5wb3B1cCh7dGhlbWU6bi5vcHRpb25zLm92ZXJsYXlUaGVtZX0pLEM9ZSgiPHVsPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtbGlzdCIsaWQ6Yixyb2xlOiJsaXN0Ym94IiwiYXJpYS1sYWJlbGxlZGJ5IjpnfSkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0aGVtZSIsbi5vcHRpb25zLnRoZW1lKS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrImRpdmlkZXItdGhlbWUiLG4ub3B0aW9ucy5kaXZpZGVyVGhlbWUpLmFwcGVuZFRvKF8pLHg9ZSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1oZWFkZXIgdWktYmFyLSIrbi5vcHRpb25zLnRoZW1lfSkucHJlcGVuZFRvKF8pLHk9ZSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKHgpO24uaXNNdWx0aXBsZSYmKHM9ZSgiPGE+Iix7dGV4dDpuLm9wdGlvbnMuY2xvc2VUZXh0LGhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0bi1sZWZ0In0pLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysiaWNvbnBvcyIsIm5vdGV4dCIpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysiaWNvbiIsImRlbGV0ZSIpLmFwcGVuZFRvKHgpLmJ1dHRvbk1hcmt1cCgpKSxlLmV4dGVuZChuLHtzZWxlY3Q6bi5zZWxlY3Qsc2VsZWN0SUQ6bCxidXR0b25JZDpnLG1lbnVJZDpiLHBvcHVwSUQ6YyxkaWFsb2dJRDpoLHRoaXNQYWdlOnAsbWVudVBhZ2U6dixsYWJlbDp1LHNlbGVjdE9wdGlvbnM6bSxpc011bHRpcGxlOmYsdGhlbWU6bi5vcHRpb25zLnRoZW1lLGxpc3Rib3g6XyxsaXN0OkMsaGVhZGVyOngsaGVhZGVyVGl0bGU6eSxoZWFkZXJDbG9zZTpzLG1lbnVQYWdlQ29udGVudDphLG1lbnVQYWdlQ2xvc2U6byxwbGFjZWhvbGRlcjoiIixidWlsZDpmdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5yZWZyZXNoKCksaS5fb3JpZ1RhYkluZGV4PT09dCYmKGkuX29yaWdUYWJJbmRleD1udWxsPT09aS5zZWxlY3RbMF0uZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpPyExOmkuc2VsZWN0LmF0dHIoInRhYmluZGV4IikpLGkuc2VsZWN0LmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2UodGhpcykuYmx1cigpLGkuYnV0dG9uLmZvY3VzKCl9KSxpLmJ1dHRvbi5iaW5kKCJ2Y2xpY2sga2V5ZG93biIsZnVuY3Rpb24odCl7aS5vcHRpb25zLmRpc2FibGVkfHxpLmlzT3Blbnx8KCJ2Y2xpY2siPT09dC50eXBlfHx0LmtleUNvZGUmJih0LmtleUNvZGU9PT1lLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHx0LmtleUNvZGU9PT1lLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSkmJihpLl9kZWNpZGVGb3JtYXQoKSwib3ZlcmxheSI9PT1pLm1lbnVUeXBlP2kuYnV0dG9uLmF0dHIoImhyZWYiLCIjIitpLnBvcHVwSUQpLmF0dHIoImRhdGEtIisoZS5tb2JpbGUubnN8fCIiKSsicmVsIiwicG9wdXAiKTppLmJ1dHRvbi5hdHRyKCJocmVmIiwiIyIraS5kaWFsb2dJRCkuYXR0cigiZGF0YS0iKyhlLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJkaWFsb2ciKSxpLmlzT3Blbj0hMCl9KSxpLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5iaW5kKCJmb2N1c2luIixmdW5jdGlvbih0KXtlKHQudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIjAiKS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJmb2N1c291dCIsZnVuY3Rpb24odCl7ZSh0LnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCItMSIpLnRyaWdnZXIoInZtb3VzZW91dCIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbih0KXt2YXIgYT1pLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LG89aS5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxzPWkuX3NlbGVjdE9wdGlvbnMoKS5lcShvKVswXTtzLnNlbGVjdGVkPWkuaXNNdWx0aXBsZT8hcy5zZWxlY3RlZDohMCxpLmlzTXVsdGlwbGUmJmUodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIscy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhcy5zZWxlY3RlZCksKGkuaXNNdWx0aXBsZXx8YSE9PW8pJiZpLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSxpLmlzTXVsdGlwbGU/aS5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShvKS5hZGRDbGFzcygidWktYnRuLWRvd24tIituLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6aS5jbG9zZSgpLHQucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24odCl7dmFyIGksYSxvPWUodC50YXJnZXQpLHM9by5jbG9zZXN0KCJsaSIpO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGk9cy5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGkuaXMoIi51aS1saS1kaXZpZGVyIikmJihpPWkucHJldigpKSxpLmxlbmd0aCYmKG8uYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK24ub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gYT1zLm5leHQoKSxhLmlzKCIudWktbGktZGl2aWRlciIpJiYoYT1hLm5leHQoKSksYS5sZW5ndGgmJihvLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYS5hZGRDbGFzcygidWktYnRuLWRvd24tIituLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gby50cmlnZ2VyKCJjbGljayIpLCExfX0pLGkubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7ZS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoaS50aGlzUGFnZSl9KSxpLmxpc3Rib3guYmluZCgicG9wdXBhZnRlcmNsb3NlIixmdW5jdGlvbigpe2kuY2xvc2UoKX0pLGkuaXNNdWx0aXBsZSYmaS5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe3JldHVybiJvdmVybGF5Ij09PWkubWVudVR5cGU/KGkuY2xvc2UoKSwhMSk6dH0pLGkudGhpc1BhZ2UuYWRkRGVwZW5kZW50cyh0aGlzLm1lbnVQYWdlKX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5saXN0LmZpbmQoImxpIiksdD10aGlzLl9zZWxlY3RPcHRpb25zKCk7cmV0dXJuIHQudGV4dCgpIT09ZS50ZXh0KCl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZDpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSIpfSxyZWZyZXNoOmZ1bmN0aW9uKHQpe3ZhciBpLG49dGhpczt0aGlzLmVsZW1lbnQsdGhpcy5pc011bHRpcGxlLCh0fHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmbi5fYnVpbGRMaXN0KCksaT10aGlzLnNlbGVjdGVkSW5kaWNlcygpLG4uc2V0QnV0dG9uVGV4dCgpLG4uc2V0QnV0dG9uQ291bnQoKSxuLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSkuZWFjaChmdW5jdGlvbih0KXtpZihlLmluQXJyYXkodCxpKT4tMSl7dmFyIGE9ZSh0aGlzKTthLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKSxuLmlzTXVsdGlwbGU/YS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIik6YS5pcygiLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKT9hLm5leHQoKS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6YS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9fSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5pc09wZW4pe3ZhciBlPXRoaXM7InBhZ2UiPT09ZS5tZW51VHlwZT8oZS5tZW51UGFnZS5kaWFsb2coImNsb3NlIiksZS5saXN0LmFwcGVuZFRvKGUubGlzdGJveCkpOmUubGlzdGJveC5wb3B1cCgiY2xvc2UiKSxlLl9mb2N1c0J1dHRvbigpLGUuaXNPcGVuPSExfX0sb3BlbjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9aS5saXN0LmZpbmQoIi4iK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgYSIpOzA9PT10Lmxlbmd0aCYmKHQ9aS5saXN0LmZpbmQoImxpLnVpLWJ0bjpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSBhIikpLHQuZmlyc3QoKS5mb2N1cygpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrbi5vcHRpb25zLnRoZW1lKX12YXIgaT10aGlzLGE9ZS5tb2JpbGUud2luZG93LG89aS5saXN0LnBhcmVudCgpLHM9by5vdXRlckhlaWdodCgpLHI9KG8ub3V0ZXJXaWR0aCgpLGUoIi4iK2UubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksYS5zY3JvbGxUb3AoKSksbD1pLmJ1dHRvbi5vZmZzZXQoKS50b3AsZD1hLmhlaWdodCgpO2Eud2lkdGgoKSxzPmQtODB8fCFlLnN1cHBvcnQuc2Nyb2xsVG9wPyhpLm1lbnVQYWdlLmFwcGVuZFRvKGUubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxpLm1lbnVQYWdlQ29udGVudD12LmZpbmQoIi51aS1jb250ZW50IiksaS5tZW51UGFnZUNsb3NlPXYuZmluZCgiLnVpLWhlYWRlciBhIiksaS50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLDA9PT1yJiZsPmQmJmkudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtlKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLGwpfSksaS5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe3QoKX0pLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7aS5jbG9zZSgpfSksaS5tZW51VHlwZT0icGFnZSIsaS5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGkubGlzdCksaS5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChpLmxhYmVsLnRleHQoKSkpOihpLm1lbnVUeXBlPSJvdmVybGF5IixpLmxpc3Rib3gub25lKCJwb3B1cGFmdGVyb3BlbiIsdCkpfSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXRoaXMub3B0aW9ucyxhPXRoaXMucGxhY2Vob2xkZXIsbz0hMCxzPXQuaXNNdWx0aXBsZT8iY2hlY2tib3gtb2ZmIjoiZmFsc2UiO3QubGlzdC5lbXB0eSgpLmZpbHRlcigiLnVpLWxpc3R2aWV3IikubGlzdHZpZXcoImRlc3Ryb3kiKTtmb3IodmFyIHIsbD10LnNlbGVjdC5maW5kKCJvcHRpb24iKSxkPWwubGVuZ3RoLGM9dGhpcy5zZWxlY3RbMF0saD0iZGF0YS0iK2UubW9iaWxlLm5zLHU9aCsib3B0aW9uLWluZGV4IixwPWgrImljb24iLG09aCsicm9sZSIsZj1oKyJwbGFjZWhvbGRlciIsZz1pLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPSExLHY9MDtkPnY7disrLGI9ITEpe3ZhciBfPWxbdl0sQz1lKF8pLHg9Xy5wYXJlbnROb2RlLHk9Qy50ZXh0KCksdz1pLmNyZWF0ZUVsZW1lbnQoImEiKSxUPVtdO2lmKHcuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHcuYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZSh5KSkseCE9PWMmJiJvcHRncm91cCI9PT14Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBEPXguZ2V0QXR0cmlidXRlKCJsYWJlbCIpO2lmKEQhPT1yKXt2YXIgUD1pLmNyZWF0ZUVsZW1lbnQoImxpIik7UC5zZXRBdHRyaWJ1dGUobSwibGlzdC1kaXZpZGVyIiksUC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxQLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLFAuYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZShEKSksZy5hcHBlbmRDaGlsZChQKSxyPUR9fSFvfHxfLmdldEF0dHJpYnV0ZSgidmFsdWUiKSYmMCE9PXkubGVuZ3RoJiYhQy5qcW1EYXRhKCJwbGFjZWhvbGRlciIpfHwobz0hMSxiPSEwLG51bGw9PT1fLmdldEF0dHJpYnV0ZShmKSYmKHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0cj0hMCksXy5zZXRBdHRyaWJ1dGUoZiwhMCksbi5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJlQucHVzaCgidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGEhPT15JiYoYT10LnBsYWNlaG9sZGVyPXkpKTt2YXIgaz1pLmNyZWF0ZUVsZW1lbnQoImxpIik7Xy5kaXNhYmxlZCYmKFQucHVzaCgidWktZGlzYWJsZWQiKSxrLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsITApKSxrLnNldEF0dHJpYnV0ZSh1LHYpLGsuc2V0QXR0cmlidXRlKHAscyksYiYmay5zZXRBdHRyaWJ1dGUoZiwhMCksay5jbGFzc05hbWU9VC5qb2luKCIgIiksay5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSx3LnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLGsuYXBwZW5kQ2hpbGQodyksZy5hcHBlbmRDaGlsZChrKX10Lmxpc3RbMF0uYXBwZW5kQ2hpbGQoZyksdGhpcy5pc011bHRpcGxlfHxhLmxlbmd0aD90aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik6dGhpcy5oZWFkZXIuaGlkZSgpLHQubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMuX29yaWdUYWJJbmRleCE9PXQmJih0aGlzLl9vcmlnVGFiSW5kZXghPT0hMT90aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ1RhYkluZGV4KTp0aGlzLnNlbGVjdC5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpKSx0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHImJnRoaXMuX3NlbGVjdE9wdGlvbnMoKS5yZW1vdmVBdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInBsYWNlaG9sZGVyIiksdGhpcy5saXN0Ym94LnJlbW92ZSgpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfTtlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJzZWxlY3RtZW51YmVmb3JlY3JlYXRlIixmdW5jdGlvbih0KXt2YXIgaT1lKHQudGFyZ2V0KS5kYXRhKCJtb2JpbGUtc2VsZWN0bWVudSIpO2kub3B0aW9ucy5uYXRpdmVNZW51fHwwIT09aS5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiKS5sZW5ndGh8fG4oaSl9KX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsZS5tb2JpbGUud2lkZ2V0LGUuZXh0ZW5kKHtvcHRpb25zOntzaGFkb3c6ITEsY29ybmVyczohMCxleGNsdWRlSW52aXNpYmxlOiEwLHR5cGU6InZlcnRpY2FsIixtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5lbGVtZW50LG49e2lubmVyOmUoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksbGVnZW5kOmUoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+Iil9LGE9aS5jaGlsZHJlbigibGVnZW5kIiksbz10aGlzO2kud3JhcElubmVyKG4uaW5uZXIpLGEubGVuZ3RoJiZuLmxlZ2VuZC5hcHBlbmQoYSkuaW5zZXJ0QmVmb3JlKGkuY2hpbGRyZW4oMCkpLGkuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIiksZS5leHRlbmQodGhpcyx7X2luaXRpYWxSZWZyZXNoOiEwfSksZS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihlLGkpe28ub3B0aW9uc1tlXT10LG8uX3NldE9wdGlvbihlLGksITApfSl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oaSxuKXt2YXIgYT0iX3NldCIraS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStpLnNsaWNlKDEpO3RoaXNbYV0hPT10JiZ0aGlzW2FdKG4pLHRoaXMuX3N1cGVyKGksbiksdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoZS5tb2JpbGUubnN8fCIiKStpLnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLG4pfSxfc2V0VHlwZTpmdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCIpLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIitlKSx0aGlzLnJlZnJlc2goKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixlKX0sX3NldFNoYWRvdzpmdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsZSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsZSl9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGk9dGhpcy5faW5pdGlhbFJlZnJlc2g7ZS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmdGhpcy5lbGVtZW50LmZpbmQoIjptb2JpbGUtY2hlY2tib3hyYWRpbyIpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKHQsdGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU/dGhpcy5fZ2V0VmlzaWJsZXModCxpKTp0LGkpLHRoaXMuX2luaXRpYWxSZWZyZXNoPSExfX0sZS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKSxlKGZ1bmN0aW9uKCl7ZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmNvbnRyb2xncm91cC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0pfShlKSxmdW5jdGlvbihlKXtlKGkpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlKHQudGFyZ2V0KS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfShlKSxmdW5jdGlvbihlLHQpe2Uud2lkZ2V0KCJtb2JpbGUuZml4ZWR0b29sYmFyIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3Zpc2libGVPblBhZ2VTaG93OiEwLGRpc2FibGVQYWdlWm9vbTohMCx0cmFuc2l0aW9uOiJzbGlkZSIsZnVsbHNjcmVlbjohMSx0YXBUb2dnbGU6ITAsdGFwVG9nZ2xlQmxhY2tsaXN0OiJhLCBidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCAudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkLCAudWktcG9wdXAsIC51aS1wYW5lbCwgLnVpLXBhbmVsLWRpc21pc3Mtb3BlbiIsaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3JldHVybiFlLnN1cHBvcnQuZml4ZWRQb3NpdGlvbn0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49aS5vcHRpb25zLGE9aS5lbGVtZW50LG89YS5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixzPWEuY2xvc2VzdCgiLnVpLXBhZ2UiKTtyZXR1cm4gbi5zdXBwb3J0QmxhY2tsaXN0KCk/KGkuZGVzdHJveSgpLHQpOihhLmFkZENsYXNzKCJ1aS0iK28rIi1maXhlZCIpLG4uZnVsbHNjcmVlbj8oYS5hZGRDbGFzcygidWktIitvKyItZnVsbHNjcmVlbiIpLHMuYWRkQ2xhc3MoInVpLXBhZ2UtIitvKyItZnVsbHNjcmVlbiIpKTpzLmFkZENsYXNzKCJ1aS1wYWdlLSIrbysiLWZpeGVkIiksZS5leHRlbmQodGhpcyx7X3RoaXNQYWdlOm51bGx9KSxpLl9hZGRUcmFuc2l0aW9uQ2xhc3MoKSxpLl9iaW5kUGFnZUV2ZW50cygpLGkuX2JpbmRUb2dnbGVIYW5kbGVycygpLHQpfSxfYWRkVHJhbnNpdGlvbkNsYXNzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247ZSYmIm5vbmUiIT09ZSYmKCJzbGlkZSI9PT1lJiYoZT10aGlzLmVsZW1lbnQuaXMoIi51aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhlKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX3RoaXNQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX29uKHRoaXMuX3RoaXNQYWdlLHtwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93Iix3ZWJraXRBbmltYXRpb25TdGFydDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixhbmltYXRpb25zdGFydDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0Iix1cGRhdGVsYXlvdXQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIscGFnZXNob3c6Il9oYW5kbGVQYWdlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3QuZGlzYWJsZVBhZ2Vab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApLHQudmlzaWJsZU9uUGFnZVNob3d8fHRoaXMuaGlkZSghMCl9LF9oYW5kbGVBbmltYXRpb25TdGFydDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy51cGRhdGVQYWdlUGFkZGluZyh0aGlzLl90aGlzUGFnZSl9LF9oYW5kbGVQYWdlU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5fdGhpc1BhZ2UpLHRoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb24oZS5tb2JpbGUud2luZG93LHt0aHJvdHRsZWRyZXNpemU6InVwZGF0ZVBhZ2VQYWRkaW5nIn0pfSxfaGFuZGxlUGFnZUJlZm9yZUhpZGU6ZnVuY3Rpb24odCxpKXt2YXIgbj10aGlzLm9wdGlvbnM7aWYobi5kaXNhYmxlUGFnZVpvb20mJmUubW9iaWxlLnpvb20uZW5hYmxlKCEwKSxuLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vZmYoZS5tb2JpbGUud2luZG93LCJ0aHJvdHRsZWRyZXNpemUiKSxuLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzKXt2YXIgYT1lKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLl90aGlzUGFnZSksbz1lKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLl90aGlzUGFnZSkscz1hLmxlbmd0aCYmaS5uZXh0UGFnZSYmZSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkPSciK2EuanFtRGF0YSgiaWQiKSsiJykiLGkubmV4dFBhZ2UpfHxlKCkscj1vLmxlbmd0aCYmaS5uZXh0UGFnZSYmZSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkPSciK28uanFtRGF0YSgiaWQiKSsiJykiLGkubmV4dFBhZ2UpfHxlKCk7KHMubGVuZ3RofHxyLmxlbmd0aCkmJihzLmFkZChyKS5hcHBlbmRUbyhlLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxpLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7ci5wcmVwZW5kVG8odGhpcykscy5hcHBlbmRUbyh0aGlzKX0pKX19LF92aXNpYmxlOiEwLHVwZGF0ZVBhZ2VQYWRkaW5nOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXMuZWxlbWVudCxhPW4uaXMoIi51aS1oZWFkZXIiKSxvPXBhcnNlRmxvYXQobi5jc3MoYT8idG9wIjoiYm90dG9tIikpO3RoaXMub3B0aW9ucy5mdWxsc2NyZWVufHwoaT1pJiZpLnR5cGU9PT10JiZpfHx0aGlzLl90aGlzUGFnZXx8bi5jbG9zZXN0KCIudWktcGFnZSIpLGUoaSkuY3NzKCJwYWRkaW5nLSIrKGE/InRvcCI6ImJvdHRvbSIpLG4ub3V0ZXJIZWlnaHQoKStvKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBpPWUubW9iaWxlLndpbmRvdyxuPXRoaXMuZWxlbWVudCxhPWkuc2Nyb2xsVG9wKCksbz1uLmhlaWdodCgpLHM9bi5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpLHI9ZS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksbD1uLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiO3JldHVybiF0JiYodGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJiJub25lIiE9PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiYoImhlYWRlciI9PT1sJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmE+b3x8ImZvb3RlciI9PT1sJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJnMtbz5hK3IpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oZSl7dmFyIHQ9InVpLWZpeGVkLWhpZGRlbiIsaT10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihlKT9pLnJlbW92ZUNsYXNzKCJvdXQgIit0KS5hZGRDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2kucmVtb3ZlQ2xhc3MoImluIil9KTppLnJlbW92ZUNsYXNzKHQpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9InVpLWZpeGVkLWhpZGRlbiIsaT10aGlzLmVsZW1lbnQsbj0ib3V0IisoInNsaWRlIj09PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oZSk/aS5hZGRDbGFzcyhuKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2kuYWRkQ2xhc3ModCkucmVtb3ZlQ2xhc3Mobil9KTppLmFkZENsYXNzKHQpLnJlbW92ZUNsYXNzKG4pLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIHQsaSxuPXRoaXMsYT1uLm9wdGlvbnMsbz1uLmVsZW1lbnQscz0hMDtvLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgidmNsaWNrIixmdW5jdGlvbih0KXthLnRhcFRvZ2dsZSYmIWUodC50YXJnZXQpLmNsb3Nlc3QoYS50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmbi50b2dnbGUoKX0pLmJpbmQoImZvY3VzaW4gZm9jdXNvdXQiLGZ1bmN0aW9uKG8pezEwMjU+c2NyZWVuLndpZHRoJiZlKG8udGFyZ2V0KS5pcyhhLmhpZGVEdXJpbmdGb2N1cykmJiFlKG8udGFyZ2V0KS5jbG9zZXN0KCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoJiYoImZvY3Vzb3V0IiE9PW8udHlwZXx8cz8iZm9jdXNpbiI9PT1vLnR5cGUmJnMmJihjbGVhclRpbWVvdXQodCkscz0hMSxpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmhpZGUoKX0sMCkpOihzPSEwLGNsZWFyVGltZW91dChpKSx0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnNob3coKX0sMCkpKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PWUuaXMoIi51aS1oZWFkZXIiKTtlLmNsb3Nlc3QoIi51aS1wYWdlIikuY3NzKCJwYWRkaW5nLSIrKHQ/InRvcCI6ImJvdHRvbSIpLCIiKSxlLnJlbW92ZUNsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZm9vdGVyLWZpeGVkIHVpLWhlYWRlci1mdWxsc2NyZWVuIHVpLWZvb3Rlci1mdWxsc2NyZWVuIGluIG91dCBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlbiIpLGUuY2xvc2VzdCgiLnVpLXBhZ2UiKS5yZW1vdmVDbGFzcygidWktcGFnZS1oZWFkZXItZml4ZWQgdWktcGFnZS1mb290ZXItZml4ZWQgdWktcGFnZS1oZWFkZXItZnVsbHNjcmVlbiB1aS1wYWdlLWZvb3Rlci1mdWxsc2NyZWVuIil9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UodC50YXJnZXQpLmpxbURhdGEoImZ1bGxzY3JlZW4iKSYmZShlLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLHQudGFyZ2V0KS5ub3QoIjpqcW1EYXRhKGZ1bGxzY3JlZW4pIikuanFtRGF0YSgiZnVsbHNjcmVlbiIsITApLGUubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGUubW9iaWxlLmZpeGVkdG9vbGJhcix7X2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5fd29ya2Fyb3VuZHMoKX0sX3dvcmthcm91bmRzOmZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudCx0PW5hdmlnYXRvci5wbGF0Zm9ybSxpPWUubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLG49ISFpJiZpWzFdLGE9bnVsbCxvPXRoaXM7aWYodC5pbmRleE9mKCJpUGhvbmUiKT4tMXx8dC5pbmRleE9mKCJpUGFkIik+LTF8fHQuaW5kZXhPZigiaVBvZCIpPi0xKWE9ImlvcyI7ZWxzZXtpZighKGUuaW5kZXhPZigiQW5kcm9pZCIpPi0xKSlyZXR1cm47YT0iYW5kcm9pZCJ9aWYoImlvcyI9PT1hKW8uX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCk7ZWxzZXtpZighKCJhbmRyb2lkIj09PWEmJm4mJjUzND5uKSlyZXR1cm47by5fYmluZFNjcm9sbFdvcmthcm91bmQoKSxvLl9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZCgpfX0sX3ZpZXdwb3J0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LGk9dC5pcygiLnVpLWhlYWRlciIpLG49TWF0aC5hYnModC5vZmZzZXQoKS50b3AtZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpKTtyZXR1cm4gaXx8KG49TWF0aC5yb3VuZChuLWUubW9iaWxlLndpbmRvdy5oZWlnaHQoKSt0Lm91dGVySGVpZ2h0KCkpLTYwKSxufSxfYmluZFNjcm9sbFdvcmthcm91bmQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX29uKGUubW9iaWxlLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBlPXQuX3ZpZXdwb3J0T2Zmc2V0KCk7ZT4yJiZ0Ll92aXNpYmxlJiZ0Ll90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeGVkIil9LF90cmlnZ2VyUmVkcmF3OmZ1bmN0aW9uKCl7dmFyIHQ9cGFyc2VGbG9hdChlKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIikpOwplKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIix0KzErInB4Iiksc2V0VGltZW91dChmdW5jdGlvbigpe2UoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLHQrInB4Iil9LDApfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikucmVtb3ZlQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4Iil9fSl9KGUpLGZ1bmN0aW9uKGUsbil7ZS53aWRnZXQoIm1vYmlsZS5wYW5lbCIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbGFzc2VzOntwYW5lbDoidWktcGFuZWwiLHBhbmVsT3BlbjoidWktcGFuZWwtb3BlbiIscGFuZWxDbG9zZWQ6InVpLXBhbmVsLWNsb3NlZCIscGFuZWxGaXhlZDoidWktcGFuZWwtZml4ZWQiLHBhbmVsSW5uZXI6InVpLXBhbmVsLWlubmVyIixtb2RhbDoidWktcGFuZWwtZGlzbWlzcyIsbW9kYWxPcGVuOiJ1aS1wYW5lbC1kaXNtaXNzLW9wZW4iLHBhZ2VQYW5lbDoidWktcGFnZS1wYW5lbCIscGFnZVBhbmVsT3BlbjoidWktcGFnZS1wYW5lbC1vcGVuIixjb250ZW50V3JhcDoidWktcGFuZWwtY29udGVudC13cmFwIixjb250ZW50V3JhcE9wZW46InVpLXBhbmVsLWNvbnRlbnQtd3JhcC1vcGVuIixjb250ZW50V3JhcENsb3NlZDoidWktcGFuZWwtY29udGVudC13cmFwLWNsb3NlZCIsY29udGVudEZpeGVkVG9vbGJhcjoidWktcGFuZWwtY29udGVudC1maXhlZC10b29sYmFyIixjb250ZW50Rml4ZWRUb29sYmFyT3BlbjoidWktcGFuZWwtY29udGVudC1maXhlZC10b29sYmFyLW9wZW4iLGNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQ6InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhci1jbG9zZWQiLGFuaW1hdGU6InVpLXBhbmVsLWFuaW1hdGUifSxhbmltYXRlOiEwLHRoZW1lOiJjIixwb3NpdGlvbjoibGVmdCIsZGlzbWlzc2libGU6ITAsZGlzcGxheToicmV2ZWFsIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3BhbmVsJykiLHN3aXBlQ2xvc2U6ITAscG9zaXRpb25GaXhlZDohMX0sX3BhbmVsSUQ6bnVsbCxfY2xvc2VMaW5rOm51bGwsX3BhZ2U6bnVsbCxfbW9kYWw6bnVsbCxfcGFuZWxJbm5lcjpudWxsLF93cmFwcGVyOm51bGwsX2ZpeGVkVG9vbGJhcjpudWxsLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5lbGVtZW50LG49aS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxhPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5kYXRhKG5bMF0sIm1vYmlsZVBhZ2UiKS5vcHRpb25zLnRoZW1lLGk9InVpLWJvZHktIit0O3JldHVybiBpfSxvPWZ1bmN0aW9uKCl7dmFyIGU9aS5maW5kKCIuIit0Lm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWUubGVuZ3RoJiYoZT1pLmNoaWxkcmVuKCkud3JhcEFsbCgnPGRpdiBjbGFzcz0iJyt0Lm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKyciIC8+JykucGFyZW50KCkpLGV9LHM9ZnVuY3Rpb24oKXt2YXIgaT1uLmZpbmQoIi4iK3Qub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwKTtyZXR1cm4gMD09PWkubGVuZ3RoJiYoaT1uLmNoaWxkcmVuKCIudWktaGVhZGVyOm5vdCg6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSksIC51aS1jb250ZW50Om5vdCg6anFtRGF0YShyb2xlPSdwb3B1cCcpKSwgLnVpLWZvb3Rlcjpub3QoOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykpIikud3JhcEFsbCgnPGRpdiBjbGFzcz0iJyt0Lm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50V3JhcCsiICIrYSgpKyciIC8+JykucGFyZW50KCksZS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZ0Lm9wdGlvbnMuYW5pbWF0ZSYmaS5hZGRDbGFzcyh0Lm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSksaX0scj1mdW5jdGlvbigpe3ZhciBpPW4uZmluZCgiLiIrdC5vcHRpb25zLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhcik7cmV0dXJuIDA9PT1pLmxlbmd0aCYmKGk9bi5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJyksIC51aS1mb290ZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKHQub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpLGUuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdC5vcHRpb25zLmFuaW1hdGUmJmkuYWRkQ2xhc3ModC5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGl9O2UuZXh0ZW5kKHRoaXMse19wYW5lbElEOmkuYXR0cigiaWQiKSxfY2xvc2VMaW5rOmkuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhZ2U6aS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxfcGFnZVRoZW1lOmEoKSxfcGFuZWxJbm5lcjpvKCksX3dyYXBwZXI6cygpLF9maXhlZFRvb2xiYXI6cigpfSksdC5fYWRkUGFuZWxDbGFzc2VzKCksdC5fd3JhcHBlci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50V3JhcENsb3NlZCksdC5fZml4ZWRUb29sYmFyLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLHQuX3BhZ2UuYWRkQ2xhc3ModC5vcHRpb25zLmNsYXNzZXMucGFnZVBhbmVsKSxlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJnQub3B0aW9ucy5hbmltYXRlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModC5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSksdC5fYmluZFVwZGF0ZUxheW91dCgpLHQuX2JpbmRDbG9zZUV2ZW50cygpLHQuX2JpbmRMaW5rTGlzdGVuZXJzKCksdC5fYmluZFBhZ2VFdmVudHMoKSx0Lm9wdGlvbnMuZGlzbWlzc2libGUmJnQuX2NyZWF0ZU1vZGFsKCksdC5fYmluZFN3aXBlRXZlbnRzKCl9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fbW9kYWw9ZSgiPGRpdiBjbGFzcz0nIit0Lm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCsiJyBkYXRhLXBhbmVsaWQ9JyIrdC5fcGFuZWxJRCsiJz48L2Rpdj4iKS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe3QuY2xvc2UoKX0pLmFwcGVuZFRvKHRoaXMuX3BhZ2UpfSxfZ2V0UG9zRGlzcGxheUNsYXNzZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrIi1wb3NpdGlvbi0iK3RoaXMub3B0aW9ucy5wb3NpdGlvbisiICIrZSsiLWRpc3BsYXktIit0aGlzLm9wdGlvbnMuZGlzcGxheX0sX2dldFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKyIgIit0aGlzLl9nZXRQb3NEaXNwbGF5Q2xhc3Nlcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCkrIiAiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsQ2xvc2VkO3JldHVybiB0aGlzLm9wdGlvbnMudGhlbWUmJihlKz0iIHVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiYoZSs9IiAiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpLGV9LF9hZGRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCkpfSxfYmluZENsb3NlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jbG9zZUxpbmsub24oImNsaWNrLnBhbmVsIixmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGUuY2xvc2UoKSwhMX0pLGUuZWxlbWVudC5vbigiY2xpY2sucGFuZWwiLCJhOmpxbURhdGEoYWpheD0nZmFsc2UnKSIsZnVuY3Rpb24oKXtlLmNsb3NlKCl9KX0sX3Bvc2l0aW9uUGFuZWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5fcGFuZWxJbm5lci5vdXRlckhlaWdodCgpLG49aT5lLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtufHwhdC5vcHRpb25zLnBvc2l0aW9uRml4ZWQ/KG4mJih0Ll91bmZpeFBhbmVsKCksZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KGkpKSx0Ll9zY3JvbGxJbnRvVmlldyhpKSk6dC5fZml4UGFuZWwoKX0sX3Njcm9sbEludG9WaWV3OmZ1bmN0aW9uKGkpe2UodCkuc2Nyb2xsVG9wKCk+aSYmdC5zY3JvbGxUbygwLDApfSxfYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb24oZSh0KSx7dGhyb3R0bGVkcmVzaXplOiJfcG9zaXRpb25QYW5lbCJ9KX0sX3VuYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKGUodCksInRocm90dGxlZHJlc2l6ZSIpfSxfdW5maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZlLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfZml4UGFuZWw6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmZS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2JpbmRVcGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2UuX29wZW4mJmUuX3Bvc2l0aW9uUGFuZWwoKX0pfSxfYmluZExpbmtMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuX3BhZ2Uub24oImNsaWNrLnBhbmVsIiwiYSIsZnVuY3Rpb24oaSl7aWYodGhpcy5ocmVmLnNwbGl0KCIjIilbMV09PT10Ll9wYW5lbElEJiZ0Ll9wYW5lbElEIT09bil7aS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBhPWUodGhpcyk7cmV0dXJuIGEuaGFzQ2xhc3MoInVpLWxpbmsiKXx8KGEuYWRkQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHQuZWxlbWVudC5vbmUoInBhbmVsb3BlbiBwYW5lbGNsb3NlIixmdW5jdGlvbigpe2EucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpLHQudG9nZ2xlKCksITF9fSl9LF9iaW5kU3dpcGVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5fbW9kYWw/ZS5lbGVtZW50LmFkZChlLl9tb2RhbCk6ZS5lbGVtZW50O2Uub3B0aW9ucy5zd2lwZUNsb3NlJiYoImxlZnQiPT09ZS5vcHRpb25zLnBvc2l0aW9uP3Qub24oInN3aXBlbGVmdC5wYW5lbCIsZnVuY3Rpb24oKXtlLmNsb3NlKCl9KTp0Lm9uKCJzd2lwZXJpZ2h0LnBhbmVsIixmdW5jdGlvbigpe2UuY2xvc2UoKX0pKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9wYWdlLm9uKCJwYW5lbGJlZm9yZW9wZW4iLGZ1bmN0aW9uKHQpe2UuX29wZW4mJnQudGFyZ2V0IT09ZS5lbGVtZW50WzBdJiZlLmNsb3NlKCl9KS5vbigicGFnZWhpZGUiLGZ1bmN0aW9uKCl7ZS5fb3BlbiYmZS5jbG9zZSghMCl9KS5vbigia2V5dXAucGFuZWwiLGZ1bmN0aW9uKHQpezI3PT09dC5rZXlDb2RlJiZlLl9vcGVuJiZlLmNsb3NlKCl9KX0sX29wZW46ITEsX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXM6bnVsbCxfZml4ZWRUb29sYmFyT3BlbkNsYXNzZXM6bnVsbCxfbW9kYWxPcGVuQ2xhc3NlczpudWxsLG9wZW46ZnVuY3Rpb24odCl7aWYoIXRoaXMuX29wZW4pe3ZhciBpPXRoaXMsbj1pLm9wdGlvbnMsYT1mdW5jdGlvbigpe2kuX3BhZ2Uub2ZmKCJwYW5lbGNsb3NlIiksaS5fcGFnZS5qcW1EYXRhKCJwYW5lbCIsIm9wZW4iKSwhdCYmZS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZuLmFuaW1hdGU/aS5lbGVtZW50LmFkZChpLl93cmFwcGVyKS5vbihpLl90cmFuc2l0aW9uRW5kRXZlbnRzLG8pOnNldFRpbWVvdXQobywwKSxpLm9wdGlvbnMudGhlbWUmJiJvdmVybGF5IiE9PWkub3B0aW9ucy5kaXNwbGF5JiZpLl9wYWdlLnJlbW92ZUNsYXNzKGkuX3BhZ2VUaGVtZSkuYWRkQ2xhc3MoInVpLWJvZHktIitpLm9wdGlvbnMudGhlbWUpLGkuZWxlbWVudC5yZW1vdmVDbGFzcyhuLmNsYXNzZXMucGFuZWxDbG9zZWQpLmFkZENsYXNzKG4uY2xhc3Nlcy5wYW5lbE9wZW4pLGkuX3Bvc2l0aW9uUGFuZWwoKSxpLm9wdGlvbnMudGhlbWUmJiJvdmVybGF5IiE9PWkub3B0aW9ucy5kaXNwbGF5JiZpLl93cmFwcGVyLmNzcygibWluLWhlaWdodCIsaS5fcGFnZS5jc3MoIm1pbi1oZWlnaHQiKSksaS5fY29udGVudFdyYXBPcGVuQ2xhc3Nlcz1pLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhuLmNsYXNzZXMuY29udGVudFdyYXApLGkuX3dyYXBwZXIucmVtb3ZlQ2xhc3Mobi5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKS5hZGRDbGFzcyhpLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzKyIgIituLmNsYXNzZXMuY29udGVudFdyYXBPcGVuKSxpLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3Nlcz1pLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhuLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhciksaS5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKG4uY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKS5hZGRDbGFzcyhpLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlcysiICIrbi5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSxpLl9tb2RhbE9wZW5DbGFzc2VzPWkuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKG4uY2xhc3Nlcy5tb2RhbCkrIiAiK24uY2xhc3Nlcy5tb2RhbE9wZW4saS5fbW9kYWwmJmkuX21vZGFsLmFkZENsYXNzKGkuX21vZGFsT3BlbkNsYXNzZXMpfSxvPWZ1bmN0aW9uKCl7aS5lbGVtZW50LmFkZChpLl93cmFwcGVyKS5vZmYoaS5fdHJhbnNpdGlvbkVuZEV2ZW50cyxvKSxpLl9wYWdlLmFkZENsYXNzKG4uY2xhc3Nlcy5wYWdlUGFuZWxPcGVuKSxpLl9iaW5kRml4TGlzdGVuZXIoKSxpLl90cmlnZ2VyKCJvcGVuIil9OzA+dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLmxlbmd0aCYmKHQ9ITApLGkuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSwib3BlbiI9PT1pLl9wYWdlLmpxbURhdGEoInBhbmVsIik/aS5fcGFnZS5vbigicGFuZWxjbG9zZSIsZnVuY3Rpb24oKXthKCl9KTphKCksaS5fb3Blbj0hMH19LGNsb3NlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX29wZW4pe3ZhciBpPXRoaXMub3B0aW9ucyxuPXRoaXMsYT1mdW5jdGlvbigpeyF0JiZlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmkuYW5pbWF0ZT9uLmVsZW1lbnQuYWRkKG4uX3dyYXBwZXIpLm9uKG4uX3RyYW5zaXRpb25FbmRFdmVudHMsbyk6c2V0VGltZW91dChvLDApLG4uX3BhZ2UucmVtb3ZlQ2xhc3MoaS5jbGFzc2VzLnBhZ2VQYW5lbE9wZW4pLG4uZWxlbWVudC5yZW1vdmVDbGFzcyhpLmNsYXNzZXMucGFuZWxPcGVuKSxuLl93cmFwcGVyLnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5jb250ZW50V3JhcE9wZW4pLG4uX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhpLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLG4uX21vZGFsJiZuLl9tb2RhbC5yZW1vdmVDbGFzcyhuLl9tb2RhbE9wZW5DbGFzc2VzKX0sbz1mdW5jdGlvbigpe24ub3B0aW9ucy50aGVtZSYmIm92ZXJsYXkiIT09bi5vcHRpb25zLmRpc3BsYXkmJihuLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrbi5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcyhuLl9wYWdlVGhlbWUpLG4uX3dyYXBwZXIuY3NzKCJtaW4taGVpZ2h0IiwiIikpLG4uZWxlbWVudC5hZGQobi5fd3JhcHBlcikub2ZmKG4uX3RyYW5zaXRpb25FbmRFdmVudHMsbyksbi5lbGVtZW50LmFkZENsYXNzKGkuY2xhc3Nlcy5wYW5lbENsb3NlZCksbi5fd3JhcHBlci5yZW1vdmVDbGFzcyhuLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzKS5hZGRDbGFzcyhpLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLG4uX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhuLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlcykuYWRkQ2xhc3MoaS5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLG4uX2ZpeFBhbmVsKCksbi5fdW5iaW5kRml4TGlzdGVuZXIoKSxlLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSxuLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksbi5fdHJpZ2dlcigiY2xvc2UiKX07MD50aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RoJiYodD0hMCksbi5fdHJpZ2dlcigiYmVmb3JlY2xvc2UiKSxhKCksbi5fb3Blbj0hMX19LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fb3Blbj8iY2xvc2UiOiJvcGVuIl0oKX0sX3RyYW5zaXRpb25FbmRFdmVudHM6IndlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQgdHJhbnNpdGlvbmVuZCBtc1RyYW5zaXRpb25FbmQiLF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmNsYXNzZXMsaT10aGlzLm9wdGlvbnMudGhlbWUsbj10aGlzLmVsZW1lbnQuc2libGluZ3MoIi4iK3QucGFuZWwpLmxlbmd0aDtuP3RoaXMuX29wZW4mJih0aGlzLl93cmFwcGVyLnJlbW92ZUNsYXNzKHQuY29udGVudFdyYXBPcGVuKSx0aGlzLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3ModC5jb250ZW50Rml4ZWRUb29sYmFyT3BlbiksdGhpcy5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3ModC5wYWdlUGFuZWxPcGVuKSxpJiZ0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIraSkuYWRkQ2xhc3ModGhpcy5fcGFnZVRoZW1lKSk6KHRoaXMuX3dyYXBwZXIuY2hpbGRyZW4oKS51bndyYXAoKSx0aGlzLl9wYWdlLmZpbmQoImEiKS51bmJpbmQoInBhbmVsb3BlbiBwYW5lbGNsb3NlIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyh0LnBhZ2VQYW5lbCksdGhpcy5fb3BlbiYmKHRoaXMuX3BhZ2UuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKHQucGFnZVBhbmVsT3BlbiksaSYmdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2kpLmFkZENsYXNzKHRoaXMuX3BhZ2VUaGVtZSksZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCkpKSx0aGlzLl9wYW5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSx0LnBhbmVsQW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLHRoaXMuX2Nsb3NlTGluay5vZmYoImNsaWNrLnBhbmVsIiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5vZmYodGhpcy5fdHJhbnNpdGlvbkVuZEV2ZW50cykucmVtb3ZlQ2xhc3MoW3QucGFuZWxVbmZpeGVkLHQucGFuZWxDbG9zZWQsdC5wYW5lbE9wZW5dLmpvaW4oIiAiKSl9fSksZShpKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUucGFuZWwucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQpfSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS50YWJsZSIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3RhYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLnJlZnJlc2goITApfSxyZWZyZXNoOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXMsYT10aGlzLmVsZW1lbnQuZmluZCgidGhlYWQgdHIiKTtpJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMudGFibGUpLG4uaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCgidHI6ZXEoMCkiKS5jaGlsZHJlbigpLG4uYWxsSGVhZGVycz1uLmhlYWRlcnMuYWRkKGEuY2hpbGRyZW4oKSksYS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89MDtlKHRoaXMpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciBzPXBhcnNlSW50KGUodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxyPSI6bnRoLWNoaWxkKCIrKG8rMSkrIikiO2lmKGUodGhpcykuanFtRGF0YSgiY29sc3RhcnQiLG8rMSkscylmb3IodmFyIGw9MDtzLTE+bDtsKyspbysrLHIrPSIsIDpudGgtY2hpbGQoIisobysxKSsiKSI7aT09PXQmJmUodGhpcykuanFtRGF0YSgiY2VsbHMiLCIiKSxlKHRoaXMpLmpxbURhdGEoImNlbGxzIixuLmVsZW1lbnQuZmluZCgidHIiKS5ub3QoYS5lcSgwKSkubm90KHRoaXMpLmNoaWxkcmVuKHIpKSxvKyt9KX0pLGk9PT10JiZ0aGlzLmVsZW1lbnQudHJpZ2dlcigicmVmcmVzaCIpfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSx0KXtlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5tb2RlPSJjb2x1bW50b2dnbGUiLGUubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtbkJ0blRoZW1lPW51bGwsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY29sdW1uUG9wdXBUaGVtZT1udWxsLGUubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtbkJ0blRleHQ9IkNvbHVtbnMuLi4iLGUubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXM9ZS5leHRlbmQoZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cG9wdXA6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cCIsY29sdW1uQnRuOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtYnRuIixwcmlvcml0eVByZWZpeDoidWktdGFibGUtcHJpb3JpdHktIixjb2x1bW5Ub2dnbGVUYWJsZToidWktdGFibGUtY29sdW1udG9nZ2xlIn0pLGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSd0YWJsZScpIiwidGFibGVjcmVhdGUgcmVmcmVzaCIsZnVuY3Rpb24oaSl7dmFyIG4sYSxvLHMscj1lKHRoaXMpLGw9ci5kYXRhKCJtb2JpbGUtdGFibGUiKSxkPWkudHlwZSxjPWwub3B0aW9ucyxoPWUubW9iaWxlLm5zLHU9KHIuYXR0cigiaWQiKXx8Yy5jbGFzc2VzLnBvcHVwKSsiLXBvcHVwIjsiY29sdW1udG9nZ2xlIj09PWMubW9kZSYmKCJyZWZyZXNoIiE9PWQmJihsLmVsZW1lbnQuYWRkQ2xhc3MoYy5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSxuPWUoIjxhIGhyZWY9JyMiK3UrIicgY2xhc3M9JyIrYy5jbGFzc2VzLmNvbHVtbkJ0bisiJyBkYXRhLSIraCsicmVsPSdwb3B1cCcgZGF0YS0iK2grIm1pbmk9J3RydWUnPiIrYy5jb2x1bW5CdG5UZXh0KyI8L2E+IiksYT1lKCI8ZGl2IGRhdGEtIitoKyJyb2xlPSdwb3B1cCcgZGF0YS0iK2grInJvbGU9J2ZpZWxkY29udGFpbicgY2xhc3M9JyIrYy5jbGFzc2VzLnBvcHVwKyInIGlkPSciK3UrIic+PC9kaXY+Iiksbz1lKCI8ZmllbGRzZXQgZGF0YS0iK2grInJvbGU9J2NvbnRyb2xncm91cCc+PC9maWVsZHNldD4iKSksbC5oZWFkZXJzLm5vdCgidGQiKS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPWUodGhpcykuanFtRGF0YSgicHJpb3JpdHkiKSxuPWUodGhpcykuYWRkKGUodGhpcykuanFtRGF0YSgiY2VsbHMiKSk7aSYmKG4uYWRkQ2xhc3MoYy5jbGFzc2VzLnByaW9yaXR5UHJlZml4K2kpLCJyZWZyZXNoIiE9PWQ/ZSgiPGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZCAvPiIrZSh0aGlzKS50ZXh0KCkrIjwvbGFiZWw+IikuYXBwZW5kVG8obykuY2hpbGRyZW4oMCkuanFtRGF0YSgiY2VsbHMiLG4pLmNoZWNrYm94cmFkaW8oe3RoZW1lOmMuY29sdW1uUG9wdXBUaGVtZX0pOmUoIiMiK3UrIiBmaWVsZHNldCBkaXY6ZXEoIit0KyIpIikuZmluZCgiaW5wdXQiKS5qcW1EYXRhKCJjZWxscyIsbikpfSksInJlZnJlc2giIT09ZCYmby5hcHBlbmRUbyhhKSxzPW89PT10P2UoIiMiK3UrIiBmaWVsZHNldCIpOm8sInJlZnJlc2giIT09ZCYmKHMub24oImNoYW5nZSIsImlucHV0IixmdW5jdGlvbigpe3RoaXMuY2hlY2tlZD9lKHRoaXMpLmpxbURhdGEoImNlbGxzIikucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpOmUodGhpcykuanFtRGF0YSgiY2VsbHMiKS5yZW1vdmVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIil9KSxuLmluc2VydEJlZm9yZShyKS5idXR0b25NYXJrdXAoe3RoZW1lOmMuY29sdW1uQnRuVGhlbWV9KSxhLmluc2VydEJlZm9yZShyKS5wb3B1cCgpKSxsLnVwZGF0ZT1mdW5jdGlvbigpe3MuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5jaGVja2VkPyh0aGlzLmNoZWNrZWQ9InRhYmxlLWNlbGwiPT09ZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLmVxKDApLmNzcygiZGlzcGxheSIpLCJyZWZyZXNoIj09PWQmJmUodGhpcykuanFtRGF0YSgiY2VsbHMiKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIikpOmUodGhpcykuanFtRGF0YSgiY2VsbHMiKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iKSxlKHRoaXMpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0pfSxlLm1vYmlsZS53aW5kb3cub24oInRocm90dGxlZHJlc2l6ZSIsbC51cGRhdGUpLGwudXBkYXRlKCkpfSl9KGUpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLm1vZGU9InJlZmxvdyIsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcz1lLmV4dGVuZChlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pLGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSd0YWJsZScpIiwidGFibGVjcmVhdGUgcmVmcmVzaCIsZnVuY3Rpb24odCl7dmFyIGk9ZSh0aGlzKSxuPXQudHlwZSxhPWkuZGF0YSgibW9iaWxlLXRhYmxlIiksbz1hLm9wdGlvbnM7aWYoInJlZmxvdyI9PT1vLm1vZGUpeyJyZWZyZXNoIiE9PW4mJmEuZWxlbWVudC5hZGRDbGFzcyhvLmNsYXNzZXMucmVmbG93VGFibGUpO3ZhciBzPWUoYS5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSk7cy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLGk9ZSh0aGlzKS5qcW1EYXRhKCJjb2xzdGFydCIpLG49dC5ub3QodGhpcykuZmlsdGVyKCJ0aGVhZCB0aCIpLmxlbmd0aCYmIiB1aS10YWJsZS1jZWxsLWxhYmVsLXRvcCIsYT1lKHRoaXMpLnRleHQoKTtpZigiIiE9PWEpaWYobil7dmFyIHM9cGFyc2VJbnQoZSh0aGlzKS5hdHRyKCJjb2xzcGFuIiksMTApLHI9IiI7cyYmKHI9InRkOm50aC1jaGlsZCgiK3MrIm4gKyAiK2krIikiKSx0LmZpbHRlcihyKS5wcmVwZW5kKCI8YiBjbGFzcz0nIitvLmNsYXNzZXMuY2VsbExhYmVscytuKyInPiIrYSsiPC9iPiIpfWVsc2UgdC5wcmVwZW5kKCI8YiBjbGFzcz0nIitvLmNsYXNzZXMuY2VsbExhYmVscysiJz4iK2ErIjwvYj4iKX0pfX0pfShlKSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSl7bz1lLm9yaWdpbmFsRXZlbnQsZD1vLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkscz1NYXRoLmFicyhkLngpLHI9TWF0aC5hYnMoZC55KSxsPU1hdGguYWJzKGQueiksIXQub3JpZW50YXRpb24mJihzPjd8fChsPjYmJjg+cnx8OD5sJiZyPjYpJiZzPjUpP2MuZW5hYmxlZCYmYy5kaXNhYmxlKCk6Yy5lbmFibGVkfHxjLmVuYWJsZSgpfWUubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMDt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKCEoL2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmL09TIFsxLTVdX1swLTlfXSogbGlrZSBNYWMgT1MgWC9pLnRlc3QoYSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSkpcmV0dXJuIGUubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMSxuO3ZhciBvLHMscixsLGQsYz1lLm1vYmlsZS56b29tO2UubW9iaWxlLmRvY3VtZW50Lm9uKCJtb2JpbGVpbml0IixmdW5jdGlvbigpe2UubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCYmZS5tb2JpbGUud2luZG93LmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixjLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixpKX0pfShlLHRoaXMpLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe2EucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKX12YXIgYT1lKCJodG1sIiksbz0oZSgiaGVhZCIpLGUubW9iaWxlLndpbmRvdyk7ZSh0LmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0IiksZS5tb2JpbGUuZ3JhZGVBKCkmJihlLm1vYmlsZS5hamF4QmxhY2tsaXN0JiYoZS5tb2JpbGUuYWpheEVuYWJsZWQ9ITEpLGEuYWRkQ2xhc3MoInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIiksc2V0VGltZW91dChuLDVlMyksZS5leHRlbmQoZS5tb2JpbGUse2luaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIHQ9ZS5tb2JpbGUucGF0aCxhPWUoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKSxzPXQuc3RyaXBIYXNoKHQuc3RyaXBRdWVyeVBhcmFtcyh0LnBhcnNlTG9jYXRpb24oKS5oYXNoKSkscj1pLmdldEVsZW1lbnRCeUlkKHMpO2EubGVuZ3RofHwoYT1lKCJib2R5Iikud3JhcElubmVyKCI8ZGl2IGRhdGEtIitlLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+PC9kaXY+IikuY2hpbGRyZW4oMCkpLGEuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7dC5qcW1EYXRhKCJ1cmwiKXx8dC5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInVybCIsdC5hdHRyKCJpZCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSksZS5tb2JpbGUuZmlyc3RQYWdlPWEuZmlyc3QoKSxlLm1vYmlsZS5wYWdlQ29udGFpbmVyPWUubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0Iiksby50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIiksZS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCksbigpLGUubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZlLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoZShyKS5pcygnOmpxbURhdGEocm9sZT0icGFnZSIpJyl8fGUubW9iaWxlLnBhdGguaXNQYXRoKHMpfHxzPT09ZS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/ZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhlLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGUubW9iaWxlLm5hdmlnYXRlKGUubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOm8udHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSk6KGUubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihlLm1vYmlsZS51cmxIaXN0b3J5LmluaXRpYWxEc3Q9cy5yZXBsYWNlKCIjIiwiIikpLGUuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmZS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaCh0LnBhcnNlTG9jYXRpb24oKS5ocmVmKSxlLm1vYmlsZS5jaGFuZ2VQYWdlKGUubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGUubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpLGUoZnVuY3Rpb24oKXt0LnNjcm9sbFRvKDAsMSksZS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9ZS5zdXBwb3J0LnNjcm9sbFRvcCYmMSE9PWUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKT8xOjAsZS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZlLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpLG8ubG9hZChlLm1vYmlsZS5zaWxlbnRTY3JvbGwpLGUuc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzfHxlLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSkpfShlLHRoaXMpfSk7Ci8vQCBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5tb2JpbGUtMS4zLjEubWluLm1hcAo7Cg==",
                "body": "LyohIGpRdWVyeSBNb2JpbGUgMS4zLjEgfCBHaXQgSEVBRCBoYXNoOiA3NGI0YmVjIDw+IDIwMTMtMDQtMTBUMjE6NTc6MjNaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KCihmdW5jdGlvbihlLHQsaSl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihuKXtyZXR1cm4gaShuLGUsdCksbi5tb2JpbGV9KTppKGUualF1ZXJ5LGUsdCl9KSh0aGlzLGRvY3VtZW50LGZ1bmN0aW9uKGUsdCxpLG4peyhmdW5jdGlvbihlKXtlLm1vYmlsZT17fX0pKGUpLGZ1bmN0aW9uKGUsdCxuKXt2YXIgYT17fTtlLm1vYmlsZT1lLmV4dGVuZChlLm1vYmlsZSx7dmVyc2lvbjoiMS4zLjEiLG5zOiIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixmb2N1c0NsYXNzOiJ1aS1mb2N1cyIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsbGlua0JpbmRpbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoiZmFkZSIsbWF4VHJhbnNpdGlvbldpZHRoOiExLG1pblNjcm9sbEJhY2s6MjUwLHRvdWNoT3ZlcmZsb3dFbmFibGVkOiExLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWU6ImUiLHBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQ6ITEsYXV0b0luaXRpYWxpemVQYWdlOiEwLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsaWdub3JlQ29udGVudEVuYWJsZWQ6ITEsb3JpZW50YXRpb25DaGFuZ2VFbmFibGVkOiEwLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LHdpbmRvdzplKHQpLGRvY3VtZW50OmUoaSksa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCxDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LGJlaGF2aW9yczp7fSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oaSl7Im51bWJlciIhPT1lLnR5cGUoaSkmJihpPWUubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSxlLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zY3JvbGxUbygwLGkpLGUubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoInNpbGVudHNjcm9sbCIse3g6MCx5Oml9KX0sMjApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sbnNOb3JtYWxpemVEaWN0OmEsbnNOb3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/YVt0XXx8KGFbdF09ZS5jYW1lbENhc2UoZS5tb2JpbGUubnMrdCkpOm59LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpLG4sYT1lWzBdLG89IiIscz0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi87YSYmKGk9YS5jbGFzc05hbWV8fCIiLCEoaSYmKG49cy5leGVjKGkpKSYmKG89blsyXSkpKTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIG98fHR8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJtb2JpbGUtcGFnZSIpfSxlbmhhbmNlYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhlLCJlbmhhbmNlIil9LGhpamFja2FibGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoZSwiYWpheCIpfSxoYXZlUGFyZW50czpmdW5jdGlvbih0LGkpe2lmKCFlLm1vYmlsZS5pZ25vcmVDb250ZW50RW5hYmxlZClyZXR1cm4gdDtmb3IodmFyIG4sYSxvLHM9dC5sZW5ndGgscj1lKCksbD0wO3M+bDtsKyspe2ZvcihhPXQuZXEobCksbz0hMSxuPXRbbF07bjspe3ZhciBkPW4uZ2V0QXR0cmlidXRlP24uZ2V0QXR0cmlidXRlKCJkYXRhLSIrZS5tb2JpbGUubnMraSk6IiI7aWYoImZhbHNlIj09PWQpe289ITA7YnJlYWt9bj1uLnBhcmVudE5vZGV9b3x8KHI9ci5hZGQoYSkpfXJldHVybiByfSxnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5pbm5lckhlaWdodHx8ZS5tb2JpbGUud2luZG93LmhlaWdodCgpfX0sZS5tb2JpbGUpLGUuZm4uanFtRGF0YT1mdW5jdGlvbih0LGkpe3ZhciBhO3JldHVybiB0IT09biYmKHQmJih0PWUubW9iaWxlLm5zTm9ybWFsaXplKHQpKSxhPTI+YXJndW1lbnRzLmxlbmd0aHx8aT09PW4/dGhpcy5kYXRhKHQpOnRoaXMuZGF0YSh0LGkpKSxhfSxlLmpxbURhdGE9ZnVuY3Rpb24odCxpLGEpe3ZhciBvO3JldHVybiBpIT09biYmKG89ZS5kYXRhKHQsaT9lLm1vYmlsZS5uc05vcm1hbGl6ZShpKTppLGEpKSxvfSxlLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShlLm1vYmlsZS5uc05vcm1hbGl6ZSh0KSl9LGUuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbih0LGkpe3JldHVybiBlLnJlbW92ZURhdGEodCxlLm1vYmlsZS5uc05vcm1hbGl6ZShpKSl9LGUuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oKXtlLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxlLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKHQpe3ZhciBpPWUodCk7KGkuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxlKCkpLnJlbW92ZSgpLGkucmVtb3ZlKCl9LGUuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbih0KXtlLmFkZERlcGVuZGVudHMoZSh0aGlzKSx0KX0sZS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKHQsaSl7dmFyIG49ZSh0KS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGUoKTtlKHQpLmpxbURhdGEoImRlcGVuZGVudHMiLGUubWVyZ2UobixpKSl9LGUuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZSgiPGRpdi8+IikudGV4dChlKHRoaXMpLnRleHQoKSkuaHRtbCgpfSxlLmZuLmpxbUVuaGFuY2VhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfSxlLmZuLmpxbUhpamFja2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX07dmFyIG89ZS5maW5kLHM9LzpqcW1EYXRhXCgoW14pXSopXCkvZztlLmZpbmQ9ZnVuY3Rpb24odCxpLG4sYSl7cmV0dXJuIHQ9dC5yZXBsYWNlKHMsIltkYXRhLSIrKGUubW9iaWxlLm5zfHwiIikrIiQxXSIpLG8uY2FsbCh0aGlzLHQsaSxuLGEpfSxlLmV4dGVuZChlLmZpbmQsbyksZS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5maW5kKHQsbnVsbCxudWxsLGkpfSxlLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuZmluZChpLG51bGwsbnVsbCxbdF0pLmxlbmd0aD4wfX0oZSx0aGlzKSxmdW5jdGlvbihlLHQpe3ZhciBpPTAsbj1BcnJheS5wcm90b3R5cGUuc2xpY2UsYT1lLmNsZWFuRGF0YTtlLmNsZWFuRGF0YT1mdW5jdGlvbih0KXtmb3IodmFyIGksbj0wO251bGwhPShpPXRbbl0pO24rKyl0cnl7ZShpKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9Y2F0Y2gobyl7fWEodCl9LGUud2lkZ2V0PWZ1bmN0aW9uKGksbixhKXt2YXIgbyxzLHIsbCxkPWkuc3BsaXQoIi4iKVswXTtpPWkuc3BsaXQoIi4iKVsxXSxvPWQrIi0iK2ksYXx8KGE9bixuPWUuV2lkZ2V0KSxlLmV4cHJbIjoiXVtvLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhZS5kYXRhKHQsbyl9LGVbZF09ZVtkXXx8e30scz1lW2RdW2ldLHI9ZVtkXVtpXT1mdW5jdGlvbihlLGkpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/KGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChlLGkpLHQpOm5ldyByKGUsaSl9LGUuZXh0ZW5kKHIscyx7dmVyc2lvbjphLnZlcnNpb24sX3Byb3RvOmUuZXh0ZW5kKHt9LGEpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLGw9bmV3IG4sbC5vcHRpb25zPWUud2lkZ2V0LmV4dGVuZCh7fSxsLm9wdGlvbnMpLGUuZWFjaChhLGZ1bmN0aW9uKHQsaSl7ZS5pc0Z1bmN0aW9uKGkpJiYoYVt0XT1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucHJvdG90eXBlW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYT1mdW5jdGlvbihlKXtyZXR1cm4gbi5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxlKX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLl9zdXBlcixvPXRoaXMuX3N1cGVyQXBwbHk7cmV0dXJuIHRoaXMuX3N1cGVyPWUsdGhpcy5fc3VwZXJBcHBseT1hLHQ9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fc3VwZXI9bix0aGlzLl9zdXBlckFwcGx5PW8sdH19KCkpfSksci5wcm90b3R5cGU9ZS53aWRnZXQuZXh0ZW5kKGwse3dpZGdldEV2ZW50UHJlZml4OnM/bC53aWRnZXRFdmVudFByZWZpeDppfSxhLHtjb25zdHJ1Y3RvcjpyLG5hbWVzcGFjZTpkLHdpZGdldE5hbWU6aSx3aWRnZXRGdWxsTmFtZTpvfSkscz8oZS5lYWNoKHMuX2NoaWxkQ29uc3RydWN0b3JzLGZ1bmN0aW9uKHQsaSl7dmFyIG49aS5wcm90b3R5cGU7ZS53aWRnZXQobi5uYW1lc3BhY2UrIi4iK24ud2lkZ2V0TmFtZSxyLGkuX3Byb3RvKX0pLGRlbGV0ZSBzLl9jaGlsZENvbnN0cnVjdG9ycyk6bi5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaChyKSxlLndpZGdldC5icmlkZ2UoaSxyKX0sZS53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKGkpe2Zvcih2YXIgYSxvLHM9bi5jYWxsKGFyZ3VtZW50cywxKSxyPTAsbD1zLmxlbmd0aDtsPnI7cisrKWZvcihhIGluIHNbcl0pbz1zW3JdW2FdLHNbcl0uaGFzT3duUHJvcGVydHkoYSkmJm8hPT10JiYoaVthXT1lLmlzUGxhaW5PYmplY3Qobyk/ZS5pc1BsYWluT2JqZWN0KGlbYV0pP2Uud2lkZ2V0LmV4dGVuZCh7fSxpW2FdLG8pOmUud2lkZ2V0LmV4dGVuZCh7fSxvKTpvKTtyZXR1cm4gaX0sZS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGksYSl7dmFyIG89YS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fGk7ZS5mbltpXT1mdW5jdGlvbihzKXt2YXIgcj0ic3RyaW5nIj09dHlwZW9mIHMsbD1uLmNhbGwoYXJndW1lbnRzLDEpLGQ9dGhpcztyZXR1cm4gcz0hciYmbC5sZW5ndGg/ZS53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW3NdLmNvbmNhdChsKSk6cyxyP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuLGE9ZS5kYXRhKHRoaXMsbyk7cmV0dXJuIGE/ZS5pc0Z1bmN0aW9uKGFbc10pJiYiXyIhPT1zLmNoYXJBdCgwKT8obj1hW3NdLmFwcGx5KGEsbCksbiE9PWEmJm4hPT10PyhkPW4mJm4uanF1ZXJ5P2QucHVzaFN0YWNrKG4uZ2V0KCkpOm4sITEpOnQpOmUuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK3MrIicgZm9yICIraSsiIHdpZGdldCBpbnN0YW5jZSIpOmUuZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitpKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIrImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitzKyInIil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lLmRhdGEodGhpcyxvKTt0P3Qub3B0aW9uKHN8fHt9KS5faW5pdCgpOmUuZGF0YSh0aGlzLG8sbmV3IGEocyx0aGlzKSl9KSxkfX0sZS5XaWRnZXQ9ZnVuY3Rpb24oKXt9LGUuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXSxlLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbih0LG4pe249ZShufHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXSx0aGlzLmVsZW1lbnQ9ZShuKSx0aGlzLnV1aWQ9aSsrLHRoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQsdGhpcy5vcHRpb25zPWUud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLHQpLHRoaXMuYmluZGluZ3M9ZSgpLHRoaXMuaG92ZXJhYmxlPWUoKSx0aGlzLmZvY3VzYWJsZT1lKCksbiE9PXRoaXMmJihlLmRhdGEobix0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09biYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1lKG4uc3R5bGU/bi5vd25lckRvY3VtZW50Om4uZG9jdW1lbnR8fG4pLHRoaXMud2luZG93PWUodGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSx0aGlzLl9jcmVhdGUoKSx0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6ZS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6ZS5ub29wLF9jcmVhdGU6ZS5ub29wLF9pbml0OmUubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpLnJlbW92ZURhdGEodGhpcy53aWRnZXRGdWxsTmFtZSkucmVtb3ZlRGF0YShlLmNhbWVsQ2FzZSh0aGlzLndpZGdldEZ1bGxOYW1lKSksdGhpcy53aWRnZXQoKS51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCAiKyJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuYmluZGluZ3MudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxfZGVzdHJveTplLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGksbil7dmFyIGEsbyxzLHI9aTtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoInN0cmluZyI9PXR5cGVvZiBpKWlmKHI9e30sYT1pLnNwbGl0KCIuIiksaT1hLnNoaWZ0KCksYS5sZW5ndGgpe2ZvcihvPXJbaV09ZS53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9uc1tpXSkscz0wO2EubGVuZ3RoLTE+cztzKyspb1thW3NdXT1vW2Fbc11dfHx7fSxvPW9bYVtzXV07aWYoaT1hLnBvcCgpLG49PT10KXJldHVybiBvW2ldPT09dD9udWxsOm9baV07b1tpXT1ufWVsc2V7aWYobj09PXQpcmV0dXJuIHRoaXMub3B0aW9uc1tpXT09PXQ/bnVsbDp0aGlzLm9wdGlvbnNbaV07cltpXT1ufXJldHVybiB0aGlzLl9zZXRPcHRpb25zKHIpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpdGhpcy5fc2V0T3B0aW9uKHQsZVt0XSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcHRpb25zW2VdPXQsImRpc2FibGVkIj09PWUmJih0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KS5hdHRyKCJhcmlhLWRpc2FibGVkIix0KSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKSksdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LF9vbjpmdW5jdGlvbihpLG4sYSl7dmFyIG8scz10aGlzOyJib29sZWFuIiE9dHlwZW9mIGkmJihhPW4sbj1pLGk9ITEpLGE/KG49bz1lKG4pLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQobikpOihhPW4sbj10aGlzLmVsZW1lbnQsbz10aGlzLndpZGdldCgpKSxlLmVhY2goYSxmdW5jdGlvbihhLHIpe2Z1bmN0aW9uIGwoKXtyZXR1cm4gaXx8cy5vcHRpb25zLmRpc2FibGVkIT09ITAmJiFlKHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpPygic3RyaW5nIj09dHlwZW9mIHI/c1tyXTpyKS5hcHBseShzLGFyZ3VtZW50cyk6dH0ic3RyaW5nIiE9dHlwZW9mIHImJihsLmd1aWQ9ci5ndWlkPXIuZ3VpZHx8bC5ndWlkfHxlLmd1aWQrKyk7dmFyIGQ9YS5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxjPWRbMV0rcy5ldmVudE5hbWVzcGFjZSxoPWRbMl07aD9vLmRlbGVnYXRlKGgsYyxsKTpuLmJpbmQoYyxsKX0pfSxfb2ZmOmZ1bmN0aW9uKGUsdCl7dD0odHx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxlLnVuYmluZCh0KS51bmRlbGVnYXRlKHQpfSxfZGVsYXk6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKCl7cmV0dXJuKCJzdHJpbmciPT10eXBlb2YgZT9uW2VdOmUpLmFwcGx5KG4sYXJndW1lbnRzKX12YXIgbj10aGlzO3JldHVybiBzZXRUaW1lb3V0KGksdHx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24odCl7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKHQpLHRoaXMuX29uKHQse21vdXNlZW50ZXI6ZnVuY3Rpb24odCl7ZSh0LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe2UodC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbih0KXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQodCksdGhpcy5fb24odCx7Zm9jdXNpbjpmdW5jdGlvbih0KXtlKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKHQpe2UodC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLG4pe3ZhciBhLG8scz10aGlzLm9wdGlvbnNbdF07aWYobj1ufHx7fSxpPWUuRXZlbnQoaSksaS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxpLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sbz1pLm9yaWdpbmFsRXZlbnQpZm9yKGEgaW4gbylhIGluIGl8fChpW2FdPW9bYV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLG4pLCEoZS5pc0Z1bmN0aW9uKHMpJiZzLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbaV0uY29uY2F0KG4pKT09PSExfHxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGUuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24odCxpKXtlLldpZGdldC5wcm90b3R5cGVbIl8iK3RdPWZ1bmN0aW9uKG4sYSxvKXsic3RyaW5nIj09dHlwZW9mIGEmJihhPXtlZmZlY3Q6YX0pO3ZhciBzLHI9YT9hPT09ITB8fCJudW1iZXIiPT10eXBlb2YgYT9pOmEuZWZmZWN0fHxpOnQ7YT1hfHx7fSwibnVtYmVyIj09dHlwZW9mIGEmJihhPXtkdXJhdGlvbjphfSkscz0hZS5pc0VtcHR5T2JqZWN0KGEpLGEuY29tcGxldGU9byxhLmRlbGF5JiZuLmRlbGF5KGEuZGVsYXkpLHMmJmUuZWZmZWN0cyYmZS5lZmZlY3RzLmVmZmVjdFtyXT9uW3RdKGEpOnIhPT10JiZuW3JdP25bcl0oYS5kdXJhdGlvbixhLmVhc2luZyxvKTpuLnF1ZXVlKGZ1bmN0aW9uKGkpe2UodGhpcylbdF0oKSxvJiZvLmNhbGwoblswXSksaSgpfSl9fSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7ZS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RyaWdnZXIoImluaXQiKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmVsZW1lbnQsbj17fTtyZXR1cm4gZS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihlKXt2YXIgYT1pLmpxbURhdGEoZS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGUpe3JldHVybiItIitlLnRvTG93ZXJDYXNlKCl9KSk7YSE9PXQmJihuW2VdPWEpfSksbn0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbih0LGkpe3RoaXMuZW5oYW5jZShlKHRoaXMub3B0aW9ucy5pbml0U2VsZWN0b3IsZSh0KSksaSl9LGVuaGFuY2U6ZnVuY3Rpb24odCxpKXt2YXIgbixhLG89ZSh0KTtvPWUubW9iaWxlLmVuaGFuY2VhYmxlKG8pLGkmJm8ubGVuZ3RoJiYobj1lLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEobyksYT1uJiZuLmtlZXBOYXRpdmVTZWxlY3RvcigpfHwiIixvPW8ubm90KGEpKSxvW3RoaXMud2lkZ2V0TmFtZV0oKX0scmFpc2U6ZnVuY3Rpb24oZSl7dGhyb3ciV2lkZ2V0IFsiK3RoaXMud2lkZ2V0TmFtZSsiXTogIitlfX0pfShlKSxmdW5jdGlvbihlKXtlLmV4dGVuZChlLm1vYmlsZSx7bG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZTpuLGxvYWRpbmdNZXNzYWdlVGhlbWU6bixsb2FkaW5nTWVzc2FnZTpuLHNob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbih0LGksbil7ZS5tb2JpbGUubG9hZGluZygic2hvdyIsdCxpLG4pfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtlLm1vYmlsZS5sb2FkaW5nKCJoaWRlIil9LGxvYWRpbmc6ZnVuY3Rpb24oKXt0aGlzLmxvYWRlcldpZGdldC5sb2FkZXIuYXBwbHkodGhpcy5sb2FkZXJXaWRnZXQsYXJndW1lbnRzKX19KTt2YXIgdD0idWktbG9hZGVyIixpPWUoImh0bWwiKSxhPWUubW9iaWxlLndpbmRvdztlLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIit0KyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyc+PC9zcGFuPiIrIjxoMT48L2gxPiIrIjwvZGl2PiIsZmFrZUZpeExvYWRlcjpmdW5jdGlvbigpe3ZhciB0PWUoIi4iK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO3RoaXMuZWxlbWVudC5jc3Moe3RvcDplLnN1cHBvcnQuc2Nyb2xsVG9wJiZhLnNjcm9sbFRvcCgpK2EuaGVpZ2h0KCkvMnx8dC5sZW5ndGgmJnQub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSxpPWEuc2Nyb2xsVG9wKCksbj1lLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTsoaT50LnRvcHx8dC50b3AtaT5uKSYmKHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSx0aGlzLmZha2VGaXhMb2FkZXIoKSxhLnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pLmJpbmQoInNjcm9sbCIsZS5wcm94eSh0aGlzLmZha2VGaXhMb2FkZXIsdGhpcykpKX0scmVzZXRIdG1sOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmh0bWwoZSh0aGlzLmRlZmF1bHRIdG1sKS5odG1sKCkpfSxzaG93OmZ1bmN0aW9uKG8scyxyKXt2YXIgbCxkLGM7dGhpcy5yZXNldEh0bWwoKSwib2JqZWN0Ij09PWUudHlwZShvKT8oYz1lLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsbyksbz1jLnRoZW1lfHxlLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lKTooYz10aGlzLm9wdGlvbnMsbz1vfHxlLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lfHxjLnRoZW1lKSxkPXN8fGUubW9iaWxlLmxvYWRpbmdNZXNzYWdlfHxjLnRleHQsaS5hZGRDbGFzcygidWktbG9hZGluZyIpLChlLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSE9PSExfHxjLmh0bWwpJiYobD1lLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlIT09bj9lLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmMudGV4dFZpc2libGUsdGhpcy5lbGVtZW50LmF0dHIoImNsYXNzIix0KyIgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrbysiIHVpLWxvYWRlci0iKyhsfHxzfHxvLnRleHQ/InZlcmJvc2UiOiJkZWZhdWx0IikrKGMudGV4dG9ubHl8fHI/IiB1aS1sb2FkZXItdGV4dG9ubHkiOiIiKSksYy5odG1sP3RoaXMuZWxlbWVudC5odG1sKGMuaHRtbCk6dGhpcy5lbGVtZW50LmZpbmQoImgxIikudGV4dChkKSx0aGlzLmVsZW1lbnQuYXBwZW5kVG8oZS5tb2JpbGUucGFnZUNvbnRhaW5lciksdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKCksYS5iaW5kKCJzY3JvbGwiLGUucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKSl9LGhpZGU6ZnVuY3Rpb24oKXtpLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIiksZS5tb2JpbGUubG9hZGluZ01lc3NhZ2UmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSxlLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuZmFrZUZpeExvYWRlciksZS5tb2JpbGUud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pfX0pLGEuYmluZCgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXtlLm1vYmlsZS5sb2FkZXJXaWRnZXQ9ZS5tb2JpbGUubG9hZGVyV2lkZ2V0fHxlKGUubW9iaWxlLmxvYWRlci5wcm90b3R5cGUuZGVmYXVsdEh0bWwpLmxvYWRlcigpfSl9KGUsdGhpcyksZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGU9ZXx8bG9jYXRpb24uaHJlZiwiIyIrZS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgbyxzPSJoYXNoY2hhbmdlIixyPWksbD1lLmV2ZW50LnNwZWNpYWwsZD1yLmRvY3VtZW50TW9kZSxjPSJvbiIrcyBpbiB0JiYoZD09PW58fGQ+Nyk7ZS5mbltzXT1mdW5jdGlvbihlKXtyZXR1cm4gZT90aGlzLmJpbmQocyxlKTp0aGlzLnRyaWdnZXIocyl9LGUuZm5bc10uZGVsYXk9NTAsbFtzXT1lLmV4dGVuZChsW3NdLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBjPyExOihlKG8uc3RhcnQpLG4pfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBjPyExOihlKG8uc3RvcCksbil9fSksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt2YXIgbj1hKCkscj1wKGQpO24hPT1kPyh1KGQ9bixyKSxlKHQpLnRyaWdnZXIocykpOnIhPT1kJiYobG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sIiIpK3IpLG89c2V0VGltZW91dChpLGUuZm5bc10uZGVsYXkpfXZhciBvLGw9e30sZD1hKCksaD1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdT1oLHA9aDtyZXR1cm4gbC5zdGFydD1mdW5jdGlvbigpe298fGkoKX0sbC5zdG9wPWZ1bmN0aW9uKCl7byYmY2xlYXJUaW1lb3V0KG8pLG89bn0sdC5hdHRhY2hFdmVudCYmIXQuYWRkRXZlbnRMaXN0ZW5lciYmIWMmJmZ1bmN0aW9uKCl7dmFyIHQsbjtsLnN0YXJ0PWZ1bmN0aW9uKCl7dHx8KG49ZS5mbltzXS5zcmMsbj1uJiZuK2EoKSx0PWUoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe258fHUoYSgpKSxpKCl9KS5hdHRyKCJzcmMiLG58fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csci5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5eyJ0aXRsZSI9PT1ldmVudC5wcm9wZXJ0eU5hbWUmJih0LmRvY3VtZW50LnRpdGxlPXIudGl0bGUpfWNhdGNoKGUpe319KX0sbC5zdG9wPWgscD1mdW5jdGlvbigpe3JldHVybiBhKHQubG9jYXRpb24uaHJlZil9LHU9ZnVuY3Rpb24oaSxuKXt2YXIgYT10LmRvY3VtZW50LG89ZS5mbltzXS5kb21haW47aSE9PW4mJihhLnRpdGxlPXIudGl0bGUsYS5vcGVuKCksbyYmYS53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicrbysnIjwvc2NyaXB0PicpLGEuY2xvc2UoKSx0LmxvY2F0aW9uLmhhc2g9aSl9fSgpLGx9KCl9KGUsdGhpcyksZnVuY3Rpb24oZSl7dC5tYXRjaE1lZGlhPXQubWF0Y2hNZWRpYXx8ZnVuY3Rpb24oZSl7dmFyIHQsaT1lLmRvY3VtZW50RWxlbWVudCxuPWkuZmlyc3RFbGVtZW50Q2hpbGR8fGkuZmlyc3RDaGlsZCxhPWUuY3JlYXRlRWxlbWVudCgiYm9keSIpLG89ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gby5pZD0ibXEtdGVzdC0xIixvLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLGEuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsYS5hcHBlbmRDaGlsZChvKSxmdW5jdGlvbihlKXtyZXR1cm4gby5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK2UrJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+JyxpLmluc2VydEJlZm9yZShhLG4pLHQ9NDI9PT1vLm9mZnNldFdpZHRoLGkucmVtb3ZlQ2hpbGQoYSkse21hdGNoZXM6dCxtZWRpYTplfX19KGkpLGUubW9iaWxlLm1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hdGNoTWVkaWEoZSkubWF0Y2hlc319KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PXt0b3VjaDoib250b3VjaGVuZCJpbiBpfTtlLm1vYmlsZS5zdXBwb3J0PWUubW9iaWxlLnN1cHBvcnR8fHt9LGUuZXh0ZW5kKGUuc3VwcG9ydCx0KSxlLmV4dGVuZChlLm1vYmlsZS5zdXBwb3J0LHQpfShlKSxmdW5jdGlvbihlKXtlLmV4dGVuZChlLnN1cHBvcnQse29yaWVudGF0aW9uOiJvcmllbnRhdGlvbiJpbiB0JiYib25vcmllbnRhdGlvbmNoYW5nZSJpbiB0fSl9KGUpLGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpLGk9KGUrIiAiK3Auam9pbih0KyIgIikrdCkuc3BsaXQoIiAiKTtmb3IodmFyIGEgaW4gaSlpZih1W2lbYV1dIT09bilyZXR1cm4hMH1mdW5jdGlvbiBvKGUsdCxuKXtmb3IodmFyIGEsbz1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSl9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIiI9PT1lPyIiOiItIitlLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Uuc3Vic3RyKDEpKyItIn0sbD1mdW5jdGlvbihpKXt2YXIgbj1yKGkpK2UrIjogIit0KyI7IixsPXMoaSksZD1sKygiIj09PWw/ZTpzKGUpKTtvLnNldEF0dHJpYnV0ZSgic3R5bGUiLG4pLG8uc3R5bGVbZF0mJihhPSEwKX0sZD1uP246cCxjPTA7ZC5sZW5ndGg+YztjKyspbChkW2NdKTtyZXR1cm4hIWF9ZnVuY3Rpb24gcygpe3ZhciBhPSJ0cmFuc2Zvcm0tM2QiLG89ZS5tb2JpbGUubWVkaWEoIigtIitwLmpvaW4oIi0iK2ErIiksKC0iKSsiLSIrYSsiKSwoIithKyIpIik7aWYobylyZXR1cm4hIW87dmFyIHM9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPXtNb3pUcmFuc2Zvcm06Ii1tb3otdHJhbnNmb3JtIix0cmFuc2Zvcm06InRyYW5zZm9ybSJ9O2guYXBwZW5kKHMpO2Zvcih2YXIgbCBpbiByKXMuc3R5bGVbbF0hPT1uJiYocy5zdHlsZVtsXT0idHJhbnNsYXRlM2QoIDEwMHB4LCAxcHgsIDFweCApIixvPXQuZ2V0Q29tcHV0ZWRTdHlsZShzKS5nZXRQcm9wZXJ0eVZhbHVlKHJbbF0pKTtyZXR1cm4hIW8mJiJub25lIiE9PW99ZnVuY3Rpb24gcigpe3ZhciB0LGksbj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGE9ZSgiaGVhZCBiYXNlIiksbz1udWxsLHM9IiI7cmV0dXJuIGEubGVuZ3RoP3M9YS5hdHRyKCJocmVmIik6YT1vPWUoIjxiYXNlPiIse2hyZWY6bn0pLmFwcGVuZFRvKCJoZWFkIiksdD1lKCI8YSBocmVmPSd0ZXN0dXJsJyAvPiIpLnByZXBlbmRUbyhoKSxpPXRbMF0uaHJlZixhWzBdLmhyZWY9c3x8bG9jYXRpb24ucGF0aG5hbWUsbyYmby5yZW1vdmUoKSwwPT09aS5pbmRleE9mKG4pfWZ1bmN0aW9uIGwoKXt2YXIgZSxuPWkuY3JlYXRlRWxlbWVudCgieCIpLGE9aS5kb2N1bWVudEVsZW1lbnQsbz10LmdldENvbXB1dGVkU3R5bGU7cmV0dXJuInBvaW50ZXJFdmVudHMiaW4gbi5zdHlsZT8obi5zdHlsZS5wb2ludGVyRXZlbnRzPSJhdXRvIixuLnN0eWxlLnBvaW50ZXJFdmVudHM9IngiLGEuYXBwZW5kQ2hpbGQobiksZT1vJiYiYXV0byI9PT1vKG4sIiIpLnBvaW50ZXJFdmVudHMsYS5yZW1vdmVDaGlsZChuKSwhIWUpOiExfWZ1bmN0aW9uIGQoKXt2YXIgZT1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9PW59ZnVuY3Rpb24gYygpe3ZhciBlPXQsaT1uYXZpZ2F0b3IudXNlckFnZW50LG49bmF2aWdhdG9yLnBsYXRmb3JtLGE9aS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksbz0hIWEmJmFbMV0scz1pLm1hdGNoKC9GZW5uZWNcLyhbMC05XSspLykscj0hIXMmJnNbMV0sbD1pLm1hdGNoKC9PcGVyYSBNb2JpXC8oWzAtOV0rKS8pLGQ9ISFsJiZsWzFdO3JldHVybihuLmluZGV4T2YoImlQaG9uZSIpPi0xfHxuLmluZGV4T2YoImlQYWQiKT4tMXx8bi5pbmRleE9mKCJpUG9kIik+LTEpJiZvJiY1MzQ+b3x8ZS5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChlLm9wZXJhbWluaSl8fGwmJjc0NTg+ZHx8aS5pbmRleE9mKCJBbmRyb2lkIik+LTEmJm8mJjUzMz5vfHxyJiY2PnJ8fCJwYWxtR2V0UmVzb3VyY2UiaW4gdCYmbyYmNTM0Pm98fGkuaW5kZXhPZigiTWVlR28iKT4tMSYmaS5pbmRleE9mKCJOb2tpYUJyb3dzZXIvOC41LjAiKT4tMT8hMTohMH12YXIgaD1lKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSx1PWhbMF0uc3R5bGUscD1bIldlYmtpdCIsIk1veiIsIk8iXSxtPSJwYWxtR2V0UmVzb3VyY2UiaW4gdCxmPXQub3BlcmEsZz10Lm9wZXJhbWluaSYmIltvYmplY3QgT3BlcmFNaW5pXSI9PT17fS50b1N0cmluZy5jYWxsKHQub3BlcmFtaW5pKSxiPXQuYmxhY2tiZXJyeSYmIWEoIi13ZWJraXQtdHJhbnNmb3JtIik7ZS5leHRlbmQoZS5tb2JpbGUse2Jyb3dzZXI6e319KSxlLm1vYmlsZS5icm93c2VyLm9sZElFPWZ1bmN0aW9uKCl7dmFyIGU9Myx0PWkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbj10LmFsbHx8W107ZG8gdC5pbm5lckhUTUw9IjwhLS1baWYgZ3QgSUUgIisgKytlKyJdPjxicj48IVtlbmRpZl0tLT4iO3doaWxlKG5bMF0pO3JldHVybiBlPjQ/ZTohZX0oKSxlLmV4dGVuZChlLnN1cHBvcnQse2Nzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gdHx8bygidHJhbnNpdGlvbiIsImhlaWdodCAxMDBtcyBsaW5lYXIiLFsiV2Via2l0IiwiTW96IiwiIl0pJiYhZS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmIWYscHVzaFN0YXRlOiJwdXNoU3RhdGUiaW4gaGlzdG9yeSYmInJlcGxhY2VTdGF0ZSJpbiBoaXN0b3J5JiYhKHQubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94Iik+PTAmJnQudG9wIT09dCkmJi0xPT09dC5uYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaCgvQ3JpT1MvKSxtZWRpYXF1ZXJ5OmUubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFhKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWEoIm92ZXJmbG93U2Nyb2xsaW5nIiksY3NzVHJhbnNmb3JtM2Q6cygpLGJveFNoYWRvdzohIWEoImJveFNoYWRvdyIpJiYhYixmaXhlZFBvc2l0aW9uOmMoKSxzY3JvbGxUb3A6KCJwYWdlWE9mZnNldCJpbiB0fHwic2Nyb2xsVG9wImluIGkuZG9jdW1lbnRFbGVtZW50fHwic2Nyb2xsVG9wImluIGhbMF0pJiYhbSYmIWcsZHluYW1pY0Jhc2VUYWc6cigpLGNzc1BvaW50ZXJFdmVudHM6bCgpLGJvdW5kaW5nUmVjdDpkKCl9KSxoLnJlbW92ZSgpO3ZhciB2PWZ1bmN0aW9uKCl7dmFyIGU9dC5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBlLmluZGV4T2YoIk5va2lhIik+LTEmJihlLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxlLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmUuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmZS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2UubW9iaWxlLmdyYWRlQT1mdW5jdGlvbigpe3JldHVybihlLnN1cHBvcnQubWVkaWFxdWVyeXx8ZS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmZS5tb2JpbGUuYnJvd3Nlci5vbGRJRT49NykmJihlLnN1cHBvcnQuYm91bmRpbmdSZWN0fHxudWxsIT09ZS5mbi5qcXVlcnkubWF0Y2goLzFcLlswLTcrXVwuWzAtOStdPy8pKX0sZS5tb2JpbGUuYWpheEJsYWNrbGlzdD10LmJsYWNrYmVycnkmJiF0LldlYktpdFBvaW50fHxnfHx2LHYmJmUoZnVuY3Rpb24oKXtlKCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iKS5hdHRyKCJyZWwiLCJhbHRlcm5hdGUgc3R5bGVzaGVldCIpLmF0dHIoInJlbCIsInN0eWxlc2hlZXQiKX0pLGUuc3VwcG9ydC5ib3hTaGFkb3d8fGUoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0oZSksZnVuY3Rpb24oZSx0KXt2YXIgaSxuPWUubW9iaWxlLndpbmRvdztlLmV2ZW50LnNwZWNpYWwubmF2aWdhdGU9aT17Ym91bmQ6ITEscHVzaFN0YXRlRW5hYmxlZDohMCxvcmlnaW5hbEV2ZW50TmFtZTp0LGlzUHVzaFN0YXRlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBlLnN1cHBvcnQucHVzaFN0YXRlJiZlLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkPT09ITAmJnRoaXMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpfSxpc0hhc2hDaGFuZ2VFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGUubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkPT09ITB9LHBvcHN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBlLkV2ZW50KCJuYXZpZ2F0ZSIpLGE9bmV3IGUuRXZlbnQoImJlZm9yZW5hdmlnYXRlIiksbz10Lm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9O2xvY2F0aW9uLmhyZWYsbi50cmlnZ2VyKGEpLGEuaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0Lmhpc3RvcnlTdGF0ZSYmZS5leHRlbmQobyx0Lmhpc3RvcnlTdGF0ZSksaS5vcmlnaW5hbEV2ZW50PXQsc2V0VGltZW91dChmdW5jdGlvbigpe24udHJpZ2dlcihpLHtzdGF0ZTpvfSl9LDApKX0saGFzaGNoYW5nZTpmdW5jdGlvbih0KXt2YXIgaT1uZXcgZS5FdmVudCgibmF2aWdhdGUiKSxhPW5ldyBlLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpO24udHJpZ2dlcihhKSxhLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoaS5vcmlnaW5hbEV2ZW50PXQsbi50cmlnZ2VyKGkse3N0YXRlOnQuaGFzaGNoYW5nZVN0YXRlfHx7fX0pKX0sc2V0dXA6ZnVuY3Rpb24oKXtpLmJvdW5kfHwoaS5ib3VuZD0hMCxpLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhpLm9yaWdpbmFsRXZlbnROYW1lPSJwb3BzdGF0ZSIsbi5iaW5kKCJwb3BzdGF0ZS5uYXZpZ2F0ZSIsaS5wb3BzdGF0ZSkpOmkuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYoaS5vcmlnaW5hbEV2ZW50TmFtZT0iaGFzaGNoYW5nZSIsbi5iaW5kKCJoYXNoY2hhbmdlLm5hdmlnYXRlIixpLmhhc2hjaGFuZ2UpKSl9fX0oZSksZnVuY3Rpb24oZSxpKXt2YXIgbixhLG89IiZ1aS1zdGF0ZT1kaWFsb2ciO2UubW9iaWxlLnBhdGg9bj17dWlTdGF0ZUtleToiJnVpLXN0YXRlIix1cmxQYXJzZVJFOi9eXHMqKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sZ2V0TG9jYXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9ZT90aGlzLnBhcnNlVXJsKGUpOmxvY2F0aW9uLGk9dGhpcy5wYXJzZVVybChlfHxsb2NhdGlvbi5ocmVmKS5oYXNoO3JldHVybiBpPSIjIj09PWk/IiI6aSx0LnByb3RvY29sKyIvLyIrdC5ob3N0K3QucGF0aG5hbWUrdC5zZWFyY2graX0scGFyc2VMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlVXJsKHRoaXMuZ2V0TG9jYXRpb24oKSl9LHBhcnNlVXJsOmZ1bmN0aW9uKHQpe2lmKCJvYmplY3QiPT09ZS50eXBlKHQpKXJldHVybiB0O3ZhciBpPW4udXJsUGFyc2VSRS5leGVjKHR8fCIiKXx8W107cmV0dXJue2hyZWY6aVswXXx8IiIsaHJlZk5vSGFzaDppWzFdfHwiIixocmVmTm9TZWFyY2g6aVsyXXx8IiIsZG9tYWluOmlbM118fCIiLHByb3RvY29sOmlbNF18fCIiLGRvdWJsZVNsYXNoOmlbNV18fCIiLGF1dGhvcml0eTppWzZdfHwiIix1c2VybmFtZTppWzhdfHwiIixwYXNzd29yZDppWzldfHwiIixob3N0OmlbMTBdfHwiIixob3N0bmFtZTppWzExXXx8IiIscG9ydDppWzEyXXx8IiIscGF0aG5hbWU6aVsxM118fCIiLGRpcmVjdG9yeTppWzE0XXx8IiIsZmlsZW5hbWU6aVsxNV18fCIiLHNlYXJjaDppWzE2XXx8IiIsaGFzaDppWzE3XXx8IiJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGUsdCl7aWYoZSYmIi8iPT09ZS5jaGFyQXQoMCkpcmV0dXJuIGU7ZT1lfHwiIix0PXQ/dC5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiO2Zvcih2YXIgaT10P3Quc3BsaXQoIi8iKTpbXSxuPWUuc3BsaXQoIi8iKSxhPTA7bi5sZW5ndGg+YTthKyspe3ZhciBvPW5bYV07c3dpdGNoKG8pe2Nhc2UiLiI6YnJlYWs7Y2FzZSIuLiI6aS5sZW5ndGgmJmkucG9wKCk7YnJlYWs7ZGVmYXVsdDppLnB1c2gobyl9fXJldHVybiIvIitpLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4ucGFyc2VVcmwoZSkuZG9tYWluPT09bi5wYXJzZVVybCh0KS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIiI9PT1uLnBhcnNlVXJsKGUpLnByb3RvY29sfSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGUpe3JldHVybiIiIT09bi5wYXJzZVVybChlKS5wcm90b2NvbH0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGUsdCl7aWYoIW4uaXNSZWxhdGl2ZVVybChlKSlyZXR1cm4gZTt0PT09aSYmKHQ9dGhpcy5kb2N1bWVudEJhc2UpO3ZhciBhPW4ucGFyc2VVcmwoZSksbz1uLnBhcnNlVXJsKHQpLHM9YS5wcm90b2NvbHx8by5wcm90b2NvbCxyPWEucHJvdG9jb2w/YS5kb3VibGVTbGFzaDphLmRvdWJsZVNsYXNofHxvLmRvdWJsZVNsYXNoLGw9YS5hdXRob3JpdHl8fG8uYXV0aG9yaXR5LGQ9IiIhPT1hLnBhdGhuYW1lLGM9bi5tYWtlUGF0aEFic29sdXRlKGEucGF0aG5hbWV8fG8uZmlsZW5hbWUsby5wYXRobmFtZSksaD1hLnNlYXJjaHx8IWQmJm8uc2VhcmNofHwiIix1PWEuaGFzaDtyZXR1cm4gcytyK2wrYytoK3V9LGFkZFNlYXJjaFBhcmFtczpmdW5jdGlvbih0LGkpe3ZhciBhPW4ucGFyc2VVcmwodCksbz0ib2JqZWN0Ij09dHlwZW9mIGk/ZS5wYXJhbShpKTppLHM9YS5zZWFyY2h8fCI/IjtyZXR1cm4gYS5ocmVmTm9TZWFyY2grcysoIj8iIT09cy5jaGFyQXQocy5sZW5ndGgtMSk/IiYiOiIiKStvKyhhLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihlKXt2YXIgaT1uLnBhcnNlVXJsKGUpO3JldHVybiBuLmlzRW1iZWRkZWRQYWdlKGkpP2kuaGFzaC5zcGxpdChvKVswXS5yZXBsYWNlKC9eIy8sIiIpLnJlcGxhY2UoL1w/LiokLywiIik6bi5pc1NhbWVEb21haW4oaSx0aGlzLmRvY3VtZW50QmFzZSk/aS5ocmVmTm9IYXNoLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCIiKS5zcGxpdChvKVswXTp0LmRlY29kZVVSSUNvbXBvbmVudChlKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09aSYmKGU9bi5wYXJzZUxvY2F0aW9uKCkuaGFzaCksbi5zdHJpcEhhc2goZSkucmVwbGFjZSgvW15cL10qXC5bXlwvKl0rJC8sIiIpfSxzZXQ6ZnVuY3Rpb24oZSl7bG9jYXRpb24uaGFzaD1lfSxpc1BhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuL1wvLy50ZXN0KGUpfSxjbGVhbjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eIy8sIiIpfSxzdHJpcFF1ZXJ5UGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1w/LiokLywiIil9LGNsZWFuSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gbi5zdHJpcEhhc2goZS5yZXBsYWNlKC9cPy4qJC8sIiIpLnJlcGxhY2UobywiIikpfSxpc0hhc2hWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4vXiNbXiNdKyQvLnRlc3QoZSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5wYXJzZVVybChlKTtyZXR1cm4gdC5wcm90b2NvbCYmdC5kb21haW4hPT10aGlzLmRvY3VtZW50VXJsLmRvbWFpbj8hMDohMX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oZSl7cmV0dXJuL14oOj9cdys6KS8udGVzdChlKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9bi5wYXJzZVVybChlKTtyZXR1cm4iIiE9PXQucHJvdG9jb2w/IXRoaXMuaXNQYXRoKHQuaGFzaCkmJnQuaGFzaCYmKHQuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZ0LmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoKTovXiMvLnRlc3QodC5ocmVmKX0sc3F1YXNoOmZ1bmN0aW9uKGUsdCl7dmFyIGksYSxvLHMscj10aGlzLmlzUGF0aChlKSxsPXRoaXMucGFyc2VVcmwoZSksZD1sLmhhc2gsYz0iIjtyZXR1cm4gdD10fHwobi5pc1BhdGgoZSk/bi5nZXRMb2NhdGlvbigpOm4uZ2V0RG9jdW1lbnRVcmwoKSksYT1yP24uc3RyaXBIYXNoKGUpOmUsYT1uLmlzUGF0aChsLmhhc2gpP24uc3RyaXBIYXNoKGwuaGFzaCk6YSxzPWEuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpLHM+LTEmJihjPWEuc2xpY2UocyksYT1hLnNsaWNlKDAscykpLGk9bi5tYWtlVXJsQWJzb2x1dGUoYSx0KSxvPXRoaXMucGFyc2VVcmwoaSkuc2VhcmNoLHI/KChuLmlzUGF0aChkKXx8MD09PWQucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSkmJihkPSIiKSxjJiYtMT09PWQuaW5kZXhPZih0aGlzLnVpU3RhdGVLZXkpJiYoZCs9YyksLTE9PT1kLmluZGV4T2YoIiMiKSYmIiIhPT1kJiYoZD0iIyIrZCksaT1uLnBhcnNlVXJsKGkpLGk9aS5wcm90b2NvbCsiLy8iK2kuaG9zdCtpLnBhdGhuYW1lK28rZCk6aSs9aS5pbmRleE9mKCIjIik+LTE/YzoiIyIrYyxpfSxpc1ByZXNlcnZhYmxlSGFzaDpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUucmVwbGFjZSgiIyIsIiIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KX19LG4uZG9jdW1lbnRVcmw9bi5wYXJzZUxvY2F0aW9uKCksYT1lKCJoZWFkIikuZmluZCgiYmFzZSIpLG4uZG9jdW1lbnRCYXNlPWEubGVuZ3RoP24ucGFyc2VVcmwobi5tYWtlVXJsQWJzb2x1dGUoYS5hdHRyKCJocmVmIiksbi5kb2N1bWVudFVybC5ocmVmKSk6bi5kb2N1bWVudFVybCxuLmRvY3VtZW50QmFzZURpZmZlcnM9bi5kb2N1bWVudFVybC5ocmVmTm9IYXNoIT09bi5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCxuLmdldERvY3VtZW50VXJsPWZ1bmN0aW9uKHQpe3JldHVybiB0P2UuZXh0ZW5kKHt9LG4uZG9jdW1lbnRVcmwpOm4uZG9jdW1lbnRVcmwuaHJlZn0sbi5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ZS5leHRlbmQoe30sbi5kb2N1bWVudEJhc2UpOm4uZG9jdW1lbnRCYXNlLmhyZWZ9fShlKSxmdW5jdGlvbihlLHQpe2UubW9iaWxlLnBhdGgsZS5tb2JpbGUuSGlzdG9yeT1mdW5jdGlvbihlLHQpe3RoaXMuc3RhY2s9ZXx8W10sdGhpcy5hY3RpdmVJbmRleD10fHwwfSxlLmV4dGVuZChlLm1vYmlsZS5IaXN0b3J5LnByb3RvdHlwZSx7Z2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleF19LGdldExhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnByZXZpb3VzSW5kZXhdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleCsxXX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgtMV19LGFkZDpmdW5jdGlvbihlLHQpe3Q9dHx8e30sdGhpcy5nZXROZXh0KCkmJnRoaXMuY2xlYXJGb3J3YXJkKCksdC5oYXNoJiYtMT09PXQuaGFzaC5pbmRleE9mKCIjIikmJih0Lmhhc2g9IiMiK3QuaGFzaCksdC51cmw9ZSx0aGlzLnN0YWNrLnB1c2godCksdGhpcy5hY3RpdmVJbmRleD10aGlzLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXt0aGlzLnN0YWNrPXRoaXMuc3RhY2suc2xpY2UoMCx0aGlzLmFjdGl2ZUluZGV4KzEpfSxmaW5kOmZ1bmN0aW9uKGUsdCxpKXt0PXR8fHRoaXMuc3RhY2s7dmFyIG4sYSxvLHM9dC5sZW5ndGg7Zm9yKGE9MDtzPmE7YSsrKWlmKG49dFthXSwoZGVjb2RlVVJJQ29tcG9uZW50KGUpPT09ZGVjb2RlVVJJQ29tcG9uZW50KG4udXJsKXx8ZGVjb2RlVVJJQ29tcG9uZW50KGUpPT09ZGVjb2RlVVJJQ29tcG9uZW50KG4uaGFzaCkpJiYobz1hLGkpKXJldHVybiBvO3JldHVybiBvfSxjbG9zZXN0OmZ1bmN0aW9uKGUpe3ZhciBpLG49dGhpcy5hY3RpdmVJbmRleDtyZXR1cm4gaT10aGlzLmZpbmQoZSx0aGlzLnN0YWNrLnNsaWNlKDAsbikpLGk9PT10JiYoaT10aGlzLmZpbmQoZSx0aGlzLnN0YWNrLnNsaWNlKG4pLCEwKSxpPWk9PT10P2k6aStuKSxpfSxkaXJlY3Q6ZnVuY3Rpb24oaSl7dmFyIG49dGhpcy5jbG9zZXN0KGkudXJsKSxhPXRoaXMuYWN0aXZlSW5kZXg7biE9PXQmJih0aGlzLmFjdGl2ZUluZGV4PW4sdGhpcy5wcmV2aW91c0luZGV4PWEpLGE+bj8oaS5wcmVzZW50fHxpLmJhY2t8fGUubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiYmFjayIpOm4+YT8oaS5wcmVzZW50fHxpLmZvcndhcmR8fGUubm9vcCkodGhpcy5nZXRBY3RpdmUoKSwiZm9yd2FyZCIpOm49PT10JiZpLm1pc3NpbmcmJmkubWlzc2luZyh0aGlzLmdldEFjdGl2ZSgpKX19KX0oZSksZnVuY3Rpb24oZSl7dmFyIGE9ZS5tb2JpbGUucGF0aCxvPWxvY2F0aW9uLmhyZWY7ZS5tb2JpbGUuTmF2aWdhdG9yPWZ1bmN0aW9uKHQpe3RoaXMuaGlzdG9yeT10LHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITAsZS5tb2JpbGUud2luZG93LmJpbmQoeyJwb3BzdGF0ZS5oaXN0b3J5IjplLnByb3h5KHRoaXMucG9wc3RhdGUsdGhpcyksImhhc2hjaGFuZ2UuaGlzdG9yeSI6ZS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sZS5leHRlbmQoZS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7c3F1YXNoOmZ1bmN0aW9uKG4sbyl7dmFyIHMscixsPWEuaXNQYXRoKG4pP2Euc3RyaXBIYXNoKG4pOm47cmV0dXJuIHI9YS5zcXVhc2gobikscz1lLmV4dGVuZCh7aGFzaDpsLHVybDpyfSxvKSx0Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHMscy50aXRsZXx8aS50aXRsZSxyKSxzfSxoYXNoOmZ1bmN0aW9uKGUsdCl7dmFyIGksbixvO2lmKGk9YS5wYXJzZVVybChlKSxuPWEucGFyc2VMb2NhdGlvbigpLG4ucGF0aG5hbWUrbi5zZWFyY2g9PT1pLnBhdGhuYW1lK2kuc2VhcmNoKW89aS5oYXNoP2kuaGFzaDppLnBhdGhuYW1lK2kuc2VhcmNoO2Vsc2UgaWYoYS5pc1BhdGgoZSkpe3ZhciBzPWEucGFyc2VVcmwodCk7bz1zLnBhdGhuYW1lK3Muc2VhcmNoKyhhLmlzUHJlc2VydmFibGVIYXNoKHMuaGFzaCk/cy5oYXNoLnJlcGxhY2UoIiMiLCIiKToiIil9ZWxzZSBvPWU7cmV0dXJuIG99LGdvOmZ1bmN0aW9uKG4sbyxzKXt2YXIgcixsLGQsYyxoPWUuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKTtsPWEuc3F1YXNoKG4pLGQ9dGhpcy5oYXNoKG4sbCkscyYmZCE9PWEuc3RyaXBIYXNoKGEucGFyc2VMb2NhdGlvbigpLmhhc2gpJiYodGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9cyksdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSEwLHQubG9jYXRpb24uaGFzaD1kLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSxyPWUuZXh0ZW5kKHt1cmw6bCxoYXNoOmQsdGl0bGU6aS50aXRsZX0sbyksaCYmKGM9bmV3IGUuRXZlbnQoInBvcHN0YXRlIiksYy5vcmlnaW5hbEV2ZW50PXt0eXBlOiJwb3BzdGF0ZSIsc3RhdGU6bnVsbH0sdGhpcy5zcXVhc2gobixyKSxzfHwodGhpcy5pZ25vcmVQb3BTdGF0ZT0hMCxlLm1vYmlsZS53aW5kb3cudHJpZ2dlcihjKSkpLHRoaXMuaGlzdG9yeS5hZGQoci51cmwscil9LHBvcHN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBpLHM7aWYoZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSx0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4pOnRoaXMuaWdub3JlUG9wU3RhdGU/KHRoaXMuaWdub3JlUG9wU3RhdGU9ITEsbik6IXQub3JpZ2luYWxFdmVudC5zdGF0ZSYmMT09PXRoaXMuaGlzdG9yeS5zdGFjay5sZW5ndGgmJnRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2UmJih0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlPSExLGxvY2F0aW9uLmhyZWY9PT1vKT8odC5wcmV2ZW50RGVmYXVsdCgpLG4pOihpPWEucGFyc2VMb2NhdGlvbigpLmhhc2gsIXQub3JpZ2luYWxFdmVudC5zdGF0ZSYmaT8ocz10aGlzLnNxdWFzaChpKSx0aGlzLmhpc3RvcnkuYWRkKHMudXJsLHMpLHQuaGlzdG9yeVN0YXRlPXMsbik6KHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDoodC5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fSkudXJsfHxpLHByZXNlbnQ6ZnVuY3Rpb24oaSxuKXt0Lmhpc3RvcnlTdGF0ZT1lLmV4dGVuZCh7fSxpKSx0Lmhpc3RvcnlTdGF0ZS5kaXJlY3Rpb249bn19KSxuKSl9LGhhc2hjaGFuZ2U6ZnVuY3Rpb24odCl7dmFyIG8scztpZihlLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYhZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXtpZih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZSlyZXR1cm4gdGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2U9ITEsdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxuO289dGhpcy5oaXN0b3J5LHM9YS5wYXJzZUxvY2F0aW9uKCkuaGFzaCx0aGlzLmhpc3RvcnkuZGlyZWN0KHt1cmw6cyxwcmVzZW50OmZ1bmN0aW9uKGksbil7dC5oYXNoY2hhbmdlU3RhdGU9ZS5leHRlbmQoe30saSksdC5oYXNoY2hhbmdlU3RhdGUuZGlyZWN0aW9uPW59LG1pc3Npbmc6ZnVuY3Rpb24oKXtvLmFkZChzLHtoYXNoOnMsdGl0bGU6aS50aXRsZX0pfX0pfX19KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUubmF2aWdhdGU9ZnVuY3Rpb24odCxpLG4pe2UubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvci5nbyh0LGksbil9LGUubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk9bmV3IGUubW9iaWxlLkhpc3RvcnksZS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yPW5ldyBlLm1vYmlsZS5OYXZpZ2F0b3IoZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSk7dmFyIHQ9ZS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCk7ZS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQodC5ocmVmLHtoYXNoOnQuaGFzaH0pfShlKSxmdW5jdGlvbihlLHQsaSxuKXtmdW5jdGlvbiBhKGUpe2Zvcig7ZSYmZS5vcmlnaW5hbEV2ZW50IT09bjspZT1lLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGV9ZnVuY3Rpb24gbyh0LGkpe3ZhciBvLHMscixsLGQsYyxoLHUscCxtPXQudHlwZTtpZih0PWUuRXZlbnQodCksdC50eXBlPWksbz10Lm9yaWdpbmFsRXZlbnQscz1lLmV2ZW50LnByb3BzLG0uc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYocz1xKSxvKWZvcihoPXMubGVuZ3RoLGw7aDspbD1zWy0taF0sdFtsXT1vW2xdO2lmKG0uc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhdC53aGljaCYmKHQud2hpY2g9MSksLTEhPT1tLnNlYXJjaCgvXnRvdWNoLykmJihyPWEobyksbT1yLnRvdWNoZXMsZD1yLmNoYW5nZWRUb3VjaGVzLGM9bSYmbS5sZW5ndGg/bVswXTpkJiZkLmxlbmd0aD9kWzBdOm4pKWZvcih1PTAscD1rLmxlbmd0aDtwPnU7dSsrKWw9a1t1XSx0W2xdPWNbbF07cmV0dXJuIHR9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGksbixhPXt9O3Q7KXtpPWUuZGF0YSh0LFQpO2ZvcihuIGluIGkpaVtuXSYmKGFbbl09YS5oYXNWaXJ0dWFsQmluZGluZz0hMCk7dD10LnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gcih0LGkpe2Zvcih2YXIgbjt0Oyl7aWYobj1lLmRhdGEodCxUKSxuJiYoIWl8fG5baV0pKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIGwoKXtNPSExfWZ1bmN0aW9uIGQoKXtNPSEwfWZ1bmN0aW9uIGMoKXtVPTAsTy5sZW5ndGg9MCxIPSExLGQoKX1mdW5jdGlvbiBoKCl7bCgpfWZ1bmN0aW9uIHUoKXtwKCksUz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Uz0wLGMoKX0sZS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1mdW5jdGlvbiBwKCl7UyYmKGNsZWFyVGltZW91dChTKSxTPTApfWZ1bmN0aW9uIG0odCxpLG4pe3ZhciBhO3JldHVybihuJiZuW3RdfHwhbiYmcihpLnRhcmdldCx0KSkmJihhPW8oaSx0KSxlKGkudGFyZ2V0KS50cmlnZ2VyKGEpKSxhfWZ1bmN0aW9uIGYodCl7dmFyIGk9ZS5kYXRhKHQudGFyZ2V0LEQpO2lmKCEoSHx8VSYmVT09PWkpKXt2YXIgbj1tKCJ2Iit0LnR5cGUsdCk7biYmKG4uaXNEZWZhdWx0UHJldmVudGVkKCkmJnQucHJldmVudERlZmF1bHQoKSxuLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJnQuc3RvcFByb3BhZ2F0aW9uKCksbi5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpJiZ0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19ZnVuY3Rpb24gZyh0KXt2YXIgaSxuLG89YSh0KS50b3VjaGVzO2lmKG8mJjE9PT1vLmxlbmd0aCYmKGk9dC50YXJnZXQsbj1zKGkpLG4uaGFzVmlydHVhbEJpbmRpbmcpKXtVPUwrKyxlLmRhdGEoaSxELFUpLHAoKSxoKCksST0hMTt2YXIgcj1hKHQpLnRvdWNoZXNbMF07QT1yLnBhZ2VYLE49ci5wYWdlWSxtKCJ2bW91c2VvdmVyIix0LG4pLG0oInZtb3VzZWRvd24iLHQsbil9fWZ1bmN0aW9uIGIoZSl7TXx8KEl8fG0oInZtb3VzZWNhbmNlbCIsZSxzKGUudGFyZ2V0KSksST0hMCx1KCkpfWZ1bmN0aW9uIHYodCl7aWYoIU0pe3ZhciBpPWEodCkudG91Y2hlc1swXSxuPUksbz1lLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQscj1zKHQudGFyZ2V0KTtJPUl8fE1hdGguYWJzKGkucGFnZVgtQSk+b3x8TWF0aC5hYnMoaS5wYWdlWS1OKT5vLEkmJiFuJiZtKCJ2bW91c2VjYW5jZWwiLHQsciksbSgidm1vdXNlbW92ZSIsdCxyKSx1KCl9fWZ1bmN0aW9uIF8oZSl7aWYoIU0pe2QoKTt2YXIgdCxpPXMoZS50YXJnZXQpO2lmKG0oInZtb3VzZXVwIixlLGkpLCFJKXt2YXIgbj1tKCJ2Y2xpY2siLGUsaSk7biYmbi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9YShlKS5jaGFuZ2VkVG91Y2hlc1swXSxPLnB1c2goe3RvdWNoSUQ6VSx4OnQuY2xpZW50WCx5OnQuY2xpZW50WX0pLEg9ITApfW0oInZtb3VzZW91dCIsZSxpKSxJPSExLHUoKX19ZnVuY3Rpb24gQyh0KXt2YXIgaSxuPWUuZGF0YSh0LFQpO2lmKG4pZm9yKGkgaW4gbilpZihuW2ldKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHgoKXt9ZnVuY3Rpb24geSh0KXt2YXIgaT10LnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXtDKHRoaXMpfHxlLmRhdGEodGhpcyxULHt9KTt2YXIgbj1lLmRhdGEodGhpcyxUKTtuW3RdPSEwLGpbdF09KGpbdF18fDApKzEsMT09PWpbdF0mJkIuYmluZChpLGYpLGUodGhpcykuYmluZChpLHgpLEYmJihqLnRvdWNoc3RhcnQ9KGoudG91Y2hzdGFydHx8MCkrMSwxPT09ai50b3VjaHN0YXJ0JiZCLmJpbmQoInRvdWNoc3RhcnQiLGcpLmJpbmQoInRvdWNoZW5kIixfKS5iaW5kKCJ0b3VjaG1vdmUiLHYpLmJpbmQoInNjcm9sbCIsYikpfSx0ZWFyZG93bjpmdW5jdGlvbigpey0talt0XSxqW3RdfHxCLnVuYmluZChpLGYpLEYmJigtLWoudG91Y2hzdGFydCxqLnRvdWNoc3RhcnR8fEIudW5iaW5kKCJ0b3VjaHN0YXJ0IixnKS51bmJpbmQoInRvdWNobW92ZSIsdikudW5iaW5kKCJ0b3VjaGVuZCIsXykudW5iaW5kKCJzY3JvbGwiLGIpKTt2YXIgbj1lKHRoaXMpLGE9ZS5kYXRhKHRoaXMsVCk7YSYmKGFbdF09ITEpLG4udW5iaW5kKGkseCksQyh0aGlzKXx8bi5yZW1vdmVEYXRhKFQpfX19dmFyIHcsVD0idmlydHVhbE1vdXNlQmluZGluZ3MiLEQ9InZpcnR1YWxUb3VjaElEIixQPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSxrPSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLEU9ZS5ldmVudC5tb3VzZUhvb2tzP2UuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxxPWUuZXZlbnQucHJvcHMuY29uY2F0KEUpLGo9e30sUz0wLEE9MCxOPTAsST0hMSxPPVtdLEg9ITEsTT0hMSxGPSJhZGRFdmVudExpc3RlbmVyImluIGksQj1lKGkpLEw9MSxVPTA7ZS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIHo9MDtQLmxlbmd0aD56O3orKyllLmV2ZW50LnNwZWNpYWxbUFt6XV09eShQW3pdKTtGJiZpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbih0KXt2YXIgaSxhLG8scyxyLGwsZD1PLmxlbmd0aCxjPXQudGFyZ2V0O2lmKGQpZm9yKGk9dC5jbGllbnRYLGE9dC5jbGllbnRZLHc9ZS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZCxvPWM7bzspe2ZvcihzPTA7ZD5zO3MrKylpZihyPU9bc10sbD0wLG89PT1jJiZ3Pk1hdGguYWJzKHIueC1pKSYmdz5NYXRoLmFicyhyLnktYSl8fGUuZGF0YShvLEQpPT09ci50b3VjaElEKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxuO289by5wYXJlbnROb2RlfX0sITApfShlLHQsaSksZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGEodCxpLG4pe3ZhciBhPW4udHlwZTtuLnR5cGU9aSxlLmV2ZW50LmRpc3BhdGNoLmNhbGwodCxuKSxuLnR5cGU9YX12YXIgbz1lKGkpO2UuZWFjaCgidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbih0LGkpe2UuZm5baV09ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKGksZSk6dGhpcy50cmlnZ2VyKGkpfSxlLmF0dHJGbiYmKGUuYXR0ckZuW2ldPSEwKX0pO3ZhciBzPWUubW9iaWxlLnN1cHBvcnQudG91Y2gscj0idG91Y2htb3ZlIHNjcm9sbCIsbD1zPyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixkPXM/InRvdWNoZW5kIjoibW91c2V1cCIsYz1zPyJ0b3VjaG1vdmUiOiJtb3VzZW1vdmUiO2UuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydD17ZW5hYmxlZDohMCxzZXR1cDpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSx0KXtpPXQsYShvLGk/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsZSl9dmFyIGksbixvPXRoaXMscz1lKG8pO3MuYmluZChyLGZ1bmN0aW9uKGEpe2UuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoaXx8dChhLCEwKSxjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChhLCExKX0sNTApKX0pfX0sZS5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9ZSh0KTtpLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHMoKXtjbGVhclRpbWVvdXQoZCl9ZnVuY3Rpb24gcigpe3MoKSxpLnVuYmluZCgidmNsaWNrIixsKS51bmJpbmQoInZtb3VzZXVwIixzKSxvLnVuYmluZCgidm1vdXNlY2FuY2VsIixyKX1mdW5jdGlvbiBsKGUpe3IoKSxjPT09ZS50YXJnZXQmJmEodCwidGFwIixlKX1pZihuLndoaWNoJiYxIT09bi53aGljaClyZXR1cm4hMTt2YXIgZCxjPW4udGFyZ2V0O24ub3JpZ2luYWxFdmVudCxpLmJpbmQoInZtb3VzZXVwIixzKS5iaW5kKCJ2Y2xpY2siLGwpLG8uYmluZCgidm1vdXNlY2FuY2VsIixyKSxkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKHQsInRhcGhvbGQiLGUuRXZlbnQoInRhcGhvbGQiLHt0YXJnZXQ6Y30pKQp9LGUuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX19LGUuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDozMCxkdXJhdGlvblRocmVzaG9sZDoxZTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/dC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06dDtyZXR1cm57dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2kucGFnZVgsaS5wYWdlWV0sb3JpZ2luOmUodC50YXJnZXQpfX0sc3RvcDpmdW5jdGlvbihlKXt2YXIgdD1lLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9lLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTplO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbdC5wYWdlWCx0LnBhZ2VZXX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKHQsaSl7aS50aW1lLXQudGltZTxlLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKHQuY29vcmRzWzBdLWkuY29vcmRzWzBdKT5lLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyh0LmNvb3Jkc1sxXS1pLmNvb3Jkc1sxXSk8ZS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJnQub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcih0LmNvb3Jkc1swXT5pLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpfSxzZXR1cDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT1lKHQpO2kuYmluZChsLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGEodCl7cyYmKG89ZS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0b3AodCksTWF0aC5hYnMocy5jb29yZHNbMF0tby5jb29yZHNbMF0pPmUuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZ0LnByZXZlbnREZWZhdWx0KCkpfXZhciBvLHM9ZS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KHQpO2kuYmluZChjLGEpLm9uZShkLGZ1bmN0aW9uKCl7aS51bmJpbmQoYyxhKSxzJiZvJiZlLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUocyxvKSxzPW89bn0pfSl9fSxlLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24odCxpKXtlLmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7ZSh0aGlzKS5iaW5kKGksZS5ub29wKX19fSl9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXtlKHRoaXMpLmJpbmQoInJlc2l6ZSIsbyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7ZSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsbyl9fTt2YXIgdCxpLG4sYT0yNTAsbz1mdW5jdGlvbigpe2k9KG5ldyBEYXRlKS5nZXRUaW1lKCksbj1pLXMsbj49YT8ocz1pLGUodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOih0JiZjbGVhclRpbWVvdXQodCksdD1zZXRUaW1lb3V0KG8sYS1uKSl9LHM9MH0oZSksZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBhKCl7dmFyIGU9bygpO2UhPT1zJiYocz1lLGQudHJpZ2dlcihjKSl9dmFyIG8scyxyLGwsZD1lKHQpLGM9Im9yaWVudGF0aW9uY2hhbmdlIixoPXswOiEwLDE4MDohMH07aWYoZS5zdXBwb3J0Lm9yaWVudGF0aW9uKXt2YXIgdT10LmlubmVyV2lkdGh8fGQud2lkdGgoKSxwPXQuaW5uZXJIZWlnaHR8fGQuaGVpZ2h0KCksbT01MDtyPXU+cCYmdS1wPm0sbD1oW3Qub3JpZW50YXRpb25dLChyJiZsfHwhciYmIWwpJiYoaD17Ii05MCI6ITAsOTA6ITB9KX1lLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2U9ZS5leHRlbmQoe30sZS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBlLnN1cHBvcnQub3JpZW50YXRpb24mJiFlLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UuZGlzYWJsZWQ/ITE6KHM9bygpLGQuYmluZCgidGhyb3R0bGVkcmVzaXplIixhKSxuKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gZS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhZS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOihkLnVuYmluZCgidGhyb3R0bGVkcmVzaXplIixhKSxuKX0sYWRkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuaGFuZGxlcjtlLmhhbmRsZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUub3JpZW50YXRpb249bygpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KSxlLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb249bz1mdW5jdGlvbigpe3ZhciBuPSEwLGE9aS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIG49ZS5zdXBwb3J0Lm9yaWVudGF0aW9uP2hbdC5vcmllbnRhdGlvbl06YSYmMS4xPmEuY2xpZW50V2lkdGgvYS5jbGllbnRIZWlnaHQsbj8icG9ydHJhaXQiOiJsYW5kc2NhcGUifSxlLmZuW2NdPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChjLGUpOnRoaXMudHJpZ2dlcihjKX0sZS5hdHRyRm4mJihlLmF0dHJGbltjXT0hMCl9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5wYWdlIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixkb21DYWNoZTohMSxrZWVwTmF0aXZlRGVmYXVsdDoiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImJlZm9yZWNyZWF0ZSIpPT09ITE/ITE6KHRoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKS5hZGRDbGFzcygidWktcGFnZSB1aS1ib2R5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse3BhZ2ViZWZvcmVoaWRlOiJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIixwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93In0pLG4pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQoKX0scmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbigpe2UubW9iaWxlLnBhZ2VDb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLW92ZXJsYXktIitlLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQucGFyZW50KCkpKX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnMudGhlbWUmJmUubW9iaWxlLnBhZ2VDb250YWluZXIuYWRkQ2xhc3MoInVpLW92ZXJsYXktIisodHx8dGhpcy5vcHRpb25zLnRoZW1lKSl9LGtlZXBOYXRpdmVTZWxlY3RvcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucyxpPXQua2VlcE5hdGl2ZSYmZS50cmltKHQua2VlcE5hdGl2ZSk7cmV0dXJuIGkmJnQua2VlcE5hdGl2ZSE9PXQua2VlcE5hdGl2ZURlZmF1bHQ/W3Qua2VlcE5hdGl2ZSx0LmtlZXBOYXRpdmVEZWZhdWx0XS5qb2luKCIsICIpOnQua2VlcE5hdGl2ZURlZmF1bHR9fSl9KGUpLGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1mdW5jdGlvbihuKXtyZXR1cm4gbj09PWkmJihuPSEwKSxmdW5jdGlvbihpLGEsbyxzKXt2YXIgcj1uZXcgZS5EZWZlcnJlZCxsPWE/IiByZXZlcnNlIjoiIixkPWUubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCksYz1kLmxhc3RTY3JvbGx8fGUubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGg9ZS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksdT1lLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGghPT0hMSYmZS5tb2JpbGUud2luZG93LndpZHRoKCk+ZS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLHA9IWUuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8dXx8IWl8fCJub25lIj09PWl8fE1hdGgubWF4KGUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSxjKT5lLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uKCksbT0iIHVpLXBhZ2UtcHJlLWluIixmPWZ1bmN0aW9uKCl7ZS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIitpKX0sZz1mdW5jdGlvbigpe2UuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExLHQuc2Nyb2xsVG8oMCxjKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LGI9ZnVuY3Rpb24oKXtzLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIG91dCBpbiByZXZlcnNlICIraSkuaGVpZ2h0KCIiKX0sdj1mdW5jdGlvbigpe24/cy5hbmltYXRpb25Db21wbGV0ZShfKTpfKCkscy5oZWlnaHQoaCtlLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKGkrIiBvdXQiK2wpfSxfPWZ1bmN0aW9uKCl7cyYmbiYmYigpLEMoKX0sQz1mdW5jdGlvbigpe28uY3NzKCJ6LWluZGV4IiwtMTApLG8uYWRkQ2xhc3MoZS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK20pLGUubW9iaWxlLmZvY3VzUGFnZShvKSxvLmhlaWdodChoK2MpLGcoKSxvLmNzcygiei1pbmRleCIsIiIpLHB8fG8uYW5pbWF0aW9uQ29tcGxldGUoeCksby5yZW1vdmVDbGFzcyhtKS5hZGRDbGFzcyhpKyIgaW4iK2wpLHAmJngoKX0seD1mdW5jdGlvbigpe258fHMmJmIoKSxvLnJlbW92ZUNsYXNzKCJvdXQgaW4gcmV2ZXJzZSAiK2kpLmhlaWdodCgiIiksZigpLGUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSE9PWMmJmcoKSxyLnJlc29sdmUoaSxhLG8scywhMCl9O3JldHVybiBmKCkscyYmIXA/digpOl8oKSxyLnByb21pc2UoKX19LGE9bigpLG89bighMSkscz1mdW5jdGlvbigpe3JldHVybiAzKmUubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpfTtlLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9YSxlLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9eyJkZWZhdWx0IjplLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsc2VxdWVudGlhbDphLHNpbXVsdGFuZW91czpvfSxlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzPXt9LGUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYhZS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW3RdJiYodD1lLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzW3RdKSx0fSxlLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uPWUubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb258fHN9KGUsdGhpcyksZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBhKHQpeyFmfHxmLmNsb3Nlc3QoIi4iK2UubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykubGVuZ3RoJiYhdHx8Zi5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksZj1udWxsfWZ1bmN0aW9uIG8oKXtfPSExLHYubGVuZ3RoPjAmJmUubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCx2LnBvcCgpKX1mdW5jdGlvbiBzKHQsaSxuLGEpe2kmJmkuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiYmVmb3JlaGlkZSIsbnVsbCx7bmV4dFBhZ2U6dH0pLHQuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiYmVmb3Jlc2hvdyIsbnVsbCx7cHJldlBhZ2U6aXx8ZSgiIil9KSxlLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxuPWUubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKG4pO3ZhciBvPWUubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tufHwiZGVmYXVsdCJdfHxlLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIscz1vKG4sYSx0LGkpO3JldHVybiBzLmRvbmUoZnVuY3Rpb24oKXtpJiZpLmRhdGEoIm1vYmlsZS1wYWdlIikuX3RyaWdnZXIoImhpZGUiLG51bGwse25leHRQYWdlOnR9KSx0LmRhdGEoIm1vYmlsZS1wYWdlIikuX3RyaWdnZXIoInNob3ciLG51bGwse3ByZXZQYWdlOml8fGUoIiIpfSl9KSxzfWZ1bmN0aW9uIHIodCxpKXtpJiZ0LmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysicm9sZSIsaSksdC5wYWdlKCl9ZnVuY3Rpb24gbCgpe3ZhciB0PWUubW9iaWxlLmFjdGl2ZVBhZ2UmJmMoZS5tb2JpbGUuYWN0aXZlUGFnZSk7cmV0dXJuIHR8fHcuaHJlZk5vSGFzaH1mdW5jdGlvbiBkKGUpe2Zvcig7ZSYmKCJzdHJpbmciIT10eXBlb2YgZS5ub2RlTmFtZXx8ImEiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGV9ZnVuY3Rpb24gYyh0KXt2YXIgaT1lKHQpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksbj13LmhyZWZOb0hhc2g7cmV0dXJuIGkmJnAuaXNQYXRoKGkpfHwoaT1uKSxwLm1ha2VVcmxBYnNvbHV0ZShpLG4pfXZhciBoPWUubW9iaWxlLndpbmRvdyx1PShlKCJodG1sIiksZSgiaGVhZCIpKSxwPWUuZXh0ZW5kKGUubW9iaWxlLnBhdGgse2dldEZpbGVQYXRoOmZ1bmN0aW9uKHQpe3ZhciBpPSImIitlLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiB0JiZ0LnNwbGl0KGkpWzBdLnNwbGl0KEMpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbih0KXt2YXIgaT1wLnBhcnNlVXJsKHAubWFrZVVybEFic29sdXRlKHQsdGhpcy5kb2N1bWVudEJhc2UpKSxhPWkuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZpLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLG89ZS5tb2JpbGUuZmlyc3RQYWdlLHM9byYmb1swXT9vWzBdLmlkOm47cmV0dXJuIGEmJighaS5oYXNofHwiIyI9PT1pLmhhc2h8fHMmJmkuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09cyl9LGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OmZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmImZpbGU6Ij09PXQucHJvdG9jb2wmJi0xIT09aS5zZWFyY2goL15odHRwcz86Lyl9fSksbT1udWxsLGY9bnVsbCxnPWUuRGVmZXJyZWQoKSxiPWUubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnksdj1bXSxfPSExLEM9IiZ1aS1zdGF0ZT1kaWFsb2ciLHg9dS5jaGlsZHJlbigiYmFzZSIpLHk9cC5kb2N1bWVudFVybCx3PXAuZG9jdW1lbnRCYXNlLFQ9KHAuZG9jdW1lbnRCYXNlRGlmZmVycyxlLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQpLEQ9ZS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OngubGVuZ3RoP3g6ZSgiPGJhc2U+Iix7aHJlZjp3LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8odSksc2V0OmZ1bmN0aW9uKGUpe2U9cC5wYXJzZVVybChlKS5ocmVmTm9IYXNoLEQuZWxlbWVudC5hdHRyKCJocmVmIixwLm1ha2VVcmxBYnNvbHV0ZShlLHcpKX0scmVzZXQ6ZnVuY3Rpb24oKXtELmVsZW1lbnQuYXR0cigiaHJlZiIsdy5ocmVmTm9TZWFyY2gpfX06bjtlLm1vYmlsZS5nZXREb2N1bWVudFVybD1wLmdldERvY3VtZW50VXJsLGUubW9iaWxlLmdldERvY3VtZW50QmFzZT1wLmdldERvY3VtZW50QmFzZSxlLm1vYmlsZS5iYWNrPWZ1bmN0aW9uKCl7dmFyIGU9dC5uYXZpZ2F0b3I7dGhpcy5waG9uZWdhcE5hdmlnYXRpb25FbmFibGVkJiZlJiZlLmFwcCYmZS5hcHAuYmFja0hpc3Rvcnk/ZS5hcHAuYmFja0hpc3RvcnkoKTp0Lmhpc3RvcnkuYmFjaygpfSxlLm1vYmlsZS5mb2N1c1BhZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maW5kKCJbYXV0b2ZvY3VzXSIpLGk9ZS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKTtyZXR1cm4gdC5sZW5ndGg/KHQuZm9jdXMoKSxuKTooaS5sZW5ndGg/aS5mb2N1cygpOmUuZm9jdXMoKSxuKX07dmFyIFAsayxFPSEwO1A9ZnVuY3Rpb24oKXtpZihFKXt2YXIgdD1lLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2lmKHQpe3ZhciBpPWguc2Nyb2xsVG9wKCk7dC5sYXN0U2Nyb2xsPWUubW9iaWxlLm1pblNjcm9sbEJhY2s+aT9lLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDppfX19LGs9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KFAsMTAwKX0saC5iaW5kKGUuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtFPSExfSksaC5vbmUoZS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0U9ITB9KSxoLm9uZSgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXtlLm1vYmlsZS5wYWdlQ29udGFpbmVyLmJpbmQoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKCl7RT0hMCxoLnVuYmluZCgic2Nyb2xsc3RvcCIsayksaC5iaW5kKCJzY3JvbGxzdG9wIixrKX0pfSksaC5iaW5kKCJzY3JvbGxzdG9wIixrKSxlLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1lLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodD1mdW5jdGlvbih0KXt2YXIgaT1lKCIuIitlLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLG49cGFyc2VGbG9hdChpLmNzcygicGFkZGluZy10b3AiKSksYT1wYXJzZUZsb2F0KGkuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxvPXBhcnNlRmxvYXQoaS5jc3MoImJvcmRlci10b3Atd2lkdGgiKSkscz1wYXJzZUZsb2F0KGkuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpO3Q9Im51bWJlciI9PXR5cGVvZiB0P3Q6VCgpLGkuY3NzKCJtaW4taGVpZ2h0Iix0LW4tYS1vLXMpfSxlLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiBlLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/ZSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLHQpOihzZXRUaW1lb3V0KHQsMCksZSh0aGlzKSl9LGUubW9iaWxlLnBhdGg9cCxlLm1vYmlsZS5iYXNlPUQsZS5tb2JpbGUudXJsSGlzdG9yeT1iLGUubW9iaWxlLmRpYWxvZ0hhc2hLZXk9QyxlLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITEsZS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTshdC5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGUmJnQuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZ0LmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLGk9bmV3IGUuRXZlbnQoInBhZ2VyZW1vdmUiKTt0LnRyaWdnZXIoaSksaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dC5yZW1vdmVXaXRoRGVwZW5kZW50cygpfSl9LGUubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKHQsaSl7dmFyIGE9ZS5EZWZlcnJlZCgpLG89ZS5leHRlbmQoe30sZS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHMsaSkscz1udWxsLGQ9bnVsbCxjPXAubWFrZVVybEFic29sdXRlKHQsbCgpKTtvLmRhdGEmJiJnZXQiPT09by50eXBlJiYoYz1wLmFkZFNlYXJjaFBhcmFtcyhjLG8uZGF0YSksby5kYXRhPW4pLG8uZGF0YSYmInBvc3QiPT09by50eXBlJiYoby5yZWxvYWRQYWdlPSEwKTt2YXIgaD1wLmdldEZpbGVQYXRoKGMpLHU9cC5jb252ZXJ0VXJsVG9EYXRhVXJsKGMpO2lmKG8ucGFnZUNvbnRhaW5lcj1vLnBhZ2VDb250YWluZXJ8fGUubW9iaWxlLnBhZ2VDb250YWluZXIscz1vLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIltkYXRhLSIrZS5tb2JpbGUubnMrInVybD0nIit1KyInXSIpLDA9PT1zLmxlbmd0aCYmdSYmIXAuaXNQYXRoKHUpJiYocz1vLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIiMiK3UpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidXJsIix1KS5qcW1EYXRhKCJ1cmwiLHUpKSwwPT09cy5sZW5ndGgpaWYoZS5tb2JpbGUuZmlyc3RQYWdlJiZwLmlzRmlyc3RQYWdlVXJsKGgpKWUubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5sZW5ndGgmJihzPWUoZS5tb2JpbGUuZmlyc3RQYWdlKSk7ZWxzZSBpZihwLmlzRW1iZWRkZWRQYWdlKGgpKXJldHVybiBhLnJlamVjdChjLGkpLGEucHJvbWlzZSgpO2lmKHMubGVuZ3RoKXtpZighby5yZWxvYWRQYWdlKXJldHVybiByKHMsby5yb2xlKSxhLnJlc29sdmUoYyxpLHMpLEQmJiFpLnByZWZldGNoJiZELnNldCh0KSxhLnByb21pc2UoKTtkPXN9dmFyIG09by5wYWdlQ29udGFpbmVyLGY9bmV3IGUuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIiksZz17dXJsOnQsYWJzVXJsOmMsZGF0YVVybDp1LGRlZmVycmVkOmEsb3B0aW9uczpvfTtpZihtLnRyaWdnZXIoZixnKSxmLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBhLnByb21pc2UoKTtpZihvLnNob3dMb2FkTXNnKXZhciBiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sby5sb2FkTXNnRGVsYXkpLHY9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoYiksZS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCl9O3JldHVybiBEJiZpLnByZWZldGNoPT09biYmRC5yZXNldCgpLGUubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlc3x8cC5pc1NhbWVEb21haW4oeSxjKT9lLmFqYXgoe3VybDpoLHR5cGU6by50eXBlLGRhdGE6by5kYXRhLGNvbnRlbnRUeXBlOm8uY29udGVudFR5cGUsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6ZnVuY3Rpb24obCxtLGYpe3ZhciBiPWUoIjxkaXY+PC9kaXY+IiksXz1sLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMSxDPVJlZ0V4cCgiKDxbXj5dK1xcYmRhdGEtIitlLm1vYmlsZS5ucysicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KSIpLHg9UmVnRXhwKCJcXGJkYXRhLSIrZS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7aWYoQy50ZXN0KGwpJiZSZWdFeHAuJDEmJngudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJih0PWg9cC5nZXRGaWxlUGF0aChlKCI8ZGl2PiIrUmVnRXhwLiQxKyI8L2Rpdj4iKS50ZXh0KCkpKSxEJiZpLnByZWZldGNoPT09biYmRC5zZXQoaCksYi5nZXQoMCkuaW5uZXJIVE1MPWwscz1iLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpLHMubGVuZ3RofHwocz1lKCI8ZGl2IGRhdGEtIitlLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+IisobC5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksXyYmIXMuanFtRGF0YSgidGl0bGUiKSYmKH5fLmluZGV4T2YoIiYiKSYmKF89ZSgiPGRpdj4iK18rIjwvZGl2PiIpLnRleHQoKSkscy5qcW1EYXRhKCJ0aXRsZSIsXykpLCFlLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciB5PXAuZ2V0KGgpO3MuZmluZCgiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmUodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsaT1lKHRoaXMpLmF0dHIodCk7aT1pLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKSwvXihcdys6fCN8XC8pLy50ZXN0KGkpfHxlKHRoaXMpLmF0dHIodCx5K2kpfSl9cy5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInVybCIscC5jb252ZXJ0VXJsVG9EYXRhVXJsKGgpKS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrImV4dGVybmFsLXBhZ2UiLCEwKS5hcHBlbmRUbyhvLnBhZ2VDb250YWluZXIpLHMub25lKCJwYWdlY3JlYXRlIixlLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUpLHIocyxvLnJvbGUpLGMuaW5kZXhPZigiJiIrZS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihzPW8ucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiW2RhdGEtIitlLm1vYmlsZS5ucysidXJsPSciK3UrIiddIikpLG8uc2hvd0xvYWRNc2cmJnYoKSxnLnhocj1mLGcudGV4dFN0YXR1cz1tLGcucGFnZT1zLG8ucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlbG9hZCIsZyksYS5yZXNvbHZlKGMsaSxzLGQpfSxlcnJvcjpmdW5jdGlvbih0LG4scyl7RCYmRC5zZXQocC5nZXQoKSksZy54aHI9dCxnLnRleHRTdGF0dXM9bixnLmVycm9yVGhyb3duPXM7dmFyIHI9bmV3IGUuRXZlbnQoInBhZ2Vsb2FkZmFpbGVkIik7by5wYWdlQ29udGFpbmVyLnRyaWdnZXIocixnKSxyLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoby5zaG93TG9hZE1zZyYmKHYoKSxlLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coZS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxlLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChlLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2csMTUwMCkpLGEucmVqZWN0KGMsaSkpfX0pOmEucmVqZWN0KGMsaSksYS5wcm9taXNlKCl9LGUubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzPXt0eXBlOiJnZXQiLGRhdGE6bixyZWxvYWRQYWdlOiExLHJvbGU6bixzaG93TG9hZE1zZzohMSxwYWdlQ29udGFpbmVyOm4sbG9hZE1zZ0RlbGF5OjUwfSxlLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKHQsZCl7aWYoXylyZXR1cm4gdi51bnNoaWZ0KGFyZ3VtZW50cyksbjt2YXIgYyxoPWUuZXh0ZW5kKHt9LGUubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsZCk7aC5wYWdlQ29udGFpbmVyPWgucGFnZUNvbnRhaW5lcnx8ZS5tb2JpbGUucGFnZUNvbnRhaW5lcixoLmZyb21QYWdlPWguZnJvbVBhZ2V8fGUubW9iaWxlLmFjdGl2ZVBhZ2UsYz0ic3RyaW5nIj09dHlwZW9mIHQ7dmFyIHU9aC5wYWdlQ29udGFpbmVyLG09bmV3IGUuRXZlbnQoInBhZ2ViZWZvcmVjaGFuZ2UiKSxmPXt0b1BhZ2U6dCxvcHRpb25zOmh9O2lmKGYuYWJzVXJsPWM/cC5tYWtlVXJsQWJzb2x1dGUodCxsKCkpOnQuZGF0YSgiYWJzVXJsIiksdS50cmlnZ2VyKG0sZiksIW0uaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKHQ9Zi50b1BhZ2UsYz0ic3RyaW5nIj09dHlwZW9mIHQsXz0hMCxjKXJldHVybiBoLnRhcmdldD10LGUubW9iaWxlLmxvYWRQYWdlKHQsaCkuZG9uZShmdW5jdGlvbih0LGksbixhKXtfPSExLGkuZHVwbGljYXRlQ2FjaGVkUGFnZT1hLG4uZGF0YSgiYWJzVXJsIixmLmFic1VybCksZS5tb2JpbGUuY2hhbmdlUGFnZShuLGkpfSkuZmFpbChmdW5jdGlvbigpe2EoITApLG8oKSxoLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWNoYW5nZWZhaWxlZCIsZil9KSxuO3RbMF0hPT1lLm1vYmlsZS5maXJzdFBhZ2VbMF18fGguZGF0YVVybHx8KGguZGF0YVVybD15LmhyZWZOb0hhc2gpO3ZhciBnPWguZnJvbVBhZ2UseD1oLmRhdGFVcmwmJnAuY29udmVydFVybFRvRGF0YVVybChoLmRhdGFVcmwpfHx0LmpxbURhdGEoInVybCIpLHc9eCxUPShwLmdldEZpbGVQYXRoKHgpLGIuZ2V0QWN0aXZlKCkpLEQ9MD09PWIuYWN0aXZlSW5kZXgsUD0wLGs9aS50aXRsZSxFPSJkaWFsb2ciPT09aC5yb2xlfHwiZGlhbG9nIj09PXQuanFtRGF0YSgicm9sZSIpO2lmKGcmJmdbMF09PT10WzBdJiYhaC5hbGxvd1NhbWVQYWdlVHJhbnNpdGlvbilyZXR1cm4gXz0hMSx1LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLGYpLGguZnJvbUhhc2hDaGFuZ2UmJmIuZGlyZWN0KHt1cmw6eH0pLG47cih0LGgucm9sZSksaC5mcm9tSGFzaENoYW5nZSYmKFA9ImJhY2siPT09ZC5kaXJlY3Rpb24/LTE6MSk7dHJ5e2kuYWN0aXZlRWxlbWVudCYmImJvZHkiIT09aS5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/ZShpLmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTplKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChxKXt9dmFyIGo9ITE7RSYmVCYmKFQudXJsJiZULnVybC5pbmRleE9mKEMpPi0xJiZlLm1vYmlsZS5hY3RpdmVQYWdlJiYhZS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpJiZiLmFjdGl2ZUluZGV4PjAmJihoLmNoYW5nZUhhc2g9ITEsaj0hMCkseD1ULnVybHx8IiIseCs9IWomJnguaW5kZXhPZigiIyIpPi0xP0M6IiMiK0MsMD09PWIuYWN0aXZlSW5kZXgmJng9PT1iLmluaXRpYWxEc3QmJih4Kz1DKSk7dmFyIFM9VD90LmpxbURhdGEoInRpdGxlIil8fHQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOms7aWYoUyYmaz09PWkudGl0bGUmJihrPVMpLHQuanFtRGF0YSgidGl0bGUiKXx8dC5qcW1EYXRhKCJ0aXRsZSIsayksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KFAmJiFEP1QudHJhbnNpdGlvbjpuKXx8KEU/ZS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246ZS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhUCYmaiYmKGIuZ2V0QWN0aXZlKCkucGFnZVVybD13KSx4JiYhaC5mcm9tSGFzaENoYW5nZSl7dmFyIEE7IXAuaXNQYXRoKHgpJiYwPnguaW5kZXhPZigiIyIpJiYoeD0iIyIreCksQT17dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24sdGl0bGU6ayxwYWdlVXJsOncscm9sZTpoLnJvbGV9LGguY2hhbmdlSGFzaCE9PSExJiZlLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD9lLm1vYmlsZS5uYXZpZ2F0ZSh4LEEsITApOnRbMF0hPT1lLm1vYmlsZS5maXJzdFBhZ2VbMF0mJmUubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKHgsQSl9aS50aXRsZT1rLGUubW9iaWxlLmFjdGl2ZVBhZ2U9dCxoLnJldmVyc2U9aC5yZXZlcnNlfHwwPlAscyh0LGcsaC50cmFuc2l0aW9uLGgucmV2ZXJzZSkuZG9uZShmdW5jdGlvbihpLG4scyxyLGwpe2EoKSxoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmguZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKSxsfHxlLm1vYmlsZS5mb2N1c1BhZ2UodCksbygpLHUudHJpZ2dlcigicGFnZWNoYW5nZSIsZil9KX19LGUubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHM9e3RyYW5zaXRpb246bixyZXZlcnNlOiExLGNoYW5nZUhhc2g6ITAsZnJvbUhhc2hDaGFuZ2U6ITEscm9sZTpuLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6bixwYWdlQ29udGFpbmVyOm4sc2hvd0xvYWRNc2c6ITAsZGF0YVVybDpuLGZyb21QYWdlOm4sYWxsb3dTYW1lUGFnZVRyYW5zaXRpb246ITF9LGUubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQ9ZS5EZWZlcnJlZCgpLGUubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGk9ZnVuY3Rpb24odCxpKXt2YXIgYSxvLHMscixsPSEwO3JldHVybiFlLm1vYmlsZS5hamF4RW5hYmxlZHx8dC5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHwhdC5qcW1IaWphY2thYmxlKCkubGVuZ3RofHx0LmF0dHIoInRhcmdldCIpPyExOihhPXQuYXR0cigiYWN0aW9uIikscj0odC5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksYXx8KGE9Yyh0KSwiZ2V0Ij09PXImJihhPXAucGFyc2VVcmwoYSkuaHJlZk5vU2VhcmNoKSxhPT09dy5ocmVmTm9IYXNoJiYoYT15LmhyZWZOb1NlYXJjaCkpLGE9cC5tYWtlVXJsQWJzb2x1dGUoYSxjKHQpKSxwLmlzRXh0ZXJuYWwoYSkmJiFwLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHksYSk/ITE6KGl8fChvPXQuc2VyaWFsaXplQXJyYXkoKSxtJiZtWzBdLmZvcm09PT10WzBdJiYocz1tLmF0dHIoIm5hbWUiKSxzJiYoZS5lYWNoKG8sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5uYW1lPT09cz8ocz0iIiwhMSk6bn0pLHMmJm8ucHVzaCh7bmFtZTpzLHZhbHVlOm0uYXR0cigidmFsdWUiKX0pKSksbD17dXJsOmEsb3B0aW9uczp7dHlwZTpyLGRhdGE6ZS5wYXJhbShvKSx0cmFuc2l0aW9uOnQuanFtRGF0YSgidHJhbnNpdGlvbiIpLHJldmVyc2U6InJldmVyc2UiPT09dC5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOiEwfX0pLGwpKX07ZS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoImZvcm0iLCJzdWJtaXQiLGZ1bmN0aW9uKHQpe3ZhciBuPWkoZSh0aGlzKSk7biYmKGUubW9iaWxlLmNoYW5nZVBhZ2Uobi51cmwsbi5vcHRpb25zKSx0LnByZXZlbnREZWZhdWx0KCkpfSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgidmNsaWNrIixmdW5jdGlvbih0KXt2YXIgbixvLHM9dC50YXJnZXQscj0hMTtpZighKHQud2hpY2g+MSkmJmUubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7aWYobT1lKHMpLGUuZGF0YShzLCJtb2JpbGUtYnV0dG9uIikpe2lmKCFpKGUocykuY2xvc2VzdCgiZm9ybSIpLCEwKSlyZXR1cm47cy5wYXJlbnROb2RlJiYocz1zLnBhcmVudE5vZGUpfWVsc2V7aWYocz1kKHMpLCFzfHwiIyI9PT1wLnBhcnNlVXJsKHMuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaClyZXR1cm47aWYoIWUocykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fnMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWxpbmstaW5oZXJpdCIpP3MucGFyZW50Tm9kZSYmKG89ZS5kYXRhKHMucGFyZW50Tm9kZSwiYnV0dG9uRWxlbWVudHMiKSk6bz1lLmRhdGEocywiYnV0dG9uRWxlbWVudHMiKSxvP3M9by5vdXRlcjpyPSEwLG49ZShzKSxyJiYobj1uLmNsb3Nlc3QoIi51aS1idG4iKSksbi5sZW5ndGg+MCYmIW4uaGFzQ2xhc3MoInVpLWRpc2FibGVkIikmJihhKCEwKSxmPW4sZi5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoImNsaWNrIixmdW5jdGlvbihpKXtpZihlLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJiFpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgbyxzPWQoaS50YXJnZXQpLHI9ZShzKTtpZihzJiYhKGkud2hpY2g+MSkmJnIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYobz1mdW5jdGlvbigpe3Quc2V0VGltZW91dChmdW5jdGlvbigpe2EoITApfSwyMDApfSxyLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiBlLm1vYmlsZS5iYWNrKCksITE7dmFyIGw9YyhyKSxoPXAubWFrZVVybEFic29sdXRlKHIuYXR0cigiaHJlZiIpfHwiIyIsbCk7aWYoIWUubW9iaWxlLmFqYXhFbmFibGVkJiYhcC5pc0VtYmVkZGVkUGFnZShoKSlyZXR1cm4gbygpLG47aWYoLTEhPT1oLnNlYXJjaCgiIyIpKXtpZihoPWgucmVwbGFjZSgvW14jXSojLywiIiksIWgpcmV0dXJuIGkucHJldmVudERlZmF1bHQoKSxuO2g9cC5pc1BhdGgoaCk/cC5tYWtlVXJsQWJzb2x1dGUoaCxsKTpwLm1ha2VVcmxBYnNvbHV0ZSgiIyIraCx5LmhyZWZOb0hhc2gpfXZhciB1PXIuaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8ci5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxyLmlzKCJbdGFyZ2V0XSIpLG09dXx8cC5pc0V4dGVybmFsKGgpJiYhcC5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh5LGgpO2lmKG0pcmV0dXJuIG8oKSxuO3ZhciBmPXIuanFtRGF0YSgidHJhbnNpdGlvbiIpLGc9InJldmVyc2UiPT09ci5qcW1EYXRhKCJkaXJlY3Rpb24iKXx8ci5qcW1EYXRhKCJiYWNrIiksYj1yLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysicmVsIil8fG47ZS5tb2JpbGUuY2hhbmdlUGFnZShoLHt0cmFuc2l0aW9uOmYscmV2ZXJzZTpnLHJvbGU6YixsaW5rOnJ9KSxpLnByZXZlbnREZWZhdWx0KCl9fX0pLGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktcGFnZSIsInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciB0PVtdO2UodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpLG49aS5hdHRyKCJocmVmIik7biYmLTE9PT1lLmluQXJyYXkobix0KSYmKHQucHVzaChuKSxlLm1vYmlsZS5sb2FkUGFnZShuLHtyb2xlOmkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJyZWwiKSxwcmVmZXRjaDohMH0pKX0pfSksZS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oaSxhKXt2YXIgbz1wLnN0cmlwSGFzaChpKSxzPTA9PT1lLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD8ibm9uZSI6bixyPXtjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwLHJldmVyc2U6ImJhY2siPT09YS5kaXJlY3Rpb259O2lmKGUuZXh0ZW5kKHIsYSx7dHJhbnNpdGlvbjooYi5nZXRMYXN0KCl8fHt9KS50cmFuc2l0aW9ufHxzfSksYi5hY3RpdmVJbmRleD4wJiZvLmluZGV4T2YoQyk+LTEmJmIuaW5pdGlhbERzdCE9PW8pe2lmKGUubW9iaWxlLmFjdGl2ZVBhZ2UmJiFlLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikpcmV0dXJuImJhY2siPT09YS5kaXJlY3Rpb24/ZS5tb2JpbGUuYmFjaygpOnQuaGlzdG9yeS5mb3J3YXJkKCksbjtvPWEucGFnZVVybDt2YXIgbD1lLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2UuZXh0ZW5kKHIse3JvbGU6bC5yb2xlLHRyYW5zaXRpb246bC50cmFuc2l0aW9uLHJldmVyc2U6ImJhY2siPT09YS5kaXJlY3Rpb259KX1vPyhvPXAuaXNQYXRoKG8pP286cC5tYWtlVXJsQWJzb2x1dGUoIiMiK28sdyksbz09PXAubWFrZVVybEFic29sdXRlKCIjIitiLmluaXRpYWxEc3QsdykmJmIuc3RhY2subGVuZ3RoJiZiLnN0YWNrWzBdLnVybCE9PWIuaW5pdGlhbERzdC5yZXBsYWNlKEMsIiIpJiYobz1lLm1vYmlsZS5maXJzdFBhZ2UpLGUubW9iaWxlLmNoYW5nZVBhZ2UobyxyKSk6ZS5tb2JpbGUuY2hhbmdlUGFnZShlLm1vYmlsZS5maXJzdFBhZ2Uscil9LGguYmluZCgibmF2aWdhdGUiLGZ1bmN0aW9uKHQsaSl7dmFyIG47dC5vcmlnaW5hbEV2ZW50JiZ0Lm9yaWdpbmFsRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fChuPWUuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5vcmlnaW5hbEV2ZW50TmFtZS5pbmRleE9mKCJoYXNoY2hhbmdlIik+LTE/aS5zdGF0ZS5oYXNoOmkuc3RhdGUudXJsLG58fChuPWUubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2gpLG4mJiIjIiE9PW4mJjAhPT1uLmluZGV4T2YoIiMiK2UubW9iaWxlLnBhdGgudWlTdGF0ZUtleSl8fChuPWxvY2F0aW9uLmhyZWYpLGUubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKG4saS5zdGF0ZSkpfSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZXNob3ciLGUubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCksZS5tb2JpbGUud2luZG93LmJpbmQoInRocm90dGxlZHJlc2l6ZSIsZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KX0sZShmdW5jdGlvbigpe2cucmVzb2x2ZSgpfSksZS53aGVuKGcsZS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2UubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbGlwPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLmZsb3c9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MucG9wPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9ZS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91cyxlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZG93bj0iZmFkZSJ9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWZhZGU9ImZhZGUifShlLHRoaXMpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGV1cD0iZmFkZSJ9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy50dXJuPSJmYWRlIn0oZSx0aGlzKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX0sZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe3ZhciBpLG49ZS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGUodC50YXJnZXQpKTtuJiYoaT1uLm9wdGlvbnMsZSh0LnRhcmdldCkuZmluZCgiaW5wdXQiKS5ub3Qobi5rZWVwTmF0aXZlU2VsZWN0b3IoKSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyksbj10aGlzLmdldEF0dHJpYnV0ZSgidHlwZSIpLGE9aS5kZWdyYWRlSW5wdXRzW25dfHwidGV4dCI7aWYoaS5kZWdyYWRlSW5wdXRzW25dKXt2YXIgbz1lKCI8ZGl2PiIpLmh0bWwodC5jbG9uZSgpKS5odG1sKCkscz1vLmluZGV4T2YoIiB0eXBlPSIpPi0xLHI9cz8vXHMrdHlwZT1bIiddP1x3K1snIl0/LzovXC8/Pi8sbD0nIHR5cGU9IicrYSsnIiBkYXRhLScrZS5tb2JpbGUubnMrJ3R5cGU9IicrbisnIicrKHM/IiI6Ij4iKTt0LnJlcGxhY2VXaXRoKG8ucmVwbGFjZShyLGwpKX19KSl9KX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5kaWFsb2ciLGUubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xvc2VCdG46ImxlZnQiLGNsb3NlQnRuVGV4dDoiQ2xvc2UiLG92ZXJsYXlUaGVtZToiYSIsY29ybmVyczohMCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIn0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5faXNDbG9zZWFibGU9ITAsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmdGhpcy5lbGVtZW50LnBhZ2UoInJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQiKS5wYWdlKCJzZXRDb250YWluZXJCYWNrZ3JvdW5kIix0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudCxpPXRoaXMub3B0aW9ucy5jb3JuZXJzPyIgdWktY29ybmVyLWFsbCI6IiIsbj1lKCI8ZGl2Lz4iLHtyb2xlOiJkaWFsb2ciLCJjbGFzcyI6InVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93IitpfSk7dC5hZGRDbGFzcygidWktZGlhbG9nIHVpLW92ZXJsYXktIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKSx0LndyYXBJbm5lcihuKSx0LmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKHQpe3ZhciBpLG49ZSh0LnRhcmdldCkuY2xvc2VzdCgidmNsaWNrIj09PXQudHlwZT8iYSI6ImZvcm0iKTtuLmxlbmd0aCYmIW4uanFtRGF0YSgidHJhbnNpdGlvbiIpJiYoaT1lLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fSxuLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsaS50cmFuc2l0aW9ufHxlLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIikpfSksdGhpcy5fb24odCx7cGFnZWJlZm9yZXNob3c6Il9oYW5kbGVQYWdlQmVmb3JlU2hvdyJ9KSxlLmV4dGVuZCh0aGlzLHtfY3JlYXRlQ29tcGxldGU6ITF9KSx0aGlzLl9zZXRDbG9zZUJ0bih0aGlzLm9wdGlvbnMuY2xvc2VCdG4pfSxfc2V0Q2xvc2VCdG46ZnVuY3Rpb24odCl7dmFyIGksbixhPXRoaXM7dGhpcy5faGVhZGVyQ2xvc2VCdXR0b24mJih0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbi5yZW1vdmUoKSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1udWxsKSwibm9uZSIhPT10JiYobj0ibGVmdCI9PT10PyJsZWZ0IjoicmlnaHQiLGk9ZSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi0iK24rIicgZGF0YS0iK2UubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIitlLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpcnN0KCkucHJlcGVuZChpKSx0aGlzLl9jcmVhdGVDb21wbGV0ZSYmZS5mbi5idXR0b25NYXJrdXAmJmkuYnV0dG9uTWFya3VwKCksdGhpcy5fY3JlYXRlQ29tcGxldGU9ITAsaS5iaW5kKCJjbGljayIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KSx0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbj1pKX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLHQpeyJjbG9zZUJ0biI9PT1lJiZ0aGlzLl9zZXRDbG9zZUJ0bih0KSx0aGlzLl9zdXBlcihlLHQpfSxjbG9zZTpmdW5jdGlvbigpe3ZhciB0LGksbj1lLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5O3RoaXMuX2lzQ2xvc2VhYmxlJiYodGhpcy5faXNDbG9zZWFibGU9ITEsZS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJm4uYWN0aXZlSW5kZXg+MD9lLm1vYmlsZS5iYWNrKCk6KHQ9TWF0aC5tYXgoMCxuLmFjdGl2ZUluZGV4LTEpLGk9bi5zdGFja1t0XS5wYWdlVXJsfHxuLnN0YWNrW3RdLnVybCxuLnByZXZpb3VzSW5kZXg9bi5hY3RpdmVJbmRleCxuLmFjdGl2ZUluZGV4PXQsZS5tb2JpbGUucGF0aC5pc1BhdGgoaSl8fChpPWUubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCIjIitpKSksZS5tb2JpbGUuY2hhbmdlUGFnZShpLHtkaXJlY3Rpb246ImJhY2siLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSkpfX0pLGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKGUubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7ZS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5lbmhhbmNlKHRoaXMpfSl9KGUsdGhpcyksZnVuY3Rpb24oZSl7ZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayIsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPSExLGUubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGwsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSIsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSIsZS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbCxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIixmdW5jdGlvbih0KXt2YXIgaT1lKHQudGFyZ2V0KSxuPWkuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLGE9aS5qcW1EYXRhKCJyb2xlIiksbz1uLnRoZW1lO2UoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIixpKS5qcW1FbmhhbmNlYWJsZSgpLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxzLHIsbCxkPWUodGhpcyksYz1kLmpxbURhdGEoInJvbGUiKSxoPWQuanFtRGF0YSgidGhlbWUiKSx1PWh8fG4uY29udGVudFRoZW1lfHwiZGlhbG9nIj09PWEmJm87aWYoZC5hZGRDbGFzcygidWktIitjKSwiaGVhZGVyIj09PWN8fCJmb290ZXIiPT09Yyl7dmFyIHA9aHx8KCJoZWFkZXIiPT09Yz9uLmhlYWRlclRoZW1lOm4uZm9vdGVyVGhlbWUpfHxvO2QuYWRkQ2xhc3MoInVpLWJhci0iK3ApLmF0dHIoInJvbGUiLCJoZWFkZXIiPT09Yz8iYmFubmVyIjoiY29udGVudGluZm8iKSwiaGVhZGVyIj09PWMmJih0PWQuY2hpbGRyZW4oImEsIGJ1dHRvbiIpLHM9dC5oYXNDbGFzcygidWktYnRuLWxlZnQiKSxyPXQuaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpLHM9c3x8dC5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGgscj1yfHx0LmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKS5sZW5ndGgpLG4uYWRkQmFja0J0biYmImhlYWRlciI9PT1jJiZlKCIudWktcGFnZSIpLmxlbmd0aD4xJiZpLmpxbURhdGEoInVybCIpIT09ZS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFzJiYobD1lKCI8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIitlLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrZS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrbi5iYWNrQnRuVGV4dCsiPC9hPiIpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidGhlbWUiLG4uYmFja0J0blRoZW1lfHxwKS5wcmVwZW5kVG8oZCkpLGQuY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHtyb2xlOiJoZWFkaW5nIiwiYXJpYS1sZXZlbCI6IjEifSl9ZWxzZSJjb250ZW50Ij09PWMmJih1JiZkLmFkZENsYXNzKCJ1aS1ib2R5LSIrdSksZC5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ7ZSYmKHQ9InN0cmluZyI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWUrIiAiLCEodCYmdC5pbmRleE9mKCJ1aS1idG4gIik+LTEmJjA+dC5pbmRleE9mKCJ1aS1kaXNhYmxlZCAiKSkpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZX1mdW5jdGlvbiBhKG4sYSxvLHMscil7dmFyIGw9ZS5kYXRhKG5bMF0sImJ1dHRvbkVsZW1lbnRzIik7bi5yZW1vdmVDbGFzcyhhKS5hZGRDbGFzcyhvKSxsJiYobC5iY2xzPWUoaS5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MobC5iY2xzKyIgIitvKS5yZW1vdmVDbGFzcyhhKS5hdHRyKCJjbGFzcyIpLHMhPT10JiYobC5ob3Zlcj1zKSxsLnN0YXRlPXIpfXZhciBvPWZ1bmN0aW9uKGUsaSl7dmFyIG49ZS5nZXRBdHRyaWJ1dGUoaSk7cmV0dXJuInRydWUiPT09bj8hMDoiZmFsc2UiPT09bj8hMTpudWxsPT09bj90Om59O2UuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKG4pe3ZhciBhLHI9dGhpcyxsPSJkYXRhLSIrZS5tb2JpbGUubnM7bj1uJiYib2JqZWN0Ij09PWUudHlwZShuKT9uOnt9O2Zvcih2YXIgZD0wO3IubGVuZ3RoPmQ7ZCsrKXt2YXIgYyxoLHUscCxtLGYsZz1yLmVxKGQpLGI9Z1swXSx2PWUuZXh0ZW5kKHt9LGUuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzLHtpY29uOm4uaWNvbiE9PXQ/bi5pY29uOm8oYixsKyJpY29uIiksaWNvbnBvczpuLmljb25wb3MhPT10P24uaWNvbnBvczpvKGIsbCsiaWNvbnBvcyIpLHRoZW1lOm4udGhlbWUhPT10P24udGhlbWU6byhiLGwrInRoZW1lIil8fGUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKSxpbmxpbmU6bi5pbmxpbmUhPT10P24uaW5saW5lOm8oYixsKyJpbmxpbmUiKSxzaGFkb3c6bi5zaGFkb3chPT10P24uc2hhZG93Om8oYixsKyJzaGFkb3ciKSxjb3JuZXJzOm4uY29ybmVycyE9PXQ/bi5jb3JuZXJzOm8oYixsKyJjb3JuZXJzIiksaWNvbnNoYWRvdzpuLmljb25zaGFkb3chPT10P24uaWNvbnNoYWRvdzpvKGIsbCsiaWNvbnNoYWRvdyIpLG1pbmk6bi5taW5pIT09dD9uLm1pbmk6byhiLGwrIm1pbmkiKX0sbiksXz0idWktYnRuLWlubmVyIixDPSJ1aS1idG4tdGV4dCIseD0hMSx5PSJ1cCI7Zm9yKGEgaW4gdil2W2FdPT09dHx8bnVsbD09PXZbYV0/Zy5yZW1vdmVBdHRyKGwrYSk6Yi5zZXRBdHRyaWJ1dGUobCthLHZbYV0pO2ZvcigicG9wdXAiPT09byhiLGwrInJlbCIpJiZnLmF0dHIoImhyZWYiKSYmKGIuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIiwhMCksYi5zZXRBdHRyaWJ1dGUoImFyaWEtb3ducyIsZy5hdHRyKCJocmVmIikpKSxmPWUuZGF0YSgiSU5QVVQiPT09Yi50YWdOYW1lfHwiQlVUVE9OIj09PWIudGFnTmFtZT9iLnBhcmVudE5vZGU6YiwiYnV0dG9uRWxlbWVudHMiKSxmPyhiPWYub3V0ZXIsZz1lKGIpLHU9Zi5pbm5lcixwPWYudGV4dCxlKGYuaWNvbikucmVtb3ZlKCksZi5pY29uPW51bGwseD1mLmhvdmVyLHk9Zi5zdGF0ZSk6KHU9aS5jcmVhdGVFbGVtZW50KHYud3JhcHBlckVscykscD1pLmNyZWF0ZUVsZW1lbnQodi53cmFwcGVyRWxzKSksbT12Lmljb24/aS5jcmVhdGVFbGVtZW50KCJzcGFuIik6bnVsbCxzJiYhZiYmcygpLHYudGhlbWV8fCh2LnRoZW1lPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsImMiKSksYz0idWktYnRuICIsYys9eD8idWktYnRuLWhvdmVyLSIrdi50aGVtZToiIixjKz15PyIgdWktYnRuLSIreSsiLSIrdi50aGVtZToiIixjKz12LnNoYWRvdz8iIHVpLXNoYWRvdyI6IiIsYys9di5jb3JuZXJzPyIgdWktYnRuLWNvcm5lci1hbGwiOiIiLHYubWluaSE9PXQmJihjKz12Lm1pbmk9PT0hMD8iIHVpLW1pbmkiOiIgdWktZnVsbHNpemUiKSx2LmlubGluZSE9PXQmJihjKz12LmlubGluZT09PSEwPyIgdWktYnRuLWlubGluZSI6IiB1aS1idG4tYmxvY2siKSx2Lmljb24mJih2Lmljb249InVpLWljb24tIit2Lmljb24sdi5pY29ucG9zPXYuaWNvbnBvc3x8ImxlZnQiLGg9InVpLWljb24gIit2Lmljb24sdi5pY29uc2hhZG93JiYoaCs9IiB1aS1pY29uLXNoYWRvdyIpKSx2Lmljb25wb3MmJihjKz0iIHVpLWJ0bi1pY29uLSIrdi5pY29ucG9zLCJub3RleHQiIT09di5pY29ucG9zfHxnLmF0dHIoInRpdGxlIil8fGcuYXR0cigidGl0bGUiLGcuZ2V0RW5jb2RlZFRleHQoKSkpLGYmJmcucmVtb3ZlQ2xhc3MoZi5iY2xzfHwiIiksZy5yZW1vdmVDbGFzcygidWktbGluayIpLmFkZENsYXNzKGMpLHUuY2xhc3NOYW1lPV8scC5jbGFzc05hbWU9QyxmfHx1LmFwcGVuZENoaWxkKHApLG0mJihtLmNsYXNzTmFtZT1oLGYmJmYuaWNvbnx8KG0uaW5uZXJIVE1MPSImIzE2MDsiLHUuYXBwZW5kQ2hpbGQobSkpKTtiLmZpcnN0Q2hpbGQmJiFmOylwLmFwcGVuZENoaWxkKGIuZmlyc3RDaGlsZCk7Znx8Yi5hcHBlbmRDaGlsZCh1KSxmPXtob3Zlcjp4LHN0YXRlOnksYmNsczpjLG91dGVyOmIsaW5uZXI6dSx0ZXh0OnAsaWNvbjptfSxlLmRhdGEoYiwiYnV0dG9uRWxlbWVudHMiLGYpLGUuZGF0YSh1LCJidXR0b25FbGVtZW50cyIsZiksZS5kYXRhKHAsImJ1dHRvbkVsZW1lbnRzIixmKSxtJiZlLmRhdGEobSwiYnV0dG9uRWxlbWVudHMiLGYpfXJldHVybiB0aGlzfSxlLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz17Y29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIHM9ZnVuY3Rpb24oKXt2YXIgaSxvLHI9ZS5tb2JpbGUuYnV0dG9uTWFya3VwLmhvdmVyRGVsYXk7ZS5tb2JpbGUuZG9jdW1lbnQuYmluZCh7InZtb3VzZWRvd24gdm1vdXNlY2FuY2VsIHZtb3VzZXVwIHZtb3VzZW92ZXIgdm1vdXNlb3V0IGZvY3VzIGJsdXIgc2Nyb2xsc3RhcnQiOmZ1bmN0aW9uKHMpe3ZhciBsLGQ9ZShuKHMudGFyZ2V0KSksYz1zLm9yaWdpbmFsRXZlbnQmJi9edG91Y2gvLnRlc3Qocy5vcmlnaW5hbEV2ZW50LnR5cGUpLGg9cy50eXBlO2QubGVuZ3RoJiYobD1kLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysidGhlbWUiKSwidm1vdXNlZG93biI9PT1oP2M/aT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShkLCJ1aS1idG4tdXAtIitsLCJ1aS1idG4tZG93bi0iK2wsdCwiZG93biIpfSxyKTphKGQsInVpLWJ0bi11cC0iK2wsInVpLWJ0bi1kb3duLSIrbCx0LCJkb3duIik6InZtb3VzZWNhbmNlbCI9PT1ofHwidm1vdXNldXAiPT09aD9hKGQsInVpLWJ0bi1kb3duLSIrbCwidWktYnRuLXVwLSIrbCx0LCJ1cCIpOiJ2bW91c2VvdmVyIj09PWh8fCJmb2N1cyI9PT1oP2M/bz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShkLCJ1aS1idG4tdXAtIitsLCJ1aS1idG4taG92ZXItIitsLCEwLCIiKX0scik6YShkLCJ1aS1idG4tdXAtIitsLCJ1aS1idG4taG92ZXItIitsLCEwLCIiKTooInZtb3VzZW91dCI9PT1ofHwiYmx1ciI9PT1ofHwic2Nyb2xsc3RhcnQiPT09aCkmJihhKGQsInVpLWJ0bi1ob3Zlci0iK2wrIiB1aS1idG4tZG93bi0iK2wsInVpLWJ0bi11cC0iK2wsITEsInVwIiksaSYmY2xlYXJUaW1lb3V0KGkpLG8mJmNsZWFyVGltZW91dChvKSkpfSwiZm9jdXNpbiBmb2N1cyI6ZnVuY3Rpb24odCl7ZShuKHQudGFyZ2V0KSkuYWRkQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9LCJmb2N1c291dCBibHVyIjpmdW5jdGlvbih0KXtlKG4odC50YXJnZXQpKS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX19KSxzPW51bGx9O2UubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsdC50YXJnZXQpLmpxbUVuaGFuY2VhYmxlKCkubm90KCJidXR0b24sIGlucHV0LCAudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOiEwLGhlYWRpbmc6ImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZCIsY29sbGFwc2VkSWNvbjoicGx1cyIsZXhwYW5kZWRJY29uOiJtaW51cyIsaWNvbnBvczoibGVmdCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpbnNldDohMCxjb3JuZXJzOiEwLG1pbmk6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMuZWxlbWVudCxuPXRoaXMub3B0aW9ucyxhPWkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlIiksbz1pLmNoaWxkcmVuKG4uaGVhZGluZykuZmlyc3QoKSxzPWEud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5jaGlsZHJlbigiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxyPWkuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0IiksbD0iIjtvLmlzKCJsZWdlbmQiKSYmKG89ZSgiPGRpdiByb2xlPSdoZWFkaW5nJz4iK28uaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUobyksby5uZXh0KCkucmVtb3ZlKCkpLHIubGVuZ3RoPyhuLnRoZW1lfHwobi50aGVtZT1yLmpxbURhdGEoInRoZW1lIil8fGUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHIsImMiKSksbi5jb250ZW50VGhlbWV8fChuLmNvbnRlbnRUaGVtZT1yLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksbi5jb2xsYXBzZWRJY29uPWkuanFtRGF0YSgiY29sbGFwc2VkLWljb24iKXx8ci5qcW1EYXRhKCJjb2xsYXBzZWQtaWNvbiIpfHxuLmNvbGxhcHNlZEljb24sbi5leHBhbmRlZEljb249aS5qcW1EYXRhKCJleHBhbmRlZC1pY29uIil8fHIuanFtRGF0YSgiZXhwYW5kZWQtaWNvbiIpfHxuLmV4cGFuZGVkSWNvbixuLmljb25wb3M9aS5qcW1EYXRhKCJpY29ucG9zIil8fHIuanFtRGF0YSgiaWNvbnBvcyIpfHxuLmljb25wb3Msbi5pbnNldD1yLmpxbURhdGEoImluc2V0IikhPT10P3IuanFtRGF0YSgiaW5zZXQiKTohMCxuLmNvcm5lcnM9ITEsbi5taW5pfHwobi5taW5pPXIuanFtRGF0YSgibWluaSIpKSk6bi50aGVtZXx8KG4udGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoaSwiYyIpKSxuLmluc2V0JiYobCs9IiB1aS1jb2xsYXBzaWJsZS1pbnNldCIsbi5jb3JuZXJzJiYobCs9IiB1aS1jb3JuZXItYWxsIikpLG4uY29udGVudFRoZW1lJiYobCs9IiB1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCIscy5hZGRDbGFzcygidWktYm9keS0iK24uY29udGVudFRoZW1lKSksIiIhPT1sJiZhLmFkZENsYXNzKGwpLG8uaW5zZXJ0QmVmb3JlKHMpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iKS53cmFwSW5uZXIoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIpLmZpbmQoImEiKS5maXJzdCgpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczpuLmljb25wb3MsaWNvbjpuLmNvbGxhcHNlZEljb24sbWluaTpuLm1pbmksdGhlbWU6bi50aGVtZX0pLGEuYmluZCgiZXhwYW5kIGNvbGxhcHNlIixmdW5jdGlvbih0KXtpZighdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGk9ZSh0aGlzKSxhPSJjb2xsYXBzZSI9PT10LnR5cGU7dC5wcmV2ZW50RGVmYXVsdCgpLG8udG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIixhKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGE/bi5leHBhbmRDdWVUZXh0Om4uY29sbGFwc2VDdWVUZXh0KS5lbmQoKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrbi5leHBhbmRlZEljb24sIWEpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLSIrbi5jb2xsYXBzZWRJY29uLGF8fG4uZXhwYW5kZWRJY29uPT09bi5jb2xsYXBzZWRJY29uKS5lbmQoKS5maW5kKCJhIikuZmlyc3QoKS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksaS50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtY29sbGFwc2VkIixhKSxzLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIsYSkuYXR0cigiYXJpYS1oaWRkZW4iLGEpLHMudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fSkudHJpZ2dlcihuLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKSxvLmJpbmQoInRhcCIsZnVuY3Rpb24oKXtvLmZpbmQoImEiKS5maXJzdCgpLmFkZENsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1vLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2EudHJpZ2dlcih0KSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX0pfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXM9e19nZXRWaXNpYmxlczpmdW5jdGlvbihlLHQpe3ZhciBpO3JldHVybiB0P2k9ZS5ub3QoIi51aS1zY3JlZW4taGlkZGVuIik6KGk9ZS5maWx0ZXIoIjp2aXNpYmxlIiksMD09PWkubGVuZ3RoJiYoaT1lLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKSkpLGl9LF9hZGRGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGUsdCxpKXtlLnJlbW92ZUNsYXNzKCJ1aS1maXJzdC1jaGlsZCB1aS1sYXN0LWNoaWxkIiksdC5lcSgwKS5hZGRDbGFzcygidWktZmlyc3QtY2hpbGQiKS5lbmQoKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWxhc3QtY2hpbGQiKSxpfHx0aGlzLmVsZW1lbnQudHJpZ2dlcigidXBkYXRlbGF5b3V0Iil9fX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlc2V0IixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e2luaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxuPXRoaXMub3B0aW9ucztuLnRoZW1lfHwobi50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShpLCJjIikpLG4uY29udGVudFRoZW1lfHwobi5jb250ZW50VGhlbWU9aS5qcW1EYXRhKCJjb250ZW50LXRoZW1lIikpLG4uY29ybmVyc3x8KG4uY29ybmVycz1pLmpxbURhdGEoImNvcm5lcnMiKSksaS5qcW1EYXRhKCJpbnNldCIpIT09dCYmKG4uaW5zZXQ9aS5qcW1EYXRhKCJpbnNldCIpKSxuLmluc2V0PW4uaW5zZXQhPT10P24uaW5zZXQ6ITAsbi5jb3JuZXJzPW4uY29ybmVycyE9PXQ/bi5jb3JuZXJzOiEwLG4uY29ybmVycyYmbi5pbnNldCYmaS5hZGRDbGFzcygidWktY29ybmVyLWFsbCIpLGkuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIpfHxpLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiLCEwKS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKHQpe3ZhciBpPWUodC50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZSIpO2kucGFyZW50KCkuaXMoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikmJmkuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZSIpLnRyaWdnZXIoImNvbGxhcHNlIil9KX0sX2luaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsdD1lLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIiksaT10LmZpbHRlcigiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpIik7CnRoaXMuX3JlZnJlc2goInRydWUiKSxpLnRyaWdnZXIoImV4cGFuZCIpfSxfcmVmcmVzaDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTtlLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShpLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoaSx0aGlzLl9nZXRWaXNpYmxlcyhpLHQpLHQpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxlLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7ZS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIikuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJiEvXFMvLnRlc3QodGhpcy5ub2RlVmFsdWUpfSkucmVtb3ZlKCl9LGUoaSkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIix0LnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5maWVsZGNvbnRhaW4oKX0pfShlKSxmdW5jdGlvbihlKXtlLmZuLmdyaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpLG49ZSh0aGlzKSxhPWUuZXh0ZW5kKHtncmlkOm51bGx9LHQpLG89bi5jaGlsZHJlbigpLHM9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LHI9YS5ncmlkO2lmKCFyKWlmKDU+PW8ubGVuZ3RoKWZvcih2YXIgbCBpbiBzKXNbbF09PT1vLmxlbmd0aCYmKHI9bCk7ZWxzZSByPSJhIixuLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2k9c1tyXSxuLmFkZENsYXNzKCJ1aS1ncmlkLSIrciksby5maWx0ZXIoIjpudGgtY2hpbGQoIitpKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxpPjEmJm8uZmlsdGVyKCI6bnRoLWNoaWxkKCIraSsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksaT4yJiZvLmZpbHRlcigiOm50aC1jaGlsZCgiK2krIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGk+MyYmby5maWx0ZXIoIjpudGgtY2hpbGQoIitpKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxpPjQmJm8uZmlsdGVyKCI6bnRoLWNoaWxkKCIraSsibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGUubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSduYXZiYXInKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQsYT1uLmZpbmQoImEiKSxvPWEuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczp0O24uYWRkQ2xhc3MoInVpLW5hdmJhciB1aS1taW5pIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGEuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiExLHNoYWRvdzohMSxpbmxpbmU6ITAsaWNvbnBvczpvfSksbi5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24odCl7dmFyIG49ZSh0LnRhcmdldCkuaXMoImEiKT9lKHRoaXMpOmUodGhpcykucGFyZW50KCJhIik7aWYoIW4uaXMoIi51aS1kaXNhYmxlZCwgLnVpLWJ0bi1hY3RpdmUiKSl7YS5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksZSh0aGlzKS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7dmFyIG89ZSh0aGlzKTtlKGkpLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7by5yZW1vdmVDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxuLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7YS5maWx0ZXIoIi51aS1zdGF0ZS1wZXJzaXN0IikuYWRkQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLm5hdmJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9e307ZS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsZS5tb2JpbGUud2lkZ2V0LGUuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLGljb246ImFycm93LXIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0iIjt0Kz1lLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCI6IiIsZS5vcHRpb25zLmluc2V0JiYodCs9ZS5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIix0Kz1lLm9wdGlvbnMuc2hhZG93PyIgdWktc2hhZG93IjoiIiksZS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGkrIiB1aS1saXN0dmlldyIrdH0pLGUucmVmcmVzaCghMCl9LF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOmZ1bmN0aW9uKGUsdCxpLG4pe3ZhciBhPXt9O2ZvcihhW2ldPWFbbl09ITA7ZTspe2lmKGFbZS5ub2RlTmFtZV0pcmV0dXJuIGU7ZT1lW3RdfXJldHVybiBudWxsfSxfZ2V0Q2hpbGRyZW5CeVRhZ05hbWU6ZnVuY3Rpb24odCxpLG4pe3ZhciBhPVtdLG89e307Zm9yKG9baV09b1tuXT0hMCx0PXQuZmlyc3RDaGlsZDt0OylvW3Qubm9kZU5hbWVdJiZhLnB1c2godCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBlKGEpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKHQpe3ZhciBpLG4sYT10Lmxlbmd0aDtmb3IoaT0wO2E+aTtpKyspbj1lKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUodFtpXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxuLmxlbmd0aCYmKG4uYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksZSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKG5bMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3Mobi5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIG4sYSxvLHMscixsLGQsYyxoLHUscCxtLGY9dGhpcy5vcHRpb25zLGc9dGhpcy5lbGVtZW50LGI9Zy5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8Zi5kaXZpZGVyVGhlbWUsdj1nLmpxbURhdGEoInNwbGl0dGhlbWUiKSxfPWcuanFtRGF0YSgic3BsaXRpY29uIiksQz1nLmpxbURhdGEoImljb24iKSx4PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKGdbMF0sImxpIiwiTEkiKSx5PSEhZS5ub2RlTmFtZShnWzBdLCJvbCIpLHc9IWUuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50LFQ9Zy5hdHRyKCJzdGFydCIpLEQ9e307eSYmdyYmZy5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCkseSYmKFR8fDA9PT1UP3c/ZD1wYXJzZUludChULDEwKTooYz1wYXJzZUludChULDEwKS0xLGcuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2MpKTp3JiYoZD0xKSksZi50aGVtZXx8KGYudGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpO2Zvcih2YXIgUD0wLGs9eC5sZW5ndGg7az5QO1ArKyl7aWYobj14LmVxKFApLGE9InVpLWxpIix0fHwhbi5oYXNDbGFzcygidWktbGkiKSl7bz1uLmpxbURhdGEoInRoZW1lIil8fGYudGhlbWUscz10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShuWzBdLCJhIiwiQSIpO3ZhciBFPSJsaXN0LWRpdmlkZXIiPT09bi5qcW1EYXRhKCJyb2xlIik7cy5sZW5ndGgmJiFFPyhwPW4uanFtRGF0YSgiaWNvbiIpLG4uYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25wb3M6InJpZ2h0IixpY29uOnMubGVuZ3RoPjF8fHA9PT0hMT8hMTpwfHxDfHxmLmljb24sdGhlbWU6b30pLHAhPT0hMSYmMT09PXMubGVuZ3RoJiZuLmFkZENsYXNzKCJ1aS1saS1oYXMtYXJyb3ciKSxzLmZpcnN0KCkucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0Iikscy5sZW5ndGg+MSYmKGErPSIgdWktbGktaGFzLWFsdCIscj1zLmxhc3QoKSxsPXZ8fHIuanFtRGF0YSgidGhlbWUiKXx8Zi5zcGxpdFRoZW1lLG09ci5qcW1EYXRhKCJpY29uIiksci5hcHBlbmRUbyhuKS5hdHRyKCJ0aXRsZSIsZS50cmltKHIuZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSx0aGVtZTpvLGljb246ITEsaWNvbnBvczoibm90ZXh0In0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoZShpLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCx0aGVtZTpsLGljb25wb3M6Im5vdGV4dCIsaWNvbjptfHxwfHxffHxmLnNwbGl0SWNvbn0pKSkpOkU/KGErPSIgdWktbGktZGl2aWRlciB1aS1iYXItIisobi5qcW1EYXRhKCJ0aGVtZSIpfHxiKSxuLmF0dHIoInJvbGUiLCJoZWFkaW5nIikseSYmKFR8fDA9PT1UP3c/ZD1wYXJzZUludChULDEwKTooaD1wYXJzZUludChULDEwKS0xLG4uY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2gpKTp3JiYoZD0xKSkpOmErPSIgdWktbGktc3RhdGljIHVpLWJ0bi11cC0iK299eSYmdyYmMD5hLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKSYmKHU9YS5pbmRleE9mKCJ1aS1saS1zdGF0aWMiKT4wP246bi5maW5kKCIudWktbGluay1pbmhlcml0IiksdS5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2QrKyArIi4gPC9zcGFuPiIpKSxEW2FdfHwoRFthXT1bXSksRFthXS5wdXNoKG5bMF0pfWZvcihhIGluIEQpZShEW2FdKS5hZGRDbGFzcyhhKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKGEpO2cuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpO3QucHJlcGVuZFRvKHQucGFyZW50KCkpfSkuZW5kKCkuZmluZCgiLnVpLWxpLWNvdW50IikuZWFjaChmdW5jdGlvbigpe2UodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KS5hZGRDbGFzcygidWktYnRuLXVwLSIrKGcuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrIiB1aS1idG4tY29ybmVyLWFsbCIpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh4KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMoZy5maW5kKCIudWktbGluay1pbmhlcml0IikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoeCx0aGlzLl9nZXRWaXNpYmxlcyh4LHQpLHQpLHRoaXMuX3RyaWdnZXIoImFmdGVycmVmcmVzaCIpfSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW15hLXpBLVowLTldL2csIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGksYT10aGlzLmVsZW1lbnQsbz1hLmNsb3Nlc3QoIi51aS1wYWdlIikscz1vLmpxbURhdGEoInVybCIpLHI9c3x8b1swXVtlLmV4cGFuZG9dLGw9YS5hdHRyKCJpZCIpLGQ9dGhpcy5vcHRpb25zLGM9ImRhdGEtIitlLm1vYmlsZS5ucyxoPXRoaXMsdT1vLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKTtpZih0W3JdPT09biYmKHRbcl09LTEpLGw9bHx8Kyt0W3JdLGUoYS5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBuLG8scj1lKHRoaXMpLGg9ci5hdHRyKCJpZCIpfHxsKyItIit0LHA9ci5wYXJlbnQoKSxtPWUoci5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSksZj1tLmxlbmd0aD9tOmUoIjxzcGFuPiIrZS50cmltKHAuY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+IiksZz1mLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSxiPShzfHwiIikrIiYiK2UubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2gsdj1yLmpxbURhdGEoInRoZW1lIil8fGQudGhlbWUsXz1yLmpxbURhdGEoImNvdW50dGhlbWUiKXx8YS5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGQuY291bnRUaGVtZTtpPSEwLG49ci5kZXRhY2goKS53cmFwKCI8ZGl2ICIrYysicm9sZT0ncGFnZScgIitjKyJ1cmw9JyIrYisiJyAiK2MrInRoZW1lPSciK3YrIicgIitjKyJjb3VudC10aGVtZT0nIitfKyInPjxkaXYgIitjKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKS5wYXJlbnQoKS5iZWZvcmUoIjxkaXYgIitjKyJyb2xlPSdoZWFkZXInICIrYysidGhlbWU9JyIrZC5oZWFkZXJUaGVtZSsiJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitnKyI8L2Rpdj48L2Rpdj4iKS5hZnRlcih1P2UoIjxkaXYgIitjKyJyb2xlPSdmb290ZXInICIrYysiaWQ9JyIrdSsiJz4iKToiIikucGFyZW50KCkuYXBwZW5kVG8oZS5tb2JpbGUucGFnZUNvbnRhaW5lciksbi5wYWdlKCksbz1wLmZpbmQoImE6Zmlyc3QiKSxvLmxlbmd0aHx8KG89ZSgiPGEvPiIpLmh0bWwoZnx8ZykucHJlcGVuZFRvKHAuZW1wdHkoKSkpLG8uYXR0cigiaHJlZiIsIiMiK2IpfSkubGlzdHZpZXcoKSxpJiZvLmlzKCI6anFtRGF0YShleHRlcm5hbC1wYWdlPSd0cnVlJykiKSYmby5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGU9PT0hMSl7dmFyIHA9ZnVuY3Rpb24odCxpKXt2YXIgbixhPWkubmV4dFBhZ2Uscj1uZXcgZS5FdmVudCgicGFnZXJlbW92ZSIpO2kubmV4dFBhZ2UmJihuPWEuanFtRGF0YSgidXJsIiksMCE9PW4uaW5kZXhPZihzKyImIitlLm1vYmlsZS5zdWJQYWdlVXJsS2V5KSYmKGguY2hpbGRQYWdlcygpLnJlbW92ZSgpLG8udHJpZ2dlcihyKSxyLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCkpKX07by51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIscCl9fSxjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoInVybCIpO3JldHVybiBlKCI6anFtRGF0YSh1cmxePSciK3QrIiYiK2UubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSxlLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZSgibWV0YVtuYW1lPXZpZXdwb3J0XSIpLGk9dC5hdHRyKCJjb250ZW50Iiksbj1pKyIsbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vIixhPWkrIixtYXhpbXVtLXNjYWxlPTEwLCB1c2VyLXNjYWxhYmxlPXllcyIsbz0vKHVzZXItc2NhbGFibGVbXHNdKj1bXHNdKm5vKXwobWF4aW11bS1zY2FsZVtcc10qPVtcc10qMSlbJCxcc10vLnRlc3QoaSk7ZS5tb2JpbGUuem9vbT1lLmV4dGVuZCh7fSx7ZW5hYmxlZDohbyxsb2NrZWQ6ITEsZGlzYWJsZTpmdW5jdGlvbihpKXtvfHxlLm1vYmlsZS56b29tLmxvY2tlZHx8KHQuYXR0cigiY29udGVudCIsbiksZS5tb2JpbGUuem9vbS5lbmFibGVkPSExLGUubW9iaWxlLnpvb20ubG9ja2VkPWl8fCExKX0sZW5hYmxlOmZ1bmN0aW9uKGkpe298fGUubW9iaWxlLnpvb20ubG9ja2VkJiZpIT09ITB8fCh0LmF0dHIoImNvbnRlbnQiLGEpLGUubW9iaWxlLnpvb20uZW5hYmxlZD0hMCxlLm1vYmlsZS56b29tLmxvY2tlZD0hMSl9LHJlc3RvcmU6ZnVuY3Rpb24oKXtvfHwodC5hdHRyKCJjb250ZW50IixpKSxlLm1vYmlsZS56b29tLmVuYWJsZWQ9ITApfX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLG1pbmk6ITEscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10sIDpqcW1EYXRhKHR5cGU9J251bWJlcicpLCBpbnB1dFt0eXBlPSdwYXNzd29yZCddLCBpbnB1dFt0eXBlPSdlbWFpbCddLCBpbnB1dFt0eXBlPSd1cmwnXSwgaW5wdXRbdHlwZT0ndGVsJ10sIHRleHRhcmVhLCBpbnB1dFt0eXBlPSd0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGUnXSwgaW5wdXRbdHlwZT0nbW9udGgnXSwgaW5wdXRbdHlwZT0nd2VlayddLCBpbnB1dFt0eXBlPSdkYXRldGltZSddLCBpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBpbnB1dFt0eXBlPSdjb2xvciddLCBpbnB1dDpub3QoW3R5cGVdKSwgaW5wdXRbdHlwZT0nZmlsZSddIixjbGVhckJ0bjohMSxjbGVhclNlYXJjaEJ1dHRvblRleHQ6bnVsbCxjbGVhckJ0blRleHQ6ImNsZWFyIHRleHQiLGRpc2FibGVkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLnRvZ2dsZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iLCFzLnZhbCgpKX0sMCl9dmFyIGksYSxvPXRoaXMscz10aGlzLmVsZW1lbnQscj10aGlzLm9wdGlvbnMsbD1yLnRoZW1lfHxlLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSxkPSIgdWktYm9keS0iK2wsYz1yLm1pbmk/IiB1aS1taW5pIjoiIixoPXMuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSx1PXIuY2xlYXJTZWFyY2hCdXR0b25UZXh0fHxyLmNsZWFyQnRuVGV4dCxwPXMuaXMoInRleHRhcmVhLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpIiksbT0hIXIuY2xlYXJCdG4mJiFwLGY9cy5pcygiaW5wdXQiKSYmIXMuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKTtpZihlKCJsYWJlbFtmb3I9JyIrcy5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IiksaT1zLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIitsKSxzWzBdLmF1dG9jb3JyZWN0PT09bnx8ZS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3d8fChzWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxzWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpLGg/aT1zLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIitkK2MrIic+PC9kaXY+IikucGFyZW50KCk6ZiYmKGk9cy53cmFwKCI8ZGl2IGNsYXNzPSd1aS1pbnB1dC10ZXh0IHVpLXNoYWRvdy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLWJ0bi1zaGFkb3ciK2QrYysiJz48L2Rpdj4iKS5wYXJlbnQoKSksbXx8aD8oYT1lKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSciK3UrIic+Iit1KyI8L2E+IikuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGUpe3MudmFsKCIiKS5mb2N1cygpLnRyaWdnZXIoImNoYW5nZSIpLGEuYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpLGUucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGkpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6ITAsc2hhZG93OiEwLG1pbmk6ci5taW5pfSksaHx8aS5hZGRDbGFzcygidWktaW5wdXQtaGFzLWNsZWFyIiksdCgpLHMuYmluZCgicGFzdGUgY3V0IGtleXVwIGlucHV0IGZvY3VzIGNoYW5nZSBibHVyIix0KSk6Znx8aHx8cy5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1zaGFkb3ctaW5zZXQiK2QrYykscy5mb2N1cyhmdW5jdGlvbigpe3IucHJldmVudEZvY3VzWm9vbSYmZS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKSxpLmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmx1cihmdW5jdGlvbigpe2kucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyksci5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KSxzLmlzKCJ0ZXh0YXJlYSIpKXt2YXIgZyxiPTE1LHY9MTAwO3RoaXMuX2tleXVwPWZ1bmN0aW9uKCl7dmFyIGU9c1swXS5zY3JvbGxIZWlnaHQsdD1zWzBdLmNsaWVudEhlaWdodDtpZihlPnQpe3ZhciBpPXBhcnNlRmxvYXQocy5jc3MoInBhZGRpbmctdG9wIikpLG49cGFyc2VGbG9hdChzLmNzcygicGFkZGluZy1ib3R0b20iKSksYT1pK247cy5oZWlnaHQoZS1hK2IpfX0scy5vbigia2V5dXAgY2hhbmdlIGlucHV0IHBhc3RlIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChnKSxnPXNldFRpbWVvdXQoby5fa2V5dXAsdil9KSx0aGlzLl9vbighMCxlLm1vYmlsZS5kb2N1bWVudCx7cGFnZWNoYW5nZToiX2tleXVwIn0pLGUudHJpbShzLnZhbCgpKSYmdGhpcy5fb24oITAsZS5tb2JpbGUud2luZG93LHtsb2FkOiJfa2V5dXAifSl9cy5hdHRyKCJkaXNhYmxlZCIpJiZ0aGlzLmRpc2FibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksaT10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxuPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApJiYoaXx8dCk7cmV0dXJuIGU9bj90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50LGUuYWRkQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZWxlbWVudC5pcygiW3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpLGk9dGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpJiYhdGhpcy5lbGVtZW50LmlzKCI6anFtRGF0YSh0eXBlPSdyYW5nZScpIiksbj10aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKSYmKGl8fHQpO3JldHVybiBlPW4/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCxlLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX19KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ITEsZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9IkZpbHRlciBpdGVtcy4uLiIsZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWU9ImMiLGUubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclJldmVhbD0hMTt2YXIgdD1mdW5jdGlvbihlLHQpe3JldHVybi0xPT09KCIiK2UpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KX07ZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2s9dCxlLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgidWwsIG9sIiwibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKSxuPWkuZGF0YSgibW9iaWxlLWxpc3R2aWV3Iik7aWYobiYmbi5vcHRpb25zLmZpbHRlcil7bi5vcHRpb25zLmZpbHRlclJldmVhbCYmaS5jaGlsZHJlbigpLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik7dmFyIGE9ZSgiPGZvcm0+Iix7ImNsYXNzIjoidWktbGlzdHZpZXctZmlsdGVyIHVpLWJhci0iK24ub3B0aW9ucy5maWx0ZXJUaGVtZSxyb2xlOiJzZWFyY2gifSkuc3VibWl0KGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxzLmJsdXIoKX0pLG89ZnVuY3Rpb24oKXt2YXIgYSxvPWUodGhpcykscz10aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCkscj1udWxsLGw9aS5jaGlsZHJlbigpLGQ9by5qcW1EYXRhKCJsYXN0dmFsIikrIiIsYz0hMSxoPSIiLHU9bi5vcHRpb25zLmZpbHRlckNhbGxiYWNrIT09dDtpZighZHx8ZCE9PXMpe2lmKG4uX3RyaWdnZXIoImJlZm9yZWZpbHRlciIsImJlZm9yZWZpbHRlciIse2lucHV0OnRoaXN9KSxvLmpxbURhdGEoImxhc3R2YWwiLHMpLHV8fHMubGVuZ3RoPGQubGVuZ3RofHwwIT09cy5pbmRleE9mKGQpP3I9aS5jaGlsZHJlbigpOihyPWkuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIiksIXIubGVuZ3RoJiZuLm9wdGlvbnMuZmlsdGVyUmV2ZWFsJiYocj1pLmNoaWxkcmVuKCIudWktc2NyZWVuLWhpZGRlbiIpKSkscyl7Zm9yKHZhciBwPXIubGVuZ3RoLTE7cD49MDtwLS0pYT1lKHJbcF0pLGg9YS5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fGEudGV4dCgpLGEuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/KGEudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCFjKSxjPSExKTpuLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soaCxzLGEpP2EudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCEwKTpjPSEwO3IuZmlsdGVyKCI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMSksci5maWx0ZXIoIi51aS1maWx0ZXItaGlkZXF1ZXVlIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCEwKS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITEpfWVsc2Ugci50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsISFuLm9wdGlvbnMuZmlsdGVyUmV2ZWFsKTtuLl9hZGRGaXJzdExhc3RDbGFzc2VzKGwsbi5fZ2V0VmlzaWJsZXMobCwhMSksITEpfX0scz1lKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6bi5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsIiIpLmJpbmQoImtleXVwIGNoYW5nZSBpbnB1dCIsbykuYXBwZW5kVG8oYSkudGV4dGlucHV0KCk7bi5vcHRpb25zLmluc2V0JiZhLmFkZENsYXNzKCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXQiKSxhLmJpbmQoInN1Ym1pdCIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pLmluc2VydEJlZm9yZShpKX19KX0oZSksZnVuY3Rpb24oZSl7ZS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzPSExLGUubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yPWZ1bmN0aW9uKHQpe3ZhciBpPWUudHJpbSh0LnRleHQoKSl8fG51bGw7cmV0dXJuIGk/aT1pLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKTpudWxsfSxlLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgidWwsb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMpLG49dC5kYXRhKCJtb2JpbGUtbGlzdHZpZXciKTtpZihuJiZuLm9wdGlvbnMuYXV0b2RpdmlkZXJzKXt2YXIgYT1mdW5jdGlvbigpe3QuZmluZCgibGk6anFtRGF0YShyb2xlPSdsaXN0LWRpdmlkZXInKSIpLnJlbW92ZSgpO2Zvcih2YXIgYSxvLHM9dC5maW5kKCJsaSIpLHI9bnVsbCxsPTA7cy5sZW5ndGg+bDtsKyspe2lmKGE9c1tsXSxvPW4ub3B0aW9ucy5hdXRvZGl2aWRlcnNTZWxlY3RvcihlKGEpKSxvJiZyIT09byl7dmFyIGQ9aS5jcmVhdGVFbGVtZW50KCJsaSIpO2QuYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZShvKSksZC5zZXRBdHRyaWJ1dGUoImRhdGEtIitlLm1vYmlsZS5ucysicm9sZSIsImxpc3QtZGl2aWRlciIpLGEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZCxhKX1yPW99fSxvPWZ1bmN0aW9uKCl7dC51bmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixvKSxhKCksbi5yZWZyZXNoKCksdC5iaW5kKCJsaXN0dmlld2FmdGVycmVmcmVzaCIsbyl9O28oKX19KX0oZSksZnVuY3Rpb24oZSl7ZShpKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZSgiOmpxbURhdGEocm9sZT0nbm9qcycpIix0LnRhcmdldCkuYWRkQ2xhc3MoInVpLW5vanMiKX0pfShlKSxmdW5jdGlvbihlKXtlLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0PXtfaGFuZGxlRm9ybVJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKSx7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9kZWxheSgiX3Jlc2V0Iil9fSl9fX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsbWluaTohMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J2NoZWNrYm94J10saW5wdXRbdHlwZT0ncmFkaW8nXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9dGhpcy5lbGVtZW50LG89dGhpcy5vcHRpb25zLHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5qcW1EYXRhKHQpfHxlLmNsb3Nlc3QoImZvcm0sIGZpZWxkc2V0IikuanFtRGF0YSh0KX0scj1lKGEpLmNsb3Nlc3QoImxhYmVsIiksbD1yLmxlbmd0aD9yOmUoYSkuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQsIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maW5kKCJsYWJlbCIpLmZpbHRlcigiW2Zvcj0nIithWzBdLmlkKyInXSIpLmZpcnN0KCksZD1hWzBdLnR5cGUsYz1zKGEsIm1pbmkiKXx8by5taW5pLGg9ZCsiLW9uIix1PWQrIi1vZmYiLHA9cyhhLCJpY29ucG9zIiksbT0idWktIitoLGY9InVpLSIrdTtpZigiY2hlY2tib3giPT09ZHx8InJhZGlvIj09PWQpe2UuZXh0ZW5kKHRoaXMse2xhYmVsOmwsaW5wdXR0eXBlOmQsY2hlY2tlZENsYXNzOm0sdW5jaGVja2VkQ2xhc3M6ZixjaGVja2VkaWNvbjpoLHVuY2hlY2tlZGljb246dX0pLG8udGhlbWV8fChvLnRoZW1lPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpKSxsLmJ1dHRvbk1hcmt1cCh7dGhlbWU6by50aGVtZSxpY29uOnUsc2hhZG93OiExLG1pbmk6YyxpY29ucG9zOnB9KTt2YXIgZz1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuY2xhc3NOYW1lPSJ1aS0iK2QsYS5hZGQobCkud3JhcEFsbChnKSxsLmJpbmQoe3Ztb3VzZW92ZXI6ZnVuY3Rpb24odCl7ZSh0aGlzKS5wYXJlbnQoKS5pcygiLnVpLWRpc2FibGVkIikmJnQuc3RvcFByb3BhZ2F0aW9uKCl9LHZjbGljazpmdW5jdGlvbihlKXtyZXR1cm4gYS5pcygiOmRpc2FibGVkIik/KGUucHJldmVudERlZmF1bHQoKSxuKToodC5fY2FjaGVWYWxzKCksYS5wcm9wKCJjaGVja2VkIiwicmFkaW8iPT09ZCYmITB8fCFhLnByb3AoImNoZWNrZWQiKSksYS50cmlnZ2VySGFuZGxlcigiY2xpY2siKSx0Ll9nZXRJbnB1dFNldCgpLm5vdChhKS5wcm9wKCJjaGVja2VkIiwhMSksdC5fdXBkYXRlQWxsKCksITEpfX0pLGEuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe3QuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgaT1lKHRoaXMpO2kuaXMoIjpjaGVja2VkIik/KGkucHJvcCgiY2hlY2tlZCIsITApLHQuX2dldElucHV0U2V0KCkubm90KGkpLnByb3AoImNoZWNrZWQiLCExKSk6aS5wcm9wKCJjaGVja2VkIiwhMSksdC5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7bC5hZGRDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe2wucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKCl9fSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzKS5qcW1EYXRhKCJjYWNoZVZhbCIsdGhpcy5jaGVja2VkKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iY2hlY2tib3giPT09dGhpcy5pbnB1dHR5cGU/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLCA6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnRbMF0ubmFtZSsiJ11bdHlwZT0nIit0aGlzLmlucHV0dHlwZSsiJ10iKX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9ZSh0aGlzKTsodGhpcy5jaGVja2VkfHwiY2hlY2tib3giPT09dC5pbnB1dHR5cGUpJiZpLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXSxpPSIgIitlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxuPXRoaXMuY2hlY2tlZENsYXNzKyh0aGlzLmVsZW1lbnQucGFyZW50cygiLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIikubGVuZ3RoP2k6IiIpLGE9dGhpcy5sYWJlbDt0LmNoZWNrZWQ/YS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzK2kpLmFkZENsYXNzKG4pLmJ1dHRvbk1hcmt1cCh7aWNvbjp0aGlzLmNoZWNrZWRpY29ufSk6YS5yZW1vdmVDbGFzcyhuKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKS5idXR0b25NYXJrdXAoe2ljb246dGhpcy51bmNoZWNrZWRpY29ufSksdC5kaXNhYmxlZD90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0sZS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKHQudGFyZ2V0LCEwKX0pfShlKSxmdW5jdGlvbihlKXtlLndpZGdldCgibW9iaWxlLmJ1dHRvbiIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCxpbmxpbmU6bnVsbCxtaW5pOm51bGwsaW5pdFNlbGVjdG9yOiJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuZWxlbWVudCxhPWZ1bmN0aW9uKGUpe3ZhciB0LGk9e307Zm9yKHQgaW4gZSludWxsIT09ZVt0XSYmImluaXRTZWxlY3RvciIhPT10JiYoaVt0XT1lW3RdKTtyZXR1cm4gaX0odGhpcy5vcHRpb25zKSxvPSIiO3JldHVybiJBIj09PWlbMF0udGFnTmFtZT8oaS5oYXNDbGFzcygidWktYnRuIil8fGkuYnV0dG9uTWFya3VwKCksbik6KHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1lLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSksfmlbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihvPSJ1aS1idG4tbGVmdCIpLH5pWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKG89InVpLWJ0bi1yaWdodCIpLCgic3VibWl0Ij09PWkuYXR0cigidHlwZSIpfHwicmVzZXQiPT09aS5hdHRyKCJ0eXBlIikpJiYobz9vKz0iIHVpLXN1Ym1pdCI6bz0idWktc3VibWl0IiksZSgibGFiZWxbZm9yPSciK2kuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktc3VibWl0IiksdGhpcy5idXR0b249ZSgiPGRpdj48L2Rpdj4iKVtpLmh0bWwoKT8iaHRtbCI6InRleHQiXShpLmh0bWwoKXx8aS52YWwoKSkuaW5zZXJ0QmVmb3JlKGkpLmJ1dHRvbk1hcmt1cChhKS5hZGRDbGFzcyhvKS5hcHBlbmQoaS5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKSx0PXRoaXMuYnV0dG9uLGkuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXt0LmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7dC5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLnJlZnJlc2goKSxuKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciBuPXt9O25bdF09aSwiaW5pdFNlbGVjdG9yIiE9PXQmJih0aGlzLmJ1dHRvbi5idXR0b25NYXJrdXAobiksdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoZS5tb2JpbGUubnN8fCIiKSt0LnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLGkpKSx0aGlzLl9zdXBlcigiX3NldE9wdGlvbiIsdCxpKX0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpLHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCksdGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudDt0LnByb3AoImRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKSxlKHRoaXMuYnV0dG9uLmRhdGEoImJ1dHRvbkVsZW1lbnRzIikudGV4dClbdC5odG1sKCk/Imh0bWwiOiJ0ZXh0Il0odC5odG1sKCl8fHQudmFsKCkpfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5idXR0b24ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQsITApfSl9KGUpLGZ1bmN0aW9uKGUsbil7ZS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGUubW9iaWxlLndpZGdldCxlLmV4dGVuZCh7d2lkZ2V0RXZlbnRQcmVmaXg6InNsaWRlIixvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIixtaW5pOiExLGhpZ2hsaWdodDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhLG8scz10aGlzLHI9dGhpcy5lbGVtZW50LGw9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUociwiYyIpLGQ9dGhpcy5vcHRpb25zLnRoZW1lfHxsLGM9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGwsaD1yWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksdT0odGhpcy5pc1RvZ2dsZVN3aXRjaD0ic2VsZWN0Ij09PWgsci5wYXJlbnQoKS5pcygiOmpxbURhdGEocm9sZT0ncmFuZ2VzbGlkZXInKSIpKSxwPXRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiIiLG09ci5hdHRyKCJpZCIpLGY9ZSgiW2Zvcj0nIittKyInXSIpLGc9Zi5hdHRyKCJpZCIpfHxtKyItbGFiZWwiLGI9Zi5hdHRyKCJpZCIsZyksdj10aGlzLmlzVG9nZ2xlU3dpdGNoPzA6cGFyc2VGbG9hdChyLmF0dHIoIm1pbiIpKSxfPXRoaXMuaXNUb2dnbGVTd2l0Y2g/ci5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTpwYXJzZUZsb2F0KHIuYXR0cigibWF4IikpLEM9dC5wYXJzZUZsb2F0KHIuYXR0cigic3RlcCIpfHwxKSx4PXRoaXMub3B0aW9ucy5taW5pfHxyLmpxbURhdGEoIm1pbmkiKT8iIHVpLW1pbmkiOiIiLHk9aS5jcmVhdGVFbGVtZW50KCJhIiksdz1lKHkpLFQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKSxEPWUoVCksUD10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaD9mdW5jdGlvbigpe3ZhciB0PWkuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHQuY2xhc3NOYW1lPSJ1aS1zbGlkZXItYmcgIitlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcysiIHVpLWJ0bi1jb3JuZXItYWxsIixlKHQpLnByZXBlbmRUbyhEKX0oKTohMTtpZih5LnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiKSxULnNldEF0dHJpYnV0ZSgicm9sZSIsImFwcGxpY2F0aW9uIiksVC5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlciAiOiJ1aS1zbGlkZXItdHJhY2sgIixwLCIgdWktYnRuLWRvd24tIixjLCIgdWktYnRuLWNvcm5lci1hbGwiLHhdLmpvaW4oIiIpLHkuY2xhc3NOYW1lPSJ1aS1zbGlkZXItaGFuZGxlIixULmFwcGVuZENoaWxkKHkpLHcuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmQsc2hhZG93OiEwfSkuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6diwiYXJpYS12YWx1ZW1heCI6XywiYXJpYS12YWx1ZW5vdyI6dGhpcy5fdmFsdWUoKSwiYXJpYS12YWx1ZXRleHQiOnRoaXMuX3ZhbHVlKCksdGl0bGU6dGhpcy5fdmFsdWUoKSwiYXJpYS1sYWJlbGxlZGJ5IjpnfSksZS5leHRlbmQodGhpcyx7c2xpZGVyOkQsaGFuZGxlOncsdHlwZTpoLHN0ZXA6QyxtYXg6XyxtaW46dix2YWx1ZWJnOlAsaXNSYW5nZXNsaWRlcjp1LGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOiExLG1vdXNlTW92ZWQ6ITF9KSx0aGlzLmlzVG9nZ2xlU3dpdGNoKXtvPWkuY3JlYXRlRWxlbWVudCgiZGl2Iiksby5jbGFzc05hbWU9InVpLXNsaWRlci1pbm5lcm9mZnNldCI7Zm9yKHZhciBrPTAsRT1ULmNoaWxkTm9kZXMubGVuZ3RoO0U+aztrKyspby5hcHBlbmRDaGlsZChULmNoaWxkTm9kZXNba10pO1QuYXBwZW5kQ2hpbGQobyksdy5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLGE9ci5maW5kKCJvcHRpb24iKTtmb3IodmFyIHE9MCxqPWEubGVuZ3RoO2o+cTtxKyspe3ZhciBTPXE/ImEiOiJiIixBPXE/IiAiK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzOiIgdWktYnRuLWRvd24tIitjLE49KGkuY3JlYXRlRWxlbWVudCgiZGl2IiksaS5jcmVhdGVFbGVtZW50KCJzcGFuIikpO04uY2xhc3NOYW1lPVsidWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iLFMsQSwiIHVpLWJ0bi1jb3JuZXItYWxsIl0uam9pbigiIiksTi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJpbWciKSxOLmFwcGVuZENoaWxkKGkuY3JlYXRlVGV4dE5vZGUoYVtxXS5pbm5lckhUTUwpKSxlKE4pLnByZXBlbmRUbyhEKX1zLl9sYWJlbHM9ZSgiLnVpLXNsaWRlci1sYWJlbCIsRCl9Yi5hZGRDbGFzcygidWktc2xpZGVyIiksci5hZGRDbGFzcyh0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXItc3dpdGNoIjoidWktc2xpZGVyLWlucHV0IiksdGhpcy5fb24ocix7Y2hhbmdlOiJfY29udHJvbENoYW5nZSIsa2V5dXA6Il9jb250cm9sS2V5dXAiLGJsdXI6Il9jb250cm9sQmx1ciIsdm1vdXNldXA6Il9jb250cm9sVk1vdXNlVXAifSksRC5iaW5kKCJ2bW91c2Vkb3duIixlLnByb3h5KHRoaXMuX3NsaWRlclZNb3VzZURvd24sdGhpcykpLmJpbmQoInZjbGljayIsITEpLHRoaXMuX29uKGkse3Ztb3VzZW1vdmU6Il9wcmV2ZW50RG9jdW1lbnREcmFnIn0pLHRoaXMuX29uKEQuYWRkKGkpLHt2bW91c2V1cDoiX3NsaWRlclZNb3VzZVVwIn0pLEQuaW5zZXJ0QWZ0ZXIociksdGhpcy5pc1RvZ2dsZVN3aXRjaHx8dXx8KG89dGhpcy5vcHRpb25zLm1pbmk/IjxkaXYgY2xhc3M9J3VpLXNsaWRlciB1aS1taW5pJz4iOiI8ZGl2IGNsYXNzPSd1aS1zbGlkZXInPiIsci5hZGQoRCkud3JhcEFsbChvKSksdGhpcy5pc1RvZ2dsZVN3aXRjaCYmdGhpcy5oYW5kbGUuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXtELmFkZENsYXNzKGUubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7RC5yZW1vdmVDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLl9vbih0aGlzLmhhbmRsZSx7dm1vdXNlZG93bjoiX2hhbmRsZVZNb3VzZURvd24iLGtleWRvd246Il9oYW5kbGVLZXlkb3duIixrZXl1cDoiX2hhbmRsZUtleXVwIn0pLHRoaXMuaGFuZGxlLmJpbmQoInZjbGljayIsITEpLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChuLG4sITApfSxfY29udHJvbENoYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcigiY29udHJvbGNoYW5nZSIsZSk9PT0hMT8hMToodGhpcy5tb3VzZU1vdmVkfHx0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCksbil9LF9jb250cm9sS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCwhMCl9LF9jb250cm9sQmx1cjpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKX0sX2NvbnRyb2xWTW91c2VVcDpmdW5jdGlvbigpe3RoaXMuX2NoZWNrZWRSZWZyZXNoKCl9LF9oYW5kbGVWTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZm9jdXMoKX0sX2hhbmRsZUtleWRvd246ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fdmFsdWUoKTtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGUubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGUubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgZS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGUubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGUubW9iaWxlLmtleUNvZGUuTEVGVDp0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5U2xpZGluZ3x8KHRoaXMuX2tleVNsaWRpbmc9ITAsdGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKX1zd2l0Y2godC5rZXlDb2RlKXtjYXNlIGUubW9iaWxlLmtleUNvZGUuSE9NRTp0aGlzLnJlZnJlc2godGhpcy5taW4pO2JyZWFrO2Nhc2UgZS5tb2JpbGUua2V5Q29kZS5FTkQ6dGhpcy5yZWZyZXNoKHRoaXMubWF4KTticmVhaztjYXNlIGUubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGUubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlJJR0hUOnRoaXMucmVmcmVzaChpK3RoaXMuc3RlcCk7YnJlYWs7Y2FzZSBlLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGUubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGUubW9iaWxlLmtleUNvZGUuTEVGVDp0aGlzLnJlZnJlc2goaS10aGlzLnN0ZXApfX19LF9oYW5kbGVLZXl1cDpmdW5jdGlvbigpe3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9LF9zbGlkZXJWTW91c2VEb3duOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fDEhPT1lLndoaWNoJiYwIT09ZS53aGljaD8hMTp0aGlzLl90cmlnZ2VyKCJiZWZvcmVzdGFydCIsZSk9PT0hMT8hMToodGhpcy5kcmFnZ2luZz0hMCx0aGlzLnVzZXJNb2RpZmllZD0hMSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuYmVmb3JlU3RhcnQ9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLHRoaXMucmVmcmVzaChlKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIpLCExKX0sX3NsaWRlclZNb3VzZVVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ2dpbmc/KHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5tb3VzZU1vdmVkP3RoaXMudXNlck1vZGlmaWVkP3RoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApOnRoaXMucmVmcmVzaCh0aGlzLmJlZm9yZVN0YXJ0KTp0aGlzLnJlZnJlc2goMD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKSksdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuX3RyaWdnZXIoInN0b3AiKSwhMSk6bn0sX3ByZXZlbnREb2N1bWVudERyYWc6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImRyYWciLGUpPT09ITE/ITE6dGhpcy5kcmFnZ2luZyYmIXRoaXMub3B0aW9ucy5kaXNhYmxlZD8odGhpcy5tb3VzZU1vdmVkPSEwLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksdGhpcy5yZWZyZXNoKGUpLHRoaXMudXNlck1vZGlmaWVkPXRoaXMuYmVmb3JlU3RhcnQhPT10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCwhMSk6bn0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb2dnbGVTd2l0Y2g/dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg6cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2gobiwhMSwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24odCxhLG8pe3ZhciBzLHIsbCxkLGM9dGhpcyxoPWUubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLHU9dGhpcy5vcHRpb25zLnRoZW1lfHxoLHA9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGg7Yy5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci10cmFjayIsIiB1aS1idG4tZG93bi0iK3AsIiB1aS1idG4tY29ybmVyLWFsbCIsdGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIl0uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdC5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGUodCkucHJlcGVuZFRvKGMuc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOnUsc2hhZG93OiEwfSk7dmFyIG0sZixnPXRoaXMuZWxlbWVudCxiPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLHY9Yj9bXTpnLmZpbmQoIm9wdGlvbiIpLF89Yj9wYXJzZUZsb2F0KGcuYXR0cigibWluIikpOjAsQz1iP3BhcnNlRmxvYXQoZy5hdHRyKCJtYXgiKSk6di5sZW5ndGgtMSx4PWImJnBhcnNlRmxvYXQoZy5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChnLmF0dHIoInN0ZXAiKSk6MTtpZigib2JqZWN0Ij09dHlwZW9mIHQpe2lmKGw9dCxkPTgscz10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LHI9dGhpcy5zbGlkZXIud2lkdGgoKSxtPXIvKChDLV8pL3gpLCF0aGlzLmRyYWdnaW5nfHxzLWQ+bC5wYWdlWHx8bC5wYWdlWD5zK3IrZClyZXR1cm47Zj1tPjE/MTAwKigobC5wYWdlWC1zKS9yKTpNYXRoLnJvdW5kKDEwMCooKGwucGFnZVgtcykvcikpfWVsc2UgbnVsbD09dCYmKHQ9Yj9wYXJzZUZsb2F0KGcudmFsKCl8fDApOmdbMF0uc2VsZWN0ZWRJbmRleCksZj0xMDAqKChwYXJzZUZsb2F0KHQpLV8pLyhDLV8pKTtpZighaXNOYU4oZikpe3ZhciB5PWYvMTAwKihDLV8pK18sdz0oeS1fKSV4LFQ9eS13OzIqTWF0aC5hYnModyk+PXgmJihUKz13PjA/eDoteCk7dmFyIEQ9MTAwLygoQy1fKS94KTtpZih5PXBhcnNlRmxvYXQoVC50b0ZpeGVkKDUpKSxtPT09biYmKG09ci8oKEMtXykveCkpLG0+MSYmYiYmKGY9KHktXykqRCooMS94KSksMD5mJiYoZj0wKSxmPjEwMCYmKGY9MTAwKSxfPnkmJih5PV8pLHk+QyYmKHk9QyksdGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixmKyIlIiksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbm93IixiP3k6di5lcSh5KS5hdHRyKCJ2YWx1ZSIpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWV0ZXh0IixiP3k6di5lcSh5KS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoInRpdGxlIixiP3k6di5lcSh5KS5nZXRFbmNvZGVkVGV4dCgpKSx0aGlzLnZhbHVlYmcmJnRoaXMudmFsdWViZy5jc3MoIndpZHRoIixmKyIlIiksdGhpcy5fbGFiZWxzKXt2YXIgUD0xMDAqKHRoaXMuaGFuZGxlLndpZHRoKCkvdGhpcy5zbGlkZXIud2lkdGgoKSksaz1mJiZQKygxMDAtUCkqZi8xMDAsRT0xMDA9PT1mPzA6TWF0aC5taW4oUCsxMDAtaywxMDApO3RoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5pcygiLnVpLXNsaWRlci1sYWJlbC1hIik7ZSh0aGlzKS53aWR0aCgodD9rOkUpKyIlIil9KX1pZighbyl7dmFyIHE9ITE7aWYoYj8ocT1nLnZhbCgpIT09eSxnLnZhbCh5KSk6KHE9Z1swXS5zZWxlY3RlZEluZGV4IT09eSxnWzBdLnNlbGVjdGVkSW5kZXg9eSksdGhpcy5fdHJpZ2dlcigiYmVmb3JlY2hhbmdlIix0KT09PSExKXJldHVybiExOyFhJiZxJiZnLnRyaWdnZXIoImNoYW5nZSIpfX19LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKSx0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApLHRoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9fSxlLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLnNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5yYW5nZXNsaWRlciIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3Jhbmdlc2xpZGVyJykiLG1pbmk6ITEsaGlnaGxpZ2h0OiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLmVsZW1lbnQsbj10aGlzLm9wdGlvbnMubWluaT8idWktcmFuZ2VzbGlkZXIgdWktbWluaSI6InVpLXJhbmdlc2xpZGVyIixhPWkuZmluZCgiaW5wdXQiKS5maXJzdCgpLG89aS5maW5kKCJpbnB1dCIpLmxhc3QoKSxzPWkuZmluZCgibGFiZWwiKS5maXJzdCgpLHI9ZS5kYXRhKGEuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5zbGlkZXIsbD1lLmRhdGEoby5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnNsaWRlcixkPWUuZGF0YShhLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLGM9ZSgnPGRpdiBjbGFzcz0idWktcmFuZ2VzbGlkZXItc2xpZGVycyIgLz4nKS5hcHBlbmRUbyhpKTtpLmZpbmQoImxhYmVsIikubGVuZ3RoPjEmJih0PWkuZmluZCgibGFiZWwiKS5sYXN0KCkuaGlkZSgpKSxhLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1maXJzdCIpLG8uYWRkQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWxhc3QiKSxpLmFkZENsYXNzKG4pLHIuYXBwZW5kVG8oYyksbC5hcHBlbmRUbyhjKSxzLnByZXBlbmRUbyhpKSxkLnByZXBlbmRUbyhsKSxlLmV4dGVuZCh0aGlzLHtfaW5wdXRGaXJzdDphLF9pbnB1dExhc3Q6byxfc2xpZGVyRmlyc3Q6cixfc2xpZGVyTGFzdDpsLF90YXJnZXRWYWw6bnVsbCxfc2xpZGVyVGFyZ2V0OiExLF9zbGlkZXJzOmMsX3Byb3h5OiExfSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb24odGhpcy5lbGVtZW50LmZpbmQoImlucHV0LnVpLXNsaWRlci1pbnB1dCIpLHtzbGlkZWJlZm9yZXN0YXJ0OiJfc2xpZGViZWZvcmVzdGFydCIsc2xpZGVzdG9wOiJfc2xpZGVzdG9wIixzbGlkZWRyYWc6Il9zbGlkZWRyYWciLHNsaWRlYmVmb3JlY2hhbmdlOiJfY2hhbmdlIixibHVyOiJfY2hhbmdlIixrZXl1cDoiX2NoYW5nZSJ9KSx0aGlzLl9vbih7bW91c2Vkb3duOiJfY2hhbmdlIn0pLHRoaXMuX29uKHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikse3Jlc2V0OiJfaGFuZGxlUmVzZXQifSksdGhpcy5fb24oZCx7dm1vdXNlZG93bjoiX2RyYWdGaXJzdEhhbmRsZSJ9KX0sX2hhbmRsZVJlc2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fdXBkYXRlSGlnaGxpZ2h0KCl9LDApfSxfZHJhZ0ZpcnN0SGFuZGxlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmRyYWdnaW5nPSEwLGUuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikucmVmcmVzaCh0KSwhMX0sX3NsaWRlZHJhZzpmdW5jdGlvbih0KXt2YXIgaT1lKHQudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KSxhPWk/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7cmV0dXJuIHRoaXMuX3NsaWRlclRhcmdldD0hMSwiZmlyc3QiPT09dGhpcy5fcHJveHkmJml8fCJsYXN0Ij09PXRoaXMuX3Byb3h5JiYhaT8oZS5kYXRhKGEuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5kcmFnZ2luZz0hMCxlLmRhdGEoYS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnJlZnJlc2godCksITEpOm59LF9zbGlkZXN0b3A6ZnVuY3Rpb24odCl7dmFyIGk9ZSh0LnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGk/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKHQpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxlKHQub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9ZSh0LnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUpe3RoaXMuX3N1cGVyQXBwbHkoZSksdGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmVsZW1lbnQsdD10aGlzLm9wdGlvbnM7ZS5maW5kKCJpbnB1dCIpLnNsaWRlcih7dGhlbWU6dC50aGVtZSx0cmFja1RoZW1lOnQudHJhY2tUaGVtZSxkaXNhYmxlZDp0LmRpc2FibGVkLG1pbmk6dC5taW5pLGhpZ2hsaWdodDp0LmhpZ2hsaWdodH0pLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfSxfY2hhbmdlOmZ1bmN0aW9uKHQpe2lmKCJrZXl1cCI9PT10LnR5cGUpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBpPXRoaXMsYT1wYXJzZUZsb2F0KHRoaXMuX2lucHV0Rmlyc3QudmFsKCksMTApLG89cGFyc2VGbG9hdCh0aGlzLl9pbnB1dExhc3QudmFsKCksMTApLHM9ZSh0LnRhcmdldCkuaGFzQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0Iikscj1zP3RoaXMuX2lucHV0Rmlyc3Q6dGhpcy5faW5wdXRMYXN0LGw9cz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtpZih0aGlzLl9pbnB1dEZpcnN0LnZhbCgpPnRoaXMuX2lucHV0TGFzdC52YWwoKSYmIm1vdXNlZG93biI9PT10LnR5cGUmJiFlKHQudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpKXIuYmx1cigpO2Vsc2UgaWYoIm1vdXNlZG93biI9PT10LnR5cGUpcmV0dXJuO3JldHVybiBhPm8mJiF0aGlzLl9zbGlkZXJUYXJnZXQ/KHIudmFsKHM/bzphKS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl90cmlnZ2VyKCJub3JtYWxpemUiKSk6YT5vJiYoci52YWwodGhpcy5fdGFyZ2V0VmFsKS5zbGlkZXIoInJlZnJlc2giKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC52YWwocz9hOm8pLnNsaWRlcigicmVmcmVzaCIpLGUuZGF0YShsLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmZvY3VzKCksaS5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixzPyIiOjEpLGkuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1zPyJmaXJzdCI6Imxhc3QiKSxhPT09bz8oZS5kYXRhKHIuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxlLmRhdGEobC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDApKTooZS5kYXRhKGwuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIiksZS5kYXRhKHIuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGE+PW8/ITE6bn0sX3VwZGF0ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciB0PXBhcnNlSW50KGUuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxpPXBhcnNlSW50KGUuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLG49aS10O3RoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWJnIikuY3NzKHsibWFyZ2luLWxlZnQiOnQrIiUiLHdpZHRoOm4rIiUifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pIikuZmluZCgibGFiZWwiKS5zaG93KCksdGhpcy5faW5wdXRGaXJzdC5hZnRlcih0aGlzLl9zbGlkZXJGaXJzdCksdGhpcy5faW5wdXRMYXN0LmFmdGVyKHRoaXMuX3NsaWRlckxhc3QpLHRoaXMuX3NsaWRlcnMucmVtb3ZlKCksdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IHVpLXJhbmdlc2xpZGVyLWxhc3QiKS5zbGlkZXIoImRlc3Ryb3kiKX19KSxlLndpZGdldCgibW9iaWxlLnJhbmdlc2xpZGVyIixlLm1vYmlsZS5yYW5nZXNsaWRlcixlLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSxlKGkpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS5yYW5nZXNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5zZWxlY3RtZW51IixlLm1vYmlsZS53aWRnZXQsZS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsZGlzYWJsZWQ6ITEsaWNvbjoiYXJyb3ctZCIsaWNvbnBvczoicmlnaHQiLGlubGluZTohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLG92ZXJsYXlUaGVtZToiYSIsZGl2aWRlclRoZW1lOiJiIixoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6ITAsY2xvc2VUZXh0OiJDbG9zZSIsbmF0aXZlTWVudTohMCxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSxpbml0U2VsZWN0b3I6InNlbGVjdDpub3QoIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpICkiLG1pbmk6ITF9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gZSgiPGRpdi8+IikKfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsZSksdGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsZSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt2YXIgdD0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYodD0iIHVpLWJ0bi1sZWZ0IiksfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJih0PSIgdWktYnRuLXJpZ2h0IiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QiK3QrIic+IiksdGhpcy5zZWxlY3RJRD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpLHRoaXMubGFiZWw9ZSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SUQrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZSx0aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5zZWxlY3QsImMiKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1zZWxlY3QiKTtlLmxlbmd0aD4wJiYoZS5pcygiLnVpLWJ0bi1sZWZ0LCAudWktYnRuLXJpZ2h0IikmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhlLmlzKCIudWktYnRuLWxlZnQiKT8idWktYnRuLWxlZnQiOiJ1aS1idG4tcmlnaHQiKSx0aGlzLmVsZW1lbnQuaW5zZXJ0QWZ0ZXIoZSksZS5yZW1vdmUoKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVDcmVhdGUiKSx0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgaT10aGlzLG49dGhpcy5vcHRpb25zLGE9bi5pbmxpbmV8fHRoaXMuc2VsZWN0LmpxbURhdGEoImlubGluZSIpLG89bi5taW5pfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJtaW5pIikscz1uLmljb24/bi5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpY29ucG9zIik6ITEscj0oLTE9PT10aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4PzA6dGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCx0aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6bi50aGVtZSxpY29uOm4uaWNvbixpY29ucG9zOnMsaW5saW5lOmEsY29ybmVyczpuLmNvcm5lcnMsc2hhZG93Om4uc2hhZG93LGljb25zaGFkb3c6bi5pY29uc2hhZG93LG1pbmk6b30pKTt0aGlzLnNldEJ1dHRvblRleHQoKSxuLm5hdGl2ZU1lbnUmJnQub3BlcmEmJnQub3BlcmEudmVyc2lvbiYmci5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKSx0aGlzLmlzTXVsdGlwbGUmJih0aGlzLmJ1dHRvbkNvdW50PWUoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhyLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChuLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2kucmVmcmVzaCgpLG4ubmF0aXZlTWVudSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyh0LmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXt0LmJ1dHRvbi5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXt0LmJ1dHRvbi5hZGRDbGFzcyhlLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7dC5idXR0b24ucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe3QuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7dC5idXR0b24ucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe3QuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe3QuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK3Qub3B0aW9ucy50aGVtZSl9KSx0LmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksdC5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmZS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLHQuc2VsZWN0LmJpbmQoImZvY3VzIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksdC5idXR0b24uYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2UubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KSx0LnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe3Qub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZlLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dGhpcy5zZWxlY3RlZCgpLGE9dGhpcy5wbGFjZWhvbGRlcixvPWUoaS5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtyZXR1cm4gYT1uLmxlbmd0aD9uLm1hcChmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6dC5wbGFjZWhvbGRlcixvLnRleHQoYSkuYWRkQ2xhc3ModC5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3Mobi5hdHRyKCJjbGFzcyIpKX0pfSxzZXRCdXR0b25Db3VudDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbZS5sZW5ndGg+MT8ic2hvdyI6ImhpZGUiXSgpLnRleHQoZS5sZW5ndGgpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0QnV0dG9uVGV4dCgpLHRoaXMuc2V0QnV0dG9uQ291bnQoKX0sb3BlbjplLm5vb3AsY2xvc2U6ZS5ub29wLGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMCksdGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCExKSx0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19LGUubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0oZSksZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiBhKGUsdCxpLG4pe3ZhciBhPW47cmV0dXJuIGE9dD5lP2krKGUtdCkvMjpNYXRoLm1pbihNYXRoLm1heChpLG4tdC8yKSxpK2UtdCl9ZnVuY3Rpb24gbygpe3ZhciBpPWUubW9iaWxlLndpbmRvdztyZXR1cm57eDppLnNjcm9sbExlZnQoKSx5Omkuc2Nyb2xsVG9wKCksY3g6dC5pbm5lcldpZHRofHxpLndpZHRoKCksY3k6dC5pbm5lckhlaWdodHx8aS5oZWlnaHQoKX19ZS53aWRnZXQoIm1vYmlsZS5wb3B1cCIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLG92ZXJsYXlUaGVtZTpudWxsLHNoYWRvdzohMCxjb3JuZXJzOiEwLHRyYW5zaXRpb246Im5vbmUiLHBvc2l0aW9uVG86Im9yaWdpbiIsdG9sZXJhbmNlOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdwb3B1cCcpIixjbG9zZUxpbmtTZWxlY3RvcjoiYTpqcW1EYXRhKHJlbD0nYmFjaycpIixjbG9zZUxpbmtFdmVudHM6ImNsaWNrLnBvcHVwIixuYXZpZ2F0ZUV2ZW50czoibmF2aWdhdGUucG9wdXAiLGNsb3NlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwIixkaXNtaXNzaWJsZTohMCxoaXN0b3J5OiFlLm1vYmlsZS5icm93c2VyLm9sZElFfSxfZWF0RXZlbnRBbmRDbG9zZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLmNsb3NlKCksITF9LF9yZXNpemVTY3JlZW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApO3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVBdHRyKCJzdHlsZSIpLGU+dGhpcy5fdWkuc2NyZWVuLmhlaWdodCgpJiZ0aGlzLl91aS5zY3JlZW4uaGVpZ2h0KGUpfSxfaGFuZGxlV2luZG93S2V5VXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2lzT3BlbiYmdC5rZXlDb2RlPT09ZS5tb2JpbGUua2V5Q29kZS5FU0NBUEU/dGhpcy5fZWF0RXZlbnRBbmRDbG9zZSh0KTpufSxfZXhwZWN0UmVzaXplRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgdD1vKCk7aWYodGhpcy5fcmVzaXplRGF0YSl7aWYodC54PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMueCYmdC55PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMueSYmdC5jeD09PXRoaXMuX3Jlc2l6ZURhdGEud2luQ29vcmRzLmN4JiZ0LmN5PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3kpcmV0dXJuITE7Y2xlYXJUaW1lb3V0KHRoaXMuX3Jlc2l6ZURhdGEudGltZW91dElkKX1yZXR1cm4gdGhpcy5fcmVzaXplRGF0YT17dGltZW91dElkOnNldFRpbWVvdXQoZS5wcm94eSh0aGlzLCJfcmVzaXplVGltZW91dCIpLDIwMCksd2luQ29vcmRzOnR9LCEwfSxfcmVzaXplVGltZW91dDpmdW5jdGlvbigpe3RoaXMuX2lzT3Blbj90aGlzLl9leHBlY3RSZXNpemVFdmVudCgpfHwodGhpcy5fdWkuY29udGFpbmVyLmhhc0NsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtaGlkZGVuIiksdGhpcy5yZXBvc2l0aW9uKHtwb3NpdGlvblRvOiJ3aW5kb3cifSksdGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCkpLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpOih0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKX0sX2lnbm9yZVJlc2l6ZUV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5faWdub3JlUmVzaXplVG8mJmNsZWFyVGltZW91dCh0aGlzLl9pZ25vcmVSZXNpemVUbyksdGhpcy5faWdub3JlUmVzaXplVG89c2V0VGltZW91dChmdW5jdGlvbigpe2UuX2lnbm9yZVJlc2l6ZVRvPTB9LDFlMyl9LF9oYW5kbGVXaW5kb3dSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKCF0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpJiYhdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzfHx0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpfHx0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIikpfSxfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2U6ZnVuY3Rpb24oKXshdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzJiZ0aGlzLl9pc09wZW4mJjA9PT10aGlzLl9pZ25vcmVSZXNpemVUbyYmKHRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCksdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSEwKX0sX2hhbmRsZURvY3VtZW50Rm9jdXNJbjpmdW5jdGlvbih0KXt2YXIgbixhPXQudGFyZ2V0LG89dGhpcy5fdWk7aWYodGhpcy5faXNPcGVuKXtpZihhIT09by5jb250YWluZXJbMF0pe2lmKG49ZSh0LnRhcmdldCksMD09PW4ucGFyZW50cygpLmZpbHRlcihvLmNvbnRhaW5lclswXSkubGVuZ3RoKXJldHVybiBlKGkuYWN0aXZlRWxlbWVudCkub25lKCJmb2N1cyIsZnVuY3Rpb24oKXtuLmJsdXIoKX0pLG8uZm9jdXNFbGVtZW50LmZvY3VzKCksdC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITE7by5mb2N1c0VsZW1lbnRbMF09PT1vLmNvbnRhaW5lclswXSYmKG8uZm9jdXNFbGVtZW50PW4pfXRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXtzY3JlZW46ZSgiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4nPjwvZGl2PiIpLHBsYWNlaG9sZGVyOmUoIjxkaXYgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz48IS0tIHBsYWNlaG9sZGVyIC0tPjwvZGl2PiIpLGNvbnRhaW5lcjplKCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1jb250YWluZXIgdWktcG9wdXAtaGlkZGVuJz48L2Rpdj4iKX0saT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKSxhPXRoaXMuZWxlbWVudC5hdHRyKCJpZCIpLG89dGhpczt0aGlzLm9wdGlvbnMuaGlzdG9yeT10aGlzLm9wdGlvbnMuaGlzdG9yeSYmZS5tb2JpbGUuYWpheEVuYWJsZWQmJmUubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLDA9PT1pLmxlbmd0aCYmKGk9ZSgiYm9keSIpKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyPXRoaXMub3B0aW9ucy5jb250YWluZXJ8fGUubW9iaWxlLnBhZ2VDb250YWluZXIsaS5hcHBlbmQodC5zY3JlZW4pLHQuY29udGFpbmVyLmluc2VydEFmdGVyKHQuc2NyZWVuKSx0LnBsYWNlaG9sZGVyLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksYSYmKHQuc2NyZWVuLmF0dHIoImlkIixhKyItc2NyZWVuIiksdC5jb250YWluZXIuYXR0cigiaWQiLGErIi1wb3B1cCIpLHQucGxhY2Vob2xkZXIuaHRtbCgiPCEtLSBwbGFjZWhvbGRlciBmb3IgIithKyIgLS0+IikpLHQuY29udGFpbmVyLmFwcGVuZCh0aGlzLmVsZW1lbnQpLHQuZm9jdXNFbGVtZW50PXQuY29udGFpbmVyLHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcG9wdXAiKSxlLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6aSxfdWk6dCxfZmFsbGJhY2tUcmFuc2l0aW9uOiIiLF9jdXJyZW50VHJhbnNpdGlvbjohMSxfcHJlcmVxczpudWxsLF9pc09wZW46ITEsX3RvbGVyYW5jZTpudWxsLF9yZXNpemVEYXRhOm51bGwsX2lnbm9yZVJlc2l6ZVRvOjAsX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzczohMX0pLGUuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oZSx0KXtvLm9wdGlvbnNbZV09bixvLl9zZXRPcHRpb24oZSx0LCEwKX0pLHQuc2NyZWVuLmJpbmQoInZjbGljayIsZS5wcm94eSh0aGlzLCJfZWF0RXZlbnRBbmRDbG9zZSIpKSx0aGlzLl9vbihlLm1vYmlsZS53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmUucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlIikscmVzaXplOmUucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd1Jlc2l6ZSIpLGtleXVwOmUucHJveHkodGhpcywiX2hhbmRsZVdpbmRvd0tleVVwIil9KSx0aGlzLl9vbihlLm1vYmlsZS5kb2N1bWVudCx7Zm9jdXNpbjplLnByb3h5KHRoaXMsIl9oYW5kbGVEb2N1bWVudEZvY3VzSW4iKX0pfSxfYXBwbHlUaGVtZTpmdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuLGE9KGUuYXR0cigiY2xhc3MiKXx8IiIpLnNwbGl0KCIgIiksbz1udWxsLHM9dCsiIjthLmxlbmd0aD4wOyl7aWYobz1hLnBvcCgpLG49UmVnRXhwKCJedWktIitpKyItKFthLXpdKSQiKS5leGVjKG8pLG4mJm4ubGVuZ3RoPjEpe289blsxXTticmVha31vPW51bGx9dCE9PW8mJihlLnJlbW92ZUNsYXNzKCJ1aS0iK2krIi0iK28pLG51bGwhPT10JiYibm9uZSIhPT10JiZlLmFkZENsYXNzKCJ1aS0iK2krIi0iK3MpKX0sX3NldFRoZW1lOmZ1bmN0aW9uKGUpe3RoaXMuX2FwcGx5VGhlbWUodGhpcy5lbGVtZW50LGUsImJvZHkiKX0sX3NldE92ZXJsYXlUaGVtZTpmdW5jdGlvbihlKXt0aGlzLl9hcHBseVRoZW1lKHRoaXMuX3VpLnNjcmVlbixlLCJvdmVybGF5IiksdGhpcy5faXNPcGVuJiZ0aGlzLl91aS5zY3JlZW4uYWRkQ2xhc3MoImluIil9LF9zZXRTaGFkb3c6ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1vdmVybGF5LXNoYWRvdyIsZSl9LF9zZXRDb3JuZXJzOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsZSl9LF9hcHBseVRyYW5zaXRpb246ZnVuY3Rpb24odCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiksdCYmIm5vbmUiIT09dCYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj1lLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbih0KSwibm9uZSI9PT10aGlzLl9mYWxsYmFja1RyYW5zaXRpb24mJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249IiIpLHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pKX0sX3NldFRyYW5zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5fY3VycmVudFRyYW5zaXRpb258fHRoaXMuX2FwcGx5VHJhbnNpdGlvbihlKX0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbih0KXt2YXIgaT17dDozMCxyOjE1LGI6MzAsbDoxNX07aWYodCE9PW4pe3ZhciBhPSh0KyIiKS5zcGxpdCgiLCIpO3N3aXRjaChlLmVhY2goYSxmdW5jdGlvbihlLHQpe2FbZV09cGFyc2VJbnQodCwxMCl9KSxhLmxlbmd0aCl7Y2FzZSAxOmlzTmFOKGFbMF0pfHwoaS50PWkucj1pLmI9aS5sPWFbMF0pO2JyZWFrO2Nhc2UgMjppc05hTihhWzBdKXx8KGkudD1pLmI9YVswXSksaXNOYU4oYVsxXSl8fChpLmw9aS5yPWFbMV0pO2JyZWFrO2Nhc2UgNDppc05hTihhWzBdKXx8KGkudD1hWzBdKSxpc05hTihhWzFdKXx8KGkucj1hWzFdKSxpc05hTihhWzJdKXx8KGkuYj1hWzJdKSxpc05hTihhWzNdKXx8KGkubD1hWzNdKTticmVhaztkZWZhdWx0On19dGhpcy5fdG9sZXJhbmNlPWl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgYSxvPSJfc2V0Iit0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7dGhpc1tvXSE9PW4mJnRoaXNbb10oaSksYT1bImluaXRTZWxlY3RvciIsImNsb3NlTGlua1NlbGVjdG9yIiwiY2xvc2VMaW5rRXZlbnRzIiwibmF2aWdhdGVFdmVudHMiLCJjbG9zZUV2ZW50cyIsImhpc3RvcnkiLCJjb250YWluZXIiXSxlLm1vYmlsZS53aWRnZXQucHJvdG90eXBlLl9zZXRPcHRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpLC0xPT09ZS5pbkFycmF5KHQsYSkmJnRoaXMuZWxlbWVudC5hdHRyKCJkYXRhLSIrKGUubW9iaWxlLm5zfHwiIikrdC5yZXBsYWNlKC8oW0EtWl0pLywiLSQxIikudG9Mb3dlckNhc2UoKSxpKX0sX3BsYWNlbWVudENvb3JkczpmdW5jdGlvbihlKXt2YXIgdCxuLHM9bygpLHI9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpzLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6cy5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpzLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifTt0aGlzLl91aS5jb250YWluZXIuY3NzKCJtYXgtd2lkdGgiLHIuY3gpLHQ9e2N4OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlcldpZHRoKCEwKSxjeTp0aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApfSxuPXt4OmEoci5jeCx0LmN4LHIueCxlLngpLHk6YShyLmN5LHQuY3ksci55LGUueSl9LG4ueT1NYXRoLm1heCgwLG4ueSk7dmFyIGw9aS5kb2N1bWVudEVsZW1lbnQsZD1pLmJvZHksYz1NYXRoLm1heChsLmNsaWVudEhlaWdodCxkLnNjcm9sbEhlaWdodCxkLm9mZnNldEhlaWdodCxsLnNjcm9sbEhlaWdodCxsLm9mZnNldEhlaWdodCk7cmV0dXJuIG4ueS09TWF0aC5taW4obi55LE1hdGgubWF4KDAsbi55K3QuY3ktYykpLHtsZWZ0Om4ueCx0b3A6bi55fX0sX2NyZWF0ZVByZXJlcXM6ZnVuY3Rpb24odCxpLG4pe3ZhciBhLG89dGhpczthPXtzY3JlZW46ZS5EZWZlcnJlZCgpLGNvbnRhaW5lcjplLkRlZmVycmVkKCl9LGEuc2NyZWVuLnRoZW4oZnVuY3Rpb24oKXthPT09by5fcHJlcmVxcyYmdCgpfSksYS5jb250YWluZXIudGhlbihmdW5jdGlvbigpe2E9PT1vLl9wcmVyZXFzJiZpKCl9KSxlLndoZW4oYS5zY3JlZW4sYS5jb250YWluZXIpLmRvbmUoZnVuY3Rpb24oKXthPT09by5fcHJlcmVxcyYmKG8uX3ByZXJlcXM9bnVsbCxuKCkpfSksby5fcHJlcmVxcz1hfSxfYW5pbWF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKHQuY2xhc3NUb1JlbW92ZSkuYWRkQ2xhc3ModC5zY3JlZW5DbGFzc1RvQWRkKSx0LnByZXJlcXMuc2NyZWVuLnJlc29sdmUoKSx0LnRyYW5zaXRpb24mJiJub25lIiE9PXQudHJhbnNpdGlvbiYmKHQuYXBwbHlUcmFuc2l0aW9uJiZ0aGlzLl9hcHBseVRyYW5zaXRpb24odC50cmFuc2l0aW9uKSx0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pPyh0aGlzLl91aS5jb250YWluZXIuYW5pbWF0aW9uQ29tcGxldGUoZS5wcm94eSh0LnByZXJlcXMuY29udGFpbmVyLCJyZXNvbHZlIikpLmFkZENsYXNzKHQuY29udGFpbmVyQ2xhc3NUb0FkZCkucmVtb3ZlQ2xhc3ModC5jbGFzc1RvUmVtb3ZlKSxuKToodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKHQuY2xhc3NUb1JlbW92ZSksdC5wcmVyZXFzLmNvbnRhaW5lci5yZXNvbHZlKCksbil9LF9kZXNpcmVkQ29vcmRzOmZ1bmN0aW9uKHQpe3ZhciBpLG49bnVsbCxhPW8oKSxzPXQueCxyPXQueSxsPXQucG9zaXRpb25UbztpZihsJiYib3JpZ2luIiE9PWwpaWYoIndpbmRvdyI9PT1sKXM9YS5jeC8yK2EueCxyPWEuY3kvMithLnk7ZWxzZXt0cnl7bj1lKGwpfWNhdGNoKGQpe249bnVsbH1uJiYobi5maWx0ZXIoIjp2aXNpYmxlIiksMD09PW4ubGVuZ3RoJiYobj1udWxsKSl9cmV0dXJuIG4mJihpPW4ub2Zmc2V0KCkscz1pLmxlZnQrbi5vdXRlcldpZHRoKCkvMixyPWkudG9wK24ub3V0ZXJIZWlnaHQoKS8yKSwoIm51bWJlciIhPT1lLnR5cGUocyl8fGlzTmFOKHMpKSYmKHM9YS5jeC8yK2EueCksKCJudW1iZXIiIT09ZS50eXBlKHIpfHxpc05hTihyKSkmJihyPWEuY3kvMithLnkpLHt4OnMseTpyfX0sX3JlcG9zaXRpb246ZnVuY3Rpb24oZSl7ZT17eDplLngseTplLnkscG9zaXRpb25UbzplLnBvc2l0aW9uVG99LHRoaXMuX3RyaWdnZXIoImJlZm9yZXBvc2l0aW9uIixlKSx0aGlzLl91aS5jb250YWluZXIub2Zmc2V0KHRoaXMuX3BsYWNlbWVudENvb3Jkcyh0aGlzLl9kZXNpcmVkQ29vcmRzKGUpKSl9LHJlcG9zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5faXNPcGVuJiZ0aGlzLl9yZXBvc2l0aW9uKGUpfSxfb3BlblByZXJlcXNDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5faXNPcGVuPSEwLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3VpLmNvbnRhaW5lci5hdHRyKCJ0YWJpbmRleCIsIjAiKS5mb2N1cygpLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpLHRoaXMuX3RyaWdnZXIoImFmdGVyb3BlbiIpfSxfb3BlbjpmdW5jdGlvbih0KXt2YXIgaT1lLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdCksbj1mdW5jdGlvbigpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQsdD1lLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGk9ISF0JiZ0WzFdLG49ZS5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGE9ISFuJiZuWzFdLG89ZS5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gbnVsbCE9PW4mJiI0LjAiPT09YSYmaSYmaT41MzQuMTMmJiFvPyEwOiExfSgpO3RoaXMuX2NyZWF0ZVByZXJlcXMoZS5ub29wLGUubm9vcCxlLnByb3h5KHRoaXMsIl9vcGVuUHJlcmVxc0NvbXBsZXRlIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWkudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oaS50cmFuc2l0aW9uKSx0aGlzLm9wdGlvbnMudGhlbWV8fHRoaXMuX3NldFRoZW1lKHRoaXMuX3BhZ2UuanFtRGF0YSgidGhlbWUiKXx8ZS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5fcGFnZSwiYyIpKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMuX3JlcG9zaXRpb24oaSksdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmbiYmdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOiEwLHRyYW5zaXRpb246aS50cmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6IiIsc2NyZWVuQ2xhc3NUb0FkZDoiaW4iLGNvbnRhaW5lckNsYXNzVG9BZGQ6ImluIixhcHBseVRyYW5zaXRpb246ITEscHJlcmVxczp0aGlzLl9wcmVyZXFzfSl9LF9jbG9zZVByZXJlcVNjcmVlbjpmdW5jdGlvbigpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygib3V0IikuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0sX2Nsb3NlUHJlcmVxQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJyZXZlcnNlIG91dCIpLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpfSxfY2xvc2VQcmVyZXFzRG9uZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucyx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQXR0cigidGFiaW5kZXgiKSxlLm1vYmlsZS5wb3B1cC5hY3RpdmU9bix0aGlzLl90cmlnZ2VyKCJhZnRlcmNsb3NlIil9LF9jbG9zZTpmdW5jdGlvbih0KXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWFjdGl2ZSIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fY3JlYXRlUHJlcmVxcyhlLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcVNjcmVlbiIpLGUucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxQ29udGFpbmVyIiksZS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFzRG9uZSIpKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOnRoaXMuX3VpLnNjcmVlbi5oYXNDbGFzcygiaW4iKSx0cmFuc2l0aW9uOnQ/Im5vbmUiOnRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6ImluIixzY3JlZW5DbGFzc1RvQWRkOiJvdXQiLGNvbnRhaW5lckNsYXNzVG9BZGQ6InJldmVyc2Ugb3V0IixhcHBseVRyYW5zaXRpb246ITAscHJlcmVxczp0aGlzLl9wcmVyZXFzfSl9LF91bmVuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl9zZXRUaGVtZSgibm9uZSIpLHRoaXMuZWxlbWVudC5kZXRhY2goKS5pbnNlcnRBZnRlcih0aGlzLl91aS5wbGFjZWhvbGRlcikucmVtb3ZlQ2xhc3MoInVpLXBvcHVwIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwiKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlKCksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX3VpLnBsYWNlaG9sZGVyLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe2UubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXM/KHRoaXMuZWxlbWVudC5vbmUoInBvcHVwYWZ0ZXJjbG9zZSIsZS5wcm94eSh0aGlzLCJfdW5lbmhhbmNlIikpLHRoaXMuY2xvc2UoKSk6dGhpcy5fdW5lbmhhbmNlKCl9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGksbil7dmFyIGEsbyxzPXRoaXMub3B0aW9ucyxyPSExO3Quc2Nyb2xsVG8oMCx0aGlzLl9zY3JvbGxUb3ApLGkmJiJwYWdlYmVmb3JlY2hhbmdlIj09PWkudHlwZSYmbiYmKGE9InN0cmluZyI9PXR5cGVvZiBuLnRvUGFnZT9uLnRvUGFnZTpuLnRvUGFnZS5qcW1EYXRhKCJ1cmwiKSxhPWUubW9iaWxlLnBhdGgucGFyc2VVcmwoYSksbz1hLnBhdGhuYW1lK2Euc2VhcmNoK2EuaGFzaCx0aGlzLl9teVVybCE9PWUubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKG8pP3I9ITA6aS5wcmV2ZW50RGVmYXVsdCgpKSxzLmNvbnRhaW5lci51bmJpbmQocy5jbG9zZUV2ZW50cyksdGhpcy5lbGVtZW50LnVuZGVsZWdhdGUocy5jbG9zZUxpbmtTZWxlY3RvcixzLmNsb3NlTGlua0V2ZW50cyksdGhpcy5fY2xvc2Uocil9LF9iaW5kQ29udGFpbmVyQ2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuY29udGFpbmVyLm9uZSh0aGlzLm9wdGlvbnMuY2xvc2VFdmVudHMsZS5wcm94eSh0aGlzLCJfY2xvc2VQb3B1cCIpKX0sb3BlbjpmdW5jdGlvbihpKXt2YXIgYSxvLHMscixsLGQsYz10aGlzLGg9dGhpcy5vcHRpb25zO2lmKCFlLm1vYmlsZS5wb3B1cC5hY3RpdmUpe2lmKGUubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD1lLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCksIWguaGlzdG9yeSlyZXR1cm4gYy5fb3BlbihpKSxjLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSxjLmVsZW1lbnQuZGVsZWdhdGUoaC5jbG9zZUxpbmtTZWxlY3RvcixoLmNsb3NlTGlua0V2ZW50cyxmdW5jdGlvbihlKXtjLmNsb3NlKCksZS5wcmV2ZW50RGVmYXVsdCgpfSksbjtpZihkPWUubW9iaWxlLnVybEhpc3Rvcnksbz1lLm1vYmlsZS5kaWFsb2dIYXNoS2V5LHM9ZS5tb2JpbGUuYWN0aXZlUGFnZSxyPXMuaXMoIi51aS1kaWFsb2ciKSx0aGlzLl9teVVybD1hPWQuZ2V0QWN0aXZlKCkudXJsLGw9YS5pbmRleE9mKG8pPi0xJiYhciYmZC5hY3RpdmVJbmRleD4wKXJldHVybiBjLl9vcGVuKGkpLGMuX2JpbmRDb250YWluZXJDbG9zZSgpLG47LTEhPT1hLmluZGV4T2Yobyl8fHI/YT1lLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK286YSs9YS5pbmRleE9mKCIjIik+LTE/bzoiIyIrbywwPT09ZC5hY3RpdmVJbmRleCYmYT09PWQuaW5pdGlhbERzdCYmKGErPW8pLGUodCkub25lKCJiZWZvcmVuYXZpZ2F0ZSIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGMuX29wZW4oaSksYy5fYmluZENvbnRhaW5lckNsb3NlKCl9KSx0aGlzLnVybEFsdGVyZWQ9ITAsZS5tb2JpbGUubmF2aWdhdGUoYSx7cm9sZToiZGlhbG9nIn0pfX0sY2xvc2U6ZnVuY3Rpb24oKXtlLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzJiYodGhpcy5fc2Nyb2xsVG9wPWUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLm9wdGlvbnMuaGlzdG9yeSYmdGhpcy51cmxBbHRlcmVkPyhlLm1vYmlsZS5iYWNrKCksdGhpcy51cmxBbHRlcmVkPSExKTp0aGlzLl9jbG9zZVBvcHVwKCkpfX0pLGUubW9iaWxlLnBvcHVwLmhhbmRsZUxpbms9ZnVuY3Rpb24odCl7dmFyIGksbj10LmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLGE9MD09PW4ubGVuZ3RoP2UoImJvZHkiKTpuLG89ZShlLm1vYmlsZS5wYXRoLnBhcnNlVXJsKHQuYXR0cigiaHJlZiIpKS5oYXNoLGFbMF0pO28uZGF0YSgibW9iaWxlLXBvcHVwIikmJihpPXQub2Zmc2V0KCksby5wb3B1cCgib3BlbiIse3g6aS5sZWZ0K3Qub3V0ZXJXaWR0aCgpLzIseTppLnRvcCt0Lm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOnQuanFtRGF0YSgidHJhbnNpdGlvbiIpLHBvc2l0aW9uVG86dC5qcW1EYXRhKCJwb3NpdGlvbi10byIpfSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LnBhcmVudCgpLnBhcmVudCgpO2kuaGFzQ2xhc3MoInVpLWxpIikmJih0PWkucGFyZW50KCkpLHQucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApfSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlYmVmb3JlY2hhbmdlIixmdW5jdGlvbih0LGkpeyJwb3B1cCI9PT1pLm9wdGlvbnMucm9sZSYmKGUubW9iaWxlLnBvcHVwLmhhbmRsZUxpbmsoaS5vcHRpb25zLmxpbmspLHQucHJldmVudERlZmF1bHQoKSl9KSxlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUucG9wdXAucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQsITApfSl9KGUpLGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24obil7dmFyIGEsbyxzLHI9KG4uc2VsZWN0LG4uX2Rlc3Ryb3kpLGw9bi5zZWxlY3RJRCxkPWw/bDooZS5tb2JpbGUubnN8fCIiKSsidXVpZC0iK24udXVpZCxjPWQrIi1saXN0Ym94IixoPWQrIi1kaWFsb2ciLHU9bi5sYWJlbCxwPW4uc2VsZWN0LmNsb3Nlc3QoIi51aS1wYWdlIiksbT1uLl9zZWxlY3RPcHRpb25zKCksZj1uLmlzTXVsdGlwbGU9bi5zZWxlY3RbMF0ubXVsdGlwbGUsZz1sKyItYnV0dG9uIixiPWwrIi1tZW51Iix2PWUoIjxkaXYgZGF0YS0iK2UubW9iaWxlLm5zKyJyb2xlPSdkaWFsb2cnIGlkPSciK2grIicgZGF0YS0iK2UubW9iaWxlLm5zKyJ0aGVtZT0nIituLm9wdGlvbnMudGhlbWUrIicgZGF0YS0iK2UubW9iaWxlLm5zKyJvdmVybGF5LXRoZW1lPSciK24ub3B0aW9ucy5vdmVybGF5VGhlbWUrIic+IisiPGRpdiBkYXRhLSIrZS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+IisiPGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrdS5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj4iKyI8L2Rpdj4iKyI8ZGl2IGRhdGEtIitlLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+IisiPC9kaXY+IiksXz1lKCI8ZGl2IGlkPSciK2MrIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPiIpLmluc2VydEFmdGVyKG4uc2VsZWN0KS5wb3B1cCh7dGhlbWU6bi5vcHRpb25zLm92ZXJsYXlUaGVtZX0pLEM9ZSgiPHVsPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtbGlzdCIsaWQ6Yixyb2xlOiJsaXN0Ym94IiwiYXJpYS1sYWJlbGxlZGJ5IjpnfSkuYXR0cigiZGF0YS0iK2UubW9iaWxlLm5zKyJ0aGVtZSIsbi5vcHRpb25zLnRoZW1lKS5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrImRpdmlkZXItdGhlbWUiLG4ub3B0aW9ucy5kaXZpZGVyVGhlbWUpLmFwcGVuZFRvKF8pLHg9ZSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1oZWFkZXIgdWktYmFyLSIrbi5vcHRpb25zLnRoZW1lfSkucHJlcGVuZFRvKF8pLHk9ZSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKHgpO24uaXNNdWx0aXBsZSYmKHM9ZSgiPGE+Iix7dGV4dDpuLm9wdGlvbnMuY2xvc2VUZXh0LGhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0bi1sZWZ0In0pLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysiaWNvbnBvcyIsIm5vdGV4dCIpLmF0dHIoImRhdGEtIitlLm1vYmlsZS5ucysiaWNvbiIsImRlbGV0ZSIpLmFwcGVuZFRvKHgpLmJ1dHRvbk1hcmt1cCgpKSxlLmV4dGVuZChuLHtzZWxlY3Q6bi5zZWxlY3Qsc2VsZWN0SUQ6bCxidXR0b25JZDpnLG1lbnVJZDpiLHBvcHVwSUQ6YyxkaWFsb2dJRDpoLHRoaXNQYWdlOnAsbWVudVBhZ2U6dixsYWJlbDp1LHNlbGVjdE9wdGlvbnM6bSxpc011bHRpcGxlOmYsdGhlbWU6bi5vcHRpb25zLnRoZW1lLGxpc3Rib3g6XyxsaXN0OkMsaGVhZGVyOngsaGVhZGVyVGl0bGU6eSxoZWFkZXJDbG9zZTpzLG1lbnVQYWdlQ29udGVudDphLG1lbnVQYWdlQ2xvc2U6byxwbGFjZWhvbGRlcjoiIixidWlsZDpmdW5jdGlvbigpe3ZhciBpPXRoaXM7aS5yZWZyZXNoKCksaS5fb3JpZ1RhYkluZGV4PT09dCYmKGkuX29yaWdUYWJJbmRleD1udWxsPT09aS5zZWxlY3RbMF0uZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpPyExOmkuc2VsZWN0LmF0dHIoInRhYmluZGV4IikpLGkuc2VsZWN0LmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2UodGhpcykuYmx1cigpLGkuYnV0dG9uLmZvY3VzKCl9KSxpLmJ1dHRvbi5iaW5kKCJ2Y2xpY2sga2V5ZG93biIsZnVuY3Rpb24odCl7aS5vcHRpb25zLmRpc2FibGVkfHxpLmlzT3Blbnx8KCJ2Y2xpY2siPT09dC50eXBlfHx0LmtleUNvZGUmJih0LmtleUNvZGU9PT1lLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHx0LmtleUNvZGU9PT1lLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSkmJihpLl9kZWNpZGVGb3JtYXQoKSwib3ZlcmxheSI9PT1pLm1lbnVUeXBlP2kuYnV0dG9uLmF0dHIoImhyZWYiLCIjIitpLnBvcHVwSUQpLmF0dHIoImRhdGEtIisoZS5tb2JpbGUubnN8fCIiKSsicmVsIiwicG9wdXAiKTppLmJ1dHRvbi5hdHRyKCJocmVmIiwiIyIraS5kaWFsb2dJRCkuYXR0cigiZGF0YS0iKyhlLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJkaWFsb2ciKSxpLmlzT3Blbj0hMCl9KSxpLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5iaW5kKCJmb2N1c2luIixmdW5jdGlvbih0KXtlKHQudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIjAiKS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJmb2N1c291dCIsZnVuY3Rpb24odCl7ZSh0LnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCItMSIpLnRyaWdnZXIoInZtb3VzZW91dCIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbih0KXt2YXIgYT1pLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LG89aS5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxzPWkuX3NlbGVjdE9wdGlvbnMoKS5lcShvKVswXTtzLnNlbGVjdGVkPWkuaXNNdWx0aXBsZT8hcy5zZWxlY3RlZDohMCxpLmlzTXVsdGlwbGUmJmUodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIscy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhcy5zZWxlY3RlZCksKGkuaXNNdWx0aXBsZXx8YSE9PW8pJiZpLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSxpLmlzTXVsdGlwbGU/aS5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShvKS5hZGRDbGFzcygidWktYnRuLWRvd24tIituLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6aS5jbG9zZSgpLHQucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24odCl7dmFyIGksYSxvPWUodC50YXJnZXQpLHM9by5jbG9zZXN0KCJsaSIpO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGk9cy5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGkuaXMoIi51aS1saS1kaXZpZGVyIikmJihpPWkucHJldigpKSxpLmxlbmd0aCYmKG8uYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK24ub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gYT1zLm5leHQoKSxhLmlzKCIudWktbGktZGl2aWRlciIpJiYoYT1hLm5leHQoKSksYS5sZW5ndGgmJihvLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYS5hZGRDbGFzcygidWktYnRuLWRvd24tIituLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gby50cmlnZ2VyKCJjbGljayIpLCExfX0pLGkubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7ZS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoaS50aGlzUGFnZSl9KSxpLmxpc3Rib3guYmluZCgicG9wdXBhZnRlcmNsb3NlIixmdW5jdGlvbigpe2kuY2xvc2UoKX0pLGkuaXNNdWx0aXBsZSYmaS5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe3JldHVybiJvdmVybGF5Ij09PWkubWVudVR5cGU/KGkuY2xvc2UoKSwhMSk6dH0pLGkudGhpc1BhZ2UuYWRkRGVwZW5kZW50cyh0aGlzLm1lbnVQYWdlKX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5saXN0LmZpbmQoImxpIiksdD10aGlzLl9zZWxlY3RPcHRpb25zKCk7cmV0dXJuIHQudGV4dCgpIT09ZS50ZXh0KCl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIjpzZWxlY3RlZDpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSIpfSxyZWZyZXNoOmZ1bmN0aW9uKHQpe3ZhciBpLG49dGhpczt0aGlzLmVsZW1lbnQsdGhpcy5pc011bHRpcGxlLCh0fHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmbi5fYnVpbGRMaXN0KCksaT10aGlzLnNlbGVjdGVkSW5kaWNlcygpLG4uc2V0QnV0dG9uVGV4dCgpLG4uc2V0QnV0dG9uQ291bnQoKSxuLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLnJlbW92ZUNsYXNzKGUubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSkuZWFjaChmdW5jdGlvbih0KXtpZihlLmluQXJyYXkodCxpKT4tMSl7dmFyIGE9ZSh0aGlzKTthLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKSxuLmlzTXVsdGlwbGU/YS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIik6YS5pcygiLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKT9hLm5leHQoKS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk6YS5hZGRDbGFzcyhlLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9fSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5pc09wZW4pe3ZhciBlPXRoaXM7InBhZ2UiPT09ZS5tZW51VHlwZT8oZS5tZW51UGFnZS5kaWFsb2coImNsb3NlIiksZS5saXN0LmFwcGVuZFRvKGUubGlzdGJveCkpOmUubGlzdGJveC5wb3B1cCgiY2xvc2UiKSxlLl9mb2N1c0J1dHRvbigpLGUuaXNPcGVuPSExfX0sb3BlbjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKCl9LF9kZWNpZGVGb3JtYXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9aS5saXN0LmZpbmQoIi4iK2UubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgYSIpOzA9PT10Lmxlbmd0aCYmKHQ9aS5saXN0LmZpbmQoImxpLnVpLWJ0bjpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKSBhIikpLHQuZmlyc3QoKS5mb2N1cygpLmNsb3Nlc3QoImxpIikuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrbi5vcHRpb25zLnRoZW1lKX12YXIgaT10aGlzLGE9ZS5tb2JpbGUud2luZG93LG89aS5saXN0LnBhcmVudCgpLHM9by5vdXRlckhlaWdodCgpLHI9KG8ub3V0ZXJXaWR0aCgpLGUoIi4iK2UubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksYS5zY3JvbGxUb3AoKSksbD1pLmJ1dHRvbi5vZmZzZXQoKS50b3AsZD1hLmhlaWdodCgpO2Eud2lkdGgoKSxzPmQtODB8fCFlLnN1cHBvcnQuc2Nyb2xsVG9wPyhpLm1lbnVQYWdlLmFwcGVuZFRvKGUubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxpLm1lbnVQYWdlQ29udGVudD12LmZpbmQoIi51aS1jb250ZW50IiksaS5tZW51UGFnZUNsb3NlPXYuZmluZCgiLnVpLWhlYWRlciBhIiksaS50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpLDA9PT1yJiZsPmQmJmkudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtlKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLGwpfSksaS5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe3QoKX0pLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7aS5jbG9zZSgpfSksaS5tZW51VHlwZT0icGFnZSIsaS5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGkubGlzdCksaS5tZW51UGFnZS5maW5kKCJkaXYgLnVpLXRpdGxlIikudGV4dChpLmxhYmVsLnRleHQoKSkpOihpLm1lbnVUeXBlPSJvdmVybGF5IixpLmxpc3Rib3gub25lKCJwb3B1cGFmdGVyb3BlbiIsdCkpfSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXRoaXMub3B0aW9ucyxhPXRoaXMucGxhY2Vob2xkZXIsbz0hMCxzPXQuaXNNdWx0aXBsZT8iY2hlY2tib3gtb2ZmIjoiZmFsc2UiO3QubGlzdC5lbXB0eSgpLmZpbHRlcigiLnVpLWxpc3R2aWV3IikubGlzdHZpZXcoImRlc3Ryb3kiKTtmb3IodmFyIHIsbD10LnNlbGVjdC5maW5kKCJvcHRpb24iKSxkPWwubGVuZ3RoLGM9dGhpcy5zZWxlY3RbMF0saD0iZGF0YS0iK2UubW9iaWxlLm5zLHU9aCsib3B0aW9uLWluZGV4IixwPWgrImljb24iLG09aCsicm9sZSIsZj1oKyJwbGFjZWhvbGRlciIsZz1pLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPSExLHY9MDtkPnY7disrLGI9ITEpe3ZhciBfPWxbdl0sQz1lKF8pLHg9Xy5wYXJlbnROb2RlLHk9Qy50ZXh0KCksdz1pLmNyZWF0ZUVsZW1lbnQoImEiKSxUPVtdO2lmKHcuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHcuYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZSh5KSkseCE9PWMmJiJvcHRncm91cCI9PT14Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBEPXguZ2V0QXR0cmlidXRlKCJsYWJlbCIpO2lmKEQhPT1yKXt2YXIgUD1pLmNyZWF0ZUVsZW1lbnQoImxpIik7UC5zZXRBdHRyaWJ1dGUobSwibGlzdC1kaXZpZGVyIiksUC5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSxQLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLFAuYXBwZW5kQ2hpbGQoaS5jcmVhdGVUZXh0Tm9kZShEKSksZy5hcHBlbmRDaGlsZChQKSxyPUR9fSFvfHxfLmdldEF0dHJpYnV0ZSgidmFsdWUiKSYmMCE9PXkubGVuZ3RoJiYhQy5qcW1EYXRhKCJwbGFjZWhvbGRlciIpfHwobz0hMSxiPSEwLG51bGw9PT1fLmdldEF0dHJpYnV0ZShmKSYmKHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0cj0hMCksXy5zZXRBdHRyaWJ1dGUoZiwhMCksbi5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJlQucHVzaCgidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGEhPT15JiYoYT10LnBsYWNlaG9sZGVyPXkpKTt2YXIgaz1pLmNyZWF0ZUVsZW1lbnQoImxpIik7Xy5kaXNhYmxlZCYmKFQucHVzaCgidWktZGlzYWJsZWQiKSxrLnNldEF0dHJpYnV0ZSgiYXJpYS1kaXNhYmxlZCIsITApKSxrLnNldEF0dHJpYnV0ZSh1LHYpLGsuc2V0QXR0cmlidXRlKHAscyksYiYmay5zZXRBdHRyaWJ1dGUoZiwhMCksay5jbGFzc05hbWU9VC5qb2luKCIgIiksay5zZXRBdHRyaWJ1dGUoInJvbGUiLCJvcHRpb24iKSx3LnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCItMSIpLGsuYXBwZW5kQ2hpbGQodyksZy5hcHBlbmRDaGlsZChrKX10Lmxpc3RbMF0uYXBwZW5kQ2hpbGQoZyksdGhpcy5pc011bHRpcGxlfHxhLmxlbmd0aD90aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik6dGhpcy5oZWFkZXIuaGlkZSgpLHQubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoIjxhPiIse2hyZWY6IiMiLHJvbGU6ImJ1dHRvbiIsaWQ6dGhpcy5idXR0b25JZCwiYXJpYS1oYXNwb3B1cCI6InRydWUiLCJhcmlhLW93bnMiOnRoaXMubWVudUlkfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMuX29yaWdUYWJJbmRleCE9PXQmJih0aGlzLl9vcmlnVGFiSW5kZXghPT0hMT90aGlzLnNlbGVjdC5hdHRyKCJ0YWJpbmRleCIsdGhpcy5fb3JpZ1RhYkluZGV4KTp0aGlzLnNlbGVjdC5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpKSx0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHImJnRoaXMuX3NlbGVjdE9wdGlvbnMoKS5yZW1vdmVBdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInBsYWNlaG9sZGVyIiksdGhpcy5saXN0Ym94LnJlbW92ZSgpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfTtlLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJzZWxlY3RtZW51YmVmb3JlY3JlYXRlIixmdW5jdGlvbih0KXt2YXIgaT1lKHQudGFyZ2V0KS5kYXRhKCJtb2JpbGUtc2VsZWN0bWVudSIpO2kub3B0aW9ucy5uYXRpdmVNZW51fHwwIT09aS5lbGVtZW50LnBhcmVudHMoIjpqcW1EYXRhKHJvbGU9J3BvcHVwJykiKS5sZW5ndGh8fG4oaSl9KX0oZSksZnVuY3Rpb24oZSx0KXtlLndpZGdldCgibW9iaWxlLmNvbnRyb2xncm91cCIsZS5tb2JpbGUud2lkZ2V0LGUuZXh0ZW5kKHtvcHRpb25zOntzaGFkb3c6ITEsY29ybmVyczohMCxleGNsdWRlSW52aXNpYmxlOiEwLHR5cGU6InZlcnRpY2FsIixtaW5pOiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5lbGVtZW50LG49e2lubmVyOmUoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksbGVnZW5kOmUoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+PC9kaXY+Iil9LGE9aS5jaGlsZHJlbigibGVnZW5kIiksbz10aGlzO2kud3JhcElubmVyKG4uaW5uZXIpLGEubGVuZ3RoJiZuLmxlZ2VuZC5hcHBlbmQoYSkuaW5zZXJ0QmVmb3JlKGkuY2hpbGRyZW4oMCkpLGkuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIiksZS5leHRlbmQodGhpcyx7X2luaXRpYWxSZWZyZXNoOiEwfSksZS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihlLGkpe28ub3B0aW9uc1tlXT10LG8uX3NldE9wdGlvbihlLGksITApfSl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oaSxuKXt2YXIgYT0iX3NldCIraS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStpLnNsaWNlKDEpO3RoaXNbYV0hPT10JiZ0aGlzW2FdKG4pLHRoaXMuX3N1cGVyKGksbiksdGhpcy5lbGVtZW50LmF0dHIoImRhdGEtIisoZS5tb2JpbGUubnN8fCIiKStpLnJlcGxhY2UoLyhbQS1aXSkvLCItJDEiKS50b0xvd2VyQ2FzZSgpLG4pfSxfc2V0VHlwZTpmdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCIpLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtIitlKSx0aGlzLnJlZnJlc2goKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oZSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixlKX0sX3NldFNoYWRvdzpmdW5jdGlvbihlKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXNoYWRvdyIsZSl9LF9zZXRNaW5pOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWluaSIsZSl9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51aS1jb250cm9sZ3JvdXAtY29udHJvbHMiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5maW5kKCIudWktYnRuIikubm90KCIudWktc2xpZGVyLWhhbmRsZSIpLGk9dGhpcy5faW5pdGlhbFJlZnJlc2g7ZS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmdGhpcy5lbGVtZW50LmZpbmQoIjptb2JpbGUtY2hlY2tib3hyYWRpbyIpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKSx0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKHQsdGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU/dGhpcy5fZ2V0VmlzaWJsZXModCxpKTp0LGkpLHRoaXMuX2luaXRpYWxSZWZyZXNoPSExfX0sZS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKSxlKGZ1bmN0aW9uKCl7ZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UubW9iaWxlLmNvbnRyb2xncm91cC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCwhMCl9KX0pfShlKSxmdW5jdGlvbihlKXtlKGkpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlKHQudGFyZ2V0KS5maW5kKCJhIikuanFtRW5oYW5jZWFibGUoKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfShlKSxmdW5jdGlvbihlLHQpe2Uud2lkZ2V0KCJtb2JpbGUuZml4ZWR0b29sYmFyIixlLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3Zpc2libGVPblBhZ2VTaG93OiEwLGRpc2FibGVQYWdlWm9vbTohMCx0cmFuc2l0aW9uOiJzbGlkZSIsZnVsbHNjcmVlbjohMSx0YXBUb2dnbGU6ITAsdGFwVG9nZ2xlQmxhY2tsaXN0OiJhLCBidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCAudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkLCAudWktcG9wdXAsIC51aS1wYW5lbCwgLnVpLXBhbmVsLWRpc21pc3Mtb3BlbiIsaGlkZUR1cmluZ0ZvY3VzOiJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCIsdXBkYXRlUGFnZVBhZGRpbmc6ITAsdHJhY2tQZXJzaXN0ZW50VG9vbGJhcnM6ITAsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3JldHVybiFlLnN1cHBvcnQuZml4ZWRQb3NpdGlvbn0saW5pdFNlbGVjdG9yOiI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLG49aS5vcHRpb25zLGE9aS5lbGVtZW50LG89YS5pcygiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKT8iaGVhZGVyIjoiZm9vdGVyIixzPWEuY2xvc2VzdCgiLnVpLXBhZ2UiKTtyZXR1cm4gbi5zdXBwb3J0QmxhY2tsaXN0KCk/KGkuZGVzdHJveSgpLHQpOihhLmFkZENsYXNzKCJ1aS0iK28rIi1maXhlZCIpLG4uZnVsbHNjcmVlbj8oYS5hZGRDbGFzcygidWktIitvKyItZnVsbHNjcmVlbiIpLHMuYWRkQ2xhc3MoInVpLXBhZ2UtIitvKyItZnVsbHNjcmVlbiIpKTpzLmFkZENsYXNzKCJ1aS1wYWdlLSIrbysiLWZpeGVkIiksZS5leHRlbmQodGhpcyx7X3RoaXNQYWdlOm51bGx9KSxpLl9hZGRUcmFuc2l0aW9uQ2xhc3MoKSxpLl9iaW5kUGFnZUV2ZW50cygpLGkuX2JpbmRUb2dnbGVIYW5kbGVycygpLHQpfSxfYWRkVHJhbnNpdGlvbkNsYXNzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLnRyYW5zaXRpb247ZSYmIm5vbmUiIT09ZSYmKCJzbGlkZSI9PT1lJiYoZT10aGlzLmVsZW1lbnQuaXMoIi51aS1oZWFkZXIiKT8ic2xpZGVkb3duIjoic2xpZGV1cCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhlKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3RoaXMuX3RoaXNQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX29uKHRoaXMuX3RoaXNQYWdlLHtwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93Iix3ZWJraXRBbmltYXRpb25TdGFydDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixhbmltYXRpb25zdGFydDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0Iix1cGRhdGVsYXlvdXQ6Il9oYW5kbGVBbmltYXRpb25TdGFydCIscGFnZXNob3c6Il9oYW5kbGVQYWdlU2hvdyIscGFnZWJlZm9yZWhpZGU6Il9oYW5kbGVQYWdlQmVmb3JlSGlkZSJ9KX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3QuZGlzYWJsZVBhZ2Vab29tJiZlLm1vYmlsZS56b29tLmRpc2FibGUoITApLHQudmlzaWJsZU9uUGFnZVNob3d8fHRoaXMuaGlkZSghMCl9LF9oYW5kbGVBbmltYXRpb25TdGFydDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy51cGRhdGVQYWdlUGFkZGluZyh0aGlzLl90aGlzUGFnZSl9LF9oYW5kbGVQYWdlU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5fdGhpc1BhZ2UpLHRoaXMub3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb24oZS5tb2JpbGUud2luZG93LHt0aHJvdHRsZWRyZXNpemU6InVwZGF0ZVBhZ2VQYWRkaW5nIn0pfSxfaGFuZGxlUGFnZUJlZm9yZUhpZGU6ZnVuY3Rpb24odCxpKXt2YXIgbj10aGlzLm9wdGlvbnM7aWYobi5kaXNhYmxlUGFnZVpvb20mJmUubW9iaWxlLnpvb20uZW5hYmxlKCEwKSxuLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vZmYoZS5tb2JpbGUud2luZG93LCJ0aHJvdHRsZWRyZXNpemUiKSxuLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzKXt2YXIgYT1lKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLl90aGlzUGFnZSksbz1lKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQpIix0aGlzLl90aGlzUGFnZSkscz1hLmxlbmd0aCYmaS5uZXh0UGFnZSYmZSgiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkPSciK2EuanFtRGF0YSgiaWQiKSsiJykiLGkubmV4dFBhZ2UpfHxlKCkscj1vLmxlbmd0aCYmaS5uZXh0UGFnZSYmZSgiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkPSciK28uanFtRGF0YSgiaWQiKSsiJykiLGkubmV4dFBhZ2UpfHxlKCk7KHMubGVuZ3RofHxyLmxlbmd0aCkmJihzLmFkZChyKS5hcHBlbmRUbyhlLm1vYmlsZS5wYWdlQ29udGFpbmVyKSxpLm5leHRQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7ci5wcmVwZW5kVG8odGhpcykscy5hcHBlbmRUbyh0aGlzKX0pKX19LF92aXNpYmxlOiEwLHVwZGF0ZVBhZ2VQYWRkaW5nOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXMuZWxlbWVudCxhPW4uaXMoIi51aS1oZWFkZXIiKSxvPXBhcnNlRmxvYXQobi5jc3MoYT8idG9wIjoiYm90dG9tIikpO3RoaXMub3B0aW9ucy5mdWxsc2NyZWVufHwoaT1pJiZpLnR5cGU9PT10JiZpfHx0aGlzLl90aGlzUGFnZXx8bi5jbG9zZXN0KCIudWktcGFnZSIpLGUoaSkuY3NzKCJwYWRkaW5nLSIrKGE/InRvcCI6ImJvdHRvbSIpLG4ub3V0ZXJIZWlnaHQoKStvKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciBpPWUubW9iaWxlLndpbmRvdyxuPXRoaXMuZWxlbWVudCxhPWkuc2Nyb2xsVG9wKCksbz1uLmhlaWdodCgpLHM9bi5jbG9zZXN0KCIudWktcGFnZSIpLmhlaWdodCgpLHI9ZS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksbD1uLmlzKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpPyJoZWFkZXIiOiJmb290ZXIiO3JldHVybiF0JiYodGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJiJub25lIiE9PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uJiYoImhlYWRlciI9PT1sJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmE+b3x8ImZvb3RlciI9PT1sJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJnMtbz5hK3IpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oZSl7dmFyIHQ9InVpLWZpeGVkLWhpZGRlbiIsaT10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihlKT9pLnJlbW92ZUNsYXNzKCJvdXQgIit0KS5hZGRDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2kucmVtb3ZlQ2xhc3MoImluIil9KTppLnJlbW92ZUNsYXNzKHQpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9InVpLWZpeGVkLWhpZGRlbiIsaT10aGlzLmVsZW1lbnQsbj0ib3V0IisoInNsaWRlIj09PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uPyIgcmV2ZXJzZSI6IiIpO3RoaXMuX3VzZVRyYW5zaXRpb24oZSk/aS5hZGRDbGFzcyhuKS5yZW1vdmVDbGFzcygiaW4iKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2kuYWRkQ2xhc3ModCkucmVtb3ZlQ2xhc3Mobil9KTppLmFkZENsYXNzKHQpLnJlbW92ZUNsYXNzKG4pLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT8iaGlkZSI6InNob3ciXSgpfSxfYmluZFRvZ2dsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIHQsaSxuPXRoaXMsYT1uLm9wdGlvbnMsbz1uLmVsZW1lbnQscz0hMDtvLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgidmNsaWNrIixmdW5jdGlvbih0KXthLnRhcFRvZ2dsZSYmIWUodC50YXJnZXQpLmNsb3Nlc3QoYS50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmbi50b2dnbGUoKX0pLmJpbmQoImZvY3VzaW4gZm9jdXNvdXQiLGZ1bmN0aW9uKG8pezEwMjU+c2NyZWVuLndpZHRoJiZlKG8udGFyZ2V0KS5pcyhhLmhpZGVEdXJpbmdGb2N1cykmJiFlKG8udGFyZ2V0KS5jbG9zZXN0KCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoJiYoImZvY3Vzb3V0IiE9PW8udHlwZXx8cz8iZm9jdXNpbiI9PT1vLnR5cGUmJnMmJihjbGVhclRpbWVvdXQodCkscz0hMSxpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmhpZGUoKX0sMCkpOihzPSEwLGNsZWFyVGltZW91dChpKSx0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnNob3coKX0sMCkpKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZWxlbWVudCx0PWUuaXMoIi51aS1oZWFkZXIiKTtlLmNsb3Nlc3QoIi51aS1wYWdlIikuY3NzKCJwYWRkaW5nLSIrKHQ/InRvcCI6ImJvdHRvbSIpLCIiKSxlLnJlbW92ZUNsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZm9vdGVyLWZpeGVkIHVpLWhlYWRlci1mdWxsc2NyZWVuIHVpLWZvb3Rlci1mdWxsc2NyZWVuIGluIG91dCBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlbiIpLGUuY2xvc2VzdCgiLnVpLXBhZ2UiKS5yZW1vdmVDbGFzcygidWktcGFnZS1oZWFkZXItZml4ZWQgdWktcGFnZS1mb290ZXItZml4ZWQgdWktcGFnZS1oZWFkZXItZnVsbHNjcmVlbiB1aS1wYWdlLWZvb3Rlci1mdWxsc2NyZWVuIil9fSksZS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKHQpe2UodC50YXJnZXQpLmpxbURhdGEoImZ1bGxzY3JlZW4iKSYmZShlLm1vYmlsZS5maXhlZHRvb2xiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLHQudGFyZ2V0KS5ub3QoIjpqcW1EYXRhKGZ1bGxzY3JlZW4pIikuanFtRGF0YSgiZnVsbHNjcmVlbiIsITApLGUubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSl7ZS53aWRnZXQoIm1vYmlsZS5maXhlZHRvb2xiYXIiLGUubW9iaWxlLmZpeGVkdG9vbGJhcix7X2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5fd29ya2Fyb3VuZHMoKX0sX3dvcmthcm91bmRzOmZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudCx0PW5hdmlnYXRvci5wbGF0Zm9ybSxpPWUubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLG49ISFpJiZpWzFdLGE9bnVsbCxvPXRoaXM7aWYodC5pbmRleE9mKCJpUGhvbmUiKT4tMXx8dC5pbmRleE9mKCJpUGFkIik+LTF8fHQuaW5kZXhPZigiaVBvZCIpPi0xKWE9ImlvcyI7ZWxzZXtpZighKGUuaW5kZXhPZigiQW5kcm9pZCIpPi0xKSlyZXR1cm47YT0iYW5kcm9pZCJ9aWYoImlvcyI9PT1hKW8uX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCk7ZWxzZXtpZighKCJhbmRyb2lkIj09PWEmJm4mJjUzND5uKSlyZXR1cm47by5fYmluZFNjcm9sbFdvcmthcm91bmQoKSxvLl9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZCgpfX0sX3ZpZXdwb3J0T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LGk9dC5pcygiLnVpLWhlYWRlciIpLG49TWF0aC5hYnModC5vZmZzZXQoKS50b3AtZS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpKTtyZXR1cm4gaXx8KG49TWF0aC5yb3VuZChuLWUubW9iaWxlLndpbmRvdy5oZWlnaHQoKSt0Lm91dGVySGVpZ2h0KCkpLTYwKSxufSxfYmluZFNjcm9sbFdvcmthcm91bmQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX29uKGUubW9iaWxlLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBlPXQuX3ZpZXdwb3J0T2Zmc2V0KCk7ZT4yJiZ0Ll92aXNpYmxlJiZ0Ll90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLmFkZENsYXNzKCJ1aS1hbmRyb2lkLTJ4LWZpeGVkIil9LF90cmlnZ2VyUmVkcmF3OmZ1bmN0aW9uKCl7dmFyIHQ9cGFyc2VGbG9hdChlKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIikpOwplKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIix0KzErInB4Iiksc2V0VGltZW91dChmdW5jdGlvbigpe2UoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLHQrInB4Iil9LDApfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikucmVtb3ZlQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4Iil9fSl9KGUpLGZ1bmN0aW9uKGUsbil7ZS53aWRnZXQoIm1vYmlsZS5wYW5lbCIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbGFzc2VzOntwYW5lbDoidWktcGFuZWwiLHBhbmVsT3BlbjoidWktcGFuZWwtb3BlbiIscGFuZWxDbG9zZWQ6InVpLXBhbmVsLWNsb3NlZCIscGFuZWxGaXhlZDoidWktcGFuZWwtZml4ZWQiLHBhbmVsSW5uZXI6InVpLXBhbmVsLWlubmVyIixtb2RhbDoidWktcGFuZWwtZGlzbWlzcyIsbW9kYWxPcGVuOiJ1aS1wYW5lbC1kaXNtaXNzLW9wZW4iLHBhZ2VQYW5lbDoidWktcGFnZS1wYW5lbCIscGFnZVBhbmVsT3BlbjoidWktcGFnZS1wYW5lbC1vcGVuIixjb250ZW50V3JhcDoidWktcGFuZWwtY29udGVudC13cmFwIixjb250ZW50V3JhcE9wZW46InVpLXBhbmVsLWNvbnRlbnQtd3JhcC1vcGVuIixjb250ZW50V3JhcENsb3NlZDoidWktcGFuZWwtY29udGVudC13cmFwLWNsb3NlZCIsY29udGVudEZpeGVkVG9vbGJhcjoidWktcGFuZWwtY29udGVudC1maXhlZC10b29sYmFyIixjb250ZW50Rml4ZWRUb29sYmFyT3BlbjoidWktcGFuZWwtY29udGVudC1maXhlZC10b29sYmFyLW9wZW4iLGNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQ6InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhci1jbG9zZWQiLGFuaW1hdGU6InVpLXBhbmVsLWFuaW1hdGUifSxhbmltYXRlOiEwLHRoZW1lOiJjIixwb3NpdGlvbjoibGVmdCIsZGlzbWlzc2libGU6ITAsZGlzcGxheToicmV2ZWFsIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3BhbmVsJykiLHN3aXBlQ2xvc2U6ITAscG9zaXRpb25GaXhlZDohMX0sX3BhbmVsSUQ6bnVsbCxfY2xvc2VMaW5rOm51bGwsX3BhZ2U6bnVsbCxfbW9kYWw6bnVsbCxfcGFuZWxJbm5lcjpudWxsLF93cmFwcGVyOm51bGwsX2ZpeGVkVG9vbGJhcjpudWxsLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5lbGVtZW50LG49aS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxhPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5kYXRhKG5bMF0sIm1vYmlsZVBhZ2UiKS5vcHRpb25zLnRoZW1lLGk9InVpLWJvZHktIit0O3JldHVybiBpfSxvPWZ1bmN0aW9uKCl7dmFyIGU9aS5maW5kKCIuIit0Lm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWUubGVuZ3RoJiYoZT1pLmNoaWxkcmVuKCkud3JhcEFsbCgnPGRpdiBjbGFzcz0iJyt0Lm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKyciIC8+JykucGFyZW50KCkpLGV9LHM9ZnVuY3Rpb24oKXt2YXIgaT1uLmZpbmQoIi4iK3Qub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwKTtyZXR1cm4gMD09PWkubGVuZ3RoJiYoaT1uLmNoaWxkcmVuKCIudWktaGVhZGVyOm5vdCg6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSksIC51aS1jb250ZW50Om5vdCg6anFtRGF0YShyb2xlPSdwb3B1cCcpKSwgLnVpLWZvb3Rlcjpub3QoOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykpIikud3JhcEFsbCgnPGRpdiBjbGFzcz0iJyt0Lm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50V3JhcCsiICIrYSgpKyciIC8+JykucGFyZW50KCksZS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZ0Lm9wdGlvbnMuYW5pbWF0ZSYmaS5hZGRDbGFzcyh0Lm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSksaX0scj1mdW5jdGlvbigpe3ZhciBpPW4uZmluZCgiLiIrdC5vcHRpb25zLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhcik7cmV0dXJuIDA9PT1pLmxlbmd0aCYmKGk9bi5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJyksIC51aS1mb290ZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKHQub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpLGUuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdC5vcHRpb25zLmFuaW1hdGUmJmkuYWRkQ2xhc3ModC5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGl9O2UuZXh0ZW5kKHRoaXMse19wYW5lbElEOmkuYXR0cigiaWQiKSxfY2xvc2VMaW5rOmkuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhZ2U6aS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxfcGFnZVRoZW1lOmEoKSxfcGFuZWxJbm5lcjpvKCksX3dyYXBwZXI6cygpLF9maXhlZFRvb2xiYXI6cigpfSksdC5fYWRkUGFuZWxDbGFzc2VzKCksdC5fd3JhcHBlci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50V3JhcENsb3NlZCksdC5fZml4ZWRUb29sYmFyLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLHQuX3BhZ2UuYWRkQ2xhc3ModC5vcHRpb25zLmNsYXNzZXMucGFnZVBhbmVsKSxlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJnQub3B0aW9ucy5hbmltYXRlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModC5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSksdC5fYmluZFVwZGF0ZUxheW91dCgpLHQuX2JpbmRDbG9zZUV2ZW50cygpLHQuX2JpbmRMaW5rTGlzdGVuZXJzKCksdC5fYmluZFBhZ2VFdmVudHMoKSx0Lm9wdGlvbnMuZGlzbWlzc2libGUmJnQuX2NyZWF0ZU1vZGFsKCksdC5fYmluZFN3aXBlRXZlbnRzKCl9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fbW9kYWw9ZSgiPGRpdiBjbGFzcz0nIit0Lm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCsiJyBkYXRhLXBhbmVsaWQ9JyIrdC5fcGFuZWxJRCsiJz48L2Rpdj4iKS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe3QuY2xvc2UoKX0pLmFwcGVuZFRvKHRoaXMuX3BhZ2UpfSxfZ2V0UG9zRGlzcGxheUNsYXNzZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrIi1wb3NpdGlvbi0iK3RoaXMub3B0aW9ucy5wb3NpdGlvbisiICIrZSsiLWRpc3BsYXktIit0aGlzLm9wdGlvbnMuZGlzcGxheX0sX2dldFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKyIgIit0aGlzLl9nZXRQb3NEaXNwbGF5Q2xhc3Nlcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCkrIiAiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsQ2xvc2VkO3JldHVybiB0aGlzLm9wdGlvbnMudGhlbWUmJihlKz0iIHVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiYoZSs9IiAiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpLGV9LF9hZGRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCkpfSxfYmluZENsb3NlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jbG9zZUxpbmsub24oImNsaWNrLnBhbmVsIixmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGUuY2xvc2UoKSwhMX0pLGUuZWxlbWVudC5vbigiY2xpY2sucGFuZWwiLCJhOmpxbURhdGEoYWpheD0nZmFsc2UnKSIsZnVuY3Rpb24oKXtlLmNsb3NlKCl9KX0sX3Bvc2l0aW9uUGFuZWw6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5fcGFuZWxJbm5lci5vdXRlckhlaWdodCgpLG49aT5lLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtufHwhdC5vcHRpb25zLnBvc2l0aW9uRml4ZWQ/KG4mJih0Ll91bmZpeFBhbmVsKCksZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KGkpKSx0Ll9zY3JvbGxJbnRvVmlldyhpKSk6dC5fZml4UGFuZWwoKX0sX3Njcm9sbEludG9WaWV3OmZ1bmN0aW9uKGkpe2UodCkuc2Nyb2xsVG9wKCk+aSYmdC5zY3JvbGxUbygwLDApfSxfYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb24oZSh0KSx7dGhyb3R0bGVkcmVzaXplOiJfcG9zaXRpb25QYW5lbCJ9KX0sX3VuYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKGUodCksInRocm90dGxlZHJlc2l6ZSIpfSxfdW5maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZlLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfZml4UGFuZWw6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmZS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2JpbmRVcGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2UuX29wZW4mJmUuX3Bvc2l0aW9uUGFuZWwoKX0pfSxfYmluZExpbmtMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuX3BhZ2Uub24oImNsaWNrLnBhbmVsIiwiYSIsZnVuY3Rpb24oaSl7aWYodGhpcy5ocmVmLnNwbGl0KCIjIilbMV09PT10Ll9wYW5lbElEJiZ0Ll9wYW5lbElEIT09bil7aS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBhPWUodGhpcyk7cmV0dXJuIGEuaGFzQ2xhc3MoInVpLWxpbmsiKXx8KGEuYWRkQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHQuZWxlbWVudC5vbmUoInBhbmVsb3BlbiBwYW5lbGNsb3NlIixmdW5jdGlvbigpe2EucmVtb3ZlQ2xhc3MoZS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpLHQudG9nZ2xlKCksITF9fSl9LF9iaW5kU3dpcGVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5fbW9kYWw/ZS5lbGVtZW50LmFkZChlLl9tb2RhbCk6ZS5lbGVtZW50O2Uub3B0aW9ucy5zd2lwZUNsb3NlJiYoImxlZnQiPT09ZS5vcHRpb25zLnBvc2l0aW9uP3Qub24oInN3aXBlbGVmdC5wYW5lbCIsZnVuY3Rpb24oKXtlLmNsb3NlKCl9KTp0Lm9uKCJzd2lwZXJpZ2h0LnBhbmVsIixmdW5jdGlvbigpe2UuY2xvc2UoKX0pKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9wYWdlLm9uKCJwYW5lbGJlZm9yZW9wZW4iLGZ1bmN0aW9uKHQpe2UuX29wZW4mJnQudGFyZ2V0IT09ZS5lbGVtZW50WzBdJiZlLmNsb3NlKCl9KS5vbigicGFnZWhpZGUiLGZ1bmN0aW9uKCl7ZS5fb3BlbiYmZS5jbG9zZSghMCl9KS5vbigia2V5dXAucGFuZWwiLGZ1bmN0aW9uKHQpezI3PT09dC5rZXlDb2RlJiZlLl9vcGVuJiZlLmNsb3NlKCl9KX0sX29wZW46ITEsX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXM6bnVsbCxfZml4ZWRUb29sYmFyT3BlbkNsYXNzZXM6bnVsbCxfbW9kYWxPcGVuQ2xhc3NlczpudWxsLG9wZW46ZnVuY3Rpb24odCl7aWYoIXRoaXMuX29wZW4pe3ZhciBpPXRoaXMsbj1pLm9wdGlvbnMsYT1mdW5jdGlvbigpe2kuX3BhZ2Uub2ZmKCJwYW5lbGNsb3NlIiksaS5fcGFnZS5qcW1EYXRhKCJwYW5lbCIsIm9wZW4iKSwhdCYmZS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZuLmFuaW1hdGU/aS5lbGVtZW50LmFkZChpLl93cmFwcGVyKS5vbihpLl90cmFuc2l0aW9uRW5kRXZlbnRzLG8pOnNldFRpbWVvdXQobywwKSxpLm9wdGlvbnMudGhlbWUmJiJvdmVybGF5IiE9PWkub3B0aW9ucy5kaXNwbGF5JiZpLl9wYWdlLnJlbW92ZUNsYXNzKGkuX3BhZ2VUaGVtZSkuYWRkQ2xhc3MoInVpLWJvZHktIitpLm9wdGlvbnMudGhlbWUpLGkuZWxlbWVudC5yZW1vdmVDbGFzcyhuLmNsYXNzZXMucGFuZWxDbG9zZWQpLmFkZENsYXNzKG4uY2xhc3Nlcy5wYW5lbE9wZW4pLGkuX3Bvc2l0aW9uUGFuZWwoKSxpLm9wdGlvbnMudGhlbWUmJiJvdmVybGF5IiE9PWkub3B0aW9ucy5kaXNwbGF5JiZpLl93cmFwcGVyLmNzcygibWluLWhlaWdodCIsaS5fcGFnZS5jc3MoIm1pbi1oZWlnaHQiKSksaS5fY29udGVudFdyYXBPcGVuQ2xhc3Nlcz1pLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhuLmNsYXNzZXMuY29udGVudFdyYXApLGkuX3dyYXBwZXIucmVtb3ZlQ2xhc3Mobi5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKS5hZGRDbGFzcyhpLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzKyIgIituLmNsYXNzZXMuY29udGVudFdyYXBPcGVuKSxpLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3Nlcz1pLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhuLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhciksaS5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKG4uY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKS5hZGRDbGFzcyhpLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlcysiICIrbi5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSxpLl9tb2RhbE9wZW5DbGFzc2VzPWkuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKG4uY2xhc3Nlcy5tb2RhbCkrIiAiK24uY2xhc3Nlcy5tb2RhbE9wZW4saS5fbW9kYWwmJmkuX21vZGFsLmFkZENsYXNzKGkuX21vZGFsT3BlbkNsYXNzZXMpfSxvPWZ1bmN0aW9uKCl7aS5lbGVtZW50LmFkZChpLl93cmFwcGVyKS5vZmYoaS5fdHJhbnNpdGlvbkVuZEV2ZW50cyxvKSxpLl9wYWdlLmFkZENsYXNzKG4uY2xhc3Nlcy5wYWdlUGFuZWxPcGVuKSxpLl9iaW5kRml4TGlzdGVuZXIoKSxpLl90cmlnZ2VyKCJvcGVuIil9OzA+dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLmxlbmd0aCYmKHQ9ITApLGkuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSwib3BlbiI9PT1pLl9wYWdlLmpxbURhdGEoInBhbmVsIik/aS5fcGFnZS5vbigicGFuZWxjbG9zZSIsZnVuY3Rpb24oKXthKCl9KTphKCksaS5fb3Blbj0hMH19LGNsb3NlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX29wZW4pe3ZhciBpPXRoaXMub3B0aW9ucyxuPXRoaXMsYT1mdW5jdGlvbigpeyF0JiZlLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmkuYW5pbWF0ZT9uLmVsZW1lbnQuYWRkKG4uX3dyYXBwZXIpLm9uKG4uX3RyYW5zaXRpb25FbmRFdmVudHMsbyk6c2V0VGltZW91dChvLDApLG4uX3BhZ2UucmVtb3ZlQ2xhc3MoaS5jbGFzc2VzLnBhZ2VQYW5lbE9wZW4pLG4uZWxlbWVudC5yZW1vdmVDbGFzcyhpLmNsYXNzZXMucGFuZWxPcGVuKSxuLl93cmFwcGVyLnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5jb250ZW50V3JhcE9wZW4pLG4uX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhpLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLG4uX21vZGFsJiZuLl9tb2RhbC5yZW1vdmVDbGFzcyhuLl9tb2RhbE9wZW5DbGFzc2VzKX0sbz1mdW5jdGlvbigpe24ub3B0aW9ucy50aGVtZSYmIm92ZXJsYXkiIT09bi5vcHRpb25zLmRpc3BsYXkmJihuLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrbi5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcyhuLl9wYWdlVGhlbWUpLG4uX3dyYXBwZXIuY3NzKCJtaW4taGVpZ2h0IiwiIikpLG4uZWxlbWVudC5hZGQobi5fd3JhcHBlcikub2ZmKG4uX3RyYW5zaXRpb25FbmRFdmVudHMsbyksbi5lbGVtZW50LmFkZENsYXNzKGkuY2xhc3Nlcy5wYW5lbENsb3NlZCksbi5fd3JhcHBlci5yZW1vdmVDbGFzcyhuLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzKS5hZGRDbGFzcyhpLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLG4uX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhuLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlcykuYWRkQ2xhc3MoaS5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLG4uX2ZpeFBhbmVsKCksbi5fdW5iaW5kRml4TGlzdGVuZXIoKSxlLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSxuLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksbi5fdHJpZ2dlcigiY2xvc2UiKX07MD50aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RoJiYodD0hMCksbi5fdHJpZ2dlcigiYmVmb3JlY2xvc2UiKSxhKCksbi5fb3Blbj0hMX19LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fb3Blbj8iY2xvc2UiOiJvcGVuIl0oKX0sX3RyYW5zaXRpb25FbmRFdmVudHM6IndlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQgdHJhbnNpdGlvbmVuZCBtc1RyYW5zaXRpb25FbmQiLF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmNsYXNzZXMsaT10aGlzLm9wdGlvbnMudGhlbWUsbj10aGlzLmVsZW1lbnQuc2libGluZ3MoIi4iK3QucGFuZWwpLmxlbmd0aDtuP3RoaXMuX29wZW4mJih0aGlzLl93cmFwcGVyLnJlbW92ZUNsYXNzKHQuY29udGVudFdyYXBPcGVuKSx0aGlzLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3ModC5jb250ZW50Rml4ZWRUb29sYmFyT3BlbiksdGhpcy5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3ModC5wYWdlUGFuZWxPcGVuKSxpJiZ0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIraSkuYWRkQ2xhc3ModGhpcy5fcGFnZVRoZW1lKSk6KHRoaXMuX3dyYXBwZXIuY2hpbGRyZW4oKS51bndyYXAoKSx0aGlzLl9wYWdlLmZpbmQoImEiKS51bmJpbmQoInBhbmVsb3BlbiBwYW5lbGNsb3NlIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyh0LnBhZ2VQYW5lbCksdGhpcy5fb3BlbiYmKHRoaXMuX3BhZ2UuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKHQucGFnZVBhbmVsT3BlbiksaSYmdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2kpLmFkZENsYXNzKHRoaXMuX3BhZ2VUaGVtZSksZS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCkpKSx0aGlzLl9wYW5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSx0LnBhbmVsQW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLHRoaXMuX2Nsb3NlTGluay5vZmYoImNsaWNrLnBhbmVsIiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5vZmYodGhpcy5fdHJhbnNpdGlvbkVuZEV2ZW50cykucmVtb3ZlQ2xhc3MoW3QucGFuZWxVbmZpeGVkLHQucGFuZWxDbG9zZWQsdC5wYW5lbE9wZW5dLmpvaW4oIiAiKSl9fSksZShpKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24odCl7ZS5tb2JpbGUucGFuZWwucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4odC50YXJnZXQpfSl9KGUpLGZ1bmN0aW9uKGUsdCl7ZS53aWRnZXQoIm1vYmlsZS50YWJsZSIsZS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3RhYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLnJlZnJlc2goITApfSxyZWZyZXNoOmZ1bmN0aW9uKGkpe3ZhciBuPXRoaXMsYT10aGlzLmVsZW1lbnQuZmluZCgidGhlYWQgdHIiKTtpJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMudGFibGUpLG4uaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCgidHI6ZXEoMCkiKS5jaGlsZHJlbigpLG4uYWxsSGVhZGVycz1uLmhlYWRlcnMuYWRkKGEuY2hpbGRyZW4oKSksYS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89MDtlKHRoaXMpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciBzPXBhcnNlSW50KGUodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxyPSI6bnRoLWNoaWxkKCIrKG8rMSkrIikiO2lmKGUodGhpcykuanFtRGF0YSgiY29sc3RhcnQiLG8rMSkscylmb3IodmFyIGw9MDtzLTE+bDtsKyspbysrLHIrPSIsIDpudGgtY2hpbGQoIisobysxKSsiKSI7aT09PXQmJmUodGhpcykuanFtRGF0YSgiY2VsbHMiLCIiKSxlKHRoaXMpLmpxbURhdGEoImNlbGxzIixuLmVsZW1lbnQuZmluZCgidHIiKS5ub3QoYS5lcSgwKSkubm90KHRoaXMpLmNoaWxkcmVuKHIpKSxvKyt9KX0pLGk9PT10JiZ0aGlzLmVsZW1lbnQudHJpZ2dlcigicmVmcmVzaCIpfX0pLGUubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbih0KXtlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbih0LnRhcmdldCl9KX0oZSksZnVuY3Rpb24oZSx0KXtlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5tb2RlPSJjb2x1bW50b2dnbGUiLGUubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtbkJ0blRoZW1lPW51bGwsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY29sdW1uUG9wdXBUaGVtZT1udWxsLGUubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtbkJ0blRleHQ9IkNvbHVtbnMuLi4iLGUubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXM9ZS5leHRlbmQoZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cG9wdXA6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cCIsY29sdW1uQnRuOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtYnRuIixwcmlvcml0eVByZWZpeDoidWktdGFibGUtcHJpb3JpdHktIixjb2x1bW5Ub2dnbGVUYWJsZToidWktdGFibGUtY29sdW1udG9nZ2xlIn0pLGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSd0YWJsZScpIiwidGFibGVjcmVhdGUgcmVmcmVzaCIsZnVuY3Rpb24oaSl7dmFyIG4sYSxvLHMscj1lKHRoaXMpLGw9ci5kYXRhKCJtb2JpbGUtdGFibGUiKSxkPWkudHlwZSxjPWwub3B0aW9ucyxoPWUubW9iaWxlLm5zLHU9KHIuYXR0cigiaWQiKXx8Yy5jbGFzc2VzLnBvcHVwKSsiLXBvcHVwIjsiY29sdW1udG9nZ2xlIj09PWMubW9kZSYmKCJyZWZyZXNoIiE9PWQmJihsLmVsZW1lbnQuYWRkQ2xhc3MoYy5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSxuPWUoIjxhIGhyZWY9JyMiK3UrIicgY2xhc3M9JyIrYy5jbGFzc2VzLmNvbHVtbkJ0bisiJyBkYXRhLSIraCsicmVsPSdwb3B1cCcgZGF0YS0iK2grIm1pbmk9J3RydWUnPiIrYy5jb2x1bW5CdG5UZXh0KyI8L2E+IiksYT1lKCI8ZGl2IGRhdGEtIitoKyJyb2xlPSdwb3B1cCcgZGF0YS0iK2grInJvbGU9J2ZpZWxkY29udGFpbicgY2xhc3M9JyIrYy5jbGFzc2VzLnBvcHVwKyInIGlkPSciK3UrIic+PC9kaXY+Iiksbz1lKCI8ZmllbGRzZXQgZGF0YS0iK2grInJvbGU9J2NvbnRyb2xncm91cCc+PC9maWVsZHNldD4iKSksbC5oZWFkZXJzLm5vdCgidGQiKS5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPWUodGhpcykuanFtRGF0YSgicHJpb3JpdHkiKSxuPWUodGhpcykuYWRkKGUodGhpcykuanFtRGF0YSgiY2VsbHMiKSk7aSYmKG4uYWRkQ2xhc3MoYy5jbGFzc2VzLnByaW9yaXR5UHJlZml4K2kpLCJyZWZyZXNoIiE9PWQ/ZSgiPGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZCAvPiIrZSh0aGlzKS50ZXh0KCkrIjwvbGFiZWw+IikuYXBwZW5kVG8obykuY2hpbGRyZW4oMCkuanFtRGF0YSgiY2VsbHMiLG4pLmNoZWNrYm94cmFkaW8oe3RoZW1lOmMuY29sdW1uUG9wdXBUaGVtZX0pOmUoIiMiK3UrIiBmaWVsZHNldCBkaXY6ZXEoIit0KyIpIikuZmluZCgiaW5wdXQiKS5qcW1EYXRhKCJjZWxscyIsbikpfSksInJlZnJlc2giIT09ZCYmby5hcHBlbmRUbyhhKSxzPW89PT10P2UoIiMiK3UrIiBmaWVsZHNldCIpOm8sInJlZnJlc2giIT09ZCYmKHMub24oImNoYW5nZSIsImlucHV0IixmdW5jdGlvbigpe3RoaXMuY2hlY2tlZD9lKHRoaXMpLmpxbURhdGEoImNlbGxzIikucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpOmUodGhpcykuanFtRGF0YSgiY2VsbHMiKS5yZW1vdmVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIil9KSxuLmluc2VydEJlZm9yZShyKS5idXR0b25NYXJrdXAoe3RoZW1lOmMuY29sdW1uQnRuVGhlbWV9KSxhLmluc2VydEJlZm9yZShyKS5wb3B1cCgpKSxsLnVwZGF0ZT1mdW5jdGlvbigpe3MuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5jaGVja2VkPyh0aGlzLmNoZWNrZWQ9InRhYmxlLWNlbGwiPT09ZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLmVxKDApLmNzcygiZGlzcGxheSIpLCJyZWZyZXNoIj09PWQmJmUodGhpcykuanFtRGF0YSgiY2VsbHMiKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIikpOmUodGhpcykuanFtRGF0YSgiY2VsbHMiKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iKSxlKHRoaXMpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0pfSxlLm1vYmlsZS53aW5kb3cub24oInRocm90dGxlZHJlc2l6ZSIsbC51cGRhdGUpLGwudXBkYXRlKCkpfSl9KGUpLGZ1bmN0aW9uKGUpe2UubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLm1vZGU9InJlZmxvdyIsZS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcz1lLmV4dGVuZChlLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pLGUubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSd0YWJsZScpIiwidGFibGVjcmVhdGUgcmVmcmVzaCIsZnVuY3Rpb24odCl7dmFyIGk9ZSh0aGlzKSxuPXQudHlwZSxhPWkuZGF0YSgibW9iaWxlLXRhYmxlIiksbz1hLm9wdGlvbnM7aWYoInJlZmxvdyI9PT1vLm1vZGUpeyJyZWZyZXNoIiE9PW4mJmEuZWxlbWVudC5hZGRDbGFzcyhvLmNsYXNzZXMucmVmbG93VGFibGUpO3ZhciBzPWUoYS5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSk7cy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLGk9ZSh0aGlzKS5qcW1EYXRhKCJjb2xzdGFydCIpLG49dC5ub3QodGhpcykuZmlsdGVyKCJ0aGVhZCB0aCIpLmxlbmd0aCYmIiB1aS10YWJsZS1jZWxsLWxhYmVsLXRvcCIsYT1lKHRoaXMpLnRleHQoKTtpZigiIiE9PWEpaWYobil7dmFyIHM9cGFyc2VJbnQoZSh0aGlzKS5hdHRyKCJjb2xzcGFuIiksMTApLHI9IiI7cyYmKHI9InRkOm50aC1jaGlsZCgiK3MrIm4gKyAiK2krIikiKSx0LmZpbHRlcihyKS5wcmVwZW5kKCI8YiBjbGFzcz0nIitvLmNsYXNzZXMuY2VsbExhYmVscytuKyInPiIrYSsiPC9iPiIpfWVsc2UgdC5wcmVwZW5kKCI8YiBjbGFzcz0nIitvLmNsYXNzZXMuY2VsbExhYmVscysiJz4iK2ErIjwvYj4iKX0pfX0pfShlKSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSl7bz1lLm9yaWdpbmFsRXZlbnQsZD1vLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkscz1NYXRoLmFicyhkLngpLHI9TWF0aC5hYnMoZC55KSxsPU1hdGguYWJzKGQueiksIXQub3JpZW50YXRpb24mJihzPjd8fChsPjYmJjg+cnx8OD5sJiZyPjYpJiZzPjUpP2MuZW5hYmxlZCYmYy5kaXNhYmxlKCk6Yy5lbmFibGVkfHxjLmVuYWJsZSgpfWUubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMDt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKCEoL2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmL09TIFsxLTVdX1swLTlfXSogbGlrZSBNYWMgT1MgWC9pLnRlc3QoYSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSkpcmV0dXJuIGUubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMSxuO3ZhciBvLHMscixsLGQsYz1lLm1vYmlsZS56b29tO2UubW9iaWxlLmRvY3VtZW50Lm9uKCJtb2JpbGVpbml0IixmdW5jdGlvbigpe2UubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCYmZS5tb2JpbGUud2luZG93LmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmlvc29yaWVudGF0aW9uZml4IixjLmVuYWJsZSkuYmluZCgiZGV2aWNlbW90aW9uLmlvc29yaWVudGF0aW9uZml4IixpKX0pfShlLHRoaXMpLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe2EucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKX12YXIgYT1lKCJodG1sIiksbz0oZSgiaGVhZCIpLGUubW9iaWxlLndpbmRvdyk7ZSh0LmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0IiksZS5tb2JpbGUuZ3JhZGVBKCkmJihlLm1vYmlsZS5hamF4QmxhY2tsaXN0JiYoZS5tb2JpbGUuYWpheEVuYWJsZWQ9ITEpLGEuYWRkQ2xhc3MoInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIiksc2V0VGltZW91dChuLDVlMyksZS5leHRlbmQoZS5tb2JpbGUse2luaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIHQ9ZS5tb2JpbGUucGF0aCxhPWUoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKSxzPXQuc3RyaXBIYXNoKHQuc3RyaXBRdWVyeVBhcmFtcyh0LnBhcnNlTG9jYXRpb24oKS5oYXNoKSkscj1pLmdldEVsZW1lbnRCeUlkKHMpO2EubGVuZ3RofHwoYT1lKCJib2R5Iikud3JhcElubmVyKCI8ZGl2IGRhdGEtIitlLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+PC9kaXY+IikuY2hpbGRyZW4oMCkpLGEuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7dC5qcW1EYXRhKCJ1cmwiKXx8dC5hdHRyKCJkYXRhLSIrZS5tb2JpbGUubnMrInVybCIsdC5hdHRyKCJpZCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSksZS5tb2JpbGUuZmlyc3RQYWdlPWEuZmlyc3QoKSxlLm1vYmlsZS5wYWdlQ29udGFpbmVyPWUubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0Iiksby50cmlnZ2VyKCJwYWdlY29udGFpbmVyY3JlYXRlIiksZS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCksbigpLGUubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZlLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKGxvY2F0aW9uLmhhc2gpJiYoZShyKS5pcygnOmpxbURhdGEocm9sZT0icGFnZSIpJyl8fGUubW9iaWxlLnBhdGguaXNQYXRoKHMpfHxzPT09ZS5tb2JpbGUuZGlhbG9nSGFzaEtleSk/ZS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpPyhlLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrPVtdLGUubW9iaWxlLm5hdmlnYXRlKGUubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpP2xvY2F0aW9uLmhhc2g6bG9jYXRpb24uaHJlZikpOm8udHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSk6KGUubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihlLm1vYmlsZS51cmxIaXN0b3J5LmluaXRpYWxEc3Q9cy5yZXBsYWNlKCIjIiwiIikpLGUuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmZS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaCh0LnBhcnNlTG9jYXRpb24oKS5ocmVmKSxlLm1vYmlsZS5jaGFuZ2VQYWdlKGUubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpfX0pLGUubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpLGUoZnVuY3Rpb24oKXt0LnNjcm9sbFRvKDAsMSksZS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9ZS5zdXBwb3J0LnNjcm9sbFRvcCYmMSE9PWUubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKT8xOjAsZS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZlLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpLG8ubG9hZChlLm1vYmlsZS5zaWxlbnRTY3JvbGwpLGUuc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzfHxlLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiLnVpLWRpc2FibGVkIiwidmNsaWNrIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0pfSkpfShlLHRoaXMpfSk7Ci8vQCBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5tb2JpbGUtMS4zLjEubWluLm1hcAo7Cg==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Length": "144529",
                    "Date": "Fri, 07 Nov 2014 06:49:43 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
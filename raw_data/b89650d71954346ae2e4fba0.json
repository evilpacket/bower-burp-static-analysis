{
    "url": "http://localhost:9999/phono/s.phono.com/releases/af57805/samples/conference/www/jquery.mobile-1.0b1.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Open redirection (DOM-based)",
    "issueType": 5243152,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based open redirection vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this data into the target of a redirection in an unsafe way. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will cause a redirection to an arbitrary external domain. This behavior can be leveraged to facilitate phishing attacks against users of the application. The ability to use an authentic application URL, targeting the correct domain with a valid SSL certificate (if SSL is used) lends credibility to the phishing attack because many users, even if they verify these features, will not notice the subsequent redirection to a different domain.<br><br><b>Note:</b> If an attacker is able to control the start of the string that is passed to the redirection API, then it may be possible to escalate this vulnerability into a JavaScript injection attack, by using a URL with the javascript: pseudo-protocol to execute arbitrary script code when the URL is processed by the browser.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based open redirection vulnerabilities is not to dynamically set redirection targets using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a redirection target. In general, this is best achieved by using a whitelist of URLs that are permitted redirection targets, and strictly validating the target against this list before performing the redirection.",
    "issueDetail": "The application may be vulnerable to DOM-based open redirection. Data is read from <b>location.href</b> and written to <b>location.href</b> via the following statement:<ul><li>location.href=location.href.replace(/#.*/, \"\")+f;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/phono/s.phono.com/releases/af57805/samples/conference/www/jquery.mobile-1.0b1.min.js",
                "path": "/phono/s.phono.com/releases/af57805/samples/conference/www/jquery.mobile-1.0b1.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9waG9uby9zLnBob25vLmNvbS9yZWxlYXNlcy9hZjU3ODA1L3NhbXBsZXMvY29uZmVyZW5jZS93d3cvanF1ZXJ5Lm1vYmlsZS0xLjBiMS5taW4uanMgSFRUUC8xLjENCkhvc3Q6IGxvY2FsaG9zdDo5OTk5DQoNCg==",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogNjY2MzkNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IEZyaSwgMDcgTm92IDIwMTQgMjE6NTg6NDAgR01UDQpMYXN0LU1vZGlmaWVkOiBGcmksIDA3IE5vdiAyMDE0IDIxOjU4OjI1IEdNVA0KDQovKiEKICogalF1ZXJ5IE1vYmlsZSB2MS4wYjEKICogaHR0cDovL2pxdWVyeW1vYmlsZS5jb20vCiAqCiAqIENvcHlyaWdodCAyMDEwLCBqUXVlcnkgUHJvamVjdAogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKi8KKGZ1bmN0aW9uKGEsZCl7aWYoYS5jbGVhbkRhdGEpe3ZhciBjPWEuY2xlYW5EYXRhO2EuY2xlYW5EYXRhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgYj0wLGQ7KGQ9ZVtiXSkhPW51bGw7YisrKWEoZCkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpO2MoZSl9fWVsc2V7dmFyIGI9YS5mbi5yZW1vdmU7YS5mbi5yZW1vdmU9ZnVuY3Rpb24oZSxjKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Y3x8KCFlfHxhLmZpbHRlcihlLFt0aGlzXSkubGVuZ3RoKSYmYSgiKiIsdGhpcykuYWRkKFt0aGlzXSkuZWFjaChmdW5jdGlvbigpe2EodGhpcykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfSk7cmV0dXJuIGIuY2FsbChhKHRoaXMpLGUsYyl9KX19YS53aWRnZXQ9ZnVuY3Rpb24oZSxiLGMpe3ZhciBkPWUuc3BsaXQoIi4iKVswXSxoLGU9ZS5zcGxpdCgiLiIpWzFdO2g9ZCsiLSIrZTtpZighYyljPWIsYj1hLldpZGdldDthLmV4cHJbIjoiXVtoXT1mdW5jdGlvbihiKXtyZXR1cm4hIWEuZGF0YShiLAplKX07YVtkXT1hW2RdfHx7fTthW2RdW2VdPWZ1bmN0aW9uKGEsZSl7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsZSl9O2I9bmV3IGI7Yi5vcHRpb25zPWEuZXh0ZW5kKCEwLHt9LGIub3B0aW9ucyk7YVtkXVtlXS5wcm90b3R5cGU9YS5leHRlbmQoITAsYix7bmFtZXNwYWNlOmQsd2lkZ2V0TmFtZTplLHdpZGdldEV2ZW50UHJlZml4OmFbZF1bZV0ucHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4fHxlLHdpZGdldEJhc2VDbGFzczpofSxjKTthLndpZGdldC5icmlkZ2UoZSxhW2RdW2VdKX07YS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGUsYil7YS5mbltlXT1mdW5jdGlvbihjKXt2YXIgaT10eXBlb2YgYz09PSJzdHJpbmciLGg9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGw9dGhpcyxjPSFpJiZoLmxlbmd0aD9hLmV4dGVuZC5hcHBseShudWxsLFshMCxjXS5jb25jYXQoaCkpOmM7aWYoaSYmYy5jaGFyQXQoMCk9PT0iXyIpcmV0dXJuIGw7Cmk/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YS5kYXRhKHRoaXMsZSk7aWYoIWIpdGhyb3ciY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK2UrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK2MrIiciO2lmKCFhLmlzRnVuY3Rpb24oYltjXSkpdGhyb3cibm8gc3VjaCBtZXRob2QgJyIrYysiJyBmb3IgIitlKyIgd2lkZ2V0IGluc3RhbmNlIjt2YXIgZj1iW2NdLmFwcGx5KGIsaCk7aWYoZiE9PWImJmYhPT1kKXJldHVybiBsPWYsITF9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hLmRhdGEodGhpcyxlKTtkP2Qub3B0aW9uKGN8fHt9KS5faW5pdCgpOmEuZGF0YSh0aGlzLGUsbmV3IGIoYyx0aGlzKSl9KTtyZXR1cm4gbH19O2EuV2lkZ2V0PWZ1bmN0aW9uKGEsYil7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYil9O2EuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIiwKb3B0aW9uczp7ZGlzYWJsZWQ6ITF9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYixjKXthLmRhdGEoYyx0aGlzLndpZGdldE5hbWUsdGhpcyk7dGhpcy5lbGVtZW50PWEoYyk7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKCEwLHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksYik7dmFyIGQ9dGhpczt0aGlzLmVsZW1lbnQuYmluZCgicmVtb3ZlLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7ZC5kZXN0cm95KCl9KTt0aGlzLl9jcmVhdGUoKTt0aGlzLl90cmlnZ2VyKCJjcmVhdGUiKTt0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9e307YS5tZXRhZGF0YSYmKGI9YS5tZXRhZGF0YS5nZXQoZWxlbWVudClbdGhpcy53aWRnZXROYW1lXSk7cmV0dXJuIGJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt9LF9pbml0OmZ1bmN0aW9uKCl7fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSk7CnRoaXMud2lkZ2V0KCkudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIil9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihiLGMpe3ZhciBnPWI7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIGEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYodHlwZW9mIGI9PT0ic3RyaW5nIil7aWYoYz09PWQpcmV0dXJuIHRoaXMub3B0aW9uc1tiXTtnPXt9O2dbYl09Y310aGlzLl9zZXRPcHRpb25zKGcpO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgYz10aGlzO2EuZWFjaChiLGZ1bmN0aW9uKGEsYil7Yy5fc2V0T3B0aW9uKGEsYil9KTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMub3B0aW9uc1thXT1iO2E9PT0iZGlzYWJsZWQiJiYKdGhpcy53aWRnZXQoKVtiPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0odGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLGIpO3JldHVybiB0aGlzfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBpPXRoaXMub3B0aW9uc1tiXSxjPWEuRXZlbnQoYyk7Yy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKTtkPWR8fHt9O2lmKGMub3JpZ2luYWxFdmVudClmb3IodmFyIGI9YS5ldmVudC5wcm9wcy5sZW5ndGgsaDtiOyloPWEuZXZlbnQucHJvcHNbLS1iXSxjW2hdPWMub3JpZ2luYWxFdmVudFtoXTt0aGlzLmVsZW1lbnQudHJpZ2dlcihjLApkKTtyZXR1cm4hKGEuaXNGdW5jdGlvbihpKSYmaS5jYWxsKHRoaXMuZWxlbWVudFswXSxjLGQpPT09ITF8fGMuaXNEZWZhdWx0UHJldmVudGVkKCkpfX19KShqUXVlcnkpOyhmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUud2lkZ2V0Iix7X2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj17fTthLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBmPWMuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuIi0iK2EudG9Mb3dlckNhc2UoKX0pKTtmIT09ZCYmKGJbYV09Zil9KTtyZXR1cm4gYn19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXtmdW5jdGlvbiBkKCl7dmFyIGQ9Yy53aWR0aCgpLGc9W10saT1bXSxoO2IucmVtb3ZlQ2xhc3MoIm1pbi13aWR0aC0iK2Uuam9pbigicHggbWluLXdpZHRoLSIpKyJweCBtYXgtd2lkdGgtIitlLmpvaW4oInB4IG1heC13aWR0aC0iKSsicHgiKTthLmVhY2goZSxmdW5jdGlvbihhLGIpe2Q+PWImJmcucHVzaCgibWluLXdpZHRoLSIrYisicHgiKTtkPD1iJiZpLnB1c2goIm1heC13aWR0aC0iK2IrInB4Iil9KTtnLmxlbmd0aCYmKGg9Zy5qb2luKCIgIikpO2kubGVuZ3RoJiYoaCs9IiAiK2kuam9pbigiICIpKTtiLmFkZENsYXNzKGgpfXZhciBjPWEod2luZG93KSxiPWEoImh0bWwiKSxlPVszMjAsNDgwLDc2OCwxMDI0XTthLm1vYmlsZS5tZWRpYT1mdW5jdGlvbigpe3ZhciBjPXt9LGU9YSgiPGRpdiBpZD0nanF1ZXJ5LW1lZGlhdGVzdCc+IiksZD1hKCI8Ym9keT4iKS5hcHBlbmQoZSk7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKCEoYSBpbiBjKSl7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSwKbT0iQG1lZGlhICIrYSsiIHsgI2pxdWVyeS1tZWRpYXRlc3QgeyBwb3NpdGlvbjphYnNvbHV0ZTsgfSB9IjtsLnR5cGU9InRleHQvY3NzIjtsLnN0eWxlU2hlZXQ/bC5zdHlsZVNoZWV0LmNzc1RleHQ9bTpsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG0pKTtiLnByZXBlbmQoZCkucHJlcGVuZChsKTtjW2FdPWUuY3NzKCJwb3NpdGlvbiIpPT09ImFic29sdXRlIjtkLmFkZChsKS5yZW1vdmUoKX1yZXR1cm4gY1thXX19KCk7YS5tb2JpbGUuYWRkUmVzb2x1dGlvbkJyZWFrcG9pbnRzPWZ1bmN0aW9uKGIpe2EudHlwZShiKT09PSJhcnJheSI/ZT1lLmNvbmNhdChiKTplLnB1c2goYik7ZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2QoKX07YShkb2N1bWVudCkuYmluZCgibW9iaWxlaW5pdC5odG1sY2xhc3MiLGZ1bmN0aW9uKCl7Yy5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5odG1sY2xhc3MgdGhyb3R0bGVkUmVzaXplLmh0bWxjbGFzcyIsZnVuY3Rpb24oYSl7YS5vcmllbnRhdGlvbiYmCmIucmVtb3ZlQ2xhc3MoInBvcnRyYWl0IGxhbmRzY2FwZSIpLmFkZENsYXNzKGEub3JpZW50YXRpb24pO2QoKX0pfSk7YShmdW5jdGlvbigpe2MudHJpZ2dlcigib3JpZW50YXRpb25jaGFuZ2UuaHRtbGNsYXNzIil9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxhPShhKyIgIitmLmpvaW4oYisiICIpK2IpLnNwbGl0KCIgIiksYztmb3IoYyBpbiBhKWlmKGVbY10hPT1kKXJldHVybiEwfXZhciBiPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGU9YlswXS5zdHlsZSxmPVsid2Via2l0IiwibW96IiwibyJdLGc9InBhbG1HZXRSZXNvdXJjZSJpbiB3aW5kb3csaT13aW5kb3cuYmxhY2tiZXJyeTthLm1vYmlsZS5icm93c2VyPXt9O2EubW9iaWxlLmJyb3dzZXIuaWU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MyxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGM9Yi5hbGx8fFtdO2IuaW5uZXJIVE1MPSI8XCEtLVtpZiBndCBJRSAiKyArK2ErIl0+PGJyPjwhW2VuZGlmXS0tXD4iLGNbMF07KTtyZXR1cm4gYT40P2E6IWF9KCk7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4Kd2luZG93LHRvdWNoOiJvbnRvdWNoZW5kImluIGRvY3VtZW50LGNzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gd2luZG93LHB1c2hTdGF0ZTohIWhpc3RvcnkucHVzaFN0YXRlLG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWMoImNvbnRlbnQiKSxib3hTaGFkb3c6ISFjKCJib3hTaGFkb3ciKSYmIWksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gd2luZG93fHwic2Nyb2xsVG9wImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBiWzBdKSYmIWcsZHluYW1pY0Jhc2VUYWc6ZnVuY3Rpb24oKXt2YXIgYz1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGU9YSgiaGVhZCBiYXNlIiksZD1udWxsLGY9IiI7ZS5sZW5ndGg/Zj1lLmF0dHIoImhyZWYiKTplPWQ9YSgiPGJhc2U+Iix7aHJlZjpjfSkuYXBwZW5kVG8oImhlYWQiKTsKdmFyIGc9YSgiPGEgaHJlZj0ndGVzdHVybCc+PC9hPiIpLnByZXBlbmRUbyhiKVswXS5ocmVmO2VbMF0uaHJlZj1mP2Y6bG9jYXRpb24ucGF0aG5hbWU7ZCYmZC5yZW1vdmUoKTtyZXR1cm4gZy5pbmRleE9mKGMpPT09MH0oKSxldmVudENhcHR1cmU6ImFkZEV2ZW50TGlzdGVuZXIiaW4gZG9jdW1lbnR9KTtiLnJlbW92ZSgpO2Euc3VwcG9ydC5ib3hTaGFkb3d8fGEoImh0bWwiKS5hZGRDbGFzcygidWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3ciKX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQsYyxiKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmdHlwZW9mIGEub3JpZ2luYWxFdmVudCE9PSJ1bmRlZmluZWQiOylhPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gYX1mdW5jdGlvbiBmKGIpe2Zvcih2YXIgYz17fTtiOyl7dmFyIGU9YS5kYXRhKGIsbiksZDtmb3IoZCBpbiBlKWlmKGVbZF0pY1tkXT1jLmhhc1ZpcnR1YWxCaW5kaW5nPSEwO2I9Yi5wYXJlbnROb2RlfXJldHVybiBjfWZ1bmN0aW9uIGcoKXt2JiYoY2xlYXJUaW1lb3V0KHYpLHY9MCk7dj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7QT12PTA7Qi5sZW5ndGg9MDt3PSExO3I9ITB9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gaShjLGQscil7dmFyIGY9ITEsZztpZighKGc9ciYmcltjXSkpe2lmKHI9IXIpYTp7Zm9yKHI9ZC50YXJnZXQ7cjspe2lmKChnPWEuZGF0YShyLG4pKSYmKCFjfHxnW2NdKSlicmVhayBhO3I9ci5wYXJlbnROb2RlfXI9bnVsbH1nPXJ9aWYoZyl7Zj1kO3I9Zi50eXBlOwpmPWEuRXZlbnQoZik7Zi50eXBlPWM7dmFyIGg9Zi5vcmlnaW5hbEV2ZW50LGo9YS5ldmVudC5wcm9wcztpZihoKWZvcihjPWoubGVuZ3RoO2M7KWc9alstLWNdLGZbZ109aFtnXTtpZihyLnNlYXJjaCgvXnRvdWNoLykhPT0tMSYmKGM9ZShoKSxyPWMudG91Y2hlcyxjPWMuY2hhbmdlZFRvdWNoZXMscj1yJiZyLmxlbmd0aD9yWzBdOmMmJmMubGVuZ3RoP2NbMF06Yikpe2M9MDtmb3IoaD15Lmxlbmd0aDtjPGg7YysrKWc9eVtjXSxmW2ddPXJbZ119YShkLnRhcmdldCkudHJpZ2dlcihmKTtmPWYuaXNEZWZhdWx0UHJldmVudGVkKCl9cmV0dXJuIGZ9ZnVuY3Rpb24gaChiKXt2YXIgYz1hLmRhdGEoYi50YXJnZXQseik7IXcmJighQXx8QSE9PWMpJiZpKCJ2IitiLnR5cGUsYil9ZnVuY3Rpb24gbChiKXt2YXIgYz1lKGIpLnRvdWNoZXM7aWYoYyYmYy5sZW5ndGg9PT0xKXt2YXIgZD1iLnRhcmdldCxjPWYoZCk7aWYoYy5oYXNWaXJ0dWFsQmluZGluZylBPUYrKyxhLmRhdGEoZCx6LEEpLHYmJgooY2xlYXJUaW1lb3V0KHYpLHY9MCkscz1yPSExLGQ9ZShiKS50b3VjaGVzWzBdLHg9ZC5wYWdlWCx1PWQucGFnZVksaSgidm1vdXNlb3ZlciIsYixjKSxpKCJ2bW91c2Vkb3duIixiLGMpfX1mdW5jdGlvbiBtKGEpe3J8fChzfHxpKCJ2bW91c2VjYW5jZWwiLGEsZihhLnRhcmdldCkpLHM9ITAsZygpKX1mdW5jdGlvbiBvKGIpe2lmKCFyKXt2YXIgYz1lKGIpLnRvdWNoZXNbMF0sZD1zLGg9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkO3M9c3x8TWF0aC5hYnMoYy5wYWdlWC14KT5ofHxNYXRoLmFicyhjLnBhZ2VZLXUpPmg7Yz1mKGIudGFyZ2V0KTtzJiYhZCYmaSgidm1vdXNlY2FuY2VsIixiLGMpO2koInZtb3VzZW1vdmUiLGIsYyk7ZygpfX1mdW5jdGlvbiBqKGEpe2lmKCFyKXtyPSEwO3ZhciBiPWYoYS50YXJnZXQpO2koInZtb3VzZXVwIixhLGIpO2lmKCFzJiZpKCJ2Y2xpY2siLGEsYikpe3ZhciBjPWUoYSkuY2hhbmdlZFRvdWNoZXNbMF07Qi5wdXNoKHt0b3VjaElEOkEsCng6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSk7dz0hMH1pKCJ2bW91c2VvdXQiLGEsYik7cz0hMTtnKCl9fWZ1bmN0aW9uIHAoYil7dmFyIGI9YS5kYXRhKGIsbiksYztpZihiKWZvcihjIGluIGIpaWYoYltjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBrKCl7fWZ1bmN0aW9uIHEoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7cCh0aGlzKXx8YS5kYXRhKHRoaXMsbix7fSk7YS5kYXRhKHRoaXMsbilbYl09ITA7dFtiXT0odFtiXXx8MCkrMTt0W2JdPT09MSYmQy5iaW5kKGMsaCk7YSh0aGlzKS5iaW5kKGMsayk7aWYoRSl0LnRvdWNoc3RhcnQ9KHQudG91Y2hzdGFydHx8MCkrMSx0LnRvdWNoc3RhcnQ9PT0xJiZDLmJpbmQoInRvdWNoc3RhcnQiLGwpLmJpbmQoInRvdWNoZW5kIixqKS5iaW5kKCJ0b3VjaG1vdmUiLG8pLmJpbmQoInNjcm9sbCIsbSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS10W2JdO3RbYl18fEMudW5iaW5kKGMsaCk7RSYmKC0tdC50b3VjaHN0YXJ0LAp0LnRvdWNoc3RhcnR8fEMudW5iaW5kKCJ0b3VjaHN0YXJ0IixsKS51bmJpbmQoInRvdWNobW92ZSIsbykudW5iaW5kKCJ0b3VjaGVuZCIsaikudW5iaW5kKCJzY3JvbGwiLG0pKTt2YXIgZD1hKHRoaXMpLGU9YS5kYXRhKHRoaXMsbik7ZSYmKGVbYl09ITEpO2QudW5iaW5kKGMsayk7cCh0aGlzKXx8ZC5yZW1vdmVEYXRhKG4pfX19dmFyIG49InZpcnR1YWxNb3VzZUJpbmRpbmdzIix6PSJ2aXJ0dWFsVG91Y2hJRCIsZD0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIikseT0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSx0PXt9LHY9MCx4PTAsdT0wLHM9ITEsQj1bXSx3PSExLHI9ITEsRT1hLnN1cHBvcnQuZXZlbnRDYXB0dXJlLEM9YShjKSxGPTEsQT0wO2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCwKcmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Zvcih2YXIgRD0wO0Q8ZC5sZW5ndGg7RCsrKWEuZXZlbnQuc3BlY2lhbFtkW0RdXT1xKGRbRF0pO0UmJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjPUIubGVuZ3RoLGQ9Yi50YXJnZXQ7aWYoYylmb3IodmFyIGU9Yi5jbGllbnRYLHI9Yi5jbGllbnRZLGY9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZCxnPWQ7Zzspe2Zvcih2YXIgaD0wO2g8YztoKyspe3ZhciBqPUJbaF07aWYoZz09PWQmJk1hdGguYWJzKGoueC1lKTxmJiZNYXRoLmFicyhqLnktcik8Znx8YS5kYXRhKGcseik9PT1qLnRvdWNoSUQpe2IucHJldmVudERlZmF1bHQoKTtiLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybn19Zz1nLnBhcmVudE5vZGV9fSwhMCl9KShqUXVlcnksd2luZG93LGRvY3VtZW50KTsKKGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gYyhiLGMsZCl7dmFyIGU9ZC50eXBlO2QudHlwZT1jO2EuZXZlbnQuaGFuZGxlLmNhbGwoYixkKTtkLnR5cGU9ZX1hLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIG9yaWVudGF0aW9uY2hhbmdlIHRocm90dGxlZHJlc2l6ZSB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9O2EuYXR0ckZuW2NdPSEwfSk7dmFyIGI9YS5zdXBwb3J0LnRvdWNoLGU9Yj8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsZj1iPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGc9Yj8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsCmYpe2U9ZjtjKGQsZT8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgZD10aGlzLGUsZjthKGQpLmJpbmQoInRvdWNobW92ZSBzY3JvbGwiLGZ1bmN0aW9uKGMpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoZXx8YihjLCEwKSxjbGVhclRpbWVvdXQoZiksZj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihjLCExKX0sNTApKX0pfX07YS5ldmVudC5zcGVjaWFsLnRhcD17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9YShiKTtkLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoKXtnPSExO2NsZWFyVGltZW91dChrKTtkLnVuYmluZCgidmNsaWNrIixmKS51bmJpbmQoInZtb3VzZWNhbmNlbCIsZSl9ZnVuY3Rpb24gZihhKXtlKCk7cD09YS50YXJnZXQmJmMoYiwidGFwIixhKX1pZihhLndoaWNoJiZhLndoaWNoIT09MSlyZXR1cm4hMTt2YXIgZz0hMCxwPWEudGFyZ2V0LGs7ZC5iaW5kKCJ2bW91c2VjYW5jZWwiLGUpLmJpbmQoInZjbGljayIsCmYpO2s9c2V0VGltZW91dChmdW5jdGlvbigpe2cmJmMoYiwidGFwaG9sZCIsYSl9LDc1MCl9KX19O2EuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuYmluZChlLGZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGUoYSl7aWYobyl7dmFyIGI9YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/YS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YTtqPXt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYi5wYWdlWCxiLnBhZ2VZXX07TWF0aC5hYnMoby5jb29yZHNbMF0tai5jb29yZHNbMF0pPjEwJiZhLnByZXZlbnREZWZhdWx0KCl9fXZhciBtPWMub3JpZ2luYWxFdmVudC50b3VjaGVzP2Mub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmMsbz17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W20ucGFnZVgsbS5wYWdlWV0sb3JpZ2luOmEoYy50YXJnZXQpfSxqO2IuYmluZChnLGUpLm9uZShmLGZ1bmN0aW9uKCl7Yi51bmJpbmQoZyxlKTsKbyYmaiYmai50aW1lLW8udGltZTwxRTMmJk1hdGguYWJzKG8uY29vcmRzWzBdLWouY29vcmRzWzBdKT4zMCYmTWF0aC5hYnMoby5jb29yZHNbMV0tai5jb29yZHNbMV0pPDc1JiZvLm9yaWdpbi50cmlnZ2VyKCJzd2lwZSIpLnRyaWdnZXIoby5jb29yZHNbMF0+ai5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiKTtvPWo9ZH0pfSl9fTsoZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBhPWQoKTthIT09ZSYmKGU9YSxjLnRyaWdnZXIoIm9yaWVudGF0aW9uY2hhbmdlIikpfXZhciBjPWEod2luZG93KSxkLGU7YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbilyZXR1cm4hMTtlPWQoKTtjLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uKXJldHVybiExO2MudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGIpfSwKYWRkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7YS5vcmllbnRhdGlvbj1kKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1kPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3JldHVybiBhJiZhLmNsaWVudFdpZHRoL2EuY2xpZW50SGVpZ2h0PDEuMT8icG9ydHJhaXQiOiJsYW5kc2NhcGUifX0pKGpRdWVyeSk7KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYil9fTt2YXIgYj1mdW5jdGlvbigpe2U9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Zj1lLWM7Zj49MjUwPyhjPWUsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6CihkJiZjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGIsMjUwLWYpKX0sYz0wLGQsZSxmfSkoKTthLmVhY2goe3Njcm9sbHN0b3A6InNjcm9sbHN0YXJ0Iix0YXBob2xkOiJ0YXAiLHN3aXBlbGVmdDoic3dpcGUiLHN3aXBlcmlnaHQ6InN3aXBlIn0sZnVuY3Rpb24oYixjKXthLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKGMsYS5ub29wKX19fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkLGMpe2Z1bmN0aW9uIGIoYSl7YT1hfHxsb2NhdGlvbi5ocmVmO3JldHVybiIjIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLCIkMSIpfXZhciBlPSJoYXNoY2hhbmdlIixmPWRvY3VtZW50LGcsaT1hLmV2ZW50LnNwZWNpYWwsaD1mLmRvY3VtZW50TW9kZSxsPSJvbiIrZSBpbiBkJiYoaD09PWN8fGg+Nyk7YS5mbltlXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZSxhKTp0aGlzLnRyaWdnZXIoZSl9O2EuZm5bZV0uZGVsYXk9NTA7aVtlXT1hLmV4dGVuZChpW2VdLHtzZXR1cDpmdW5jdGlvbigpe2lmKGwpcmV0dXJuITE7YShnLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihsKXJldHVybiExO2EoZy5zdG9wKX19KTtnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZygpe3ZhciBjPWIoKSxmPW4oaSk7aWYoYyE9PWkpcShpPWMsZiksYShkKS50cmlnZ2VyKGUpO2Vsc2UgaWYoZiE9PWkpbG9jYXRpb24uaHJlZj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKi8sCiIiKStmO2o9c2V0VGltZW91dChnLGEuZm5bZV0uZGVsYXkpfXZhciBoPXt9LGosaT1iKCksaz1mdW5jdGlvbihhKXtyZXR1cm4gYX0scT1rLG49aztoLnN0YXJ0PWZ1bmN0aW9uKCl7anx8ZygpfTtoLnN0b3A9ZnVuY3Rpb24oKXtqJiZjbGVhclRpbWVvdXQoaik7aj1jfTthLmJyb3dzZXIubXNpZSYmIWwmJmZ1bmN0aW9uKCl7dmFyIGMsZDtoLnN0YXJ0PWZ1bmN0aW9uKCl7aWYoIWMpZD0oZD1hLmZuW2VdLnNyYykmJmQrYigpLGM9YSgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKS5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7ZHx8cShiKCkpO2coKX0pLmF0dHIoInNyYyIsZHx8ImphdmFzY3JpcHQ6MCIpLmluc2VydEFmdGVyKCJib2R5IilbMF0uY29udGVudFdpbmRvdyxmLm9ucHJvcGVydHljaGFuZ2U9ZnVuY3Rpb24oKXt0cnl7aWYoZXZlbnQucHJvcGVydHlOYW1lPT09InRpdGxlIiljLmRvY3VtZW50LnRpdGxlPWYudGl0bGV9Y2F0Y2goYSl7fX19OwpoLnN0b3A9aztuPWZ1bmN0aW9uKCl7cmV0dXJuIGIoYy5sb2NhdGlvbi5ocmVmKX07cT1mdW5jdGlvbihiLGQpe3ZhciBnPWMuZG9jdW1lbnQsaD1hLmZuW2VdLmRvbWFpbjtpZihiIT09ZClnLnRpdGxlPWYudGl0bGUsZy5vcGVuKCksaCYmZy53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicraCsnIjxcL3NjcmlwdD4nKSxnLmNsb3NlKCksYy5sb2NhdGlvbi5oYXNoPWJ9fSgpO3JldHVybiBofSgpfSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2JhY2tCdG5UZXh0OiJCYWNrIixhZGRCYWNrQnRuOiExLGJhY2tCdG5UaGVtZTpudWxsLGRlZ3JhZGVJbnB1dHM6e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiEwLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxrZWVwTmF0aXZlOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7dGhpcy5rZWVwTmF0aXZlPSI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIrKGMua2VlcE5hdGl2ZT8iLCAiK2Mua2VlcE5hdGl2ZToiIik7dGhpcy5fdHJpZ2dlcigiYmVmb3JlQ3JlYXRlIikhPT0hMSYmKGQuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdjb250ZW50JykiKS5hbmRTZWxmKCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuYWRkQ2xhc3MoInVpLSIrCmEodGhpcykuanFtRGF0YSgicm9sZSIpKX0pLGQuZmluZCgiOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLW5vanMiKSxkLmZpbmQoIjpqcW1EYXRhKHJvbGUpIikuYW5kU2VsZigpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGU9Yi5qcW1EYXRhKCJyb2xlIiksZj1iLmpxbURhdGEoInRoZW1lIik7aWYoZT09PSJoZWFkZXIifHxlPT09ImZvb3RlciIpe2IuYWRkQ2xhc3MoInVpLWJhci0iKyhmfHxiLnBhcmVudCgiOmpxbURhdGEocm9sZT0ncGFnZScpIikuanFtRGF0YSgidGhlbWUiKXx8ImEiKSk7Yi5hdHRyKCJyb2xlIixlPT09ImhlYWRlciI/ImJhbm5lciI6ImNvbnRlbnRpbmZvIik7dmFyIGY9Yi5jaGlsZHJlbigiYSIpLGc9Zi5oYXNDbGFzcygidWktYnRuLWxlZnQiKSxpPWYuaGFzQ2xhc3MoInVpLWJ0bi1yaWdodCIpO2lmKCFnKWc9Zi5lcSgwKS5ub3QoIi51aS1idG4tcmlnaHQiKS5hZGRDbGFzcygidWktYnRuLWxlZnQiKS5sZW5ndGg7aXx8Zi5lcSgxKS5hZGRDbGFzcygidWktYnRuLXJpZ2h0Iik7CmMuYWRkQmFja0J0biYmZT09PSJoZWFkZXIiJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZkLmpxbURhdGEoInVybCIpIT09YS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCkmJiFnJiZiLmpxbURhdGEoImJhY2tidG4iKSE9PSExJiYoZj1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2Fycm93LWwnPiIrYy5iYWNrQnRuVGV4dCsiPC9hPiIpLnByZXBlbmRUbyhiKSxjLmJhY2tCdG5UaGVtZSYmZi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixjLmJhY2tCdG5UaGVtZSkpO2IuY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHt0YWJpbmRleDoiMCIscm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfWVsc2UgZT09PSJjb250ZW50Ij8oZiYmYi5hZGRDbGFzcygidWktYm9keS0iKwpmKSxiLmF0dHIoInJvbGUiLCJtYWluIikpOmU9PT0icGFnZSImJmIuYWRkQ2xhc3MoInVpLWJvZHktIisoZnx8ImMiKSk7c3dpdGNoKGUpe2Nhc2UgImhlYWRlciI6Y2FzZSAiZm9vdGVyIjpjYXNlICJwYWdlIjpjYXNlICJjb250ZW50IjpiLmFkZENsYXNzKCJ1aS0iK2UpO2JyZWFrO2Nhc2UgImNvbGxhcHNpYmxlIjpjYXNlICJmaWVsZGNvbnRhaW4iOmNhc2UgIm5hdmJhciI6Y2FzZSAibGlzdHZpZXciOmNhc2UgImRpYWxvZyI6YltlXSgpfX0pLHRoaXMuX2VuaGFuY2VDb250cm9scygpLGQuZmluZCgiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEiKS5ub3QoIi51aS1idG4iKS5ub3QodGhpcy5rZWVwTmF0aXZlKS5idXR0b25NYXJrdXAoKSxkLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIikuY29udHJvbGdyb3VwKCksZC5maW5kKCJhOm5vdCgudWktYnRuKTpub3QoLnVpLWxpbmstaW5oZXJpdCkiKS5ub3QodGhpcy5rZWVwTmF0aXZlKS5hZGRDbGFzcygidWktbGluayIpLApkLmZpeEhlYWRlckZvb3RlcigpKX0sX3R5cGVBdHRyaWJ1dGVSZWdleDovXHMrdHlwZT1bIiddP1x3K1snIl0/LyxfZW5oYW5jZUNvbnRyb2xzOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vcHRpb25zLGM9dGhpczt0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5ub3QodGhpcy5rZWVwTmF0aXZlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxlPWQuZGVncmFkZUlucHV0c1tiXXx8InRleHQiO2QuZGVncmFkZUlucHV0c1tiXSYmYSh0aGlzKS5yZXBsYWNlV2l0aChhKCI8ZGl2PiIpLmh0bWwoYSh0aGlzKS5jbG9uZSgpKS5odG1sKCkucmVwbGFjZShjLl90eXBlQXR0cmlidXRlUmVnZXgsJyB0eXBlPSInK2UrJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2IrJyIgJykpfSk7dmFyIGI9dGhpcy5lbGVtZW50LmZpbmQoImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBidXR0b24iKSxlPWIubm90KHRoaXMua2VlcE5hdGl2ZSksYj1iLmZpbHRlcigiaW5wdXRbdHlwZT10ZXh0XSIpOwpiLmxlbmd0aCYmdHlwZW9mIGJbMF0uYXV0b2NvcnJlY3QhPT0idW5kZWZpbmVkIiYmYi5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zZXRBdHRyaWJ1dGUoImF1dG9jb3JyZWN0Iiwib2ZmIik7dGhpcy5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsIm9mZiIpfSk7ZS5maWx0ZXIoIlt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSIpLmNoZWNrYm94cmFkaW8oKTtlLmZpbHRlcigiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddIikuYnV0dG9uKCk7ZS5maWx0ZXIoImlucHV0LCB0ZXh0YXJlYSIpLm5vdCgiW3R5cGU9J3JhZGlvJ10sIFt0eXBlPSdjaGVja2JveCddLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddLCBbdHlwZT0naGlkZGVuJ10iKS50ZXh0aW5wdXQoKTtlLmZpbHRlcigiaW5wdXQsIHNlbGVjdCIpLmZpbHRlcigiOmpxbURhdGEocm9sZT0nc2xpZGVyJyksIDpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKS5zbGlkZXIoKTsKZS5maWx0ZXIoInNlbGVjdDpub3QoOmpxbURhdGEocm9sZT0nc2xpZGVyJykpIikuc2VsZWN0bWVudSgpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7YS5leHRlbmQoYS5tb2JpbGUse25zOiIiLHN1YlBhZ2VVcmxLZXk6InVpLXBhZ2UiLG5vbkhpc3RvcnlTZWxlY3RvcnM6ImRpYWxvZyIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGFqYXhFbmFibGVkOiEwLHVzZUZhc3RDbGljazohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxkZWZhdWx0UGFnZVRyYW5zaXRpb246InNsaWRlIixtaW5TY3JvbGxCYWNrOnNjcmVlbi5oZWlnaHQvMixkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixsb2FkaW5nTWVzc2FnZToibG9hZGluZyIscGFnZUxvYWRFcnJvck1lc3NhZ2U6IkVycm9yIExvYWRpbmcgUGFnZSIsZ3JhZGVBOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5tZWRpYXF1ZXJ5fHxhLm1vYmlsZS5icm93c2VyLmllJiZhLm1vYmlsZS5icm93c2VyLmllPj03fSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLApDT01NQToxODgsQ09NTUFORDo5MSxDT01NQU5EX0xFRlQ6OTEsQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYikhPT0ibnVtYmVyIiliPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnNjcm9sbFRvKDAsYik7YShkb2N1bWVudCkudHJpZ2dlcigic2lsZW50c2Nyb2xsIiwKe3g6MCx5OmJ9KX0sMjApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sbm9ybWFsaXplUmVnZXg6Ly0oW2Etel0pL2csbnNOb3JtYWxpemU6ZnVuY3Rpb24oYil7aWYoYilyZXR1cm4gYS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYil9fSk7YS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMuZGF0YShiP2EubW9iaWxlLm5zTm9ybWFsaXplKGIpOmIsYyl9O2EuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7cmV0dXJuIGEuZGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpLGQpfTthLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9O2EuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9O2EuanFtSGFzRGF0YT1mdW5jdGlvbihiLApjKXtyZXR1cm4gYS5oYXNEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfTt2YXIgYz1hLmZpbmQ7YS5maW5kPWZ1bmN0aW9uKGIsZCxmLGcpe2I9Yi5yZXBsYWNlKC86anFtRGF0YVwoKFteKV0qKVwpL2csIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpO3JldHVybiBjLmNhbGwodGhpcyxiLGQsZixnKX07YS5leHRlbmQoYS5maW5kLGMpO2EuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX07YS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9YS5qcW1EYXRhKCJsYXN0Q2xpY2tlZCIpO2ImJmIubGVuZ3RoP2IuZm9jdXMoKTooYj1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpLGIubGVuZ3RoP2IuZm9jdXMoKTphLmZpbmQoeikuZXEoMCkuZm9jdXMoKSl9ZnVuY3Rpb24gYihiKXtxJiYoIXEuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RofHxiKSYmcS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7cT1udWxsfWZ1bmN0aW9uIGUoKXt0PSExO3kubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCx5LnBvcCgpKX1mdW5jdGlvbiBmKGIsZCxlLGYpe3ZhciBoPWEuc3VwcG9ydC5zY3JvbGxUb3A/by5zY3JvbGxUb3AoKTohMCxqPWIuZGF0YSgibGFzdFNjcm9sbCIpfHxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCxpPWcoKTtoJiZ3aW5kb3cuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCk7ajwKYS5tb2JpbGUubWluU2Nyb2xsQmFjayYmKGo9MCk7ZCYmKGQuaGVpZ2h0KGkraCkuanFtRGF0YSgibGFzdFNjcm9sbCIsaCkuanFtRGF0YSgibGFzdENsaWNrZWQiLHEpLGQuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTpifSkpO2IuaGVpZ2h0KGkraikuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpkfHxhKCIiKX0pO2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpO2U9KGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tlfHwibm9uZSJdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIpKGUsZixiLGQpO2UuZG9uZShmdW5jdGlvbigpe2IuaGVpZ2h0KCIiKTtqPyhhLm1vYmlsZS5zaWxlbnRTY3JvbGwoaiksYShkb2N1bWVudCkub25lKCJzaWxlbnRzY3JvbGwiLGZ1bmN0aW9uKCl7YyhiKX0pKTpjKGIpO2QmJmQuaGVpZ2h0KCIiKS5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImhpZGUiLApudWxsLHtuZXh0UGFnZTpifSk7Yi5kYXRhKCJwYWdlIikuX3RyaWdnZXIoInNob3ciLG51bGwse3ByZXZQYWdlOmR8fGEoIiIpfSl9KTtyZXR1cm4gZX1mdW5jdGlvbiBnKCl7dmFyIGI9alF1ZXJ5LmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb24oKT09PSJwb3J0cmFpdCIsYz1iP3NjcmVlbi5hdmFpbEhlaWdodDpzY3JlZW4uYXZhaWxXaWR0aCxiPU1hdGgubWF4KGI/NDgwOjMyMCxhKHdpbmRvdykuaGVpZ2h0KCkpO3JldHVybiBNYXRoLm1pbihjLGIpfWZ1bmN0aW9uIGkoKXthKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLmNzcygibWluLWhlaWdodCIsZygpKX1mdW5jdGlvbiBoKGIsYyl7YyYmYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLGMpO2IucGFnZSgpfWZ1bmN0aW9uIGwoYSl7Zm9yKDthOyl7aWYoYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0iYSIpYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gbShiKXt2YXIgYj0KYShiKS5jbG9zZXN0KCIudWktcGFnZSIpLmpxbURhdGEoInVybCIpLGM9cy5ocmVmTm9IYXNoO2lmKCFifHwhay5pc1BhdGgoYikpYj1jO3JldHVybiBrLm1ha2VVcmxBYnNvbHV0ZShiLGMpfXZhciBvPWEod2luZG93KSxqPWEoImh0bWwiKSxwPWEoImhlYWQiKSxrPXt1cmxQYXJzZVJFOi9eKCgoKFteOlwvI1w/XSs6KT8oPzpcL1wvKCg/OigoW146QFwvI1w/XSspKD86XDooW146QFwvI1w/XSspKT8pQCk/KChbXjpcLyNcP10rKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxwYXJzZVVybDpmdW5jdGlvbihhKXtpZih0eXBlb2YgYT09PSJvYmplY3QiKXJldHVybiBhO3ZhciBhPWsudXJsUGFyc2VSRS5leGVjKGEpLGI7YSYmKGI9e2hyZWY6YVswXXx8IiIsaHJlZk5vSGFzaDphWzFdfHwiIixocmVmTm9TZWFyY2g6YVsyXXx8IiIsZG9tYWluOmFbM118fCIiLHByb3RvY29sOmFbNF18fCIiLGF1dGhvcml0eTphWzVdfHwKIiIsdXNlcm5hbWU6YVs3XXx8IiIscGFzc3dvcmQ6YVs4XXx8IiIsaG9zdDphWzldfHwiIixob3N0bmFtZTphWzEwXXx8IiIscG9ydDphWzExXXx8IiIscGF0aG5hbWU6YVsxMl18fCIiLGRpcmVjdG9yeTphWzEzXXx8IiIsZmlsZW5hbWU6YVsxNF18fCIiLHNlYXJjaDphWzE1XXx8IiIsaGFzaDphWzE2XXx8IiJ9KTtyZXR1cm4gYnx8e319LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZihhJiZhLmNoYXJBdCgwKT09PSIvIilyZXR1cm4gYTtmb3IodmFyIGE9YXx8IiIsYz0oYj1iP2IucmVwbGFjZSgvXlwvfFwvP1teXC9dKiQvZywiIik6IiIpP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV07c3dpdGNoKGYpe2Nhc2UgIi4iOmJyZWFrO2Nhc2UgIi4uIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChmKX19cmV0dXJuIi8iK2Muam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSwKYil7cmV0dXJuIGsucGFyc2VVcmwoYSkuZG9tYWluPT09ay5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGsucGFyc2VVcmwoYSkucHJvdG9jb2w9PT0iIn0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gay5wYXJzZVVybChhKS5wcm90b2NvbCE9PSIifSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighay5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO3ZhciBjPWsucGFyc2VVcmwoYSksZD1rLnBhcnNlVXJsKGIpLGU9Yy5wcm90b2NvbHx8ZC5wcm90b2NvbCxmPWMuYXV0aG9yaXR5fHxkLmF1dGhvcml0eSxnPWMucGF0aG5hbWUhPT0iIixoPWsubWFrZVBhdGhBYnNvbHV0ZShjLnBhdGhuYW1lfHxkLmZpbGVuYW1lLGQucGF0aG5hbWUpO3JldHVybiBlKyIvLyIrZitoKyhjLnNlYXJjaHx8IWcmJmQuc2VhcmNofHwiIikrYy5oYXNofSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZD1rLnBhcnNlVXJsKGIpLAplPXR5cGVvZiBjPT09Im9iamVjdCI/YS5wYXJhbShjKTpjLGY9ZC5zZWFyY2h8fCI/IjtyZXR1cm4gZC5ocmVmTm9TZWFyY2grZisoZi5jaGFyQXQoZi5sZW5ndGgtMSkhPT0iPyI/IiYiOiIiKStlKyhkLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYj1rLnBhcnNlVXJsKGEpO2lmKGsuaXNFbWJlZGRlZFBhZ2UoYikpcmV0dXJuIGIuaGFzaC5yZXBsYWNlKC9eIy8sIiIpO2Vsc2UgaWYoay5pc1NhbWVEb21haW4oYixzKSlyZXR1cm4gYi5ocmVmTm9IYXNoLnJlcGxhY2Uocy5kb21haW4sIiIpO3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oYSl7aWYoYT09PWQpYT1sb2NhdGlvbi5oYXNoO3JldHVybiBrLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHYpWzBdfSwKc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShzLmRvbWFpbiwiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGsuc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKHYsIiIpKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXthPWsucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2wmJmEuZG9tYWluIT09dS5kb21haW4/ITA6ITF9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe2E9ay5wYXJzZVVybChhKTtpZihhLnByb3RvY29sIT09IiIpcmV0dXJuIGEuaGFzaCYmKGEuaHJlZk5vSGFzaD09PXUuaHJlZk5vSGFzaHx8QiYmYS5ocmVmTm9IYXNoPT09CnMuaHJlZk5vSGFzaCk7cmV0dXJuL14jLy50ZXN0KGEuaHJlZil9fSxxPW51bGwsbj17c3RhY2s6W10sYWN0aXZlSW5kZXg6MCxnZXRBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4XX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXgtMV19LGdldE5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4KzFdfSxhZGROZXc6ZnVuY3Rpb24oYSxiLGMsZCl7bi5nZXROZXh0KCkmJm4uY2xlYXJGb3J3YXJkKCk7bi5zdGFjay5wdXNoKHt1cmw6YSx0cmFuc2l0aW9uOmIsdGl0bGU6YyxwYWdlOmR9KTtuLmFjdGl2ZUluZGV4PW4uc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe24uc3RhY2s9bi5zdGFjay5zbGljZSgwLG4uYWN0aXZlSW5kZXgrMSl9LGRpcmVjdEhhc2hDaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGMsZSxmO2EuZWFjaChuLnN0YWNrLGZ1bmN0aW9uKGEsZCl7Yi5jdXJyZW50VXJsPT09CmQudXJsJiYoYz1hPG4uYWN0aXZlSW5kZXgsZT0hYyxmPWEpfSk7dGhpcy5hY3RpdmVJbmRleD1mIT09ZD9mOnRoaXMuYWN0aXZlSW5kZXg7Yz9iLmlzQmFjaygpOmUmJmIuaXNGb3J3YXJkKCl9LGlnbm9yZU5leHRIYXNoQ2hhbmdlOiExfSx6PSJbdGFiaW5kZXhdLGEsYnV0dG9uOnZpc2libGUsc2VsZWN0OnZpc2libGUsaW5wdXQiLHk9W10sdD0hMSx2PSImdWktc3RhdGU9ZGlhbG9nIix4PXAuY2hpbGRyZW4oImJhc2UiKSx1PWsucGFyc2VVcmwobG9jYXRpb24uaHJlZikscz14Lmxlbmd0aD9rLnBhcnNlVXJsKGsubWFrZVVybEFic29sdXRlKHguYXR0cigiaHJlZiIpLHUuaHJlZikpOnUsQj11LmhyZWZOb0hhc2ghPT1zLmhyZWZOb0hhc2gsdz1hLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWc/e2VsZW1lbnQ6eC5sZW5ndGg/eDphKCI8YmFzZT4iLHtocmVmOnMuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyhwKSxzZXQ6ZnVuY3Rpb24oYSl7dy5lbGVtZW50LmF0dHIoImhyZWYiLGsubWFrZVVybEFic29sdXRlKGEsCnMpKX0scmVzZXQ6ZnVuY3Rpb24oKXt3LmVsZW1lbnQuYXR0cigiaHJlZiIscy5ocmVmTm9IYXNoKX19OmQ7YS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9O2EubW9iaWxlLnVwZGF0ZUhhc2g9ay5zZXQ7YS5tb2JpbGUucGF0aD1rO2EubW9iaWxlLmJhc2U9dzthLm1vYmlsZS51cmxzdGFjaz1uLnN0YWNrO2EubW9iaWxlLnVybEhpc3Rvcnk9bjthLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXI9ZnVuY3Rpb24oYixjLGQsZSl7ZSYmZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO2QuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtyZXR1cm4gYS5EZWZlcnJlZCgpLnJlc29sdmUoYixjLGQsZSkucHJvbWlzZSgpfTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9CmEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcjthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e25vbmU6YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfTthLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITE7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdSk6dS5ocmVmfTthLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30scyk6cy5ocmVmfTthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBlPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGc9bnVsbCxqPW51bGwsaT1rLm1ha2VVcmxBYnNvbHV0ZShiLHMuaHJlZk5vSGFzaCk7aWYoZi5kYXRhJiZmLnR5cGU9PT0iZ2V0IilpPWsuYWRkU2VhcmNoUGFyYW1zKGksZi5kYXRhKSxmLmRhdGE9ZDt2YXIgbj1rLmdldEZpbGVQYXRoKGkpLApxPWsuY29udmVydFVybFRvRGF0YVVybChpKTtmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2c9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCI6anFtRGF0YSh1cmw9JyIrcSsiJykiKTt3JiZ3LnJlc2V0KCk7aWYoZy5sZW5ndGgpe2lmKCFmLnJlbG9hZFBhZ2UpcmV0dXJuIGgoZyxmLnJvbGUpLGUucmVzb2x2ZShpLGMsZyksZS5wcm9taXNlKCk7aj1nfWYuc2hvd0xvYWRNc2cmJmEubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpO2EuYWpheCh7dXJsOm4sdHlwZTpmLnR5cGUsZGF0YTpmLmRhdGEsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6ZnVuY3Rpb24oZCl7dmFyIGw9YSgiPGRpdj48L2Rpdj4iKSxwPWQubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKikvKSYmUmVnRXhwLiQxLG89UmVnRXhwKCJcXGJkYXRhLSIrYS5tb2JpbGUubnMrInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/Iik7UmVnRXhwKCIuKig8W14+XStcXGJkYXRhLSIrCmEubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pLioiKS50ZXN0KGQpJiZSZWdFeHAuJDEmJm8udGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPW49ay5nZXRGaWxlUGF0aChSZWdFeHAuJDEpKTt3JiZ3LnNldChuKTtsLmdldCgwKS5pbm5lckhUTUw9ZDtnPWwuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCk7cCYmIWcuanFtRGF0YSgidGl0bGUiKSYmZy5qcW1EYXRhKCJ0aXRsZSIscCk7aWYoIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIG09ay5nZXQobik7Zy5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixjPWEodGhpcykuYXR0cihiKSwKYz1jLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKTsvXihcdys6fCN8XC8pLy50ZXN0KGMpfHxhKHRoaXMpLmF0dHIoYixtK2MpfSl9Zy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsay5jb252ZXJ0VXJsVG9EYXRhVXJsKG4pKS5hcHBlbmRUbyhmLnBhZ2VDb250YWluZXIpO2goZyxmLnJvbGUpO2kuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihnPWYucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiOmpxbURhdGEodXJsPSciK3ErIicpIikpO2Yuc2hvd0xvYWRNc2cmJmEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpO2UucmVzb2x2ZShpLGMsZyxqKX0sZXJyb3I6ZnVuY3Rpb24oKXt3JiZ3LnNldChrLmdldCgpKTtmLnNob3dMb2FkTXNnJiYoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCksYSgiPGRpdiBjbGFzcz0ndWktbG9hZGVyIHVpLW92ZXJsYXktc2hhZG93IHVpLWJvZHktZSB1aS1jb3JuZXItYWxsJz48aDE+IisKYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UrIjwvaDE+PC9kaXY+IikuY3NzKHtkaXNwbGF5OiJibG9jayIsb3BhY2l0eTowLjk2LHRvcDpvLnNjcm9sbFRvcCgpKzEwMH0pLmFwcGVuZFRvKGYucGFnZUNvbnRhaW5lcikuZGVsYXkoODAwKS5mYWRlT3V0KDQwMCxmdW5jdGlvbigpe2EodGhpcykucmVtb3ZlKCl9KSk7ZS5yZWplY3QoaSxjKX19KTtyZXR1cm4gZS5wcm9taXNlKCl9O2EubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzPXt0eXBlOiJnZXQiLGRhdGE6ZCxyZWxvYWRQYWdlOiExLHJvbGU6ZCxzaG93TG9hZE1zZzohMCxwYWdlQ29udGFpbmVyOmR9O2EubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYyxnKXtpZih0eXBlb2YgZyE9PSJvYmplY3QiKXt2YXIgaT1udWxsO2lmKHR5cGVvZiBjPT09Im9iamVjdCImJmMudXJsJiZjLnR5cGUpaT17dHlwZTpjLnR5cGUsZGF0YTpjLmRhdGEsZm9yY2VQYWdlTG9hZDohMH0sYz1jLnVybDt2YXIgcT1hcmd1bWVudHMubGVuZ3RoOwppZihxPjEpe3ZhciBsPVsidHJhbnNpdGlvbiIsInJldmVyc2UiLCJjaGFuZ2VIYXNoIiwiZnJvbUhhc2hDaGFuZ2UiXSxwO2ZvcihwPTE7cDxxO3ArKyl7dmFyIG89YXJndW1lbnRzW3BdO3R5cGVvZiBvIT09InVuZGVmaW5lZCImJihpPWl8fHt9LGlbbFtwLTFdXT1vKX19aWYoaSlyZXR1cm4gYS5tb2JpbGUuY2hhbmdlUGFnZShjLGkpfWlmKHQpeS51bnNoaWZ0KGFyZ3VtZW50cyk7ZWxzZXt0PSEwO3ZhciBtPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsZyk7bS5wYWdlQ29udGFpbmVyPW0ucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtpZih0eXBlb2YgYz09InN0cmluZyIpYS5tb2JpbGUubG9hZFBhZ2UoYyxtKS5kb25lKGZ1bmN0aW9uKGIsYyxkLGUpe3Q9ITE7Yy5kdXBsaWNhdGVDYWNoZWRQYWdlPWU7YS5tb2JpbGUuY2hhbmdlUGFnZShkLGMpfSkuZmFpbChmdW5jdGlvbigpe3Q9ITE7YighMCk7ZSgpO20ucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJjaGFuZ2VwYWdlZmFpbGVkIil9KTsKZWxzZXt2YXIgcz1tLnBhZ2VDb250YWluZXIsaT1hLm1vYmlsZS5hY3RpdmVQYWdlLHE9Yy5qcW1EYXRhKCJ1cmwiKTtrLmdldEZpbGVQYXRoKHEpO2w9bi5nZXRBY3RpdmUoKTtwPW4uYWN0aXZlSW5kZXg9PT0wO3ZhciB4PTAsbz1kb2N1bWVudC50aXRsZSx1PW0ucm9sZT09PSJkaWFsb2cifHxjLmpxbURhdGEoInJvbGUiKT09PSJkaWFsb2ciO3MudHJpZ2dlcigiYmVmb3JlY2hhbmdlcGFnZSIpO2lmKGkmJmlbMF09PT1jWzBdKXQ9ITEscy50cmlnZ2VyKCJjaGFuZ2VwYWdlIik7ZWxzZXtoKGMsbS5yb2xlKTttLmZyb21IYXNoQ2hhbmdlJiZuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6cSxpc0JhY2s6ZnVuY3Rpb24oKXt4PS0xfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXt4PTF9fSk7YShkb2N1bWVudC5hY3RpdmVFbGVtZW50fHwiIikuYWRkKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKTt1JiZsJiYocT1sLnVybCt2KTtpZihtLmNoYW5nZUhhc2ghPT0KITEmJnEpbi5pZ25vcmVOZXh0SGFzaENoYW5nZT0hMCxrLnNldChxKTsodT1jLmpxbURhdGEoInRpdGxlIil8fGMuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpKSYmbz09ZG9jdW1lbnQudGl0bGUmJihvPXUpO3h8fG4uYWRkTmV3KHEsbS50cmFuc2l0aW9uLG8sYyk7ZG9jdW1lbnQudGl0bGU9bi5nZXRBY3RpdmUoKS50aXRsZTthLm1vYmlsZS5hY3RpdmVQYWdlPWM7bS50cmFuc2l0aW9uPW0udHJhbnNpdGlvbnx8KHgmJiFwP2wudHJhbnNpdGlvbjpkKXx8KG0ucm9sZT09PSJkaWFsb2ciP2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHRQYWdlVHJhbnNpdGlvbik7bS5yZXZlcnNlPW0ucmV2ZXJzZXx8eDwwO2YoYyxpLG0udHJhbnNpdGlvbixtLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oKXtiKCk7bS5kdXBsaWNhdGVDYWNoZWRQYWdlJiZtLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCk7CmoucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKTtlKCk7cy50cmlnZ2VyKCJjaGFuZ2VwYWdlIil9KX19fX07YS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpkLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmQsZHVwbGljYXRlQ2FjaGVkUGFnZTpkLHBhZ2VDb250YWluZXI6ZH07YSgiZm9ybSIpLmxpdmUoInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKTtpZihhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWMuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKSl7dmFyIGQ9Yy5hdHRyKCJtZXRob2QiKSxlPWsubWFrZVVybEFic29sdXRlKGMuYXR0cigiYWN0aW9uIiksbShjKSksZj1jLmF0dHIoInRhcmdldCIpOyFrLmlzRXh0ZXJuYWwoZSkmJiFmJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShlLHt0eXBlOmQubGVuZ3RoJiZkLnRvTG93ZXJDYXNlKCl8fCJnZXQiLGRhdGE6Yy5zZXJpYWxpemUoKSx0cmFuc2l0aW9uOmMuanFtRGF0YSgidHJhbnNpdGlvbiIpLApkaXJlY3Rpb246Yy5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOiEwfSksYi5wcmV2ZW50RGVmYXVsdCgpKX19KTthKGRvY3VtZW50KS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe2lmKChiPWwoYi50YXJnZXQpKSYmay5wYXJzZVVybChiLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIyIpLmhhc2ghPT0iIyIpYShiKS5jbG9zZXN0KCIudWktYnRuIikubm90KCIudWktZGlzYWJsZWQiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgLnVpLWJ0biIpLm5vdChiKS5ibHVyKCl9KTthKGRvY3VtZW50KS5iaW5kKGEubW9iaWxlLnVzZUZhc3RDbGljaz8idmNsaWNrIGNsaWNrIjoiY2xpY2siLGZ1bmN0aW9uKGMpe3ZhciBlPWwoYy50YXJnZXQpO2lmKGUpe3ZhciBmPWEoZSksZz1mdW5jdGlvbigpe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YighMCl9LDIwMCl9O2lmKGYuaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIHdpbmRvdy5oaXN0b3J5LmJhY2soKSwKITE7aWYoYS5tb2JpbGUuYWpheEVuYWJsZWQpe3ZhciBoPW0oZiksZT1rLm1ha2VVcmxBYnNvbHV0ZShmLmF0dHIoImhyZWYiKXx8IiMiLGgpO2lmKGUuc2VhcmNoKCIjIikhPS0xKWlmKGU9ZS5yZXBsYWNlKC9bXiNdKiMvLCIiKSllPWsuaXNQYXRoKGUpP2subWFrZVVybEFic29sdXRlKGUsaCk6ay5tYWtlVXJsQWJzb2x1dGUoIiMiK2UsdS5ocmVmTm9IYXNoKTtlbHNle2MucHJldmVudERlZmF1bHQoKTtyZXR1cm59dmFyIGg9Zi5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxmLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fGYuaXMoIlt0YXJnZXRdIiksaT1hLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJnUucHJvdG9jb2w9PT0iZmlsZToiJiZlLnNlYXJjaCgvXmh0dHBzPzovKSE9LTEsaD1ofHxrLmlzRXh0ZXJuYWwoZSkmJiFpO3E9Zi5jbG9zZXN0KCIudWktYnRuIik7aD9nKCk6KGc9Zi5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksaD0oaD1mLmpxbURhdGEoImRpcmVjdGlvbiIpKSYmCmg9PT0icmV2ZXJzZSJ8fGYuanFtRGF0YSgiYmFjayIpLGY9Zi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfHxkLGEubW9iaWxlLmNoYW5nZVBhZ2UoZSx7dHJhbnNpdGlvbjpnLHJldmVyc2U6aCxyb2xlOmZ9KSxjLnByZXZlbnREZWZhdWx0KCkpfWVsc2UgZygpfX0pO28uYmluZCgiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgYj1rLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSxjPWEubW9iaWxlLnVybEhpc3Rvcnkuc3RhY2subGVuZ3RoPT09MD8ibm9uZSI6ZDtpZighYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fG4uaWdub3JlTmV4dEhhc2hDaGFuZ2Upbi5pZ25vcmVOZXh0SGFzaENoYW5nZT0hMTtlbHNle2lmKG4uc3RhY2subGVuZ3RoPjEmJmIuaW5kZXhPZih2KT4tMSlpZihhLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikpe3ZhciBlPWZ1bmN0aW9uKCl7Yj1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpLnBhZ2V9O24uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpiLAppc0JhY2s6ZSxpc0ZvcndhcmQ6ZX0pfWVsc2V7bi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmIsaXNCYWNrOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuYmFjaygpfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXt3aW5kb3cuaGlzdG9yeS5mb3J3YXJkKCl9fSk7cmV0dXJufWI/KGI9dHlwZW9mIGI9PT0ic3RyaW5nIiYmIWsuaXNQYXRoKGIpPyIjIitiOmIsYS5tb2JpbGUuY2hhbmdlUGFnZShiLHt0cmFuc2l0aW9uOmMsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKTphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjpjLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlc2hvdyIsaSk7YSh3aW5kb3cpLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsaSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChjLGIsZCxmKXt2YXIgZz1uZXcgYS5EZWZlcnJlZCxpPWI/IiByZXZlcnNlIjoiIixoPSJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK2M7ZC5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2QuYWRkKGYpLnJlbW92ZUNsYXNzKCJvdXQgaW4gcmV2ZXJzZSAiK2MpO2YmJmYucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtkLnBhcmVudCgpLnJlbW92ZUNsYXNzKGgpO2cucmVzb2x2ZShjLGIsZCxmKX0pO2QucGFyZW50KCkuYWRkQ2xhc3MoaCk7ZiYmZi5hZGRDbGFzcyhjKyIgb3V0IitpKTtkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiICIrYysiIGluIitpKTtyZXR1cm4gZy5wcm9taXNlKCl9YS5tb2JpbGUuY3NzM1RyYW5zaXRpb25IYW5kbGVyPWQ7aWYoYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPT09YS5tb2JpbGUubm9uZVRyYW5zaXRpb25IYW5kbGVyKWEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj0KZH0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEsZCl7YS5mbi5maXhIZWFkZXJGb290ZXI9ZnVuY3Rpb24oKXtpZighYS5zdXBwb3J0LnNjcm9sbFRvcClyZXR1cm4gdGhpcztyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmpxbURhdGEoImZ1bGxzY3JlZW4iKSYmYy5hZGRDbGFzcygidWktcGFnZS1mdWxsc2NyZWVuIik7Yy5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIik7Yy5maW5kKCIudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktZm9vdGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIil9KX07YS5maXhlZFRvb2xiYXJzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYygpeyFnJiZmPT0ib3ZlcmxheSImJihpfHxhLmZpeGVkVG9vbGJhcnMuaGlkZSghMCksYS5maXhlZFRvb2xiYXJzLnN0YXJ0U2hvd1RpbWVyKCkpfWZ1bmN0aW9uIGIoYSl7dmFyIGI9CjA7aWYoYSlmb3IodmFyIGM9YS5vZmZzZXRQYXJlbnQsZD1kb2N1bWVudC5ib2R5LGI9YS5vZmZzZXRUb3A7YSYmYSE9ZDspe2IrPWEuc2Nyb2xsVG9wfHwwO2lmKGE9PWMpYis9Yy5vZmZzZXRUb3AsYz1hLm9mZnNldFBhcmVudDthPWEucGFyZW50Tm9kZX1yZXR1cm4gYn1mdW5jdGlvbiBlKGMpe3ZhciBkPWEod2luZG93KS5zY3JvbGxUb3AoKSxlPWIoY1swXSksZj1jLmNzcygidG9wIik9PSJhdXRvIj8wOnBhcnNlRmxvYXQoYy5jc3MoInRvcCIpKSxnPXdpbmRvdy5pbm5lckhlaWdodCxoPWMub3V0ZXJIZWlnaHQoKSxpPWMucGFyZW50cygiLnVpLXBhZ2U6bm90KC51aS1wYWdlLWZ1bGxzY3JlZW4pIikubGVuZ3RoO3JldHVybiBjLmlzKCIudWktaGVhZGVyLWZpeGVkIik/KGY9ZC1lK2YsZjxlJiYoZj0wKSxjLmNzcygidG9wIixpP2Y6ZCkpOmMuY3NzKCJ0b3AiLGk/ZCtnLWgtKGUtZik6ZCtnLWgpfWlmKGEuc3VwcG9ydC5zY3JvbGxUb3Ape3ZhciBmPSJpbmxpbmUiLGc9ITEsaSwKaCxsPW51bGwsbT0hMSxvPSEwO2EoZnVuY3Rpb24oKXthKGRvY3VtZW50KS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe28mJihsPWYpfSkuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtvJiYhYShiLnRhcmdldCkuY2xvc2VzdCgiYSxpbnB1dCx0ZXh0YXJlYSxzZWxlY3QsYnV0dG9uLGxhYmVsLC51aS1oZWFkZXItZml4ZWQsLnVpLWZvb3Rlci1maXhlZCIpLmxlbmd0aCYmIW0mJihhLmZpeGVkVG9vbGJhcnMudG9nZ2xlKGwpLGw9bnVsbCl9KS5iaW5kKCJzaWxlbnRzY3JvbGwiLGMpOyhhKGRvY3VtZW50KS5zY3JvbGxUb3AoKT09MD9hKHdpbmRvdyk6YShkb2N1bWVudCkpLmJpbmQoInNjcm9sbHN0YXJ0IixmdW5jdGlvbigpe209ITA7bD09bnVsbCYmKGw9Zik7dmFyIGI9bD09Im92ZXJsYXkiO2lmKGc9Ynx8ISFpKWEuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpLGImJmEuZml4ZWRUb29sYmFycy5oaWRlKCEwKX0pLmJpbmQoInNjcm9sbHN0b3AiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNsb3Nlc3QoImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGh8fAoobT0hMSxnJiYoZz0hMSxhLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKSksbD1udWxsKX0pO2Eod2luZG93KS5iaW5kKCJyZXNpemUiLGMpfSk7YSgiLnVpLXBhZ2UiKS5saXZlKCJwYWdlYmVmb3Jlc2hvdyIsZnVuY3Rpb24oYixjKXt2YXIgZD1hKGIudGFyZ2V0KS5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLGY9ZC5kYXRhKCJpZCIpLGc9Yy5wcmV2UGFnZSxnPWcmJmcuZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKSxnPWcubGVuZ3RoJiZnLmpxbURhdGEoImlkIik9PT1mO2YmJmcmJihoPWQsZShoLnJlbW92ZUNsYXNzKCJmYWRlIGluIG91dCIpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpKSl9KTthKCIudWktcGFnZSIpLmxpdmUoInBhZ2VzaG93IixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7aCYmaC5sZW5ndGgmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGguYXBwZW5kVG8oYikuYWRkQ2xhc3MoImZhZGUiKSk7aD1udWxsfSw1MDApOwphLmZpeGVkVG9vbGJhcnMuc2hvdyghMCx0aGlzKX0pO2EoIi51aS1jb2xsYXBzaWJsZS1jb250YWluIikubGl2ZSgiY29sbGFwc2UgZXhwYW5kIixjKTtyZXR1cm57c2hvdzpmdW5jdGlvbihjLGQpe2EuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpO2Y9Im92ZXJsYXkiO3JldHVybihkP2EoZCk6YS5tb2JpbGUuYWN0aXZlUGFnZT9hLm1vYmlsZS5hY3RpdmVQYWdlOmEoIi51aS1wYWdlLWFjdGl2ZSIpKS5jaGlsZHJlbigiLnVpLWhlYWRlci1maXhlZDpmaXJzdCwgLnVpLWZvb3Rlci1maXhlZDpub3QoLnVpLWZvb3Rlci1kdXBsaWNhdGUpOmxhc3QiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxmPWEod2luZG93KS5zY3JvbGxUb3AoKSxnPWIoZFswXSksaD13aW5kb3cuaW5uZXJIZWlnaHQsaT1kLm91dGVySGVpZ2h0KCksZj1kLmlzKCIudWktaGVhZGVyLWZpeGVkIikmJmY8PWcraXx8ZC5pcygiLnVpLWZvb3Rlci1maXhlZCIpJiZnPD1mK2g7ZC5hZGRDbGFzcygidWktZml4ZWQtb3ZlcmxheSIpLnJlbW92ZUNsYXNzKCJ1aS1maXhlZC1pbmxpbmUiKTsKIWYmJiFjJiZkLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcygiaW4iKX0pLmFkZENsYXNzKCJpbiIpO2UoZCl9KX0saGlkZTpmdW5jdGlvbihiKXtmPSJpbmxpbmUiO3JldHVybihhLm1vYmlsZS5hY3RpdmVQYWdlP2EubW9iaWxlLmFjdGl2ZVBhZ2U6YSgiLnVpLXBhZ2UtYWN0aXZlIikpLmNoaWxkcmVuKCIudWktaGVhZGVyLWZpeGVkOmZpcnN0LCAudWktZm9vdGVyLWZpeGVkOm5vdCgudWktZm9vdGVyLWR1cGxpY2F0ZSk6bGFzdCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5jc3MoInRvcCIpLGQ9ZD09ImF1dG8iPzA6cGFyc2VGbG9hdChkKTtjLmFkZENsYXNzKCJ1aS1maXhlZC1pbmxpbmUiKS5yZW1vdmVDbGFzcygidWktZml4ZWQtb3ZlcmxheSIpO2lmKGQ8MHx8Yy5pcygiLnVpLWhlYWRlci1maXhlZCIpJiZkIT0wKWI/Yy5jc3MoInRvcCIsMCk6Yy5jc3MoInRvcCIpIT09ImF1dG8iJiZwYXJzZUZsb2F0KGMuY3NzKCJ0b3AiKSkhPT0KMCYmYy5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoIm91dCByZXZlcnNlIik7Yy5jc3MoInRvcCIsMCl9KS5hZGRDbGFzcygib3V0IHJldmVyc2UiKX0pfSxzdGFydFNob3dUaW1lcjpmdW5jdGlvbigpe2EuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpO3ZhciBiPWEubWFrZUFycmF5KGFyZ3VtZW50cyk7aT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aT1kO2EuZml4ZWRUb29sYmFycy5zaG93LmFwcGx5KG51bGwsYil9LDEwMCl9LGNsZWFyU2hvd1RpbWVyOmZ1bmN0aW9uKCl7aSYmY2xlYXJUaW1lb3V0KGkpO2k9ZH0sdG9nZ2xlOmZ1bmN0aW9uKGIpe2ImJihmPWIpO3JldHVybiBmPT0ib3ZlcmxheSI/YS5maXhlZFRvb2xiYXJzLmhpZGUoKTphLmZpeGVkVG9vbGJhcnMuc2hvdygpfSxzZXRUb3VjaFRvZ2dsZUVuYWJsZWQ6ZnVuY3Rpb24oYSl7bz1hfX19fSgpfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9dGhpcy5lbGVtZW50LGU9Yi5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCdbZm9yPSInK2JbMF0uaWQrJyJdJyksZj1iLmF0dHIoInR5cGUiKSxnPSJ1aS1pY29uLSIrZisiLW9mZiI7aWYoIShmIT0iY2hlY2tib3giJiZmIT0icmFkaW8iKSl7YS5leHRlbmQodGhpcyx7bGFiZWw6ZSxpbnB1dHR5cGU6ZixjaGVja2VkaWNvbjoidWktaWNvbi0iK2YrIi1vbiIsdW5jaGVja2VkaWNvbjpnfSk7aWYoIXRoaXMub3B0aW9ucy50aGVtZSl0aGlzLm9wdGlvbnMudGhlbWU9dGhpcy5lbGVtZW50LmpxbURhdGEoInRoZW1lIik7ZS5idXR0b25NYXJrdXAoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29uOnRoaXMuZWxlbWVudC5wYXJlbnRzKCI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiKS5sZW5ndGg/CmQ6ZyxzaGFkb3c6ITF9KTtiLmFkZChlKS53cmFwQWxsKCI8ZGl2IGNsYXNzPSd1aS0iK2YrIic+PC9kaXY+Iik7ZS5iaW5kKHt2bW91c2VvdmVyOmZ1bmN0aW9uKCl7aWYoYSh0aGlzKS5wYXJlbnQoKS5pcygiLnVpLWRpc2FibGVkIikpcmV0dXJuITF9LHZjbGljazpmdW5jdGlvbihhKXtpZihiLmlzKCI6ZGlzYWJsZWQiKSlhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSByZXR1cm4gYy5fY2FjaGVWYWxzKCksYi5wcm9wKCJjaGVja2VkIixmPT09InJhZGlvIiYmITB8fCFiLnByb3AoImNoZWNrZWQiKSksYy5fZ2V0SW5wdXRTZXQoKS5ub3QoYikucHJvcCgiY2hlY2tlZCIsITEpLGMuX3VwZGF0ZUFsbCgpLCExfX0pO2IuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe3RoaXMuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXthKHRoaXMpLmlzKCI6Y2hlY2tlZCIpPyhhKHRoaXMpLnByb3AoImNoZWNrZWQiLCEwKSxjLl9nZXRJbnB1dFNldCgpLm5vdChhKHRoaXMpKS5wcm9wKCJjaGVja2VkIiwKITEpKTphKHRoaXMpLnByb3AoImNoZWNrZWQiLCExKTtjLl91cGRhdGVBbGwoKX0sZm9jdXM6ZnVuY3Rpb24oKXtlLmFkZENsYXNzKCJ1aS1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7ZS5yZW1vdmVDbGFzcygidWktZm9jdXMiKX19KTt0aGlzLnJlZnJlc2goKX19LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImNhY2hlVmFsIixhKHRoaXMpLmlzKCI6Y2hlY2tlZCIpKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnQuYXR0cigibmFtZSIpKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIGM9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXsoYSh0aGlzKS5pcygiOmNoZWNrZWQiKXx8CmMuaW5wdXR0eXBlPT09ImNoZWNrYm94IikmJmEodGhpcykudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj10aGlzLmxhYmVsLGQ9Yi5maW5kKCIudWktaWNvbiIpO2EoY1swXSkucHJvcCgiY2hlY2tlZCIpPyhiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxkLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOihiLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxkLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZGljb24pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpO2MuaXMoIjpkaXNhYmxlZCIpP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCEwKS5wYXJlbnQoKS5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sCmVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaDt2YXIgZD10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsYj1jLnRoZW1lO2J8fChiPXRoaXMuZWxlbWVudC5jbG9zZXN0KCJbY2xhc3MqPSd1aS1iYXItJ10sW2NsYXNzKj0ndWktYm9keS0nXSIpLGg9KGI9Yi5sZW5ndGgmJi91aS0oYmFyfGJvZHkpLShbYS16XSkvLmV4ZWMoYi5hdHRyKCJjbGFzcyIpKSkmJmJbMl18fCJjIixiPWgpO2I9IiB1aS1ib2R5LSIrYjthKCdsYWJlbFtmb3I9IicrZC5hdHRyKCJpZCIpKyciXScpLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0Iik7ZC5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIrYy50aGVtZSk7dmFyIGU9ZDtpZihkLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSl7dmFyIGU9ZC53cmFwKCc8ZGl2IGNsYXNzPSJ1aS1pbnB1dC1zZWFyY2ggdWktc2hhZG93LWluc2V0IHVpLWJ0bi1jb3JuZXItYWxsIHVpLWJ0bi1zaGFkb3cgdWktaWNvbi1zZWFyY2hmaWVsZCcrCmIrJyI+PC9kaXY+JykucGFyZW50KCksZj1hKCc8YSBocmVmPSIjIiBjbGFzcz0idWktaW5wdXQtY2xlYXIiIHRpdGxlPSJjbGVhciB0ZXh0Ij5jbGVhciB0ZXh0PC9hPicpLnRhcChmdW5jdGlvbihhKXtkLnZhbCgiIikuZm9jdXMoKTtkLnRyaWdnZXIoImNoYW5nZSIpO2YuYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpO2EucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGUpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6ITAsc2hhZG93OiEwfSksYz1mdW5jdGlvbigpe2QudmFsKCk9PSIiP2YuYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpOmYucmVtb3ZlQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpfTtjKCk7ZC5rZXl1cChjKTtkLmZvY3VzKGMpfWVsc2UgZC5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1zaGFkb3ctaW5zZXQiK2IpO2QuZm9jdXMoZnVuY3Rpb24oKXtlLmFkZENsYXNzKCJ1aS1mb2N1cyIpfSkuYmx1cihmdW5jdGlvbigpe2UucmVtb3ZlQ2xhc3MoInVpLWZvY3VzIil9KTsKaWYoZC5pcygidGV4dGFyZWEiKSl7dmFyIGc9ZnVuY3Rpb24oKXt2YXIgYT1kWzBdLnNjcm9sbEhlaWdodDtkWzBdLmNsaWVudEhlaWdodDxhJiZkLmNzcyh7aGVpZ2h0OmErMTV9KX0saTtkLmtleXVwKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGkpO2k9c2V0VGltZW91dChnLDEwMCl9KX19LGRpc2FibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCkuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSkuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGRpc2FibGVkOiExLGljb246ImFycm93LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLG1lbnVQYWdlVGhlbWU6ImIiLG92ZXJsYXlUaGVtZToiYSIsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9dGhpcy5vcHRpb25zLGI9dGhpcy5lbGVtZW50LndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCc+IiksZT1iLmF0dHIoImlkIiksZj1hKCdsYWJlbFtmb3I9IicrZSsnIl0nKS5hZGRDbGFzcygidWktc2VsZWN0IiksZz1iWzBdLnNlbGVjdGVkSW5kZXg9PS0xPzA6YlswXS5zZWxlY3RlZEluZGV4LGk9KGQub3B0aW9ucy5uYXRpdmVNZW51P2EoIjxkaXYvPiIpOgphKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOm0sImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjpvfSkpLnRleHQoYShiWzBdLm9wdGlvbnMuaXRlbShnKSkudGV4dCgpKS5pbnNlcnRCZWZvcmUoYikuYnV0dG9uTWFya3VwKHt0aGVtZTpjLnRoZW1lLGljb246Yy5pY29uLGljb25wb3M6Yy5pY29ucG9zLGlubGluZTpjLmlubGluZSxjb3JuZXJzOmMuY29ybmVycyxzaGFkb3c6Yy5zaGFkb3csaWNvbnNoYWRvdzpjLmljb25zaGFkb3d9KSxoPWQuaXNNdWx0aXBsZT1iWzBdLm11bHRpcGxlO2MubmF0aXZlTWVudSYmd2luZG93Lm9wZXJhJiZ3aW5kb3cub3BlcmEudmVyc2lvbiYmYi5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKTtpZighYy5uYXRpdmVNZW51KXt2YXIgbD1iLmZpbmQoIm9wdGlvbiIpLG09ZSsiLWJ1dHRvbiIsbz1lKyItbWVudSIsaj1iLmNsb3Nlc3QoIi51aS1wYWdlIiksZz0vdWktYnRuLXVwLShbYS16XSkvLmV4ZWMoaS5hdHRyKCJjbGFzcyIpKVsxXSwKcD1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2MubWVudVBhZ2VUaGVtZSsiJz48ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitmLnRleHQoKSsiPC9kaXY+PC9kaXY+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxrPXAuZmluZCgiLnVpLWNvbnRlbnQiKTtwLmZpbmQoIi51aS1oZWFkZXIgYSIpO3ZhciBxPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1zY3JlZW4gdWktc2NyZWVuLWhpZGRlbiJ9KS5hcHBlbmRUbyhqKSxuPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudSB1aS1zZWxlY3RtZW51LWhpZGRlbiB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHBvcCB1aS1ib2R5LSIrCmMub3ZlcmxheVRoZW1lfSkuaW5zZXJ0QWZ0ZXIocSksej1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpvLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOm19KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixnKS5hcHBlbmRUbyhuKSx5PWEoIjxkaXY+Iix7ImNsYXNzIjoidWktaGVhZGVyIHVpLWJhci0iK2d9KS5wcmVwZW5kVG8obiksdD1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8oeSksdj1hKCI8YT4iLHt0ZXh0OmMuY2xvc2VUZXh0LGhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0bi1sZWZ0In0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIsIm5vdGV4dCIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbiIsImRlbGV0ZSIpLmFwcGVuZFRvKHkpLmJ1dHRvbk1hcmt1cCgpfWlmKGgpZC5idXR0b25Db3VudD1hKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbGktY291bnQgdWktYnRuLXVwLWMgdWktYnRuLWNvcm5lci1hbGwiKS5oaWRlKCkuYXBwZW5kVG8oaSk7CmMuZGlzYWJsZWQmJnRoaXMuZGlzYWJsZSgpO2IuY2hhbmdlKGZ1bmN0aW9uKCl7ZC5yZWZyZXNoKCl9KTthLmV4dGVuZChkLHtzZWxlY3Q6YixvcHRpb25FbGVtczpsLHNlbGVjdElEOmUsbGFiZWw6ZixidXR0b25JZDptLG1lbnVJZDpvLHRoaXNQYWdlOmosYnV0dG9uOmksbWVudVBhZ2U6cCxtZW51UGFnZUNvbnRlbnQ6ayxzY3JlZW46cSxsaXN0Ym94Om4sbGlzdDp6LG1lbnVUeXBlOnZvaWQgMCxoZWFkZXI6eSxoZWFkZXJDbG9zZTp2LGhlYWRlclRpdGxlOnQscGxhY2Vob2xkZXI6IiJ9KTtjLm5hdGl2ZU1lbnU/Yi5hcHBlbmRUbyhpKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2kuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiZm9jdXMgdm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtpLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7aS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLApmdW5jdGlvbigpe2kudHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSk6KGQucmVmcmVzaCgpLGIuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCk7aS5mb2N1cygpfSksaS5iaW5kKCJ2Y2xpY2sga2V5ZG93biIsZnVuY3Rpb24oYil7aWYoYi50eXBlPT0idmNsaWNrInx8Yi5rZXlDb2RlJiYoYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpZC5vcGVuKCksYi5wcmV2ZW50RGVmYXVsdCgpfSksei5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmRlbGVnYXRlKCIudWktbGk+YSIsImZvY3VzaW4iLGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKCJ0YWJpbmRleCIsIjAiKX0pLmRlbGVnYXRlKCIudWktbGk+YSIsImZvY3Vzb3V0IixmdW5jdGlvbigpe2EodGhpcykuYXR0cigidGFiaW5kZXgiLCItMSIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsCiJ2Y2xpY2siLGZ1bmN0aW9uKGMpe3ZhciBlPWJbMF0uc2VsZWN0ZWRJbmRleCxmPXouZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLmluZGV4KHRoaXMpLGc9ZC5vcHRpb25FbGVtcy5lcShmKVswXTtnLnNlbGVjdGVkPWg/IWcuc2VsZWN0ZWQ6ITA7aCYmYSh0aGlzKS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIixnLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiLCFnLnNlbGVjdGVkKTsoaHx8ZSE9PWYpJiZiLnRyaWdnZXIoImNoYW5nZSIpO2h8fGQuY2xvc2UoKTtjLnByZXZlbnREZWZhdWx0KCl9KS5rZXlkb3duKGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGI9ZC5wcmV2KCksYi5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYi5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwKITE7Y2FzZSA0MDpyZXR1cm4gYj1kLm5leHQoKSxiLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxiLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKCJ2Y2xpY2siKSwhMX19KSxxLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtkLmNsb3NlKCl9KSxkLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7aWYoZC5tZW51VHlwZT09Im92ZXJsYXkiKXJldHVybiBkLmNsb3NlKCksITF9KSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9dGhpcy5vcHRpb25zLGI9dGhpcy5wbGFjZWhvbGRlcixlPVtdLGY9W10sZz1kLmlzTXVsdGlwbGU/ImNoZWNrYm94LW9mZiI6ImZhbHNlIjtkLmxpc3QuZW1wdHkoKS5maWx0ZXIoIi51aS1saXN0dmlldyIpLmxpc3R2aWV3KCJkZXN0cm95Iik7ZC5zZWxlY3QuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPWEodGhpcyksaD1pLnBhcmVudCgpLApsPWkudGV4dCgpLG09IjxhIGhyZWY9JyMnPiIrbCsiPC9hPiIsbz1bXSxqPVtdO2guaXMoIm9wdGdyb3VwIikmJihoPWguYXR0cigibGFiZWwiKSxhLmluQXJyYXkoaCxlKT09PS0xJiYoZi5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdsaXN0LWRpdmlkZXInPiIraCsiPC9saT4iKSxlLnB1c2goaCkpKTtpZighdGhpcy5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fGwubGVuZ3RoPT0wfHxpLmpxbURhdGEoInBsYWNlaG9sZGVyIikpYy5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJm8ucHVzaCgidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGI9ZC5wbGFjZWhvbGRlcj1sO3RoaXMuZGlzYWJsZWQmJihvLnB1c2goInVpLWRpc2FibGVkIiksai5wdXNoKCJhcmlhLWRpc2FibGVkPSd0cnVlJyIpKTtmLnB1c2goIjxsaSBkYXRhLSIrYS5tb2JpbGUubnMrImljb249JyIrZysiJyBjbGFzcz0nIitvLmpvaW4oIiAiKSsiJyAiK2ouam9pbigiICIpKyI+IittKyI8L2xpPiIpfSk7CmQubGlzdC5odG1sKGYuam9pbigiICIpKTtkLmxpc3QuZmluZCgibGkiKS5hdHRyKHtyb2xlOiJvcHRpb24iLHRhYmluZGV4OiItMSJ9KS5maXJzdCgpLmF0dHIoInRhYmluZGV4IiwiMCIpO3RoaXMuaXNNdWx0aXBsZXx8dGhpcy5oZWFkZXJDbG9zZS5oaWRlKCk7IXRoaXMuaXNNdWx0aXBsZSYmIWIubGVuZ3RoP3RoaXMuaGVhZGVyLmhpZGUoKTp0aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik7ZC5saXN0Lmxpc3R2aWV3KCl9LHJlZnJlc2g6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxiPXRoaXMuZWxlbWVudCxlPXRoaXMuaXNNdWx0aXBsZSxmPXRoaXMub3B0aW9uRWxlbXM9Yi5maW5kKCJvcHRpb24iKSxnPWYuZmlsdGVyKCI6c2VsZWN0ZWQiKSxpPWcubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGYuaW5kZXgodGhpcyl9KS5nZXQoKTshYy5vcHRpb25zLm5hdGl2ZU1lbnUmJihkfHxiWzBdLm9wdGlvbnMubGVuZ3RoIT1jLmxpc3QuZmluZCgibGkiKS5sZW5ndGgpJiYKYy5fYnVpbGRMaXN0KCk7Yy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikudGV4dChmdW5jdGlvbigpe2lmKCFlKXJldHVybiBnLnRleHQoKTtyZXR1cm4gZy5sZW5ndGg/Zy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCIsICIpOmMucGxhY2Vob2xkZXJ9KTtlJiZjLmJ1dHRvbkNvdW50W2cubGVuZ3RoPjE/InNob3ciOiJoaWRlIl0oKS50ZXh0KGcubGVuZ3RoKTtjLm9wdGlvbnMubmF0aXZlTWVudXx8Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7YS5pbkFycmF5KGIsaSk+LTEmJihiPWEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGIuZmluZCgiYSIpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKSxlJiZiLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iKSl9KX0sCm9wZW46ZnVuY3Rpb24oKXtmdW5jdGlvbiBkKCl7Yy5saXN0LmZpbmQoIi51aS1idG4tYWN0aXZlIikuZm9jdXMoKX1pZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnUpe3ZhciBjPXRoaXMsYj1jLmxpc3QucGFyZW50KCkub3V0ZXJIZWlnaHQoKSxlPWMubGlzdC5wYXJlbnQoKS5vdXRlcldpZHRoKCksZj1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZz1jLmJ1dHRvbi5vZmZzZXQoKS50b3AsaT13aW5kb3cuaW5uZXJIZWlnaHQsaD13aW5kb3cuaW5uZXJXaWR0aDtjLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7c2V0VGltZW91dChmdW5jdGlvbigpe2MuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sMzAwKTtpZihiPmktODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wKXtpZihmPT0wJiZnPmkpYy50aGlzUGFnZS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgibGFzdFNjcm9sbCIsCmcpfSk7Yy5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2Eod2luZG93KS5vbmUoInNpbGVudHNjcm9sbCIsZnVuY3Rpb24oKXtkKCl9KX0pO2MubWVudVR5cGU9InBhZ2UiO2MubWVudVBhZ2VDb250ZW50LmFwcGVuZChjLmxpc3QpO2EubW9iaWxlLmNoYW5nZVBhZ2UoYy5tZW51UGFnZSx7dHJhbnNpdGlvbjoicG9wIn0pfWVsc2V7Yy5tZW51VHlwZT0ib3ZlcmxheSI7Yy5zY3JlZW4uaGVpZ2h0KGEoZG9jdW1lbnQpLmhlaWdodCgpKS5yZW1vdmVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpO3ZhciBsPWctZixtPWYraS1nLG89Yi8yLGo9cGFyc2VGbG9hdChjLmxpc3QucGFyZW50KCkuY3NzKCJtYXgtd2lkdGgiKSksYj1sPmIvMiYmbT5iLzI/ZytjLmJ1dHRvbi5vdXRlckhlaWdodCgpLzItbzpsPm0/ZitpLWItMzA6ZiszMDtlPGo/aj0oaC1lKS8yOihqPWMuYnV0dG9uLm9mZnNldCgpLmxlZnQrYy5idXR0b24ub3V0ZXJXaWR0aCgpLzItZS8yLGo8MzA/aj0zMDpqKwplPmgmJihqPWgtZS0zMCkpO2MubGlzdGJveC5hcHBlbmQoYy5saXN0KS5yZW1vdmVDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5jc3Moe3RvcDpiLGxlZnQ6an0pLmFkZENsYXNzKCJpbiIpO2QoKX1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5pc09wZW49ITB9LDQwMCl9fSxjbG9zZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5idXR0b24uZm9jdXMoKX0sNDApO2MubGlzdGJveC5yZW1vdmVBdHRyKCJzdHlsZSIpLmFwcGVuZChjLmxpc3QpfWlmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuJiYhdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnUpe3ZhciBjPXRoaXM7Yy5tZW51VHlwZT09InBhZ2UiPyhjLm1lbnVQYWdlLm9uZSgicGFnZWhpZGUiLGEpLHdpbmRvdy5oaXN0b3J5LmJhY2soKSk6KGMuc2NyZWVuLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksYy5saXN0Ym94LmFkZENsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIikucmVtb3ZlQ2xhc3MoImluIiksCmEoKSk7dGhpcy5pc09wZW49ITF9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYil7Zm9yKDtiOyl7dmFyIGM9YShiKTtpZihjLmhhc0NsYXNzKCJ1aS1idG4iKSYmIWMuaGFzQ2xhc3MoInVpLWRpc2FibGVkIikpYnJlYWs7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGJ9YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZj1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyxkLmpxbURhdGEoKSxiKSxnLGk9InVpLWJ0bi1pbm5lciIsaDtjJiZjKCk7aWYoIWYudGhlbWUpZz1kLmNsb3Nlc3QoIltjbGFzcyo9J3VpLWJhci0nXSxbY2xhc3MqPSd1aS1ib2R5LSddIiksZi50aGVtZT1nLmxlbmd0aD8vdWktKGJhcnxib2R5KS0oW2Etel0pLy5leGVjKGcuYXR0cigiY2xhc3MiKSlbMl06ImMiO2c9InVpLWJ0biB1aS1idG4tdXAtIitmLnRoZW1lO2YuaW5saW5lJiYoZys9IiB1aS1idG4taW5saW5lIik7aWYoZi5pY29uKWYuaWNvbj0idWktaWNvbi0iKwpmLmljb24sZi5pY29ucG9zPWYuaWNvbnBvc3x8ImxlZnQiLGg9InVpLWljb24gIitmLmljb24sZi5zaGFkb3cmJihoKz0iIHVpLWljb24tc2hhZG93Iik7Zi5pY29ucG9zJiYoZys9IiB1aS1idG4taWNvbi0iK2YuaWNvbnBvcyxmLmljb25wb3M9PSJub3RleHQiJiYhZC5hdHRyKCJ0aXRsZSIpJiZkLmF0dHIoInRpdGxlIixkLnRleHQoKSkpO2YuY29ybmVycyYmKGcrPSIgdWktYnRuLWNvcm5lci1hbGwiLGkrPSIgdWktYnRuLWNvcm5lci1hbGwiKTtmLnNoYWRvdyYmKGcrPSIgdWktc2hhZG93Iik7ZC5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixmLnRoZW1lKS5hZGRDbGFzcyhnKTtmPSgiPEQgY2xhc3M9JyIraSsiJz48RCBjbGFzcz0ndWktYnRuLXRleHQnPjwvRD4iKyhmLmljb24/IjxzcGFuIGNsYXNzPSciK2grIic+PC9zcGFuPiI6IiIpKyI8L0Q+IikucmVwbGFjZSgvRC9nLGYud3JhcHBlckVscyk7ZC53cmFwSW5uZXIoZil9KX07YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9Cntjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgYz1mdW5jdGlvbigpe2EoZG9jdW1lbnQpLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oYil7aWYoYj1kKGIudGFyZ2V0KSl7dmFyIGI9YShiKSxjPWIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpO2IucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2MpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2MpfX0sInZtb3VzZWNhbmNlbCB2bW91c2V1cCI6ZnVuY3Rpb24oYil7aWYoYj1kKGIudGFyZ2V0KSl7dmFyIGI9YShiKSxjPWIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpO2IucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2MpfX0sInZtb3VzZW92ZXIgZm9jdXMiOmZ1bmN0aW9uKGIpe2lmKGI9ZChiLnRhcmdldCkpe3ZhciBiPWEoYiksYz1iLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKTtiLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIisKYykuYWRkQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2MpfX0sInZtb3VzZW91dCBibHVyIjpmdW5jdGlvbihiKXtpZihiPWQoYi50YXJnZXQpKXt2YXIgYj1hKGIpLGM9Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIik7Yi5yZW1vdmVDbGFzcygidWktYnRuLWhvdmVyLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2MpfX19KTtjPW51bGx9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxpbmxpbmU6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO3RoaXMuYnV0dG9uPWEoIjxkaXY+PC9kaXY+IikudGV4dChkLnRleHQoKXx8ZC52YWwoKSkuYnV0dG9uTWFya3VwKHt0aGVtZTpjLnRoZW1lLGljb246Yy5pY29uLGljb25wb3M6Yy5pY29ucG9zLGlubGluZTpjLmlubGluZSxjb3JuZXJzOmMuY29ybmVycyxzaGFkb3c6Yy5zaGFkb3csaWNvbnNoYWRvdzpjLmljb25zaGFkb3d9KS5pbnNlcnRCZWZvcmUoZCkuYXBwZW5kKGQuYWRkQ2xhc3MoInVpLWJ0bi1oaWRkZW4iKSk7Yz1kLmF0dHIoInR5cGUiKTtjIT09ImJ1dHRvbiImJmMhPT0icmVzZXQiJiZkLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXt2YXIgYj0KYSgiPGlucHV0PiIse3R5cGU6ImhpZGRlbiIsbmFtZTpkLmF0dHIoIm5hbWUiKSx2YWx1ZTpkLmF0dHIoInZhbHVlIil9KS5pbnNlcnRCZWZvcmUoZCk7YShkb2N1bWVudCkuc3VibWl0KGZ1bmN0aW9uKCl7Yi5yZW1vdmUoKX0pfSk7dGhpcy5yZWZyZXNoKCl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKT8KdGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYz10aGlzLmVsZW1lbnQsYj1jLnBhcmVudHMoIltjbGFzcyo9dWktYmFyLV0sW2NsYXNzKj11aS1ib2R5LV0iKS5lcSgwKSxiPWIubGVuZ3RoP2IuYXR0cigiY2xhc3MiKS5tYXRjaCgvdWktKGJhcnxib2R5KS0oW2Etel0pLylbMl06ImMiLGU9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZTpiLGY9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU/dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU6YixnPWNbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxiPWc9PSJzZWxlY3QiPyJ1aS1zbGlkZXItc3dpdGNoIjoiIixpPWMuYXR0cigiaWQiKSxoPWkrIi1sYWJlbCIsaT1hKCdbZm9yPSInK2krJyJdJykuYXR0cigiaWQiLGgpLGw9ZnVuY3Rpb24oKXtyZXR1cm4gZz09CiJpbnB1dCI/cGFyc2VGbG9hdChjLnZhbCgpKTpjWzBdLnNlbGVjdGVkSW5kZXh9LG09Zz09ImlucHV0Ij9wYXJzZUZsb2F0KGMuYXR0cigibWluIikpOjAsbz1nPT0iaW5wdXQiP3BhcnNlRmxvYXQoYy5hdHRyKCJtYXgiKSk6Yy5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxqPXdpbmRvdy5wYXJzZUZsb2F0KGMuYXR0cigic3RlcCIpfHwxKSxwPWEoJzxkaXYgY2xhc3M9InVpLXNsaWRlciAnK2IrIiB1aS1idG4tZG93bi0iK2YrJyB1aS1idG4tY29ybmVyLWFsbCIgcm9sZT0iYXBwbGljYXRpb24iPjwvZGl2PicpLGs9YSgnPGEgaHJlZj0iIyIgY2xhc3M9InVpLXNsaWRlci1oYW5kbGUiPjwvYT4nKS5hcHBlbmRUbyhwKS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6ZSxzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjptLCJhcmlhLXZhbHVlbWF4IjpvLCJhcmlhLXZhbHVlbm93IjpsKCksImFyaWEtdmFsdWV0ZXh0IjpsKCksdGl0bGU6bCgpLAoiYXJpYS1sYWJlbGxlZGJ5IjpofSk7YS5leHRlbmQodGhpcyx7c2xpZGVyOnAsaGFuZGxlOmssZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbH0pO2c9PSJzZWxlY3QiJiYocC53cmFwSW5uZXIoJzxkaXYgY2xhc3M9InVpLXNsaWRlci1pbm5lcm9mZnNldCI+PC9kaXY+JyksYy5maW5kKCJvcHRpb24iKSxjLmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Yj09MD8iYiI6ImEiLGQ9Yj09MD8icmlnaHQiOiJsZWZ0IixiPWI9PTA/IiB1aS1idG4tZG93bi0iK2Y6IiB1aS1idG4tYWN0aXZlIjthKCc8ZGl2IGNsYXNzPSJ1aS1zbGlkZXItbGFiZWxiZyB1aS1zbGlkZXItbGFiZWxiZy0nK2MrYisiIHVpLWJ0bi1jb3JuZXItIitkKyciPjwvZGl2PicpLnByZXBlbmRUbyhwKTthKCc8c3BhbiBjbGFzcz0idWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0nK2MrYisiIHVpLWJ0bi1jb3JuZXItIitkKyciIHJvbGU9ImltZyI+JythKHRoaXMpLnRleHQoKSsiPC9zcGFuPiIpLnByZXBlbmRUbyhrKX0pKTsKaS5hZGRDbGFzcygidWktc2xpZGVyIik7Yy5hZGRDbGFzcyhnPT0iaW5wdXQiPyJ1aS1zbGlkZXItaW5wdXQiOiJ1aS1zbGlkZXItc3dpdGNoIikuY2hhbmdlKGZ1bmN0aW9uKCl7ZC5yZWZyZXNoKGwoKSwhMCl9KS5rZXl1cChmdW5jdGlvbigpe2QucmVmcmVzaChsKCksITAsITApfSkuYmx1cihmdW5jdGlvbigpe2QucmVmcmVzaChsKCksITApfSk7YShkb2N1bWVudCkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oYSl7aWYoZC5kcmFnZ2luZylyZXR1cm4gZC5yZWZyZXNoKGEpLCExfSk7cC5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihhKXtkLmRyYWdnaW5nPSEwO2lmKGc9PT0ic2VsZWN0IilkLmJlZm9yZVN0YXJ0PWNbMF0uc2VsZWN0ZWRJbmRleDtkLnJlZnJlc2goYSk7cmV0dXJuITF9KTtwLmFkZChkb2N1bWVudCkuYmluZCgidm1vdXNldXAiLGZ1bmN0aW9uKCl7aWYoZC5kcmFnZ2luZyl7ZC5kcmFnZ2luZz0hMTtpZihnPT09InNlbGVjdCIpe2QuYmVmb3JlU3RhcnQ9PT0KY1swXS5zZWxlY3RlZEluZGV4JiZkLnJlZnJlc2goZC5iZWZvcmVTdGFydD09PTA/MTowKTt2YXIgYT1sKCksYT1NYXRoLnJvdW5kKGEvKG8tbSkqMTAwKTtrLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIikuY3NzKCJsZWZ0IixhKyIlIikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtrLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIil9KX1yZXR1cm4hMX19KTtwLmluc2VydEFmdGVyKGMpO3RoaXMuaGFuZGxlLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7YSh0aGlzKS5mb2N1cygpfSkuYmluZCgidmNsaWNrIiwhMSk7dGhpcy5oYW5kbGUuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYil7dmFyIGM9bCgpO2lmKCFkLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmlmKGIucHJldmVudERlZmF1bHQoKSwKIWQuX2tleVNsaWRpbmcpZC5fa2V5U2xpZGluZz0hMCxhKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX1zd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpkLnJlZnJlc2gobSk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpkLnJlZnJlc2gobyk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpkLnJlZnJlc2goYytqKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmQucmVmcmVzaChjLWopfX19KS5rZXl1cChmdW5jdGlvbigpe2lmKGQuX2tleVNsaWRpbmcpZC5fa2V5U2xpZGluZz0hMSxhKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0pO3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKGEsCmMsYil7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGU9dGhpcy5lbGVtZW50LGY9ZVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGc9Zj09PSJpbnB1dCI/cGFyc2VGbG9hdChlLmF0dHIoIm1pbiIpKTowLGk9Zj09PSJpbnB1dCI/cGFyc2VGbG9hdChlLmF0dHIoIm1heCIpKTplLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xO2lmKHR5cGVvZiBhPT09Im9iamVjdCIpe2lmKCF0aGlzLmRyYWdnaW5nfHxhLnBhZ2VYPHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQtOHx8YS5wYWdlWD50aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0K3RoaXMuc2xpZGVyLndpZHRoKCkrOClyZXR1cm47YT1NYXRoLnJvdW5kKChhLnBhZ2VYLXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwKX1lbHNlIGE9PW51bGwmJihhPWY9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS52YWwoKSk6ZVswXS5zZWxlY3RlZEluZGV4KSxhPShwYXJzZUZsb2F0KGEpLWcpLyhpLWcpKgoxMDA7aWYoIWlzTmFOKGEpKXthPDAmJihhPTApO2E+MTAwJiYoYT0xMDApO3ZhciBoPU1hdGgucm91bmQoYS8xMDAqKGktZykpK2c7aDxnJiYoaD1nKTtoPmkmJihoPWkpO3RoaXMuaGFuZGxlLmNzcygibGVmdCIsYSsiJSIpO3RoaXMuaGFuZGxlLmF0dHIoeyJhcmlhLXZhbHVlbm93IjpmPT09ImlucHV0Ij9oOmUuZmluZCgib3B0aW9uIikuZXEoaCkuYXR0cigidmFsdWUiKSwiYXJpYS12YWx1ZXRleHQiOmY9PT0iaW5wdXQiP2g6ZS5maW5kKCJvcHRpb24iKS5lcShoKS50ZXh0KCksdGl0bGU6aH0pO2Y9PT0ic2VsZWN0IiYmKGg9PT0wP3RoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWEiKS5yZW1vdmVDbGFzcygidWktc2xpZGVyLXN3aXRjaC1iIik6dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYiIpLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWEiKSk7aWYoIWIpZj09PSJpbnB1dCI/ZS52YWwoaCk6ZVswXS5zZWxlY3RlZEluZGV4PQpoLGN8fGUudHJpZ2dlcigiY2hhbmdlIil9fX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSk7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKTt0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6ITEsaGVhZGluZzoiPjpoZWFkZXIsPmxlZ2VuZCIsdGhlbWU6bnVsbCxpY29uVGhlbWU6ImQifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGI9ZC5hZGRDbGFzcygidWktY29sbGFwc2libGUtY29udGFpbiIpLGU9ZC5maW5kKGMuaGVhZGluZykuZXEoMCksZj1iLndyYXBJbm5lcignPGRpdiBjbGFzcz0idWktY29sbGFwc2libGUtY29udGVudCI+PC9kaXY+JykuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxkPWQuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0Iik7CmUuaXMoImxlZ2VuZCIpJiYoZT1hKCc8ZGl2IHJvbGU9ImhlYWRpbmciPicrZS5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShlKSxlLm5leHQoKS5yZW1vdmUoKSk7ZS5pbnNlcnRCZWZvcmUoZikuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoJzxzcGFuIGNsYXNzPSJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyI+PC9zcGFuPicpLndyYXBJbm5lcignPGEgaHJlZj0iIyIgY2xhc3M9InVpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlIj48L2E+JykuZmluZCgiYTplcSgwKSIpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OiFkLmxlbmd0aCxjb3JuZXJzOiExLGljb25Qb3M6ImxlZnQiLGljb246InBsdXMiLHRoZW1lOmMudGhlbWV9KS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUF0dHIoImNsYXNzIikuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCxpY29uUG9zOiJub3RleHQiLGljb246InBsdXMiLHRoZW1lOmMuaWNvblRoZW1lfSk7CmQubGVuZ3RoP2IuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiZlLmZpbmQoImE6ZXEoMCksIC51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpOmUuZmluZCgiYTplcSgwKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIik7Yi5iaW5kKCJjb2xsYXBzZSIsZnVuY3Rpb24oZCl7IWQuaXNEZWZhdWx0UHJldmVudGVkKCkmJmEoZC50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZS1jb250YWluIikuaXMoYikmJihkLnByZXZlbnREZWZhdWx0KCksZS5hZGRDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGMuZXhwYW5kQ3VlVGV4dCkuZW5kKCkuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1taW51cyIpLmFkZENsYXNzKCJ1aS1pY29uLXBsdXMiKSwKZi5hZGRDbGFzcygidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLGIuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiZlLmZpbmQoImE6ZXEoMCksIC51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpKX0pLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24oYSl7YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGEucHJldmVudERlZmF1bHQoKSxlLnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoYy5jb2xsYXBzZUN1ZVRleHQpLGUuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1wbHVzIikuYWRkQ2xhc3MoInVpLWljb24tbWludXMiKSxmLnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIpLmF0dHIoImFyaWEtaGlkZGVuIiwhMSksYi5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJgplLmZpbmQoImE6ZXEoMCksIC51aS1idG4taW5uZXIiKS5yZW1vdmVDbGFzcygidWktY29ybmVyLWJvdHRvbSIpKX0pLnRyaWdnZXIoYy5jb2xsYXBzZWQ/ImNvbGxhcHNlIjoiZXhwYW5kIik7ZC5sZW5ndGgmJiFkLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiKSYmKGQuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsITApLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iKS5zaWJsaW5ncygiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSksZD1kLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJyk6Zmlyc3QiKSxkLmZpcnN0KCkuZmluZCgiYTplcSgwKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIiksZC5sYXN0KCkuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIsITApKTsKZS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe2UuaXMoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpP2IudHJpZ2dlcigiZXhwYW5kIik6Yi50cmlnZ2VyKCJjb2xsYXBzZSIpO2EucHJldmVudERlZmF1bHQoKX0pfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EuZm4uY29udHJvbGdyb3VwPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEpe2EucmVtb3ZlQ2xhc3MoInVpLWJ0bi1jb3JuZXItYWxsIHVpLXNoYWRvdyIpLmVxKDApLmFkZENsYXNzKGZbMF0pLmVuZCgpLmZpbHRlcigiOmxhc3QiKS5hZGRDbGFzcyhmWzFdKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLWxhc3QiKX12YXIgYj1hLmV4dGVuZCh7ZGlyZWN0aW9uOmEodGhpcykuanFtRGF0YSgidHlwZSIpfHwidmVydGljYWwiLHNoYWRvdzohMX0sZCksZT1hKHRoaXMpLmZpbmQoIj5sZWdlbmQiKSxmPWIuZGlyZWN0aW9uPT0iaG9yaXpvbnRhbCI/WyJ1aS1jb3JuZXItbGVmdCIsInVpLWNvcm5lci1yaWdodCJdOlsidWktY29ybmVyLXRvcCIsInVpLWNvcm5lci1ib3R0b20iXTthKHRoaXMpLmZpbmQoImlucHV0OmVxKDApIikuYXR0cigidHlwZSIpO2UubGVuZ3RoJiYoYSh0aGlzKS53cmFwSW5uZXIoJzxkaXYgY2xhc3M9InVpLWNvbnRyb2xncm91cC1jb250cm9scyI+PC9kaXY+JyksCmEoJzxkaXYgcm9sZT0iaGVhZGluZyIgY2xhc3M9InVpLWNvbnRyb2xncm91cC1sYWJlbCI+JytlLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGEodGhpcykuY2hpbGRyZW4oMCkpLGUucmVtb3ZlKCkpO2EodGhpcykuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iK2IuZGlyZWN0aW9uKTtjKGEodGhpcykuZmluZCgiLnVpLWJ0biIpKTtjKGEodGhpcykuZmluZCgiLnVpLWJ0bi1pbm5lciIpKTtiLnNoYWRvdyYmYSh0aGlzKS5hZGRDbGFzcygidWktc2hhZG93Iil9KX19KShqUXVlcnkpOyhmdW5jdGlvbihhKXthLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKCJ1aS1maWVsZC1jb250YWluIHVpLWJvZHkgdWktYnIiKX19KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7dmFyIGQ9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsY291bnRUaGVtZToiYyIsaGVhZGVyVGhlbWU6ImIiLGRpdmlkZXJUaGVtZToiYiIsc3BsaXRJY29uOiJhcnJvdy1yIixzcGxpdFRoZW1lOiJiIixpbnNldDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGQrIiB1aS1saXN0dmlldyAiKyhhLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiKX0pO2EucmVmcmVzaCgpfSxfaXRlbUFwcGx5OmZ1bmN0aW9uKGMsYil7Yi5maW5kKCIudWktbGktY291bnQiKS5hZGRDbGFzcygidWktYnRuLXVwLSIrKGMuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrIiB1aS1idG4tY29ybmVyLWFsbCIpLmVuZCgpLmZpbmQoImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktbGktaGVhZGluZyIpLmVuZCgpLmZpbmQoInAsIGRsIikuYWRkQ2xhc3MoInVpLWxpLWRlc2MiKS5lbmQoKS5maW5kKCI+aW1nOmVxKDApLCAudWktbGluay1pbmhlcml0PmltZzplcSgwKSIpLmFkZENsYXNzKCJ1aS1saS10aHVtYiIpLmVhY2goZnVuY3Rpb24oKXtiLmFkZENsYXNzKGEodGhpcykuaXMoIi51aS1saS1pY29uIik/CiJ1aS1saS1oYXMtaWNvbiI6InVpLWxpLWhhcy10aHVtYiIpfSkuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KX0sX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSl7YS5hZGQoYS5maW5kKCIudWktYnRuLWlubmVyLCAudWktbGktbGluay1hbHQsIC51aS1saS10aHVtYiIpKS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCIpfSxyZWZyZXNoOmZ1bmN0aW9uKGMpe3RoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGI9dGhpcy5vcHRpb25zLGQ9dGhpcy5lbGVtZW50LGY9ZC5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8Yi5kaXZpZGVyVGhlbWUsZz1kLmpxbURhdGEoInNwbGl0dGhlbWUiKSxpPWQuanFtRGF0YSgic3BsaXRpY29uIiksaD1kLmNoaWxkcmVuKCJsaSIpLApsPWEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50fHwhYS5ub2RlTmFtZShkWzBdLCJvbCIpPzA6MTtsJiZkLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKTtmb3IodmFyIG09MCxvPWgubGVuZ3RoO208bzttKyspe3ZhciBqPWguZXEobSkscD0idWktbGkiO2lmKGN8fCFqLmhhc0NsYXNzKCJ1aS1saSIpKXt2YXIgaz1qLmpxbURhdGEoInRoZW1lIil8fGIudGhlbWUscT1qLmNoaWxkcmVuKCJhIik7aWYocS5sZW5ndGgpe3ZhciBuPWouanFtRGF0YSgiaWNvbiIpO2ouYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25wb3M6InJpZ2h0IixpY29uOnEubGVuZ3RoPjF8fG49PT0hMT8hMTpufHwiYXJyb3ctciIsdGhlbWU6a30pO3EuZmlyc3QoKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0Iik7cS5sZW5ndGg+MSYmKHArPSIgdWktbGktaGFzLWFsdCIscT1xLmxhc3QoKSxuPWd8fHEuanFtRGF0YSgidGhlbWUiKXx8Yi5zcGxpdFRoZW1lLApxLmFwcGVuZFRvKGopLmF0dHIoInRpdGxlIixxLnRleHQoKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMSxjb3JuZXJzOiExLHRoZW1lOmssaWNvbjohMSxpY29ucG9zOiExfSkuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFwcGVuZChhKCI8c3BhbiAvPiIpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OiEwLGNvcm5lcnM6ITAsdGhlbWU6bixpY29ucG9zOiJub3RleHQiLGljb246aXx8cS5qcW1EYXRhKCJpY29uIil8fGIuc3BsaXRJY29ufSkpKX1lbHNlIGouanFtRGF0YSgicm9sZSIpPT09Imxpc3QtZGl2aWRlciI/KHArPSIgdWktbGktZGl2aWRlciB1aS1idG4gdWktYmFyLSIrZixqLmF0dHIoInJvbGUiLCJoZWFkaW5nIiksbCYmKGw9MSkpOnArPSIgdWktbGktc3RhdGljIHVpLWJvZHktIitrfWIuaW5zZXQmJihtPT09MCYmKHArPSIgdWktY29ybmVyLXRvcCIsai5hZGQoai5maW5kKCIudWktYnRuLWlubmVyIikpLmZpbmQoIi51aS1saS1saW5rLWFsdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdHIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5hZGRDbGFzcygidWktY29ybmVyLXRsIiksCmoubmV4dCgpLm5leHQoKS5sZW5ndGgmJnRoaXMuX3JlbW92ZUNvcm5lcnMoai5uZXh0KCkpKSxtPT09aC5sZW5ndGgtMSYmKHArPSIgdWktY29ybmVyLWJvdHRvbSIsai5hZGQoai5maW5kKCIudWktYnRuLWlubmVyIikpLmZpbmQoIi51aS1saS1saW5rLWFsdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYnIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5hZGRDbGFzcygidWktY29ybmVyLWJsIiksai5wcmV2KCkucHJldigpLmxlbmd0aCYmdGhpcy5fcmVtb3ZlQ29ybmVycyhqLnByZXYoKSkpKTtsJiZwLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKTwwJiYoai5pcygiLnVpLWxpLXN0YXRpYzpmaXJzdCIpP2o6ai5maW5kKCIudWktbGluay1pbmhlcml0IikpLmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIrbCsrICsiLiA8L3NwYW4+Iik7ai5hZGQoai5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpKS5hZGRDbGFzcyhwKTsKY3x8dGhpcy5faXRlbUFwcGx5KGQsail9fSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW15hLXpBLVowLTldL2csIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9Yy5jbG9zZXN0KCIudWktcGFnZSIpLGU9Yi5qcW1EYXRhKCJ1cmwiKSxmPWV8fGJbMF1bYS5leHBhbmRvXSxnPWMuYXR0cigiaWQiKSxpPXRoaXMub3B0aW9ucyxoPSJkYXRhLSIrYS5tb2JpbGUubnMsbD1iLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKTt0eXBlb2YgZFtmXT09PSJ1bmRlZmluZWQiJiYoZFtmXT0tMSk7Zz1nfHwrK2RbZl07YShjLmZpbmQoImxpPnVsLCBsaT5vbCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oYil7dmFyIGQ9YSh0aGlzKSxmPWQuYXR0cigiaWQiKXx8ZysiLSIrYixiPWQucGFyZW50KCkscD1hKGQucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLApwPXAubGVuZ3RoP3A6YSgiPHNwYW4+IithLnRyaW0oYi5jb250ZW50cygpWzBdLm5vZGVWYWx1ZSkrIjwvc3Bhbj4iKSxrPXAuZmlyc3QoKS50ZXh0KCksZj0oZXx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IitmO3RoZW1lPWQuanFtRGF0YSgidGhlbWUiKXx8aS50aGVtZTtjb3VudFRoZW1lPWQuanFtRGF0YSgiY291bnR0aGVtZSIpfHxjLmpxbURhdGEoImNvdW50dGhlbWUiKXx8aS5jb3VudFRoZW1lO25ld1BhZ2U9ZC5kZXRhY2goKS53cmFwKCI8ZGl2ICIraCsicm9sZT0ncGFnZScgIitoKyJ1cmw9JyIrZisiJyAiK2grInRoZW1lPSciK3RoZW1lKyInICIraCsiY291bnQtdGhlbWU9JyIrY291bnRUaGVtZSsiJz48ZGl2ICIraCsicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraCsicm9sZT0naGVhZGVyJyAiK2grInRoZW1lPSciK2kuaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIraysiPC9kaXY+PC9kaXY+IikuYWZ0ZXIobD8KYSgiPGRpdiAiK2grInJvbGU9J2Zvb3RlcicgIitoKyJpZD0nIitsKyInPiIpOiIiKS5wYXJlbnQoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKTtuZXdQYWdlLnBhZ2UoKTtkPWIuZmluZCgiYTpmaXJzdCIpO2QubGVuZ3RofHwoZD1hKCI8YSAvPiIpLmh0bWwocHx8aykucHJlcGVuZFRvKGIuZW1wdHkoKSkpO2QuYXR0cigiaHJlZiIsIiMiK2YpfSkubGlzdHZpZXcoKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ITE7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9IkZpbHRlciBpdGVtcy4uLiI7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWU9ImMiO2EoIjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykiKS5saXZlKCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGM9ZC5kYXRhKCJsaXN0dmlldyIpO2lmKGMub3B0aW9ucy5maWx0ZXIpe3ZhciBiPWEoIjxmb3JtPiIseyJjbGFzcyI6InVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIitjLm9wdGlvbnMuZmlsdGVyVGhlbWUscm9sZToic2VhcmNoIn0pO2EoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpjLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwKIiIpLmJpbmQoImtleXVwIGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgYj10aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCksYz1udWxsLGM9YSh0aGlzKS5qcW1EYXRhKCJsYXN0dmFsIikrIiI7YSh0aGlzKS5qcW1EYXRhKCJsYXN0dmFsIixiKTtjaGFuZ2U9Yi5yZXBsYWNlKFJlZ0V4cCgiXiIrYyksIiIpO2M9Yi5sZW5ndGg8Yy5sZW5ndGh8fGNoYW5nZS5sZW5ndGghPWIubGVuZ3RoLWMubGVuZ3RoP2QuY2hpbGRyZW4oKTpkLmNoaWxkcmVuKCI6bm90KC51aS1zY3JlZW4taGlkZGVuKSIpO2lmKGIpe2Zvcih2YXIgZyxpPSExLGg9IiIsbD1jLmxlbmd0aC0xO2w+PTA7bC0tKWc9YShjW2xdKSxoPWcuanFtRGF0YSgiZmlsdGVydGV4dCIpfHxnLnRleHQoKSxnLmlzKCJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKSIpPyhnLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhaSksaT0hMSk6aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYik9PT0tMT9nLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwKITApOmk9ITA7Yy5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKTtjLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITApLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMSl9ZWxzZSBjLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMSl9KS5hcHBlbmRUbyhiKS50ZXh0aW5wdXQoKTthKHRoaXMpLmpxbURhdGEoImluc2V0IikmJmIuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpO2IuaW5zZXJ0QmVmb3JlKGQpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuZGlhbG9nIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2Nsb3NlQnRuVGV4dDoiQ2xvc2UifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50O2QuYXR0cigicm9sZSIsImRpYWxvZyIpLmFkZENsYXNzKCJ1aS1wYWdlIHVpLWRpYWxvZyB1aS1ib2R5LWEiKS5maW5kKCI6anFtRGF0YShyb2xlPWhlYWRlcikiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCB1aS1vdmVybGF5LXNoYWRvdyIpLnByZXBlbmQoIjxhIGhyZWY9JyMnIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nZGVsZXRlJyBkYXRhLSIrYS5tb2JpbGUubnMrInJlbD0nYmFjaycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zPSdub3RleHQnPiIrdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCsiPC9hPiIpLmVuZCgpLmZpbmQoJy51aS1jb250ZW50Om5vdChbY2xhc3MqPSJ1aS1ib2R5LSJdKScpLmFkZENsYXNzKCJ1aS1ib2R5LWMiKS5lbmQoKS5maW5kKCIudWktY29udGVudCw6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmxhc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSB1aS1vdmVybGF5LXNoYWRvdyIpOwpkLmJpbmQoInZjbGljayBzdWJtaXQiLGZ1bmN0aW9uKGMpe2M9YShjLnRhcmdldCkuY2xvc2VzdChjLnR5cGU9PT0idmNsaWNrIj8iYSI6ImZvcm0iKTtpZihjLmxlbmd0aCYmIWMuanFtRGF0YSgidHJhbnNpdGlvbiIpKXt2YXIgYj1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpfHx7fTtjLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHJhbnNpdGlvbiIsYi50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJkaXJlY3Rpb24iLCJyZXZlcnNlIil9fSkuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuYmFjaygpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj1jLmZpbmQoImEiKSxlPWIuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpkO2MuYWRkQ2xhc3MoInVpLW5hdmJhciIpLmF0dHIoInJvbGUiLCJuYXZpZ2F0aW9uIikuZmluZCgidWwiKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSk7ZXx8Yy5hZGRDbGFzcygidWktbmF2YmFyLW5vaWNvbnMiKTtiLmJ1dHRvbk1hcmt1cCh7Y29ybmVyczohMSxzaGFkb3c6ITEsaWNvbnBvczplfSk7Yy5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oKXtiLm5vdCgiLnVpLXN0YXRlLXBlcnNpc3QiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7YSh0aGlzKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEuZXh0ZW5kKHtncmlkOm51bGx9LGQpLGI9YSh0aGlzKS5jaGlsZHJlbigpLGU9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGM9Yy5ncmlkO2lmKCFjKWlmKGIubGVuZ3RoPD01KWZvcih2YXIgZiBpbiBlKWVbZl09PWIubGVuZ3RoJiYoYz1mKTtlbHNlIGM9ImEiO2U9ZVtjXTthKHRoaXMpLmFkZENsYXNzKCJ1aS1ncmlkLSIrYyk7Yi5maWx0ZXIoIjpudGgtY2hpbGQoIitlKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKTtlPjEmJmIuZmlsdGVyKCI6bnRoLWNoaWxkKCIrZSsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIik7ZT4yJiZiLmZpbHRlcigiOm50aC1jaGlsZCgzbiszKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1jIik7ZT4zJiZiLmZpbHRlcigiOm50aC1jaGlsZCg0bis0KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1kIik7ZT40JiZiLmZpbHRlcigiOm50aC1jaGlsZCg1bis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkLGMpe3ZhciBiPWEoImh0bWwiKTthKCJoZWFkIik7dmFyIGU9YShkKTthKGQuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKTtpZihhLm1vYmlsZS5ncmFkZUEoKSl7aWYoZC5ibGFja2JlcnJ5JiYhZC5XZWJLaXRQb2ludHx8ZC5vcGVyYW1pbmkmJk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkLm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldIilhLm1vYmlsZS5hamF4RW5hYmxlZD0hMTtiLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpO3ZhciBmPWEubW9iaWxlLmxvYWRpbmdNZXNzYWdlP2EoIjxkaXYgY2xhc3M9J3VpLWxvYWRlciB1aS1ib2R5LWEgdWktY29ybmVyLWFsbCc+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nIHNwaW4nPjwvc3Bhbj48aDE+IithLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSsiPC9oMT48L2Rpdj4iKTpjO2EuZXh0ZW5kKGEubW9iaWxlLHtzaG93UGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtpZihhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSl7dmFyIGM9CmEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO2YuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmYShkKS5zY3JvbGxUb3AoKSthKGQpLmhlaWdodCgpLzJ8fGMubGVuZ3RoJiZjLm9mZnNldCgpLnRvcHx8MTAwfSl9Yi5hZGRDbGFzcygidWktbG9hZGluZyIpfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtiLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIil9LHBhZ2VMb2FkaW5nOmZ1bmN0aW9uKGIpe2I/YS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCk6YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGluaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpIik7Yi5hZGQoIjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrCiJ1cmwiLGIuYXR0cigiaWQiKSl9KTthLm1vYmlsZS5maXJzdFBhZ2U9Yi5maXJzdCgpO2EubW9iaWxlLnBhZ2VDb250YWluZXI9Yi5maXJzdCgpLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKTthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKTshYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fCFhLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKT9hLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjoibm9uZSIscmV2ZXJzZTohMCxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSk6ZS50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKX19KTthKGZ1bmN0aW9uKCl7ZC5zY3JvbGxUbygwLDEpO2EubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPSFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhKGQpLnNjcm9sbFRvcCgpPT09MT8wOjE7YShhLm1vYmlsZS5pbml0aWFsaXplUGFnZSk7ZS5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCl9KX19KShqUXVlcnksCnRoaXMpOwo=",
                "body": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIxCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovCihmdW5jdGlvbihhLGQpe2lmKGEuY2xlYW5EYXRhKXt2YXIgYz1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihlKXtmb3IodmFyIGI9MCxkOyhkPWVbYl0pIT1udWxsO2IrKylhKGQpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKTtjKGUpfX1lbHNle3ZhciBiPWEuZm4ucmVtb3ZlO2EuZm4ucmVtb3ZlPWZ1bmN0aW9uKGUsYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2N8fCghZXx8YS5maWx0ZXIoZSxbdGhpc10pLmxlbmd0aCkmJmEoIioiLHRoaXMpLmFkZChbdGhpc10pLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX0pO3JldHVybiBiLmNhbGwoYSh0aGlzKSxlLGMpfSl9fWEud2lkZ2V0PWZ1bmN0aW9uKGUsYixjKXt2YXIgZD1lLnNwbGl0KCIuIilbMF0saCxlPWUuc3BsaXQoIi4iKVsxXTtoPWQrIi0iK2U7aWYoIWMpYz1iLGI9YS5XaWRnZXQ7YS5leHByWyI6Il1baF09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYiwKZSl9O2FbZF09YVtkXXx8e307YVtkXVtlXT1mdW5jdGlvbihhLGUpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGUpfTtiPW5ldyBiO2Iub3B0aW9ucz1hLmV4dGVuZCghMCx7fSxiLm9wdGlvbnMpO2FbZF1bZV0ucHJvdG90eXBlPWEuZXh0ZW5kKCEwLGIse25hbWVzcGFjZTpkLHdpZGdldE5hbWU6ZSx3aWRnZXRFdmVudFByZWZpeDphW2RdW2VdLnByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeHx8ZSx3aWRnZXRCYXNlQ2xhc3M6aH0sYyk7YS53aWRnZXQuYnJpZGdlKGUsYVtkXVtlXSl9O2Eud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihlLGIpe2EuZm5bZV09ZnVuY3Rpb24oYyl7dmFyIGk9dHlwZW9mIGM9PT0ic3RyaW5nIixoPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxsPXRoaXMsYz0haSYmaC5sZW5ndGg/YS5leHRlbmQuYXBwbHkobnVsbCxbITAsY10uY29uY2F0KGgpKTpjO2lmKGkmJmMuY2hhckF0KDApPT09Il8iKXJldHVybiBsOwppP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGUpO2lmKCFiKXRocm93ImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitlKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitjKyInIjtpZighYS5pc0Z1bmN0aW9uKGJbY10pKXRocm93Im5vIHN1Y2ggbWV0aG9kICciK2MrIicgZm9yICIrZSsiIHdpZGdldCBpbnN0YW5jZSI7dmFyIGY9YltjXS5hcHBseShiLGgpO2lmKGYhPT1iJiZmIT09ZClyZXR1cm4gbD1mLCExfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YS5kYXRhKHRoaXMsZSk7ZD9kLm9wdGlvbihjfHx7fSkuX2luaXQoKTphLmRhdGEodGhpcyxlLG5ldyBiKGMsdGhpcykpfSk7cmV0dXJuIGx9fTthLldpZGdldD1mdW5jdGlvbihhLGIpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfTthLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsCm9wdGlvbnM6e2Rpc2FibGVkOiExfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsYyl7YS5kYXRhKGMsdGhpcy53aWRnZXROYW1lLHRoaXMpO3RoaXMuZWxlbWVudD1hKGMpO3RoaXMub3B0aW9ucz1hLmV4dGVuZCghMCx7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpO3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmJpbmQoInJlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2QuZGVzdHJveSgpfSk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcigiY3JlYXRlIik7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBiPXt9O2EubWV0YWRhdGEmJihiPWEubWV0YWRhdGEuZ2V0KGVsZW1lbnQpW3RoaXMud2lkZ2V0TmFtZV0pO3JldHVybiBifSxfY3JlYXRlOmZ1bmN0aW9uKCl7fSxfaW5pdDpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpOwp0aGlzLndpZGdldCgpLnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYixjKXt2YXIgZz1iO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKHR5cGVvZiBiPT09InN0cmluZyIpe2lmKGM9PT1kKXJldHVybiB0aGlzLm9wdGlvbnNbYl07Zz17fTtnW2JdPWN9dGhpcy5fc2V0T3B0aW9ucyhnKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpczthLmVhY2goYixmdW5jdGlvbihhLGIpe2MuX3NldE9wdGlvbihhLGIpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLm9wdGlvbnNbYV09YjthPT09ImRpc2FibGVkIiYmCnRoaXMud2lkZ2V0KClbYj8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixiKTtyZXR1cm4gdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkKXt2YXIgaT10aGlzLm9wdGlvbnNbYl0sYz1hLkV2ZW50KGMpO2MudHlwZT0oYj09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yjp0aGlzLndpZGdldEV2ZW50UHJlZml4K2IpLnRvTG93ZXJDYXNlKCk7ZD1kfHx7fTtpZihjLm9yaWdpbmFsRXZlbnQpZm9yKHZhciBiPWEuZXZlbnQucHJvcHMubGVuZ3RoLGg7YjspaD1hLmV2ZW50LnByb3BzWy0tYl0sY1toXT1jLm9yaWdpbmFsRXZlbnRbaF07dGhpcy5lbGVtZW50LnRyaWdnZXIoYywKZCk7cmV0dXJuIShhLmlzRnVuY3Rpb24oaSkmJmkuY2FsbCh0aGlzLmVsZW1lbnRbMF0sYyxkKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19fSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9e307YS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhKXt2YXIgZj1jLmpxbURhdGEoYS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KSk7ZiE9PWQmJihiW2FdPWYpfSk7cmV0dXJuIGJ9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZCgpe3ZhciBkPWMud2lkdGgoKSxnPVtdLGk9W10saDtiLnJlbW92ZUNsYXNzKCJtaW4td2lkdGgtIitlLmpvaW4oInB4IG1pbi13aWR0aC0iKSsicHggbWF4LXdpZHRoLSIrZS5qb2luKCJweCBtYXgtd2lkdGgtIikrInB4Iik7YS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtkPj1iJiZnLnB1c2goIm1pbi13aWR0aC0iK2IrInB4Iik7ZDw9YiYmaS5wdXNoKCJtYXgtd2lkdGgtIitiKyJweCIpfSk7Zy5sZW5ndGgmJihoPWcuam9pbigiICIpKTtpLmxlbmd0aCYmKGgrPSIgIitpLmpvaW4oIiAiKSk7Yi5hZGRDbGFzcyhoKX12YXIgYz1hKHdpbmRvdyksYj1hKCJodG1sIiksZT1bMzIwLDQ4MCw3NjgsMTAyNF07YS5tb2JpbGUubWVkaWE9ZnVuY3Rpb24oKXt2YXIgYz17fSxlPWEoIjxkaXYgaWQ9J2pxdWVyeS1tZWRpYXRlc3QnPiIpLGQ9YSgiPGJvZHk+IikuYXBwZW5kKGUpO3JldHVybiBmdW5jdGlvbihhKXtpZighKGEgaW4gYykpe3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksCm09IkBtZWRpYSAiK2ErIiB7ICNqcXVlcnktbWVkaWF0ZXN0IHsgcG9zaXRpb246YWJzb2x1dGU7IH0gfSI7bC50eXBlPSJ0ZXh0L2NzcyI7bC5zdHlsZVNoZWV0P2wuc3R5bGVTaGVldC5jc3NUZXh0PW06bC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtKSk7Yi5wcmVwZW5kKGQpLnByZXBlbmQobCk7Y1thXT1lLmNzcygicG9zaXRpb24iKT09PSJhYnNvbHV0ZSI7ZC5hZGQobCkucmVtb3ZlKCl9cmV0dXJuIGNbYV19fSgpO2EubW9iaWxlLmFkZFJlc29sdXRpb25CcmVha3BvaW50cz1mdW5jdGlvbihiKXthLnR5cGUoYik9PT0iYXJyYXkiP2U9ZS5jb25jYXQoYik6ZS5wdXNoKGIpO2Uuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KTtkKCl9O2EoZG9jdW1lbnQpLmJpbmQoIm1vYmlsZWluaXQuaHRtbGNsYXNzIixmdW5jdGlvbigpe2MuYmluZCgib3JpZW50YXRpb25jaGFuZ2UuaHRtbGNsYXNzIHRocm90dGxlZFJlc2l6ZS5odG1sY2xhc3MiLGZ1bmN0aW9uKGEpe2Eub3JpZW50YXRpb24mJgpiLnJlbW92ZUNsYXNzKCJwb3J0cmFpdCBsYW5kc2NhcGUiKS5hZGRDbGFzcyhhLm9yaWVudGF0aW9uKTtkKCl9KX0pO2EoZnVuY3Rpb24oKXtjLnRyaWdnZXIoIm9yaWVudGF0aW9uY2hhbmdlLmh0bWxjbGFzcyIpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksYT0oYSsiICIrZi5qb2luKGIrIiAiKStiKS5zcGxpdCgiICIpLGM7Zm9yKGMgaW4gYSlpZihlW2NdIT09ZClyZXR1cm4hMH12YXIgYj1hKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSxlPWJbMF0uc3R5bGUsZj1bIndlYmtpdCIsIm1veiIsIm8iXSxnPSJwYWxtR2V0UmVzb3VyY2UiaW4gd2luZG93LGk9d2luZG93LmJsYWNrYmVycnk7YS5tb2JpbGUuYnJvd3Nlcj17fTthLm1vYmlsZS5icm93c2VyLmllPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTMsYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPWIuYWxsfHxbXTtiLmlubmVySFRNTD0iPFwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLVw+IixjWzBdOyk7cmV0dXJuIGE+ND9hOiFhfSgpO2EuZXh0ZW5kKGEuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluCndpbmRvdyx0b3VjaDoib250b3VjaGVuZCJpbiBkb2N1bWVudCxjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIHdpbmRvdyxwdXNoU3RhdGU6ISFoaXN0b3J5LnB1c2hTdGF0ZSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFjKCJjb250ZW50IiksYm94U2hhZG93OiEhYygiYm94U2hhZG93IikmJiFpLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIHdpbmRvd3x8InNjcm9sbFRvcCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gYlswXSkmJiFnLGR5bmFtaWNCYXNlVGFnOmZ1bmN0aW9uKCl7dmFyIGM9bG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lKyJ1aS1kaXIvIixlPWEoImhlYWQgYmFzZSIpLGQ9bnVsbCxmPSIiO2UubGVuZ3RoP2Y9ZS5hdHRyKCJocmVmIik6ZT1kPWEoIjxiYXNlPiIse2hyZWY6Y30pLmFwcGVuZFRvKCJoZWFkIik7CnZhciBnPWEoIjxhIGhyZWY9J3Rlc3R1cmwnPjwvYT4iKS5wcmVwZW5kVG8oYilbMF0uaHJlZjtlWzBdLmhyZWY9Zj9mOmxvY2F0aW9uLnBhdGhuYW1lO2QmJmQucmVtb3ZlKCk7cmV0dXJuIGcuaW5kZXhPZihjKT09PTB9KCksZXZlbnRDYXB0dXJlOiJhZGRFdmVudExpc3RlbmVyImluIGRvY3VtZW50fSk7Yi5yZW1vdmUoKTthLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW1vYmlsZS1ub3N1cHBvcnQtYm94c2hhZG93Iil9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkLGMsYil7ZnVuY3Rpb24gZShhKXtmb3IoO2EmJnR5cGVvZiBhLm9yaWdpbmFsRXZlbnQhPT0idW5kZWZpbmVkIjspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gZihiKXtmb3IodmFyIGM9e307Yjspe3ZhciBlPWEuZGF0YShiLG4pLGQ7Zm9yKGQgaW4gZSlpZihlW2RdKWNbZF09Yy5oYXNWaXJ0dWFsQmluZGluZz0hMDtiPWIucGFyZW50Tm9kZX1yZXR1cm4gY31mdW5jdGlvbiBnKCl7diYmKGNsZWFyVGltZW91dCh2KSx2PTApO3Y9c2V0VGltZW91dChmdW5jdGlvbigpe0E9dj0wO0IubGVuZ3RoPTA7dz0hMTtyPSEwfSxhLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIGkoYyxkLHIpe3ZhciBmPSExLGc7aWYoIShnPXImJnJbY10pKXtpZihyPSFyKWE6e2ZvcihyPWQudGFyZ2V0O3I7KXtpZigoZz1hLmRhdGEocixuKSkmJighY3x8Z1tjXSkpYnJlYWsgYTtyPXIucGFyZW50Tm9kZX1yPW51bGx9Zz1yfWlmKGcpe2Y9ZDtyPWYudHlwZTsKZj1hLkV2ZW50KGYpO2YudHlwZT1jO3ZhciBoPWYub3JpZ2luYWxFdmVudCxqPWEuZXZlbnQucHJvcHM7aWYoaClmb3IoYz1qLmxlbmd0aDtjOylnPWpbLS1jXSxmW2ddPWhbZ107aWYoci5zZWFyY2goL150b3VjaC8pIT09LTEmJihjPWUoaCkscj1jLnRvdWNoZXMsYz1jLmNoYW5nZWRUb3VjaGVzLHI9ciYmci5sZW5ndGg/clswXTpjJiZjLmxlbmd0aD9jWzBdOmIpKXtjPTA7Zm9yKGg9eS5sZW5ndGg7YzxoO2MrKylnPXlbY10sZltnXT1yW2ddfWEoZC50YXJnZXQpLnRyaWdnZXIoZik7Zj1mLmlzRGVmYXVsdFByZXZlbnRlZCgpfXJldHVybiBmfWZ1bmN0aW9uIGgoYil7dmFyIGM9YS5kYXRhKGIudGFyZ2V0LHopOyF3JiYoIUF8fEEhPT1jKSYmaSgidiIrYi50eXBlLGIpfWZ1bmN0aW9uIGwoYil7dmFyIGM9ZShiKS50b3VjaGVzO2lmKGMmJmMubGVuZ3RoPT09MSl7dmFyIGQ9Yi50YXJnZXQsYz1mKGQpO2lmKGMuaGFzVmlydHVhbEJpbmRpbmcpQT1GKyssYS5kYXRhKGQseixBKSx2JiYKKGNsZWFyVGltZW91dCh2KSx2PTApLHM9cj0hMSxkPWUoYikudG91Y2hlc1swXSx4PWQucGFnZVgsdT1kLnBhZ2VZLGkoInZtb3VzZW92ZXIiLGIsYyksaSgidm1vdXNlZG93biIsYixjKX19ZnVuY3Rpb24gbShhKXtyfHwoc3x8aSgidm1vdXNlY2FuY2VsIixhLGYoYS50YXJnZXQpKSxzPSEwLGcoKSl9ZnVuY3Rpb24gbyhiKXtpZighcil7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9cyxoPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZDtzPXN8fE1hdGguYWJzKGMucGFnZVgteCk+aHx8TWF0aC5hYnMoYy5wYWdlWS11KT5oO2M9ZihiLnRhcmdldCk7cyYmIWQmJmkoInZtb3VzZWNhbmNlbCIsYixjKTtpKCJ2bW91c2Vtb3ZlIixiLGMpO2coKX19ZnVuY3Rpb24gaihhKXtpZighcil7cj0hMDt2YXIgYj1mKGEudGFyZ2V0KTtpKCJ2bW91c2V1cCIsYSxiKTtpZighcyYmaSgidmNsaWNrIixhLGIpKXt2YXIgYz1lKGEpLmNoYW5nZWRUb3VjaGVzWzBdO0IucHVzaCh7dG91Y2hJRDpBLAp4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pO3c9ITB9aSgidm1vdXNlb3V0IixhLGIpO3M9ITE7ZygpfX1mdW5jdGlvbiBwKGIpe3ZhciBiPWEuZGF0YShiLG4pLGM7aWYoYilmb3IoYyBpbiBiKWlmKGJbY10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gaygpe31mdW5jdGlvbiBxKGIpe3ZhciBjPWIuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe3AodGhpcyl8fGEuZGF0YSh0aGlzLG4se30pO2EuZGF0YSh0aGlzLG4pW2JdPSEwO3RbYl09KHRbYl18fDApKzE7dFtiXT09PTEmJkMuYmluZChjLGgpO2EodGhpcykuYmluZChjLGspO2lmKEUpdC50b3VjaHN0YXJ0PSh0LnRvdWNoc3RhcnR8fDApKzEsdC50b3VjaHN0YXJ0PT09MSYmQy5iaW5kKCJ0b3VjaHN0YXJ0IixsKS5iaW5kKCJ0b3VjaGVuZCIsaikuYmluZCgidG91Y2htb3ZlIixvKS5iaW5kKCJzY3JvbGwiLG0pfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tdFtiXTt0W2JdfHxDLnVuYmluZChjLGgpO0UmJigtLXQudG91Y2hzdGFydCwKdC50b3VjaHN0YXJ0fHxDLnVuYmluZCgidG91Y2hzdGFydCIsbCkudW5iaW5kKCJ0b3VjaG1vdmUiLG8pLnVuYmluZCgidG91Y2hlbmQiLGopLnVuYmluZCgic2Nyb2xsIixtKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLG4pO2UmJihlW2JdPSExKTtkLnVuYmluZChjLGspO3AodGhpcyl8fGQucmVtb3ZlRGF0YShuKX19fXZhciBuPSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsej0idmlydHVhbFRvdWNoSUQiLGQ9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLHk9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksdD17fSx2PTAseD0wLHU9MCxzPSExLEI9W10sdz0hMSxyPSExLEU9YS5zdXBwb3J0LmV2ZW50Q2FwdHVyZSxDPWEoYyksRj0xLEE9MDthLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAsCnJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIEQ9MDtEPGQubGVuZ3RoO0QrKylhLmV2ZW50LnNwZWNpYWxbZFtEXV09cShkW0RdKTtFJiZjLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz1CLmxlbmd0aCxkPWIudGFyZ2V0O2lmKGMpZm9yKHZhciBlPWIuY2xpZW50WCxyPWIuY2xpZW50WSxmPWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQsZz1kO2c7KXtmb3IodmFyIGg9MDtoPGM7aCsrKXt2YXIgaj1CW2hdO2lmKGc9PT1kJiZNYXRoLmFicyhqLngtZSk8ZiYmTWF0aC5hYnMoai55LXIpPGZ8fGEuZGF0YShnLHopPT09ai50b3VjaElEKXtiLnByZXZlbnREZWZhdWx0KCk7Yi5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm59fWc9Zy5wYXJlbnROb2RlfX0sITApfSkoalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7CihmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGMoYixjLGQpe3ZhciBlPWQudHlwZTtkLnR5cGU9YzthLmV2ZW50LmhhbmRsZS5jYWxsKGIsZCk7ZC50eXBlPWV9YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCBvcmllbnRhdGlvbmNoYW5nZSB0aHJvdHRsZWRyZXNpemUgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbihiLGMpe2EuZm5bY109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGMsYSk6dGhpcy50cmlnZ2VyKGMpfTthLmF0dHJGbltjXT0hMH0pO3ZhciBiPWEuc3VwcG9ydC50b3VjaCxlPWI/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGY9Yj8idG91Y2hlbmQiOiJtb3VzZXVwIixnPWI/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLApmKXtlPWY7YyhkLGU/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsYSl9dmFyIGQ9dGhpcyxlLGY7YShkKS5iaW5kKCJ0b3VjaG1vdmUgc2Nyb2xsIixmdW5jdGlvbihjKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGV8fGIoYywhMCksY2xlYXJUaW1lb3V0KGYpLGY9c2V0VGltZW91dChmdW5jdGlvbigpe2IoYywhMSl9LDUwKSl9KX19O2EuZXZlbnQuc3BlY2lhbC50YXA9e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPWEoYik7ZC5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihhKXtmdW5jdGlvbiBlKCl7Zz0hMTtjbGVhclRpbWVvdXQoayk7ZC51bmJpbmQoInZjbGljayIsZikudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGUpfWZ1bmN0aW9uIGYoYSl7ZSgpO3A9PWEudGFyZ2V0JiZjKGIsInRhcCIsYSl9aWYoYS53aGljaCYmYS53aGljaCE9PTEpcmV0dXJuITE7dmFyIGc9ITAscD1hLnRhcmdldCxrO2QuYmluZCgidm1vdXNlY2FuY2VsIixlKS5iaW5kKCJ2Y2xpY2siLApmKTtrPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtnJiZjKGIsInRhcGhvbGQiLGEpfSw3NTApfSl9fTthLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmJpbmQoZSxmdW5jdGlvbihjKXtmdW5jdGlvbiBlKGEpe2lmKG8pe3ZhciBiPWEub3JpZ2luYWxFdmVudC50b3VjaGVzP2Eub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmE7aj17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2IucGFnZVgsYi5wYWdlWV19O01hdGguYWJzKG8uY29vcmRzWzBdLWouY29vcmRzWzBdKT4xMCYmYS5wcmV2ZW50RGVmYXVsdCgpfX12YXIgbT1jLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9jLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpjLG89e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOlttLnBhZ2VYLG0ucGFnZVldLG9yaWdpbjphKGMudGFyZ2V0KX0sajtiLmJpbmQoZyxlKS5vbmUoZixmdW5jdGlvbigpe2IudW5iaW5kKGcsZSk7Cm8mJmomJmoudGltZS1vLnRpbWU8MUUzJiZNYXRoLmFicyhvLmNvb3Jkc1swXS1qLmNvb3Jkc1swXSk+MzAmJk1hdGguYWJzKG8uY29vcmRzWzFdLWouY29vcmRzWzFdKTw3NSYmby5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKG8uY29vcmRzWzBdPmouY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iik7bz1qPWR9KX0pfX07KGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt2YXIgYT1kKCk7YSE9PWUmJihlPWEsYy50cmlnZ2VyKCJvcmllbnRhdGlvbmNoYW5nZSIpKX12YXIgYz1hKHdpbmRvdyksZCxlO2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihhLnN1cHBvcnQub3JpZW50YXRpb24pcmV0dXJuITE7ZT1kKCk7Yy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGIpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbilyZXR1cm4hMTtjLnVuYmluZCgidGhyb3R0bGVkcmVzaXplIixiKX0sCmFkZDpmdW5jdGlvbihhKXt2YXIgYj1hLmhhbmRsZXI7YS5oYW5kbGVyPWZ1bmN0aW9uKGEpe2Eub3JpZW50YXRpb249ZCgpO3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fTthLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb249ZD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYSYmYS5jbGllbnRXaWR0aC9hLmNsaWVudEhlaWdodDwxLjE/InBvcnRyYWl0IjoibGFuZHNjYXBlIn19KShqUXVlcnkpOyhmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC50aHJvdHRsZWRyZXNpemU9e3NldHVwOmZ1bmN0aW9uKCl7YSh0aGlzKS5iaW5kKCJyZXNpemUiLGIpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKCJyZXNpemUiLGIpfX07dmFyIGI9ZnVuY3Rpb24oKXtlPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2Y9ZS1jO2Y+PTI1MD8oYz1lLGEodGhpcykudHJpZ2dlcigidGhyb3R0bGVkcmVzaXplIikpOgooZCYmY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChiLDI1MC1mKSl9LGM9MCxkLGUsZn0pKCk7YS5lYWNoKHtzY3JvbGxzdG9wOiJzY3JvbGxzdGFydCIsdGFwaG9sZDoidGFwIixzd2lwZWxlZnQ6InN3aXBlIixzd2lwZXJpZ2h0OiJzd2lwZSJ9LGZ1bmN0aW9uKGIsYyl7YS5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChjLGEubm9vcCl9fX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCxjKXtmdW5jdGlvbiBiKGEpe2E9YXx8bG9jYXRpb24uaHJlZjtyZXR1cm4iIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZT0iaGFzaGNoYW5nZSIsZj1kb2N1bWVudCxnLGk9YS5ldmVudC5zcGVjaWFsLGg9Zi5kb2N1bWVudE1vZGUsbD0ib24iK2UgaW4gZCYmKGg9PT1jfHxoPjcpO2EuZm5bZV09ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGUsYSk6dGhpcy50cmlnZ2VyKGUpfTthLmZuW2VdLmRlbGF5PTUwO2lbZV09YS5leHRlbmQoaVtlXSx7c2V0dXA6ZnVuY3Rpb24oKXtpZihsKXJldHVybiExO2EoZy5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYobClyZXR1cm4hMTthKGcuc3RvcCl9fSk7Zz1mdW5jdGlvbigpe2Z1bmN0aW9uIGcoKXt2YXIgYz1iKCksZj1uKGkpO2lmKGMhPT1pKXEoaT1jLGYpLGEoZCkudHJpZ2dlcihlKTtlbHNlIGlmKGYhPT1pKWxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLAoiIikrZjtqPXNldFRpbWVvdXQoZyxhLmZuW2VdLmRlbGF5KX12YXIgaD17fSxqLGk9YigpLGs9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHE9ayxuPWs7aC5zdGFydD1mdW5jdGlvbigpe2p8fGcoKX07aC5zdG9wPWZ1bmN0aW9uKCl7aiYmY2xlYXJUaW1lb3V0KGopO2o9Y307YS5icm93c2VyLm1zaWUmJiFsJiZmdW5jdGlvbigpe3ZhciBjLGQ7aC5zdGFydD1mdW5jdGlvbigpe2lmKCFjKWQ9KGQ9YS5mbltlXS5zcmMpJiZkK2IoKSxjPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fHEoYigpKTtnKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csZi5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2lmKGV2ZW50LnByb3BlcnR5TmFtZT09PSJ0aXRsZSIpYy5kb2N1bWVudC50aXRsZT1mLnRpdGxlfWNhdGNoKGEpe319fTsKaC5zdG9wPWs7bj1mdW5jdGlvbigpe3JldHVybiBiKGMubG9jYXRpb24uaHJlZil9O3E9ZnVuY3Rpb24oYixkKXt2YXIgZz1jLmRvY3VtZW50LGg9YS5mbltlXS5kb21haW47aWYoYiE9PWQpZy50aXRsZT1mLnRpdGxlLGcub3BlbigpLGgmJmcud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK2grJyI8XC9zY3JpcHQ+JyksZy5jbG9zZSgpLGMubG9jYXRpb24uaGFzaD1ifX0oKTtyZXR1cm4gaH0oKX0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntiYWNrQnRuVGV4dDoiQmFjayIsYWRkQmFja0J0bjohMSxiYWNrQnRuVGhlbWU6bnVsbCxkZWdyYWRlSW5wdXRzOntjb2xvcjohMSxkYXRlOiExLGRhdGV0aW1lOiExLCJkYXRldGltZS1sb2NhbCI6ITEsZW1haWw6ITEsbW9udGg6ITEsbnVtYmVyOiExLHJhbmdlOiJudW1iZXIiLHNlYXJjaDohMCx0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX0sa2VlcE5hdGl2ZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO3RoaXMua2VlcE5hdGl2ZT0iOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKyhjLmtlZXBOYXRpdmU/IiwgIitjLmtlZXBOYXRpdmU6IiIpO3RoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpIT09ITEmJihkLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIikuYW5kU2VsZigpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmFkZENsYXNzKCJ1aS0iKwphKHRoaXMpLmpxbURhdGEoInJvbGUiKSl9KSxkLmZpbmQoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1ub2pzIiksZC5maW5kKCI6anFtRGF0YShyb2xlKSIpLmFuZFNlbGYoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxlPWIuanFtRGF0YSgicm9sZSIpLGY9Yi5qcW1EYXRhKCJ0aGVtZSIpO2lmKGU9PT0iaGVhZGVyInx8ZT09PSJmb290ZXIiKXtiLmFkZENsYXNzKCJ1aS1iYXItIisoZnx8Yi5wYXJlbnQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLmpxbURhdGEoInRoZW1lIil8fCJhIikpO2IuYXR0cigicm9sZSIsZT09PSJoZWFkZXIiPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpO3ZhciBmPWIuY2hpbGRyZW4oImEiKSxnPWYuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0IiksaT1mLmhhc0NsYXNzKCJ1aS1idG4tcmlnaHQiKTtpZighZylnPWYuZXEoMCkubm90KCIudWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi1sZWZ0IikubGVuZ3RoO2l8fGYuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpOwpjLmFkZEJhY2tCdG4mJmU9PT0iaGVhZGVyIiYmYSgiLnVpLXBhZ2UiKS5sZW5ndGg+MSYmZC5qcW1EYXRhKCJ1cmwiKSE9PWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpJiYhZyYmYi5qcW1EYXRhKCJiYWNrYnRuIikhPT0hMSYmKGY9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi1sZWZ0JyBkYXRhLSIrYS5tb2JpbGUubnMrInJlbD0nYmFjaycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdhcnJvdy1sJz4iK2MuYmFja0J0blRleHQrIjwvYT4iKS5wcmVwZW5kVG8oYiksYy5iYWNrQnRuVGhlbWUmJmYuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsYy5iYWNrQnRuVGhlbWUpKTtiLmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7dGFiaW5kZXg6IjAiLHJvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlIGU9PT0iY29udGVudCI/KGYmJmIuYWRkQ2xhc3MoInVpLWJvZHktIisKZiksYi5hdHRyKCJyb2xlIiwibWFpbiIpKTplPT09InBhZ2UiJiZiLmFkZENsYXNzKCJ1aS1ib2R5LSIrKGZ8fCJjIikpO3N3aXRjaChlKXtjYXNlICJoZWFkZXIiOmNhc2UgImZvb3RlciI6Y2FzZSAicGFnZSI6Y2FzZSAiY29udGVudCI6Yi5hZGRDbGFzcygidWktIitlKTticmVhaztjYXNlICJjb2xsYXBzaWJsZSI6Y2FzZSAiZmllbGRjb250YWluIjpjYXNlICJuYXZiYXIiOmNhc2UgImxpc3R2aWV3IjpjYXNlICJkaWFsb2ciOmJbZV0oKX19KSx0aGlzLl9lbmhhbmNlQ29udHJvbHMoKSxkLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWhlYWRlciA+IGEsIC51aS1mb290ZXIgPiBhIikubm90KCIudWktYnRuIikubm90KHRoaXMua2VlcE5hdGl2ZSkuYnV0dG9uTWFya3VwKCksZC5maW5kKCI6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSIpLmNvbnRyb2xncm91cCgpLGQuZmluZCgiYTpub3QoLnVpLWJ0bik6bm90KC51aS1saW5rLWluaGVyaXQpIikubm90KHRoaXMua2VlcE5hdGl2ZSkuYWRkQ2xhc3MoInVpLWxpbmsiKSwKZC5maXhIZWFkZXJGb290ZXIoKSl9LF90eXBlQXR0cmlidXRlUmVnZXg6L1xzK3R5cGU9WyInXT9cdytbJyJdPy8sX2VuaGFuY2VDb250cm9sczpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3B0aW9ucyxjPXRoaXM7dGhpcy5lbGVtZW50LmZpbmQoImlucHV0Iikubm90KHRoaXMua2VlcE5hdGl2ZSkuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0QXR0cmlidXRlKCJ0eXBlIiksZT1kLmRlZ3JhZGVJbnB1dHNbYl18fCJ0ZXh0IjtkLmRlZ3JhZGVJbnB1dHNbYl0mJmEodGhpcykucmVwbGFjZVdpdGgoYSgiPGRpdj4iKS5odG1sKGEodGhpcykuY2xvbmUoKSkuaHRtbCgpLnJlcGxhY2UoYy5fdHlwZUF0dHJpYnV0ZVJlZ2V4LCcgdHlwZT0iJytlKyciIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT0iJytiKyciICcpKX0pO3ZhciBiPXRoaXMuZWxlbWVudC5maW5kKCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgYnV0dG9uIiksZT1iLm5vdCh0aGlzLmtlZXBOYXRpdmUpLGI9Yi5maWx0ZXIoImlucHV0W3R5cGU9dGV4dF0iKTsKYi5sZW5ndGgmJnR5cGVvZiBiWzBdLmF1dG9jb3JyZWN0IT09InVuZGVmaW5lZCImJmIuZWFjaChmdW5jdGlvbigpe3RoaXMuc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpO3RoaXMuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKX0pO2UuZmlsdGVyKCJbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J10iKS5jaGVja2JveHJhZGlvKCk7ZS5maWx0ZXIoImJ1dHRvbiwgW3R5cGU9J2J1dHRvbiddLCBbdHlwZT0nc3VibWl0J10sIFt0eXBlPSdyZXNldCddLCBbdHlwZT0naW1hZ2UnXSIpLmJ1dHRvbigpO2UuZmlsdGVyKCJpbnB1dCwgdGV4dGFyZWEiKS5ub3QoIlt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSwgW3R5cGU9J2J1dHRvbiddLCBbdHlwZT0nc3VibWl0J10sIFt0eXBlPSdyZXNldCddLCBbdHlwZT0naW1hZ2UnXSwgW3R5cGU9J2hpZGRlbiddIikudGV4dGlucHV0KCk7ZS5maWx0ZXIoImlucHV0LCBzZWxlY3QiKS5maWx0ZXIoIjpqcW1EYXRhKHJvbGU9J3NsaWRlcicpLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpIikuc2xpZGVyKCk7CmUuZmlsdGVyKCJzZWxlY3Q6bm90KDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKSIpLnNlbGVjdG1lbnUoKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2EuZXh0ZW5kKGEubW9iaWxlLHtuczoiIixzdWJQYWdlVXJsS2V5OiJ1aS1wYWdlIixub25IaXN0b3J5U2VsZWN0b3JzOiJkaWFsb2ciLGFjdGl2ZVBhZ2VDbGFzczoidWktcGFnZS1hY3RpdmUiLGFjdGl2ZUJ0bkNsYXNzOiJ1aS1idG4tYWN0aXZlIixhamF4RW5hYmxlZDohMCx1c2VGYXN0Q2xpY2s6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJzbGlkZSIsbWluU2Nyb2xsQmFjazpzY3JlZW4uaGVpZ2h0LzIsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIsbG9hZGluZ01lc3NhZ2U6ImxvYWRpbmciLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLGdyYWRlQTpmdW5jdGlvbigpe3JldHVybiBhLnN1cHBvcnQubWVkaWFxdWVyeXx8YS5tb2JpbGUuYnJvd3Nlci5pZSYmYS5tb2JpbGUuYnJvd3Nlci5pZT49N30sa2V5Q29kZTp7QUxUOjE4LEJBQ0tTUEFDRTo4LENBUFNfTE9DSzoyMCwKQ09NTUE6MTg4LENPTU1BTkQ6OTEsQ09NTUFORF9MRUZUOjkxLENPTU1BTkRfUklHSFQ6OTMsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsSU5TRVJUOjQ1LExFRlQ6MzcsTUVOVTo5MyxOVU1QQURfQUREOjEwNyxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfTVVMVElQTFk6MTA2LE5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTSElGVDoxNixTUEFDRTozMixUQUI6OSxVUDozOCxXSU5ET1dTOjkxfSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpIT09Im51bWJlciIpYj1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zY3JvbGxUbygwLGIpO2EoZG9jdW1lbnQpLnRyaWdnZXIoInNpbGVudHNjcm9sbCIsCnt4OjAseTpifSl9LDIwKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LG5vcm1hbGl6ZVJlZ2V4Oi8tKFthLXpdKS9nLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe2lmKGIpcmV0dXJuIGEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2IpfX0pO2EuZm4uanFtRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLmRhdGEoYj9hLm1vYmlsZS5uc05vcm1hbGl6ZShiKTpiLGMpfTthLmpxbURhdGE9ZnVuY3Rpb24oYixjLGQpe3JldHVybiBhLmRhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSxkKX07YS5mbi5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJlbW92ZURhdGEoYS5tb2JpbGUubnNOb3JtYWxpemUoYikpfTthLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5yZW1vdmVEYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYykpfTthLmpxbUhhc0RhdGE9ZnVuY3Rpb24oYiwKYyl7cmV0dXJuIGEuaGFzRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX07dmFyIGM9YS5maW5kO2EuZmluZD1mdW5jdGlvbihiLGQsZixnKXtiPWIucmVwbGFjZSgvOmpxbURhdGFcKChbXildKilcKS9nLCJbZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyIkMV0iKTtyZXR1cm4gYy5jYWxsKHRoaXMsYixkLGYsZyl9O2EuZXh0ZW5kKGEuZmluZCxjKTthLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYixudWxsLG51bGwsYyl9O2EuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGMsbnVsbCxudWxsLFtiXSkubGVuZ3RoPjB9fSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWEuanFtRGF0YSgibGFzdENsaWNrZWQiKTtiJiZiLmxlbmd0aD9iLmZvY3VzKCk6KGI9YS5maW5kKCIudWktdGl0bGU6ZXEoMCkiKSxiLmxlbmd0aD9iLmZvY3VzKCk6YS5maW5kKHopLmVxKDApLmZvY3VzKCkpfWZ1bmN0aW9uIGIoYil7cSYmKCFxLmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLmxlbmd0aHx8YikmJnEucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3E9bnVsbH1mdW5jdGlvbiBlKCl7dD0hMTt5Lmxlbmd0aD4wJiZhLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KG51bGwseS5wb3AoKSl9ZnVuY3Rpb24gZihiLGQsZSxmKXt2YXIgaD1hLnN1cHBvcnQuc2Nyb2xsVG9wP28uc2Nyb2xsVG9wKCk6ITAsaj1iLmRhdGEoImxhc3RTY3JvbGwiKXx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsaT1nKCk7aCYmd2luZG93LnNjcm9sbFRvKDAsYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpO2o8CmEubW9iaWxlLm1pblNjcm9sbEJhY2smJihqPTApO2QmJihkLmhlaWdodChpK2gpLmpxbURhdGEoImxhc3RTY3JvbGwiLGgpLmpxbURhdGEoImxhc3RDbGlja2VkIixxKSxkLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiYmVmb3JlaGlkZSIsbnVsbCx7bmV4dFBhZ2U6Yn0pKTtiLmhlaWdodChpK2opLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiYmVmb3Jlc2hvdyIsbnVsbCx7cHJldlBhZ2U6ZHx8YSgiIil9KTthLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKTtlPShhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbZXx8Im5vbmUiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyKShlLGYsYixkKTtlLmRvbmUoZnVuY3Rpb24oKXtiLmhlaWdodCgiIik7aj8oYS5tb2JpbGUuc2lsZW50U2Nyb2xsKGopLGEoZG9jdW1lbnQpLm9uZSgic2lsZW50c2Nyb2xsIixmdW5jdGlvbigpe2MoYil9KSk6YyhiKTtkJiZkLmhlaWdodCgiIikuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJoaWRlIiwKbnVsbCx7bmV4dFBhZ2U6Yn0pO2IuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJzaG93IixudWxsLHtwcmV2UGFnZTpkfHxhKCIiKX0pfSk7cmV0dXJuIGV9ZnVuY3Rpb24gZygpe3ZhciBiPWpRdWVyeS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uKCk9PT0icG9ydHJhaXQiLGM9Yj9zY3JlZW4uYXZhaWxIZWlnaHQ6c2NyZWVuLmF2YWlsV2lkdGgsYj1NYXRoLm1heChiPzQ4MDozMjAsYSh3aW5kb3cpLmhlaWdodCgpKTtyZXR1cm4gTWF0aC5taW4oYyxiKX1mdW5jdGlvbiBpKCl7YSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5jc3MoIm1pbi1oZWlnaHQiLGcoKSl9ZnVuY3Rpb24gaChiLGMpe2MmJmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIixjKTtiLnBhZ2UoKX1mdW5jdGlvbiBsKGEpe2Zvcig7YTspe2lmKGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09ImEiKWJyZWFrO2E9YS5wYXJlbnROb2RlfXJldHVybiBhfWZ1bmN0aW9uIG0oYil7dmFyIGI9CmEoYikuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxjPXMuaHJlZk5vSGFzaDtpZighYnx8IWsuaXNQYXRoKGIpKWI9YztyZXR1cm4gay5tYWtlVXJsQWJzb2x1dGUoYixjKX12YXIgbz1hKHdpbmRvdyksaj1hKCJodG1sIikscD1hKCJoZWFkIiksaz17dXJsUGFyc2VSRTovXigoKChbXjpcLyNcP10rOik/KD86XC9cLygoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9dKykoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8scGFyc2VVcmw6ZnVuY3Rpb24oYSl7aWYodHlwZW9mIGE9PT0ib2JqZWN0IilyZXR1cm4gYTt2YXIgYT1rLnVybFBhcnNlUkUuZXhlYyhhKSxiO2EmJihiPXtocmVmOmFbMF18fCIiLGhyZWZOb0hhc2g6YVsxXXx8IiIsaHJlZk5vU2VhcmNoOmFbMl18fCIiLGRvbWFpbjphWzNdfHwiIixwcm90b2NvbDphWzRdfHwiIixhdXRob3JpdHk6YVs1XXx8CiIiLHVzZXJuYW1lOmFbN118fCIiLHBhc3N3b3JkOmFbOF18fCIiLGhvc3Q6YVs5XXx8IiIsaG9zdG5hbWU6YVsxMF18fCIiLHBvcnQ6YVsxMV18fCIiLHBhdGhuYW1lOmFbMTJdfHwiIixkaXJlY3Rvcnk6YVsxM118fCIiLGZpbGVuYW1lOmFbMTRdfHwiIixzZWFyY2g6YVsxNV18fCIiLGhhc2g6YVsxNl18fCIifSk7cmV0dXJuIGJ8fHt9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5jaGFyQXQoMCk9PT0iLyIpcmV0dXJuIGE7Zm9yKHZhciBhPWF8fCIiLGM9KGI9Yj9iLnJlcGxhY2UoL15cL3xcLz9bXlwvXSokL2csIiIpOiIiKT9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO3N3aXRjaChmKXtjYXNlICIuIjpicmVhaztjYXNlICIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9fXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsCmIpe3JldHVybiBrLnBhcnNlVXJsKGEpLmRvbWFpbj09PWsucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBrLnBhcnNlVXJsKGEpLnByb3RvY29sPT09IiJ9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGsucGFyc2VVcmwoYSkucHJvdG9jb2whPT0iIn0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWsuaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTt2YXIgYz1rLnBhcnNlVXJsKGEpLGQ9ay5wYXJzZVVybChiKSxlPWMucHJvdG9jb2x8fGQucHJvdG9jb2wsZj1jLmF1dGhvcml0eXx8ZC5hdXRob3JpdHksZz1jLnBhdGhuYW1lIT09IiIsaD1rLm1ha2VQYXRoQWJzb2x1dGUoYy5wYXRobmFtZXx8ZC5maWxlbmFtZSxkLnBhdGhuYW1lKTtyZXR1cm4gZSsiLy8iK2YraCsoYy5zZWFyY2h8fCFnJiZkLnNlYXJjaHx8IiIpK2MuaGFzaH0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ay5wYXJzZVVybChiKSwKZT10eXBlb2YgYz09PSJvYmplY3QiP2EucGFyYW0oYyk6YyxmPWQuc2VhcmNofHwiPyI7cmV0dXJuIGQuaHJlZk5vU2VhcmNoK2YrKGYuY2hhckF0KGYubGVuZ3RoLTEpIT09Ij8iPyImIjoiIikrZSsoZC5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGI9ay5wYXJzZVVybChhKTtpZihrLmlzRW1iZWRkZWRQYWdlKGIpKXJldHVybiBiLmhhc2gucmVwbGFjZSgvXiMvLCIiKTtlbHNlIGlmKGsuaXNTYW1lRG9tYWluKGIscykpcmV0dXJuIGIuaHJlZk5vSGFzaC5yZXBsYWNlKHMuZG9tYWluLCIiKTtyZXR1cm4gYX0sZ2V0OmZ1bmN0aW9uKGEpe2lmKGE9PT1kKWE9bG9jYXRpb24uaGFzaDtyZXR1cm4gay5zdHJpcEhhc2goYSkucmVwbGFjZSgvW15cL10qXC5bXlwvKl0rJC8sIiIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihiKXt2YXIgYz0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleTtyZXR1cm4gYiYmYi5zcGxpdChjKVswXS5zcGxpdCh2KVswXX0sCnNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2Uocy5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBrLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZSh2LCIiKSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oYSl7YT1rLnBhcnNlVXJsKGEpO3JldHVybiBhLnByb3RvY29sJiZhLmRvbWFpbiE9PXUuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXthPWsucGFyc2VVcmwoYSk7aWYoYS5wcm90b2NvbCE9PSIiKXJldHVybiBhLmhhc2gmJihhLmhyZWZOb0hhc2g9PT11LmhyZWZOb0hhc2h8fEImJmEuaHJlZk5vSGFzaD09PQpzLmhyZWZOb0hhc2gpO3JldHVybi9eIy8udGVzdChhLmhyZWYpfX0scT1udWxsLG49e3N0YWNrOltdLGFjdGl2ZUluZGV4OjAsZ2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleF19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4LTFdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleCsxXX0sYWRkTmV3OmZ1bmN0aW9uKGEsYixjLGQpe24uZ2V0TmV4dCgpJiZuLmNsZWFyRm9yd2FyZCgpO24uc3RhY2sucHVzaCh7dXJsOmEsdHJhbnNpdGlvbjpiLHRpdGxlOmMscGFnZTpkfSk7bi5hY3RpdmVJbmRleD1uLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXtuLnN0YWNrPW4uc3RhY2suc2xpY2UoMCxuLmFjdGl2ZUluZGV4KzEpfSxkaXJlY3RIYXNoQ2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZjthLmVhY2gobi5zdGFjayxmdW5jdGlvbihhLGQpe2IuY3VycmVudFVybD09PQpkLnVybCYmKGM9YTxuLmFjdGl2ZUluZGV4LGU9IWMsZj1hKX0pO3RoaXMuYWN0aXZlSW5kZXg9ZiE9PWQ/Zjp0aGlzLmFjdGl2ZUluZGV4O2M/Yi5pc0JhY2soKTplJiZiLmlzRm9yd2FyZCgpfSxpZ25vcmVOZXh0SGFzaENoYW5nZTohMX0sej0iW3RhYmluZGV4XSxhLGJ1dHRvbjp2aXNpYmxlLHNlbGVjdDp2aXNpYmxlLGlucHV0Iix5PVtdLHQ9ITEsdj0iJnVpLXN0YXRlPWRpYWxvZyIseD1wLmNoaWxkcmVuKCJiYXNlIiksdT1rLnBhcnNlVXJsKGxvY2F0aW9uLmhyZWYpLHM9eC5sZW5ndGg/ay5wYXJzZVVybChrLm1ha2VVcmxBYnNvbHV0ZSh4LmF0dHIoImhyZWYiKSx1LmhyZWYpKTp1LEI9dS5ocmVmTm9IYXNoIT09cy5ocmVmTm9IYXNoLHc9YS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OngubGVuZ3RoP3g6YSgiPGJhc2U+Iix7aHJlZjpzLmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8ocCksc2V0OmZ1bmN0aW9uKGEpe3cuZWxlbWVudC5hdHRyKCJocmVmIixrLm1ha2VVcmxBYnNvbHV0ZShhLApzKSl9LHJlc2V0OmZ1bmN0aW9uKCl7dy5lbGVtZW50LmF0dHIoImhyZWYiLHMuaHJlZk5vSGFzaCl9fTpkO2EuZm4uYW5pbWF0aW9uQ29tcGxldGU9ZnVuY3Rpb24oYil7cmV0dXJuIGEuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucz9hKHRoaXMpLm9uZSgid2Via2l0QW5pbWF0aW9uRW5kIixiKTooc2V0VGltZW91dChiLDApLGEodGhpcykpfTthLm1vYmlsZS51cGRhdGVIYXNoPWsuc2V0O2EubW9iaWxlLnBhdGg9azthLm1vYmlsZS5iYXNlPXc7YS5tb2JpbGUudXJsc3RhY2s9bi5zdGFjazthLm1vYmlsZS51cmxIaXN0b3J5PW47YS5tb2JpbGUubm9uZVRyYW5zaXRpb25IYW5kbGVyPWZ1bmN0aW9uKGIsYyxkLGUpe2UmJmUucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7cmV0dXJuIGEuRGVmZXJyZWQoKS5yZXNvbHZlKGIsYyxkLGUpLnByb21pc2UoKX07YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPQphLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXI7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzPXtub25lOmEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcn07YS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzPSExO2EubW9iaWxlLmdldERvY3VtZW50VXJsPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LHUpOnUuaHJlZn07YS5tb2JpbGUuZ2V0RG9jdW1lbnRCYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LHMpOnMuaHJlZn07YS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24oYixjKXt2YXIgZT1hLkRlZmVycmVkKCksZj1hLmV4dGVuZCh7fSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyxjKSxnPW51bGwsaj1udWxsLGk9ay5tYWtlVXJsQWJzb2x1dGUoYixzLmhyZWZOb0hhc2gpO2lmKGYuZGF0YSYmZi50eXBlPT09ImdldCIpaT1rLmFkZFNlYXJjaFBhcmFtcyhpLGYuZGF0YSksZi5kYXRhPWQ7dmFyIG49ay5nZXRGaWxlUGF0aChpKSwKcT1rLmNvbnZlcnRVcmxUb0RhdGFVcmwoaSk7Zi5wYWdlQ29udGFpbmVyPWYucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtnPWYucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiOmpxbURhdGEodXJsPSciK3ErIicpIik7dyYmdy5yZXNldCgpO2lmKGcubGVuZ3RoKXtpZighZi5yZWxvYWRQYWdlKXJldHVybiBoKGcsZi5yb2xlKSxlLnJlc29sdmUoaSxjLGcpLGUucHJvbWlzZSgpO2o9Z31mLnNob3dMb2FkTXNnJiZhLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKTthLmFqYXgoe3VybDpuLHR5cGU6Zi50eXBlLGRhdGE6Zi5kYXRhLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGQpe3ZhciBsPWEoIjxkaXY+PC9kaXY+IikscD1kLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMSxvPVJlZ0V4cCgiXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9W1wiJ10/KFteXCInPl0qKVtcIiddPyIpO1JlZ0V4cCgiLiooPFtePl0rXFxiZGF0YS0iKwphLm1vYmlsZS5ucysicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KS4qIikudGVzdChkKSYmUmVnRXhwLiQxJiZvLnRlc3QoUmVnRXhwLiQxKSYmUmVnRXhwLiQxJiYoYj1uPWsuZ2V0RmlsZVBhdGgoUmVnRXhwLiQxKSk7dyYmdy5zZXQobik7bC5nZXQoMCkuaW5uZXJIVE1MPWQ7Zz1sLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpO3AmJiFnLmpxbURhdGEoInRpdGxlIikmJmcuanFtRGF0YSgidGl0bGUiLHApO2lmKCFhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciBtPWsuZ2V0KG4pO2cuZmluZCgiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmEodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsYz1hKHRoaXMpLmF0dHIoYiksCmM9Yy5yZXBsYWNlKGxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSwiIik7L14oXHcrOnwjfFwvKS8udGVzdChjKXx8YSh0aGlzKS5hdHRyKGIsbStjKX0pfWcuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLGsuY29udmVydFVybFRvRGF0YVVybChuKSkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKTtoKGcsZi5yb2xlKTtpLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoZz1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIjpqcW1EYXRhKHVybD0nIitxKyInKSIpKTtmLnNob3dMb2FkTXNnJiZhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKTtlLnJlc29sdmUoaSxjLGcsail9LGVycm9yOmZ1bmN0aW9uKCl7dyYmdy5zZXQoay5nZXQoKSk7Zi5zaG93TG9hZE1zZyYmKGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLGEoIjxkaXYgY2xhc3M9J3VpLWxvYWRlciB1aS1vdmVybGF5LXNoYWRvdyB1aS1ib2R5LWUgdWktY29ybmVyLWFsbCc+PGgxPiIrCmEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlKyI8L2gxPjwvZGl2PiIpLmNzcyh7ZGlzcGxheToiYmxvY2siLG9wYWNpdHk6MC45Nix0b3A6by5zY3JvbGxUb3AoKSsxMDB9KS5hcHBlbmRUbyhmLnBhZ2VDb250YWluZXIpLmRlbGF5KDgwMCkuZmFkZU91dCg0MDAsZnVuY3Rpb24oKXthKHRoaXMpLnJlbW92ZSgpfSkpO2UucmVqZWN0KGksYyl9fSk7cmV0dXJuIGUucHJvbWlzZSgpfTthLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITAscGFnZUNvbnRhaW5lcjpkfTthLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKGMsZyl7aWYodHlwZW9mIGchPT0ib2JqZWN0Iil7dmFyIGk9bnVsbDtpZih0eXBlb2YgYz09PSJvYmplY3QiJiZjLnVybCYmYy50eXBlKWk9e3R5cGU6Yy50eXBlLGRhdGE6Yy5kYXRhLGZvcmNlUGFnZUxvYWQ6ITB9LGM9Yy51cmw7dmFyIHE9YXJndW1lbnRzLmxlbmd0aDsKaWYocT4xKXt2YXIgbD1bInRyYW5zaXRpb24iLCJyZXZlcnNlIiwiY2hhbmdlSGFzaCIsImZyb21IYXNoQ2hhbmdlIl0scDtmb3IocD0xO3A8cTtwKyspe3ZhciBvPWFyZ3VtZW50c1twXTt0eXBlb2YgbyE9PSJ1bmRlZmluZWQiJiYoaT1pfHx7fSxpW2xbcC0xXV09byl9fWlmKGkpcmV0dXJuIGEubW9iaWxlLmNoYW5nZVBhZ2UoYyxpKX1pZih0KXkudW5zaGlmdChhcmd1bWVudHMpO2Vsc2V7dD0hMDt2YXIgbT1hLmV4dGVuZCh7fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLGcpO20ucGFnZUNvbnRhaW5lcj1tLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXI7aWYodHlwZW9mIGM9PSJzdHJpbmciKWEubW9iaWxlLmxvYWRQYWdlKGMsbSkuZG9uZShmdW5jdGlvbihiLGMsZCxlKXt0PSExO2MuZHVwbGljYXRlQ2FjaGVkUGFnZT1lO2EubW9iaWxlLmNoYW5nZVBhZ2UoZCxjKX0pLmZhaWwoZnVuY3Rpb24oKXt0PSExO2IoITApO2UoKTttLnBhZ2VDb250YWluZXIudHJpZ2dlcigiY2hhbmdlcGFnZWZhaWxlZCIpfSk7CmVsc2V7dmFyIHM9bS5wYWdlQ29udGFpbmVyLGk9YS5tb2JpbGUuYWN0aXZlUGFnZSxxPWMuanFtRGF0YSgidXJsIik7ay5nZXRGaWxlUGF0aChxKTtsPW4uZ2V0QWN0aXZlKCk7cD1uLmFjdGl2ZUluZGV4PT09MDt2YXIgeD0wLG89ZG9jdW1lbnQudGl0bGUsdT1tLnJvbGU9PT0iZGlhbG9nInx8Yy5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtzLnRyaWdnZXIoImJlZm9yZWNoYW5nZXBhZ2UiKTtpZihpJiZpWzBdPT09Y1swXSl0PSExLHMudHJpZ2dlcigiY2hhbmdlcGFnZSIpO2Vsc2V7aChjLG0ucm9sZSk7bS5mcm9tSGFzaENoYW5nZSYmbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOnEsaXNCYWNrOmZ1bmN0aW9uKCl7eD0tMX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7eD0xfX0pO2EoZG9jdW1lbnQuYWN0aXZlRWxlbWVudHx8IiIpLmFkZCgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCk7dSYmbCYmKHE9bC51cmwrdik7aWYobS5jaGFuZ2VIYXNoIT09CiExJiZxKW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ITAsay5zZXQocSk7KHU9Yy5qcW1EYXRhKCJ0aXRsZSIpfHxjLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmZpbmQoIi51aS10aXRsZSIpLnRleHQoKSkmJm89PWRvY3VtZW50LnRpdGxlJiYobz11KTt4fHxuLmFkZE5ldyhxLG0udHJhbnNpdGlvbixvLGMpO2RvY3VtZW50LnRpdGxlPW4uZ2V0QWN0aXZlKCkudGl0bGU7YS5tb2JpbGUuYWN0aXZlUGFnZT1jO20udHJhbnNpdGlvbj1tLnRyYW5zaXRpb258fCh4JiYhcD9sLnRyYW5zaXRpb246ZCl8fChtLnJvbGU9PT0iZGlhbG9nIj9hLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pO20ucmV2ZXJzZT1tLnJldmVyc2V8fHg8MDtmKGMsaSxtLnRyYW5zaXRpb24sbS5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKCl7YigpO20uZHVwbGljYXRlQ2FjaGVkUGFnZSYmbS5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpOwpqLnJlbW92ZUNsYXNzKCJ1aS1tb2JpbGUtcmVuZGVyaW5nIik7ZSgpO3MudHJpZ2dlcigiY2hhbmdlcGFnZSIpfSl9fX19O2EubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHM9e3RyYW5zaXRpb246ZCxyZXZlcnNlOiExLGNoYW5nZUhhc2g6ITAsZnJvbUhhc2hDaGFuZ2U6ITEscm9sZTpkLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6ZCxwYWdlQ29udGFpbmVyOmR9O2EoImZvcm0iKS5saXZlKCJzdWJtaXQiLGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcyk7aWYoYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFjLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIikpe3ZhciBkPWMuYXR0cigibWV0aG9kIiksZT1rLm1ha2VVcmxBYnNvbHV0ZShjLmF0dHIoImFjdGlvbiIpLG0oYykpLGY9Yy5hdHRyKCJ0YXJnZXQiKTshay5pc0V4dGVybmFsKGUpJiYhZiYmKGEubW9iaWxlLmNoYW5nZVBhZ2UoZSx7dHlwZTpkLmxlbmd0aCYmZC50b0xvd2VyQ2FzZSgpfHwiZ2V0IixkYXRhOmMuc2VyaWFsaXplKCksdHJhbnNpdGlvbjpjLmpxbURhdGEoInRyYW5zaXRpb24iKSwKZGlyZWN0aW9uOmMuanFtRGF0YSgiZGlyZWN0aW9uIikscmVsb2FkUGFnZTohMH0pLGIucHJldmVudERlZmF1bHQoKSl9fSk7YShkb2N1bWVudCkuYmluZCgidmNsaWNrIixmdW5jdGlvbihiKXtpZigoYj1sKGIudGFyZ2V0KSkmJmsucGFyc2VVcmwoYi5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoIT09IiMiKWEoYikuY2xvc2VzdCgiLnVpLWJ0biIpLm5vdCgiLnVpLWRpc2FibGVkIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIC51aS1idG4iKS5ub3QoYikuYmx1cigpfSk7YShkb2N1bWVudCkuYmluZChhLm1vYmlsZS51c2VGYXN0Q2xpY2s/InZjbGljayBjbGljayI6ImNsaWNrIixmdW5jdGlvbihjKXt2YXIgZT1sKGMudGFyZ2V0KTtpZihlKXt2YXIgZj1hKGUpLGc9ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2IoITApfSwyMDApfTtpZihmLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiB3aW5kb3cuaGlzdG9yeS5iYWNrKCksCiExO2lmKGEubW9iaWxlLmFqYXhFbmFibGVkKXt2YXIgaD1tKGYpLGU9ay5tYWtlVXJsQWJzb2x1dGUoZi5hdHRyKCJocmVmIil8fCIjIixoKTtpZihlLnNlYXJjaCgiIyIpIT0tMSlpZihlPWUucmVwbGFjZSgvW14jXSojLywiIikpZT1rLmlzUGF0aChlKT9rLm1ha2VVcmxBYnNvbHV0ZShlLGgpOmsubWFrZVVybEFic29sdXRlKCIjIitlLHUuaHJlZk5vSGFzaCk7ZWxzZXtjLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufXZhciBoPWYuaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8Zi5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxmLmlzKCJbdGFyZ2V0XSIpLGk9YS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiZ1LnByb3RvY29sPT09ImZpbGU6IiYmZS5zZWFyY2goL15odHRwcz86LykhPS0xLGg9aHx8ay5pc0V4dGVybmFsKGUpJiYhaTtxPWYuY2xvc2VzdCgiLnVpLWJ0biIpO2g/ZygpOihnPWYuanFtRGF0YSgidHJhbnNpdGlvbiIpLGg9KGg9Zi5qcW1EYXRhKCJkaXJlY3Rpb24iKSkmJgpoPT09InJldmVyc2UifHxmLmpxbURhdGEoImJhY2siKSxmPWYuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKXx8ZCxhLm1vYmlsZS5jaGFuZ2VQYWdlKGUse3RyYW5zaXRpb246ZyxyZXZlcnNlOmgscm9sZTpmfSksYy5wcmV2ZW50RGVmYXVsdCgpKX1lbHNlIGcoKX19KTtvLmJpbmQoImhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGI9ay5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCksYz1hLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD09PTA/Im5vbmUiOmQ7aWYoIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHxuLmlnbm9yZU5leHRIYXNoQ2hhbmdlKW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ITE7ZWxzZXtpZihuLnN0YWNrLmxlbmd0aD4xJiZiLmluZGV4T2Yodik+LTEpaWYoYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKXt2YXIgZT1mdW5jdGlvbigpe2I9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKS5wYWdlfTtuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6YiwKaXNCYWNrOmUsaXNGb3J3YXJkOmV9KX1lbHNle24uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpiLGlzQmFjazpmdW5jdGlvbigpe3dpbmRvdy5oaXN0b3J5LmJhY2soKX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuZm9yd2FyZCgpfX0pO3JldHVybn1iPyhiPXR5cGVvZiBiPT09InN0cmluZyImJiFrLmlzUGF0aChiKT8iIyIrYjpiLGEubW9iaWxlLmNoYW5nZVBhZ2UoYix7dHJhbnNpdGlvbjpjLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSk6YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246YyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZXNob3ciLGkpO2Eod2luZG93KS5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGkpfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYyxiLGQsZil7dmFyIGc9bmV3IGEuRGVmZXJyZWQsaT1iPyIgcmV2ZXJzZSI6IiIsaD0idWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIitjO2QuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtkLmFkZChmKS5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIitjKTtmJiZmLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7ZC5wYXJlbnQoKS5yZW1vdmVDbGFzcyhoKTtnLnJlc29sdmUoYyxiLGQsZil9KTtkLnBhcmVudCgpLmFkZENsYXNzKGgpO2YmJmYuYWRkQ2xhc3MoYysiIG91dCIraSk7ZC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiAiK2MrIiBpbiIraSk7cmV0dXJuIGcucHJvbWlzZSgpfWEubW9iaWxlLmNzczNUcmFuc2l0aW9uSGFuZGxlcj1kO2lmKGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj09PWEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcilhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9CmR9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhLGQpe2EuZm4uZml4SGVhZGVyRm9vdGVyPWZ1bmN0aW9uKCl7aWYoIWEuc3VwcG9ydC5zY3JvbGxUb3ApcmV0dXJuIHRoaXM7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yy5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmMuYWRkQ2xhc3MoInVpLXBhZ2UtZnVsbHNjcmVlbiIpO2MuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpO2MuZmluZCgiLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWZvb3Rlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpfSl9O2EuZml4ZWRUb29sYmFycz1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXshZyYmZj09Im92ZXJsYXkiJiYoaXx8YS5maXhlZFRvb2xiYXJzLmhpZGUoITApLGEuZml4ZWRUb29sYmFycy5zdGFydFNob3dUaW1lcigpKX1mdW5jdGlvbiBiKGEpe3ZhciBiPQowO2lmKGEpZm9yKHZhciBjPWEub2Zmc2V0UGFyZW50LGQ9ZG9jdW1lbnQuYm9keSxiPWEub2Zmc2V0VG9wO2EmJmEhPWQ7KXtiKz1hLnNjcm9sbFRvcHx8MDtpZihhPT1jKWIrPWMub2Zmc2V0VG9wLGM9YS5vZmZzZXRQYXJlbnQ7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGJ9ZnVuY3Rpb24gZShjKXt2YXIgZD1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZT1iKGNbMF0pLGY9Yy5jc3MoInRvcCIpPT0iYXV0byI/MDpwYXJzZUZsb2F0KGMuY3NzKCJ0b3AiKSksZz13aW5kb3cuaW5uZXJIZWlnaHQsaD1jLm91dGVySGVpZ2h0KCksaT1jLnBhcmVudHMoIi51aS1wYWdlOm5vdCgudWktcGFnZS1mdWxsc2NyZWVuKSIpLmxlbmd0aDtyZXR1cm4gYy5pcygiLnVpLWhlYWRlci1maXhlZCIpPyhmPWQtZStmLGY8ZSYmKGY9MCksYy5jc3MoInRvcCIsaT9mOmQpKTpjLmNzcygidG9wIixpP2QrZy1oLShlLWYpOmQrZy1oKX1pZihhLnN1cHBvcnQuc2Nyb2xsVG9wKXt2YXIgZj0iaW5saW5lIixnPSExLGksCmgsbD1udWxsLG09ITEsbz0hMDthKGZ1bmN0aW9uKCl7YShkb2N1bWVudCkuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtvJiYobD1mKX0pLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7byYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJiFtJiYoYS5maXhlZFRvb2xiYXJzLnRvZ2dsZShsKSxsPW51bGwpfSkuYmluZCgic2lsZW50c2Nyb2xsIixjKTsoYShkb2N1bWVudCkuc2Nyb2xsVG9wKCk9PTA/YSh3aW5kb3cpOmEoZG9jdW1lbnQpKS5iaW5kKCJzY3JvbGxzdGFydCIsZnVuY3Rpb24oKXttPSEwO2w9PW51bGwmJihsPWYpO3ZhciBiPWw9PSJvdmVybGF5IjtpZihnPWJ8fCEhaSlhLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKSxiJiZhLmZpeGVkVG9vbGJhcnMuaGlkZSghMCl9KS5iaW5kKCJzY3JvbGxzdG9wIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCJhLGlucHV0LHRleHRhcmVhLHNlbGVjdCxidXR0b24sbGFiZWwsLnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVkIikubGVuZ3RofHwKKG09ITEsZyYmKGc9ITEsYS5maXhlZFRvb2xiYXJzLnN0YXJ0U2hvd1RpbWVyKCkpLGw9bnVsbCl9KTthKHdpbmRvdykuYmluZCgicmVzaXplIixjKX0pO2EoIi51aS1wYWdlIikubGl2ZSgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiLnRhcmdldCkuZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKSxmPWQuZGF0YSgiaWQiKSxnPWMucHJldlBhZ2UsZz1nJiZnLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiksZz1nLmxlbmd0aCYmZy5qcW1EYXRhKCJpZCIpPT09ZjtmJiZnJiYoaD1kLGUoaC5yZW1vdmVDbGFzcygiZmFkZSBpbiBvdXQiKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSkpfSk7YSgiLnVpLXBhZ2UiKS5saXZlKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2gmJmgubGVuZ3RoJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShoLmFwcGVuZFRvKGIpLmFkZENsYXNzKCJmYWRlIikpO2g9bnVsbH0sNTAwKTsKYS5maXhlZFRvb2xiYXJzLnNob3coITAsdGhpcyl9KTthKCIudWktY29sbGFwc2libGUtY29udGFpbiIpLmxpdmUoImNvbGxhcHNlIGV4cGFuZCIsYyk7cmV0dXJue3Nob3c6ZnVuY3Rpb24oYyxkKXthLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTtmPSJvdmVybGF5IjtyZXR1cm4oZD9hKGQpOmEubW9iaWxlLmFjdGl2ZVBhZ2U/YS5tb2JpbGUuYWN0aXZlUGFnZTphKCIudWktcGFnZS1hY3RpdmUiKSkuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQ6Zmlyc3QsIC51aS1mb290ZXItZml4ZWQ6bm90KC51aS1mb290ZXItZHVwbGljYXRlKTpsYXN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZj1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZz1iKGRbMF0pLGg9d2luZG93LmlubmVySGVpZ2h0LGk9ZC5vdXRlckhlaWdodCgpLGY9ZC5pcygiLnVpLWhlYWRlci1maXhlZCIpJiZmPD1nK2l8fGQuaXMoIi51aS1mb290ZXItZml4ZWQiKSYmZzw9ZitoO2QuYWRkQ2xhc3MoInVpLWZpeGVkLW92ZXJsYXkiKS5yZW1vdmVDbGFzcygidWktZml4ZWQtaW5saW5lIik7CiFmJiYhYyYmZC5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoImluIil9KS5hZGRDbGFzcygiaW4iKTtlKGQpfSl9LGhpZGU6ZnVuY3Rpb24oYil7Zj0iaW5saW5lIjtyZXR1cm4oYS5tb2JpbGUuYWN0aXZlUGFnZT9hLm1vYmlsZS5hY3RpdmVQYWdlOmEoIi51aS1wYWdlLWFjdGl2ZSIpKS5jaGlsZHJlbigiLnVpLWhlYWRlci1maXhlZDpmaXJzdCwgLnVpLWZvb3Rlci1maXhlZDpub3QoLnVpLWZvb3Rlci1kdXBsaWNhdGUpOmxhc3QiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuY3NzKCJ0b3AiKSxkPWQ9PSJhdXRvIj8wOnBhcnNlRmxvYXQoZCk7Yy5hZGRDbGFzcygidWktZml4ZWQtaW5saW5lIikucmVtb3ZlQ2xhc3MoInVpLWZpeGVkLW92ZXJsYXkiKTtpZihkPDB8fGMuaXMoIi51aS1oZWFkZXItZml4ZWQiKSYmZCE9MCliP2MuY3NzKCJ0b3AiLDApOmMuY3NzKCJ0b3AiKSE9PSJhdXRvIiYmcGFyc2VGbG9hdChjLmNzcygidG9wIikpIT09CjAmJmMuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJvdXQgcmV2ZXJzZSIpO2MuY3NzKCJ0b3AiLDApfSkuYWRkQ2xhc3MoIm91dCByZXZlcnNlIil9KX0sc3RhcnRTaG93VGltZXI6ZnVuY3Rpb24oKXthLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTt2YXIgYj1hLm1ha2VBcnJheShhcmd1bWVudHMpO2k9c2V0VGltZW91dChmdW5jdGlvbigpe2k9ZDthLmZpeGVkVG9vbGJhcnMuc2hvdy5hcHBseShudWxsLGIpfSwxMDApfSxjbGVhclNob3dUaW1lcjpmdW5jdGlvbigpe2kmJmNsZWFyVGltZW91dChpKTtpPWR9LHRvZ2dsZTpmdW5jdGlvbihiKXtiJiYoZj1iKTtyZXR1cm4gZj09Im92ZXJsYXkiP2EuZml4ZWRUb29sYmFycy5oaWRlKCk6YS5maXhlZFRvb2xiYXJzLnNob3coKX0sc2V0VG91Y2hUb2dnbGVFbmFibGVkOmZ1bmN0aW9uKGEpe289YX19fX0oKX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPXRoaXMuZWxlbWVudCxlPWIuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJykiKS5maW5kKCJsYWJlbCIpLmZpbHRlcignW2Zvcj0iJytiWzBdLmlkKyciXScpLGY9Yi5hdHRyKCJ0eXBlIiksZz0idWktaWNvbi0iK2YrIi1vZmYiO2lmKCEoZiE9ImNoZWNrYm94IiYmZiE9InJhZGlvIikpe2EuZXh0ZW5kKHRoaXMse2xhYmVsOmUsaW5wdXR0eXBlOmYsY2hlY2tlZGljb246InVpLWljb24tIitmKyItb24iLHVuY2hlY2tlZGljb246Z30pO2lmKCF0aGlzLm9wdGlvbnMudGhlbWUpdGhpcy5vcHRpb25zLnRoZW1lPXRoaXMuZWxlbWVudC5qcW1EYXRhKCJ0aGVtZSIpO2UuYnV0dG9uTWFya3VwKHt0aGVtZTp0aGlzLm9wdGlvbnMudGhlbWUsaWNvbjp0aGlzLmVsZW1lbnQucGFyZW50cygiOmpxbURhdGEodHlwZT0naG9yaXpvbnRhbCcpIikubGVuZ3RoPwpkOmcsc2hhZG93OiExfSk7Yi5hZGQoZSkud3JhcEFsbCgiPGRpdiBjbGFzcz0ndWktIitmKyInPjwvZGl2PiIpO2UuYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbigpe2lmKGEodGhpcykucGFyZW50KCkuaXMoIi51aS1kaXNhYmxlZCIpKXJldHVybiExfSx2Y2xpY2s6ZnVuY3Rpb24oYSl7aWYoYi5pcygiOmRpc2FibGVkIikpYS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgcmV0dXJuIGMuX2NhY2hlVmFscygpLGIucHJvcCgiY2hlY2tlZCIsZj09PSJyYWRpbyImJiEwfHwhYi5wcm9wKCJjaGVja2VkIikpLGMuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLCExKSxjLl91cGRhdGVBbGwoKSwhMX19KTtiLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZVZhbHMoKX0sdmNsaWNrOmZ1bmN0aW9uKCl7YSh0aGlzKS5pcygiOmNoZWNrZWQiKT8oYSh0aGlzKS5wcm9wKCJjaGVja2VkIiwhMCksYy5fZ2V0SW5wdXRTZXQoKS5ub3QoYSh0aGlzKSkucHJvcCgiY2hlY2tlZCIsCiExKSk6YSh0aGlzKS5wcm9wKCJjaGVja2VkIiwhMSk7Yy5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7ZS5hZGRDbGFzcygidWktZm9jdXMiKX0sYmx1cjpmdW5jdGlvbigpe2UucmVtb3ZlQ2xhc3MoInVpLWZvY3VzIil9fSk7dGhpcy5yZWZyZXNoKCl9fSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJjYWNoZVZhbCIsYSh0aGlzKS5pcygiOmNoZWNrZWQiKSl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50LmF0dHIoIm5hbWUiKSsiJ11bdHlwZT0nIit0aGlzLmlucHV0dHlwZSsiJ10iKX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciBjPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7KGEodGhpcykuaXMoIjpjaGVja2VkIil8fApjLmlucHV0dHlwZT09PSJjaGVja2JveCIpJiZhKHRoaXMpLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9dGhpcy5sYWJlbCxkPWIuZmluZCgiLnVpLWljb24iKTthKGNbMF0pLnByb3AoImNoZWNrZWQiKT8oYi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksZC5hZGRDbGFzcyh0aGlzLmNoZWNrZWRpY29uKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZGljb24pKTooYi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksZC5yZW1vdmVDbGFzcyh0aGlzLmNoZWNrZWRpY29uKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZGljb24pKTtjLmlzKCI6ZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LAplbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCExKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGg7dmFyIGQ9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGI9Yy50aGVtZTtifHwoYj10aGlzLmVsZW1lbnQuY2xvc2VzdCgiW2NsYXNzKj0ndWktYmFyLSddLFtjbGFzcyo9J3VpLWJvZHktJ10iKSxoPShiPWIubGVuZ3RoJiYvdWktKGJhcnxib2R5KS0oW2Etel0pLy5leGVjKGIuYXR0cigiY2xhc3MiKSkpJiZiWzJdfHwiYyIsYj1oKTtiPSIgdWktYm9keS0iK2I7YSgnbGFiZWxbZm9yPSInK2QuYXR0cigiaWQiKSsnIl0nKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpO2QuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQgdWktYm9keS0iK2MudGhlbWUpO3ZhciBlPWQ7aWYoZC5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIikpe3ZhciBlPWQud3JhcCgnPGRpdiBjbGFzcz0idWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQnKwpiKyciPjwvZGl2PicpLnBhcmVudCgpLGY9YSgnPGEgaHJlZj0iIyIgY2xhc3M9InVpLWlucHV0LWNsZWFyIiB0aXRsZT0iY2xlYXIgdGV4dCI+Y2xlYXIgdGV4dDwvYT4nKS50YXAoZnVuY3Rpb24oYSl7ZC52YWwoIiIpLmZvY3VzKCk7ZC50cmlnZ2VyKCJjaGFuZ2UiKTtmLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKTthLnByZXZlbnREZWZhdWx0KCl9KS5hcHBlbmRUbyhlKS5idXR0b25NYXJrdXAoe2ljb246ImRlbGV0ZSIsaWNvbnBvczoibm90ZXh0Iixjb3JuZXJzOiEwLHNoYWRvdzohMH0pLGM9ZnVuY3Rpb24oKXtkLnZhbCgpPT0iIj9mLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKTpmLnJlbW92ZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKX07YygpO2Qua2V5dXAoYyk7ZC5mb2N1cyhjKX1lbHNlIGQuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktc2hhZG93LWluc2V0IitiKTtkLmZvY3VzKGZ1bmN0aW9uKCl7ZS5hZGRDbGFzcygidWktZm9jdXMiKX0pLmJsdXIoZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKCJ1aS1mb2N1cyIpfSk7CmlmKGQuaXMoInRleHRhcmVhIikpe3ZhciBnPWZ1bmN0aW9uKCl7dmFyIGE9ZFswXS5zY3JvbGxIZWlnaHQ7ZFswXS5jbGllbnRIZWlnaHQ8YSYmZC5jc3Moe2hlaWdodDphKzE1fSl9LGk7ZC5rZXl1cChmdW5jdGlvbigpe2NsZWFyVGltZW91dChpKTtpPXNldFRpbWVvdXQoZywxMDApfSl9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCxtZW51UGFnZVRoZW1lOiJiIixvdmVybGF5VGhlbWU6ImEiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxjPXRoaXMub3B0aW9ucyxiPXRoaXMuZWxlbWVudC53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QnPiIpLGU9Yi5hdHRyKCJpZCIpLGY9YSgnbGFiZWxbZm9yPSInK2UrJyJdJykuYWRkQ2xhc3MoInVpLXNlbGVjdCIpLGc9YlswXS5zZWxlY3RlZEluZGV4PT0tMT8wOmJbMF0uc2VsZWN0ZWRJbmRleCxpPShkLm9wdGlvbnMubmF0aXZlTWVudT9hKCI8ZGl2Lz4iKToKYSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDptLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6b30pKS50ZXh0KGEoYlswXS5vcHRpb25zLml0ZW0oZykpLnRleHQoKSkuaW5zZXJ0QmVmb3JlKGIpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yy50aGVtZSxpY29uOmMuaWNvbixpY29ucG9zOmMuaWNvbnBvcyxpbmxpbmU6Yy5pbmxpbmUsY29ybmVyczpjLmNvcm5lcnMsc2hhZG93OmMuc2hhZG93LGljb25zaGFkb3c6Yy5pY29uc2hhZG93fSksaD1kLmlzTXVsdGlwbGU9YlswXS5tdWx0aXBsZTtjLm5hdGl2ZU1lbnUmJndpbmRvdy5vcGVyYSYmd2luZG93Lm9wZXJhLnZlcnNpb24mJmIuYWRkQ2xhc3MoInVpLXNlbGVjdC1uYXRpdmVvbmx5Iik7aWYoIWMubmF0aXZlTWVudSl7dmFyIGw9Yi5maW5kKCJvcHRpb24iKSxtPWUrIi1idXR0b24iLG89ZSsiLW1lbnUiLGo9Yi5jbG9zZXN0KCIudWktcGFnZSIpLGc9L3VpLWJ0bi11cC0oW2Etel0pLy5leGVjKGkuYXR0cigiY2xhc3MiKSlbMV0sCnA9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIitjLm1lbnVQYWdlVGhlbWUrIic+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZi50ZXh0KCkrIjwvZGl2PjwvZGl2PjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksaz1wLmZpbmQoIi51aS1jb250ZW50Iik7cC5maW5kKCIudWktaGVhZGVyIGEiKTt2YXIgcT1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtc2NyZWVuIHVpLXNjcmVlbi1oaWRkZW4ifSkuYXBwZW5kVG8oaiksbj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUgdWktc2VsZWN0bWVudS1oaWRkZW4gdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCBwb3AgdWktYm9keS0iKwpjLm92ZXJsYXlUaGVtZX0pLmluc2VydEFmdGVyKHEpLHo9YSgiPHVsPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtbGlzdCIsaWQ6byxyb2xlOiJsaXN0Ym94IiwiYXJpYS1sYWJlbGxlZGJ5IjptfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZykuYXBwZW5kVG8obikseT1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitnfSkucHJlcGVuZFRvKG4pLHQ9YSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKHkpLHY9YSgiPGE+Iix7dGV4dDpjLmNsb3NlVGV4dCxocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4tbGVmdCJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb25wb3MiLCJub3RleHQiKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb24iLCJkZWxldGUiKS5hcHBlbmRUbyh5KS5idXR0b25NYXJrdXAoKX1pZihoKWQuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKGkpOwpjLmRpc2FibGVkJiZ0aGlzLmRpc2FibGUoKTtiLmNoYW5nZShmdW5jdGlvbigpe2QucmVmcmVzaCgpfSk7YS5leHRlbmQoZCx7c2VsZWN0OmIsb3B0aW9uRWxlbXM6bCxzZWxlY3RJRDplLGxhYmVsOmYsYnV0dG9uSWQ6bSxtZW51SWQ6byx0aGlzUGFnZTpqLGJ1dHRvbjppLG1lbnVQYWdlOnAsbWVudVBhZ2VDb250ZW50Omssc2NyZWVuOnEsbGlzdGJveDpuLGxpc3Q6eixtZW51VHlwZTp2b2lkIDAsaGVhZGVyOnksaGVhZGVyQ2xvc2U6dixoZWFkZXJUaXRsZTp0LHBsYWNlaG9sZGVyOiIifSk7Yy5uYXRpdmVNZW51P2IuYXBwZW5kVG8oaSkuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7aS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbigpe2kucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IiwKZnVuY3Rpb24oKXtpLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pOihkLnJlZnJlc2goKSxiLmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpO2kuZm9jdXMoKX0pLGkuYmluZCgidmNsaWNrIGtleWRvd24iLGZ1bmN0aW9uKGIpe2lmKGIudHlwZT09InZjbGljayJ8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKWQub3BlbigpLGIucHJldmVudERlZmF1bHQoKX0pLHouYXR0cigicm9sZSIsImxpc3Rib3giKS5kZWxlZ2F0ZSgiLnVpLWxpPmEiLCJmb2N1c2luIixmdW5jdGlvbigpe2EodGhpcykuYXR0cigidGFiaW5kZXgiLCIwIil9KS5kZWxlZ2F0ZSgiLnVpLWxpPmEiLCJmb2N1c291dCIsZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoInRhYmluZGV4IiwiLTEiKX0pLmRlbGVnYXRlKCJsaTpub3QoLnVpLWRpc2FibGVkLCAudWktbGktZGl2aWRlcikiLAoidmNsaWNrIixmdW5jdGlvbihjKXt2YXIgZT1iWzBdLnNlbGVjdGVkSW5kZXgsZj16LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxnPWQub3B0aW9uRWxlbXMuZXEoZilbMF07Zy5zZWxlY3RlZD1oPyFnLnNlbGVjdGVkOiEwO2gmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZy5zZWxlY3RlZCk7KGh8fGUhPT1mKSYmYi50cmlnZ2VyKCJjaGFuZ2UiKTtofHxkLmNsb3NlKCk7Yy5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuY2xvc2VzdCgibGkiKTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBiPWQucHJldigpLGIubGVuZ3RoJiYoYy5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGIuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksCiExO2Nhc2UgNDA6cmV0dXJuIGI9ZC5uZXh0KCksYi5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYi5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigidmNsaWNrIiksITF9fSkscS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7ZC5jbG9zZSgpfSksZC5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGQubWVudVR5cGU9PSJvdmVybGF5IilyZXR1cm4gZC5jbG9zZSgpLCExfSkpfSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxjPXRoaXMub3B0aW9ucyxiPXRoaXMucGxhY2Vob2xkZXIsZT1bXSxmPVtdLGc9ZC5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7ZC5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO2Quc2VsZWN0LmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1hKHRoaXMpLGg9aS5wYXJlbnQoKSwKbD1pLnRleHQoKSxtPSI8YSBocmVmPScjJz4iK2wrIjwvYT4iLG89W10saj1bXTtoLmlzKCJvcHRncm91cCIpJiYoaD1oLmF0dHIoImxhYmVsIiksYS5pbkFycmF5KGgsZSk9PT0tMSYmKGYucHVzaCgiPGxpIGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nbGlzdC1kaXZpZGVyJz4iK2grIjwvbGk+IiksZS5wdXNoKGgpKSk7aWYoIXRoaXMuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfHxsLmxlbmd0aD09MHx8aS5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKWMuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZvLnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSxiPWQucGxhY2Vob2xkZXI9bDt0aGlzLmRpc2FibGVkJiYoby5wdXNoKCJ1aS1kaXNhYmxlZCIpLGoucHVzaCgiYXJpYS1kaXNhYmxlZD0ndHJ1ZSciKSk7Zi5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSciK2crIicgY2xhc3M9JyIrby5qb2luKCIgIikrIicgIitqLmpvaW4oIiAiKSsiPiIrbSsiPC9saT4iKX0pOwpkLmxpc3QuaHRtbChmLmpvaW4oIiAiKSk7ZC5saXN0LmZpbmQoImxpIikuYXR0cih7cm9sZToib3B0aW9uIix0YWJpbmRleDoiLTEifSkuZmlyc3QoKS5hdHRyKCJ0YWJpbmRleCIsIjAiKTt0aGlzLmlzTXVsdGlwbGV8fHRoaXMuaGVhZGVyQ2xvc2UuaGlkZSgpOyF0aGlzLmlzTXVsdGlwbGUmJiFiLmxlbmd0aD90aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpO2QubGlzdC5saXN0dmlldygpfSxyZWZyZXNoOmZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMsYj10aGlzLmVsZW1lbnQsZT10aGlzLmlzTXVsdGlwbGUsZj10aGlzLm9wdGlvbkVsZW1zPWIuZmluZCgib3B0aW9uIiksZz1mLmZpbHRlcigiOnNlbGVjdGVkIiksaT1nLm1hcChmdW5jdGlvbigpe3JldHVybiBmLmluZGV4KHRoaXMpfSkuZ2V0KCk7IWMub3B0aW9ucy5uYXRpdmVNZW51JiYoZHx8YlswXS5vcHRpb25zLmxlbmd0aCE9Yy5saXN0LmZpbmQoImxpIikubGVuZ3RoKSYmCmMuX2J1aWxkTGlzdCgpO2MuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLnRleHQoZnVuY3Rpb24oKXtpZighZSlyZXR1cm4gZy50ZXh0KCk7cmV0dXJuIGcubGVuZ3RoP2cubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpjLnBsYWNlaG9sZGVyfSk7ZSYmYy5idXR0b25Db3VudFtnLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChnLmxlbmd0aCk7Yy5vcHRpb25zLm5hdGl2ZU1lbnV8fGMubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKGIpe2EuaW5BcnJheShiLGkpPi0xJiYoYj1hKHRoaXMpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmZpbmQoImEiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksZSYmYi5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIikpfSl9LApvcGVuOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZCgpe2MubGlzdC5maW5kKCIudWktYnRuLWFjdGl2ZSIpLmZvY3VzKCl9aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmIXRoaXMub3B0aW9ucy5uYXRpdmVNZW51KXt2YXIgYz10aGlzLGI9Yy5saXN0LnBhcmVudCgpLm91dGVySGVpZ2h0KCksZT1jLmxpc3QucGFyZW50KCkub3V0ZXJXaWR0aCgpLGY9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGc9Yy5idXR0b24ub2Zmc2V0KCkudG9wLGk9d2luZG93LmlubmVySGVpZ2h0LGg9d2luZG93LmlubmVyV2lkdGg7Yy5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCk7aWYoYj5pLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcCl7aWYoZj09MCYmZz5pKWMudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLApnKX0pO2MubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXthKHdpbmRvdykub25lKCJzaWxlbnRzY3JvbGwiLGZ1bmN0aW9uKCl7ZCgpfSl9KTtjLm1lbnVUeXBlPSJwYWdlIjtjLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoYy5saXN0KTthLm1vYmlsZS5jaGFuZ2VQYWdlKGMubWVudVBhZ2Use3RyYW5zaXRpb246InBvcCJ9KX1lbHNle2MubWVudVR5cGU9Im92ZXJsYXkiO2Muc2NyZWVuLmhlaWdodChhKGRvY3VtZW50KS5oZWlnaHQoKSkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKTt2YXIgbD1nLWYsbT1mK2ktZyxvPWIvMixqPXBhcnNlRmxvYXQoYy5saXN0LnBhcmVudCgpLmNzcygibWF4LXdpZHRoIikpLGI9bD5iLzImJm0+Yi8yP2crYy5idXR0b24ub3V0ZXJIZWlnaHQoKS8yLW86bD5tP2YraS1iLTMwOmYrMzA7ZTxqP2o9KGgtZSkvMjooaj1jLmJ1dHRvbi5vZmZzZXQoKS5sZWZ0K2MuYnV0dG9uLm91dGVyV2lkdGgoKS8yLWUvMixqPDMwP2o9MzA6aisKZT5oJiYoaj1oLWUtMzApKTtjLmxpc3Rib3guYXBwZW5kKGMubGlzdCkucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdG1lbnUtaGlkZGVuIikuY3NzKHt0b3A6YixsZWZ0Omp9KS5hZGRDbGFzcygiaW4iKTtkKCl9c2V0VGltZW91dChmdW5jdGlvbigpe2MuaXNPcGVuPSEwfSw0MDApfX0sY2xvc2U6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2MuYnV0dG9uLmZvY3VzKCl9LDQwKTtjLmxpc3Rib3gucmVtb3ZlQXR0cigic3R5bGUiKS5hcHBlbmQoYy5saXN0KX1pZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3BlbiYmIXRoaXMub3B0aW9ucy5uYXRpdmVNZW51KXt2YXIgYz10aGlzO2MubWVudVR5cGU9PSJwYWdlIj8oYy5tZW51UGFnZS5vbmUoInBhZ2VoaWRlIixhKSx3aW5kb3cuaGlzdG9yeS5iYWNrKCkpOihjLnNjcmVlbi5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLGMubGlzdGJveC5hZGRDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpLnJlbW92ZUNsYXNzKCJpbiIpLAphKCkpO3RoaXMuaXNPcGVuPSExfX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGIpe2Zvcig7Yjspe3ZhciBjPWEoYik7aWYoYy5oYXNDbGFzcygidWktYnRuIikmJiFjLmhhc0NsYXNzKCJ1aS1kaXNhYmxlZCIpKWJyZWFrO2I9Yi5wYXJlbnROb2RlfXJldHVybiBifWEuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGY9YS5leHRlbmQoe30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHMsZC5qcW1EYXRhKCksYiksZyxpPSJ1aS1idG4taW5uZXIiLGg7YyYmYygpO2lmKCFmLnRoZW1lKWc9ZC5jbG9zZXN0KCJbY2xhc3MqPSd1aS1iYXItJ10sW2NsYXNzKj0ndWktYm9keS0nXSIpLGYudGhlbWU9Zy5sZW5ndGg/L3VpLShiYXJ8Ym9keSktKFthLXpdKS8uZXhlYyhnLmF0dHIoImNsYXNzIikpWzJdOiJjIjtnPSJ1aS1idG4gdWktYnRuLXVwLSIrZi50aGVtZTtmLmlubGluZSYmKGcrPSIgdWktYnRuLWlubGluZSIpO2lmKGYuaWNvbilmLmljb249InVpLWljb24tIisKZi5pY29uLGYuaWNvbnBvcz1mLmljb25wb3N8fCJsZWZ0IixoPSJ1aS1pY29uICIrZi5pY29uLGYuc2hhZG93JiYoaCs9IiB1aS1pY29uLXNoYWRvdyIpO2YuaWNvbnBvcyYmKGcrPSIgdWktYnRuLWljb24tIitmLmljb25wb3MsZi5pY29ucG9zPT0ibm90ZXh0IiYmIWQuYXR0cigidGl0bGUiKSYmZC5hdHRyKCJ0aXRsZSIsZC50ZXh0KCkpKTtmLmNvcm5lcnMmJihnKz0iIHVpLWJ0bi1jb3JuZXItYWxsIixpKz0iIHVpLWJ0bi1jb3JuZXItYWxsIik7Zi5zaGFkb3cmJihnKz0iIHVpLXNoYWRvdyIpO2QuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZi50aGVtZSkuYWRkQ2xhc3MoZyk7Zj0oIjxEIGNsYXNzPSciK2krIic+PEQgY2xhc3M9J3VpLWJ0bi10ZXh0Jz48L0Q+IisoZi5pY29uPyI8c3BhbiBjbGFzcz0nIitoKyInPjwvc3Bhbj4iOiIiKSsiPC9EPiIpLnJlcGxhY2UoL0QvZyxmLndyYXBwZXJFbHMpO2Qud3JhcElubmVyKGYpfSl9O2EuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPQp7Y29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIGM9ZnVuY3Rpb24oKXthKGRvY3VtZW50KS5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKGIpe2lmKGI9ZChiLnRhcmdldCkpe3ZhciBiPWEoYiksYz1iLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKTtiLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitjKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitjKX19LCJ2bW91c2VjYW5jZWwgdm1vdXNldXAiOmZ1bmN0aW9uKGIpe2lmKGI9ZChiLnRhcmdldCkpe3ZhciBiPWEoYiksYz1iLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKTtiLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2MpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitjKX19LCJ2bW91c2VvdmVyIGZvY3VzIjpmdW5jdGlvbihiKXtpZihiPWQoYi50YXJnZXQpKXt2YXIgYj1hKGIpLGM9Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIik7Yi5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrCmMpLmFkZENsYXNzKCJ1aS1idG4taG92ZXItIitjKX19LCJ2bW91c2VvdXQgYmx1ciI6ZnVuY3Rpb24oYil7aWYoYj1kKGIudGFyZ2V0KSl7dmFyIGI9YShiKSxjPWIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpO2IucmVtb3ZlQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2MpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitjKX19fSk7Yz1udWxsfX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmJ1dHRvbiIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsaW5saW5lOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczt0aGlzLmJ1dHRvbj1hKCI8ZGl2PjwvZGl2PiIpLnRleHQoZC50ZXh0KCl8fGQudmFsKCkpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yy50aGVtZSxpY29uOmMuaWNvbixpY29ucG9zOmMuaWNvbnBvcyxpbmxpbmU6Yy5pbmxpbmUsY29ybmVyczpjLmNvcm5lcnMsc2hhZG93OmMuc2hhZG93LGljb25zaGFkb3c6Yy5pY29uc2hhZG93fSkuaW5zZXJ0QmVmb3JlKGQpLmFwcGVuZChkLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpO2M9ZC5hdHRyKCJ0eXBlIik7YyE9PSJidXR0b24iJiZjIT09InJlc2V0IiYmZC5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7dmFyIGI9CmEoIjxpbnB1dD4iLHt0eXBlOiJoaWRkZW4iLG5hbWU6ZC5hdHRyKCJuYW1lIiksdmFsdWU6ZC5hdHRyKCJ2YWx1ZSIpfSkuaW5zZXJ0QmVmb3JlKGQpO2EoZG9jdW1lbnQpLnN1Ym1pdChmdW5jdGlvbigpe2IucmVtb3ZlKCl9KX0pO3RoaXMucmVmcmVzaCgpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIik/CnRoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5zbGlkZXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsZGlzYWJsZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9dGhpcy5lbGVtZW50LGI9Yy5wYXJlbnRzKCJbY2xhc3MqPXVpLWJhci1dLFtjbGFzcyo9dWktYm9keS1dIikuZXEoMCksYj1iLmxlbmd0aD9iLmF0dHIoImNsYXNzIikubWF0Y2goL3VpLShiYXJ8Ym9keSktKFthLXpdKS8pWzJdOiJjIixlPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6YixmPXRoaXMub3B0aW9ucy50cmFja1RoZW1lP3RoaXMub3B0aW9ucy50cmFja1RoZW1lOmIsZz1jWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksYj1nPT0ic2VsZWN0Ij8idWktc2xpZGVyLXN3aXRjaCI6IiIsaT1jLmF0dHIoImlkIiksaD1pKyItbGFiZWwiLGk9YSgnW2Zvcj0iJytpKyciXScpLmF0dHIoImlkIixoKSxsPWZ1bmN0aW9uKCl7cmV0dXJuIGc9PQoiaW5wdXQiP3BhcnNlRmxvYXQoYy52YWwoKSk6Y1swXS5zZWxlY3RlZEluZGV4fSxtPWc9PSJpbnB1dCI/cGFyc2VGbG9hdChjLmF0dHIoIm1pbiIpKTowLG89Zz09ImlucHV0Ij9wYXJzZUZsb2F0KGMuYXR0cigibWF4IikpOmMuZmluZCgib3B0aW9uIikubGVuZ3RoLTEsaj13aW5kb3cucGFyc2VGbG9hdChjLmF0dHIoInN0ZXAiKXx8MSkscD1hKCc8ZGl2IGNsYXNzPSJ1aS1zbGlkZXIgJytiKyIgdWktYnRuLWRvd24tIitmKycgdWktYnRuLWNvcm5lci1hbGwiIHJvbGU9ImFwcGxpY2F0aW9uIj48L2Rpdj4nKSxrPWEoJzxhIGhyZWY9IiMiIGNsYXNzPSJ1aS1zbGlkZXItaGFuZGxlIj48L2E+JykuYXBwZW5kVG8ocCkuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmUsc2hhZG93OiEwfSkuYXR0cih7cm9sZToic2xpZGVyIiwiYXJpYS12YWx1ZW1pbiI6bSwiYXJpYS12YWx1ZW1heCI6bywiYXJpYS12YWx1ZW5vdyI6bCgpLCJhcmlhLXZhbHVldGV4dCI6bCgpLHRpdGxlOmwoKSwKImFyaWEtbGFiZWxsZWRieSI6aH0pO2EuZXh0ZW5kKHRoaXMse3NsaWRlcjpwLGhhbmRsZTprLGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGx9KTtnPT0ic2VsZWN0IiYmKHAud3JhcElubmVyKCc8ZGl2IGNsYXNzPSJ1aS1zbGlkZXItaW5uZXJvZmZzZXQiPjwvZGl2PicpLGMuZmluZCgib3B0aW9uIiksYy5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWI9PTA/ImIiOiJhIixkPWI9PTA/InJpZ2h0IjoibGVmdCIsYj1iPT0wPyIgdWktYnRuLWRvd24tIitmOiIgdWktYnRuLWFjdGl2ZSI7YSgnPGRpdiBjbGFzcz0idWktc2xpZGVyLWxhYmVsYmcgdWktc2xpZGVyLWxhYmVsYmctJytjK2IrIiB1aS1idG4tY29ybmVyLSIrZCsnIj48L2Rpdj4nKS5wcmVwZW5kVG8ocCk7YSgnPHNwYW4gY2xhc3M9InVpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtJytjK2IrIiB1aS1idG4tY29ybmVyLSIrZCsnIiByb2xlPSJpbWciPicrYSh0aGlzKS50ZXh0KCkrIjwvc3Bhbj4iKS5wcmVwZW5kVG8oayl9KSk7CmkuYWRkQ2xhc3MoInVpLXNsaWRlciIpO2MuYWRkQ2xhc3MoZz09ImlucHV0Ij8idWktc2xpZGVyLWlucHV0IjoidWktc2xpZGVyLXN3aXRjaCIpLmNoYW5nZShmdW5jdGlvbigpe2QucmVmcmVzaChsKCksITApfSkua2V5dXAoZnVuY3Rpb24oKXtkLnJlZnJlc2gobCgpLCEwLCEwKX0pLmJsdXIoZnVuY3Rpb24oKXtkLnJlZnJlc2gobCgpLCEwKX0pO2EoZG9jdW1lbnQpLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpe2lmKGQuZHJhZ2dpbmcpcmV0dXJuIGQucmVmcmVzaChhKSwhMX0pO3AuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oYSl7ZC5kcmFnZ2luZz0hMDtpZihnPT09InNlbGVjdCIpZC5iZWZvcmVTdGFydD1jWzBdLnNlbGVjdGVkSW5kZXg7ZC5yZWZyZXNoKGEpO3JldHVybiExfSk7cC5hZGQoZG9jdW1lbnQpLmJpbmQoInZtb3VzZXVwIixmdW5jdGlvbigpe2lmKGQuZHJhZ2dpbmcpe2QuZHJhZ2dpbmc9ITE7aWYoZz09PSJzZWxlY3QiKXtkLmJlZm9yZVN0YXJ0PT09CmNbMF0uc2VsZWN0ZWRJbmRleCYmZC5yZWZyZXNoKGQuYmVmb3JlU3RhcnQ9PT0wPzE6MCk7dmFyIGE9bCgpLGE9TWF0aC5yb3VuZChhLyhvLW0pKjEwMCk7ay5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLmNzcygibGVmdCIsYSsiJSIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7ay5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpfSl9cmV0dXJuITF9fSk7cC5pbnNlcnRBZnRlcihjKTt0aGlzLmhhbmRsZS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2EodGhpcykuZm9jdXMoKX0pLmJpbmQoInZjbGljayIsITEpO3RoaXMuaGFuZGxlLmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGIpe3ZhciBjPWwoKTtpZighZC5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDppZihiLnByZXZlbnREZWZhdWx0KCksCiFkLl9rZXlTbGlkaW5nKWQuX2tleVNsaWRpbmc9ITAsYSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6ZC5yZWZyZXNoKG0pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6ZC5yZWZyZXNoKG8pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6ZC5yZWZyZXNoKGMraik7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpkLnJlZnJlc2goYy1qKX19fSkua2V5dXAoZnVuY3Rpb24oKXtpZihkLl9rZXlTbGlkaW5nKWQuX2tleVNsaWRpbmc9ITEsYSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KTt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbihhLApjLGIpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBlPXRoaXMuZWxlbWVudCxmPWVbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxnPWY9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS5hdHRyKCJtaW4iKSk6MCxpPWY9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS5hdHRyKCJtYXgiKSk6ZS5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTtpZih0eXBlb2YgYT09PSJvYmplY3QiKXtpZighdGhpcy5kcmFnZ2luZ3x8YS5wYWdlWDx0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LTh8fGEucGFnZVg+dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCt0aGlzLnNsaWRlci53aWR0aCgpKzgpcmV0dXJuO2E9TWF0aC5yb3VuZCgoYS5wYWdlWC10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0KS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCl9ZWxzZSBhPT1udWxsJiYoYT1mPT09ImlucHV0Ij9wYXJzZUZsb2F0KGUudmFsKCkpOmVbMF0uc2VsZWN0ZWRJbmRleCksYT0ocGFyc2VGbG9hdChhKS1nKS8oaS1nKSoKMTAwO2lmKCFpc05hTihhKSl7YTwwJiYoYT0wKTthPjEwMCYmKGE9MTAwKTt2YXIgaD1NYXRoLnJvdW5kKGEvMTAwKihpLWcpKStnO2g8ZyYmKGg9Zyk7aD5pJiYoaD1pKTt0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGErIiUiKTt0aGlzLmhhbmRsZS5hdHRyKHsiYXJpYS12YWx1ZW5vdyI6Zj09PSJpbnB1dCI/aDplLmZpbmQoIm9wdGlvbiIpLmVxKGgpLmF0dHIoInZhbHVlIiksImFyaWEtdmFsdWV0ZXh0IjpmPT09ImlucHV0Ij9oOmUuZmluZCgib3B0aW9uIikuZXEoaCkudGV4dCgpLHRpdGxlOmh9KTtmPT09InNlbGVjdCImJihoPT09MD90aGlzLnNsaWRlci5hZGRDbGFzcygidWktc2xpZGVyLXN3aXRjaC1hIikucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYiIpOnRoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWIiKS5yZW1vdmVDbGFzcygidWktc2xpZGVyLXN3aXRjaC1hIikpO2lmKCFiKWY9PT0iaW5wdXQiP2UudmFsKGgpOmVbMF0uc2VsZWN0ZWRJbmRleD0KaCxjfHxlLnRyaWdnZXIoImNoYW5nZSIpfX19LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpO3RoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCk7dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOiExLGhlYWRpbmc6Ij46aGVhZGVyLD5sZWdlbmQiLHRoZW1lOm51bGwsaWNvblRoZW1lOiJkIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxiPWQuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iKSxlPWQuZmluZChjLmhlYWRpbmcpLmVxKDApLGY9Yi53cmFwSW5uZXIoJzxkaXYgY2xhc3M9InVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiPjwvZGl2PicpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiksZD1kLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIikuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpOwplLmlzKCJsZWdlbmQiKSYmKGU9YSgnPGRpdiByb2xlPSJoZWFkaW5nIj4nK2UuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoZSksZS5uZXh0KCkucmVtb3ZlKCkpO2UuaW5zZXJ0QmVmb3JlKGYpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIikuYXBwZW5kKCc8c3BhbiBjbGFzcz0idWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiPjwvc3Bhbj4nKS53cmFwSW5uZXIoJzxhIGhyZWY9IiMiIGNsYXNzPSJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSI+PC9hPicpLmZpbmQoImE6ZXEoMCkiKS5idXR0b25NYXJrdXAoe3NoYWRvdzohZC5sZW5ndGgsY29ybmVyczohMSxpY29uUG9zOiJsZWZ0IixpY29uOiJwbHVzIix0aGVtZTpjLnRoZW1lfSkuZmluZCgiLnVpLWljb24iKS5yZW1vdmVBdHRyKCJjbGFzcyIpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OiEwLGNvcm5lcnM6ITAsaWNvblBvczoibm90ZXh0IixpY29uOiJwbHVzIix0aGVtZTpjLmljb25UaGVtZX0pOwpkLmxlbmd0aD9iLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSYmZS5maW5kKCJhOmVxKDApLCAudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKTplLmZpbmQoImE6ZXEoMCkiKS5hZGRDbGFzcygidWktY29ybmVyLWFsbCIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWFsbCIpO2IuYmluZCgiY29sbGFwc2UiLGZ1bmN0aW9uKGQpeyFkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZhKGQudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUtY29udGFpbiIpLmlzKGIpJiYoZC5wcmV2ZW50RGVmYXVsdCgpLGUuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikudGV4dChjLmV4cGFuZEN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tbWludXMiKS5hZGRDbGFzcygidWktaWNvbi1wbHVzIiksCmYuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIikuYXR0cigiYXJpYS1oaWRkZW4iLCEwKSxiLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSYmZS5maW5kKCJhOmVxKDApLCAudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKSl9KS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGEpe2EuaXNEZWZhdWx0UHJldmVudGVkKCl8fChhLnByZXZlbnREZWZhdWx0KCksZS5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGMuY29sbGFwc2VDdWVUZXh0KSxlLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tcGx1cyIpLmFkZENsYXNzKCJ1aS1pY29uLW1pbnVzIiksZi5yZW1vdmVDbGFzcygidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiKS5hdHRyKCJhcmlhLWhpZGRlbiIsITEpLGIuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiYKZS5maW5kKCJhOmVxKDApLCAudWktYnRuLWlubmVyIikucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKSl9KS50cmlnZ2VyKGMuY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpO2QubGVuZ3RoJiYhZC5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIikmJihkLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiLCEwKS5iaW5kKCJleHBhbmQiLGZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZS1jb250YWluIikuc2libGluZ3MoIi51aS1jb2xsYXBzaWJsZS1jb250YWluIikudHJpZ2dlcigiY29sbGFwc2UiKX0pLGQ9ZC5maW5kKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpOmZpcnN0IiksZC5maXJzdCgpLmZpbmQoImE6ZXEoMCkiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGQubGFzdCgpLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiLCEwKSk7CmUuYmluZCgidmNsaWNrIixmdW5jdGlvbihhKXtlLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT9iLnRyaWdnZXIoImV4cGFuZCIpOmIudHJpZ2dlcigiY29sbGFwc2UiKTthLnByZXZlbnREZWZhdWx0KCl9KX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLmZuLmNvbnRyb2xncm91cD1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhKXthLnJlbW92ZUNsYXNzKCJ1aS1idG4tY29ybmVyLWFsbCB1aS1zaGFkb3ciKS5lcSgwKS5hZGRDbGFzcyhmWzBdKS5lbmQoKS5maWx0ZXIoIjpsYXN0IikuYWRkQ2xhc3MoZlsxXSkuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC1sYXN0Iil9dmFyIGI9YS5leHRlbmQoe2RpcmVjdGlvbjphKHRoaXMpLmpxbURhdGEoInR5cGUiKXx8InZlcnRpY2FsIixzaGFkb3c6ITF9LGQpLGU9YSh0aGlzKS5maW5kKCI+bGVnZW5kIiksZj1iLmRpcmVjdGlvbj09Imhvcml6b250YWwiP1sidWktY29ybmVyLWxlZnQiLCJ1aS1jb3JuZXItcmlnaHQiXTpbInVpLWNvcm5lci10b3AiLCJ1aS1jb3JuZXItYm90dG9tIl07YSh0aGlzKS5maW5kKCJpbnB1dDplcSgwKSIpLmF0dHIoInR5cGUiKTtlLmxlbmd0aCYmKGEodGhpcykud3JhcElubmVyKCc8ZGl2IGNsYXNzPSJ1aS1jb250cm9sZ3JvdXAtY29udHJvbHMiPjwvZGl2PicpLAphKCc8ZGl2IHJvbGU9ImhlYWRpbmciIGNsYXNzPSJ1aS1jb250cm9sZ3JvdXAtbGFiZWwiPicrZS5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShhKHRoaXMpLmNoaWxkcmVuKDApKSxlLnJlbW92ZSgpKTthKHRoaXMpLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIitiLmRpcmVjdGlvbik7YyhhKHRoaXMpLmZpbmQoIi51aS1idG4iKSk7YyhhKHRoaXMpLmZpbmQoIi51aS1idG4taW5uZXIiKSk7Yi5zaGFkb3cmJmEodGhpcykuYWRkQ2xhc3MoInVpLXNoYWRvdyIpfSl9fSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIil9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe3ZhciBkPXt9O2Eud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsaW5zZXQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihiLGQpe3JldHVybiBkKyIgdWktbGlzdHZpZXcgIisoYS5vcHRpb25zLmluc2V0PyIgdWktbGlzdHZpZXctaW5zZXQgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgIjoiIil9KTthLnJlZnJlc2goKX0sX2l0ZW1BcHBseTpmdW5jdGlvbihjLGIpe2IuZmluZCgiLnVpLWxpLWNvdW50IikuYWRkQ2xhc3MoInVpLWJ0bi11cC0iKyhjLmpxbURhdGEoImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUpKyIgdWktYnRuLWNvcm5lci1hbGwiKS5lbmQoKS5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiPmltZzplcSgwKSwgLnVpLWxpbmstaW5oZXJpdD5pbWc6ZXEoMCkiKS5hZGRDbGFzcygidWktbGktdGh1bWIiKS5lYWNoKGZ1bmN0aW9uKCl7Yi5hZGRDbGFzcyhhKHRoaXMpLmlzKCIudWktbGktaWNvbiIpPwoidWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKX0pLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IucHJlcGVuZFRvKGIucGFyZW50KCkpfSl9LF9yZW1vdmVDb3JuZXJzOmZ1bmN0aW9uKGEpe2EuYWRkKGEuZmluZCgiLnVpLWJ0bi1pbm5lciwgLnVpLWxpLWxpbmstYWx0LCAudWktbGktdGh1bWIiKSkucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIHVpLWNvcm5lci10ciB1aS1jb3JuZXItdGwiKX0scmVmcmVzaDpmdW5jdGlvbihjKXt0aGlzLl9jcmVhdGVTdWJQYWdlcygpO3ZhciBiPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxmPWQuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGIuZGl2aWRlclRoZW1lLGc9ZC5qcW1EYXRhKCJzcGxpdHRoZW1lIiksaT1kLmpxbURhdGEoInNwbGl0aWNvbiIpLGg9ZC5jaGlsZHJlbigibGkiKSwKbD1hLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudHx8IWEubm9kZU5hbWUoZFswXSwib2wiKT8wOjE7bCYmZC5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCk7Zm9yKHZhciBtPTAsbz1oLmxlbmd0aDttPG87bSsrKXt2YXIgaj1oLmVxKG0pLHA9InVpLWxpIjtpZihjfHwhai5oYXNDbGFzcygidWktbGkiKSl7dmFyIGs9ai5qcW1EYXRhKCJ0aGVtZSIpfHxiLnRoZW1lLHE9ai5jaGlsZHJlbigiYSIpO2lmKHEubGVuZ3RoKXt2YXIgbj1qLmpxbURhdGEoImljb24iKTtqLmJ1dHRvbk1hcmt1cCh7d3JhcHBlckVsczoiZGl2IixzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOiJyaWdodCIsaWNvbjpxLmxlbmd0aD4xfHxuPT09ITE/ITE6bnx8ImFycm93LXIiLHRoZW1lOmt9KTtxLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWxpbmstaW5oZXJpdCIpO3EubGVuZ3RoPjEmJihwKz0iIHVpLWxpLWhhcy1hbHQiLHE9cS5sYXN0KCksbj1nfHxxLmpxbURhdGEoInRoZW1lIil8fGIuc3BsaXRUaGVtZSwKcS5hcHBlbmRUbyhqKS5hdHRyKCJ0aXRsZSIscS50ZXh0KCkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSx0aGVtZTprLGljb246ITEsaWNvbnBvczohMX0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoYSgiPHNwYW4gLz4iKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLHRoZW1lOm4saWNvbnBvczoibm90ZXh0IixpY29uOml8fHEuanFtRGF0YSgiaWNvbiIpfHxiLnNwbGl0SWNvbn0pKSl9ZWxzZSBqLmpxbURhdGEoInJvbGUiKT09PSJsaXN0LWRpdmlkZXIiPyhwKz0iIHVpLWxpLWRpdmlkZXIgdWktYnRuIHVpLWJhci0iK2Ysai5hdHRyKCJyb2xlIiwiaGVhZGluZyIpLGwmJihsPTEpKTpwKz0iIHVpLWxpLXN0YXRpYyB1aS1ib2R5LSIra31iLmluc2V0JiYobT09PTAmJihwKz0iIHVpLWNvcm5lci10b3AiLGouYWRkKGouZmluZCgiLnVpLWJ0bi1pbm5lciIpKS5maW5kKCIudWktbGktbGluay1hbHQiKS5hZGRDbGFzcygidWktY29ybmVyLXRyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikuYWRkQ2xhc3MoInVpLWNvcm5lci10bCIpLApqLm5leHQoKS5uZXh0KCkubGVuZ3RoJiZ0aGlzLl9yZW1vdmVDb3JuZXJzKGoubmV4dCgpKSksbT09PWgubGVuZ3RoLTEmJihwKz0iIHVpLWNvcm5lci1ib3R0b20iLGouYWRkKGouZmluZCgiLnVpLWJ0bi1pbm5lciIpKS5maW5kKCIudWktbGktbGluay1hbHQiKS5hZGRDbGFzcygidWktY29ybmVyLWJyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ibCIpLGoucHJldigpLnByZXYoKS5sZW5ndGgmJnRoaXMuX3JlbW92ZUNvcm5lcnMoai5wcmV2KCkpKSk7bCYmcC5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKGouaXMoIi51aS1saS1zdGF0aWM6Zmlyc3QiKT9qOmouZmluZCgiLnVpLWxpbmstaW5oZXJpdCIpKS5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2wrKyArIi4gPC9zcGFuPiIpO2ouYWRkKGouY2hpbGRyZW4oIi51aS1idG4taW5uZXIiKSkuYWRkQ2xhc3MocCk7CmN8fHRoaXMuX2l0ZW1BcHBseShkLGopfX0sX2lkU3RyaW5nRXNjYXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCItIil9LF9jcmVhdGVTdWJQYWdlczpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxiPWMuY2xvc2VzdCgiLnVpLXBhZ2UiKSxlPWIuanFtRGF0YSgidXJsIiksZj1lfHxiWzBdW2EuZXhwYW5kb10sZz1jLmF0dHIoImlkIiksaT10aGlzLm9wdGlvbnMsaD0iZGF0YS0iK2EubW9iaWxlLm5zLGw9Yi5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmpxbURhdGEoImlkIik7dHlwZW9mIGRbZl09PT0idW5kZWZpbmVkIiYmKGRbZl09LTEpO2c9Z3x8KytkW2ZdO2EoYy5maW5kKCJsaT51bCwgbGk+b2wiKS50b0FycmF5KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBkPWEodGhpcyksZj1kLmF0dHIoImlkIil8fGcrIi0iK2IsYj1kLnBhcmVudCgpLHA9YShkLnByZXZBbGwoKS50b0FycmF5KCkucmV2ZXJzZSgpKSwKcD1wLmxlbmd0aD9wOmEoIjxzcGFuPiIrYS50cmltKGIuY29udGVudHMoKVswXS5ub2RlVmFsdWUpKyI8L3NwYW4+Iiksaz1wLmZpcnN0KCkudGV4dCgpLGY9KGV8fCIiKSsiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSsiPSIrZjt0aGVtZT1kLmpxbURhdGEoInRoZW1lIil8fGkudGhlbWU7Y291bnRUaGVtZT1kLmpxbURhdGEoImNvdW50dGhlbWUiKXx8Yy5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGkuY291bnRUaGVtZTtuZXdQYWdlPWQuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2grInJvbGU9J3BhZ2UnICIraCsidXJsPSciK2YrIicgIitoKyJ0aGVtZT0nIit0aGVtZSsiJyAiK2grImNvdW50LXRoZW1lPSciK2NvdW50VGhlbWUrIic+PGRpdiAiK2grInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLnBhcmVudCgpLmJlZm9yZSgiPGRpdiAiK2grInJvbGU9J2hlYWRlcicgIitoKyJ0aGVtZT0nIitpLmhlYWRlclRoZW1lKyInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iK2srIjwvZGl2PjwvZGl2PiIpLmFmdGVyKGw/CmEoIjxkaXYgIitoKyJyb2xlPSdmb290ZXInICIraCsiaWQ9JyIrbCsiJz4iKToiIikucGFyZW50KCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcik7bmV3UGFnZS5wYWdlKCk7ZD1iLmZpbmQoImE6Zmlyc3QiKTtkLmxlbmd0aHx8KGQ9YSgiPGEgLz4iKS5odG1sKHB8fGspLnByZXBlbmRUbyhiLmVtcHR5KCkpKTtkLmF0dHIoImhyZWYiLCIjIitmKX0pLmxpc3R2aWV3KCl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPSExO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjthKCI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIikubGl2ZSgibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxjPWQuZGF0YSgibGlzdHZpZXciKTtpZihjLm9wdGlvbnMuZmlsdGVyKXt2YXIgYj1hKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrYy5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KTthKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6Yy5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsCiIiKS5iaW5kKCJrZXl1cCBjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpLGM9bnVsbCxjPWEodGhpcykuanFtRGF0YSgibGFzdHZhbCIpKyIiO2EodGhpcykuanFtRGF0YSgibGFzdHZhbCIsYik7Y2hhbmdlPWIucmVwbGFjZShSZWdFeHAoIl4iK2MpLCIiKTtjPWIubGVuZ3RoPGMubGVuZ3RofHxjaGFuZ2UubGVuZ3RoIT1iLmxlbmd0aC1jLmxlbmd0aD9kLmNoaWxkcmVuKCk6ZC5jaGlsZHJlbigiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiKTtpZihiKXtmb3IodmFyIGcsaT0hMSxoPSIiLGw9Yy5sZW5ndGgtMTtsPj0wO2wtLSlnPWEoY1tsXSksaD1nLmpxbURhdGEoImZpbHRlcnRleHQiKXx8Zy50ZXh0KCksZy5pcygibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiKT8oZy50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsIWkpLGk9ITEpOmgudG9Mb3dlckNhc2UoKS5pbmRleE9mKGIpPT09LTE/Zy50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsCiEwKTppPSEwO2MuZmlsdGVyKCI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMSk7Yy5maWx0ZXIoIi51aS1maWx0ZXItaGlkZXF1ZXVlIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCEwKS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITEpfWVsc2UgYy50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITEpfSkuYXBwZW5kVG8oYikudGV4dGlucHV0KCk7YSh0aGlzKS5qcW1EYXRhKCJpbnNldCIpJiZiLmFkZENsYXNzKCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXQiKTtiLmluc2VydEJlZm9yZShkKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmRpYWxvZyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbG9zZUJ0blRleHQ6IkNsb3NlIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudDtkLmF0dHIoInJvbGUiLCJkaWFsb2ciKS5hZGRDbGFzcygidWktcGFnZSB1aS1kaWFsb2cgdWktYm9keS1hIikuZmluZCgiOmpxbURhdGEocm9sZT1oZWFkZXIpIikuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AgdWktb3ZlcmxheS1zaGFkb3ciKS5wcmVwZW5kKCI8YSBocmVmPScjJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2RlbGV0ZScgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcz0nbm90ZXh0Jz4iK3RoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQrIjwvYT4iKS5lbmQoKS5maW5kKCcudWktY29udGVudDpub3QoW2NsYXNzKj0idWktYm9keS0iXSknKS5hZGRDbGFzcygidWktYm9keS1jIikuZW5kKCkuZmluZCgiLnVpLWNvbnRlbnQsOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKS5sYXN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20gdWktb3ZlcmxheS1zaGFkb3ciKTsKZC5iaW5kKCJ2Y2xpY2sgc3VibWl0IixmdW5jdGlvbihjKXtjPWEoYy50YXJnZXQpLmNsb3Nlc3QoYy50eXBlPT09InZjbGljayI/ImEiOiJmb3JtIik7aWYoYy5sZW5ndGgmJiFjLmpxbURhdGEoInRyYW5zaXRpb24iKSl7dmFyIGI9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKXx8e307Yy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iLGIudHJhbnNpdGlvbnx8YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIiwicmV2ZXJzZSIpfX0pLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2EodGhpcykuZmluZCgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfSxjbG9zZTpmdW5jdGlvbigpe3dpbmRvdy5oaXN0b3J5LmJhY2soKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUubmF2YmFyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2ljb25wb3M6InRvcCIsZ3JpZDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9Yy5maW5kKCJhIiksZT1iLmZpbHRlcigiOmpxbURhdGEoaWNvbikiKS5sZW5ndGg/dGhpcy5vcHRpb25zLmljb25wb3M6ZDtjLmFkZENsYXNzKCJ1aS1uYXZiYXIiKS5hdHRyKCJyb2xlIiwibmF2aWdhdGlvbiIpLmZpbmQoInVsIikuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pO2V8fGMuYWRkQ2xhc3MoInVpLW5hdmJhci1ub2ljb25zIik7Yi5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITEsc2hhZG93OiExLGljb25wb3M6ZX0pO2MuZGVsZWdhdGUoImEiLCJ2Y2xpY2siLGZ1bmN0aW9uKCl7Yi5ub3QoIi51aS1zdGF0ZS1wZXJzaXN0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO2EodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5mbi5ncmlkPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hLmV4dGVuZCh7Z3JpZDpudWxsfSxkKSxiPWEodGhpcykuY2hpbGRyZW4oKSxlPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxjPWMuZ3JpZDtpZighYylpZihiLmxlbmd0aDw9NSlmb3IodmFyIGYgaW4gZSllW2ZdPT1iLmxlbmd0aCYmKGM9Zik7ZWxzZSBjPSJhIjtlPWVbY107YSh0aGlzKS5hZGRDbGFzcygidWktZ3JpZC0iK2MpO2IuZmlsdGVyKCI6bnRoLWNoaWxkKCIrZSsibisxKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1hIik7ZT4xJiZiLmZpbHRlcigiOm50aC1jaGlsZCgiK2UrIm4rMikiKS5hZGRDbGFzcygidWktYmxvY2stYiIpO2U+MiYmYi5maWx0ZXIoIjpudGgtY2hpbGQoM24rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpO2U+MyYmYi5maWx0ZXIoIjpudGgtY2hpbGQoNG4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpO2U+NCYmYi5maWx0ZXIoIjpudGgtY2hpbGQoNW4rNSkiKS5hZGRDbGFzcygidWktYmxvY2stZSIpfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCxjKXt2YXIgYj1hKCJodG1sIik7YSgiaGVhZCIpO3ZhciBlPWEoZCk7YShkLmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0Iik7aWYoYS5tb2JpbGUuZ3JhZGVBKCkpe2lmKGQuYmxhY2tiZXJyeSYmIWQuV2ViS2l0UG9pbnR8fGQub3BlcmFtaW5pJiZPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZC5vcGVyYW1pbmkpPT09IltvYmplY3QgT3BlcmFNaW5pXSIpYS5tb2JpbGUuYWpheEVuYWJsZWQ9ITE7Yi5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKTt2YXIgZj1hLm1vYmlsZS5sb2FkaW5nTWVzc2FnZT9hKCI8ZGl2IGNsYXNzPSd1aS1sb2FkZXIgdWktYm9keS1hIHVpLWNvcm5lci1hbGwnPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyBzcGluJz48L3NwYW4+PGgxPiIrYS5tb2JpbGUubG9hZGluZ01lc3NhZ2UrIjwvaDE+PC9kaXY+Iik6YzthLmV4dGVuZChhLm1vYmlsZSx7c2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7aWYoYS5tb2JpbGUubG9hZGluZ01lc3NhZ2Upe3ZhciBjPQphKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTtmLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJmEoZCkuc2Nyb2xsVG9wKCkrYShkKS5oZWlnaHQoKS8yfHxjLmxlbmd0aCYmYy5vZmZzZXQoKS50b3B8fDEwMH0pfWIuYWRkQ2xhc3MoInVpLWxvYWRpbmciKX0saGlkZVBhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcygidWktbG9hZGluZyIpfSxwYWdlTG9hZGluZzpmdW5jdGlvbihiKXtiP2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpOmEubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpfSxpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBiPWEoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpO2IuYWRkKCI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgidXJsIil8fGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKwoidXJsIixiLmF0dHIoImlkIikpfSk7YS5tb2JpbGUuZmlyc3RQYWdlPWIuZmlyc3QoKTthLm1vYmlsZS5wYWdlQ29udGFpbmVyPWIuZmlyc3QoKS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0Iik7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCk7IWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHwhYS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCk/YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246Im5vbmUiLHJldmVyc2U6ITAsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pOmUudHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSl9fSk7YShmdW5jdGlvbigpe2Quc2Nyb2xsVG8oMCwxKTthLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD0hYS5zdXBwb3J0LnNjcm9sbFRvcHx8YShkKS5zY3JvbGxUb3AoKT09PTE/MDoxO2EoYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UpO2UubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpfSl9fSkoalF1ZXJ5LAp0aGlzKTsK",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 21:58:25 GMT",
                    "Content-Length": "66639",
                    "Date": "Fri, 07 Nov 2014 21:58:40 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
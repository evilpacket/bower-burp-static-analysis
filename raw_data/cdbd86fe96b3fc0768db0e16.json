{
    "url": "http://localhost:9999/msurguy/triangles/js/triangles.min.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "HTML5 storage manipulation (DOM-based)",
    "issueType": 5246720,
    "severity": "Information",
    "confidence": "Firm",
    "issueBackground": "DOM-based HTML5 storage manipulation occurs when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and stores this data in the HTML5 storage of the web browser (either localStorage or sessionStorage). An attacker may be able to use this behavior to construct a URL which, if visited by another application user, will cause the user's browser to store attacker-controllable data.<br><br>This behavior does not in itself constitute a security vulnerability. However, if the application later reads the data back from storage and processes it in an unsafe way, then an attacker may be able to leverage the storage mechanism to deliver other DOM-based attacks, such as cross-site scripting and JavaScript injection.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>You should also review the ways in which the wider application uses data that is retrieved from HTML5 storage. If the data is never handled in an unsafe manner, then this behavior may not constitute any kind of vulnerability.<br><br>The most effective way to avoid DOM-based HTML5 storage manipulation is not to place in HTML5 storage any data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from being stored.",
    "issueDetail": "The application may be vulnerable to DOM-based HTML5 storage manipulation. Data is read from <b>document.location.href</b> and written to <b>localStorage.setItem()</b> via the following statement:<ul><li>localStorage.setItem(document.location.href+\".gui\",JSON.stringify(d.getSaveObject()))</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/msurguy/triangles/js/triangles.min.js",
                "path": "/msurguy/triangles/js/triangles.min.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9tc3VyZ3V5L3RyaWFuZ2xlcy9qcy90cmlhbmdsZXMubWluLmpzIEhUVFAvMS4xDQpIb3N0OiBsb2NhbGhvc3Q6OTk5OQ0KDQo=",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogODQ3MTINCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkRhdGU6IFNhdCwgMDggTm92IDIwMTQgMjM6MzU6NDQgR01UDQpMYXN0LU1vZGlmaWVkOiBTYXQsIDA4IE5vdiAyMDE0IDIzOjM1OjQzIEdNVA0KDQovKioKClRoZSBNSVQgTGljZW5zZSAoTUlUKQoKQ29weXJpZ2h0IChjKSAyMDE0IE1ha3NpbSBTdXJndXkKClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwp0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwpmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsCmNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgpJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUKU09GVFdBUkUuCgoqKi8KdmFyIERlbGF1bmF5OwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3ZhciBhPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxkPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxoPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxnO2ZvcihnPWIubGVuZ3RoO2ctLTspYltnXVswXTxhJiYoYT1iW2ddWzBdKSxiW2ddWzBdPmQmJihkPWJbZ11bMF0pLGJbZ11bMV08YyYmKGM9YltnXVsxXSksYltnXVsxXT5oJiYoaD1iW2ddWzFdKTtiPWQtYTtkPWgtYztoPU1hdGgubWF4KGIsZCk7YSs9LjUqYjtjKz0uNSpkO3JldHVybltbYS0yMCpoLGMtaF0sW2EsYysyMCpoXSxbYSsyMCpoLGMtaF1dfWZ1bmN0aW9uIGIoYixhLGMscCl7dmFyIGg9YlthXVswXSxnPWJbYV1bMV0sbT1iW2NdWzBdLHI9YltjXVsxXSxzPWJbcF1bMF0sbj1iW3BdWzFdLHE9TWF0aC5hYnMoZy1yKSx5PU1hdGguYWJzKHItbikseCx3O2lmKHE8ZCYmeTxkKXRocm93IEVycm9yKCJFZWshIENvaW5jaWRlbnQgcG9pbnRzISIpO3E8CmQ/KGI9KG0raCkvMixxPS0oKHMtbSkvKG4tcikpKihiLShtK3MpLzIpKyhyK24pLzIpOnk8ZD8oYj0ocyttKS8yLHE9LSgobS1oKS8oci1nKSkqKGItKGgrbSkvMikrKGcrcikvMik6KHg9LSgobS1oKS8oci1nKSksdz0tKChzLW0pLyhuLXIpKSxoPShoK20pLzIscz0obStzKS8yLGc9KGcrcikvMixuPShyK24pLzIsYj0oeCpoLXcqcytuLWcpLyh4LXcpLHE9cT55P3gqKGItaCkrZzp3KihiLXMpK24pO20tPWI7ci09cTtyZXR1cm57aTphLGo6YyxrOnAseDpiLHk6cSxyOm0qbStyKnJ9fWZ1bmN0aW9uIGMoYil7dmFyIGEsYyxkLGgsZyxtO2ZvcihjPWIubGVuZ3RoO2M7KWZvcihoPWJbLS1jXSxkPWJbLS1jXSxhPWM7YTspaWYobT1iWy0tYV0sZz1iWy0tYV0sZD09PWcmJmg9PT1tfHxkPT09bSYmaD09PWcpe2Iuc3BsaWNlKGMsMik7Yi5zcGxpY2UoYSwyKTticmVha319dmFyIGQ9MS8xMDQ4NTc2O0RlbGF1bmF5PXt0cmlhbmd1bGF0ZTpmdW5jdGlvbihlLGYpe3ZhciBrPWUubGVuZ3RoLApwLGgsZyxtLHIscyxuLHEseTtpZigzPmspcmV0dXJuW107ZT1lLnNsaWNlKDApO2lmKGYpZm9yKHA9aztwLS07KWVbcF09ZVtwXVtmXTtnPUFycmF5KGspO2ZvcihwPWs7cC0tOylnW3BdPXA7Zy5zb3J0KGZ1bmN0aW9uKGIsYSl7cmV0dXJuIGVbYV1bMF0tZVtiXVswXX0pO3A9YShlKTtlLnB1c2gocFswXSxwWzFdLHBbMl0pO209W2IoZSxrKzAsaysxLGsrMildO3I9W107cz1bXTtmb3IocD1nLmxlbmd0aDtwLS07cy5sZW5ndGg9MCl7eT1nW3BdO2ZvcihoPW0ubGVuZ3RoO2gtLTspbj1lW3ldWzBdLW1baF0ueCwwPG4mJm4qbj5tW2hdLnI/KHIucHVzaChtW2hdKSxtLnNwbGljZShoLDEpKToocT1lW3ldWzFdLW1baF0ueSxuKm4rcSpxLW1baF0ucj5kfHwocy5wdXNoKG1baF0uaSxtW2hdLmosbVtoXS5qLG1baF0uayxtW2hdLmssbVtoXS5pKSxtLnNwbGljZShoLDEpKSk7YyhzKTtmb3IoaD1zLmxlbmd0aDtoOylxPXNbLS1oXSxuPXNbLS1oXSxtLnB1c2goYihlLG4scSx5KSl9Zm9yKHA9Cm0ubGVuZ3RoO3AtLTspci5wdXNoKG1bcF0pO20ubGVuZ3RoPTA7Zm9yKHA9ci5sZW5ndGg7cC0tOylyW3BdLmk8ayYmcltwXS5qPGsmJnJbcF0uazxrJiZtLnB1c2gocltwXS5pLHJbcF0uaixyW3BdLmspO3JldHVybiBtfSxjb250YWluczpmdW5jdGlvbihiLGEpe2lmKGFbMF08YlswXVswXSYmYVswXTxiWzFdWzBdJiZhWzBdPGJbMl1bMF18fGFbMF0+YlswXVswXSYmYVswXT5iWzFdWzBdJiZhWzBdPmJbMl1bMF18fGFbMV08YlswXVsxXSYmYVsxXTxiWzFdWzFdJiZhWzFdPGJbMl1bMV18fGFbMV0+YlswXVsxXSYmYVsxXT5iWzFdWzFdJiZhWzFdPmJbMl1bMV0pcmV0dXJuIG51bGw7dmFyIGM9YlsxXVswXS1iWzBdWzBdLGQ9YlsyXVswXS1iWzBdWzBdLGg9YlsxXVsxXS1iWzBdWzFdLGc9YlsyXVsxXS1iWzBdWzFdLG09YypnLWQqaDtpZigwPT09bSlyZXR1cm4gbnVsbDtkPShnKihhWzBdLWJbMF1bMF0pLWQqKGFbMV0tYlswXVsxXSkpL207Yz0oYyooYVsxXS1iWzBdWzFdKS1oKgooYVswXS1iWzBdWzBdKSkvbTtyZXR1cm4gMD5kfHwwPmN8fDE8ZCtjP251bGw6W2QsY119fTsidW5kZWZpbmVkIiE9PXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1EZWxhdW5heSl9KSgpOwooZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYixhLGMpe2IuYWRkRXZlbnRMaXN0ZW5lcj9iLmFkZEV2ZW50TGlzdGVuZXIoYSxjLCExKTpiLmF0dGFjaEV2ZW50KCJvbiIrYSxjKX1mdW5jdGlvbiBlKGIpe2lmKCJrZXlwcmVzcyI9PWIudHlwZSl7dmFyIGE9U3RyaW5nLmZyb21DaGFyQ29kZShiLndoaWNoKTtiLnNoaWZ0S2V5fHwoYT1hLnRvTG93ZXJDYXNlKCkpO3JldHVybiBhfXJldHVybiBxW2Iud2hpY2hdP3FbYi53aGljaF06eVtiLndoaWNoXT95W2Iud2hpY2hdOlN0cmluZy5mcm9tQ2hhckNvZGUoYi53aGljaCkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBmKGIpe2I9Ynx8e307dmFyIGE9ITEsYztmb3IoYyBpbiBCKWJbY10/YT0hMDpCW2NdPTA7YXx8KEY9ITEpfWZ1bmN0aW9uIGsoYixhLGMsZixkLGUpe3ZhciBnLGssTj1bXSxoPWMudHlwZTtpZighdFtiXSlyZXR1cm5bXTsia2V5dXAiPT1oJiZtKGIpJiYoYT1bYl0pO2ZvcihnPTA7Zzx0W2JdLmxlbmd0aDsrK2cpaWYoaz0KdFtiXVtnXSwhKCFmJiZrLnNlcSYmQltrLnNlcV0hPWsubGV2ZWx8fGghPWsuYWN0aW9ufHwoImtleXByZXNzIiE9aHx8Yy5tZXRhS2V5fHxjLmN0cmxLZXkpJiZhLnNvcnQoKS5qb2luKCIsIikhPT1rLm1vZGlmaWVycy5zb3J0KCkuam9pbigiLCIpKSl7dmFyIHA9ZiYmay5zZXE9PWYmJmsubGV2ZWw9PWU7KCFmJiZrLmNvbWJvPT1kfHxwKSYmdFtiXS5zcGxpY2UoZywxKTtOLnB1c2goayl9cmV0dXJuIE59ZnVuY3Rpb24gcChiKXt2YXIgYT1bXTtiLnNoaWZ0S2V5JiZhLnB1c2goInNoaWZ0Iik7Yi5hbHRLZXkmJmEucHVzaCgiYWx0Iik7Yi5jdHJsS2V5JiZhLnB1c2goImN0cmwiKTtiLm1ldGFLZXkmJmEucHVzaCgibWV0YSIpO3JldHVybiBhfWZ1bmN0aW9uIGgoYixhLGMsZil7RS5zdG9wQ2FsbGJhY2soYSxhLnRhcmdldHx8YS5zcmNFbGVtZW50LGMsZil8fCExIT09YihhLGMpfHwoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSxhLnN0b3BQcm9wYWdhdGlvbj8KYS5zdG9wUHJvcGFnYXRpb24oKTphLmNhbmNlbEJ1YmJsZT0hMCl9ZnVuY3Rpb24gZyhiKXsibnVtYmVyIiE9PXR5cGVvZiBiLndoaWNoJiYoYi53aGljaD1iLmtleUNvZGUpO3ZhciBhPWUoYik7YSYmKCJrZXl1cCI9PWIudHlwZSYmSD09PWE/SD0hMTpFLmhhbmRsZUtleShhLHAoYiksYikpfWZ1bmN0aW9uIG0oYil7cmV0dXJuInNoaWZ0Ij09Ynx8ImN0cmwiPT1ifHwiYWx0Ij09Ynx8Im1ldGEiPT1ifWZ1bmN0aW9uIHIoYixhLGMsZCl7ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZnVuY3Rpb24oKXtGPWE7KytCW2JdO2NsZWFyVGltZW91dChDKTtDPXNldFRpbWVvdXQoZiwxRTMpfX1mdW5jdGlvbiBrKGEpe2goYyxhLGIpOyJrZXl1cCIhPT1kJiYoSD1lKGEpKTtzZXRUaW1lb3V0KGYsMTApfWZvcih2YXIgbT1CW2JdPTA7bTxhLmxlbmd0aDsrK20pe3ZhciBwPW0rMT09PWEubGVuZ3RoP2s6ZyhkfHxzKGFbbSsxXSkuYWN0aW9uKTtuKGFbbV0scCxkLGIsbSl9fWZ1bmN0aW9uIHMoYixhKXt2YXIgYywKZixkLGc9W107Yz0iKyI9PT1iP1siKyJdOmIuc3BsaXQoIisiKTtmb3IoZD0wO2Q8Yy5sZW5ndGg7KytkKWY9Y1tkXSx3W2ZdJiYoZj13W2ZdKSxhJiYia2V5cHJlc3MiIT1hJiZ4W2ZdJiYoZj14W2ZdLGcucHVzaCgic2hpZnQiKSksbShmKSYmZy5wdXNoKGYpO2M9ZjtkPWE7aWYoIWQpe2lmKCFEKXtEPXt9O2Zvcih2YXIgZSBpbiBxKTk1PGUmJjExMj5lfHxxLmhhc093blByb3BlcnR5KGUpJiYoRFtxW2VdXT1lKX1kPURbY10/ImtleWRvd24iOiJrZXlwcmVzcyJ9ImtleXByZXNzIj09ZCYmZy5sZW5ndGgmJihkPSJrZXlkb3duIik7cmV0dXJue2tleTpmLG1vZGlmaWVyczpnLGFjdGlvbjpkfX1mdW5jdGlvbiBuKGIsYSxjLGYsZCl7dltiKyI6IitjXT1hO2I9Yi5yZXBsYWNlKC9ccysvZywiICIpO3ZhciBlPWIuc3BsaXQoIiAiKTsxPGUubGVuZ3RoP3IoYixlLGEsYyk6KGM9cyhiLGMpLHRbYy5rZXldPXRbYy5rZXldfHxbXSxrKGMua2V5LGMubW9kaWZpZXJzLHt0eXBlOmMuYWN0aW9ufSwKZixiLGQpLHRbYy5rZXldW2Y/InVuc2hpZnQiOiJwdXNoIl0oe2NhbGxiYWNrOmEsbW9kaWZpZXJzOmMubW9kaWZpZXJzLGFjdGlvbjpjLmFjdGlvbixzZXE6ZixsZXZlbDpkLGNvbWJvOmJ9KSl9dmFyIHE9ezg6ImJhY2tzcGFjZSIsOToidGFiIiwxMzoiZW50ZXIiLDE2OiJzaGlmdCIsMTc6ImN0cmwiLDE4OiJhbHQiLDIwOiJjYXBzbG9jayIsMjc6ImVzYyIsMzI6InNwYWNlIiwzMzoicGFnZXVwIiwzNDoicGFnZWRvd24iLDM1OiJlbmQiLDM2OiJob21lIiwzNzoibGVmdCIsMzg6InVwIiwzOToicmlnaHQiLDQwOiJkb3duIiw0NToiaW5zIiw0NjoiZGVsIiw5MToibWV0YSIsOTM6Im1ldGEiLDIyNDoibWV0YSJ9LHk9ezEwNjoiKiIsMTA3OiIrIiwxMDk6Ii0iLDExMDoiLiIsMTExOiIvIiwxODY6IjsiLDE4NzoiPSIsMTg4OiIsIiwxODk6Ii0iLDE5MDoiLiIsMTkxOiIvIiwxOTI6ImAiLDIxOToiWyIsMjIwOiJcXCIsMjIxOiJdIiwyMjI6IicifSx4PXsifiI6ImAiLCIhIjoiMSIsCiJAIjoiMiIsIiMiOiIzIiwkOiI0IiwiJSI6IjUiLCJeIjoiNiIsIiYiOiI3IiwiKiI6IjgiLCIoIjoiOSIsIikiOiIwIixfOiItIiwiKyI6Ij0iLCI6IjoiOyIsJyInOiInIiwiPCI6IiwiLCI+IjoiLiIsIj8iOiIvIiwifCI6IlxcIn0sdz17b3B0aW9uOiJhbHQiLGNvbW1hbmQ6Im1ldGEiLCJyZXR1cm4iOiJlbnRlciIsZXNjYXBlOiJlc2MiLG1vZDovTWFjfGlQb2R8aVBob25lfGlQYWQvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKT8ibWV0YSI6ImN0cmwifSxELHQ9e30sdj17fSxCPXt9LEMsSD0hMSxHPSExLEY9ITE7Zm9yKGM9MTsyMD5jOysrYylxWzExMStjXT0iZiIrYztmb3IoYz0wOzk+PWM7KytjKXFbYys5Nl09YztkKGIsImtleXByZXNzIixnKTtkKGIsImtleWRvd24iLGcpO2QoYiwia2V5dXAiLGcpO3ZhciBFPXtiaW5kOmZ1bmN0aW9uKGIsYSxjKXtiPWIgaW5zdGFuY2VvZiBBcnJheT9iOltiXTtmb3IodmFyIGY9MDtmPGIubGVuZ3RoOysrZiluKGJbZl0sYSxjKTtyZXR1cm4gdGhpc30sCnVuYmluZDpmdW5jdGlvbihiLGEpe3JldHVybiBFLmJpbmQoYixmdW5jdGlvbigpe30sYSl9LHRyaWdnZXI6ZnVuY3Rpb24oYixhKXtpZih2W2IrIjoiK2FdKXZbYisiOiIrYV0oe30sYik7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7dD17fTt2PXt9O3JldHVybiB0aGlzfSxzdG9wQ2FsbGJhY2s6ZnVuY3Rpb24oYixhKXtyZXR1cm4tMTwoIiAiK2EuY2xhc3NOYW1lKyIgIikuaW5kZXhPZigiIG1vdXNldHJhcCAiKT8hMToiSU5QVVQiPT1hLnRhZ05hbWV8fCJTRUxFQ1QiPT1hLnRhZ05hbWV8fCJURVhUQVJFQSI9PWEudGFnTmFtZXx8YS5pc0NvbnRlbnRFZGl0YWJsZX0saGFuZGxlS2V5OmZ1bmN0aW9uKGIsYSxjKXt2YXIgZD1rKGIsYSxjKSxlO2E9e307dmFyIGc9MCxwPSExO2ZvcihlPTA7ZTxkLmxlbmd0aDsrK2UpZFtlXS5zZXEmJihnPU1hdGgubWF4KGcsZFtlXS5sZXZlbCkpO2ZvcihlPTA7ZTxkLmxlbmd0aDsrK2UpZFtlXS5zZXE/ZFtlXS5sZXZlbD09ZyYmKHA9ITAsCmFbZFtlXS5zZXFdPTEsaChkW2VdLmNhbGxiYWNrLGMsZFtlXS5jb21ibyxkW2VdLnNlcSkpOnB8fGgoZFtlXS5jYWxsYmFjayxjLGRbZV0uY29tYm8pO2Q9ImtleXByZXNzIj09Yy50eXBlJiZHO2MudHlwZSE9Rnx8bShiKXx8ZHx8ZihhKTtHPXAmJiJrZXlkb3duIj09Yy50eXBlfX07YS5Nb3VzZXRyYXA9RTsiZnVuY3Rpb24iPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKEUpfSkod2luZG93LGRvY3VtZW50KTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGEpe3JldHVybltdLnNsaWNlLmNhbGwoKGF8fGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKGIpKX1pZih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGI9d2luZG93LlN0eWxlRml4PXtsaW5rOmZ1bmN0aW9uKGEpe3RyeXtpZigic3R5bGVzaGVldCIhPT1hLnJlbHx8YS5oYXNBdHRyaWJ1dGUoImRhdGEtbm9wcmVmaXgiKSlyZXR1cm59Y2F0Y2goZCl7cmV0dXJufXZhciBlPWEuaHJlZnx8YS5nZXRBdHRyaWJ1dGUoImRhdGEtaHJlZiIpLGY9ZS5yZXBsYWNlKC9bXlwvXSskLywiIiksaz0oL15bYS16XXszLDEwfTovLmV4ZWMoZil8fFsiIl0pWzBdLHA9KC9eW2Etel17MywxMH06XC9cL1teXC9dKy8uZXhlYyhmKXx8WyIiXSlbMF0saD0vXihbXj9dKilcPz8vLmV4ZWMoZSlbMV0sZz1hLnBhcmVudE5vZGUsbT1uZXcgWE1MSHR0cFJlcXVlc3QscjttLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1tLnJlYWR5U3RhdGUmJgpyKCl9O3I9ZnVuY3Rpb24oKXt2YXIgZD1tLnJlc3BvbnNlVGV4dDtpZihkJiZhLnBhcmVudE5vZGUmJighbS5zdGF0dXN8fDQwMD5tLnN0YXR1c3x8NjAwPG0uc3RhdHVzKSl7ZD1iLmZpeChkLCEwLGEpO2lmKGYpdmFyIGQ9ZC5yZXBsYWNlKC91cmxcKFxzKj8oKD86InwnKT8pKC4rPylcMVxzKj9cKS9naSxmdW5jdGlvbihiLGEsYyl7cmV0dXJuL14oW2Etel17MywxMH06fCMpL2kudGVzdChjKT9iOi9eXC9cLy8udGVzdChjKT8ndXJsKCInK2srYysnIiknOi9eXC8vLnRlc3QoYyk/J3VybCgiJytwK2MrJyIpJzovXlw/Ly50ZXN0KGMpPyd1cmwoIicraCtjKyciKSc6J3VybCgiJytmK2MrJyIpJ30pLGU9Zi5yZXBsYWNlKC8oW1xcXF5cJCorW1xdP3t9Lj0hOih8KV0pL2csIlxcJDEiKSxkPWQucmVwbGFjZShSZWdFeHAoIlxcYihiZWhhdmlvcjpcXHMqP3VybFxcKCc/XCI/KSIrZSwiZ2kiKSwiJDEiKTtlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ZS50ZXh0Q29udGVudD0KZDtlLm1lZGlhPWEubWVkaWE7ZS5kaXNhYmxlZD1hLmRpc2FibGVkO2Uuc2V0QXR0cmlidXRlKCJkYXRhLWhyZWYiLGEuZ2V0QXR0cmlidXRlKCJocmVmIikpO2cuaW5zZXJ0QmVmb3JlKGUsYSk7Zy5yZW1vdmVDaGlsZChhKTtlLm1lZGlhPWEubWVkaWF9fTt0cnl7bS5vcGVuKCJHRVQiLGUpLG0uc2VuZChudWxsKX1jYXRjaChzKXsidW5kZWZpbmVkIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0JiYobT1uZXcgWERvbWFpblJlcXVlc3QsbS5vbmVycm9yPW0ub25wcm9ncmVzcz1mdW5jdGlvbigpe30sbS5vbmxvYWQ9cixtLm9wZW4oIkdFVCIsZSksbS5zZW5kKG51bGwpKX1hLnNldEF0dHJpYnV0ZSgiZGF0YS1pbnByb2dyZXNzIiwiIil9LHN0eWxlRWxlbWVudDpmdW5jdGlvbihhKXtpZighYS5oYXNBdHRyaWJ1dGUoImRhdGEtbm9wcmVmaXgiKSl7dmFyIGQ9YS5kaXNhYmxlZDthLnRleHRDb250ZW50PWIuZml4KGEudGV4dENvbnRlbnQsITAsYSk7YS5kaXNhYmxlZD1kfX0sc3R5bGVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9CmEuZ2V0QXR0cmlidXRlKCJzdHlsZSIpLGQ9Yi5maXgoZCwhMSxhKTthLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpfSxwcm9jZXNzOmZ1bmN0aW9uKCl7YSgnbGlua1tyZWw9InN0eWxlc2hlZXQiXTpub3QoW2RhdGEtaW5wcm9ncmVzc10pJykuZm9yRWFjaChTdHlsZUZpeC5saW5rKTthKCJzdHlsZSIpLmZvckVhY2goU3R5bGVGaXguc3R5bGVFbGVtZW50KTthKCJbc3R5bGVdIikuZm9yRWFjaChTdHlsZUZpeC5zdHlsZUF0dHJpYnV0ZSl9LHJlZ2lzdGVyOmZ1bmN0aW9uKGEsZCl7KGIuZml4ZXJzPWIuZml4ZXJzfHxbXSkuc3BsaWNlKHZvaWQgMD09PWQ/Yi5maXhlcnMubGVuZ3RoOmQsMCxhKX0sZml4OmZ1bmN0aW9uKGEsZCxlKXtmb3IodmFyIGY9MDtmPGIuZml4ZXJzLmxlbmd0aDtmKyspYT1iLmZpeGVyc1tmXShhLGQsZSl8fGE7cmV0dXJuIGF9LGNhbWVsQ2FzZTpmdW5jdGlvbihiKXtyZXR1cm4gYi5yZXBsYWNlKC8tKFthLXpdKS9nLGZ1bmN0aW9uKGIsYSl7cmV0dXJuIGEudG9VcHBlckNhc2UoKX0pLnJlcGxhY2UoIi0iLAoiIil9LGRlQ2FtZWxDYXNlOmZ1bmN0aW9uKGIpe3JldHVybiBiLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYil7cmV0dXJuIi0iK2IudG9Mb3dlckNhc2UoKX0pfX07KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2EoJ2xpbmtbcmVsPSJzdHlsZXNoZWV0Il0nKS5mb3JFYWNoKFN0eWxlRml4LmxpbmspfSwxMCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsU3R5bGVGaXgucHJvY2VzcywhMSl9KSgpfX0pKCk7CihmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsYSxmLGsscCl7Yj1jW2JdO2IubGVuZ3RoJiYoYj1SZWdFeHAoYSsiKCIrYi5qb2luKCJ8IikrIikiK2YsImdpIikscD1wLnJlcGxhY2UoYixrKSk7cmV0dXJuIHB9aWYod2luZG93LlN0eWxlRml4JiZ3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSl7dmFyIGM9d2luZG93LlByZWZpeEZyZWU9e3ByZWZpeENTUzpmdW5jdGlvbihhLGUsZil7dmFyIGs9Yy5wcmVmaXg7LTE8Yy5mdW5jdGlvbnMuaW5kZXhPZigibGluZWFyLWdyYWRpZW50IikmJihhPWEucmVwbGFjZSgvKFxzfDp8LCkocmVwZWF0aW5nLSk/bGluZWFyLWdyYWRpZW50XChccyooLT9cZCpcLj9cZCopZGVnL2lnLGZ1bmN0aW9uKGEsYixjLGYpe3JldHVybiBiKyhjfHwiIikrImxpbmVhci1ncmFkaWVudCgiKyg5MC1mKSsiZGVnIn0pKTthPWIoImZ1bmN0aW9ucyIsIihcXHN8OnwsKSIsIlxccypcXCgiLCIkMSIraysiJDIoIixhKTthPWIoImtleXdvcmRzIiwiKFxcc3w6KSIsIihcXHN8O3xcXH18JCkiLAoiJDEiK2srIiQyJDMiLGEpO2E9YigicHJvcGVydGllcyIsIihefFxce3xcXHN8OykiLCJcXHMqOiIsIiQxIitrKyIkMjoiLGEpO2lmKGMucHJvcGVydGllcy5sZW5ndGgpe3ZhciBwPVJlZ0V4cCgiXFxiKCIrYy5wcm9wZXJ0aWVzLmpvaW4oInwiKSsiKSg/ITopIiwiZ2kiKTthPWIoInZhbHVlUHJvcGVydGllcyIsIlxcYiIsIjooLis/KTsiLGZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCxrKyIkMSIpfSxhKX1lJiYoYT1iKCJzZWxlY3RvcnMiLCIiLCJcXGIiLGMucHJlZml4U2VsZWN0b3IsYSksYT1iKCJhdHJ1bGVzIiwiQCIsIlxcYiIsIkAiK2srIiQxIixhKSk7YT1hLnJlcGxhY2UoUmVnRXhwKCItIitrLCJnIiksIi0iKTtyZXR1cm4gYT1hLnJlcGxhY2UoLy1cKi0oPz1bYS16XSspL2dpLGMucHJlZml4KX0scHJvcGVydHk6ZnVuY3Rpb24oYSl7cmV0dXJuKGMucHJvcGVydGllcy5pbmRleE9mKGEpP2MucHJlZml4OiIiKSthfSx2YWx1ZTpmdW5jdGlvbihhLGUpe2E9YigiZnVuY3Rpb25zIiwKIihefFxcc3wsKSIsIlxccypcXCgiLCIkMSIrYy5wcmVmaXgrIiQyKCIsYSk7cmV0dXJuIGE9Yigia2V5d29yZHMiLCIoXnxcXHMpIiwiKFxcc3wkKSIsIiQxIitjLnByZWZpeCsiJDIkMyIsYSl9LHByZWZpeFNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL146ezEsMn0vLGZ1bmN0aW9uKGEpe3JldHVybiBhK2MucHJlZml4fSl9LHByZWZpeFByb3BlcnR5OmZ1bmN0aW9uKGEsYil7dmFyIGY9Yy5wcmVmaXgrYTtyZXR1cm4gYj9TdHlsZUZpeC5jYW1lbENhc2UoZik6Zn19OyhmdW5jdGlvbigpe3ZhciBhPXt9LGI9W10sZj1nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxudWxsKSxrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLHA9ZnVuY3Rpb24oYyl7aWYoIi0iPT09Yy5jaGFyQXQoMCkpe2IucHVzaChjKTtjPWMuc3BsaXQoIi0iKTt2YXIgZj1jWzFdO2ZvcihhW2ZdPSsrYVtmXXx8MTszPGMubGVuZ3RoOyljLnBvcCgpLApmPWMuam9pbigiLSIpLFN0eWxlRml4LmNhbWVsQ2FzZShmKWluIGsmJi0xPT09Yi5pbmRleE9mKGYpJiZiLnB1c2goZil9fTtpZigwPGYubGVuZ3RoKWZvcih2YXIgaD0wO2g8Zi5sZW5ndGg7aCsrKXAoZltoXSk7ZWxzZSBmb3IodmFyIGcgaW4gZilwKFN0eWxlRml4LmRlQ2FtZWxDYXNlKGcpKTt2YXIgaD17dXNlczowfSxtO2ZvcihtIGluIGEpZj1hW21dLGgudXNlczxmJiYoaD17cHJlZml4Om0sdXNlczpmfSk7Yy5wcmVmaXg9Ii0iK2gucHJlZml4KyItIjtjLlByZWZpeD1TdHlsZUZpeC5jYW1lbENhc2UoYy5wcmVmaXgpO2MucHJvcGVydGllcz1bXTtmb3IoaD0wO2g8Yi5sZW5ndGg7aCsrKWc9YltoXSwwPT09Zy5pbmRleE9mKGMucHJlZml4KSYmKG09Zy5zbGljZShjLnByZWZpeC5sZW5ndGgpLFN0eWxlRml4LmNhbWVsQ2FzZShtKWluIGt8fGMucHJvcGVydGllcy5wdXNoKG0pKTshKCJNcyIhPWMuUHJlZml4fHwidHJhbnNmb3JtImluIGt8fCJNc1RyYW5zZm9ybSJpbiBrKSYmCiJtc1RyYW5zZm9ybSJpbiBrJiZjLnByb3BlcnRpZXMucHVzaCgidHJhbnNmb3JtIiwidHJhbnNmb3JtLW9yaWdpbiIpO2MucHJvcGVydGllcy5zb3J0KCl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtrW2NdPSIiO2tbY109YjtyZXR1cm4hIWtbY119dmFyIGI9eyJsaW5lYXItZ3JhZGllbnQiOntwcm9wZXJ0eToiYmFja2dyb3VuZEltYWdlIixwYXJhbXM6InJlZCwgdGVhbCJ9LGNhbGM6e3Byb3BlcnR5OiJ3aWR0aCIscGFyYW1zOiIxcHggKyA1JSJ9LGVsZW1lbnQ6e3Byb3BlcnR5OiJiYWNrZ3JvdW5kSW1hZ2UiLHBhcmFtczoiI2ZvbyJ9LCJjcm9zcy1mYWRlIjp7cHJvcGVydHk6ImJhY2tncm91bmRJbWFnZSIscGFyYW1zOiJ1cmwoYS5wbmcpLCB1cmwoYi5wbmcpLCA1MCUifX07YlsicmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCJdPWJbInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnQiXT1iWyJyYWRpYWwtZ3JhZGllbnQiXT1iWyJsaW5lYXItZ3JhZGllbnQiXTt2YXIgZj0Ke2luaXRpYWw6ImNvbG9yIiwiem9vbS1pbiI6ImN1cnNvciIsInpvb20tb3V0IjoiY3Vyc29yIixib3g6ImRpc3BsYXkiLGZsZXhib3g6ImRpc3BsYXkiLCJpbmxpbmUtZmxleGJveCI6ImRpc3BsYXkiLGZsZXg6ImRpc3BsYXkiLCJpbmxpbmUtZmxleCI6ImRpc3BsYXkiLGdyaWQ6ImRpc3BsYXkiLCJpbmxpbmUtZ3JpZCI6ImRpc3BsYXkiLCJtaW4tY29udGVudCI6IndpZHRoIn07Yy5mdW5jdGlvbnM9W107Yy5rZXl3b3Jkcz1bXTt2YXIgaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSxwO2ZvcihwIGluIGIpe3ZhciBoPWJbcF0sZz1oLnByb3BlcnR5LGg9cCsiKCIraC5wYXJhbXMrIikiOyFhKGgsZykmJmEoYy5wcmVmaXgraCxnKSYmYy5mdW5jdGlvbnMucHVzaChwKX1mb3IodmFyIG0gaW4gZilnPWZbbV0sIWEobSxnKSYmYShjLnByZWZpeCttLGcpJiZjLmtleXdvcmRzLnB1c2gobSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7ay50ZXh0Q29udGVudD0KYSsie30iO3JldHVybiEhay5zaGVldC5jc3NSdWxlcy5sZW5ndGh9dmFyIGU9eyI6cmVhZC1vbmx5IjpudWxsLCI6cmVhZC13cml0ZSI6bnVsbCwiOmFueS1saW5rIjpudWxsLCI6OnNlbGVjdGlvbiI6bnVsbH0sZj17a2V5ZnJhbWVzOiJuYW1lIix2aWV3cG9ydDpudWxsLGRvY3VtZW50OidyZWdleHAoIi4iKSd9O2Muc2VsZWN0b3JzPVtdO2MuYXRydWxlcz1bXTt2YXIgaz1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIikpLHA7Zm9yKHAgaW4gZSl7dmFyIGg9cCsoZVtwXT8iKCIrZVtwXSsiKSI6IiIpOyFiKGgpJiZiKGMucHJlZml4U2VsZWN0b3IoaCkpJiZjLnNlbGVjdG9ycy5wdXNoKHApfWZvcih2YXIgZyBpbiBmKWg9ZysiICIrKGZbZ118fCIiKSwhYigiQCIraCkmJmIoIkAiK2MucHJlZml4K2gpJiZjLmF0cnVsZXMucHVzaChnKTthLnJlbW92ZUNoaWxkKGspfSkoKTtjLnZhbHVlUHJvcGVydGllcz1bInRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uLXByb3BlcnR5Il07CmEuY2xhc3NOYW1lKz0iICIrYy5wcmVmaXg7U3R5bGVGaXgucmVnaXN0ZXIoYy5wcmVmaXhDU1MpfX0pKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7RlNTPXtGUk9OVDowLEJBQ0s6MSxET1VCTEU6MixTVkdOUzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcifTtGU1MuQXJyYXk9ImZ1bmN0aW9uIj09PXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O0ZTUy5VdGlscz17aXNOdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoYSkpJiZpc0Zpbml0ZShhKX19OwooZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPVsibXMiLCJtb3oiLCJ3ZWJraXQiLCJvIl0sYz0wO2M8Yi5sZW5ndGgmJiF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOysrYyl3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvd1tiW2NdKyJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9d2luZG93W2JbY10rIkNhbmNlbEFuaW1hdGlvbkZyYW1lIl18fHdpbmRvd1tiW2NdKyJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXTt3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbihiLGMpe3ZhciBmPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGs9TWF0aC5tYXgoMCwxNi0oZi1hKSkscD13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2IoZitrKX0sayk7YT1mK2s7cmV0dXJuIHB9KTt3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9CmZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX0pfSkoKTtNYXRoLlBJTTI9MipNYXRoLlBJO01hdGguUElEMj1NYXRoLlBJLzI7TWF0aC5yYW5kb21JblJhbmdlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGErKGItYSkqTWF0aC5yYW5kb20oKX07TWF0aC5jbGFtcD1mdW5jdGlvbihhLGIsYyl7YT1NYXRoLm1heChhLGIpO3JldHVybiBhPU1hdGgubWluKGEsYyl9OwpGU1MuVmVjdG9yMz17Y3JlYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgRlNTLkFycmF5KDMpO3RoaXMuc2V0KGQsYSxiLGMpO3JldHVybiBkfSxjbG9uZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZSgpO3RoaXMuY29weShiLGEpO3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCl7YVswXT1ifHwwO2FbMV09Y3x8MDthWzJdPWR8fDA7cmV0dXJuIHRoaXN9LHNldFg6ZnVuY3Rpb24oYSxiKXthWzBdPWJ8fDA7cmV0dXJuIHRoaXN9LHNldFk6ZnVuY3Rpb24oYSxiKXthWzFdPWJ8fDA7cmV0dXJuIHRoaXN9LHNldFo6ZnVuY3Rpb24oYSxiKXthWzJdPWJ8fDA7cmV0dXJuIHRoaXN9LGNvcHk6ZnVuY3Rpb24oYSxiKXthWzBdPWJbMF07YVsxXT1iWzFdO2FbMl09YlsyXTtyZXR1cm4gdGhpc30sYWRkOmZ1bmN0aW9uKGEsYil7YVswXSs9YlswXTthWzFdKz1iWzFdO2FbMl0rPWJbMl07cmV0dXJuIHRoaXN9LGFkZFZlY3RvcnM6ZnVuY3Rpb24oYSxiLGMpe2FbMF09YlswXSsKY1swXTthWzFdPWJbMV0rY1sxXTthWzJdPWJbMl0rY1syXTtyZXR1cm4gdGhpc30sYWRkU2NhbGFyOmZ1bmN0aW9uKGEsYil7YVswXSs9YjthWzFdKz1iO2FbMl0rPWI7cmV0dXJuIHRoaXN9LHN1YnRyYWN0OmZ1bmN0aW9uKGEsYil7YVswXS09YlswXTthWzFdLT1iWzFdO2FbMl0tPWJbMl07cmV0dXJuIHRoaXN9LHN1YnRyYWN0VmVjdG9yczpmdW5jdGlvbihhLGIsYyl7YVswXT1iWzBdLWNbMF07YVsxXT1iWzFdLWNbMV07YVsyXT1iWzJdLWNbMl07cmV0dXJuIHRoaXN9LHN1YnRyYWN0U2NhbGFyOmZ1bmN0aW9uKGEsYil7YVswXS09YjthWzFdLT1iO2FbMl0tPWI7cmV0dXJuIHRoaXN9LG11bHRpcGx5OmZ1bmN0aW9uKGEsYil7YVswXSo9YlswXTthWzFdKj1iWzFdO2FbMl0qPWJbMl07cmV0dXJuIHRoaXN9LG11bHRpcGx5VmVjdG9yczpmdW5jdGlvbihhLGIsYyl7YVswXT1iWzBdKmNbMF07YVsxXT1iWzFdKmNbMV07YVsyXT1iWzJdKmNbMl07cmV0dXJuIHRoaXN9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uKGEsCmIpe2FbMF0qPWI7YVsxXSo9YjthWzJdKj1iO3JldHVybiB0aGlzfSxkaXZpZGU6ZnVuY3Rpb24oYSxiKXthWzBdLz1iWzBdO2FbMV0vPWJbMV07YVsyXS89YlsyXTtyZXR1cm4gdGhpc30sZGl2aWRlVmVjdG9yczpmdW5jdGlvbihhLGIsYyl7YVswXT1iWzBdL2NbMF07YVsxXT1iWzFdL2NbMV07YVsyXT1iWzJdL2NbMl07cmV0dXJuIHRoaXN9LGRpdmlkZVNjYWxhcjpmdW5jdGlvbihhLGIpezAhPT1iPyhhWzBdLz1iLGFbMV0vPWIsYVsyXS89Yik6KGFbMF09MCxhWzFdPTAsYVsyXT0wKTtyZXR1cm4gdGhpc30sY3Jvc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hWzBdLGQ9YVsxXSxlPWFbMl07YVswXT1kKmJbMl0tZSpiWzFdO2FbMV09ZSpiWzBdLWMqYlsyXTthWzJdPWMqYlsxXS1kKmJbMF07cmV0dXJuIHRoaXN9LGNyb3NzVmVjdG9yczpmdW5jdGlvbihhLGIsYyl7YVswXT1iWzFdKmNbMl0tYlsyXSpjWzFdO2FbMV09YlsyXSpjWzBdLWJbMF0qY1syXTthWzJdPWJbMF0qY1sxXS1iWzFdKgpjWzBdO3JldHVybiB0aGlzfSxtaW46ZnVuY3Rpb24oYSxiKXthWzBdPGImJihhWzBdPWIpO2FbMV08YiYmKGFbMV09Yik7YVsyXTxiJiYoYVsyXT1iKTtyZXR1cm4gdGhpc30sbWF4OmZ1bmN0aW9uKGEsYil7YVswXT5iJiYoYVswXT1iKTthWzFdPmImJihhWzFdPWIpO2FbMl0+YiYmKGFbMl09Yik7cmV0dXJuIHRoaXN9LGNsYW1wOmZ1bmN0aW9uKGEsYixjKXt0aGlzLm1pbihhLGIpO3RoaXMubWF4KGEsYyk7cmV0dXJuIHRoaXN9LGxpbWl0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmxlbmd0aChhKTtudWxsIT09YiYmZDxiP3RoaXMuc2V0TGVuZ3RoKGEsYik6bnVsbCE9PWMmJmQ+YyYmdGhpcy5zZXRMZW5ndGgoYSxjKTtyZXR1cm4gdGhpc30sZG90OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMF0qYlswXSthWzFdKmJbMV0rYVsyXSpiWzJdfSxub3JtYWxpc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKGEsdGhpcy5sZW5ndGgoYSkpfSxuZWdhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoYSwKLTEpfSxkaXN0YW5jZVNxdWFyZWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hWzBdLWJbMF0sZD1hWzFdLWJbMV0sZT1hWzJdLWJbMl07cmV0dXJuIGMqYytkKmQrZSplfSxkaXN0YW5jZTpmdW5jdGlvbihhLGIpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVNxdWFyZWQoYSxiKSl9LGxlbmd0aFNxdWFyZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMF0qYVswXSthWzFdKmFbMV0rYVsyXSphWzJdfSxsZW5ndGg6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoYSkpfSxzZXRMZW5ndGg6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmxlbmd0aChhKTswIT09YyYmYiE9PWMmJnRoaXMubXVsdGlwbHlTY2FsYXIoYSxiL2MpO3JldHVybiB0aGlzfX07CkZTUy5WZWN0b3I0PXtjcmVhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7ZD1uZXcgRlNTLkFycmF5KDQpO3RoaXMuc2V0KGQsYSxiLGMpO3JldHVybiBkfSxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXthWzBdPWJ8fDA7YVsxXT1jfHwwO2FbMl09ZHx8MDthWzNdPWV8fDA7cmV0dXJuIHRoaXN9LHNldFg6ZnVuY3Rpb24oYSxiKXthWzBdPWJ8fDA7cmV0dXJuIHRoaXN9LHNldFk6ZnVuY3Rpb24oYSxiKXthWzFdPWJ8fDA7cmV0dXJuIHRoaXN9LHNldFo6ZnVuY3Rpb24oYSxiKXthWzJdPWJ8fDA7cmV0dXJuIHRoaXN9LHNldFc6ZnVuY3Rpb24oYSxiKXthWzNdPWJ8fDA7cmV0dXJuIHRoaXN9LGFkZDpmdW5jdGlvbihhLGIpe2FbMF0rPWJbMF07YVsxXSs9YlsxXTthWzJdKz1iWzJdO2FbM10rPWJbM107cmV0dXJuIHRoaXN9LG11bHRpcGx5VmVjdG9yczpmdW5jdGlvbihhLGIsYyl7YVswXT1iWzBdKmNbMF07YVsxXT1iWzFdKmNbMV07YVsyXT1iWzJdKmNbMl07YVszXT1iWzNdKmNbM107cmV0dXJuIHRoaXN9LAptdWx0aXBseVNjYWxhcjpmdW5jdGlvbihhLGIpe2FbMF0qPWI7YVsxXSo9YjthWzJdKj1iO2FbM10qPWI7cmV0dXJuIHRoaXN9LG1pbjpmdW5jdGlvbihhLGIpe2FbMF08YiYmKGFbMF09Yik7YVsxXTxiJiYoYVsxXT1iKTthWzJdPGImJihhWzJdPWIpO2FbM108YiYmKGFbM109Yik7cmV0dXJuIHRoaXN9LG1heDpmdW5jdGlvbihhLGIpe2FbMF0+YiYmKGFbMF09Yik7YVsxXT5iJiYoYVsxXT1iKTthWzJdPmImJihhWzJdPWIpO2FbM10+YiYmKGFbM109Yik7cmV0dXJuIHRoaXN9LGNsYW1wOmZ1bmN0aW9uKGEsYixjKXt0aGlzLm1pbihhLGIpO3RoaXMubWF4KGEsYyk7cmV0dXJuIHRoaXN9fTtGU1MuQ29sb3I9ZnVuY3Rpb24oYSxiKXt0aGlzLnJnYmE9RlNTLlZlY3RvcjQuY3JlYXRlKCk7dGhpcy5oZXg9YXx8IiMwMDAwMDAiO3RoaXMub3BhY2l0eT1GU1MuVXRpbHMuaXNOdW1iZXIoYik/YjoxO3RoaXMuc2V0KHRoaXMuaGV4LHRoaXMub3BhY2l0eSl9OwpGU1MuQ29sb3IucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYSxiKXthPWEucmVwbGFjZSgiIyIsIiIpO3ZhciBjPWEubGVuZ3RoLzM7dGhpcy5yZ2JhWzBdPXBhcnNlSW50KGEuc3Vic3RyaW5nKDAqYywxKmMpLDE2KS8yNTU7dGhpcy5yZ2JhWzFdPXBhcnNlSW50KGEuc3Vic3RyaW5nKDEqYywyKmMpLDE2KS8yNTU7dGhpcy5yZ2JhWzJdPXBhcnNlSW50KGEuc3Vic3RyaW5nKDIqYywzKmMpLDE2KS8yNTU7dGhpcy5yZ2JhWzNdPUZTUy5VdGlscy5pc051bWJlcihiKT9iOnRoaXMucmdiYVszXTtyZXR1cm4gdGhpc30saGV4aWZ5OmZ1bmN0aW9uKGEpe2E9TWF0aC5jZWlsKDI1NSphKS50b1N0cmluZygxNik7MT09PWEubGVuZ3RoJiYoYT0iMCIrYSk7cmV0dXJuIGF9LGZvcm1hdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaGV4aWZ5KHRoaXMucmdiYVswXSksYj10aGlzLmhleGlmeSh0aGlzLnJnYmFbMV0pLGM9dGhpcy5oZXhpZnkodGhpcy5yZ2JhWzJdKTtyZXR1cm4gdGhpcy5oZXg9IiMiKwphK2IrY319O0ZTUy5PYmplY3Q9ZnVuY3Rpb24oKXt0aGlzLnBvc2l0aW9uPUZTUy5WZWN0b3IzLmNyZWF0ZSgpfTtGU1MuT2JqZWN0LnByb3RvdHlwZT17c2V0UG9zaXRpb246ZnVuY3Rpb24oYSxiLGMpe0ZTUy5WZWN0b3IzLnNldCh0aGlzLnBvc2l0aW9uLGEsYixjKTtyZXR1cm4gdGhpc319O0ZTUy5MaWdodD1mdW5jdGlvbihhLGIpe0ZTUy5PYmplY3QuY2FsbCh0aGlzKTt0aGlzLmFtYmllbnQ9bmV3IEZTUy5Db2xvcihhfHwiI0ZGRkZGRiIpO3RoaXMuZGlmZnVzZT1uZXcgRlNTLkNvbG9yKGJ8fCIjRkZGRkZGIik7dGhpcy5yYXk9RlNTLlZlY3RvcjMuY3JlYXRlKCl9O0ZTUy5MaWdodC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShGU1MuT2JqZWN0LnByb3RvdHlwZSk7RlNTLlZlcnRleD1mdW5jdGlvbihhLGIsYyl7dGhpcy5wb3NpdGlvbj1GU1MuVmVjdG9yMy5jcmVhdGUoYSxiLGMpfTsKRlNTLlZlcnRleC5wcm90b3R5cGU9e3NldFBvc2l0aW9uOmZ1bmN0aW9uKGEsYixjKXtGU1MuVmVjdG9yMy5zZXQodGhpcy5wb3NpdGlvbixhLGIsYyk7cmV0dXJuIHRoaXN9fTsKRlNTLlRyaWFuZ2xlPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmE9YXx8bmV3IEZTUy5WZXJ0ZXg7dGhpcy5iPWJ8fG5ldyBGU1MuVmVydGV4O3RoaXMuYz1jfHxuZXcgRlNTLlZlcnRleDt0aGlzLnZlcnRpY2VzPVt0aGlzLmEsdGhpcy5iLHRoaXMuY107dGhpcy51PUZTUy5WZWN0b3IzLmNyZWF0ZSgpO3RoaXMudj1GU1MuVmVjdG9yMy5jcmVhdGUoKTt0aGlzLmNlbnRyb2lkPUZTUy5WZWN0b3IzLmNyZWF0ZSgpO3RoaXMubm9ybWFsPUZTUy5WZWN0b3IzLmNyZWF0ZSgpO3RoaXMuY29sb3I9bmV3IEZTUy5Db2xvcjt0aGlzLnBvbHlnb249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEZTUy5TVkdOUywicG9seWdvbiIpO3RoaXMucG9seWdvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UtbGluZWpvaW4iLCJyb3VuZCIpO3RoaXMucG9seWdvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJzdHJva2UtbWl0ZXJsaW1pdCIsIjEiKTt0aGlzLnBvbHlnb24uc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLXdpZHRoIiwKIjEiKTt0aGlzLmNvbXB1dGVDZW50cm9pZCgpO3RoaXMuY29tcHV0ZU5vcm1hbCgpfTsKRlNTLlRyaWFuZ2xlLnByb3RvdHlwZT17Y29tcHV0ZUNlbnRyb2lkOmZ1bmN0aW9uKCl7dGhpcy5jZW50cm9pZFswXT10aGlzLmEucG9zaXRpb25bMF0rdGhpcy5iLnBvc2l0aW9uWzBdK3RoaXMuYy5wb3NpdGlvblswXTt0aGlzLmNlbnRyb2lkWzFdPXRoaXMuYS5wb3NpdGlvblsxXSt0aGlzLmIucG9zaXRpb25bMV0rdGhpcy5jLnBvc2l0aW9uWzFdO3RoaXMuY2VudHJvaWRbMl09dGhpcy5hLnBvc2l0aW9uWzJdK3RoaXMuYi5wb3NpdGlvblsyXSt0aGlzLmMucG9zaXRpb25bMl07RlNTLlZlY3RvcjMuZGl2aWRlU2NhbGFyKHRoaXMuY2VudHJvaWQsMyk7cmV0dXJuIHRoaXN9LGNvbXB1dGVOb3JtYWw6ZnVuY3Rpb24oKXtGU1MuVmVjdG9yMy5zdWJ0cmFjdFZlY3RvcnModGhpcy51LHRoaXMuYi5wb3NpdGlvbix0aGlzLmEucG9zaXRpb24pO0ZTUy5WZWN0b3IzLnN1YnRyYWN0VmVjdG9ycyh0aGlzLnYsdGhpcy5jLnBvc2l0aW9uLHRoaXMuYS5wb3NpdGlvbik7RlNTLlZlY3RvcjMuY3Jvc3NWZWN0b3JzKHRoaXMubm9ybWFsLAp0aGlzLnUsdGhpcy52KTtGU1MuVmVjdG9yMy5ub3JtYWxpc2UodGhpcy5ub3JtYWwpO3JldHVybiB0aGlzfX07RlNTLkdlb21ldHJ5PWZ1bmN0aW9uKCl7dGhpcy52ZXJ0aWNlcz1bXTt0aGlzLnRyaWFuZ2xlcz1bXTt0aGlzLmRpcnR5PSExfTtGU1MuR2VvbWV0cnkucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLmRpcnR5KXt2YXIgYSxiO2ZvcihhPXRoaXMudHJpYW5nbGVzLmxlbmd0aC0xOzA8PWE7YS0tKWI9dGhpcy50cmlhbmdsZXNbYV0sYi5jb21wdXRlQ2VudHJvaWQoKSxiLmNvbXB1dGVOb3JtYWwoKTt0aGlzLmRpcnR5PSExfXJldHVybiB0aGlzfX07CkZTUy5QbGFuZT1mdW5jdGlvbihhLGIsYyl7RlNTLkdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy53aWR0aD1hfHwxMDA7dGhpcy5oZWlnaHQ9Ynx8MTAwO3ZhciBkLGU7Yz1BcnJheShjKTtvZmZzZXRYPS0uNSp0aGlzLndpZHRoO29mZnNldFk9LjUqdGhpcy5oZWlnaHQ7Zm9yKGY9Yy5sZW5ndGg7Zi0tOylkPW9mZnNldFgrTWF0aC5yYW5kb20oKSphLGU9b2Zmc2V0WS1NYXRoLnJhbmRvbSgpKmIsY1tmXT1bZCxlXTtjLnB1c2goW29mZnNldFgsb2Zmc2V0WV0pO2MucHVzaChbb2Zmc2V0WCthLzIsb2Zmc2V0WV0pO2MucHVzaChbb2Zmc2V0WCthLG9mZnNldFldKTtjLnB1c2goW29mZnNldFgrYSxvZmZzZXRZLWIvMl0pO2MucHVzaChbb2Zmc2V0WCthLG9mZnNldFktYl0pO2MucHVzaChbb2Zmc2V0WCthLzIsb2Zmc2V0WS1iXSk7Yy5wdXNoKFtvZmZzZXRYLG9mZnNldFktYl0pO2MucHVzaChbb2Zmc2V0WCxvZmZzZXRZLWIvMl0pO2Zvcih2YXIgZj02OzA8PWY7Zi0tKWMucHVzaChbb2Zmc2V0WCsKTWF0aC5yYW5kb20oKSphLG9mZnNldFldKSxjLnB1c2goW29mZnNldFgsb2Zmc2V0WS1NYXRoLnJhbmRvbSgpKmJdKSxjLnB1c2goW29mZnNldFgrYSxvZmZzZXRZLU1hdGgucmFuZG9tKCkqYl0pLGMucHVzaChbb2Zmc2V0WCtNYXRoLnJhbmRvbSgpKmEsb2Zmc2V0WS1iXSk7YT1EZWxhdW5heS50cmlhbmd1bGF0ZShjKTtmb3IoZj1hLmxlbmd0aDtmOyktLWYsdjE9bmV3IEZTUy5WZXJ0ZXgoTWF0aC5jZWlsKGNbYVtmXV1bMF0pLE1hdGguY2VpbChjW2FbZl1dWzFdKSksLS1mLHYyPW5ldyBGU1MuVmVydGV4KE1hdGguY2VpbChjW2FbZl1dWzBdKSxNYXRoLmNlaWwoY1thW2ZdXVsxXSkpLC0tZix2Mz1uZXcgRlNTLlZlcnRleChNYXRoLmNlaWwoY1thW2ZdXVswXSksTWF0aC5jZWlsKGNbYVtmXV1bMV0pKSx0MT1uZXcgRlNTLlRyaWFuZ2xlKHYxLHYyLHYzKSx0aGlzLnRyaWFuZ2xlcy5wdXNoKHQxKSx0aGlzLnZlcnRpY2VzLnB1c2godjEpLHRoaXMudmVydGljZXMucHVzaCh2MiksCnRoaXMudmVydGljZXMucHVzaCh2Myl9O0ZTUy5QbGFuZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShGU1MuR2VvbWV0cnkucHJvdG90eXBlKTtGU1MuTWF0ZXJpYWw9ZnVuY3Rpb24oYSxiKXt0aGlzLmFtYmllbnQ9bmV3IEZTUy5Db2xvcihhfHwiIzQ0NDQ0NCIpO3RoaXMuZGlmZnVzZT1uZXcgRlNTLkNvbG9yKGJ8fCIjRkZGRkZGIik7dGhpcy5zbGF2ZT1uZXcgRlNTLkNvbG9yfTtGU1MuTWVzaD1mdW5jdGlvbihhLGIpe0ZTUy5PYmplY3QuY2FsbCh0aGlzKTt0aGlzLmdlb21ldHJ5PWF8fG5ldyBGU1MuR2VvbWV0cnk7dGhpcy5tYXRlcmlhbD1ifHxuZXcgRlNTLk1hdGVyaWFsO3RoaXMuc2lkZT1GU1MuRlJPTlQ7dGhpcy52aXNpYmxlPSEwfTtGU1MuTWVzaC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShGU1MuT2JqZWN0LnByb3RvdHlwZSk7CkZTUy5NZXNoLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixrO3RoaXMuZ2VvbWV0cnkudXBkYXRlKCk7aWYoYilmb3IoYz10aGlzLmdlb21ldHJ5LnRyaWFuZ2xlcy5sZW5ndGgtMTswPD1jO2MtLSl7ZD10aGlzLmdlb21ldHJ5LnRyaWFuZ2xlc1tjXTtGU1MuVmVjdG9yNC5zZXQoZC5jb2xvci5yZ2JhKTtmb3IoZT1hLmxlbmd0aC0xOzA8PWU7ZS0tKWY9YVtlXSxGU1MuVmVjdG9yMy5zdWJ0cmFjdFZlY3RvcnMoZi5yYXksZi5wb3NpdGlvbixkLmNlbnRyb2lkKSxGU1MuVmVjdG9yMy5ub3JtYWxpc2UoZi5yYXkpLGs9RlNTLlZlY3RvcjMuZG90KGQubm9ybWFsLGYucmF5KSx0aGlzLnNpZGU9PT1GU1MuRlJPTlQ/az1NYXRoLm1heChrLDApOnRoaXMuc2lkZT09PUZTUy5CQUNLP2s9TWF0aC5hYnMoTWF0aC5taW4oaywwKSk6dGhpcy5zaWRlPT09RlNTLkRPVUJMRSYmKGs9TWF0aC5tYXgoTWF0aC5hYnMoayksMCkpLEZTUy5WZWN0b3I0Lm11bHRpcGx5VmVjdG9ycyh0aGlzLm1hdGVyaWFsLnNsYXZlLnJnYmEsCnRoaXMubWF0ZXJpYWwuYW1iaWVudC5yZ2JhLGYuYW1iaWVudC5yZ2JhKSxGU1MuVmVjdG9yNC5hZGQoZC5jb2xvci5yZ2JhLHRoaXMubWF0ZXJpYWwuc2xhdmUucmdiYSksRlNTLlZlY3RvcjQubXVsdGlwbHlWZWN0b3JzKHRoaXMubWF0ZXJpYWwuc2xhdmUucmdiYSx0aGlzLm1hdGVyaWFsLmRpZmZ1c2UucmdiYSxmLmRpZmZ1c2UucmdiYSksRlNTLlZlY3RvcjQubXVsdGlwbHlTY2FsYXIodGhpcy5tYXRlcmlhbC5zbGF2ZS5yZ2JhLGspLEZTUy5WZWN0b3I0LmFkZChkLmNvbG9yLnJnYmEsdGhpcy5tYXRlcmlhbC5zbGF2ZS5yZ2JhKTtGU1MuVmVjdG9yNC5jbGFtcChkLmNvbG9yLnJnYmEsMCwxKX1yZXR1cm4gdGhpc307RlNTLlNjZW5lPWZ1bmN0aW9uKCl7dGhpcy5tZXNoZXM9W107dGhpcy5saWdodHM9W119OwpGU1MuU2NlbmUucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIEZTUy5NZXNoJiYhfnRoaXMubWVzaGVzLmluZGV4T2YoYSk/dGhpcy5tZXNoZXMucHVzaChhKTphIGluc3RhbmNlb2YgRlNTLkxpZ2h0JiYhfnRoaXMubGlnaHRzLmluZGV4T2YoYSkmJnRoaXMubGlnaHRzLnB1c2goYSk7cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgRlNTLk1lc2gmJn50aGlzLm1lc2hlcy5pbmRleE9mKGEpP3RoaXMubWVzaGVzLnNwbGljZSh0aGlzLm1lc2hlcy5pbmRleE9mKGEpLDEpOmEgaW5zdGFuY2VvZiBGU1MuTGlnaHQmJn50aGlzLmxpZ2h0cy5pbmRleE9mKGEpJiZ0aGlzLmxpZ2h0cy5zcGxpY2UodGhpcy5saWdodHMuaW5kZXhPZihhKSwxKTtyZXR1cm4gdGhpc319O0ZTUy5SZW5kZXJlcj1mdW5jdGlvbigpe3RoaXMuaGFsZkhlaWdodD10aGlzLmhhbGZXaWR0aD10aGlzLmhlaWdodD10aGlzLndpZHRoPTB9OwpGU1MuUmVuZGVyZXIucHJvdG90eXBlPXtzZXRTaXplOmZ1bmN0aW9uKGEsYil7aWYodGhpcy53aWR0aCE9PWF8fHRoaXMuaGVpZ2h0IT09YilyZXR1cm4gdGhpcy53aWR0aD1hLHRoaXMuaGVpZ2h0PWIsdGhpcy5oYWxmV2lkdGg9LjUqdGhpcy53aWR0aCx0aGlzLmhhbGZIZWlnaHQ9LjUqdGhpcy5oZWlnaHQsdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30scmVuZGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzfX07RlNTLkNhbnZhc1JlbmRlcmVyPWZ1bmN0aW9uKCl7RlNTLlJlbmRlcmVyLmNhbGwodGhpcyk7dGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayI7dGhpcy5jb250ZXh0PXRoaXMuZWxlbWVudC5nZXRDb250ZXh0KCIyZCIpO3RoaXMuc2V0U2l6ZSh0aGlzLmVsZW1lbnQud2lkdGgsdGhpcy5lbGVtZW50LmhlaWdodCl9OwpGU1MuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRlNTLlJlbmRlcmVyLnByb3RvdHlwZSk7RlNTLkNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKGEsYil7RlNTLlJlbmRlcmVyLnByb3RvdHlwZS5zZXRTaXplLmNhbGwodGhpcyxhLGIpO3RoaXMuZWxlbWVudC53aWR0aD1hO3RoaXMuZWxlbWVudC5oZWlnaHQ9Yjt0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsMCwwLC0xLHRoaXMuaGFsZldpZHRoLHRoaXMuaGFsZkhlaWdodCk7cmV0dXJuIHRoaXN9O0ZTUy5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtGU1MuUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7dGhpcy5jb250ZXh0LmNsZWFyUmVjdCgtdGhpcy5oYWxmV2lkdGgsLXRoaXMuaGFsZkhlaWdodCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtyZXR1cm4gdGhpc307CkZTUy5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGEpe0ZTUy5SZW5kZXJlci5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcyxhKTt2YXIgYixjLGQsZSxmO3RoaXMuY2xlYXIoKTt0aGlzLmNvbnRleHQubGluZUpvaW49InJvdW5kIjt0aGlzLmNvbnRleHQubGluZVdpZHRoPTE7Zm9yKGI9YS5tZXNoZXMubGVuZ3RoLTE7MDw9YjtiLS0paWYoYz1hLm1lc2hlc1tiXSxjLnZpc2libGUpZm9yKGMudXBkYXRlKGEubGlnaHRzLCEwKSxkPWMuZ2VvbWV0cnkudHJpYW5nbGVzLmxlbmd0aC0xOzA8PWQ7ZC0tKWU9Yy5nZW9tZXRyeS50cmlhbmdsZXNbZF0sZj1lLmNvbG9yLmZvcm1hdCgpLHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQubW92ZVRvKGUuYS5wb3NpdGlvblswXSxlLmEucG9zaXRpb25bMV0pLHRoaXMuY29udGV4dC5saW5lVG8oZS5iLnBvc2l0aW9uWzBdLGUuYi5wb3NpdGlvblsxXSksdGhpcy5jb250ZXh0LmxpbmVUbyhlLmMucG9zaXRpb25bMF0sCmUuYy5wb3NpdGlvblsxXSksdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuY29udGV4dC5zdHJva2VTdHlsZT1mLHRoaXMuY29udGV4dC5maWxsU3R5bGU9Zix0aGlzLmNvbnRleHQuc3Ryb2tlKCksdGhpcy5jb250ZXh0LmZpbGwoKTtyZXR1cm4gdGhpc307CkZTUy5XZWJHTFJlbmRlcmVyPWZ1bmN0aW9uKCl7RlNTLlJlbmRlcmVyLmNhbGwodGhpcyk7dGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayI7dGhpcy5saWdodHM9dGhpcy52ZXJ0aWNlcz1udWxsO3RoaXMuZ2w9dGhpcy5nZXRDb250ZXh0KHRoaXMuZWxlbWVudCx7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLHByZW11bHRpcGxpZWRBbHBoYTohMCxhbnRpYWxpYXM6ITAsc3RlbmNpbDohMCxhbHBoYTohMH0pO2lmKHRoaXMudW5zdXBwb3J0ZWQ9IXRoaXMuZ2wpcmV0dXJuIldlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLiI7dGhpcy5nbC5jbGVhckNvbG9yKDAsMCwwLDApO3RoaXMuZ2wuZW5hYmxlKHRoaXMuZ2wuREVQVEhfVEVTVCk7dGhpcy5zZXRTaXplKHRoaXMuZWxlbWVudC53aWR0aCx0aGlzLmVsZW1lbnQuaGVpZ2h0KX07CkZTUy5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEZTUy5SZW5kZXJlci5wcm90b3R5cGUpO0ZTUy5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5nZXRDb250ZXh0PWZ1bmN0aW9uKGEsYil7dmFyIGM9ITE7dHJ5e2lmKCEoYz1hLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsYikpKXRocm93IkVycm9yIGNyZWF0aW5nIFdlYkdMIGNvbnRleHQuIjt9Y2F0Y2goZCl7Y29uc29sZS5lcnJvcihkKX1yZXR1cm4gY307RlNTLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oYSxiKXtGU1MuUmVuZGVyZXIucHJvdG90eXBlLnNldFNpemUuY2FsbCh0aGlzLGEsYik7aWYoIXRoaXMudW5zdXBwb3J0ZWQpcmV0dXJuIHRoaXMuZWxlbWVudC53aWR0aD1hLHRoaXMuZWxlbWVudC5oZWlnaHQ9Yix0aGlzLmdsLnZpZXdwb3J0KDAsMCxhLGIpLHRoaXN9OwpGU1MuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtGU1MuUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7aWYoIXRoaXMudW5zdXBwb3J0ZWQpcmV0dXJuIHRoaXMuZ2wuY2xlYXIodGhpcy5nbC5DT0xPUl9CVUZGRVJfQklUfHRoaXMuZ2wuREVQVEhfQlVGRkVSX0JJVCksdGhpc307CkZTUy5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oYSl7RlNTLlJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzLGEpO2lmKCF0aGlzLnVuc3VwcG9ydGVkKXt2YXIgYixjLGQsZSxmLGsscCxoO2s9ITE7dmFyIGc9YS5saWdodHMubGVuZ3RoLG0scixzLG49MDt0aGlzLmNsZWFyKCk7aWYodGhpcy5saWdodHMhPT1nKWlmKHRoaXMubGlnaHRzPWcsMDx0aGlzLmxpZ2h0cyl0aGlzLmJ1aWxkUHJvZ3JhbShnKTtlbHNlIHJldHVybjtpZih0aGlzLnByb2dyYW0pe2ZvcihiPWEubWVzaGVzLmxlbmd0aC0xOzA8PWI7Yi0tKWM9YS5tZXNoZXNbYl0sYy5nZW9tZXRyeS5kaXJ0eSYmKGs9ITApLGMudXBkYXRlKGEubGlnaHRzLCExKSxuKz0zKmMuZ2VvbWV0cnkudHJpYW5nbGVzLmxlbmd0aDtpZihrfHx0aGlzLnZlcnRpY2VzIT09bilmb3IocCBpbiB0aGlzLnZlcnRpY2VzPW4sdGhpcy5wcm9ncmFtLmF0dHJpYnV0ZXMpe2s9dGhpcy5wcm9ncmFtLmF0dHJpYnV0ZXNbcF07CmsuZGF0YT1uZXcgRlNTLkFycmF5KG4qay5zaXplKTttPTA7Zm9yKGI9YS5tZXNoZXMubGVuZ3RoLTE7MDw9YjtiLS0pZm9yKGM9YS5tZXNoZXNbYl0sZD0wLGU9Yy5nZW9tZXRyeS50cmlhbmdsZXMubGVuZ3RoO2Q8ZTtkKyspZm9yKGY9Yy5nZW9tZXRyeS50cmlhbmdsZXNbZF0scj0wLHM9Zi52ZXJ0aWNlcy5sZW5ndGg7cjxzO3IrKyl7dmVydGV4PWYudmVydGljZXNbcl07c3dpdGNoKHApe2Nhc2UgInNpZGUiOnRoaXMuc2V0QnVmZmVyRGF0YShtLGssYy5zaWRlKTticmVhaztjYXNlICJwb3NpdGlvbiI6dGhpcy5zZXRCdWZmZXJEYXRhKG0sayx2ZXJ0ZXgucG9zaXRpb24pO2JyZWFrO2Nhc2UgImNlbnRyb2lkIjp0aGlzLnNldEJ1ZmZlckRhdGEobSxrLGYuY2VudHJvaWQpO2JyZWFrO2Nhc2UgIm5vcm1hbCI6dGhpcy5zZXRCdWZmZXJEYXRhKG0sayxmLm5vcm1hbCk7YnJlYWs7Y2FzZSAiYW1iaWVudCI6dGhpcy5zZXRCdWZmZXJEYXRhKG0sayxjLm1hdGVyaWFsLmFtYmllbnQucmdiYSk7CmJyZWFrO2Nhc2UgImRpZmZ1c2UiOnRoaXMuc2V0QnVmZmVyRGF0YShtLGssYy5tYXRlcmlhbC5kaWZmdXNlLnJnYmEpfW0rK310aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsay5idWZmZXIpO3RoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUixrLmRhdGEsdGhpcy5nbC5EWU5BTUlDX0RSQVcpO3RoaXMuZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoay5sb2NhdGlvbik7dGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGsubG9jYXRpb24say5zaXplLHRoaXMuZ2wuRkxPQVQsITEsMCwwKX10aGlzLnNldEJ1ZmZlckRhdGEoMCx0aGlzLnByb2dyYW0udW5pZm9ybXMucmVzb2x1dGlvbixbdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLndpZHRoXSk7Zm9yKGs9Zy0xOzA8PWs7ay0tKWI9YS5saWdodHNba10sdGhpcy5zZXRCdWZmZXJEYXRhKGssdGhpcy5wcm9ncmFtLnVuaWZvcm1zLmxpZ2h0UG9zaXRpb24sYi5wb3NpdGlvbiksdGhpcy5zZXRCdWZmZXJEYXRhKGssCnRoaXMucHJvZ3JhbS51bmlmb3Jtcy5saWdodEFtYmllbnQsYi5hbWJpZW50LnJnYmEpLHRoaXMuc2V0QnVmZmVyRGF0YShrLHRoaXMucHJvZ3JhbS51bmlmb3Jtcy5saWdodERpZmZ1c2UsYi5kaWZmdXNlLnJnYmEpO2ZvcihoIGluIHRoaXMucHJvZ3JhbS51bmlmb3Jtcylzd2l0Y2goaz10aGlzLnByb2dyYW0udW5pZm9ybXNbaF0sYj1rLmxvY2F0aW9uLGE9ay5kYXRhLGsuc3RydWN0dXJlKXtjYXNlICIzZiI6dGhpcy5nbC51bmlmb3JtM2YoYixhWzBdLGFbMV0sYVsyXSk7YnJlYWs7Y2FzZSAiM2Z2Ijp0aGlzLmdsLnVuaWZvcm0zZnYoYixhKTticmVhaztjYXNlICI0ZnYiOnRoaXMuZ2wudW5pZm9ybTRmdihiLGEpfX10aGlzLmdsLmRyYXdBcnJheXModGhpcy5nbC5UUklBTkdMRVMsMCx0aGlzLnZlcnRpY2VzKTtyZXR1cm4gdGhpc319OwpGU1MuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0QnVmZmVyRGF0YT1mdW5jdGlvbihhLGIsYyl7aWYoRlNTLlV0aWxzLmlzTnVtYmVyKGMpKWIuZGF0YVthKmIuc2l6ZV09YztlbHNlIGZvcih2YXIgZD1jLmxlbmd0aC0xOzA8PWQ7ZC0tKWIuZGF0YVthKmIuc2l6ZStkXT1jW2RdfTsKRlNTLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkUHJvZ3JhbT1mdW5jdGlvbihhKXtpZighdGhpcy51bnN1cHBvcnRlZCl7dmFyIGI9RlNTLldlYkdMUmVuZGVyZXIuVlMoYSksYz1GU1MuV2ViR0xSZW5kZXJlci5GUyhhKSxkPWIrYztpZighdGhpcy5wcm9ncmFtfHx0aGlzLnByb2dyYW0uY29kZSE9PWQpe3ZhciBlPXRoaXMuZ2wuY3JlYXRlUHJvZ3JhbSgpLGI9dGhpcy5idWlsZFNoYWRlcih0aGlzLmdsLlZFUlRFWF9TSEFERVIsYiksYz10aGlzLmJ1aWxkU2hhZGVyKHRoaXMuZ2wuRlJBR01FTlRfU0hBREVSLGMpO3RoaXMuZ2wuYXR0YWNoU2hhZGVyKGUsYik7dGhpcy5nbC5hdHRhY2hTaGFkZXIoZSxjKTt0aGlzLmdsLmxpbmtQcm9ncmFtKGUpO2lmKCF0aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIoZSx0aGlzLmdsLkxJTktfU1RBVFVTKSlyZXR1cm4gYT10aGlzLmdsLmdldEVycm9yKCksZT10aGlzLmdsLmdldFByb2dyYW1QYXJhbWV0ZXIoZSx0aGlzLmdsLlZBTElEQVRFX1NUQVRVUyksCmNvbnNvbGUuZXJyb3IoIkNvdWxkIG5vdCBpbml0aWFsaXNlIHNoYWRlci5cblZBTElEQVRFX1NUQVRVUzogIitlKyJcbkVSUk9SOiAiK2EpLG51bGw7dGhpcy5nbC5kZWxldGVTaGFkZXIoYyk7dGhpcy5nbC5kZWxldGVTaGFkZXIoYik7ZS5jb2RlPWQ7ZS5hdHRyaWJ1dGVzPXtzaWRlOnRoaXMuYnVpbGRCdWZmZXIoZSwiYXR0cmlidXRlIiwiYVNpZGUiLDEsImYiKSxwb3NpdGlvbjp0aGlzLmJ1aWxkQnVmZmVyKGUsImF0dHJpYnV0ZSIsImFQb3NpdGlvbiIsMywidjMiKSxjZW50cm9pZDp0aGlzLmJ1aWxkQnVmZmVyKGUsImF0dHJpYnV0ZSIsImFDZW50cm9pZCIsMywidjMiKSxub3JtYWw6dGhpcy5idWlsZEJ1ZmZlcihlLCJhdHRyaWJ1dGUiLCJhTm9ybWFsIiwzLCJ2MyIpLGFtYmllbnQ6dGhpcy5idWlsZEJ1ZmZlcihlLCJhdHRyaWJ1dGUiLCJhQW1iaWVudCIsNCwidjQiKSxkaWZmdXNlOnRoaXMuYnVpbGRCdWZmZXIoZSwiYXR0cmlidXRlIiwiYURpZmZ1c2UiLDQsInY0Iil9OwplLnVuaWZvcm1zPXtyZXNvbHV0aW9uOnRoaXMuYnVpbGRCdWZmZXIoZSwidW5pZm9ybSIsInVSZXNvbHV0aW9uIiwzLCIzZiIsMSksbGlnaHRQb3NpdGlvbjp0aGlzLmJ1aWxkQnVmZmVyKGUsInVuaWZvcm0iLCJ1TGlnaHRQb3NpdGlvbiIsMywiM2Z2IixhKSxsaWdodEFtYmllbnQ6dGhpcy5idWlsZEJ1ZmZlcihlLCJ1bmlmb3JtIiwidUxpZ2h0QW1iaWVudCIsNCwiNGZ2IixhKSxsaWdodERpZmZ1c2U6dGhpcy5idWlsZEJ1ZmZlcihlLCJ1bmlmb3JtIiwidUxpZ2h0RGlmZnVzZSIsNCwiNGZ2IixhKX07dGhpcy5wcm9ncmFtPWU7dGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7cmV0dXJuIGV9fX07CkZTUy5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZFNoYWRlcj1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLnVuc3VwcG9ydGVkKXt2YXIgYz10aGlzLmdsLmNyZWF0ZVNoYWRlcihhKTt0aGlzLmdsLnNoYWRlclNvdXJjZShjLGIpO3RoaXMuZ2wuY29tcGlsZVNoYWRlcihjKTtyZXR1cm4gdGhpcy5nbC5nZXRTaGFkZXJQYXJhbWV0ZXIoYyx0aGlzLmdsLkNPTVBJTEVfU1RBVFVTKT9jOihjb25zb2xlLmVycm9yKHRoaXMuZ2wuZ2V0U2hhZGVySW5mb0xvZyhjKSksbnVsbCl9fTsKRlNTLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkQnVmZmVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtlPXtidWZmZXI6dGhpcy5nbC5jcmVhdGVCdWZmZXIoKSxzaXplOmQsc3RydWN0dXJlOmUsZGF0YTpudWxsfTtzd2l0Y2goYil7Y2FzZSAiYXR0cmlidXRlIjplLmxvY2F0aW9uPXRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oYSxjKTticmVhaztjYXNlICJ1bmlmb3JtIjplLmxvY2F0aW9uPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGEsYyl9ZiYmKGUuZGF0YT1uZXcgRlNTLkFycmF5KGYqZCkpO3JldHVybiBlfTtGU1MuV2ViR0xSZW5kZXJlci5WUz1mdW5jdGlvbihhKXtyZXR1cm5bInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OyIsIiNkZWZpbmUgTElHSFRTICIrYSwiYXR0cmlidXRlIGZsb2F0IGFTaWRlO1xuYXR0cmlidXRlIHZlYzMgYVBvc2l0aW9uO1xuYXR0cmlidXRlIHZlYzMgYUNlbnRyb2lkO1xuYXR0cmlidXRlIHZlYzMgYU5vcm1hbDtcbmF0dHJpYnV0ZSB2ZWM0IGFBbWJpZW50O1xuYXR0cmlidXRlIHZlYzQgYURpZmZ1c2U7XG51bmlmb3JtIHZlYzMgdVJlc29sdXRpb247XG51bmlmb3JtIHZlYzMgdUxpZ2h0UG9zaXRpb25bTElHSFRTXTtcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50W0xJR0hUU107XG51bmlmb3JtIHZlYzQgdUxpZ2h0RGlmZnVzZVtMSUdIVFNdO1xudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZvaWQgbWFpbigpIHtcbnZDb2xvciA9IHZlYzQoMC4wKTtcbnZlYzMgcG9zaXRpb24gPSBhUG9zaXRpb24gLyB1UmVzb2x1dGlvbiAqIDIuMDtcbmZvciAoaW50IGkgPSAwOyBpIDwgTElHSFRTOyBpKyspIHtcbnZlYzMgbGlnaHRQb3NpdGlvbiA9IHVMaWdodFBvc2l0aW9uW2ldO1xudmVjNCBsaWdodEFtYmllbnQgPSB1TGlnaHRBbWJpZW50W2ldO1xudmVjNCBsaWdodERpZmZ1c2UgPSB1TGlnaHREaWZmdXNlW2ldO1xudmVjMyByYXkgPSBub3JtYWxpemUobGlnaHRQb3NpdGlvbiAtIGFDZW50cm9pZCk7XG5mbG9hdCBpbGx1bWluYW5jZSA9IGRvdChhTm9ybWFsLCByYXkpO1xuaWYgKGFTaWRlID09IDAuMCkge1xuaWxsdW1pbmFuY2UgPSBtYXgoaWxsdW1pbmFuY2UsIDAuMCk7XG59IGVsc2UgaWYgKGFTaWRlID09IDEuMCkge1xuaWxsdW1pbmFuY2UgPSBhYnMobWluKGlsbHVtaW5hbmNlLCAwLjApKTtcbn0gZWxzZSBpZiAoYVNpZGUgPT0gMi4wKSB7XG5pbGx1bWluYW5jZSA9IG1heChhYnMoaWxsdW1pbmFuY2UpLCAwLjApO1xufVxudkNvbG9yICs9IGFBbWJpZW50ICogbGlnaHRBbWJpZW50O1xudkNvbG9yICs9IGFEaWZmdXNlICogbGlnaHREaWZmdXNlICogaWxsdW1pbmFuY2U7XG59XG52Q29sb3IgPSBjbGFtcCh2Q29sb3IsIDAuMCwgMS4wKTtcbmdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMS4wKTtcbn0iXS5qb2luKCJcbiIpfTsKRlNTLldlYkdMUmVuZGVyZXIuRlM9ZnVuY3Rpb24oYSl7cmV0dXJuInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xudmFyeWluZyB2ZWM0IHZDb2xvcjtcbnZvaWQgbWFpbigpIHtcbmdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcbn0ifTtGU1MuU1ZHUmVuZGVyZXI9ZnVuY3Rpb24oKXtGU1MuUmVuZGVyZXIuY2FsbCh0aGlzKTt0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEZTUy5TVkdOUywic3ZnIik7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgieG1sbnMiLEZTUy5TVkdOUyk7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgidmVyc2lvbiIsIjEuMSIpO3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayI7dGhpcy5zZXRTaXplKDMwMCwxNTApfTtGU1MuU1ZHUmVuZGVyZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRlNTLlJlbmRlcmVyLnByb3RvdHlwZSk7CkZTUy5TVkdSZW5kZXJlci5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihhLGIpe0ZTUy5SZW5kZXJlci5wcm90b3R5cGUuc2V0U2l6ZS5jYWxsKHRoaXMsYSxiKTt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsYSk7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixiKTtyZXR1cm4gdGhpc307RlNTLlNWR1JlbmRlcmVyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe0ZTUy5SZW5kZXJlci5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKTtmb3IodmFyIGE9dGhpcy5lbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoLTE7MDw9YTthLS0pdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudC5jaGlsZE5vZGVzW2FdKTtyZXR1cm4gdGhpc307CkZTUy5TVkdSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGEpe0ZTUy5SZW5kZXJlci5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcyxhKTt2YXIgYixjLGQsZSxmLGs7Zm9yKGI9YS5tZXNoZXMubGVuZ3RoLTE7MDw9YjtiLS0paWYoYz1hLm1lc2hlc1tiXSxjLnZpc2libGUpZm9yKGMudXBkYXRlKGEubGlnaHRzLCEwKSxkPWMuZ2VvbWV0cnkudHJpYW5nbGVzLmxlbmd0aC0xOzA8PWQ7ZC0tKWU9Yy5nZW9tZXRyeS50cmlhbmdsZXNbZF0sZS5wb2x5Z29uLnBhcmVudE5vZGUhPT10aGlzLmVsZW1lbnQmJnRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChlLnBvbHlnb24pLGY9dGhpcy5mb3JtYXRQb2ludChlLmEpKyIgIixmKz10aGlzLmZvcm1hdFBvaW50KGUuYikrIiAiLGYrPXRoaXMuZm9ybWF0UG9pbnQoZS5jKSxrPXRoaXMuZm9ybWF0U3R5bGUoZS5jb2xvci5mb3JtYXQoKSksZS5wb2x5Z29uLnNldEF0dHJpYnV0ZU5TKG51bGwsInBvaW50cyIsZiksZS5wb2x5Z29uLnNldEF0dHJpYnV0ZU5TKG51bGwsCiJzdHlsZSIsayk7cmV0dXJuIHRoaXN9O0ZTUy5TVkdSZW5kZXJlci5wcm90b3R5cGUuZm9ybWF0UG9pbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGFsZldpZHRoK2EucG9zaXRpb25bMF0rIiwiKyh0aGlzLmhhbGZIZWlnaHQtYS5wb3NpdGlvblsxXSl9O0ZTUy5TVkdSZW5kZXJlci5wcm90b3R5cGUuZm9ybWF0U3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9ImZpbGw6IithKyI7IisoInN0cm9rZToiK2ErIjsiKX07dmFyIGRhdD1kYXR8fHt9O2RhdC5ndWk9ZGF0Lmd1aXx8e307ZGF0LnV0aWxzPWRhdC51dGlsc3x8e307ZGF0LmNvbnRyb2xsZXJzPWRhdC5jb250cm9sbGVyc3x8e307ZGF0LmRvbT1kYXQuZG9tfHx7fTtkYXQuY29sb3I9ZGF0LmNvbG9yfHx7fTsKZGF0LnV0aWxzLmNzcz1mdW5jdGlvbigpe3JldHVybntsb2FkOmZ1bmN0aW9uKGEsYil7Yj1ifHxkb2N1bWVudDt2YXIgYz1iLmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtjLnR5cGU9InRleHQvY3NzIjtjLnJlbD0ic3R5bGVzaGVldCI7Yy5ocmVmPWE7Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGMpfSxpbmplY3Q6ZnVuY3Rpb24oYSxiKXtiPWJ8fGRvY3VtZW50O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7Yy50eXBlPSJ0ZXh0L2NzcyI7Yy5pbm5lckhUTUw9YTtiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoYyl9fX0oKTsKZGF0LnV0aWxzLmNvbW1vbj1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLGI9QXJyYXkucHJvdG90eXBlLnNsaWNlO3JldHVybntCUkVBSzp7fSxleHRlbmQ6ZnVuY3Rpb24oYSl7dGhpcy5lYWNoKGIuY2FsbChhcmd1bWVudHMsMSksZnVuY3Rpb24oYil7Zm9yKHZhciBlIGluIGIpdGhpcy5pc1VuZGVmaW5lZChiW2VdKXx8KGFbZV09YltlXSl9LHRoaXMpO3JldHVybiBhfSxkZWZhdWx0czpmdW5jdGlvbihhKXt0aGlzLmVhY2goYi5jYWxsKGFyZ3VtZW50cywxKSxmdW5jdGlvbihiKXtmb3IodmFyIGUgaW4gYil0aGlzLmlzVW5kZWZpbmVkKGFbZV0pJiYoYVtlXT1iW2VdKX0sdGhpcyk7cmV0dXJuIGF9LGNvbXBvc2U6ZnVuY3Rpb24oKXt2YXIgYT1iLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGQ9Yi5jYWxsKGFyZ3VtZW50cyksZT1hLmxlbmd0aC0xOzA8PWU7ZS0tKWQ9W2FbZV0uYXBwbHkodGhpcyxkKV07cmV0dXJuIGRbMF19fSwKZWFjaDpmdW5jdGlvbihiLGQsZSl7aWYoYSYmYi5mb3JFYWNoPT09YSliLmZvckVhY2goZCxlKTtlbHNlIGlmKGIubGVuZ3RoPT09Yi5sZW5ndGgrMClmb3IodmFyIGY9MCxrPWIubGVuZ3RoO2Y8ayYmIShmIGluIGImJmQuY2FsbChlLGJbZl0sZik9PT10aGlzLkJSRUFLKTtmKyspO2Vsc2UgZm9yKGYgaW4gYilpZihkLmNhbGwoZSxiW2ZdLGYpPT09dGhpcy5CUkVBSylicmVha30sZGVmZXI6ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfSx0b0FycmF5OmZ1bmN0aW9uKGEpe3JldHVybiBhLnRvQXJyYXk/YS50b0FycmF5KCk6Yi5jYWxsKGEpfSxpc1VuZGVmaW5lZDpmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YX0saXNOdWxsOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YX0saXNOYU46ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1hfSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnN0cnVjdG9yPT09QXJyYXl9LGlzT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09Ck9iamVjdChhKX0saXNOdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1hKzB9LGlzU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YSsiIn0saXNCb29sZWFuOmZ1bmN0aW9uKGEpe3JldHVybiExPT09YXx8ITA9PT1hfSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9fX0oKTsKZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYSxiKXt0aGlzLmluaXRpYWxWYWx1ZT1hW2JdO3RoaXMuZG9tRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLm9iamVjdD1hO3RoaXMucHJvcGVydHk9Yjt0aGlzLl9fb25GaW5pc2hDaGFuZ2U9dGhpcy5fX29uQ2hhbmdlPXZvaWQgMH07YS5leHRlbmQoYi5wcm90b3R5cGUse29uQ2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuX19vbkNoYW5nZT1hO3JldHVybiB0aGlzfSxvbkZpbmlzaENoYW5nZTpmdW5jdGlvbihhKXt0aGlzLl9fb25GaW5pc2hDaGFuZ2U9YTtyZXR1cm4gdGhpc30sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5vYmplY3RbdGhpcy5wcm9wZXJ0eV09YTt0aGlzLl9fb25DaGFuZ2UmJnRoaXMuX19vbkNoYW5nZS5jYWxsKHRoaXMsYSk7dGhpcy51cGRhdGVEaXNwbGF5KCk7cmV0dXJuIHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JqZWN0W3RoaXMucHJvcGVydHldfSwKdXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxpc01vZGlmaWVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdGlhbFZhbHVlIT09dGhpcy5nZXRWYWx1ZSgpfX0pO3JldHVybiBifShkYXQudXRpbHMuY29tbW9uKTsKZGF0LmRvbS5kb209ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXtpZigiMCI9PT1ifHxhLmlzVW5kZWZpbmVkKGIpKXJldHVybiAwO2I9Yi5tYXRjaChkKTtyZXR1cm4gYS5pc051bGwoYik/MDpwYXJzZUZsb2F0KGJbMV0pfXZhciBjPXt9O2EuZWFjaCh7SFRNTEV2ZW50czpbImNoYW5nZSJdLE1vdXNlRXZlbnRzOlsiY2xpY2siLCJtb3VzZW1vdmUiLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwibW91c2VvdmVyIl0sS2V5Ym9hcmRFdmVudHM6WyJrZXlkb3duIl19LGZ1bmN0aW9uKGIsZCl7YS5lYWNoKGIsZnVuY3Rpb24oYSl7Y1thXT1kfSl9KTt2YXIgZD0vKFxkKyhcLlxkKyk/KXB4LyxlPXttYWtlU2VsZWN0YWJsZTpmdW5jdGlvbihhLGIpe3ZvaWQgMCE9PWEmJnZvaWQgMCE9PWEuc3R5bGUmJihhLm9uc2VsZWN0c3RhcnQ9Yj9mdW5jdGlvbigpe3JldHVybiExfTpmdW5jdGlvbigpe30sYS5zdHlsZS5Nb3pVc2VyU2VsZWN0PWI/ImF1dG8iOiJub25lIixhLnN0eWxlLktodG1sVXNlclNlbGVjdD0KYj8iYXV0byI6Im5vbmUiLGEudW5zZWxlY3RhYmxlPWI/Im9uIjoib2ZmIil9LG1ha2VGdWxsc2NyZWVuOmZ1bmN0aW9uKGIsYyxkKXthLmlzVW5kZWZpbmVkKGMpJiYoYz0hMCk7YS5pc1VuZGVmaW5lZChkKSYmKGQ9ITApO2Iuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtjJiYoYi5zdHlsZS5sZWZ0PTAsYi5zdHlsZS5yaWdodD0wKTtkJiYoYi5zdHlsZS50b3A9MCxiLnN0eWxlLmJvdHRvbT0wKX0sZmFrZUV2ZW50OmZ1bmN0aW9uKGIsZCxlLGgpe2U9ZXx8e307dmFyIGc9Y1tkXTtpZighZyl0aHJvdyBFcnJvcigiRXZlbnQgdHlwZSAiK2QrIiBub3Qgc3VwcG9ydGVkLiIpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZUV2ZW50KGcpO3N3aXRjaChnKXtjYXNlICJNb3VzZUV2ZW50cyI6bS5pbml0TW91c2VFdmVudChkLGUuYnViYmxlc3x8ITEsZS5jYW5jZWxhYmxlfHwhMCx3aW5kb3csZS5jbGlja0NvdW50fHwxLDAsMCxlLnh8fGUuY2xpZW50WHx8MCxlLnl8fGUuY2xpZW50WXx8MCwhMSwKITEsITEsITEsMCxudWxsKTticmVhaztjYXNlICJLZXlib2FyZEV2ZW50cyI6Zz1tLmluaXRLZXlib2FyZEV2ZW50fHxtLmluaXRLZXlFdmVudDthLmRlZmF1bHRzKGUse2NhbmNlbGFibGU6ITAsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxrZXlDb2RlOnZvaWQgMCxjaGFyQ29kZTp2b2lkIDB9KTtnKGQsZS5idWJibGVzfHwhMSxlLmNhbmNlbGFibGUsd2luZG93LGUuY3RybEtleSxlLmFsdEtleSxlLnNoaWZ0S2V5LGUubWV0YUtleSxlLmtleUNvZGUsZS5jaGFyQ29kZSk7YnJlYWs7ZGVmYXVsdDptLmluaXRFdmVudChkLGUuYnViYmxlc3x8ITEsZS5jYW5jZWxhYmxlfHwhMCl9YS5kZWZhdWx0cyhtLGgpO2IuZGlzcGF0Y2hFdmVudChtKX0sYmluZDpmdW5jdGlvbihhLGIsYyxkKXthLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsYyxkfHwhMSk6YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib24iK2IsYyk7cmV0dXJuIGV9LAp1bmJpbmQ6ZnVuY3Rpb24oYSxiLGMsZCl7YS5yZW1vdmVFdmVudExpc3RlbmVyP2EucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsZHx8ITEpOmEuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoIm9uIitiLGMpO3JldHVybiBlfSxhZGRDbGFzczpmdW5jdGlvbihhLGIpe2lmKHZvaWQgMD09PWEuY2xhc3NOYW1lKWEuY2xhc3NOYW1lPWI7ZWxzZSBpZihhLmNsYXNzTmFtZSE9PWIpe3ZhciBjPWEuY2xhc3NOYW1lLnNwbGl0KC8gKy8pOy0xPT1jLmluZGV4T2YoYikmJihjLnB1c2goYiksYS5jbGFzc05hbWU9Yy5qb2luKCIgIikucmVwbGFjZSgvXlxzKy8sIiIpLnJlcGxhY2UoL1xzKyQvLCIiKSl9cmV0dXJuIGV9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYil7aWYoYil7aWYodm9pZCAwIT09YS5jbGFzc05hbWUpaWYoYS5jbGFzc05hbWU9PT1iKWEucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpO2Vsc2V7dmFyIGM9YS5jbGFzc05hbWUuc3BsaXQoLyArLyksZD1jLmluZGV4T2YoYik7LTEhPQpkJiYoYy5zcGxpY2UoZCwxKSxhLmNsYXNzTmFtZT1jLmpvaW4oIiAiKSl9fWVsc2UgYS5jbGFzc05hbWU9dm9pZCAwO3JldHVybiBlfSxoYXNDbGFzczpmdW5jdGlvbihhLGIpe3JldHVybiBSZWdFeHAoIig/Ol58XFxzKykiK2IrIig/Olxccyt8JCkiKS50ZXN0KGEuY2xhc3NOYW1lKXx8ITF9LGdldFdpZHRoOmZ1bmN0aW9uKGEpe2E9Z2V0Q29tcHV0ZWRTdHlsZShhKTtyZXR1cm4gYihhWyJib3JkZXItbGVmdC13aWR0aCJdKStiKGFbImJvcmRlci1yaWdodC13aWR0aCJdKStiKGFbInBhZGRpbmctbGVmdCJdKStiKGFbInBhZGRpbmctcmlnaHQiXSkrYihhLndpZHRoKX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKGEpe2E9Z2V0Q29tcHV0ZWRTdHlsZShhKTtyZXR1cm4gYihhWyJib3JkZXItdG9wLXdpZHRoIl0pK2IoYVsiYm9yZGVyLWJvdHRvbS13aWR0aCJdKStiKGFbInBhZGRpbmctdG9wIl0pK2IoYVsicGFkZGluZy1ib3R0b20iXSkrYihhLmhlaWdodCl9LGdldE9mZnNldDpmdW5jdGlvbihhKXt2YXIgYj0Ke2xlZnQ6MCx0b3A6MH07aWYoYS5vZmZzZXRQYXJlbnQpe2RvIGIubGVmdCs9YS5vZmZzZXRMZWZ0LGIudG9wKz1hLm9mZnNldFRvcDt3aGlsZShhPWEub2Zmc2V0UGFyZW50KX1yZXR1cm4gYn0saXNBY3RpdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiYoYS50eXBlfHxhLmhyZWYpfX07cmV0dXJuIGV9KGRhdC51dGlscy5jb21tb24pOwpkYXQuY29udHJvbGxlcnMuT3B0aW9uQ29udHJvbGxlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYSxmLGspe2Quc3VwZXJjbGFzcy5jYWxsKHRoaXMsYSxmKTt2YXIgcD10aGlzO3RoaXMuX19zZWxlY3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7aWYoYy5pc0FycmF5KGspKXt2YXIgaD17fTtjLmVhY2goayxmdW5jdGlvbihhKXtoW2FdPWF9KTtrPWh9Yy5lYWNoKGssZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtjLmlubmVySFRNTD1iO2Muc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYSk7cC5fX3NlbGVjdC5hcHBlbmRDaGlsZChjKX0pO3RoaXMudXBkYXRlRGlzcGxheSgpO2IuYmluZCh0aGlzLl9fc2VsZWN0LCJjaGFuZ2UiLGZ1bmN0aW9uKCl7cC5zZXRWYWx1ZSh0aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XS52YWx1ZSl9KTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX3NlbGVjdCl9OwpkLnN1cGVyY2xhc3M9YTtjLmV4dGVuZChkLnByb3RvdHlwZSxhLnByb3RvdHlwZSx7c2V0VmFsdWU6ZnVuY3Rpb24oYSl7YT1kLnN1cGVyY2xhc3MucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyxhKTt0aGlzLl9fb25GaW5pc2hDaGFuZ2UmJnRoaXMuX19vbkZpbmlzaENoYW5nZS5jYWxsKHRoaXMsdGhpcy5nZXRWYWx1ZSgpKTtyZXR1cm4gYX0sdXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3RoaXMuX19zZWxlY3QudmFsdWU9dGhpcy5nZXRWYWx1ZSgpO3JldHVybiBkLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KTtyZXR1cm4gZH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSxlLGYpe2Muc3VwZXJjbGFzcy5jYWxsKHRoaXMsYSxlKTtmPWZ8fHt9O3RoaXMuX19taW49Zi5taW47dGhpcy5fX21heD1mLm1heDt0aGlzLl9fc3RlcD1mLnN0ZXA7YT10aGlzLl9faW1wbGllZFN0ZXA9Yi5pc1VuZGVmaW5lZCh0aGlzLl9fc3RlcCk/MD09dGhpcy5pbml0aWFsVmFsdWU/MTpNYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKHRoaXMuaW5pdGlhbFZhbHVlKS9NYXRoLkxOMTApKS8xMDp0aGlzLl9fc3RlcDthPWEudG9TdHJpbmcoKTt0aGlzLl9fcHJlY2lzaW9uPS0xPGEuaW5kZXhPZigiLiIpP2EubGVuZ3RoLWEuaW5kZXhPZigiLiIpLTE6MH07Yy5zdXBlcmNsYXNzPWE7Yi5leHRlbmQoYy5wcm90b3R5cGUsYS5wcm90b3R5cGUse3NldFZhbHVlOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PXRoaXMuX19taW4mJmE8dGhpcy5fX21pbj9hPXRoaXMuX19taW46CnZvaWQgMCE9PXRoaXMuX19tYXgmJmE+dGhpcy5fX21heCYmKGE9dGhpcy5fX21heCk7dm9pZCAwIT09dGhpcy5fX3N0ZXAmJjAhPWEldGhpcy5fX3N0ZXAmJihhPU1hdGgucm91bmQoYS90aGlzLl9fc3RlcCkqdGhpcy5fX3N0ZXApO3JldHVybiBjLnN1cGVyY2xhc3MucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyxhKX0sbWluOmZ1bmN0aW9uKGEpe3RoaXMuX19taW49YTtyZXR1cm4gdGhpc30sbWF4OmZ1bmN0aW9uKGEpe3RoaXMuX19tYXg9YTtyZXR1cm4gdGhpc30sc3RlcDpmdW5jdGlvbihhKXt0aGlzLl9fc3RlcD1hO3JldHVybiB0aGlzfX0pO3JldHVybiBjfShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQudXRpbHMuY29tbW9uKTsKZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJCb3g9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEsZixrKXtmdW5jdGlvbiBwKCl7dmFyIGE9cGFyc2VGbG9hdChtLl9faW5wdXQudmFsdWUpO2MuaXNOYU4oYSl8fG0uc2V0VmFsdWUoYSl9ZnVuY3Rpb24gaChhKXt2YXIgYj1yLWEuY2xpZW50WTttLnNldFZhbHVlKG0uZ2V0VmFsdWUoKStiKm0uX19pbXBsaWVkU3RlcCk7cj1hLmNsaWVudFl9ZnVuY3Rpb24gZygpe2IudW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixoKTtiLnVuYmluZCh3aW5kb3csIm1vdXNldXAiLGcpfXRoaXMuX190cnVuY2F0aW9uU3VzcGVuZGVkPSExO2Quc3VwZXJjbGFzcy5jYWxsKHRoaXMsYSxmLGspO3ZhciBtPXRoaXMscjt0aGlzLl9faW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0aGlzLl9faW5wdXQuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dCIpO2IuYmluZCh0aGlzLl9faW5wdXQsImNoYW5nZSIscCk7Yi5iaW5kKHRoaXMuX19pbnB1dCwKImJsdXIiLGZ1bmN0aW9uKCl7cCgpO20uX19vbkZpbmlzaENoYW5nZSYmbS5fX29uRmluaXNoQ2hhbmdlLmNhbGwobSxtLmdldFZhbHVlKCkpfSk7Yi5iaW5kKHRoaXMuX19pbnB1dCwibW91c2Vkb3duIixmdW5jdGlvbihhKXtiLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLGgpO2IuYmluZCh3aW5kb3csIm1vdXNldXAiLGcpO3I9YS5jbGllbnRZfSk7Yi5iaW5kKHRoaXMuX19pbnB1dCwia2V5ZG93biIsZnVuY3Rpb24oYSl7MTM9PT1hLmtleUNvZGUmJihtLl9fdHJ1bmNhdGlvblN1c3BlbmRlZD0hMCx0aGlzLmJsdXIoKSxtLl9fdHJ1bmNhdGlvblN1c3BlbmRlZD0hMSl9KTt0aGlzLnVwZGF0ZURpc3BsYXkoKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2lucHV0KX07ZC5zdXBlcmNsYXNzPWE7Yy5leHRlbmQoZC5wcm90b3R5cGUsYS5wcm90b3R5cGUse3VwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9faW5wdXQsYjtpZih0aGlzLl9fdHJ1bmNhdGlvblN1c3BlbmRlZCliPQp0aGlzLmdldFZhbHVlKCk7ZWxzZXtiPXRoaXMuZ2V0VmFsdWUoKTt2YXIgYz1NYXRoLnBvdygxMCx0aGlzLl9fcHJlY2lzaW9uKTtiPU1hdGgucm91bmQoYipjKS9jfWEudmFsdWU9YjtyZXR1cm4gZC5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSk7cmV0dXJuIGR9KGRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyLGRhdC5kb20uZG9tLGRhdC51dGlscy5jb21tb24pOwpkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclNsaWRlcj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWZ1bmN0aW9uKGEsYyxkLGUsbSl7ZnVuY3Rpb24gcihhKXthLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9Yi5nZXRPZmZzZXQobi5fX2JhY2tncm91bmQpLGY9Yi5nZXRXaWR0aChuLl9fYmFja2dyb3VuZCk7bi5zZXRWYWx1ZShuLl9fbWluKyhhLmNsaWVudFgtYy5sZWZ0KS8oYy5sZWZ0K2YtYy5sZWZ0KSoobi5fX21heC1uLl9fbWluKSk7cmV0dXJuITF9ZnVuY3Rpb24gcygpe2IudW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixyKTtiLnVuYmluZCh3aW5kb3csIm1vdXNldXAiLHMpO24uX19vbkZpbmlzaENoYW5nZSYmbi5fX29uRmluaXNoQ2hhbmdlLmNhbGwobixuLmdldFZhbHVlKCkpfWYuc3VwZXJjbGFzcy5jYWxsKHRoaXMsYSxjLHttaW46ZCxtYXg6ZSxzdGVwOm19KTt2YXIgbj10aGlzO3RoaXMuX19iYWNrZ3JvdW5kPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwp0aGlzLl9fZm9yZWdyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLmJpbmQodGhpcy5fX2JhY2tncm91bmQsIm1vdXNlZG93biIsZnVuY3Rpb24oYSl7Yi5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixyKTtiLmJpbmQod2luZG93LCJtb3VzZXVwIixzKTtyKGEpfSk7Yi5hZGRDbGFzcyh0aGlzLl9fYmFja2dyb3VuZCwic2xpZGVyIik7Yi5hZGRDbGFzcyh0aGlzLl9fZm9yZWdyb3VuZCwic2xpZGVyLWZnIik7dGhpcy51cGRhdGVEaXNwbGF5KCk7dGhpcy5fX2JhY2tncm91bmQuYXBwZW5kQ2hpbGQodGhpcy5fX2ZvcmVncm91bmQpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fYmFja2dyb3VuZCl9O2Yuc3VwZXJjbGFzcz1hO2YudXNlRGVmYXVsdFN0eWxlcz1mdW5jdGlvbigpe2MuaW5qZWN0KGUpfTtkLmV4dGVuZChmLnByb3RvdHlwZSxhLnByb3RvdHlwZSx7dXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3RoaXMuX19mb3JlZ3JvdW5kLnN0eWxlLndpZHRoPQoodGhpcy5nZXRWYWx1ZSgpLXRoaXMuX19taW4pLyh0aGlzLl9fbWF4LXRoaXMuX19taW4pKjEwMCsiJSI7cmV0dXJuIGYuc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpfX0pO3JldHVybiBmfShkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcixkYXQuZG9tLmRvbSxkYXQudXRpbHMuY3NzLGRhdC51dGlscy5jb21tb24sIi5zbGlkZXIge1xuICBib3gtc2hhZG93OiBpbnNldCAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjE1KTtcbiAgaGVpZ2h0OiAxZW07XG4gIGJvcmRlci1yYWRpdXM6IDFlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgcGFkZGluZzogMCAwLjVlbTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLnNsaWRlci1mZyB7XG4gIHBhZGRpbmc6IDFweCAwIDJweCAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhO1xuICBoZWlnaHQ6IDFlbTtcbiAgbWFyZ2luLWxlZnQ6IC0wLjVlbTtcbiAgcGFkZGluZy1yaWdodDogMC41ZW07XG4gIGJvcmRlci1yYWRpdXM6IDFlbSAwIDAgMWVtO1xufVxuXG4uc2xpZGVyLWZnOmFmdGVyIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gIGJvcmRlcjogIDFweCBzb2xpZCAjYWFhO1xuICBjb250ZW50OiAnJztcbiAgZmxvYXQ6IHJpZ2h0O1xuICBtYXJnaW4tcmlnaHQ6IC0xZW07XG4gIG1hcmdpbi10b3A6IC0xcHg7XG4gIGhlaWdodDogMC45ZW07XG4gIHdpZHRoOiAwLjllbTtcbn0iKTsKZGF0LmNvbnRyb2xsZXJzLkZ1bmN0aW9uQ29udHJvbGxlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYSxjLGspe2Quc3VwZXJjbGFzcy5jYWxsKHRoaXMsYSxjKTt2YXIgcD10aGlzO3RoaXMuX19idXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX2J1dHRvbi5pbm5lckhUTUw9dm9pZCAwPT09az8iRmlyZSI6aztiLmJpbmQodGhpcy5fX2J1dHRvbiwiY2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTtwLmZpcmUoKTtyZXR1cm4hMX0pO2IuYWRkQ2xhc3ModGhpcy5fX2J1dHRvbiwiYnV0dG9uIik7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19idXR0b24pfTtkLnN1cGVyY2xhc3M9YTtjLmV4dGVuZChkLnByb3RvdHlwZSxhLnByb3RvdHlwZSx7ZmlyZTpmdW5jdGlvbigpe3RoaXMuX19vbkNoYW5nZSYmdGhpcy5fX29uQ2hhbmdlLmNhbGwodGhpcyk7dGhpcy5fX29uRmluaXNoQ2hhbmdlJiZ0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLAp0aGlzLmdldFZhbHVlKCkpO3RoaXMuZ2V0VmFsdWUoKS5jYWxsKHRoaXMub2JqZWN0KX19KTtyZXR1cm4gZH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb250cm9sbGVycy5Cb29sZWFuQ29udHJvbGxlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYSxjKXtkLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGEsYyk7dmFyIGs9dGhpczt0aGlzLl9fcHJldj10aGlzLmdldFZhbHVlKCk7dGhpcy5fX2NoZWNrYm94PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dGhpcy5fX2NoZWNrYm94LnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7Yi5iaW5kKHRoaXMuX19jaGVja2JveCwiY2hhbmdlIixmdW5jdGlvbigpe2suc2V0VmFsdWUoIWsuX19wcmV2KX0sITEpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fY2hlY2tib3gpO3RoaXMudXBkYXRlRGlzcGxheSgpfTtkLnN1cGVyY2xhc3M9YTtjLmV4dGVuZChkLnByb3RvdHlwZSxhLnByb3RvdHlwZSx7c2V0VmFsdWU6ZnVuY3Rpb24oYSl7YT1kLnN1cGVyY2xhc3MucHJvdG90eXBlLnNldFZhbHVlLmNhbGwodGhpcyxhKTt0aGlzLl9fb25GaW5pc2hDaGFuZ2UmJgp0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLHRoaXMuZ2V0VmFsdWUoKSk7dGhpcy5fX3ByZXY9dGhpcy5nZXRWYWx1ZSgpO3JldHVybiBhfSx1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7ITA9PT10aGlzLmdldFZhbHVlKCk/KHRoaXMuX19jaGVja2JveC5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksdGhpcy5fX2NoZWNrYm94LmNoZWNrZWQ9ITApOnRoaXMuX19jaGVja2JveC5jaGVja2VkPSExO3JldHVybiBkLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KTtyZXR1cm4gZH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb2xvci50b1N0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7aWYoMT09Yi5hfHxhLmlzVW5kZWZpbmVkKGIuYSkpe2ZvcihiPWIuaGV4LnRvU3RyaW5nKDE2KTs2PmIubGVuZ3RoOyliPSIwIitiO3JldHVybiIjIitifXJldHVybiJyZ2JhKCIrTWF0aC5yb3VuZChiLnIpKyIsIitNYXRoLnJvdW5kKGIuZykrIiwiK01hdGgucm91bmQoYi5iKSsiLCIrYi5hKyIpIn19KGRhdC51dGlscy5jb21tb24pOwpkYXQuY29sb3IuaW50ZXJwcmV0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPVt7bGl0bXVzOmIuaXNTdHJpbmcsY29udmVyc2lvbnM6e1RIUkVFX0NIQVJfSEVYOntyZWFkOmZ1bmN0aW9uKGEpe2E9YS5tYXRjaCgvXiMoW0EtRjAtOV0pKFtBLUYwLTldKShbQS1GMC05XSkkL2kpO3JldHVybiBudWxsPT09YT8hMTp7c3BhY2U6IkhFWCIsaGV4OnBhcnNlSW50KCIweCIrYVsxXS50b1N0cmluZygpK2FbMV0udG9TdHJpbmcoKSthWzJdLnRvU3RyaW5nKCkrYVsyXS50b1N0cmluZygpK2FbM10udG9TdHJpbmcoKSthWzNdLnRvU3RyaW5nKCkpfX0sd3JpdGU6YX0sU0lYX0NIQVJfSEVYOntyZWFkOmZ1bmN0aW9uKGEpe2E9YS5tYXRjaCgvXiMoW0EtRjAtOV17Nn0pJC9pKTtyZXR1cm4gbnVsbD09PWE/ITE6e3NwYWNlOiJIRVgiLGhleDpwYXJzZUludCgiMHgiK2FbMV0udG9TdHJpbmcoKSl9fSx3cml0ZTphfSxDU1NfUkdCOntyZWFkOmZ1bmN0aW9uKGEpe2E9YS5tYXRjaCgvXnJnYlwoXHMqKC4rKVxzKixccyooLispXHMqLFxzKiguKylccypcKS8pOwpyZXR1cm4gbnVsbD09PWE/ITE6e3NwYWNlOiJSR0IiLHI6cGFyc2VGbG9hdChhWzFdKSxnOnBhcnNlRmxvYXQoYVsyXSksYjpwYXJzZUZsb2F0KGFbM10pfX0sd3JpdGU6YX0sQ1NTX1JHQkE6e3JlYWQ6ZnVuY3Rpb24oYSl7YT1hLm1hdGNoKC9ecmdiYVwoXHMqKC4rKVxzKixccyooLispXHMqLFxzKiguKylccypcLFxzKiguKylccypcKS8pO3JldHVybiBudWxsPT09YT8hMTp7c3BhY2U6IlJHQiIscjpwYXJzZUZsb2F0KGFbMV0pLGc6cGFyc2VGbG9hdChhWzJdKSxiOnBhcnNlRmxvYXQoYVszXSksYTpwYXJzZUZsb2F0KGFbNF0pfX0sd3JpdGU6YX19fSx7bGl0bXVzOmIuaXNOdW1iZXIsY29udmVyc2lvbnM6e0hFWDp7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm57c3BhY2U6IkhFWCIsaGV4OmEsY29udmVyc2lvbk5hbWU6IkhFWCJ9fSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5oZXh9fX19LHtsaXRtdXM6Yi5pc0FycmF5LGNvbnZlcnNpb25zOntSR0JfQVJSQVk6e3JlYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIDMhPQphLmxlbmd0aD8hMTp7c3BhY2U6IlJHQiIscjphWzBdLGc6YVsxXSxiOmFbMl19fSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm5bYS5yLGEuZyxhLmJdfX0sUkdCQV9BUlJBWTp7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm4gNCE9YS5sZW5ndGg/ITE6e3NwYWNlOiJSR0IiLHI6YVswXSxnOmFbMV0sYjphWzJdLGE6YVszXX19LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVyblthLnIsYS5nLGEuYixhLmFdfX19fSx7bGl0bXVzOmIuaXNPYmplY3QsY29udmVyc2lvbnM6e1JHQkFfT0JKOntyZWFkOmZ1bmN0aW9uKGEpe3JldHVybiBiLmlzTnVtYmVyKGEucikmJmIuaXNOdW1iZXIoYS5nKSYmYi5pc051bWJlcihhLmIpJiZiLmlzTnVtYmVyKGEuYSk/e3NwYWNlOiJSR0IiLHI6YS5yLGc6YS5nLGI6YS5iLGE6YS5hfTohMX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJue3I6YS5yLGc6YS5nLGI6YS5iLGE6YS5hfX19LFJHQl9PQko6e3JlYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuaXNOdW1iZXIoYS5yKSYmCmIuaXNOdW1iZXIoYS5nKSYmYi5pc051bWJlcihhLmIpP3tzcGFjZToiUkdCIixyOmEucixnOmEuZyxiOmEuYn06ITF9LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVybntyOmEucixnOmEuZyxiOmEuYn19fSxIU1ZBX09CSjp7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm4gYi5pc051bWJlcihhLmgpJiZiLmlzTnVtYmVyKGEucykmJmIuaXNOdW1iZXIoYS52KSYmYi5pc051bWJlcihhLmEpP3tzcGFjZToiSFNWIixoOmEuaCxzOmEucyx2OmEudixhOmEuYX06ITF9LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVybntoOmEuaCxzOmEucyx2OmEudixhOmEuYX19fSxIU1ZfT0JKOntyZWFkOmZ1bmN0aW9uKGEpe3JldHVybiBiLmlzTnVtYmVyKGEuaCkmJmIuaXNOdW1iZXIoYS5zKSYmYi5pc051bWJlcihhLnYpP3tzcGFjZToiSFNWIixoOmEuaCxzOmEucyx2OmEudn06ITF9LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVybntoOmEuaCxzOmEucyx2OmEudn19fX19XTtyZXR1cm4gZnVuY3Rpb24oKXtkPSExOwp2YXIgYT0xPGFyZ3VtZW50cy5sZW5ndGg/Yi50b0FycmF5KGFyZ3VtZW50cyk6YXJndW1lbnRzWzBdO2IuZWFjaChlLGZ1bmN0aW9uKGUpe2lmKGUubGl0bXVzKGEpKXJldHVybiBiLmVhY2goZS5jb252ZXJzaW9ucyxmdW5jdGlvbihlLGgpe2M9ZS5yZWFkKGEpO2lmKCExPT09ZCYmITEhPT1jKXJldHVybiBkPWMsYy5jb252ZXJzaW9uTmFtZT1oLGMuY29udmVyc2lvbj1lLGIuQlJFQUt9KSxiLkJSRUFLfSk7cmV0dXJuIGR9fShkYXQuY29sb3IudG9TdHJpbmcsZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5HVUk9ZGF0Lmd1aS5HVUk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsayxwLGgsZyxtLHIscyxuLHEpe2Z1bmN0aW9uIHkoYSxiLGMsZyl7aWYodm9pZCAwPT09YltjXSl0aHJvdyBFcnJvcigiT2JqZWN0ICIrYisnIGhhcyBubyBwcm9wZXJ0eSAiJytjKyciJyk7Zy5jb2xvcj9iPW5ldyBtKGIsYyk6KGI9W2IsY10uY29uY2F0KGcuZmFjdG9yeUFyZ3MpLGI9ZC5hcHBseShhLGIpKTtnLmJlZm9yZSBpbnN0YW5jZW9mIGUmJihnLmJlZm9yZT1nLmJlZm9yZS5fX2xpKTtEKGEsYik7bi5hZGRDbGFzcyhiLmRvbUVsZW1lbnQsImMiKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtuLmFkZENsYXNzKGMsInByb3BlcnR5LW5hbWUiKTtjLmlubmVySFRNTD1iLnByb3BlcnR5O3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2YuYXBwZW5kQ2hpbGQoYyk7Zi5hcHBlbmRDaGlsZChiLmRvbUVsZW1lbnQpO2c9eChhLGYsZy5iZWZvcmUpO24uYWRkQ2xhc3MoZyx1LkNMQVNTX0NPTlRST0xMRVJfUk9XKTsKbi5hZGRDbGFzcyhnLHR5cGVvZiBiLmdldFZhbHVlKCkpO3coYSxnLGIpO2EuX19jb250cm9sbGVycy5wdXNoKGIpO3JldHVybiBifWZ1bmN0aW9uIHgoYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7YiYmZC5hcHBlbmRDaGlsZChiKTtjP2EuX191bC5pbnNlcnRCZWZvcmUoZCxwYXJhbXMuYmVmb3JlKTphLl9fdWwuYXBwZW5kQ2hpbGQoZCk7YS5vblJlc2l6ZSgpO3JldHVybiBkfWZ1bmN0aW9uIHcoYSxiLGMpe2MuX19saT1iO2MuX19ndWk9YTtxLmV4dGVuZChjLHtvcHRpb25zOmZ1bmN0aW9uKGIpe2lmKDE8YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYy5yZW1vdmUoKSx5KGEsYy5vYmplY3QsYy5wcm9wZXJ0eSx7YmVmb3JlOmMuX19saS5uZXh0RWxlbWVudFNpYmxpbmcsZmFjdG9yeUFyZ3M6W3EudG9BcnJheShhcmd1bWVudHMpXX0pO2lmKHEuaXNBcnJheShiKXx8cS5pc09iamVjdChiKSlyZXR1cm4gYy5yZW1vdmUoKSx5KGEsYy5vYmplY3QsYy5wcm9wZXJ0eSwKe2JlZm9yZTpjLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nLGZhY3RvcnlBcmdzOltiXX0pfSxuYW1lOmZ1bmN0aW9uKGEpe2MuX19saS5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUw9YTtyZXR1cm4gY30sbGlzdGVuOmZ1bmN0aW9uKCl7Yy5fX2d1aS5saXN0ZW4oYyk7cmV0dXJuIGN9LHJlbW92ZTpmdW5jdGlvbigpe2MuX19ndWkucmVtb3ZlKGMpO3JldHVybiBjfX0pO2lmKGMgaW5zdGFuY2VvZiBoKXt2YXIgZD1uZXcgcChjLm9iamVjdCxjLnByb3BlcnR5LHttaW46Yy5fX21pbixtYXg6Yy5fX21heCxzdGVwOmMuX19zdGVwfSk7cS5lYWNoKFsidXBkYXRlRGlzcGxheSIsIm9uQ2hhbmdlIiwib25GaW5pc2hDaGFuZ2UiXSxmdW5jdGlvbihhKXt2YXIgYj1jW2FdLGU9ZFthXTtjW2FdPWRbYV09ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2IuYXBwbHkoYyxhKTtyZXR1cm4gZS5hcHBseShkLGEpfX0pOwpuLmFkZENsYXNzKGIsImhhcy1zbGlkZXIiKTtjLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGQuZG9tRWxlbWVudCxjLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpfWVsc2UgaWYoYyBpbnN0YW5jZW9mIHApe3ZhciBlPWZ1bmN0aW9uKGIpe3JldHVybiBxLmlzTnVtYmVyKGMuX19taW4pJiZxLmlzTnVtYmVyKGMuX19tYXgpPyhjLnJlbW92ZSgpLHkoYSxjLm9iamVjdCxjLnByb3BlcnR5LHtiZWZvcmU6Yy5fX2xpLm5leHRFbGVtZW50U2libGluZyxmYWN0b3J5QXJnczpbYy5fX21pbixjLl9fbWF4LGMuX19zdGVwXX0pKTpifTtjLm1pbj1xLmNvbXBvc2UoZSxjLm1pbik7Yy5tYXg9cS5jb21wb3NlKGUsYy5tYXgpfWVsc2UgYyBpbnN0YW5jZW9mIGY/KG4uYmluZChiLCJjbGljayIsZnVuY3Rpb24oKXtuLmZha2VFdmVudChjLl9fY2hlY2tib3gsImNsaWNrIil9KSxuLmJpbmQoYy5fX2NoZWNrYm94LCJjbGljayIsZnVuY3Rpb24oYSl7YS5zdG9wUHJvcGFnYXRpb24oKX0pKToKYyBpbnN0YW5jZW9mIGs/KG4uYmluZChiLCJjbGljayIsZnVuY3Rpb24oKXtuLmZha2VFdmVudChjLl9fYnV0dG9uLCJjbGljayIpfSksbi5iaW5kKGIsIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtuLmFkZENsYXNzKGMuX19idXR0b24sImhvdmVyIil9KSxuLmJpbmQoYiwibW91c2VvdXQiLGZ1bmN0aW9uKCl7bi5yZW1vdmVDbGFzcyhjLl9fYnV0dG9uLCJob3ZlciIpfSkpOmMgaW5zdGFuY2VvZiBtJiYobi5hZGRDbGFzcyhiLCJjb2xvciIpLGMudXBkYXRlRGlzcGxheT1xLmNvbXBvc2UoZnVuY3Rpb24oYSl7Yi5zdHlsZS5ib3JkZXJMZWZ0Q29sb3I9Yy5fX2NvbG9yLnRvU3RyaW5nKCk7cmV0dXJuIGF9LGMudXBkYXRlRGlzcGxheSksYy51cGRhdGVEaXNwbGF5KCkpO2Muc2V0VmFsdWU9cS5jb21wb3NlKGZ1bmN0aW9uKGIpe2EuZ2V0Um9vdCgpLl9fcHJlc2V0X3NlbGVjdCYmYy5pc01vZGlmaWVkKCkmJkcoYS5nZXRSb290KCksITApO3JldHVybiBifSxjLnNldFZhbHVlKX1mdW5jdGlvbiBEKGEsCmIpe3ZhciBjPWEuZ2V0Um9vdCgpLGQ9Yy5fX3JlbWVtYmVyZWRPYmplY3RzLmluZGV4T2YoYi5vYmplY3QpO2lmKC0xIT1kKXt2YXIgZT1jLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW2RdO3ZvaWQgMD09PWUmJihlPXt9LGMuX19yZW1lbWJlcmVkT2JqZWN0SW5kZWNlc1RvQ29udHJvbGxlcnNbZF09ZSk7ZVtiLnByb3BlcnR5XT1iO2lmKGMubG9hZCYmYy5sb2FkLnJlbWVtYmVyZWQpe2M9Yy5sb2FkLnJlbWVtYmVyZWQ7aWYoY1thLnByZXNldF0pYz1jW2EucHJlc2V0XTtlbHNlIGlmKGNbRV0pYz1jW0VdO2Vsc2UgcmV0dXJuO2NbZF0mJnZvaWQgMCE9PWNbZF1bYi5wcm9wZXJ0eV0mJihkPWNbZF1bYi5wcm9wZXJ0eV0sYi5pbml0aWFsVmFsdWU9ZCxiLnNldFZhbHVlKGQpKX19fWZ1bmN0aW9uIHQoYSl7dmFyIGI9YS5fX3NhdmVfcm93PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7bi5hZGRDbGFzcyhhLmRvbUVsZW1lbnQsImhhcy1zYXZlIik7YS5fX3VsLmluc2VydEJlZm9yZShiLAphLl9fdWwuZmlyc3RDaGlsZCk7bi5hZGRDbGFzcyhiLCJzYXZlLXJvdyIpO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtjLmlubmVySFRNTD0iJm5ic3A7IjtuLmFkZENsYXNzKGMsImJ1dHRvbiBnZWFycyIpO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtkLmlubmVySFRNTD0iU2F2ZSI7bi5hZGRDbGFzcyhkLCJidXR0b24iKTtuLmFkZENsYXNzKGQsInNhdmUiKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7ZS5pbm5lckhUTUw9Ik5ldyI7bi5hZGRDbGFzcyhlLCJidXR0b24iKTtuLmFkZENsYXNzKGUsInNhdmUtYXMiKTt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Zy5pbm5lckhUTUw9IlJldmVydCI7bi5hZGRDbGFzcyhnLCJidXR0b24iKTtuLmFkZENsYXNzKGcsInJldmVydCIpO3ZhciBmPWEuX19wcmVzZXRfc2VsZWN0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2EubG9hZCYmCmEubG9hZC5yZW1lbWJlcmVkP3EuZWFjaChhLmxvYWQucmVtZW1iZXJlZCxmdW5jdGlvbihiLGMpe0goYSxjLGM9PWEucHJlc2V0KX0pOkgoYSxFLCExKTtuLmJpbmQoZiwiY2hhbmdlIixmdW5jdGlvbigpe2Zvcih2YXIgYj0wO2I8YS5fX3ByZXNldF9zZWxlY3QubGVuZ3RoO2IrKylhLl9fcHJlc2V0X3NlbGVjdFtiXS5pbm5lckhUTUw9YS5fX3ByZXNldF9zZWxlY3RbYl0udmFsdWU7YS5wcmVzZXQ9dGhpcy52YWx1ZX0pO2IuYXBwZW5kQ2hpbGQoZik7Yi5hcHBlbmRDaGlsZChjKTtiLmFwcGVuZENoaWxkKGQpO2IuYXBwZW5kQ2hpbGQoZSk7Yi5hcHBlbmRDaGlsZChnKTtpZihBKXt2YXIgYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGctc2F2ZS1sb2NhbGx5IiksbT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGctbG9jYWwtZXhwbGFpbiIpO2Iuc3R5bGUuZGlzcGxheT0iYmxvY2siO2I9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRnLWxvY2FsLXN0b3JhZ2UiKTsidHJ1ZSI9PT0KbG9jYWxTdG9yYWdlLmdldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZisiLmlzTG9jYWwiKSYmYi5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIik7dmFyIGg9ZnVuY3Rpb24oKXttLnN0eWxlLmRpc3BsYXk9YS51c2VMb2NhbFN0b3JhZ2U/ImJsb2NrIjoibm9uZSJ9O2goKTtuLmJpbmQoYiwiY2hhbmdlIixmdW5jdGlvbigpe2EudXNlTG9jYWxTdG9yYWdlPSFhLnVzZUxvY2FsU3RvcmFnZTtoKCl9KX12YXIgaz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGctbmV3LWNvbnN0cnVjdG9yIik7bi5iaW5kKGssImtleWRvd24iLGZ1bmN0aW9uKGEpe2EubWV0YUtleSYmKDY3PT09YS53aGljaHx8Njc9PWEua2V5Q29kZSkmJkouaGlkZSgpfSk7bi5iaW5kKGMsImNsaWNrIixmdW5jdGlvbigpe2suaW5uZXJIVE1MPUpTT04uc3RyaW5naWZ5KGEuZ2V0U2F2ZU9iamVjdCgpLHZvaWQgMCwyKTtKLnNob3coKTtrLmZvY3VzKCk7ay5zZWxlY3QoKX0pO24uYmluZChkLCJjbGljayIsCmZ1bmN0aW9uKCl7YS5zYXZlKCl9KTtuLmJpbmQoZSwiY2xpY2siLGZ1bmN0aW9uKCl7dmFyIGI9cHJvbXB0KCJFbnRlciBhIG5ldyBwcmVzZXQgbmFtZS4iKTtiJiZhLnNhdmVBcyhiKX0pO24uYmluZChnLCJjbGljayIsZnVuY3Rpb24oKXthLnJldmVydCgpfSl9ZnVuY3Rpb24gdihhKXtmdW5jdGlvbiBiKGcpe2cucHJldmVudERlZmF1bHQoKTtlPWcuY2xpZW50WDtuLmFkZENsYXNzKGEuX19jbG9zZUJ1dHRvbix1LkNMQVNTX0RSQUcpO24uYmluZCh3aW5kb3csIm1vdXNlbW92ZSIsYyk7bi5iaW5kKHdpbmRvdywibW91c2V1cCIsZCk7cmV0dXJuITF9ZnVuY3Rpb24gYyhiKXtiLnByZXZlbnREZWZhdWx0KCk7YS53aWR0aCs9ZS1iLmNsaWVudFg7YS5vblJlc2l6ZSgpO2U9Yi5jbGllbnRYO3JldHVybiExfWZ1bmN0aW9uIGQoKXtuLnJlbW92ZUNsYXNzKGEuX19jbG9zZUJ1dHRvbix1LkNMQVNTX0RSQUcpO24udW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixjKTtuLnVuYmluZCh3aW5kb3csCiJtb3VzZXVwIixkKX1hLl9fcmVzaXplX2hhbmRsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtxLmV4dGVuZChhLl9fcmVzaXplX2hhbmRsZS5zdHlsZSx7d2lkdGg6IjZweCIsbWFyZ2luTGVmdDoiLTNweCIsaGVpZ2h0OiIyMDBweCIsY3Vyc29yOiJldy1yZXNpemUiLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KTt2YXIgZTtuLmJpbmQoYS5fX3Jlc2l6ZV9oYW5kbGUsIm1vdXNlZG93biIsYik7bi5iaW5kKGEuX19jbG9zZUJ1dHRvbiwibW91c2Vkb3duIixiKTthLmRvbUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGEuX19yZXNpemVfaGFuZGxlLGEuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCl9ZnVuY3Rpb24gQihhLGIpe2EuZG9tRWxlbWVudC5zdHlsZS53aWR0aD1iKyJweCI7YS5fX3NhdmVfcm93JiZhLmF1dG9QbGFjZSYmKGEuX19zYXZlX3Jvdy5zdHlsZS53aWR0aD1iKyJweCIpO2EuX19jbG9zZUJ1dHRvbiYmKGEuX19jbG9zZUJ1dHRvbi5zdHlsZS53aWR0aD1iKyJweCIpfQpmdW5jdGlvbiBDKGEsYil7dmFyIGM9e307cS5lYWNoKGEuX19yZW1lbWJlcmVkT2JqZWN0cyxmdW5jdGlvbihkLGUpe3ZhciBnPXt9O3EuZWFjaChhLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW2VdLGZ1bmN0aW9uKGEsYyl7Z1tjXT1iP2EuaW5pdGlhbFZhbHVlOmEuZ2V0VmFsdWUoKX0pO2NbZV09Z30pO3JldHVybiBjfWZ1bmN0aW9uIEgoYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO2QuaW5uZXJIVE1MPWI7ZC52YWx1ZT1iO2EuX19wcmVzZXRfc2VsZWN0LmFwcGVuZENoaWxkKGQpO2MmJihhLl9fcHJlc2V0X3NlbGVjdC5zZWxlY3RlZEluZGV4PWEuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aC0xKX1mdW5jdGlvbiBHKGEsYil7dmFyIGM9YS5fX3ByZXNldF9zZWxlY3RbYS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleF07Yy5pbm5lckhUTUw9Yj9jLnZhbHVlKyIqIjpjLnZhbHVlfWZ1bmN0aW9uIEYoYSl7MCE9YS5sZW5ndGgmJgpyKGZ1bmN0aW9uKCl7RihhKX0pO3EuZWFjaChhLGZ1bmN0aW9uKGEpe2EudXBkYXRlRGlzcGxheSgpfSl9YS5pbmplY3QoYyk7dmFyIEU9IkRlZmF1bHQiLEE7dHJ5e0E9ImxvY2FsU3RvcmFnZSJpbiB3aW5kb3cmJm51bGwhPT13aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKE8pe0E9ITF9dmFyIEosTD0hMCxJLEs9ITEsTT1bXSx1PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmKyIuZ3VpIixKU09OLnN0cmluZ2lmeShkLmdldFNhdmVPYmplY3QoKSkpfWZ1bmN0aW9uIGMoKXt2YXIgYT1kLmdldFJvb3QoKTthLndpZHRoKz0xO3EuZGVmZXIoZnVuY3Rpb24oKXthLndpZHRoLT0xfSl9dmFyIGQ9dGhpczt0aGlzLmRvbUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX3VsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInVsIik7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX191bCk7Cm4uYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LCJkZyIpO3RoaXMuX19mb2xkZXJzPXt9O3RoaXMuX19jb250cm9sbGVycz1bXTt0aGlzLl9fcmVtZW1iZXJlZE9iamVjdHM9W107dGhpcy5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVycz1bXTt0aGlzLl9fbGlzdGVuaW5nPVtdO2E9YXx8e307YT1xLmRlZmF1bHRzKGEse2F1dG9QbGFjZTohMCx3aWR0aDp1LkRFRkFVTFRfV0lEVEh9KTthPXEuZGVmYXVsdHMoYSx7cmVzaXphYmxlOmEuYXV0b1BsYWNlLGhpZGVhYmxlOmEuYXV0b1BsYWNlfSk7cS5pc1VuZGVmaW5lZChhLmxvYWQpP2EubG9hZD17cHJlc2V0OkV9OmEucHJlc2V0JiYoYS5sb2FkLnByZXNldD1hLnByZXNldCk7cS5pc1VuZGVmaW5lZChhLnBhcmVudCkmJmEuaGlkZWFibGUmJk0ucHVzaCh0aGlzKTthLnJlc2l6YWJsZT1xLmlzVW5kZWZpbmVkKGEucGFyZW50KSYmYS5yZXNpemFibGU7YS5hdXRvUGxhY2UmJnEuaXNVbmRlZmluZWQoYS5zY3JvbGxhYmxlKSYmCihhLnNjcm9sbGFibGU9ITApO3ZhciBlPUEmJiJ0cnVlIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrIi5pc0xvY2FsIik7T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7cGFyZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5wYXJlbnR9fSxzY3JvbGxhYmxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zY3JvbGxhYmxlfX0sYXV0b1BsYWNlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hdXRvUGxhY2V9fSxwcmVzZXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBkLnBhcmVudD9kLmdldFJvb3QoKS5wcmVzZXQ6YS5sb2FkLnByZXNldH0sc2V0OmZ1bmN0aW9uKGIpe2QucGFyZW50P2QuZ2V0Um9vdCgpLnByZXNldD1iOmEubG9hZC5wcmVzZXQ9Yjtmb3IoYj0wO2I8dGhpcy5fX3ByZXNldF9zZWxlY3QubGVuZ3RoO2IrKyl0aGlzLl9fcHJlc2V0X3NlbGVjdFtiXS52YWx1ZT09dGhpcy5wcmVzZXQmJih0aGlzLl9fcHJlc2V0X3NlbGVjdC5zZWxlY3RlZEluZGV4PQpiKTtkLnJldmVydCgpfX0sd2lkdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLndpZHRofSxzZXQ6ZnVuY3Rpb24oYil7YS53aWR0aD1iO0IoZCxiKX19LG5hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLm5hbWV9LHNldDpmdW5jdGlvbihiKXthLm5hbWU9YjtmJiYoZi5pbm5lckhUTUw9YS5uYW1lKX19LGNsb3NlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2xvc2VkfSxzZXQ6ZnVuY3Rpb24oYil7YS5jbG9zZWQ9YjthLmNsb3NlZD9uLmFkZENsYXNzKGQuX191bCx1LkNMQVNTX0NMT1NFRCk6bi5yZW1vdmVDbGFzcyhkLl9fdWwsdS5DTEFTU19DTE9TRUQpO3RoaXMub25SZXNpemUoKTtkLl9fY2xvc2VCdXR0b24mJihkLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MPWI/dS5URVhUX09QRU46dS5URVhUX0NMT1NFRCl9fSxsb2FkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5sb2FkfX0sdXNlTG9jYWxTdG9yYWdlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sc2V0OmZ1bmN0aW9uKGEpe0EmJgooKGU9YSk/bi5iaW5kKHdpbmRvdywidW5sb2FkIixiKTpuLnVuYmluZCh3aW5kb3csInVubG9hZCIsYiksbG9jYWxTdG9yYWdlLnNldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZisiLmlzTG9jYWwiLGEpKX19fSk7aWYocS5pc1VuZGVmaW5lZChhLnBhcmVudCkpe2EuY2xvc2VkPSExO24uYWRkQ2xhc3ModGhpcy5kb21FbGVtZW50LHUuQ0xBU1NfTUFJTik7bi5tYWtlU2VsZWN0YWJsZSh0aGlzLmRvbUVsZW1lbnQsITEpO2lmKEEmJmUpe2QudXNlTG9jYWxTdG9yYWdlPSEwO3ZhciBnPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrIi5ndWkiKTtnJiYoYS5sb2FkPUpTT04ucGFyc2UoZykpfXRoaXMuX19jbG9zZUJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9fY2xvc2VCdXR0b24uaW5uZXJIVE1MPXUuVEVYVF9DTE9TRUQ7bi5hZGRDbGFzcyh0aGlzLl9fY2xvc2VCdXR0b24sdS5DTEFTU19DTE9TRV9CVVRUT04pO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fY2xvc2VCdXR0b24pOwpuLmJpbmQodGhpcy5fX2Nsb3NlQnV0dG9uLCJjbGljayIsZnVuY3Rpb24oKXtkLmNsb3NlZD0hZC5jbG9zZWR9KX1lbHNle3ZvaWQgMD09PWEuY2xvc2VkJiYoYS5jbG9zZWQ9ITApO3ZhciBmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEubmFtZSk7bi5hZGRDbGFzcyhmLCJjb250cm9sbGVyLW5hbWUiKTtnPXgoZCxmKTtuLmFkZENsYXNzKHRoaXMuX191bCx1LkNMQVNTX0NMT1NFRCk7bi5hZGRDbGFzcyhnLCJ0aXRsZSIpO24uYmluZChnLCJjbGljayIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO2QuY2xvc2VkPSFkLmNsb3NlZDtyZXR1cm4hMX0pO2EuY2xvc2VkfHwodGhpcy5jbG9zZWQ9ITEpfWEuYXV0b1BsYWNlJiYocS5pc1VuZGVmaW5lZChhLnBhcmVudCkmJihMJiYoST1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxuLmFkZENsYXNzKEksImRnIiksbi5hZGRDbGFzcyhJLHUuQ0xBU1NfQVVUT19QTEFDRV9DT05UQUlORVIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoSSksCkw9ITEpLEkuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50KSxuLmFkZENsYXNzKHRoaXMuZG9tRWxlbWVudCx1LkNMQVNTX0FVVE9fUExBQ0UpKSx0aGlzLnBhcmVudHx8QihkLGEud2lkdGgpKTtuLmJpbmQod2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7ZC5vblJlc2l6ZSgpfSk7bi5iaW5kKHRoaXMuX191bCwid2Via2l0VHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtkLm9uUmVzaXplKCl9KTtuLmJpbmQodGhpcy5fX3VsLCJ0cmFuc2l0aW9uZW5kIixmdW5jdGlvbigpe2Qub25SZXNpemUoKX0pO24uYmluZCh0aGlzLl9fdWwsIm9UcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpe2Qub25SZXNpemUoKX0pO3RoaXMub25SZXNpemUoKTthLnJlc2l6YWJsZSYmdih0aGlzKTtkLmdldFJvb3QoKTthLnBhcmVudHx8YygpfTt1LnRvZ2dsZUhpZGU9ZnVuY3Rpb24oKXtLPSFLO3EuZWFjaChNLGZ1bmN0aW9uKGEpe2EuZG9tRWxlbWVudC5zdHlsZS56SW5kZXg9Sz8tOTk5Ojk5OTthLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eT0KSz8wOjF9KX07dS5DTEFTU19BVVRPX1BMQUNFPSJhIjt1LkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSPSJhYyI7dS5DTEFTU19NQUlOPSJtYWluIjt1LkNMQVNTX0NPTlRST0xMRVJfUk9XPSJjciI7dS5DTEFTU19UT09fVEFMTD0idGFsbGVyLXRoYW4td2luZG93Ijt1LkNMQVNTX0NMT1NFRD0iY2xvc2VkIjt1LkNMQVNTX0NMT1NFX0JVVFRPTj0iY2xvc2UtYnV0dG9uIjt1LkNMQVNTX0RSQUc9ImRyYWciO3UuREVGQVVMVF9XSURUSD0yNDU7dS5URVhUX0NMT1NFRD0iQ2xvc2UgQ29udHJvbHMiO3UuVEVYVF9PUEVOPSJPcGVuIENvbnRyb2xzIjtuLmJpbmQod2luZG93LCJrZXlkb3duIixmdW5jdGlvbihhKXsidGV4dCI9PT1kb2N1bWVudC5hY3RpdmVFbGVtZW50LnR5cGV8fDcyIT09YS53aGljaCYmNzIhPWEua2V5Q29kZXx8dS50b2dnbGVIaWRlKCl9LCExKTtxLmV4dGVuZCh1LnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHkodGhpcyxhLGIse2ZhY3RvcnlBcmdzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywKMil9KX0sYWRkQ29sb3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4geSh0aGlzLGEsYix7Y29sb3I6ITB9KX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuX191bC5yZW1vdmVDaGlsZChhLl9fbGkpO3RoaXMuX19jb250cm9sbGVycy5zbGljZSh0aGlzLl9fY29udHJvbGxlcnMuaW5kZXhPZihhKSwxKTt2YXIgYj10aGlzO3EuZGVmZXIoZnVuY3Rpb24oKXtiLm9uUmVzaXplKCl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYXV0b1BsYWNlJiZJLnJlbW92ZUNoaWxkKHRoaXMuZG9tRWxlbWVudCl9LGFkZEZvbGRlcjpmdW5jdGlvbihhKXtpZih2b2lkIDAhPT10aGlzLl9fZm9sZGVyc1thXSl0aHJvdyBFcnJvcignWW91IGFscmVhZHkgaGF2ZSBhIGZvbGRlciBpbiB0aGlzIEdVSSBieSB0aGUgbmFtZSAiJythKyciJyk7dmFyIGI9e25hbWU6YSxwYXJlbnQ6dGhpc307Yi5hdXRvUGxhY2U9dGhpcy5hdXRvUGxhY2U7dGhpcy5sb2FkJiZ0aGlzLmxvYWQuZm9sZGVycyYmdGhpcy5sb2FkLmZvbGRlcnNbYV0mJgooYi5jbG9zZWQ9dGhpcy5sb2FkLmZvbGRlcnNbYV0uY2xvc2VkLGIubG9hZD10aGlzLmxvYWQuZm9sZGVyc1thXSk7Yj1uZXcgdShiKTt0aGlzLl9fZm9sZGVyc1thXT1iO2E9eCh0aGlzLGIuZG9tRWxlbWVudCk7bi5hZGRDbGFzcyhhLCJmb2xkZXIiKTtyZXR1cm4gYn0sb3BlbjpmdW5jdGlvbigpe3RoaXMuY2xvc2VkPSExfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuY2xvc2VkPSEwfSxvblJlc2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Um9vdCgpO2lmKGEuc2Nyb2xsYWJsZSl7dmFyIGI9bi5nZXRPZmZzZXQoYS5fX3VsKS50b3AsYz0wO3EuZWFjaChhLl9fdWwuY2hpbGROb2RlcyxmdW5jdGlvbihiKXthLmF1dG9QbGFjZSYmYj09PWEuX19zYXZlX3Jvd3x8KGMrPW4uZ2V0SGVpZ2h0KGIpKX0pO3dpbmRvdy5pbm5lckhlaWdodC1iLTIwPGM/KG4uYWRkQ2xhc3MoYS5kb21FbGVtZW50LHUuQ0xBU1NfVE9PX1RBTEwpLGEuX191bC5zdHlsZS5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0LQpiLTIwKyJweCIpOihuLnJlbW92ZUNsYXNzKGEuZG9tRWxlbWVudCx1LkNMQVNTX1RPT19UQUxMKSxhLl9fdWwuc3R5bGUuaGVpZ2h0PSJhdXRvIil9YS5fX3Jlc2l6ZV9oYW5kbGUmJnEuZGVmZXIoZnVuY3Rpb24oKXthLl9fcmVzaXplX2hhbmRsZS5zdHlsZS5oZWlnaHQ9YS5fX3VsLm9mZnNldEhlaWdodCsicHgifSk7YS5fX2Nsb3NlQnV0dG9uJiYoYS5fX2Nsb3NlQnV0dG9uLnN0eWxlLndpZHRoPWEud2lkdGgrInB4Iil9LHJlbWVtYmVyOmZ1bmN0aW9uKCl7cS5pc1VuZGVmaW5lZChKKSYmKEo9bmV3IHMsSi5kb21FbGVtZW50LmlubmVySFRNTD1iKTtpZih0aGlzLnBhcmVudCl0aHJvdyBFcnJvcigiWW91IGNhbiBvbmx5IGNhbGwgcmVtZW1iZXIgb24gYSB0b3AgbGV2ZWwgR1VJLiIpO3ZhciBhPXRoaXM7cS5lYWNoKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZnVuY3Rpb24oYil7MD09YS5fX3JlbWVtYmVyZWRPYmplY3RzLmxlbmd0aCYmdChhKTstMT09CmEuX19yZW1lbWJlcmVkT2JqZWN0cy5pbmRleE9mKGIpJiZhLl9fcmVtZW1iZXJlZE9iamVjdHMucHVzaChiKX0pO3RoaXMuYXV0b1BsYWNlJiZCKHRoaXMsdGhpcy53aWR0aCl9LGdldFJvb3Q6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpczthLnBhcmVudDspYT1hLnBhcmVudDtyZXR1cm4gYX0sZ2V0U2F2ZU9iamVjdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubG9hZDthLmNsb3NlZD10aGlzLmNsb3NlZDswPHRoaXMuX19yZW1lbWJlcmVkT2JqZWN0cy5sZW5ndGgmJihhLnByZXNldD10aGlzLnByZXNldCxhLnJlbWVtYmVyZWR8fChhLnJlbWVtYmVyZWQ9e30pLGEucmVtZW1iZXJlZFt0aGlzLnByZXNldF09Qyh0aGlzKSk7YS5mb2xkZXJzPXt9O3EuZWFjaCh0aGlzLl9fZm9sZGVycyxmdW5jdGlvbihiLGMpe2EuZm9sZGVyc1tjXT1iLmdldFNhdmVPYmplY3QoKX0pO3JldHVybiBhfSxzYXZlOmZ1bmN0aW9uKCl7dGhpcy5sb2FkLnJlbWVtYmVyZWR8fCh0aGlzLmxvYWQucmVtZW1iZXJlZD0Ke30pO3RoaXMubG9hZC5yZW1lbWJlcmVkW3RoaXMucHJlc2V0XT1DKHRoaXMpO0codGhpcywhMSl9LHNhdmVBczpmdW5jdGlvbihhKXt0aGlzLmxvYWQucmVtZW1iZXJlZHx8KHRoaXMubG9hZC5yZW1lbWJlcmVkPXt9LHRoaXMubG9hZC5yZW1lbWJlcmVkW0VdPUModGhpcywhMCkpO3RoaXMubG9hZC5yZW1lbWJlcmVkW2FdPUModGhpcyk7dGhpcy5wcmVzZXQ9YTtIKHRoaXMsYSwhMCl9LHJldmVydDpmdW5jdGlvbihhKXtxLmVhY2godGhpcy5fX2NvbnRyb2xsZXJzLGZ1bmN0aW9uKGIpe3RoaXMuZ2V0Um9vdCgpLmxvYWQucmVtZW1iZXJlZD9EKGF8fHRoaXMuZ2V0Um9vdCgpLGIpOmIuc2V0VmFsdWUoYi5pbml0aWFsVmFsdWUpfSx0aGlzKTtxLmVhY2godGhpcy5fX2ZvbGRlcnMsZnVuY3Rpb24oYSl7YS5yZXZlcnQoYSl9KTthfHxHKHRoaXMuZ2V0Um9vdCgpLCExKX0sbGlzdGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTA9PXRoaXMuX19saXN0ZW5pbmcubGVuZ3RoO3RoaXMuX19saXN0ZW5pbmcucHVzaChhKTsKYiYmRih0aGlzLl9fbGlzdGVuaW5nKX19KTtyZXR1cm4gdX0oZGF0LnV0aWxzLmNzcywnPGRpdiBpZD0iZGctc2F2ZSIgY2xhc3M9ImRnIGRpYWxvZ3VlIj5cblxuICBIZXJlXCdzIHRoZSBuZXcgbG9hZCBwYXJhbWV0ZXIgZm9yIHlvdXIgPGNvZGU+R1VJPC9jb2RlPlwncyBjb25zdHJ1Y3RvcjpcblxuICA8dGV4dGFyZWEgaWQ9ImRnLW5ldy1jb25zdHJ1Y3RvciI+PC90ZXh0YXJlYT5cblxuICA8ZGl2IGlkPSJkZy1zYXZlLWxvY2FsbHkiPlxuXG4gICAgPGlucHV0IGlkPSJkZy1sb2NhbC1zdG9yYWdlIiB0eXBlPSJjaGVja2JveCIvPiBBdXRvbWF0aWNhbGx5IHNhdmVcbiAgICB2YWx1ZXMgdG8gPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiBvbiBleGl0LlxuXG4gICAgPGRpdiBpZD0iZGctbG9jYWwtZXhwbGFpbiI+VGhlIHZhbHVlcyBzYXZlZCB0byA8Y29kZT5sb2NhbFN0b3JhZ2U8L2NvZGU+IHdpbGxcbiAgICAgIG92ZXJyaWRlIHRob3NlIHBhc3NlZCB0byA8Y29kZT5kYXQuR1VJPC9jb2RlPlwncyBjb25zdHJ1Y3Rvci4gVGhpcyBtYWtlcyBpdFxuICAgICAgZWFzaWVyIHRvIHdvcmsgaW5jcmVtZW50YWxseSwgYnV0IDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gaXMgZnJhZ2lsZSxcbiAgICAgIGFuZCB5b3VyIGZyaWVuZHMgbWF5IG5vdCBzZWUgdGhlIHNhbWUgdmFsdWVzIHlvdSBkby5cbiAgICAgIFxuICAgIDwvZGl2PlxuICAgIFxuICA8L2Rpdj5cblxuPC9kaXY+JywKIi5kZyB1bHtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO3dpZHRoOjEwMCU7Y2xlYXI6Ym90aH0uZGcuYWN7cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3JpZ2h0OjA7aGVpZ2h0OjA7ei1pbmRleDowfS5kZzpub3QoLmFjKSAubWFpbntvdmVyZmxvdzpoaWRkZW59LmRnLm1haW57LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7LW8tdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyO3RyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcn0uZGcubWFpbi50YWxsZXItdGhhbi13aW5kb3d7b3ZlcmZsb3cteTphdXRvfS5kZy5tYWluLnRhbGxlci10aGFuLXdpbmRvdyAuY2xvc2UtYnV0dG9ue29wYWNpdHk6MTttYXJnaW4tdG9wOi0xcHg7Ym9yZGVyLXRvcDoxcHggc29saWQgIzJjMmMyY30uZGcubWFpbiB1bC5jbG9zZWQgLmNsb3NlLWJ1dHRvbntvcGFjaXR5OjEgIWltcG9ydGFudH0uZGcubWFpbjpob3ZlciAuY2xvc2UtYnV0dG9uLC5kZy5tYWluIC5jbG9zZS1idXR0b24uZHJhZ3tvcGFjaXR5OjF9LmRnLm1haW4gLmNsb3NlLWJ1dHRvbnstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjstby10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7LW1vei10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7dHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyO2JvcmRlcjowO3Bvc2l0aW9uOmFic29sdXRlO2xpbmUtaGVpZ2h0OjE5cHg7aGVpZ2h0OjIwcHg7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjojMDAwfS5kZy5tYWluIC5jbG9zZS1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMTExfS5kZy5he2Zsb2F0OnJpZ2h0O21hcmdpbi1yaWdodDoxNXB4O292ZXJmbG93LXg6aGlkZGVufS5kZy5hLmhhcy1zYXZlIHVse21hcmdpbi10b3A6MjdweH0uZGcuYS5oYXMtc2F2ZSB1bC5jbG9zZWR7bWFyZ2luLXRvcDowfS5kZy5hIC5zYXZlLXJvd3twb3NpdGlvbjpmaXhlZDt0b3A6MDt6LWluZGV4OjEwMDJ9LmRnIGxpey13ZWJraXQtdHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dDstby10cmFuc2l0aW9uOmhlaWdodCAwLjFzIGVhc2Utb3V0Oy1tb3otdHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dDt0cmFuc2l0aW9uOmhlaWdodCAwLjFzIGVhc2Utb3V0fS5kZyBsaTpub3QoLmZvbGRlcil7Y3Vyc29yOmF1dG87aGVpZ2h0OjI3cHg7bGluZS1oZWlnaHQ6MjdweDtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowIDRweCAwIDVweH0uZGcgbGkuZm9sZGVye3BhZGRpbmc6MDtib3JkZXItbGVmdDo0cHggc29saWQgcmdiYSgwLDAsMCwwKX0uZGcgbGkudGl0bGV7Y3Vyc29yOnBvaW50ZXI7bWFyZ2luLWxlZnQ6LTRweH0uZGcgLmNsb3NlZCBsaTpub3QoLnRpdGxlKSwuZGcgLmNsb3NlZCB1bCBsaSwuZGcgLmNsb3NlZCB1bCBsaSA+ICp7aGVpZ2h0OjA7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlcjowfS5kZyAuY3J7Y2xlYXI6Ym90aDtwYWRkaW5nLWxlZnQ6M3B4O2hlaWdodDoyN3B4fS5kZyAucHJvcGVydHktbmFtZXtjdXJzb3I6ZGVmYXVsdDtmbG9hdDpsZWZ0O2NsZWFyOmxlZnQ7d2lkdGg6NDAlO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5kZyAuY3tmbG9hdDpsZWZ0O3dpZHRoOjYwJX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XXtib3JkZXI6MDttYXJnaW4tdG9wOjRweDtwYWRkaW5nOjNweDt3aWR0aDoxMDAlO2Zsb2F0OnJpZ2h0fS5kZyAuaGFzLXNsaWRlciBpbnB1dFt0eXBlPXRleHRde3dpZHRoOjMwJTttYXJnaW4tbGVmdDowfS5kZyAuc2xpZGVye2Zsb2F0OmxlZnQ7d2lkdGg6NjYlO21hcmdpbi1sZWZ0Oi01cHg7bWFyZ2luLXJpZ2h0OjA7aGVpZ2h0OjE5cHg7bWFyZ2luLXRvcDo0cHh9LmRnIC5zbGlkZXItZmd7aGVpZ2h0OjEwMCV9LmRnIC5jIGlucHV0W3R5cGU9Y2hlY2tib3hde21hcmdpbi10b3A6OXB4fS5kZyAuYyBzZWxlY3R7bWFyZ2luLXRvcDo1cHh9LmRnIC5jci5mdW5jdGlvbiwuZGcgLmNyLmZ1bmN0aW9uIC5wcm9wZXJ0eS1uYW1lLC5kZyAuY3IuZnVuY3Rpb24gKiwuZGcgLmNyLmJvb2xlYW4sLmRnIC5jci5ib29sZWFuICp7Y3Vyc29yOnBvaW50ZXJ9LmRnIC5zZWxlY3RvcntkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLWxlZnQ6LTlweDttYXJnaW4tdG9wOjIzcHg7ei1pbmRleDoxMH0uZGcgLmM6aG92ZXIgLnNlbGVjdG9yLC5kZyAuc2VsZWN0b3IuZHJhZ3tkaXNwbGF5OmJsb2NrfS5kZyBsaS5zYXZlLXJvd3twYWRkaW5nOjB9LmRnIGxpLnNhdmUtcm93IC5idXR0b257ZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzowcHggNnB4fS5kZy5kaWFsb2d1ZXtiYWNrZ3JvdW5kLWNvbG9yOiMyMjI7d2lkdGg6NDYwcHg7cGFkZGluZzoxNXB4O2ZvbnQtc2l6ZToxM3B4O2xpbmUtaGVpZ2h0OjE1cHh9I2RnLW5ldy1jb25zdHJ1Y3RvcntwYWRkaW5nOjEwcHg7Y29sb3I6IzIyMjtmb250LWZhbWlseTpNb25hY28sIG1vbm9zcGFjZTtmb250LXNpemU6MTBweDtib3JkZXI6MDtyZXNpemU6bm9uZTtib3gtc2hhZG93Omluc2V0IDFweCAxcHggMXB4ICM4ODg7d29yZC13cmFwOmJyZWFrLXdvcmQ7bWFyZ2luOjEycHggMDtkaXNwbGF5OmJsb2NrO3dpZHRoOjQ0MHB4O292ZXJmbG93LXk6c2Nyb2xsO2hlaWdodDoxMDBweDtwb3NpdGlvbjpyZWxhdGl2ZX0jZGctbG9jYWwtZXhwbGFpbntkaXNwbGF5Om5vbmU7Zm9udC1zaXplOjExcHg7bGluZS1oZWlnaHQ6MTdweDtib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kLWNvbG9yOiMzMzM7cGFkZGluZzo4cHg7bWFyZ2luLXRvcDoxMHB4fSNkZy1sb2NhbC1leHBsYWluIGNvZGV7Zm9udC1zaXplOjEwcHh9I2RhdC1ndWktc2F2ZS1sb2NhbGx5e2Rpc3BsYXk6bm9uZX0uZGd7Y29sb3I6I2VlZTtmb250OjExcHggJ0x1Y2lkYSBHcmFuZGUnLCBzYW5zLXNlcmlmO3RleHQtc2hhZG93OjAgLTFweCAwICMxMTF9LmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjVweDtiYWNrZ3JvdW5kOiMxYTFhMWF9LmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFyLWNvcm5lcntoZWlnaHQ6MDtkaXNwbGF5Om5vbmV9LmRnLm1haW46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1ie2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6IzY3Njc2N30uZGcgbGk6bm90KC5mb2xkZXIpe2JhY2tncm91bmQ6IzFhMWExYTtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjMmMyYzJjfS5kZyBsaS5zYXZlLXJvd3tsaW5lLWhlaWdodDoyNXB4O2JhY2tncm91bmQ6I2RhZDVjYjtib3JkZXI6MH0uZGcgbGkuc2F2ZS1yb3cgc2VsZWN0e21hcmdpbi1sZWZ0OjVweDt3aWR0aDoxMDhweH0uZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbnttYXJnaW4tbGVmdDo1cHg7bWFyZ2luLXRvcDoxcHg7Ym9yZGVyLXJhZGl1czoycHg7Zm9udC1zaXplOjlweDtsaW5lLWhlaWdodDo3cHg7cGFkZGluZzo0cHggNHB4IDVweCA0cHg7YmFja2dyb3VuZDojYzViZGFkO2NvbG9yOiNmZmY7dGV4dC1zaGFkb3c6MCAxcHggMCAjYjBhNThmO2JveC1zaGFkb3c6MCAtMXB4IDAgI2IwYTU4ZjtjdXJzb3I6cG9pbnRlcn0uZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbi5nZWFyc3tiYWNrZ3JvdW5kOiNjNWJkYWQgdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXNBQUFBTkNBWUFBQUIvOVpRN0FBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBUUpKUkVGVWVOcGlZS0FVL1AvL1B3R0lDL0FwQ0FCaUJTQVcrSThBQ2xBY2dLeFE0VDlob01BRVVyeHgyUVNHTjYrZWdEWCsvdldUNGU3TjgyQU1Zb1BBeC9ldndXb1lvU1liQUNYMnM3S3hDeHpjc2V6RGgzZXZGb0RFQllURUVxeWNnZ1dBekE5QXVVU1FRZ2VZUGE5ZlB2Ni9ZV20vQWN4NUlQYjd0eS9mdytRWmJsdzY3dkRzOFIwWUh5UWhnT2J4K3lBSmtCcW1HNWRQUERoMWFQT0dSL2V1Z1cwRzR2bElvVElmeUZjQStRZWtoaEhKaFBkUXhiaUFJZ3VNQlRRWnJQRDcxMDhNNnJvV1lERlFpSUFBdjZBb3cvMWJGd1hnaXMrZjJMVUF5bndvSWFOY3o4WE54M0RsN01FSlVER1FweDlndFE4WUN1ZUIrRDI2T0VDQUFRRGFkdDdlNDZENDJRQUFBQUJKUlU1RXJrSmdnZz09KSAycHggMXB4IG5vLXJlcGVhdDtoZWlnaHQ6N3B4O3dpZHRoOjhweH0uZGcgbGkuc2F2ZS1yb3cgLmJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNiYWIxOWU7Ym94LXNoYWRvdzowIC0xcHggMCAjYjBhNThmfS5kZyBsaS5mb2xkZXJ7Ym9yZGVyLWJvdHRvbTowfS5kZyBsaS50aXRsZXtwYWRkaW5nLWxlZnQ6MTZweDtiYWNrZ3JvdW5kOiMwMDAgdXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEJRQUZBSkVBQVAvLy8vUHo4Ly8vLy8vLy95SDVCQUVBQUFJQUxBQUFBQUFGQUFVQUFBSUlsSStoS2dGeG9DZ0FPdz09KSA2cHggMTBweCBuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjIpfS5kZyAuY2xvc2VkIGxpLnRpdGxle2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEJRQUZBSkVBQVAvLy8vUHo4Ly8vLy8vLy95SDVCQUVBQUFJQUxBQUFBQUFGQUFVQUFBSUlsR0lXcU1DYldBRUFPdz09KX0uZGcgLmNyLmJvb2xlYW57Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICM4MDY3ODd9LmRnIC5jci5mdW5jdGlvbntib3JkZXItbGVmdDozcHggc29saWQgI2U2MWQ1Zn0uZGcgLmNyLm51bWJlcntib3JkZXItbGVmdDozcHggc29saWQgIzJmYTFkNn0uZGcgLmNyLm51bWJlciBpbnB1dFt0eXBlPXRleHRde2NvbG9yOiMyZmExZDZ9LmRnIC5jci5zdHJpbmd7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICMxZWQzNmZ9LmRnIC5jci5zdHJpbmcgaW5wdXRbdHlwZT10ZXh0XXtjb2xvcjojMWVkMzZmfS5kZyAuY3IuZnVuY3Rpb246aG92ZXIsLmRnIC5jci5ib29sZWFuOmhvdmVye2JhY2tncm91bmQ6IzExMX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XXtiYWNrZ3JvdW5kOiMzMDMwMzA7b3V0bGluZTpub25lfS5kZyAuYyBpbnB1dFt0eXBlPXRleHRdOmhvdmVye2JhY2tncm91bmQ6IzNjM2MzY30uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpmb2N1c3tiYWNrZ3JvdW5kOiM0OTQ5NDk7Y29sb3I6I2ZmZn0uZGcgLmMgLnNsaWRlcntiYWNrZ3JvdW5kOiMzMDMwMzA7Y3Vyc29yOmV3LXJlc2l6ZX0uZGcgLmMgLnNsaWRlci1mZ3tiYWNrZ3JvdW5kOiMyZmExZDZ9LmRnIC5jIC5zbGlkZXI6aG92ZXJ7YmFja2dyb3VuZDojM2MzYzNjfS5kZyAuYyAuc2xpZGVyOmhvdmVyIC5zbGlkZXItZmd7YmFja2dyb3VuZDojNDRhYmRhfVxuIiwKZGF0LmNvbnRyb2xsZXJzLmZhY3Rvcnk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsayl7cmV0dXJuIGZ1bmN0aW9uKHAsaCxnLG0pe3ZhciByPXBbaF07aWYoay5pc0FycmF5KGcpfHxrLmlzT2JqZWN0KGcpKXJldHVybiBuZXcgYShwLGgsZyk7aWYoay5pc051bWJlcihyKSlyZXR1cm4gay5pc051bWJlcihnKSYmay5pc051bWJlcihtKT9uZXcgYyhwLGgsZyxtKTpuZXcgYihwLGgse21pbjpnLG1heDptfSk7aWYoay5pc1N0cmluZyhyKSlyZXR1cm4gbmV3IGQocCxoKTtpZihrLmlzRnVuY3Rpb24ocikpcmV0dXJuIG5ldyBlKHAsaCwiIik7aWYoay5pc0Jvb2xlYW4ocikpcmV0dXJuIG5ldyBmKHAsaCl9fShkYXQuY29udHJvbGxlcnMuT3B0aW9uQ29udHJvbGxlcixkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlckJveCxkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclNsaWRlcixkYXQuY29udHJvbGxlcnMuU3RyaW5nQ29udHJvbGxlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9CmZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gaygpe3Auc2V0VmFsdWUocC5fX2lucHV0LnZhbHVlKX1kLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGEsYyk7dmFyIHA9dGhpczt0aGlzLl9faW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0aGlzLl9faW5wdXQuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dCIpO2IuYmluZCh0aGlzLl9faW5wdXQsImtleXVwIixrKTtiLmJpbmQodGhpcy5fX2lucHV0LCJjaGFuZ2UiLGspO2IuYmluZCh0aGlzLl9faW5wdXQsImJsdXIiLGZ1bmN0aW9uKCl7cC5fX29uRmluaXNoQ2hhbmdlJiZwLl9fb25GaW5pc2hDaGFuZ2UuY2FsbChwLHAuZ2V0VmFsdWUoKSl9KTtiLmJpbmQodGhpcy5fX2lucHV0LCJrZXlkb3duIixmdW5jdGlvbihhKXsxMz09PWEua2V5Q29kZSYmdGhpcy5ibHVyKCl9KTt0aGlzLnVwZGF0ZURpc3BsYXkoKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2lucHV0KX07ZC5zdXBlcmNsYXNzPWE7Yy5leHRlbmQoZC5wcm90b3R5cGUsCmEucHJvdG90eXBlLHt1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7Yi5pc0FjdGl2ZSh0aGlzLl9faW5wdXQpfHwodGhpcy5fX2lucHV0LnZhbHVlPXRoaXMuZ2V0VmFsdWUoKSk7cmV0dXJuIGQuc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpfX0pO3JldHVybiBkfShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKSxkYXQuY29udHJvbGxlcnMuRnVuY3Rpb25Db250cm9sbGVyLGRhdC5jb250cm9sbGVycy5Cb29sZWFuQ29udHJvbGxlcixkYXQudXRpbHMuY29tbW9uKSxkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQuY29udHJvbGxlcnMuQm9vbGVhbkNvbnRyb2xsZXIsZGF0LmNvbnRyb2xsZXJzLkZ1bmN0aW9uQ29udHJvbGxlcixkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlckJveCxkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlclNsaWRlcixkYXQuY29udHJvbGxlcnMuT3B0aW9uQ29udHJvbGxlciwKZGF0LmNvbnRyb2xsZXJzLkNvbG9yQ29udHJvbGxlcj1mdW5jdGlvbihhLGIsYyxkLGUpe2Z1bmN0aW9uIGYoYSxiLGMsZCl7YS5zdHlsZS5iYWNrZ3JvdW5kPSIiO2UuZWFjaChoLGZ1bmN0aW9uKGUpe2Euc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6ICIrZSsibGluZWFyLWdyYWRpZW50KCIrYisiLCAiK2MrIiAwJSwgIitkKyIgMTAwJSk7ICJ9KX1mdW5jdGlvbiBrKGEpe2Euc3R5bGUuYmFja2dyb3VuZD0iIjthLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCAjZmYwMGZmIDE3JSwgIzAwMDBmZiAzNCUsICMwMGZmZmYgNTAlLCAjMDBmZjAwIDY3JSwgI2ZmZmYwMCA4NCUsICNmZjAwMDAgMTAwJSk7IjthLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7IjsKYS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsiO2Euc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyI7YS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsifXZhciBwPWZ1bmN0aW9uKGEsbSl7ZnVuY3Rpb24gaChhKXt5KGEpO2IuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIseSk7Yi5iaW5kKHdpbmRvdywKIm1vdXNldXAiLHMpfWZ1bmN0aW9uIHMoKXtiLnVuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIseSk7Yi51bmJpbmQod2luZG93LCJtb3VzZXVwIixzKX1mdW5jdGlvbiBuKCl7dmFyIGE9ZCh0aGlzLnZhbHVlKTshMSE9PWE/KHcuX19jb2xvci5fX3N0YXRlPWEsdy5zZXRWYWx1ZSh3Ll9fY29sb3IudG9PcmlnaW5hbCgpKSk6dGhpcy52YWx1ZT13Ll9fY29sb3IudG9TdHJpbmcoKX1mdW5jdGlvbiBxKCl7Yi51bmJpbmQod2luZG93LCJtb3VzZW1vdmUiLHgpO2IudW5iaW5kKHdpbmRvdywibW91c2V1cCIscSl9ZnVuY3Rpb24geShhKXthLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9Yi5nZXRXaWR0aCh3Ll9fc2F0dXJhdGlvbl9maWVsZCksZD1iLmdldE9mZnNldCh3Ll9fc2F0dXJhdGlvbl9maWVsZCksZT0oYS5jbGllbnRYLWQubGVmdCtkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpL2M7YT0xLShhLmNsaWVudFktZC50b3ArZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApL2M7MTxhP2E9MTowPgphJiYoYT0wKTsxPGU/ZT0xOjA+ZSYmKGU9MCk7dy5fX2NvbG9yLnY9YTt3Ll9fY29sb3Iucz1lO3cuc2V0VmFsdWUody5fX2NvbG9yLnRvT3JpZ2luYWwoKSk7cmV0dXJuITF9ZnVuY3Rpb24geChhKXthLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9Yi5nZXRIZWlnaHQody5fX2h1ZV9maWVsZCksZD1iLmdldE9mZnNldCh3Ll9faHVlX2ZpZWxkKTthPTEtKGEuY2xpZW50WS1kLnRvcCtkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkvYzsxPGE/YT0xOjA+YSYmKGE9MCk7dy5fX2NvbG9yLmg9MzYwKmE7dy5zZXRWYWx1ZSh3Ll9fY29sb3IudG9PcmlnaW5hbCgpKTtyZXR1cm4hMX1wLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGEsbSk7dGhpcy5fX2NvbG9yPW5ldyBjKHRoaXMuZ2V0VmFsdWUoKSk7dGhpcy5fX3RlbXA9bmV3IGMoMCk7dmFyIHc9dGhpczt0aGlzLmRvbUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5tYWtlU2VsZWN0YWJsZSh0aGlzLmRvbUVsZW1lbnQsITEpOwp0aGlzLl9fc2VsZWN0b3I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX3NlbGVjdG9yLmNsYXNzTmFtZT0ic2VsZWN0b3IiO3RoaXMuX19zYXR1cmF0aW9uX2ZpZWxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLmNsYXNzTmFtZT0ic2F0dXJhdGlvbi1maWVsZCI7dGhpcy5fX2ZpZWxkX2tub2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX2ZpZWxkX2tub2IuY2xhc3NOYW1lPSJmaWVsZC1rbm9iIjt0aGlzLl9fZmllbGRfa25vYl9ib3JkZXI9IjJweCBzb2xpZCAiO3RoaXMuX19odWVfa25vYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9faHVlX2tub2IuY2xhc3NOYW1lPSJodWUta25vYiI7dGhpcy5fX2h1ZV9maWVsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9faHVlX2ZpZWxkLmNsYXNzTmFtZT0iaHVlLWZpZWxkIjt0aGlzLl9faW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKdGhpcy5fX2lucHV0LnR5cGU9InRleHQiO3RoaXMuX19pbnB1dF90ZXh0U2hhZG93PSIwIDFweCAxcHggIjtiLmJpbmQodGhpcy5fX2lucHV0LCJrZXlkb3duIixmdW5jdGlvbihhKXsxMz09PWEua2V5Q29kZSYmbi5jYWxsKHRoaXMpfSk7Yi5iaW5kKHRoaXMuX19pbnB1dCwiYmx1ciIsbik7Yi5iaW5kKHRoaXMuX19zZWxlY3RvciwibW91c2Vkb3duIixmdW5jdGlvbigpe2IuYWRkQ2xhc3ModGhpcywiZHJhZyIpLmJpbmQod2luZG93LCJtb3VzZXVwIixmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3Mody5fX3NlbGVjdG9yLCJkcmFnIil9KX0pO3ZhciBEPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2UuZXh0ZW5kKHRoaXMuX19zZWxlY3Rvci5zdHlsZSx7d2lkdGg6IjEyMnB4IixoZWlnaHQ6IjEwMnB4IixwYWRkaW5nOiIzcHgiLGJhY2tncm91bmRDb2xvcjoiIzIyMiIsYm94U2hhZG93OiIwcHggMXB4IDNweCByZ2JhKDAsMCwwLDAuMykifSk7ZS5leHRlbmQodGhpcy5fX2ZpZWxkX2tub2Iuc3R5bGUsCntwb3NpdGlvbjoiYWJzb2x1dGUiLHdpZHRoOiIxMnB4IixoZWlnaHQ6IjEycHgiLGJvcmRlcjp0aGlzLl9fZmllbGRfa25vYl9ib3JkZXIrKC41PnRoaXMuX19jb2xvci52PyIjZmZmIjoiIzAwMCIpLGJveFNoYWRvdzoiMHB4IDFweCAzcHggcmdiYSgwLDAsMCwwLjUpIixib3JkZXJSYWRpdXM6IjEycHgiLHpJbmRleDoxfSk7ZS5leHRlbmQodGhpcy5fX2h1ZV9rbm9iLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHdpZHRoOiIxNXB4IixoZWlnaHQ6IjJweCIsYm9yZGVyUmlnaHQ6IjRweCBzb2xpZCAjZmZmIix6SW5kZXg6MX0pO2UuZXh0ZW5kKHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLnN0eWxlLHt3aWR0aDoiMTAwcHgiLGhlaWdodDoiMTAwcHgiLGJvcmRlcjoiMXB4IHNvbGlkICM1NTUiLG1hcmdpblJpZ2h0OiIzcHgiLGRpc3BsYXk6ImlubGluZS1ibG9jayIsY3Vyc29yOiJwb2ludGVyIn0pO2UuZXh0ZW5kKEQuc3R5bGUse3dpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUiLApiYWNrZ3JvdW5kOiJub25lIn0pO2YoRCwidG9wIiwicmdiYSgwLDAsMCwwKSIsIiMwMDAiKTtlLmV4dGVuZCh0aGlzLl9faHVlX2ZpZWxkLnN0eWxlLHt3aWR0aDoiMTVweCIsaGVpZ2h0OiIxMDBweCIsZGlzcGxheToiaW5saW5lLWJsb2NrIixib3JkZXI6IjFweCBzb2xpZCAjNTU1IixjdXJzb3I6Im5zLXJlc2l6ZSJ9KTtrKHRoaXMuX19odWVfZmllbGQpO2UuZXh0ZW5kKHRoaXMuX19pbnB1dC5zdHlsZSx7b3V0bGluZToibm9uZSIsdGV4dEFsaWduOiJjZW50ZXIiLGNvbG9yOiIjZmZmIixib3JkZXI6MCxmb250V2VpZ2h0OiJib2xkIix0ZXh0U2hhZG93OnRoaXMuX19pbnB1dF90ZXh0U2hhZG93KyJyZ2JhKDAsMCwwLDAuNykifSk7Yi5iaW5kKHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLCJtb3VzZWRvd24iLGgpO2IuYmluZCh0aGlzLl9fZmllbGRfa25vYiwibW91c2Vkb3duIixoKTtiLmJpbmQodGhpcy5fX2h1ZV9maWVsZCwibW91c2Vkb3duIixmdW5jdGlvbihhKXt4KGEpO2IuYmluZCh3aW5kb3csCiJtb3VzZW1vdmUiLHgpO2IuYmluZCh3aW5kb3csIm1vdXNldXAiLHEpfSk7dGhpcy5fX3NhdHVyYXRpb25fZmllbGQuYXBwZW5kQ2hpbGQoRCk7dGhpcy5fX3NlbGVjdG9yLmFwcGVuZENoaWxkKHRoaXMuX19maWVsZF9rbm9iKTt0aGlzLl9fc2VsZWN0b3IuYXBwZW5kQ2hpbGQodGhpcy5fX3NhdHVyYXRpb25fZmllbGQpO3RoaXMuX19zZWxlY3Rvci5hcHBlbmRDaGlsZCh0aGlzLl9faHVlX2ZpZWxkKTt0aGlzLl9faHVlX2ZpZWxkLmFwcGVuZENoaWxkKHRoaXMuX19odWVfa25vYik7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19pbnB1dCk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19zZWxlY3Rvcik7dGhpcy51cGRhdGVEaXNwbGF5KCl9O3Auc3VwZXJjbGFzcz1hO2UuZXh0ZW5kKHAucHJvdG90eXBlLGEucHJvdG90eXBlLHt1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIGE9ZCh0aGlzLmdldFZhbHVlKCkpO2lmKCExIT09YSl7dmFyIGI9ITE7CmUuZWFjaChjLkNPTVBPTkVOVFMsZnVuY3Rpb24oYyl7aWYoIWUuaXNVbmRlZmluZWQoYVtjXSkmJiFlLmlzVW5kZWZpbmVkKHRoaXMuX19jb2xvci5fX3N0YXRlW2NdKSYmYVtjXSE9PXRoaXMuX19jb2xvci5fX3N0YXRlW2NdKXJldHVybiBiPSEwLHt9fSx0aGlzKTtiJiZlLmV4dGVuZCh0aGlzLl9fY29sb3IuX19zdGF0ZSxhKX1lLmV4dGVuZCh0aGlzLl9fdGVtcC5fX3N0YXRlLHRoaXMuX19jb2xvci5fX3N0YXRlKTt0aGlzLl9fdGVtcC5hPTE7dmFyIGg9LjU+dGhpcy5fX2NvbG9yLnZ8fC41PHRoaXMuX19jb2xvci5zPzI1NTowLGs9MjU1LWg7ZS5leHRlbmQodGhpcy5fX2ZpZWxkX2tub2Iuc3R5bGUse21hcmdpbkxlZnQ6MTAwKnRoaXMuX19jb2xvci5zLTcrInB4IixtYXJnaW5Ub3A6MTAwKigxLXRoaXMuX19jb2xvci52KS03KyJweCIsYmFja2dyb3VuZENvbG9yOnRoaXMuX190ZW1wLnRvU3RyaW5nKCksYm9yZGVyOnRoaXMuX19maWVsZF9rbm9iX2JvcmRlcisicmdiKCIraCsKIiwiK2grIiwiK2grIikifSk7dGhpcy5fX2h1ZV9rbm9iLnN0eWxlLm1hcmdpblRvcD0xMDAqKDEtdGhpcy5fX2NvbG9yLmgvMzYwKSsicHgiO3RoaXMuX190ZW1wLnM9MTt0aGlzLl9fdGVtcC52PTE7Zih0aGlzLl9fc2F0dXJhdGlvbl9maWVsZCwibGVmdCIsIiNmZmYiLHRoaXMuX190ZW1wLnRvU3RyaW5nKCkpO2UuZXh0ZW5kKHRoaXMuX19pbnB1dC5zdHlsZSx7YmFja2dyb3VuZENvbG9yOnRoaXMuX19pbnB1dC52YWx1ZT10aGlzLl9fY29sb3IudG9TdHJpbmcoKSxjb2xvcjoicmdiKCIraCsiLCIraCsiLCIraCsiKSIsdGV4dFNoYWRvdzp0aGlzLl9faW5wdXRfdGV4dFNoYWRvdysicmdiYSgiK2srIiwiK2srIiwiK2srIiwuNykifSl9fSk7dmFyIGg9WyItbW96LSIsIi1vLSIsIi13ZWJraXQtIiwiLW1zLSIsIiJdO3JldHVybiBwfShkYXQuY29udHJvbGxlcnMuQ29udHJvbGxlcixkYXQuZG9tLmRvbSxkYXQuY29sb3IuQ29sb3I9ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhLApiLGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpmdW5jdGlvbigpe2lmKCJSR0IiPT09dGhpcy5fX3N0YXRlLnNwYWNlKXJldHVybiB0aGlzLl9fc3RhdGVbYl07ayh0aGlzLGIsYyk7cmV0dXJuIHRoaXMuX19zdGF0ZVtiXX0sc2V0OmZ1bmN0aW9uKGEpeyJSR0IiIT09dGhpcy5fX3N0YXRlLnNwYWNlJiYoayh0aGlzLGIsYyksdGhpcy5fX3N0YXRlLnNwYWNlPSJSR0IiKTt0aGlzLl9fc3RhdGVbYl09YX19KX1mdW5jdGlvbiBmKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYix7Z2V0OmZ1bmN0aW9uKCl7aWYoIkhTViI9PT10aGlzLl9fc3RhdGUuc3BhY2UpcmV0dXJuIHRoaXMuX19zdGF0ZVtiXTtwKHRoaXMpO3JldHVybiB0aGlzLl9fc3RhdGVbYl19LHNldDpmdW5jdGlvbihhKXsiSFNWIiE9PXRoaXMuX19zdGF0ZS5zcGFjZSYmKHAodGhpcyksdGhpcy5fX3N0YXRlLnNwYWNlPSJIU1YiKTt0aGlzLl9fc3RhdGVbYl09YX19KX1mdW5jdGlvbiBrKGEsYyxlKXtpZigiSEVYIj09PQphLl9fc3RhdGUuc3BhY2UpYS5fX3N0YXRlW2NdPWIuY29tcG9uZW50X2Zyb21faGV4KGEuX19zdGF0ZS5oZXgsZSk7ZWxzZSBpZigiSFNWIj09PWEuX19zdGF0ZS5zcGFjZSlkLmV4dGVuZChhLl9fc3RhdGUsYi5oc3ZfdG9fcmdiKGEuX19zdGF0ZS5oLGEuX19zdGF0ZS5zLGEuX19zdGF0ZS52KSk7ZWxzZSB0aHJvdyJDb3JydXB0ZWQgY29sb3Igc3RhdGUiO31mdW5jdGlvbiBwKGEpe3ZhciBjPWIucmdiX3RvX2hzdihhLnIsYS5nLGEuYik7ZC5leHRlbmQoYS5fX3N0YXRlLHtzOmMucyx2OmMudn0pO2QuaXNOYU4oYy5oKT9kLmlzVW5kZWZpbmVkKGEuX19zdGF0ZS5oKSYmKGEuX19zdGF0ZS5oPTApOmEuX19zdGF0ZS5oPWMuaH12YXIgaD1mdW5jdGlvbigpe3RoaXMuX19zdGF0ZT1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighMT09PXRoaXMuX19zdGF0ZSl0aHJvdyJGYWlsZWQgdG8gaW50ZXJwcmV0IGNvbG9yIGFyZ3VtZW50cyI7dGhpcy5fX3N0YXRlLmE9dGhpcy5fX3N0YXRlLmF8fAoxfTtoLkNPTVBPTkVOVFM9InIgZyBiIGggcyB2IGhleCBhIi5zcGxpdCgiICIpO2QuZXh0ZW5kKGgucHJvdG90eXBlLHt0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBjKHRoaXMpfSx0b09yaWdpbmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19zdGF0ZS5jb252ZXJzaW9uLndyaXRlKHRoaXMpfX0pO2UoaC5wcm90b3R5cGUsInIiLDIpO2UoaC5wcm90b3R5cGUsImciLDEpO2UoaC5wcm90b3R5cGUsImIiLDApO2YoaC5wcm90b3R5cGUsImgiKTtmKGgucHJvdG90eXBlLCJzIik7ZihoLnByb3RvdHlwZSwidiIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShoLnByb3RvdHlwZSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fc3RhdGUuYX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX19zdGF0ZS5hPWF9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGgucHJvdG90eXBlLCJoZXgiLHtnZXQ6ZnVuY3Rpb24oKXsiSEVYIiE9PSF0aGlzLl9fc3RhdGUuc3BhY2UmJih0aGlzLl9fc3RhdGUuaGV4PQpiLnJnYl90b19oZXgodGhpcy5yLHRoaXMuZyx0aGlzLmIpKTtyZXR1cm4gdGhpcy5fX3N0YXRlLmhleH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX19zdGF0ZS5zcGFjZT0iSEVYIjt0aGlzLl9fc3RhdGUuaGV4PWF9fSk7cmV0dXJuIGh9KGRhdC5jb2xvci5pbnRlcnByZXQsZGF0LmNvbG9yLm1hdGg9ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm57aHN2X3RvX3JnYjpmdW5jdGlvbihhLGMsZCl7dmFyIGU9YS82MC1NYXRoLmZsb29yKGEvNjApLGY9ZCooMS1jKSxrPWQqKDEtZSpjKTtjPWQqKDEtKDEtZSkqYyk7YT1bW2QsYyxmXSxbayxkLGZdLFtmLGQsY10sW2YsayxkXSxbYyxmLGRdLFtkLGYsa11dW01hdGguZmxvb3IoYS82MCklNl07cmV0dXJue3I6MjU1KmFbMF0sZzoyNTUqYVsxXSxiOjI1NSphWzJdfX0scmdiX3RvX2hzdjpmdW5jdGlvbihhLGMsZCl7dmFyIGU9TWF0aC5taW4oYSxjLGQpLGY9TWF0aC5tYXgoYSxjLGQpLGU9Zi1lO2lmKDA9PWYpcmV0dXJue2g6TmFOLHM6MCx2OjB9OwphPShhPT1mPyhjLWQpL2U6Yz09Zj8yKyhkLWEpL2U6NCsoYS1jKS9lKS82OzA+YSYmKGErPTEpO3JldHVybntoOjM2MCphLHM6ZS9mLHY6Zi8yNTV9fSxyZ2JfdG9faGV4OmZ1bmN0aW9uKGEsYyxkKXthPXRoaXMuaGV4X3dpdGhfY29tcG9uZW50KDAsMixhKTthPXRoaXMuaGV4X3dpdGhfY29tcG9uZW50KGEsMSxjKTtyZXR1cm4gdGhpcy5oZXhfd2l0aF9jb21wb25lbnQoYSwwLGQpfSxjb21wb25lbnRfZnJvbV9oZXg6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYT4+OCpjJjI1NX0saGV4X3dpdGhfY29tcG9uZW50OmZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gZDw8KGE9OCpjKXxiJn4oMjU1PDxhKX19fSgpLGRhdC5jb2xvci50b1N0cmluZyxkYXQudXRpbHMuY29tbW9uKSxkYXQuY29sb3IuaW50ZXJwcmV0LGRhdC51dGlscy5jb21tb24pLGRhdC51dGlscy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8CndpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3dpbmRvdy5zZXRUaW1lb3V0KGEsMUUzLzYwKX19KCksZGF0LmRvbS5DZW50ZXJlZERpdj1mdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKCl7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLmV4dGVuZCh0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLHtiYWNrZ3JvdW5kQ29sb3I6InJnYmEoMCwwLDAsMC44KSIsdG9wOjAsbGVmdDowLGRpc3BsYXk6Im5vbmUiLHpJbmRleDoiMTAwMCIsb3BhY2l0eTowLFdlYmtpdFRyYW5zaXRpb246Im9wYWNpdHkgMC4ycyBsaW5lYXIifSk7YS5tYWtlRnVsbHNjcmVlbih0aGlzLmJhY2tncm91bmRFbGVtZW50KTt0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLnBvc2l0aW9uPSJmaXhlZCI7dGhpcy5kb21FbGVtZW50PQpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLmV4dGVuZCh0aGlzLmRvbUVsZW1lbnQuc3R5bGUse3Bvc2l0aW9uOiJmaXhlZCIsZGlzcGxheToibm9uZSIsekluZGV4OiIxMDAxIixvcGFjaXR5OjAsV2Via2l0VHJhbnNpdGlvbjoiLXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBlYXNlLW91dCwgb3BhY2l0eSAwLjJzIGxpbmVhciJ9KTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZEVsZW1lbnQpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50KTt2YXIgYz10aGlzO2EuYmluZCh0aGlzLmJhY2tncm91bmRFbGVtZW50LCJjbGljayIsZnVuY3Rpb24oKXtjLmhpZGUoKX0pfTtjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjt0aGlzLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siO3RoaXMuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PQowO3RoaXMuZG9tRWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09InNjYWxlKDEuMSkiO3RoaXMubGF5b3V0KCk7Yi5kZWZlcihmdW5jdGlvbigpe2EuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUub3BhY2l0eT0xO2EuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PTE7YS5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT0ic2NhbGUoMSkifSl9O2MucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9ZnVuY3Rpb24oKXtiLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7Yi5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJub25lIjthLnVuYmluZChiLmRvbUVsZW1lbnQsIndlYmtpdFRyYW5zaXRpb25FbmQiLGMpO2EudW5iaW5kKGIuZG9tRWxlbWVudCwidHJhbnNpdGlvbmVuZCIsYyk7YS51bmJpbmQoYi5kb21FbGVtZW50LCJvVHJhbnNpdGlvbkVuZCIsYyl9O2EuYmluZCh0aGlzLmRvbUVsZW1lbnQsIndlYmtpdFRyYW5zaXRpb25FbmQiLApjKTthLmJpbmQodGhpcy5kb21FbGVtZW50LCJ0cmFuc2l0aW9uZW5kIixjKTthLmJpbmQodGhpcy5kb21FbGVtZW50LCJvVHJhbnNpdGlvbkVuZCIsYyk7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5vcGFjaXR5PTA7dGhpcy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9MDt0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtPSJzY2FsZSgxLjEpIn07Yy5wcm90b3R5cGUubGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5kb21FbGVtZW50LnN0eWxlLmxlZnQ9d2luZG93LmlubmVyV2lkdGgvMi1hLmdldFdpZHRoKHRoaXMuZG9tRWxlbWVudCkvMisicHgiO3RoaXMuZG9tRWxlbWVudC5zdHlsZS50b3A9d2luZG93LmlubmVySGVpZ2h0LzItYS5nZXRIZWlnaHQodGhpcy5kb21FbGVtZW50KS8yKyJweCJ9O3JldHVybiBjfShkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKSxkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0JiZELnJlbW92ZUNoaWxkKHQuZWxlbWVudCk7c3dpdGNoKGEpe2Nhc2UgbTp0PUc7YnJlYWs7Y2FzZSByOnQ9RjticmVhaztjYXNlIHM6dD1FfXQuc2V0U2l6ZSh4Lm9mZnNldFdpZHRoLHgub2Zmc2V0SGVpZ2h0KTtELmFwcGVuZENoaWxkKHQuZWxlbWVudCl9ZnVuY3Rpb24gYigpe3YucmVtb3ZlKEIpO3QuY2xlYXIoKTtDPW5ldyBGU1MuUGxhbmUoaC53aWR0aCp0LndpZHRoLGguaGVpZ2h0KnQuaGVpZ2h0LGguc2xpY2VzKTtIPW5ldyBGU1MuTWF0ZXJpYWwoaC5hbWJpZW50LGguZGlmZnVzZSk7Qj1uZXcgRlNTLk1lc2goQyxIKTt2LmFkZChCKTt2YXIgYSxiO2ZvcihhPUMudmVydGljZXMubGVuZ3RoLTE7MDw9YTthLS0pYj1DLnZlcnRpY2VzW2FdLGIuZGVwdGg9TWF0aC5yYW5kb21JblJhbmdlKDAsaC5tYXhkZXB0aC8xMCksYi5hbmNob3I9RlNTLlZlY3RvcjMuY2xvbmUoYi5wb3NpdGlvbil9ZnVuY3Rpb24gYyhhLGIsYyxkLGUpe2E9CiJ1bmRlZmluZWQiIT09dHlwZW9mIGE/YTpnLmFtYmllbnQ7Yj0idW5kZWZpbmVkIiE9PXR5cGVvZiBiP2I6cCgpO2M9InVuZGVmaW5lZCIhPT10eXBlb2YgYz9jOmcueFBvcztkPSJ1bmRlZmluZWQiIT09dHlwZW9mIGQ/ZDpnLnlQb3M7ZT0idW5kZWZpbmVkIiE9PXR5cGVvZiBlP2U6Zy56T2Zmc2V0O3QuY2xlYXIoKTtsaWdodD1uZXcgRlNTLkxpZ2h0KGEsYik7bGlnaHQuYW1iaWVudEhleD1saWdodC5hbWJpZW50LmZvcm1hdCgpO2xpZ2h0LmRpZmZ1c2VIZXg9bGlnaHQuZGlmZnVzZS5mb3JtYXQoKTtsaWdodC5zZXRQb3NpdGlvbihjLGQsZSk7di5hZGQobGlnaHQpO2cuZGlmZnVzZT1iO2cucHJveHk9bGlnaHQ7Zy5waWNrZWR1cD0hMDtnLmN1cnJJbmRleCsrfWZ1bmN0aW9uIGQoYSxjKXt0LnNldFNpemUoYSxjKTtGU1MuVmVjdG9yMy5zZXQoeSx0LmhhbGZXaWR0aCx0LmhhbGZIZWlnaHQpO2IoKX1mdW5jdGlvbiBlKCl7ZigpO3QucmVuZGVyKHYpO3JlcXVlc3RBbmltYXRpb25GcmFtZShlKX0KZnVuY3Rpb24gZigpe3ZhciBhLGIsYz1oLmRlcHRoLzEwMDtmb3IoYT1DLnZlcnRpY2VzLmxlbmd0aC0xOzA8PWE7YS0tKWI9Qy52ZXJ0aWNlc1thXSxGU1MuVmVjdG9yMy5zZXQoYi5wb3NpdGlvbiwxLDEsYi5kZXB0aCpjKSxGU1MuVmVjdG9yMy5hZGQoYi5wb3NpdGlvbixiLmFuY2hvcik7Qy5kaXJ0eT0hMH1mdW5jdGlvbiBrKGEpe2E9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSk7YS5zdHlsZS5kaXNwbGF5PSJibG9jayI9PWEuc3R5bGUuZGlzcGxheT8ibm9uZSI6ImJsb2NrIn1mdW5jdGlvbiBwKCl7cmV0dXJuIiMiKyhNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KSsiMDAwMDAwIikuc2xpY2UoMiw4KX12YXIgaD17d2lkdGg6MS4yLGhlaWdodDoxLjIsc2xpY2VzOjI1MCxkZXB0aDowLG1heGRlcHRoOjIwMCxhbWJpZW50OiIjNTU1NTU1IixkaWZmdXNlOiIjRkZGRkZGIn0sZz17Y291bnQ6MCx4UG9zOjAseVBvczoyMDAsek9mZnNldDoxMDAsYW1iaWVudDoiIzg4MDA2NiIsCmRpZmZ1c2U6IiNGRjg4MDAiLHBpY2tlZHVwOiEwLHByb3h5OiExLGN1cnJJbmRleDowLHJhbmRvbWl6ZTpmdW5jdGlvbigpe3ZhciBhLGIsYzthPU1hdGguZmxvb3IoMypNYXRoLnJhbmRvbSgpKSsxOzE9PWEmJihoLmRlcHRoPTApOzI9PWEmJihoLmRlcHRoPU1hdGgucmFuZG9tSW5SYW5nZSgwLDE1MCkpOzM9PWEmJihoLmRlcHRoPU1hdGgucmFuZG9tSW5SYW5nZSgxNTAsMjAwKSk7Zm9yKGw9di5saWdodHMubGVuZ3RoLTE7MDw9bDtsLS0pe2E9TWF0aC5yYW5kb21JblJhbmdlKC1CLmdlb21ldHJ5LndpZHRoLzIsQi5nZW9tZXRyeS53aWR0aC8yKTtiPU1hdGgucmFuZG9tSW5SYW5nZSgtQi5nZW9tZXRyeS5oZWlnaHQvMixCLmdlb21ldHJ5LmhlaWdodC8yKTtjPTI8di5saWdodHMubGVuZ3RoP01hdGgucmFuZG9tSW5SYW5nZSgxMCw4MCk6TWF0aC5yYW5kb21JblJhbmdlKDEwLDEwMCk7bGlnaHQ9di5saWdodHNbbF07RlNTLlZlY3RvcjMuc2V0KGxpZ2h0LnBvc2l0aW9uLGEsYiwKYyk7dmFyIGQ9cCgpLGU9cCgpO2xpZ2h0LmRpZmZ1c2Uuc2V0KGQpO2xpZ2h0LmRpZmZ1c2VIZXg9bGlnaHQuZGlmZnVzZS5mb3JtYXQoKTtsaWdodC5hbWJpZW50LnNldChlKTtsaWdodC5hbWJpZW50SGV4PWxpZ2h0LmFtYmllbnQuZm9ybWF0KCk7Zy54UG9zPWE7Zy55UG9zPWI7Zy56T2Zmc2V0PWM7Zy5kaWZmdXNlPWQ7Zy5hbWJpZW50PWU7QS5fX2ZvbGRlcnMuTGlnaHQuX19jb250cm9sbGVyc1sxXS51cGRhdGVEaXNwbGF5KCk7QS5fX2ZvbGRlcnMuTGlnaHQuX19jb250cm9sbGVyc1syXS51cGRhdGVEaXNwbGF5KCl9fX0sbT0id2ViZ2wiLHI9ImNhbnZhcyIscz0ic3ZnIixuPXtyZW5kZXJlcjpyfSxxPXt3aWR0aDoyRTMsaGVpZ2h0OjFFMyxleHBvcnRDdXJyZW50OmZ1bmN0aW9uKCl7c3dpdGNoKG4ucmVuZGVyZXIpe2Nhc2UgbTp3aW5kb3cub3BlbihHLmVsZW1lbnQudG9EYXRhVVJMKCksIl9ibGFuayIpO2JyZWFrO2Nhc2Ugcjp3aW5kb3cub3BlbihGLmVsZW1lbnQudG9EYXRhVVJMKCksCiJfYmxhbmsiKTticmVhaztjYXNlIHM6dmFyIGE9ImRhdGE6aW1hZ2Uvc3ZnK3htbCwiK2VuY29kZVVSSUNvbXBvbmVudChELmlubmVySFRNTCk7d2luZG93Lm9wZW4oYSwiX2JsYW5rIil9fSwiZXhwb3J0IjpmdW5jdGlvbigpe3ZhciBhLGIsYyxlLGc9dGhpcy53aWR0aC90LndpZHRoLGs9dGhpcy5oZWlnaHQvdC5oZWlnaHQ7YT1oLnNsaWNlcztoLnNsaWNlcz1NYXRoLmNlaWwoYSpnKjEuNCk7ZCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtoLnNsaWNlcz1hO2ZvcihhPXYubGlnaHRzLmxlbmd0aC0xOzA8PWE7YS0tKWU9di5saWdodHNbYV0sYj1lLnBvc2l0aW9uWzBdLGM9ZS5wb3NpdGlvblsxXSx6PWUucG9zaXRpb25bMl0sRlNTLlZlY3RvcjMuc2V0KGUucG9zaXRpb24sYipnLGMqayx6KmcpO2YoKTt0LnJlbmRlcih2KTtzd2l0Y2gobi5yZW5kZXJlcil7Y2FzZSBtOndpbmRvdy5vcGVuKEcuZWxlbWVudC50b0RhdGFVUkwoKSwiX2JsYW5rIik7YnJlYWs7Y2FzZSByOndpbmRvdy5vcGVuKEYuZWxlbWVudC50b0RhdGFVUkwoKSwKIl9ibGFuayIpO2JyZWFrO2Nhc2UgczphPSJkYXRhOmltYWdlL3N2Zyt4bWwsIitlbmNvZGVVUklDb21wb25lbnQoRC5pbm5lckhUTUwpLHdpbmRvdy5vcGVuKGEsIl9ibGFuayIpfWQoeC5vZmZzZXRXaWR0aCx4Lm9mZnNldEhlaWdodCk7Zm9yKGE9di5saWdodHMubGVuZ3RoLTE7MDw9YTthLS0pZT12LmxpZ2h0c1thXSxiPWUucG9zaXRpb25bMF0sYz1lLnBvc2l0aW9uWzFdLHo9ZS5wb3NpdGlvblsyXSxGU1MuVmVjdG9yMy5zZXQoZS5wb3NpdGlvbixiL2csYy9rLHovZyl9fSx5PUZTUy5WZWN0b3IzLmNyZWF0ZSgpLHg9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRhaW5lciIpLHc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRyb2xzIiksRD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3V0cHV0IiksdCx2LEIsQyxILEcsRixFLEE7TW91c2V0cmFwLmJpbmQoIkgiLGZ1bmN0aW9uKCl7aygiY29udHJvbHMiKTtrKCJsaW5rcyIpfSk7TW91c2V0cmFwLmJpbmQoImVudGVyIiwKZnVuY3Rpb24oKXtnLmNvdW50Kys7YygpfSk7TW91c2V0cmFwLmJpbmQoInNwYWNlIixmdW5jdGlvbigpe2cucGlja2VkdXA9IWcucGlja2VkdXB9KTtHPW5ldyBGU1MuV2ViR0xSZW5kZXJlcjtGPW5ldyBGU1MuQ2FudmFzUmVuZGVyZXI7RT1uZXcgRlNTLlNWR1JlbmRlcmVyO2Eobi5yZW5kZXJlcik7dj1uZXcgRlNTLlNjZW5lO2IoKTsoZnVuY3Rpb24oKXtmb3IodmFyIGE9TWF0aC5mbG9vcig0Kk1hdGgucmFuZG9tKCkpKzEtMTswPD1hO2EtLSljKCksZy5jb3VudCsrfSkoKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixmdW5jdGlvbihhKXtkKHgub2Zmc2V0V2lkdGgseC5vZmZzZXRIZWlnaHQpO3QucmVuZGVyKHYpfSk7eC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpe2cucGlja2VkdXAmJihnLnhQb3M9YS54LXQud2lkdGgvMixnLnlQb3M9dC5oZWlnaHQvMi1hLnksZy5wcm94eS5zZXRQb3NpdGlvbihnLnhQb3MsZy55UG9zLGcucHJveHkucG9zaXRpb25bMl0pKX0pOwooZnVuY3Rpb24oKXt2YXIgZCxlLGY7QT1uZXcgZGF0LkdVSSh7YXV0b1BsYWNlOiExfSk7dy5hcHBlbmRDaGlsZChBLmRvbUVsZW1lbnQpO3JlbmRlckZvbGRlcj1BLmFkZEZvbGRlcigiUmVuZGVyIik7bWVzaEZvbGRlcj1BLmFkZEZvbGRlcigiTWVzaCIpO2xpZ2h0Rm9sZGVyPUEuYWRkRm9sZGVyKCJMaWdodCIpO2V4cG9ydEZvbGRlcj1BLmFkZEZvbGRlcigiRXhwb3J0Iik7bGlnaHRGb2xkZXIub3BlbigpO2Y9cmVuZGVyRm9sZGVyLmFkZChuLCJyZW5kZXJlciIse3dlYmdsOm0sY2FudmFzOnIsc3ZnOnN9KTtmLm9uQ2hhbmdlKGZ1bmN0aW9uKGIpe2EoYil9KTtmPW1lc2hGb2xkZXIuYWRkQ29sb3IoaCwiYW1iaWVudCIpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7ZD0wO2ZvcihlPXYubWVzaGVzLmxlbmd0aDtkPGU7ZCsrKXYubWVzaGVzW2RdLm1hdGVyaWFsLmFtYmllbnQuc2V0KGEpfSk7Zj1tZXNoRm9sZGVyLmFkZENvbG9yKGgsImRpZmZ1c2UiKTtmLm9uQ2hhbmdlKGZ1bmN0aW9uKGEpe2Q9CjA7Zm9yKGU9di5tZXNoZXMubGVuZ3RoO2Q8ZTtkKyspdi5tZXNoZXNbZF0ubWF0ZXJpYWwuZGlmZnVzZS5zZXQoYSl9KTtmPW1lc2hGb2xkZXIuYWRkKGgsIndpZHRoIiwuMDUsMik7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtDLndpZHRoIT09YSp0LndpZHRoJiZiKCl9KTtmPW1lc2hGb2xkZXIuYWRkKGgsImhlaWdodCIsLjA1LDIpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7Qy5oZWlnaHQhPT1hKnQuaGVpZ2h0JiZiKCl9KTtmPW1lc2hGb2xkZXIuYWRkKGgsImRlcHRoIiwwLGgubWF4ZGVwdGgpLmxpc3RlbigpO2Y9bWVzaEZvbGRlci5hZGQoaCwic2xpY2VzIiwxLDgwMCk7Zi5zdGVwKDEpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7Qy5zbGljZXMhPT1hJiZiKCl9KTtmPWxpZ2h0Rm9sZGVyLmFkZChnLCJjdXJySW5kZXgiLHsxOjEsMjoyLDM6Myw0OjQsNTo1LDY6Niw3Ojd9KS5uYW1lKCJDdXJyZW50IGxpZ2h0IikubGlzdGVuKCk7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtnLnByb3h5PQp2LmxpZ2h0c1thLTFdO2cuYW1iaWVudD1nLnByb3h5LmFtYmllbnQuaGV4O2cuZGlmZnVzZT1nLnByb3h5LmRpZmZ1c2UuaGV4O2cueFBvcz1nLnByb3h5LnBvc2l0aW9uWzBdO2cueVBvcz1nLnByb3h5LnBvc2l0aW9uWzFdO2cuek9mZnNldD1nLnByb3h5LnBvc2l0aW9uWzJdO0EuX19mb2xkZXJzLkxpZ2h0Ll9fY29udHJvbGxlcnNbMV0udXBkYXRlRGlzcGxheSgpO0EuX19mb2xkZXJzLkxpZ2h0Ll9fY29udHJvbGxlcnNbMl0udXBkYXRlRGlzcGxheSgpfSk7Zj1saWdodEZvbGRlci5hZGRDb2xvcihnLCJhbWJpZW50Iik7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtnLnByb3h5LmFtYmllbnQuc2V0KGEpO2cucHJveHkuYW1iaWVudEhleD1nLnByb3h5LmFtYmllbnQuZm9ybWF0KCl9KTtmPWxpZ2h0Rm9sZGVyLmFkZENvbG9yKGcsImRpZmZ1c2UiKTtmLm9uQ2hhbmdlKGZ1bmN0aW9uKGEpe2cucHJveHkuZGlmZnVzZS5zZXQoYSk7Zy5wcm94eS5kaWZmdXNlSGV4PWcucHJveHkuZGlmZnVzZS5mb3JtYXQoKX0pOwpmPWxpZ2h0Rm9sZGVyLmFkZChnLCJjb3VudCIsMSw3KS5saXN0ZW4oKTtmLnN0ZXAoMSk7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtpZih2LmxpZ2h0cy5sZW5ndGghPT1hKWlmKGE+di5saWdodHMubGVuZ3RoKWMoKTtlbHNle2ZvcihsPWE7bDw9di5saWdodHMubGVuZ3RoO2wrKylsaWdodD12LmxpZ2h0c1tsXSx2LnJlbW92ZShsaWdodCksZy5jdXJySW5kZXgtLTtnLnByb3h5PXYubGlnaHRzW2cuY3VyckluZGV4LTFdO2cucGlja2VkdXA9ITE7dC5jbGVhcigpfX0pO2Y9bGlnaHRGb2xkZXIuYWRkKGcsInhQb3MiLC1CLmdlb21ldHJ5LndpZHRoLzIsQi5nZW9tZXRyeS53aWR0aC8yKS5saXN0ZW4oKTtmLnN0ZXAoMSk7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtnLnByb3h5LnNldFBvc2l0aW9uKGEsZy5wcm94eS5wb3NpdGlvblsxXSxnLnByb3h5LnBvc2l0aW9uWzJdKX0pO2Y9bGlnaHRGb2xkZXIuYWRkKGcsInlQb3MiLC1CLmdlb21ldHJ5LmhlaWdodC8yLEIuZ2VvbWV0cnkuaGVpZ2h0LwoyKS5saXN0ZW4oKTtmLnN0ZXAoMSk7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtnLnByb3h5LnNldFBvc2l0aW9uKGcucHJveHkucG9zaXRpb25bMF0sYSxnLnByb3h5LnBvc2l0aW9uWzJdKX0pO2Y9bGlnaHRGb2xkZXIuYWRkKGcsInpPZmZzZXQiLDAsMUUzKS5uYW1lKCJEaXN0YW5jZSIpLmxpc3RlbigpO3Njcm9sbEJ1dHRvbkRpc3RhbmNlPU51bWJlcihnLnByb3h5LnBvc2l0aW9uWzJdKTskKCIjY29udGFpbmVyIikuYmluZCgiRE9NTW91c2VTY3JvbGwiLGZ1bmN0aW9uKGEpe3Njcm9sbEJ1dHRvbkRpc3RhbmNlPTA8YS5vcmlnaW5hbEV2ZW50LmRldGFpbD9OdW1iZXIoTWF0aC5tYXgoMCxzY3JvbGxCdXR0b25EaXN0YW5jZS1hLmRldGFpbC80KSk6TnVtYmVyKE1hdGgubWluKDFFMyxzY3JvbGxCdXR0b25EaXN0YW5jZS1hLmRldGFpbC80KSk7Zy5wcm94eS5zZXRQb3NpdGlvbihnLnByb3h5LnBvc2l0aW9uWzBdLGcucHJveHkucG9zaXRpb25bMV0sc2Nyb2xsQnV0dG9uRGlzdGFuY2UpOwpnLnpPZmZzZXQ9c2Nyb2xsQnV0dG9uRGlzdGFuY2U7Zy56PXNjcm9sbEJ1dHRvbkRpc3RhbmNlO0EuX19mb2xkZXJzLkxpZ2h0Ll9fY29udHJvbGxlcnNbMV0udXBkYXRlRGlzcGxheSgpO0EuX19mb2xkZXJzLkxpZ2h0Ll9fY29udHJvbGxlcnNbMl0udXBkYXRlRGlzcGxheSgpO3JldHVybiExfSk7JCgiI2NvbnRhaW5lciIpLmJpbmQoIm1vdXNld2hlZWwiLGZ1bmN0aW9uKGEpe3Njcm9sbEJ1dHRvbkRpc3RhbmNlPTA+YS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGE/TnVtYmVyKE1hdGgubWF4KDAsc2Nyb2xsQnV0dG9uRGlzdGFuY2UrYS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEvNCkpOk51bWJlcihNYXRoLm1pbigxRTMsc2Nyb2xsQnV0dG9uRGlzdGFuY2UrYS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEvNCkpO2cucHJveHkuc2V0UG9zaXRpb24oTnVtYmVyKGcucHJveHkucG9zaXRpb25bMF0pLE51bWJlcihnLnByb3h5LnBvc2l0aW9uWzFdKSxzY3JvbGxCdXR0b25EaXN0YW5jZSk7Cmcuek9mZnNldD1zY3JvbGxCdXR0b25EaXN0YW5jZTtnLno9c2Nyb2xsQnV0dG9uRGlzdGFuY2U7QS5fX2ZvbGRlcnMuTGlnaHQuX19jb250cm9sbGVyc1sxXS51cGRhdGVEaXNwbGF5KCk7QS5fX2ZvbGRlcnMuTGlnaHQuX19jb250cm9sbGVyc1syXS51cGRhdGVEaXNwbGF5KCk7cmV0dXJuITF9KTtmLnN0ZXAoMSk7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtnLnByb3h5LnNldFBvc2l0aW9uKGcucHJveHkucG9zaXRpb25bMF0sZy5wcm94eS5wb3NpdGlvblsxXSxhKX0pO2Y9bGlnaHRGb2xkZXIuYWRkKGcsInJhbmRvbWl6ZSIpO2Y9ZXhwb3J0Rm9sZGVyLmFkZChxLCJ3aWR0aCIsMTAwLDNFMyk7Zi5zdGVwKDEwMCk7Zj1leHBvcnRGb2xkZXIuYWRkKHEsImhlaWdodCIsMTAwLDNFMyk7Zi5zdGVwKDEwMCk7Zj1leHBvcnRGb2xkZXIuYWRkKHEsImV4cG9ydCIpLm5hbWUoImV4cG9ydCBiaWciKTtmPWV4cG9ydEZvbGRlci5hZGQocSwiZXhwb3J0Q3VycmVudCIpLm5hbWUoImV4cG9ydCB0aGlzIil9KSgpOwpnLnJhbmRvbWl6ZSgpO2QoeC5vZmZzZXRXaWR0aCx4Lm9mZnNldEhlaWdodCk7ZSgpfSkoKTsK",
                "body": "LyoqCgpUaGUgTUlUIExpY2Vuc2UgKE1JVCkKCkNvcHlyaWdodCAoYykgMjAxNCBNYWtzaW0gU3VyZ3V5CgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbApjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFClNPRlRXQVJFLgoKKiovCnZhciBEZWxhdW5heTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgYT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksaD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZztmb3IoZz1iLmxlbmd0aDtnLS07KWJbZ11bMF08YSYmKGE9YltnXVswXSksYltnXVswXT5kJiYoZD1iW2ddWzBdKSxiW2ddWzFdPGMmJihjPWJbZ11bMV0pLGJbZ11bMV0+aCYmKGg9YltnXVsxXSk7Yj1kLWE7ZD1oLWM7aD1NYXRoLm1heChiLGQpO2ErPS41KmI7Yys9LjUqZDtyZXR1cm5bW2EtMjAqaCxjLWhdLFthLGMrMjAqaF0sW2ErMjAqaCxjLWhdXX1mdW5jdGlvbiBiKGIsYSxjLHApe3ZhciBoPWJbYV1bMF0sZz1iW2FdWzFdLG09YltjXVswXSxyPWJbY11bMV0scz1iW3BdWzBdLG49YltwXVsxXSxxPU1hdGguYWJzKGctcikseT1NYXRoLmFicyhyLW4pLHgsdztpZihxPGQmJnk8ZCl0aHJvdyBFcnJvcigiRWVrISBDb2luY2lkZW50IHBvaW50cyEiKTtxPApkPyhiPShtK2gpLzIscT0tKChzLW0pLyhuLXIpKSooYi0obStzKS8yKSsocituKS8yKTp5PGQ/KGI9KHMrbSkvMixxPS0oKG0taCkvKHItZykpKihiLShoK20pLzIpKyhnK3IpLzIpOih4PS0oKG0taCkvKHItZykpLHc9LSgocy1tKS8obi1yKSksaD0oaCttKS8yLHM9KG0rcykvMixnPShnK3IpLzIsbj0ocituKS8yLGI9KHgqaC13KnMrbi1nKS8oeC13KSxxPXE+eT94KihiLWgpK2c6dyooYi1zKStuKTttLT1iO3ItPXE7cmV0dXJue2k6YSxqOmMsazpwLHg6Yix5OnEscjptKm0rcipyfX1mdW5jdGlvbiBjKGIpe3ZhciBhLGMsZCxoLGcsbTtmb3IoYz1iLmxlbmd0aDtjOylmb3IoaD1iWy0tY10sZD1iWy0tY10sYT1jO2E7KWlmKG09YlstLWFdLGc9YlstLWFdLGQ9PT1nJiZoPT09bXx8ZD09PW0mJmg9PT1nKXtiLnNwbGljZShjLDIpO2Iuc3BsaWNlKGEsMik7YnJlYWt9fXZhciBkPTEvMTA0ODU3NjtEZWxhdW5heT17dHJpYW5ndWxhdGU6ZnVuY3Rpb24oZSxmKXt2YXIgaz1lLmxlbmd0aCwKcCxoLGcsbSxyLHMsbixxLHk7aWYoMz5rKXJldHVybltdO2U9ZS5zbGljZSgwKTtpZihmKWZvcihwPWs7cC0tOyllW3BdPWVbcF1bZl07Zz1BcnJheShrKTtmb3IocD1rO3AtLTspZ1twXT1wO2cuc29ydChmdW5jdGlvbihiLGEpe3JldHVybiBlW2FdWzBdLWVbYl1bMF19KTtwPWEoZSk7ZS5wdXNoKHBbMF0scFsxXSxwWzJdKTttPVtiKGUsayswLGsrMSxrKzIpXTtyPVtdO3M9W107Zm9yKHA9Zy5sZW5ndGg7cC0tO3MubGVuZ3RoPTApe3k9Z1twXTtmb3IoaD1tLmxlbmd0aDtoLS07KW49ZVt5XVswXS1tW2hdLngsMDxuJiZuKm4+bVtoXS5yPyhyLnB1c2gobVtoXSksbS5zcGxpY2UoaCwxKSk6KHE9ZVt5XVsxXS1tW2hdLnksbipuK3EqcS1tW2hdLnI+ZHx8KHMucHVzaChtW2hdLmksbVtoXS5qLG1baF0uaixtW2hdLmssbVtoXS5rLG1baF0uaSksbS5zcGxpY2UoaCwxKSkpO2Mocyk7Zm9yKGg9cy5sZW5ndGg7aDspcT1zWy0taF0sbj1zWy0taF0sbS5wdXNoKGIoZSxuLHEseSkpfWZvcihwPQptLmxlbmd0aDtwLS07KXIucHVzaChtW3BdKTttLmxlbmd0aD0wO2ZvcihwPXIubGVuZ3RoO3AtLTspcltwXS5pPGsmJnJbcF0uajxrJiZyW3BdLms8ayYmbS5wdXNoKHJbcF0uaSxyW3BdLmoscltwXS5rKTtyZXR1cm4gbX0sY29udGFpbnM6ZnVuY3Rpb24oYixhKXtpZihhWzBdPGJbMF1bMF0mJmFbMF08YlsxXVswXSYmYVswXTxiWzJdWzBdfHxhWzBdPmJbMF1bMF0mJmFbMF0+YlsxXVswXSYmYVswXT5iWzJdWzBdfHxhWzFdPGJbMF1bMV0mJmFbMV08YlsxXVsxXSYmYVsxXTxiWzJdWzFdfHxhWzFdPmJbMF1bMV0mJmFbMV0+YlsxXVsxXSYmYVsxXT5iWzJdWzFdKXJldHVybiBudWxsO3ZhciBjPWJbMV1bMF0tYlswXVswXSxkPWJbMl1bMF0tYlswXVswXSxoPWJbMV1bMV0tYlswXVsxXSxnPWJbMl1bMV0tYlswXVsxXSxtPWMqZy1kKmg7aWYoMD09PW0pcmV0dXJuIG51bGw7ZD0oZyooYVswXS1iWzBdWzBdKS1kKihhWzFdLWJbMF1bMV0pKS9tO2M9KGMqKGFbMV0tYlswXVsxXSktaCoKKGFbMF0tYlswXVswXSkpL207cmV0dXJuIDA+ZHx8MD5jfHwxPGQrYz9udWxsOltkLGNdfX07InVuZGVmaW5lZCIhPT10eXBlb2YgbW9kdWxlJiYobW9kdWxlLmV4cG9ydHM9RGVsYXVuYXkpfSkoKTsKKGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGIsYSxjKXtiLmFkZEV2ZW50TGlzdGVuZXI/Yi5hZGRFdmVudExpc3RlbmVyKGEsYywhMSk6Yi5hdHRhY2hFdmVudCgib24iK2EsYyl9ZnVuY3Rpb24gZShiKXtpZigia2V5cHJlc3MiPT1iLnR5cGUpe3ZhciBhPVN0cmluZy5mcm9tQ2hhckNvZGUoYi53aGljaCk7Yi5zaGlmdEtleXx8KGE9YS50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gYX1yZXR1cm4gcVtiLndoaWNoXT9xW2Iud2hpY2hdOnlbYi53aGljaF0/eVtiLndoaWNoXTpTdHJpbmcuZnJvbUNoYXJDb2RlKGIud2hpY2gpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gZihiKXtiPWJ8fHt9O3ZhciBhPSExLGM7Zm9yKGMgaW4gQiliW2NdP2E9ITA6QltjXT0wO2F8fChGPSExKX1mdW5jdGlvbiBrKGIsYSxjLGYsZCxlKXt2YXIgZyxrLE49W10saD1jLnR5cGU7aWYoIXRbYl0pcmV0dXJuW107ImtleXVwIj09aCYmbShiKSYmKGE9W2JdKTtmb3IoZz0wO2c8dFtiXS5sZW5ndGg7KytnKWlmKGs9CnRbYl1bZ10sISghZiYmay5zZXEmJkJbay5zZXFdIT1rLmxldmVsfHxoIT1rLmFjdGlvbnx8KCJrZXlwcmVzcyIhPWh8fGMubWV0YUtleXx8Yy5jdHJsS2V5KSYmYS5zb3J0KCkuam9pbigiLCIpIT09ay5tb2RpZmllcnMuc29ydCgpLmpvaW4oIiwiKSkpe3ZhciBwPWYmJmsuc2VxPT1mJiZrLmxldmVsPT1lOyghZiYmay5jb21ibz09ZHx8cCkmJnRbYl0uc3BsaWNlKGcsMSk7Ti5wdXNoKGspfXJldHVybiBOfWZ1bmN0aW9uIHAoYil7dmFyIGE9W107Yi5zaGlmdEtleSYmYS5wdXNoKCJzaGlmdCIpO2IuYWx0S2V5JiZhLnB1c2goImFsdCIpO2IuY3RybEtleSYmYS5wdXNoKCJjdHJsIik7Yi5tZXRhS2V5JiZhLnB1c2goIm1ldGEiKTtyZXR1cm4gYX1mdW5jdGlvbiBoKGIsYSxjLGYpe0Uuc3RvcENhbGxiYWNrKGEsYS50YXJnZXR8fGEuc3JjRWxlbWVudCxjLGYpfHwhMSE9PWIoYSxjKXx8KGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEsYS5zdG9wUHJvcGFnYXRpb24/CmEuc3RvcFByb3BhZ2F0aW9uKCk6YS5jYW5jZWxCdWJibGU9ITApfWZ1bmN0aW9uIGcoYil7Im51bWJlciIhPT10eXBlb2YgYi53aGljaCYmKGIud2hpY2g9Yi5rZXlDb2RlKTt2YXIgYT1lKGIpO2EmJigia2V5dXAiPT1iLnR5cGUmJkg9PT1hP0g9ITE6RS5oYW5kbGVLZXkoYSxwKGIpLGIpKX1mdW5jdGlvbiBtKGIpe3JldHVybiJzaGlmdCI9PWJ8fCJjdHJsIj09Ynx8ImFsdCI9PWJ8fCJtZXRhIj09Yn1mdW5jdGlvbiByKGIsYSxjLGQpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7Rj1hOysrQltiXTtjbGVhclRpbWVvdXQoQyk7Qz1zZXRUaW1lb3V0KGYsMUUzKX19ZnVuY3Rpb24gayhhKXtoKGMsYSxiKTsia2V5dXAiIT09ZCYmKEg9ZShhKSk7c2V0VGltZW91dChmLDEwKX1mb3IodmFyIG09QltiXT0wO208YS5sZW5ndGg7KyttKXt2YXIgcD1tKzE9PT1hLmxlbmd0aD9rOmcoZHx8cyhhW20rMV0pLmFjdGlvbik7bihhW21dLHAsZCxiLG0pfX1mdW5jdGlvbiBzKGIsYSl7dmFyIGMsCmYsZCxnPVtdO2M9IisiPT09Yj9bIisiXTpiLnNwbGl0KCIrIik7Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZClmPWNbZF0sd1tmXSYmKGY9d1tmXSksYSYmImtleXByZXNzIiE9YSYmeFtmXSYmKGY9eFtmXSxnLnB1c2goInNoaWZ0IikpLG0oZikmJmcucHVzaChmKTtjPWY7ZD1hO2lmKCFkKXtpZighRCl7RD17fTtmb3IodmFyIGUgaW4gcSk5NTxlJiYxMTI+ZXx8cS5oYXNPd25Qcm9wZXJ0eShlKSYmKERbcVtlXV09ZSl9ZD1EW2NdPyJrZXlkb3duIjoia2V5cHJlc3MifSJrZXlwcmVzcyI9PWQmJmcubGVuZ3RoJiYoZD0ia2V5ZG93biIpO3JldHVybntrZXk6Zixtb2RpZmllcnM6ZyxhY3Rpb246ZH19ZnVuY3Rpb24gbihiLGEsYyxmLGQpe3ZbYisiOiIrY109YTtiPWIucmVwbGFjZSgvXHMrL2csIiAiKTt2YXIgZT1iLnNwbGl0KCIgIik7MTxlLmxlbmd0aD9yKGIsZSxhLGMpOihjPXMoYixjKSx0W2Mua2V5XT10W2Mua2V5XXx8W10sayhjLmtleSxjLm1vZGlmaWVycyx7dHlwZTpjLmFjdGlvbn0sCmYsYixkKSx0W2Mua2V5XVtmPyJ1bnNoaWZ0IjoicHVzaCJdKHtjYWxsYmFjazphLG1vZGlmaWVyczpjLm1vZGlmaWVycyxhY3Rpb246Yy5hY3Rpb24sc2VxOmYsbGV2ZWw6ZCxjb21ibzpifSkpfXZhciBxPXs4OiJiYWNrc3BhY2UiLDk6InRhYiIsMTM6ImVudGVyIiwxNjoic2hpZnQiLDE3OiJjdHJsIiwxODoiYWx0IiwyMDoiY2Fwc2xvY2siLDI3OiJlc2MiLDMyOiJzcGFjZSIsMzM6InBhZ2V1cCIsMzQ6InBhZ2Vkb3duIiwzNToiZW5kIiwzNjoiaG9tZSIsMzc6ImxlZnQiLDM4OiJ1cCIsMzk6InJpZ2h0Iiw0MDoiZG93biIsNDU6ImlucyIsNDY6ImRlbCIsOTE6Im1ldGEiLDkzOiJtZXRhIiwyMjQ6Im1ldGEifSx5PXsxMDY6IioiLDEwNzoiKyIsMTA5OiItIiwxMTA6Ii4iLDExMToiLyIsMTg2OiI7IiwxODc6Ij0iLDE4ODoiLCIsMTg5OiItIiwxOTA6Ii4iLDE5MToiLyIsMTkyOiJgIiwyMTk6IlsiLDIyMDoiXFwiLDIyMToiXSIsMjIyOiInIn0seD17In4iOiJgIiwiISI6IjEiLAoiQCI6IjIiLCIjIjoiMyIsJDoiNCIsIiUiOiI1IiwiXiI6IjYiLCImIjoiNyIsIioiOiI4IiwiKCI6IjkiLCIpIjoiMCIsXzoiLSIsIisiOiI9IiwiOiI6IjsiLCciJzoiJyIsIjwiOiIsIiwiPiI6Ii4iLCI/IjoiLyIsInwiOiJcXCJ9LHc9e29wdGlvbjoiYWx0Iixjb21tYW5kOiJtZXRhIiwicmV0dXJuIjoiZW50ZXIiLGVzY2FwZToiZXNjIixtb2Q6L01hY3xpUG9kfGlQaG9uZXxpUGFkLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk/Im1ldGEiOiJjdHJsIn0sRCx0PXt9LHY9e30sQj17fSxDLEg9ITEsRz0hMSxGPSExO2ZvcihjPTE7MjA+YzsrK2MpcVsxMTErY109ImYiK2M7Zm9yKGM9MDs5Pj1jOysrYylxW2MrOTZdPWM7ZChiLCJrZXlwcmVzcyIsZyk7ZChiLCJrZXlkb3duIixnKTtkKGIsImtleXVwIixnKTt2YXIgRT17YmluZDpmdW5jdGlvbihiLGEsYyl7Yj1iIGluc3RhbmNlb2YgQXJyYXk/YjpbYl07Zm9yKHZhciBmPTA7ZjxiLmxlbmd0aDsrK2YpbihiW2ZdLGEsYyk7cmV0dXJuIHRoaXN9LAp1bmJpbmQ6ZnVuY3Rpb24oYixhKXtyZXR1cm4gRS5iaW5kKGIsZnVuY3Rpb24oKXt9LGEpfSx0cmlnZ2VyOmZ1bmN0aW9uKGIsYSl7aWYodltiKyI6IithXSl2W2IrIjoiK2FdKHt9LGIpO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe3Q9e307dj17fTtyZXR1cm4gdGhpc30sc3RvcENhbGxiYWNrOmZ1bmN0aW9uKGIsYSl7cmV0dXJuLTE8KCIgIithLmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiBtb3VzZXRyYXAgIik/ITE6IklOUFVUIj09YS50YWdOYW1lfHwiU0VMRUNUIj09YS50YWdOYW1lfHwiVEVYVEFSRUEiPT1hLnRhZ05hbWV8fGEuaXNDb250ZW50RWRpdGFibGV9LGhhbmRsZUtleTpmdW5jdGlvbihiLGEsYyl7dmFyIGQ9ayhiLGEsYyksZTthPXt9O3ZhciBnPTAscD0hMTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKWRbZV0uc2VxJiYoZz1NYXRoLm1heChnLGRbZV0ubGV2ZWwpKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKWRbZV0uc2VxP2RbZV0ubGV2ZWw9PWcmJihwPSEwLAphW2RbZV0uc2VxXT0xLGgoZFtlXS5jYWxsYmFjayxjLGRbZV0uY29tYm8sZFtlXS5zZXEpKTpwfHxoKGRbZV0uY2FsbGJhY2ssYyxkW2VdLmNvbWJvKTtkPSJrZXlwcmVzcyI9PWMudHlwZSYmRztjLnR5cGUhPUZ8fG0oYil8fGR8fGYoYSk7Rz1wJiYia2V5ZG93biI9PWMudHlwZX19O2EuTW91c2V0cmFwPUU7ImZ1bmN0aW9uIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShFKX0pKHdpbmRvdyxkb2N1bWVudCk7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixhKXtyZXR1cm5bXS5zbGljZS5jYWxsKChhfHxkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChiKSl9aWYod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpe3ZhciBiPXdpbmRvdy5TdHlsZUZpeD17bGluazpmdW5jdGlvbihhKXt0cnl7aWYoInN0eWxlc2hlZXQiIT09YS5yZWx8fGEuaGFzQXR0cmlidXRlKCJkYXRhLW5vcHJlZml4IikpcmV0dXJufWNhdGNoKGQpe3JldHVybn12YXIgZT1hLmhyZWZ8fGEuZ2V0QXR0cmlidXRlKCJkYXRhLWhyZWYiKSxmPWUucmVwbGFjZSgvW15cL10rJC8sIiIpLGs9KC9eW2Etel17MywxMH06Ly5leGVjKGYpfHxbIiJdKVswXSxwPSgvXlthLXpdezMsMTB9OlwvXC9bXlwvXSsvLmV4ZWMoZil8fFsiIl0pWzBdLGg9L14oW14/XSopXD8/Ly5leGVjKGUpWzFdLGc9YS5wYXJlbnROb2RlLG09bmV3IFhNTEh0dHBSZXF1ZXN0LHI7bS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09bS5yZWFkeVN0YXRlJiYKcigpfTtyPWZ1bmN0aW9uKCl7dmFyIGQ9bS5yZXNwb25zZVRleHQ7aWYoZCYmYS5wYXJlbnROb2RlJiYoIW0uc3RhdHVzfHw0MDA+bS5zdGF0dXN8fDYwMDxtLnN0YXR1cykpe2Q9Yi5maXgoZCwhMCxhKTtpZihmKXZhciBkPWQucmVwbGFjZSgvdXJsXChccyo/KCg/OiJ8Jyk/KSguKz8pXDFccyo/XCkvZ2ksZnVuY3Rpb24oYixhLGMpe3JldHVybi9eKFthLXpdezMsMTB9OnwjKS9pLnRlc3QoYyk/YjovXlwvXC8vLnRlc3QoYyk/J3VybCgiJytrK2MrJyIpJzovXlwvLy50ZXN0KGMpPyd1cmwoIicrcCtjKyciKSc6L15cPy8udGVzdChjKT8ndXJsKCInK2grYysnIiknOid1cmwoIicrZitjKyciKSd9KSxlPWYucmVwbGFjZSgvKFtcXFxeXCQqK1tcXT97fS49IToofCldKS9nLCJcXCQxIiksZD1kLnJlcGxhY2UoUmVnRXhwKCJcXGIoYmVoYXZpb3I6XFxzKj91cmxcXCgnP1wiPykiK2UsImdpIiksIiQxIik7ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2UudGV4dENvbnRlbnQ9CmQ7ZS5tZWRpYT1hLm1lZGlhO2UuZGlzYWJsZWQ9YS5kaXNhYmxlZDtlLnNldEF0dHJpYnV0ZSgiZGF0YS1ocmVmIixhLmdldEF0dHJpYnV0ZSgiaHJlZiIpKTtnLmluc2VydEJlZm9yZShlLGEpO2cucmVtb3ZlQ2hpbGQoYSk7ZS5tZWRpYT1hLm1lZGlhfX07dHJ5e20ub3BlbigiR0VUIixlKSxtLnNlbmQobnVsbCl9Y2F0Y2gocyl7InVuZGVmaW5lZCIhPXR5cGVvZiBYRG9tYWluUmVxdWVzdCYmKG09bmV3IFhEb21haW5SZXF1ZXN0LG0ub25lcnJvcj1tLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oKXt9LG0ub25sb2FkPXIsbS5vcGVuKCJHRVQiLGUpLG0uc2VuZChudWxsKSl9YS5zZXRBdHRyaWJ1dGUoImRhdGEtaW5wcm9ncmVzcyIsIiIpfSxzdHlsZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7aWYoIWEuaGFzQXR0cmlidXRlKCJkYXRhLW5vcHJlZml4Iikpe3ZhciBkPWEuZGlzYWJsZWQ7YS50ZXh0Q29udGVudD1iLmZpeChhLnRleHRDb250ZW50LCEwLGEpO2EuZGlzYWJsZWQ9ZH19LHN0eWxlQXR0cmlidXRlOmZ1bmN0aW9uKGEpe3ZhciBkPQphLmdldEF0dHJpYnV0ZSgic3R5bGUiKSxkPWIuZml4KGQsITEsYSk7YS5zZXRBdHRyaWJ1dGUoInN0eWxlIixkKX0scHJvY2VzczpmdW5jdGlvbigpe2EoJ2xpbmtbcmVsPSJzdHlsZXNoZWV0Il06bm90KFtkYXRhLWlucHJvZ3Jlc3NdKScpLmZvckVhY2goU3R5bGVGaXgubGluayk7YSgic3R5bGUiKS5mb3JFYWNoKFN0eWxlRml4LnN0eWxlRWxlbWVudCk7YSgiW3N0eWxlXSIpLmZvckVhY2goU3R5bGVGaXguc3R5bGVBdHRyaWJ1dGUpfSxyZWdpc3RlcjpmdW5jdGlvbihhLGQpeyhiLmZpeGVycz1iLmZpeGVyc3x8W10pLnNwbGljZSh2b2lkIDA9PT1kP2IuZml4ZXJzLmxlbmd0aDpkLDAsYSl9LGZpeDpmdW5jdGlvbihhLGQsZSl7Zm9yKHZhciBmPTA7ZjxiLmZpeGVycy5sZW5ndGg7ZisrKWE9Yi5maXhlcnNbZl0oYSxkLGUpfHxhO3JldHVybiBhfSxjYW1lbENhc2U6ZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZSgvLShbYS16XSkvZyxmdW5jdGlvbihiLGEpe3JldHVybiBhLnRvVXBwZXJDYXNlKCl9KS5yZXBsYWNlKCItIiwKIiIpfSxkZUNhbWVsQ2FzZTpmdW5jdGlvbihiKXtyZXR1cm4gYi5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGIpe3JldHVybiItIitiLnRvTG93ZXJDYXNlKCl9KX19OyhmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKCdsaW5rW3JlbD0ic3R5bGVzaGVldCJdJykuZm9yRWFjaChTdHlsZUZpeC5saW5rKX0sMTApO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLFN0eWxlRml4LnByb2Nlc3MsITEpfSkoKX19KSgpOwooZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGEsZixrLHApe2I9Y1tiXTtiLmxlbmd0aCYmKGI9UmVnRXhwKGErIigiK2Iuam9pbigifCIpKyIpIitmLCJnaSIpLHA9cC5yZXBsYWNlKGIsaykpO3JldHVybiBwfWlmKHdpbmRvdy5TdHlsZUZpeCYmd2luZG93LmdldENvbXB1dGVkU3R5bGUpe3ZhciBjPXdpbmRvdy5QcmVmaXhGcmVlPXtwcmVmaXhDU1M6ZnVuY3Rpb24oYSxlLGYpe3ZhciBrPWMucHJlZml4Oy0xPGMuZnVuY3Rpb25zLmluZGV4T2YoImxpbmVhci1ncmFkaWVudCIpJiYoYT1hLnJlcGxhY2UoLyhcc3w6fCwpKHJlcGVhdGluZy0pP2xpbmVhci1ncmFkaWVudFwoXHMqKC0/XGQqXC4/XGQqKWRlZy9pZyxmdW5jdGlvbihhLGIsYyxmKXtyZXR1cm4gYisoY3x8IiIpKyJsaW5lYXItZ3JhZGllbnQoIisoOTAtZikrImRlZyJ9KSk7YT1iKCJmdW5jdGlvbnMiLCIoXFxzfDp8LCkiLCJcXHMqXFwoIiwiJDEiK2srIiQyKCIsYSk7YT1iKCJrZXl3b3JkcyIsIihcXHN8OikiLCIoXFxzfDt8XFx9fCQpIiwKIiQxIitrKyIkMiQzIixhKTthPWIoInByb3BlcnRpZXMiLCIoXnxcXHt8XFxzfDspIiwiXFxzKjoiLCIkMSIraysiJDI6IixhKTtpZihjLnByb3BlcnRpZXMubGVuZ3RoKXt2YXIgcD1SZWdFeHAoIlxcYigiK2MucHJvcGVydGllcy5qb2luKCJ8IikrIikoPyE6KSIsImdpIik7YT1iKCJ2YWx1ZVByb3BlcnRpZXMiLCJcXGIiLCI6KC4rPyk7IixmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHAsaysiJDEiKX0sYSl9ZSYmKGE9Yigic2VsZWN0b3JzIiwiIiwiXFxiIixjLnByZWZpeFNlbGVjdG9yLGEpLGE9YigiYXRydWxlcyIsIkAiLCJcXGIiLCJAIitrKyIkMSIsYSkpO2E9YS5yZXBsYWNlKFJlZ0V4cCgiLSIraywiZyIpLCItIik7cmV0dXJuIGE9YS5yZXBsYWNlKC8tXCotKD89W2Etel0rKS9naSxjLnByZWZpeCl9LHByb3BlcnR5OmZ1bmN0aW9uKGEpe3JldHVybihjLnByb3BlcnRpZXMuaW5kZXhPZihhKT9jLnByZWZpeDoiIikrYX0sdmFsdWU6ZnVuY3Rpb24oYSxlKXthPWIoImZ1bmN0aW9ucyIsCiIoXnxcXHN8LCkiLCJcXHMqXFwoIiwiJDEiK2MucHJlZml4KyIkMigiLGEpO3JldHVybiBhPWIoImtleXdvcmRzIiwiKF58XFxzKSIsIihcXHN8JCkiLCIkMSIrYy5wcmVmaXgrIiQyJDMiLGEpfSxwcmVmaXhTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eOnsxLDJ9LyxmdW5jdGlvbihhKXtyZXR1cm4gYStjLnByZWZpeH0pfSxwcmVmaXhQcm9wZXJ0eTpmdW5jdGlvbihhLGIpe3ZhciBmPWMucHJlZml4K2E7cmV0dXJuIGI/U3R5bGVGaXguY2FtZWxDYXNlKGYpOmZ9fTsoZnVuY3Rpb24oKXt2YXIgYT17fSxiPVtdLGY9Z2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbnVsbCksaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSxwPWZ1bmN0aW9uKGMpe2lmKCItIj09PWMuY2hhckF0KDApKXtiLnB1c2goYyk7Yz1jLnNwbGl0KCItIik7dmFyIGY9Y1sxXTtmb3IoYVtmXT0rK2FbZl18fDE7MzxjLmxlbmd0aDspYy5wb3AoKSwKZj1jLmpvaW4oIi0iKSxTdHlsZUZpeC5jYW1lbENhc2UoZilpbiBrJiYtMT09PWIuaW5kZXhPZihmKSYmYi5wdXNoKGYpfX07aWYoMDxmLmxlbmd0aClmb3IodmFyIGg9MDtoPGYubGVuZ3RoO2grKylwKGZbaF0pO2Vsc2UgZm9yKHZhciBnIGluIGYpcChTdHlsZUZpeC5kZUNhbWVsQ2FzZShnKSk7dmFyIGg9e3VzZXM6MH0sbTtmb3IobSBpbiBhKWY9YVttXSxoLnVzZXM8ZiYmKGg9e3ByZWZpeDptLHVzZXM6Zn0pO2MucHJlZml4PSItIitoLnByZWZpeCsiLSI7Yy5QcmVmaXg9U3R5bGVGaXguY2FtZWxDYXNlKGMucHJlZml4KTtjLnByb3BlcnRpZXM9W107Zm9yKGg9MDtoPGIubGVuZ3RoO2grKylnPWJbaF0sMD09PWcuaW5kZXhPZihjLnByZWZpeCkmJihtPWcuc2xpY2UoYy5wcmVmaXgubGVuZ3RoKSxTdHlsZUZpeC5jYW1lbENhc2UobSlpbiBrfHxjLnByb3BlcnRpZXMucHVzaChtKSk7ISgiTXMiIT1jLlByZWZpeHx8InRyYW5zZm9ybSJpbiBrfHwiTXNUcmFuc2Zvcm0iaW4gaykmJgoibXNUcmFuc2Zvcm0iaW4gayYmYy5wcm9wZXJ0aWVzLnB1c2goInRyYW5zZm9ybSIsInRyYW5zZm9ybS1vcmlnaW4iKTtjLnByb3BlcnRpZXMuc29ydCgpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7a1tjXT0iIjtrW2NdPWI7cmV0dXJuISFrW2NdfXZhciBiPXsibGluZWFyLWdyYWRpZW50Ijp7cHJvcGVydHk6ImJhY2tncm91bmRJbWFnZSIscGFyYW1zOiJyZWQsIHRlYWwifSxjYWxjOntwcm9wZXJ0eToid2lkdGgiLHBhcmFtczoiMXB4ICsgNSUifSxlbGVtZW50Ontwcm9wZXJ0eToiYmFja2dyb3VuZEltYWdlIixwYXJhbXM6IiNmb28ifSwiY3Jvc3MtZmFkZSI6e3Byb3BlcnR5OiJiYWNrZ3JvdW5kSW1hZ2UiLHBhcmFtczoidXJsKGEucG5nKSwgdXJsKGIucG5nKSwgNTAlIn19O2JbInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQiXT1iWyJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50Il09YlsicmFkaWFsLWdyYWRpZW50Il09YlsibGluZWFyLWdyYWRpZW50Il07dmFyIGY9Cntpbml0aWFsOiJjb2xvciIsInpvb20taW4iOiJjdXJzb3IiLCJ6b29tLW91dCI6ImN1cnNvciIsYm94OiJkaXNwbGF5IixmbGV4Ym94OiJkaXNwbGF5IiwiaW5saW5lLWZsZXhib3giOiJkaXNwbGF5IixmbGV4OiJkaXNwbGF5IiwiaW5saW5lLWZsZXgiOiJkaXNwbGF5IixncmlkOiJkaXNwbGF5IiwiaW5saW5lLWdyaWQiOiJkaXNwbGF5IiwibWluLWNvbnRlbnQiOiJ3aWR0aCJ9O2MuZnVuY3Rpb25zPVtdO2Mua2V5d29yZHM9W107dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUscDtmb3IocCBpbiBiKXt2YXIgaD1iW3BdLGc9aC5wcm9wZXJ0eSxoPXArIigiK2gucGFyYW1zKyIpIjshYShoLGcpJiZhKGMucHJlZml4K2gsZykmJmMuZnVuY3Rpb25zLnB1c2gocCl9Zm9yKHZhciBtIGluIGYpZz1mW21dLCFhKG0sZykmJmEoYy5wcmVmaXgrbSxnKSYmYy5rZXl3b3Jkcy5wdXNoKG0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEpe2sudGV4dENvbnRlbnQ9CmErInt9IjtyZXR1cm4hIWsuc2hlZXQuY3NzUnVsZXMubGVuZ3RofXZhciBlPXsiOnJlYWQtb25seSI6bnVsbCwiOnJlYWQtd3JpdGUiOm51bGwsIjphbnktbGluayI6bnVsbCwiOjpzZWxlY3Rpb24iOm51bGx9LGY9e2tleWZyYW1lczoibmFtZSIsdmlld3BvcnQ6bnVsbCxkb2N1bWVudDoncmVnZXhwKCIuIiknfTtjLnNlbGVjdG9ycz1bXTtjLmF0cnVsZXM9W107dmFyIGs9YS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKSxwO2ZvcihwIGluIGUpe3ZhciBoPXArKGVbcF0/IigiK2VbcF0rIikiOiIiKTshYihoKSYmYihjLnByZWZpeFNlbGVjdG9yKGgpKSYmYy5zZWxlY3RvcnMucHVzaChwKX1mb3IodmFyIGcgaW4gZiloPWcrIiAiKyhmW2ddfHwiIiksIWIoIkAiK2gpJiZiKCJAIitjLnByZWZpeCtoKSYmYy5hdHJ1bGVzLnB1c2goZyk7YS5yZW1vdmVDaGlsZChrKX0pKCk7Yy52YWx1ZVByb3BlcnRpZXM9WyJ0cmFuc2l0aW9uIiwidHJhbnNpdGlvbi1wcm9wZXJ0eSJdOwphLmNsYXNzTmFtZSs9IiAiK2MucHJlZml4O1N0eWxlRml4LnJlZ2lzdGVyKGMucHJlZml4Q1NTKX19KShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO0ZTUz17RlJPTlQ6MCxCQUNLOjEsRE9VQkxFOjIsU1ZHTlM6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIn07RlNTLkFycmF5PSJmdW5jdGlvbiI9PT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheTtGU1MuVXRpbHM9e2lzTnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGEpKSYmaXNGaW5pdGUoYSl9fTsKKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj1bIm1zIiwibW96Iiwid2Via2l0IiwibyJdLGM9MDtjPGIubGVuZ3RoJiYhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsrK2Mpd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT13aW5kb3dbYltjXSsiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPXdpbmRvd1tiW2NdKyJDYW5jZWxBbmltYXRpb25GcmFtZSJdfHx3aW5kb3dbYltjXSsiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIl07d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oYixjKXt2YXIgZj0obmV3IERhdGUpLmdldFRpbWUoKSxrPU1hdGgubWF4KDAsMTYtKGYtYSkpLHA9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGYrayl9LGspO2E9ZitrO3JldHVybiBwfSk7d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHwod2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lPQpmdW5jdGlvbihhKXtjbGVhclRpbWVvdXQoYSl9KX0pKCk7TWF0aC5QSU0yPTIqTWF0aC5QSTtNYXRoLlBJRDI9TWF0aC5QSS8yO01hdGgucmFuZG9tSW5SYW5nZT1mdW5jdGlvbihhLGIpe3JldHVybiBhKyhiLWEpKk1hdGgucmFuZG9tKCl9O01hdGguY2xhbXA9ZnVuY3Rpb24oYSxiLGMpe2E9TWF0aC5tYXgoYSxiKTtyZXR1cm4gYT1NYXRoLm1pbihhLGMpfTsKRlNTLlZlY3RvcjM9e2NyZWF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bmV3IEZTUy5BcnJheSgzKTt0aGlzLnNldChkLGEsYixjKTtyZXR1cm4gZH0sY2xvbmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGUoKTt0aGlzLmNvcHkoYixhKTtyZXR1cm4gYn0sc2V0OmZ1bmN0aW9uKGEsYixjLGQpe2FbMF09Ynx8MDthWzFdPWN8fDA7YVsyXT1kfHwwO3JldHVybiB0aGlzfSxzZXRYOmZ1bmN0aW9uKGEsYil7YVswXT1ifHwwO3JldHVybiB0aGlzfSxzZXRZOmZ1bmN0aW9uKGEsYil7YVsxXT1ifHwwO3JldHVybiB0aGlzfSxzZXRaOmZ1bmN0aW9uKGEsYil7YVsyXT1ifHwwO3JldHVybiB0aGlzfSxjb3B5OmZ1bmN0aW9uKGEsYil7YVswXT1iWzBdO2FbMV09YlsxXTthWzJdPWJbMl07cmV0dXJuIHRoaXN9LGFkZDpmdW5jdGlvbihhLGIpe2FbMF0rPWJbMF07YVsxXSs9YlsxXTthWzJdKz1iWzJdO3JldHVybiB0aGlzfSxhZGRWZWN0b3JzOmZ1bmN0aW9uKGEsYixjKXthWzBdPWJbMF0rCmNbMF07YVsxXT1iWzFdK2NbMV07YVsyXT1iWzJdK2NbMl07cmV0dXJuIHRoaXN9LGFkZFNjYWxhcjpmdW5jdGlvbihhLGIpe2FbMF0rPWI7YVsxXSs9YjthWzJdKz1iO3JldHVybiB0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbihhLGIpe2FbMF0tPWJbMF07YVsxXS09YlsxXTthWzJdLT1iWzJdO3JldHVybiB0aGlzfSxzdWJ0cmFjdFZlY3RvcnM6ZnVuY3Rpb24oYSxiLGMpe2FbMF09YlswXS1jWzBdO2FbMV09YlsxXS1jWzFdO2FbMl09YlsyXS1jWzJdO3JldHVybiB0aGlzfSxzdWJ0cmFjdFNjYWxhcjpmdW5jdGlvbihhLGIpe2FbMF0tPWI7YVsxXS09YjthWzJdLT1iO3JldHVybiB0aGlzfSxtdWx0aXBseTpmdW5jdGlvbihhLGIpe2FbMF0qPWJbMF07YVsxXSo9YlsxXTthWzJdKj1iWzJdO3JldHVybiB0aGlzfSxtdWx0aXBseVZlY3RvcnM6ZnVuY3Rpb24oYSxiLGMpe2FbMF09YlswXSpjWzBdO2FbMV09YlsxXSpjWzFdO2FbMl09YlsyXSpjWzJdO3JldHVybiB0aGlzfSxtdWx0aXBseVNjYWxhcjpmdW5jdGlvbihhLApiKXthWzBdKj1iO2FbMV0qPWI7YVsyXSo9YjtyZXR1cm4gdGhpc30sZGl2aWRlOmZ1bmN0aW9uKGEsYil7YVswXS89YlswXTthWzFdLz1iWzFdO2FbMl0vPWJbMl07cmV0dXJuIHRoaXN9LGRpdmlkZVZlY3RvcnM6ZnVuY3Rpb24oYSxiLGMpe2FbMF09YlswXS9jWzBdO2FbMV09YlsxXS9jWzFdO2FbMl09YlsyXS9jWzJdO3JldHVybiB0aGlzfSxkaXZpZGVTY2FsYXI6ZnVuY3Rpb24oYSxiKXswIT09Yj8oYVswXS89YixhWzFdLz1iLGFbMl0vPWIpOihhWzBdPTAsYVsxXT0wLGFbMl09MCk7cmV0dXJuIHRoaXN9LGNyb3NzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YVswXSxkPWFbMV0sZT1hWzJdO2FbMF09ZCpiWzJdLWUqYlsxXTthWzFdPWUqYlswXS1jKmJbMl07YVsyXT1jKmJbMV0tZCpiWzBdO3JldHVybiB0aGlzfSxjcm9zc1ZlY3RvcnM6ZnVuY3Rpb24oYSxiLGMpe2FbMF09YlsxXSpjWzJdLWJbMl0qY1sxXTthWzFdPWJbMl0qY1swXS1iWzBdKmNbMl07YVsyXT1iWzBdKmNbMV0tYlsxXSoKY1swXTtyZXR1cm4gdGhpc30sbWluOmZ1bmN0aW9uKGEsYil7YVswXTxiJiYoYVswXT1iKTthWzFdPGImJihhWzFdPWIpO2FbMl08YiYmKGFbMl09Yik7cmV0dXJuIHRoaXN9LG1heDpmdW5jdGlvbihhLGIpe2FbMF0+YiYmKGFbMF09Yik7YVsxXT5iJiYoYVsxXT1iKTthWzJdPmImJihhWzJdPWIpO3JldHVybiB0aGlzfSxjbGFtcDpmdW5jdGlvbihhLGIsYyl7dGhpcy5taW4oYSxiKTt0aGlzLm1heChhLGMpO3JldHVybiB0aGlzfSxsaW1pdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5sZW5ndGgoYSk7bnVsbCE9PWImJmQ8Yj90aGlzLnNldExlbmd0aChhLGIpOm51bGwhPT1jJiZkPmMmJnRoaXMuc2V0TGVuZ3RoKGEsYyk7cmV0dXJuIHRoaXN9LGRvdDpmdW5jdGlvbihhLGIpe3JldHVybiBhWzBdKmJbMF0rYVsxXSpiWzFdK2FbMl0qYlsyXX0sbm9ybWFsaXNlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcihhLHRoaXMubGVuZ3RoKGEpKX0sbmVnYXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKGEsCi0xKX0sZGlzdGFuY2VTcXVhcmVkOmZ1bmN0aW9uKGEsYil7dmFyIGM9YVswXS1iWzBdLGQ9YVsxXS1iWzFdLGU9YVsyXS1iWzJdO3JldHVybiBjKmMrZCpkK2UqZX0sZGlzdGFuY2U6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VTcXVhcmVkKGEsYikpfSxsZW5ndGhTcXVhcmVkOmZ1bmN0aW9uKGEpe3JldHVybiBhWzBdKmFbMF0rYVsxXSphWzFdK2FbMl0qYVsyXX0sbGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKGEpKX0sc2V0TGVuZ3RoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5sZW5ndGgoYSk7MCE9PWMmJmIhPT1jJiZ0aGlzLm11bHRpcGx5U2NhbGFyKGEsYi9jKTtyZXR1cm4gdGhpc319OwpGU1MuVmVjdG9yND17Y3JlYXRlOmZ1bmN0aW9uKGEsYixjLGQpe2Q9bmV3IEZTUy5BcnJheSg0KTt0aGlzLnNldChkLGEsYixjKTtyZXR1cm4gZH0sc2V0OmZ1bmN0aW9uKGEsYixjLGQsZSl7YVswXT1ifHwwO2FbMV09Y3x8MDthWzJdPWR8fDA7YVszXT1lfHwwO3JldHVybiB0aGlzfSxzZXRYOmZ1bmN0aW9uKGEsYil7YVswXT1ifHwwO3JldHVybiB0aGlzfSxzZXRZOmZ1bmN0aW9uKGEsYil7YVsxXT1ifHwwO3JldHVybiB0aGlzfSxzZXRaOmZ1bmN0aW9uKGEsYil7YVsyXT1ifHwwO3JldHVybiB0aGlzfSxzZXRXOmZ1bmN0aW9uKGEsYil7YVszXT1ifHwwO3JldHVybiB0aGlzfSxhZGQ6ZnVuY3Rpb24oYSxiKXthWzBdKz1iWzBdO2FbMV0rPWJbMV07YVsyXSs9YlsyXTthWzNdKz1iWzNdO3JldHVybiB0aGlzfSxtdWx0aXBseVZlY3RvcnM6ZnVuY3Rpb24oYSxiLGMpe2FbMF09YlswXSpjWzBdO2FbMV09YlsxXSpjWzFdO2FbMl09YlsyXSpjWzJdO2FbM109YlszXSpjWzNdO3JldHVybiB0aGlzfSwKbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24oYSxiKXthWzBdKj1iO2FbMV0qPWI7YVsyXSo9YjthWzNdKj1iO3JldHVybiB0aGlzfSxtaW46ZnVuY3Rpb24oYSxiKXthWzBdPGImJihhWzBdPWIpO2FbMV08YiYmKGFbMV09Yik7YVsyXTxiJiYoYVsyXT1iKTthWzNdPGImJihhWzNdPWIpO3JldHVybiB0aGlzfSxtYXg6ZnVuY3Rpb24oYSxiKXthWzBdPmImJihhWzBdPWIpO2FbMV0+YiYmKGFbMV09Yik7YVsyXT5iJiYoYVsyXT1iKTthWzNdPmImJihhWzNdPWIpO3JldHVybiB0aGlzfSxjbGFtcDpmdW5jdGlvbihhLGIsYyl7dGhpcy5taW4oYSxiKTt0aGlzLm1heChhLGMpO3JldHVybiB0aGlzfX07RlNTLkNvbG9yPWZ1bmN0aW9uKGEsYil7dGhpcy5yZ2JhPUZTUy5WZWN0b3I0LmNyZWF0ZSgpO3RoaXMuaGV4PWF8fCIjMDAwMDAwIjt0aGlzLm9wYWNpdHk9RlNTLlV0aWxzLmlzTnVtYmVyKGIpP2I6MTt0aGlzLnNldCh0aGlzLmhleCx0aGlzLm9wYWNpdHkpfTsKRlNTLkNvbG9yLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7YT1hLnJlcGxhY2UoIiMiLCIiKTt2YXIgYz1hLmxlbmd0aC8zO3RoaXMucmdiYVswXT1wYXJzZUludChhLnN1YnN0cmluZygwKmMsMSpjKSwxNikvMjU1O3RoaXMucmdiYVsxXT1wYXJzZUludChhLnN1YnN0cmluZygxKmMsMipjKSwxNikvMjU1O3RoaXMucmdiYVsyXT1wYXJzZUludChhLnN1YnN0cmluZygyKmMsMypjKSwxNikvMjU1O3RoaXMucmdiYVszXT1GU1MuVXRpbHMuaXNOdW1iZXIoYik/Yjp0aGlzLnJnYmFbM107cmV0dXJuIHRoaXN9LGhleGlmeTpmdW5jdGlvbihhKXthPU1hdGguY2VpbCgyNTUqYSkudG9TdHJpbmcoMTYpOzE9PT1hLmxlbmd0aCYmKGE9IjAiK2EpO3JldHVybiBhfSxmb3JtYXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmhleGlmeSh0aGlzLnJnYmFbMF0pLGI9dGhpcy5oZXhpZnkodGhpcy5yZ2JhWzFdKSxjPXRoaXMuaGV4aWZ5KHRoaXMucmdiYVsyXSk7cmV0dXJuIHRoaXMuaGV4PSIjIisKYStiK2N9fTtGU1MuT2JqZWN0PWZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvbj1GU1MuVmVjdG9yMy5jcmVhdGUoKX07RlNTLk9iamVjdC5wcm90b3R5cGU9e3NldFBvc2l0aW9uOmZ1bmN0aW9uKGEsYixjKXtGU1MuVmVjdG9yMy5zZXQodGhpcy5wb3NpdGlvbixhLGIsYyk7cmV0dXJuIHRoaXN9fTtGU1MuTGlnaHQ9ZnVuY3Rpb24oYSxiKXtGU1MuT2JqZWN0LmNhbGwodGhpcyk7dGhpcy5hbWJpZW50PW5ldyBGU1MuQ29sb3IoYXx8IiNGRkZGRkYiKTt0aGlzLmRpZmZ1c2U9bmV3IEZTUy5Db2xvcihifHwiI0ZGRkZGRiIpO3RoaXMucmF5PUZTUy5WZWN0b3IzLmNyZWF0ZSgpfTtGU1MuTGlnaHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRlNTLk9iamVjdC5wcm90b3R5cGUpO0ZTUy5WZXJ0ZXg9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucG9zaXRpb249RlNTLlZlY3RvcjMuY3JlYXRlKGEsYixjKX07CkZTUy5WZXJ0ZXgucHJvdG90eXBlPXtzZXRQb3NpdGlvbjpmdW5jdGlvbihhLGIsYyl7RlNTLlZlY3RvcjMuc2V0KHRoaXMucG9zaXRpb24sYSxiLGMpO3JldHVybiB0aGlzfX07CkZTUy5UcmlhbmdsZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5hPWF8fG5ldyBGU1MuVmVydGV4O3RoaXMuYj1ifHxuZXcgRlNTLlZlcnRleDt0aGlzLmM9Y3x8bmV3IEZTUy5WZXJ0ZXg7dGhpcy52ZXJ0aWNlcz1bdGhpcy5hLHRoaXMuYix0aGlzLmNdO3RoaXMudT1GU1MuVmVjdG9yMy5jcmVhdGUoKTt0aGlzLnY9RlNTLlZlY3RvcjMuY3JlYXRlKCk7dGhpcy5jZW50cm9pZD1GU1MuVmVjdG9yMy5jcmVhdGUoKTt0aGlzLm5vcm1hbD1GU1MuVmVjdG9yMy5jcmVhdGUoKTt0aGlzLmNvbG9yPW5ldyBGU1MuQ29sb3I7dGhpcy5wb2x5Z29uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhGU1MuU1ZHTlMsInBvbHlnb24iKTt0aGlzLnBvbHlnb24uc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLWxpbmVqb2luIiwicm91bmQiKTt0aGlzLnBvbHlnb24uc2V0QXR0cmlidXRlTlMobnVsbCwic3Ryb2tlLW1pdGVybGltaXQiLCIxIik7dGhpcy5wb2x5Z29uLnNldEF0dHJpYnV0ZU5TKG51bGwsInN0cm9rZS13aWR0aCIsCiIxIik7dGhpcy5jb21wdXRlQ2VudHJvaWQoKTt0aGlzLmNvbXB1dGVOb3JtYWwoKX07CkZTUy5UcmlhbmdsZS5wcm90b3R5cGU9e2NvbXB1dGVDZW50cm9pZDpmdW5jdGlvbigpe3RoaXMuY2VudHJvaWRbMF09dGhpcy5hLnBvc2l0aW9uWzBdK3RoaXMuYi5wb3NpdGlvblswXSt0aGlzLmMucG9zaXRpb25bMF07dGhpcy5jZW50cm9pZFsxXT10aGlzLmEucG9zaXRpb25bMV0rdGhpcy5iLnBvc2l0aW9uWzFdK3RoaXMuYy5wb3NpdGlvblsxXTt0aGlzLmNlbnRyb2lkWzJdPXRoaXMuYS5wb3NpdGlvblsyXSt0aGlzLmIucG9zaXRpb25bMl0rdGhpcy5jLnBvc2l0aW9uWzJdO0ZTUy5WZWN0b3IzLmRpdmlkZVNjYWxhcih0aGlzLmNlbnRyb2lkLDMpO3JldHVybiB0aGlzfSxjb21wdXRlTm9ybWFsOmZ1bmN0aW9uKCl7RlNTLlZlY3RvcjMuc3VidHJhY3RWZWN0b3JzKHRoaXMudSx0aGlzLmIucG9zaXRpb24sdGhpcy5hLnBvc2l0aW9uKTtGU1MuVmVjdG9yMy5zdWJ0cmFjdFZlY3RvcnModGhpcy52LHRoaXMuYy5wb3NpdGlvbix0aGlzLmEucG9zaXRpb24pO0ZTUy5WZWN0b3IzLmNyb3NzVmVjdG9ycyh0aGlzLm5vcm1hbCwKdGhpcy51LHRoaXMudik7RlNTLlZlY3RvcjMubm9ybWFsaXNlKHRoaXMubm9ybWFsKTtyZXR1cm4gdGhpc319O0ZTUy5HZW9tZXRyeT1mdW5jdGlvbigpe3RoaXMudmVydGljZXM9W107dGhpcy50cmlhbmdsZXM9W107dGhpcy5kaXJ0eT0hMX07RlNTLkdlb21ldHJ5LnByb3RvdHlwZT17dXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5kaXJ0eSl7dmFyIGEsYjtmb3IoYT10aGlzLnRyaWFuZ2xlcy5sZW5ndGgtMTswPD1hO2EtLSliPXRoaXMudHJpYW5nbGVzW2FdLGIuY29tcHV0ZUNlbnRyb2lkKCksYi5jb21wdXRlTm9ybWFsKCk7dGhpcy5kaXJ0eT0hMX1yZXR1cm4gdGhpc319OwpGU1MuUGxhbmU9ZnVuY3Rpb24oYSxiLGMpe0ZTUy5HZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMud2lkdGg9YXx8MTAwO3RoaXMuaGVpZ2h0PWJ8fDEwMDt2YXIgZCxlO2M9QXJyYXkoYyk7b2Zmc2V0WD0tLjUqdGhpcy53aWR0aDtvZmZzZXRZPS41KnRoaXMuaGVpZ2h0O2ZvcihmPWMubGVuZ3RoO2YtLTspZD1vZmZzZXRYK01hdGgucmFuZG9tKCkqYSxlPW9mZnNldFktTWF0aC5yYW5kb20oKSpiLGNbZl09W2QsZV07Yy5wdXNoKFtvZmZzZXRYLG9mZnNldFldKTtjLnB1c2goW29mZnNldFgrYS8yLG9mZnNldFldKTtjLnB1c2goW29mZnNldFgrYSxvZmZzZXRZXSk7Yy5wdXNoKFtvZmZzZXRYK2Esb2Zmc2V0WS1iLzJdKTtjLnB1c2goW29mZnNldFgrYSxvZmZzZXRZLWJdKTtjLnB1c2goW29mZnNldFgrYS8yLG9mZnNldFktYl0pO2MucHVzaChbb2Zmc2V0WCxvZmZzZXRZLWJdKTtjLnB1c2goW29mZnNldFgsb2Zmc2V0WS1iLzJdKTtmb3IodmFyIGY9NjswPD1mO2YtLSljLnB1c2goW29mZnNldFgrCk1hdGgucmFuZG9tKCkqYSxvZmZzZXRZXSksYy5wdXNoKFtvZmZzZXRYLG9mZnNldFktTWF0aC5yYW5kb20oKSpiXSksYy5wdXNoKFtvZmZzZXRYK2Esb2Zmc2V0WS1NYXRoLnJhbmRvbSgpKmJdKSxjLnB1c2goW29mZnNldFgrTWF0aC5yYW5kb20oKSphLG9mZnNldFktYl0pO2E9RGVsYXVuYXkudHJpYW5ndWxhdGUoYyk7Zm9yKGY9YS5sZW5ndGg7ZjspLS1mLHYxPW5ldyBGU1MuVmVydGV4KE1hdGguY2VpbChjW2FbZl1dWzBdKSxNYXRoLmNlaWwoY1thW2ZdXVsxXSkpLC0tZix2Mj1uZXcgRlNTLlZlcnRleChNYXRoLmNlaWwoY1thW2ZdXVswXSksTWF0aC5jZWlsKGNbYVtmXV1bMV0pKSwtLWYsdjM9bmV3IEZTUy5WZXJ0ZXgoTWF0aC5jZWlsKGNbYVtmXV1bMF0pLE1hdGguY2VpbChjW2FbZl1dWzFdKSksdDE9bmV3IEZTUy5UcmlhbmdsZSh2MSx2Mix2MyksdGhpcy50cmlhbmdsZXMucHVzaCh0MSksdGhpcy52ZXJ0aWNlcy5wdXNoKHYxKSx0aGlzLnZlcnRpY2VzLnB1c2godjIpLAp0aGlzLnZlcnRpY2VzLnB1c2godjMpfTtGU1MuUGxhbmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRlNTLkdlb21ldHJ5LnByb3RvdHlwZSk7RlNTLk1hdGVyaWFsPWZ1bmN0aW9uKGEsYil7dGhpcy5hbWJpZW50PW5ldyBGU1MuQ29sb3IoYXx8IiM0NDQ0NDQiKTt0aGlzLmRpZmZ1c2U9bmV3IEZTUy5Db2xvcihifHwiI0ZGRkZGRiIpO3RoaXMuc2xhdmU9bmV3IEZTUy5Db2xvcn07RlNTLk1lc2g9ZnVuY3Rpb24oYSxiKXtGU1MuT2JqZWN0LmNhbGwodGhpcyk7dGhpcy5nZW9tZXRyeT1hfHxuZXcgRlNTLkdlb21ldHJ5O3RoaXMubWF0ZXJpYWw9Ynx8bmV3IEZTUy5NYXRlcmlhbDt0aGlzLnNpZGU9RlNTLkZST05UO3RoaXMudmlzaWJsZT0hMH07RlNTLk1lc2gucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRlNTLk9iamVjdC5wcm90b3R5cGUpOwpGU1MuTWVzaC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsazt0aGlzLmdlb21ldHJ5LnVwZGF0ZSgpO2lmKGIpZm9yKGM9dGhpcy5nZW9tZXRyeS50cmlhbmdsZXMubGVuZ3RoLTE7MDw9YztjLS0pe2Q9dGhpcy5nZW9tZXRyeS50cmlhbmdsZXNbY107RlNTLlZlY3RvcjQuc2V0KGQuY29sb3IucmdiYSk7Zm9yKGU9YS5sZW5ndGgtMTswPD1lO2UtLSlmPWFbZV0sRlNTLlZlY3RvcjMuc3VidHJhY3RWZWN0b3JzKGYucmF5LGYucG9zaXRpb24sZC5jZW50cm9pZCksRlNTLlZlY3RvcjMubm9ybWFsaXNlKGYucmF5KSxrPUZTUy5WZWN0b3IzLmRvdChkLm5vcm1hbCxmLnJheSksdGhpcy5zaWRlPT09RlNTLkZST05UP2s9TWF0aC5tYXgoaywwKTp0aGlzLnNpZGU9PT1GU1MuQkFDSz9rPU1hdGguYWJzKE1hdGgubWluKGssMCkpOnRoaXMuc2lkZT09PUZTUy5ET1VCTEUmJihrPU1hdGgubWF4KE1hdGguYWJzKGspLDApKSxGU1MuVmVjdG9yNC5tdWx0aXBseVZlY3RvcnModGhpcy5tYXRlcmlhbC5zbGF2ZS5yZ2JhLAp0aGlzLm1hdGVyaWFsLmFtYmllbnQucmdiYSxmLmFtYmllbnQucmdiYSksRlNTLlZlY3RvcjQuYWRkKGQuY29sb3IucmdiYSx0aGlzLm1hdGVyaWFsLnNsYXZlLnJnYmEpLEZTUy5WZWN0b3I0Lm11bHRpcGx5VmVjdG9ycyh0aGlzLm1hdGVyaWFsLnNsYXZlLnJnYmEsdGhpcy5tYXRlcmlhbC5kaWZmdXNlLnJnYmEsZi5kaWZmdXNlLnJnYmEpLEZTUy5WZWN0b3I0Lm11bHRpcGx5U2NhbGFyKHRoaXMubWF0ZXJpYWwuc2xhdmUucmdiYSxrKSxGU1MuVmVjdG9yNC5hZGQoZC5jb2xvci5yZ2JhLHRoaXMubWF0ZXJpYWwuc2xhdmUucmdiYSk7RlNTLlZlY3RvcjQuY2xhbXAoZC5jb2xvci5yZ2JhLDAsMSl9cmV0dXJuIHRoaXN9O0ZTUy5TY2VuZT1mdW5jdGlvbigpe3RoaXMubWVzaGVzPVtdO3RoaXMubGlnaHRzPVtdfTsKRlNTLlNjZW5lLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBGU1MuTWVzaCYmIX50aGlzLm1lc2hlcy5pbmRleE9mKGEpP3RoaXMubWVzaGVzLnB1c2goYSk6YSBpbnN0YW5jZW9mIEZTUy5MaWdodCYmIX50aGlzLmxpZ2h0cy5pbmRleE9mKGEpJiZ0aGlzLmxpZ2h0cy5wdXNoKGEpO3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIEZTUy5NZXNoJiZ+dGhpcy5tZXNoZXMuaW5kZXhPZihhKT90aGlzLm1lc2hlcy5zcGxpY2UodGhpcy5tZXNoZXMuaW5kZXhPZihhKSwxKTphIGluc3RhbmNlb2YgRlNTLkxpZ2h0JiZ+dGhpcy5saWdodHMuaW5kZXhPZihhKSYmdGhpcy5saWdodHMuc3BsaWNlKHRoaXMubGlnaHRzLmluZGV4T2YoYSksMSk7cmV0dXJuIHRoaXN9fTtGU1MuUmVuZGVyZXI9ZnVuY3Rpb24oKXt0aGlzLmhhbGZIZWlnaHQ9dGhpcy5oYWxmV2lkdGg9dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD0wfTsKRlNTLlJlbmRlcmVyLnByb3RvdHlwZT17c2V0U2l6ZTpmdW5jdGlvbihhLGIpe2lmKHRoaXMud2lkdGghPT1hfHx0aGlzLmhlaWdodCE9PWIpcmV0dXJuIHRoaXMud2lkdGg9YSx0aGlzLmhlaWdodD1iLHRoaXMuaGFsZldpZHRoPS41KnRoaXMud2lkdGgsdGhpcy5oYWxmSGVpZ2h0PS41KnRoaXMuaGVpZ2h0LHRoaXN9LGNsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHJlbmRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc319O0ZTUy5DYW52YXNSZW5kZXJlcj1mdW5jdGlvbigpe0ZTUy5SZW5kZXJlci5jYWxsKHRoaXMpO3RoaXMuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siO3RoaXMuY29udGV4dD10aGlzLmVsZW1lbnQuZ2V0Q29udGV4dCgiMmQiKTt0aGlzLnNldFNpemUodGhpcy5lbGVtZW50LndpZHRoLHRoaXMuZWxlbWVudC5oZWlnaHQpfTsKRlNTLkNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEZTUy5SZW5kZXJlci5wcm90b3R5cGUpO0ZTUy5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihhLGIpe0ZTUy5SZW5kZXJlci5wcm90b3R5cGUuc2V0U2l6ZS5jYWxsKHRoaXMsYSxiKTt0aGlzLmVsZW1lbnQud2lkdGg9YTt0aGlzLmVsZW1lbnQuaGVpZ2h0PWI7dGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwtMSx0aGlzLmhhbGZXaWR0aCx0aGlzLmhhbGZIZWlnaHQpO3JldHVybiB0aGlzfTtGU1MuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7RlNTLlJlbmRlcmVyLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpO3RoaXMuY29udGV4dC5jbGVhclJlY3QoLXRoaXMuaGFsZldpZHRoLC10aGlzLmhhbGZIZWlnaHQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7cmV0dXJuIHRoaXN9OwpGU1MuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihhKXtGU1MuUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMsYSk7dmFyIGIsYyxkLGUsZjt0aGlzLmNsZWFyKCk7dGhpcy5jb250ZXh0LmxpbmVKb2luPSJyb3VuZCI7dGhpcy5jb250ZXh0LmxpbmVXaWR0aD0xO2ZvcihiPWEubWVzaGVzLmxlbmd0aC0xOzA8PWI7Yi0tKWlmKGM9YS5tZXNoZXNbYl0sYy52aXNpYmxlKWZvcihjLnVwZGF0ZShhLmxpZ2h0cywhMCksZD1jLmdlb21ldHJ5LnRyaWFuZ2xlcy5sZW5ndGgtMTswPD1kO2QtLSllPWMuZ2VvbWV0cnkudHJpYW5nbGVzW2RdLGY9ZS5jb2xvci5mb3JtYXQoKSx0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jb250ZXh0Lm1vdmVUbyhlLmEucG9zaXRpb25bMF0sZS5hLnBvc2l0aW9uWzFdKSx0aGlzLmNvbnRleHQubGluZVRvKGUuYi5wb3NpdGlvblswXSxlLmIucG9zaXRpb25bMV0pLHRoaXMuY29udGV4dC5saW5lVG8oZS5jLnBvc2l0aW9uWzBdLAplLmMucG9zaXRpb25bMV0pLHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9Zix0aGlzLmNvbnRleHQuZmlsbFN0eWxlPWYsdGhpcy5jb250ZXh0LnN0cm9rZSgpLHRoaXMuY29udGV4dC5maWxsKCk7cmV0dXJuIHRoaXN9OwpGU1MuV2ViR0xSZW5kZXJlcj1mdW5jdGlvbigpe0ZTUy5SZW5kZXJlci5jYWxsKHRoaXMpO3RoaXMuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siO3RoaXMubGlnaHRzPXRoaXMudmVydGljZXM9bnVsbDt0aGlzLmdsPXRoaXMuZ2V0Q29udGV4dCh0aGlzLmVsZW1lbnQse3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSxwcmVtdWx0aXBsaWVkQWxwaGE6ITAsYW50aWFsaWFzOiEwLHN0ZW5jaWw6ITAsYWxwaGE6ITB9KTtpZih0aGlzLnVuc3VwcG9ydGVkPSF0aGlzLmdsKXJldHVybiJXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3Nlci4iO3RoaXMuZ2wuY2xlYXJDb2xvcigwLDAsMCwwKTt0aGlzLmdsLmVuYWJsZSh0aGlzLmdsLkRFUFRIX1RFU1QpO3RoaXMuc2V0U2l6ZSh0aGlzLmVsZW1lbnQud2lkdGgsdGhpcy5lbGVtZW50LmhlaWdodCl9OwpGU1MuV2ViR0xSZW5kZXJlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShGU1MuUmVuZGVyZXIucHJvdG90eXBlKTtGU1MuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZ2V0Q29udGV4dD1mdW5jdGlvbihhLGIpe3ZhciBjPSExO3RyeXtpZighKGM9YS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLGIpKSl0aHJvdyJFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0LiI7fWNhdGNoKGQpe2NvbnNvbGUuZXJyb3IoZCl9cmV0dXJuIGN9O0ZTUy5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKGEsYil7RlNTLlJlbmRlcmVyLnByb3RvdHlwZS5zZXRTaXplLmNhbGwodGhpcyxhLGIpO2lmKCF0aGlzLnVuc3VwcG9ydGVkKXJldHVybiB0aGlzLmVsZW1lbnQud2lkdGg9YSx0aGlzLmVsZW1lbnQuaGVpZ2h0PWIsdGhpcy5nbC52aWV3cG9ydCgwLDAsYSxiKSx0aGlzfTsKRlNTLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7RlNTLlJlbmRlcmVyLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpO2lmKCF0aGlzLnVuc3VwcG9ydGVkKXJldHVybiB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVHx0aGlzLmdsLkRFUFRIX0JVRkZFUl9CSVQpLHRoaXN9OwpGU1MuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGEpe0ZTUy5SZW5kZXJlci5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcyxhKTtpZighdGhpcy51bnN1cHBvcnRlZCl7dmFyIGIsYyxkLGUsZixrLHAsaDtrPSExO3ZhciBnPWEubGlnaHRzLmxlbmd0aCxtLHIscyxuPTA7dGhpcy5jbGVhcigpO2lmKHRoaXMubGlnaHRzIT09ZylpZih0aGlzLmxpZ2h0cz1nLDA8dGhpcy5saWdodHMpdGhpcy5idWlsZFByb2dyYW0oZyk7ZWxzZSByZXR1cm47aWYodGhpcy5wcm9ncmFtKXtmb3IoYj1hLm1lc2hlcy5sZW5ndGgtMTswPD1iO2ItLSljPWEubWVzaGVzW2JdLGMuZ2VvbWV0cnkuZGlydHkmJihrPSEwKSxjLnVwZGF0ZShhLmxpZ2h0cywhMSksbis9MypjLmdlb21ldHJ5LnRyaWFuZ2xlcy5sZW5ndGg7aWYoa3x8dGhpcy52ZXJ0aWNlcyE9PW4pZm9yKHAgaW4gdGhpcy52ZXJ0aWNlcz1uLHRoaXMucHJvZ3JhbS5hdHRyaWJ1dGVzKXtrPXRoaXMucHJvZ3JhbS5hdHRyaWJ1dGVzW3BdOwprLmRhdGE9bmV3IEZTUy5BcnJheShuKmsuc2l6ZSk7bT0wO2ZvcihiPWEubWVzaGVzLmxlbmd0aC0xOzA8PWI7Yi0tKWZvcihjPWEubWVzaGVzW2JdLGQ9MCxlPWMuZ2VvbWV0cnkudHJpYW5nbGVzLmxlbmd0aDtkPGU7ZCsrKWZvcihmPWMuZ2VvbWV0cnkudHJpYW5nbGVzW2RdLHI9MCxzPWYudmVydGljZXMubGVuZ3RoO3I8cztyKyspe3ZlcnRleD1mLnZlcnRpY2VzW3JdO3N3aXRjaChwKXtjYXNlICJzaWRlIjp0aGlzLnNldEJ1ZmZlckRhdGEobSxrLGMuc2lkZSk7YnJlYWs7Y2FzZSAicG9zaXRpb24iOnRoaXMuc2V0QnVmZmVyRGF0YShtLGssdmVydGV4LnBvc2l0aW9uKTticmVhaztjYXNlICJjZW50cm9pZCI6dGhpcy5zZXRCdWZmZXJEYXRhKG0sayxmLmNlbnRyb2lkKTticmVhaztjYXNlICJub3JtYWwiOnRoaXMuc2V0QnVmZmVyRGF0YShtLGssZi5ub3JtYWwpO2JyZWFrO2Nhc2UgImFtYmllbnQiOnRoaXMuc2V0QnVmZmVyRGF0YShtLGssYy5tYXRlcmlhbC5hbWJpZW50LnJnYmEpOwpicmVhaztjYXNlICJkaWZmdXNlIjp0aGlzLnNldEJ1ZmZlckRhdGEobSxrLGMubWF0ZXJpYWwuZGlmZnVzZS5yZ2JhKX1tKyt9dGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLGsuYnVmZmVyKTt0aGlzLmdsLmJ1ZmZlckRhdGEodGhpcy5nbC5BUlJBWV9CVUZGRVIsay5kYXRhLHRoaXMuZ2wuRFlOQU1JQ19EUkFXKTt0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGsubG9jYXRpb24pO3RoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcihrLmxvY2F0aW9uLGsuc2l6ZSx0aGlzLmdsLkZMT0FULCExLDAsMCl9dGhpcy5zZXRCdWZmZXJEYXRhKDAsdGhpcy5wcm9ncmFtLnVuaWZvcm1zLnJlc29sdXRpb24sW3RoaXMud2lkdGgsdGhpcy5oZWlnaHQsdGhpcy53aWR0aF0pO2ZvcihrPWctMTswPD1rO2stLSliPWEubGlnaHRzW2tdLHRoaXMuc2V0QnVmZmVyRGF0YShrLHRoaXMucHJvZ3JhbS51bmlmb3Jtcy5saWdodFBvc2l0aW9uLGIucG9zaXRpb24pLHRoaXMuc2V0QnVmZmVyRGF0YShrLAp0aGlzLnByb2dyYW0udW5pZm9ybXMubGlnaHRBbWJpZW50LGIuYW1iaWVudC5yZ2JhKSx0aGlzLnNldEJ1ZmZlckRhdGEoayx0aGlzLnByb2dyYW0udW5pZm9ybXMubGlnaHREaWZmdXNlLGIuZGlmZnVzZS5yZ2JhKTtmb3IoaCBpbiB0aGlzLnByb2dyYW0udW5pZm9ybXMpc3dpdGNoKGs9dGhpcy5wcm9ncmFtLnVuaWZvcm1zW2hdLGI9ay5sb2NhdGlvbixhPWsuZGF0YSxrLnN0cnVjdHVyZSl7Y2FzZSAiM2YiOnRoaXMuZ2wudW5pZm9ybTNmKGIsYVswXSxhWzFdLGFbMl0pO2JyZWFrO2Nhc2UgIjNmdiI6dGhpcy5nbC51bmlmb3JtM2Z2KGIsYSk7YnJlYWs7Y2FzZSAiNGZ2Ijp0aGlzLmdsLnVuaWZvcm00ZnYoYixhKX19dGhpcy5nbC5kcmF3QXJyYXlzKHRoaXMuZ2wuVFJJQU5HTEVTLDAsdGhpcy52ZXJ0aWNlcyk7cmV0dXJuIHRoaXN9fTsKRlNTLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLnNldEJ1ZmZlckRhdGE9ZnVuY3Rpb24oYSxiLGMpe2lmKEZTUy5VdGlscy5pc051bWJlcihjKSliLmRhdGFbYSpiLnNpemVdPWM7ZWxzZSBmb3IodmFyIGQ9Yy5sZW5ndGgtMTswPD1kO2QtLSliLmRhdGFbYSpiLnNpemUrZF09Y1tkXX07CkZTUy5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZFByb2dyYW09ZnVuY3Rpb24oYSl7aWYoIXRoaXMudW5zdXBwb3J0ZWQpe3ZhciBiPUZTUy5XZWJHTFJlbmRlcmVyLlZTKGEpLGM9RlNTLldlYkdMUmVuZGVyZXIuRlMoYSksZD1iK2M7aWYoIXRoaXMucHJvZ3JhbXx8dGhpcy5wcm9ncmFtLmNvZGUhPT1kKXt2YXIgZT10aGlzLmdsLmNyZWF0ZVByb2dyYW0oKSxiPXRoaXMuYnVpbGRTaGFkZXIodGhpcy5nbC5WRVJURVhfU0hBREVSLGIpLGM9dGhpcy5idWlsZFNoYWRlcih0aGlzLmdsLkZSQUdNRU5UX1NIQURFUixjKTt0aGlzLmdsLmF0dGFjaFNoYWRlcihlLGIpO3RoaXMuZ2wuYXR0YWNoU2hhZGVyKGUsYyk7dGhpcy5nbC5saW5rUHJvZ3JhbShlKTtpZighdGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsdGhpcy5nbC5MSU5LX1NUQVRVUykpcmV0dXJuIGE9dGhpcy5nbC5nZXRFcnJvcigpLGU9dGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKGUsdGhpcy5nbC5WQUxJREFURV9TVEFUVVMpLApjb25zb2xlLmVycm9yKCJDb3VsZCBub3QgaW5pdGlhbGlzZSBzaGFkZXIuXG5WQUxJREFURV9TVEFUVVM6ICIrZSsiXG5FUlJPUjogIithKSxudWxsO3RoaXMuZ2wuZGVsZXRlU2hhZGVyKGMpO3RoaXMuZ2wuZGVsZXRlU2hhZGVyKGIpO2UuY29kZT1kO2UuYXR0cmlidXRlcz17c2lkZTp0aGlzLmJ1aWxkQnVmZmVyKGUsImF0dHJpYnV0ZSIsImFTaWRlIiwxLCJmIikscG9zaXRpb246dGhpcy5idWlsZEJ1ZmZlcihlLCJhdHRyaWJ1dGUiLCJhUG9zaXRpb24iLDMsInYzIiksY2VudHJvaWQ6dGhpcy5idWlsZEJ1ZmZlcihlLCJhdHRyaWJ1dGUiLCJhQ2VudHJvaWQiLDMsInYzIiksbm9ybWFsOnRoaXMuYnVpbGRCdWZmZXIoZSwiYXR0cmlidXRlIiwiYU5vcm1hbCIsMywidjMiKSxhbWJpZW50OnRoaXMuYnVpbGRCdWZmZXIoZSwiYXR0cmlidXRlIiwiYUFtYmllbnQiLDQsInY0IiksZGlmZnVzZTp0aGlzLmJ1aWxkQnVmZmVyKGUsImF0dHJpYnV0ZSIsImFEaWZmdXNlIiw0LCJ2NCIpfTsKZS51bmlmb3Jtcz17cmVzb2x1dGlvbjp0aGlzLmJ1aWxkQnVmZmVyKGUsInVuaWZvcm0iLCJ1UmVzb2x1dGlvbiIsMywiM2YiLDEpLGxpZ2h0UG9zaXRpb246dGhpcy5idWlsZEJ1ZmZlcihlLCJ1bmlmb3JtIiwidUxpZ2h0UG9zaXRpb24iLDMsIjNmdiIsYSksbGlnaHRBbWJpZW50OnRoaXMuYnVpbGRCdWZmZXIoZSwidW5pZm9ybSIsInVMaWdodEFtYmllbnQiLDQsIjRmdiIsYSksbGlnaHREaWZmdXNlOnRoaXMuYnVpbGRCdWZmZXIoZSwidW5pZm9ybSIsInVMaWdodERpZmZ1c2UiLDQsIjRmdiIsYSl9O3RoaXMucHJvZ3JhbT1lO3RoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO3JldHVybiBlfX19OwpGU1MuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRTaGFkZXI9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy51bnN1cHBvcnRlZCl7dmFyIGM9dGhpcy5nbC5jcmVhdGVTaGFkZXIoYSk7dGhpcy5nbC5zaGFkZXJTb3VyY2UoYyxiKTt0aGlzLmdsLmNvbXBpbGVTaGFkZXIoYyk7cmV0dXJuIHRoaXMuZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGMsdGhpcy5nbC5DT01QSUxFX1NUQVRVUyk/YzooY29uc29sZS5lcnJvcih0aGlzLmdsLmdldFNoYWRlckluZm9Mb2coYykpLG51bGwpfX07CkZTUy5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZEJ1ZmZlcj1mdW5jdGlvbihhLGIsYyxkLGUsZil7ZT17YnVmZmVyOnRoaXMuZ2wuY3JlYXRlQnVmZmVyKCksc2l6ZTpkLHN0cnVjdHVyZTplLGRhdGE6bnVsbH07c3dpdGNoKGIpe2Nhc2UgImF0dHJpYnV0ZSI6ZS5sb2NhdGlvbj10aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKGEsYyk7YnJlYWs7Y2FzZSAidW5pZm9ybSI6ZS5sb2NhdGlvbj10aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihhLGMpfWYmJihlLmRhdGE9bmV3IEZTUy5BcnJheShmKmQpKTtyZXR1cm4gZX07RlNTLldlYkdMUmVuZGVyZXIuVlM9ZnVuY3Rpb24oYSl7cmV0dXJuWyJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsiLCIjZGVmaW5lIExJR0hUUyAiK2EsImF0dHJpYnV0ZSBmbG9hdCBhU2lkZTtcbmF0dHJpYnV0ZSB2ZWMzIGFQb3NpdGlvbjtcbmF0dHJpYnV0ZSB2ZWMzIGFDZW50cm9pZDtcbmF0dHJpYnV0ZSB2ZWMzIGFOb3JtYWw7XG5hdHRyaWJ1dGUgdmVjNCBhQW1iaWVudDtcbmF0dHJpYnV0ZSB2ZWM0IGFEaWZmdXNlO1xudW5pZm9ybSB2ZWMzIHVSZXNvbHV0aW9uO1xudW5pZm9ybSB2ZWMzIHVMaWdodFBvc2l0aW9uW0xJR0hUU107XG51bmlmb3JtIHZlYzQgdUxpZ2h0QW1iaWVudFtMSUdIVFNdO1xudW5pZm9ybSB2ZWM0IHVMaWdodERpZmZ1c2VbTElHSFRTXTtcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52b2lkIG1haW4oKSB7XG52Q29sb3IgPSB2ZWM0KDAuMCk7XG52ZWMzIHBvc2l0aW9uID0gYVBvc2l0aW9uIC8gdVJlc29sdXRpb24gKiAyLjA7XG5mb3IgKGludCBpID0gMDsgaSA8IExJR0hUUzsgaSsrKSB7XG52ZWMzIGxpZ2h0UG9zaXRpb24gPSB1TGlnaHRQb3NpdGlvbltpXTtcbnZlYzQgbGlnaHRBbWJpZW50ID0gdUxpZ2h0QW1iaWVudFtpXTtcbnZlYzQgbGlnaHREaWZmdXNlID0gdUxpZ2h0RGlmZnVzZVtpXTtcbnZlYzMgcmF5ID0gbm9ybWFsaXplKGxpZ2h0UG9zaXRpb24gLSBhQ2VudHJvaWQpO1xuZmxvYXQgaWxsdW1pbmFuY2UgPSBkb3QoYU5vcm1hbCwgcmF5KTtcbmlmIChhU2lkZSA9PSAwLjApIHtcbmlsbHVtaW5hbmNlID0gbWF4KGlsbHVtaW5hbmNlLCAwLjApO1xufSBlbHNlIGlmIChhU2lkZSA9PSAxLjApIHtcbmlsbHVtaW5hbmNlID0gYWJzKG1pbihpbGx1bWluYW5jZSwgMC4wKSk7XG59IGVsc2UgaWYgKGFTaWRlID09IDIuMCkge1xuaWxsdW1pbmFuY2UgPSBtYXgoYWJzKGlsbHVtaW5hbmNlKSwgMC4wKTtcbn1cbnZDb2xvciArPSBhQW1iaWVudCAqIGxpZ2h0QW1iaWVudDtcbnZDb2xvciArPSBhRGlmZnVzZSAqIGxpZ2h0RGlmZnVzZSAqIGlsbHVtaW5hbmNlO1xufVxudkNvbG9yID0gY2xhbXAodkNvbG9yLCAwLjAsIDEuMCk7XG5nbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDEuMCk7XG59Il0uam9pbigiXG4iKX07CkZTUy5XZWJHTFJlbmRlcmVyLkZTPWZ1bmN0aW9uKGEpe3JldHVybiJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XG52b2lkIG1haW4oKSB7XG5nbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG59In07RlNTLlNWR1JlbmRlcmVyPWZ1bmN0aW9uKCl7RlNTLlJlbmRlcmVyLmNhbGwodGhpcyk7dGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhGU1MuU1ZHTlMsInN2ZyIpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoInhtbG5zIixGU1MuU1ZHTlMpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjEiKTt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siO3RoaXMuc2V0U2l6ZSgzMDAsMTUwKX07RlNTLlNWR1JlbmRlcmVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEZTUy5SZW5kZXJlci5wcm90b3R5cGUpOwpGU1MuU1ZHUmVuZGVyZXIucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oYSxiKXtGU1MuUmVuZGVyZXIucHJvdG90eXBlLnNldFNpemUuY2FsbCh0aGlzLGEsYik7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgid2lkdGgiLGEpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsYik7cmV0dXJuIHRoaXN9O0ZTUy5TVkdSZW5kZXJlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtGU1MuUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7Zm9yKHZhciBhPXRoaXMuZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aC0xOzA8PWE7YS0tKXRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQuY2hpbGROb2Rlc1thXSk7cmV0dXJuIHRoaXN9OwpGU1MuU1ZHUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihhKXtGU1MuUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMsYSk7dmFyIGIsYyxkLGUsZixrO2ZvcihiPWEubWVzaGVzLmxlbmd0aC0xOzA8PWI7Yi0tKWlmKGM9YS5tZXNoZXNbYl0sYy52aXNpYmxlKWZvcihjLnVwZGF0ZShhLmxpZ2h0cywhMCksZD1jLmdlb21ldHJ5LnRyaWFuZ2xlcy5sZW5ndGgtMTswPD1kO2QtLSllPWMuZ2VvbWV0cnkudHJpYW5nbGVzW2RdLGUucG9seWdvbi5wYXJlbnROb2RlIT09dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZS5wb2x5Z29uKSxmPXRoaXMuZm9ybWF0UG9pbnQoZS5hKSsiICIsZis9dGhpcy5mb3JtYXRQb2ludChlLmIpKyIgIixmKz10aGlzLmZvcm1hdFBvaW50KGUuYyksaz10aGlzLmZvcm1hdFN0eWxlKGUuY29sb3IuZm9ybWF0KCkpLGUucG9seWdvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCJwb2ludHMiLGYpLGUucG9seWdvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLAoic3R5bGUiLGspO3JldHVybiB0aGlzfTtGU1MuU1ZHUmVuZGVyZXIucHJvdG90eXBlLmZvcm1hdFBvaW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhbGZXaWR0aCthLnBvc2l0aW9uWzBdKyIsIisodGhpcy5oYWxmSGVpZ2h0LWEucG9zaXRpb25bMV0pfTtGU1MuU1ZHUmVuZGVyZXIucHJvdG90eXBlLmZvcm1hdFN0eWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhPSJmaWxsOiIrYSsiOyIrKCJzdHJva2U6IithKyI7Iil9O3ZhciBkYXQ9ZGF0fHx7fTtkYXQuZ3VpPWRhdC5ndWl8fHt9O2RhdC51dGlscz1kYXQudXRpbHN8fHt9O2RhdC5jb250cm9sbGVycz1kYXQuY29udHJvbGxlcnN8fHt9O2RhdC5kb209ZGF0LmRvbXx8e307ZGF0LmNvbG9yPWRhdC5jb2xvcnx8e307CmRhdC51dGlscy5jc3M9ZnVuY3Rpb24oKXtyZXR1cm57bG9hZDpmdW5jdGlvbihhLGIpe2I9Ynx8ZG9jdW1lbnQ7dmFyIGM9Yi5jcmVhdGVFbGVtZW50KCJsaW5rIik7Yy50eXBlPSJ0ZXh0L2NzcyI7Yy5yZWw9InN0eWxlc2hlZXQiO2MuaHJlZj1hO2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChjKX0saW5qZWN0OmZ1bmN0aW9uKGEsYil7Yj1ifHxkb2N1bWVudDt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2MudHlwZT0idGV4dC9jc3MiO2MuaW5uZXJIVE1MPWE7Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGMpfX19KCk7CmRhdC51dGlscy5jb21tb249ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuZm9yRWFjaCxiPUFycmF5LnByb3RvdHlwZS5zbGljZTtyZXR1cm57QlJFQUs6e30sZXh0ZW5kOmZ1bmN0aW9uKGEpe3RoaXMuZWFjaChiLmNhbGwoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKGIpe2Zvcih2YXIgZSBpbiBiKXRoaXMuaXNVbmRlZmluZWQoYltlXSl8fChhW2VdPWJbZV0pfSx0aGlzKTtyZXR1cm4gYX0sZGVmYXVsdHM6ZnVuY3Rpb24oYSl7dGhpcy5lYWNoKGIuY2FsbChhcmd1bWVudHMsMSksZnVuY3Rpb24oYil7Zm9yKHZhciBlIGluIGIpdGhpcy5pc1VuZGVmaW5lZChhW2VdKSYmKGFbZV09YltlXSl9LHRoaXMpO3JldHVybiBhfSxjb21wb3NlOmZ1bmN0aW9uKCl7dmFyIGE9Yi5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBkPWIuY2FsbChhcmd1bWVudHMpLGU9YS5sZW5ndGgtMTswPD1lO2UtLSlkPVthW2VdLmFwcGx5KHRoaXMsZCldO3JldHVybiBkWzBdfX0sCmVhY2g6ZnVuY3Rpb24oYixkLGUpe2lmKGEmJmIuZm9yRWFjaD09PWEpYi5mb3JFYWNoKGQsZSk7ZWxzZSBpZihiLmxlbmd0aD09PWIubGVuZ3RoKzApZm9yKHZhciBmPTAsaz1iLmxlbmd0aDtmPGsmJiEoZiBpbiBiJiZkLmNhbGwoZSxiW2ZdLGYpPT09dGhpcy5CUkVBSyk7ZisrKTtlbHNlIGZvcihmIGluIGIpaWYoZC5jYWxsKGUsYltmXSxmKT09PXRoaXMuQlJFQUspYnJlYWt9LGRlZmVyOmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX0sdG9BcnJheTpmdW5jdGlvbihhKXtyZXR1cm4gYS50b0FycmF5P2EudG9BcnJheSgpOmIuY2FsbChhKX0saXNVbmRlZmluZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWF9LGlzTnVsbDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWF9LGlzTmFOOmZ1bmN0aW9uKGEpe3JldHVybiBhIT09YX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb25zdHJ1Y3Rvcj09PUFycmF5fSxpc09iamVjdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PQpPYmplY3QoYSl9LGlzTnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YSswfSxpc1N0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWErIiJ9LGlzQm9vbGVhbjpmdW5jdGlvbihhKXtyZXR1cm4hMT09PWF8fCEwPT09YX0saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4iW29iamVjdCBGdW5jdGlvbl0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfX19KCk7CmRhdC5jb250cm9sbGVycy5Db250cm9sbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKGEsYil7dGhpcy5pbml0aWFsVmFsdWU9YVtiXTt0aGlzLmRvbUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5vYmplY3Q9YTt0aGlzLnByb3BlcnR5PWI7dGhpcy5fX29uRmluaXNoQ2hhbmdlPXRoaXMuX19vbkNoYW5nZT12b2lkIDB9O2EuZXh0ZW5kKGIucHJvdG90eXBlLHtvbkNoYW5nZTpmdW5jdGlvbihhKXt0aGlzLl9fb25DaGFuZ2U9YTtyZXR1cm4gdGhpc30sb25GaW5pc2hDaGFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5fX29uRmluaXNoQ2hhbmdlPWE7cmV0dXJuIHRoaXN9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMub2JqZWN0W3RoaXMucHJvcGVydHldPWE7dGhpcy5fX29uQ2hhbmdlJiZ0aGlzLl9fb25DaGFuZ2UuY2FsbCh0aGlzLGEpO3RoaXMudXBkYXRlRGlzcGxheSgpO3JldHVybiB0aGlzfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9iamVjdFt0aGlzLnByb3BlcnR5XX0sCnVwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30saXNNb2RpZmllZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRpYWxWYWx1ZSE9PXRoaXMuZ2V0VmFsdWUoKX19KTtyZXR1cm4gYn0oZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5kb20uZG9tPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYil7aWYoIjAiPT09Ynx8YS5pc1VuZGVmaW5lZChiKSlyZXR1cm4gMDtiPWIubWF0Y2goZCk7cmV0dXJuIGEuaXNOdWxsKGIpPzA6cGFyc2VGbG9hdChiWzFdKX12YXIgYz17fTthLmVhY2goe0hUTUxFdmVudHM6WyJjaGFuZ2UiXSxNb3VzZUV2ZW50czpbImNsaWNrIiwibW91c2Vtb3ZlIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlb3ZlciJdLEtleWJvYXJkRXZlbnRzOlsia2V5ZG93biJdfSxmdW5jdGlvbihiLGQpe2EuZWFjaChiLGZ1bmN0aW9uKGEpe2NbYV09ZH0pfSk7dmFyIGQ9LyhcZCsoXC5cZCspPylweC8sZT17bWFrZVNlbGVjdGFibGU6ZnVuY3Rpb24oYSxiKXt2b2lkIDAhPT1hJiZ2b2lkIDAhPT1hLnN0eWxlJiYoYS5vbnNlbGVjdHN0YXJ0PWI/ZnVuY3Rpb24oKXtyZXR1cm4hMX06ZnVuY3Rpb24oKXt9LGEuc3R5bGUuTW96VXNlclNlbGVjdD1iPyJhdXRvIjoibm9uZSIsYS5zdHlsZS5LaHRtbFVzZXJTZWxlY3Q9CmI/ImF1dG8iOiJub25lIixhLnVuc2VsZWN0YWJsZT1iPyJvbiI6Im9mZiIpfSxtYWtlRnVsbHNjcmVlbjpmdW5jdGlvbihiLGMsZCl7YS5pc1VuZGVmaW5lZChjKSYmKGM9ITApO2EuaXNVbmRlZmluZWQoZCkmJihkPSEwKTtiLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YyYmKGIuc3R5bGUubGVmdD0wLGIuc3R5bGUucmlnaHQ9MCk7ZCYmKGIuc3R5bGUudG9wPTAsYi5zdHlsZS5ib3R0b209MCl9LGZha2VFdmVudDpmdW5jdGlvbihiLGQsZSxoKXtlPWV8fHt9O3ZhciBnPWNbZF07aWYoIWcpdGhyb3cgRXJyb3IoIkV2ZW50IHR5cGUgIitkKyIgbm90IHN1cHBvcnRlZC4iKTt2YXIgbT1kb2N1bWVudC5jcmVhdGVFdmVudChnKTtzd2l0Y2goZyl7Y2FzZSAiTW91c2VFdmVudHMiOm0uaW5pdE1vdXNlRXZlbnQoZCxlLmJ1YmJsZXN8fCExLGUuY2FuY2VsYWJsZXx8ITAsd2luZG93LGUuY2xpY2tDb3VudHx8MSwwLDAsZS54fHxlLmNsaWVudFh8fDAsZS55fHxlLmNsaWVudFl8fDAsITEsCiExLCExLCExLDAsbnVsbCk7YnJlYWs7Y2FzZSAiS2V5Ym9hcmRFdmVudHMiOmc9bS5pbml0S2V5Ym9hcmRFdmVudHx8bS5pbml0S2V5RXZlbnQ7YS5kZWZhdWx0cyhlLHtjYW5jZWxhYmxlOiEwLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsa2V5Q29kZTp2b2lkIDAsY2hhckNvZGU6dm9pZCAwfSk7ZyhkLGUuYnViYmxlc3x8ITEsZS5jYW5jZWxhYmxlLHdpbmRvdyxlLmN0cmxLZXksZS5hbHRLZXksZS5zaGlmdEtleSxlLm1ldGFLZXksZS5rZXlDb2RlLGUuY2hhckNvZGUpO2JyZWFrO2RlZmF1bHQ6bS5pbml0RXZlbnQoZCxlLmJ1YmJsZXN8fCExLGUuY2FuY2VsYWJsZXx8ITApfWEuZGVmYXVsdHMobSxoKTtiLmRpc3BhdGNoRXZlbnQobSl9LGJpbmQ6ZnVuY3Rpb24oYSxiLGMsZCl7YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZHx8ITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitiLGMpO3JldHVybiBlfSwKdW5iaW5kOmZ1bmN0aW9uKGEsYixjLGQpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lcj9hLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLGR8fCExKTphLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KCJvbiIrYixjKTtyZXR1cm4gZX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSxiKXtpZih2b2lkIDA9PT1hLmNsYXNzTmFtZSlhLmNsYXNzTmFtZT1iO2Vsc2UgaWYoYS5jbGFzc05hbWUhPT1iKXt2YXIgYz1hLmNsYXNzTmFtZS5zcGxpdCgvICsvKTstMT09Yy5pbmRleE9mKGIpJiYoYy5wdXNoKGIpLGEuY2xhc3NOYW1lPWMuam9pbigiICIpLnJlcGxhY2UoL15ccysvLCIiKS5yZXBsYWNlKC9ccyskLywiIikpfXJldHVybiBlfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhLGIpe2lmKGIpe2lmKHZvaWQgMCE9PWEuY2xhc3NOYW1lKWlmKGEuY2xhc3NOYW1lPT09YilhLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKTtlbHNle3ZhciBjPWEuY2xhc3NOYW1lLnNwbGl0KC8gKy8pLGQ9Yy5pbmRleE9mKGIpOy0xIT0KZCYmKGMuc3BsaWNlKGQsMSksYS5jbGFzc05hbWU9Yy5qb2luKCIgIikpfX1lbHNlIGEuY2xhc3NOYW1lPXZvaWQgMDtyZXR1cm4gZX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUmVnRXhwKCIoPzpefFxccyspIitiKyIoPzpcXHMrfCQpIikudGVzdChhLmNsYXNzTmFtZSl8fCExfSxnZXRXaWR0aDpmdW5jdGlvbihhKXthPWdldENvbXB1dGVkU3R5bGUoYSk7cmV0dXJuIGIoYVsiYm9yZGVyLWxlZnQtd2lkdGgiXSkrYihhWyJib3JkZXItcmlnaHQtd2lkdGgiXSkrYihhWyJwYWRkaW5nLWxlZnQiXSkrYihhWyJwYWRkaW5nLXJpZ2h0Il0pK2IoYS53aWR0aCl9LGdldEhlaWdodDpmdW5jdGlvbihhKXthPWdldENvbXB1dGVkU3R5bGUoYSk7cmV0dXJuIGIoYVsiYm9yZGVyLXRvcC13aWR0aCJdKStiKGFbImJvcmRlci1ib3R0b20td2lkdGgiXSkrYihhWyJwYWRkaW5nLXRvcCJdKStiKGFbInBhZGRpbmctYm90dG9tIl0pK2IoYS5oZWlnaHQpfSxnZXRPZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9CntsZWZ0OjAsdG9wOjB9O2lmKGEub2Zmc2V0UGFyZW50KXtkbyBiLmxlZnQrPWEub2Zmc2V0TGVmdCxiLnRvcCs9YS5vZmZzZXRUb3A7d2hpbGUoYT1hLm9mZnNldFBhcmVudCl9cmV0dXJuIGJ9LGlzQWN0aXZlOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmKGEudHlwZXx8YS5ocmVmKX19O3JldHVybiBlfShkYXQudXRpbHMuY29tbW9uKTsKZGF0LmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEsZixrKXtkLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGEsZik7dmFyIHA9dGhpczt0aGlzLl9fc2VsZWN0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2lmKGMuaXNBcnJheShrKSl7dmFyIGg9e307Yy5lYWNoKGssZnVuY3Rpb24oYSl7aFthXT1hfSk7az1ofWMuZWFjaChrLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7Yy5pbm5lckhUTUw9YjtjLnNldEF0dHJpYnV0ZSgidmFsdWUiLGEpO3AuX19zZWxlY3QuYXBwZW5kQ2hpbGQoYyl9KTt0aGlzLnVwZGF0ZURpc3BsYXkoKTtiLmJpbmQodGhpcy5fX3NlbGVjdCwiY2hhbmdlIixmdW5jdGlvbigpe3Auc2V0VmFsdWUodGhpcy5vcHRpb25zW3RoaXMuc2VsZWN0ZWRJbmRleF0udmFsdWUpfSk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19zZWxlY3QpfTsKZC5zdXBlcmNsYXNzPWE7Yy5leHRlbmQoZC5wcm90b3R5cGUsYS5wcm90b3R5cGUse3NldFZhbHVlOmZ1bmN0aW9uKGEpe2E9ZC5zdXBlcmNsYXNzLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsYSk7dGhpcy5fX29uRmluaXNoQ2hhbmdlJiZ0aGlzLl9fb25GaW5pc2hDaGFuZ2UuY2FsbCh0aGlzLHRoaXMuZ2V0VmFsdWUoKSk7cmV0dXJuIGF9LHVwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt0aGlzLl9fc2VsZWN0LnZhbHVlPXRoaXMuZ2V0VmFsdWUoKTtyZXR1cm4gZC5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSk7cmV0dXJuIGR9KGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLGRhdC5kb20uZG9tLGRhdC51dGlscy5jb21tb24pOwpkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcj1mdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEsZSxmKXtjLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGEsZSk7Zj1mfHx7fTt0aGlzLl9fbWluPWYubWluO3RoaXMuX19tYXg9Zi5tYXg7dGhpcy5fX3N0ZXA9Zi5zdGVwO2E9dGhpcy5fX2ltcGxpZWRTdGVwPWIuaXNVbmRlZmluZWQodGhpcy5fX3N0ZXApPzA9PXRoaXMuaW5pdGlhbFZhbHVlPzE6TWF0aC5wb3coMTAsTWF0aC5mbG9vcihNYXRoLmxvZyh0aGlzLmluaXRpYWxWYWx1ZSkvTWF0aC5MTjEwKSkvMTA6dGhpcy5fX3N0ZXA7YT1hLnRvU3RyaW5nKCk7dGhpcy5fX3ByZWNpc2lvbj0tMTxhLmluZGV4T2YoIi4iKT9hLmxlbmd0aC1hLmluZGV4T2YoIi4iKS0xOjB9O2Muc3VwZXJjbGFzcz1hO2IuZXh0ZW5kKGMucHJvdG90eXBlLGEucHJvdG90eXBlLHtzZXRWYWx1ZTpmdW5jdGlvbihhKXt2b2lkIDAhPT10aGlzLl9fbWluJiZhPHRoaXMuX19taW4/YT10aGlzLl9fbWluOgp2b2lkIDAhPT10aGlzLl9fbWF4JiZhPnRoaXMuX19tYXgmJihhPXRoaXMuX19tYXgpO3ZvaWQgMCE9PXRoaXMuX19zdGVwJiYwIT1hJXRoaXMuX19zdGVwJiYoYT1NYXRoLnJvdW5kKGEvdGhpcy5fX3N0ZXApKnRoaXMuX19zdGVwKTtyZXR1cm4gYy5zdXBlcmNsYXNzLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsYSl9LG1pbjpmdW5jdGlvbihhKXt0aGlzLl9fbWluPWE7cmV0dXJuIHRoaXN9LG1heDpmdW5jdGlvbihhKXt0aGlzLl9fbWF4PWE7cmV0dXJuIHRoaXN9LHN0ZXA6ZnVuY3Rpb24oYSl7dGhpcy5fX3N0ZXA9YTtyZXR1cm4gdGhpc319KTtyZXR1cm4gY30oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LnV0aWxzLmNvbW1vbik7CmRhdC5jb250cm9sbGVycy5OdW1iZXJDb250cm9sbGVyQm94PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhLGYsayl7ZnVuY3Rpb24gcCgpe3ZhciBhPXBhcnNlRmxvYXQobS5fX2lucHV0LnZhbHVlKTtjLmlzTmFOKGEpfHxtLnNldFZhbHVlKGEpfWZ1bmN0aW9uIGgoYSl7dmFyIGI9ci1hLmNsaWVudFk7bS5zZXRWYWx1ZShtLmdldFZhbHVlKCkrYiptLl9faW1wbGllZFN0ZXApO3I9YS5jbGllbnRZfWZ1bmN0aW9uIGcoKXtiLnVuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIsaCk7Yi51bmJpbmQod2luZG93LCJtb3VzZXVwIixnKX10aGlzLl9fdHJ1bmNhdGlvblN1c3BlbmRlZD0hMTtkLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGEsZixrKTt2YXIgbT10aGlzLHI7dGhpcy5fX2lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dGhpcy5fX2lucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTtiLmJpbmQodGhpcy5fX2lucHV0LCJjaGFuZ2UiLHApO2IuYmluZCh0aGlzLl9faW5wdXQsCiJibHVyIixmdW5jdGlvbigpe3AoKTttLl9fb25GaW5pc2hDaGFuZ2UmJm0uX19vbkZpbmlzaENoYW5nZS5jYWxsKG0sbS5nZXRWYWx1ZSgpKX0pO2IuYmluZCh0aGlzLl9faW5wdXQsIm1vdXNlZG93biIsZnVuY3Rpb24oYSl7Yi5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIixoKTtiLmJpbmQod2luZG93LCJtb3VzZXVwIixnKTtyPWEuY2xpZW50WX0pO2IuYmluZCh0aGlzLl9faW5wdXQsImtleWRvd24iLGZ1bmN0aW9uKGEpezEzPT09YS5rZXlDb2RlJiYobS5fX3RydW5jYXRpb25TdXNwZW5kZWQ9ITAsdGhpcy5ibHVyKCksbS5fX3RydW5jYXRpb25TdXNwZW5kZWQ9ITEpfSk7dGhpcy51cGRhdGVEaXNwbGF5KCk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19pbnB1dCl9O2Quc3VwZXJjbGFzcz1hO2MuZXh0ZW5kKGQucHJvdG90eXBlLGEucHJvdG90eXBlLHt1cGRhdGVEaXNwbGF5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fX2lucHV0LGI7aWYodGhpcy5fX3RydW5jYXRpb25TdXNwZW5kZWQpYj0KdGhpcy5nZXRWYWx1ZSgpO2Vsc2V7Yj10aGlzLmdldFZhbHVlKCk7dmFyIGM9TWF0aC5wb3coMTAsdGhpcy5fX3ByZWNpc2lvbik7Yj1NYXRoLnJvdW5kKGIqYykvY31hLnZhbHVlPWI7cmV0dXJuIGQuc3VwZXJjbGFzcy5wcm90b3R5cGUudXBkYXRlRGlzcGxheS5jYWxsKHRoaXMpfX0pO3JldHVybiBkfShkYXQuY29udHJvbGxlcnMuTnVtYmVyQ29udHJvbGxlcixkYXQuZG9tLmRvbSxkYXQudXRpbHMuY29tbW9uKTsKZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJTbGlkZXI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1mdW5jdGlvbihhLGMsZCxlLG0pe2Z1bmN0aW9uIHIoYSl7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjPWIuZ2V0T2Zmc2V0KG4uX19iYWNrZ3JvdW5kKSxmPWIuZ2V0V2lkdGgobi5fX2JhY2tncm91bmQpO24uc2V0VmFsdWUobi5fX21pbisoYS5jbGllbnRYLWMubGVmdCkvKGMubGVmdCtmLWMubGVmdCkqKG4uX19tYXgtbi5fX21pbikpO3JldHVybiExfWZ1bmN0aW9uIHMoKXtiLnVuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIscik7Yi51bmJpbmQod2luZG93LCJtb3VzZXVwIixzKTtuLl9fb25GaW5pc2hDaGFuZ2UmJm4uX19vbkZpbmlzaENoYW5nZS5jYWxsKG4sbi5nZXRWYWx1ZSgpKX1mLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGEsYyx7bWluOmQsbWF4OmUsc3RlcDptfSk7dmFyIG49dGhpczt0aGlzLl9fYmFja2dyb3VuZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKdGhpcy5fX2ZvcmVncm91bmQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5iaW5kKHRoaXMuX19iYWNrZ3JvdW5kLCJtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2IuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIscik7Yi5iaW5kKHdpbmRvdywibW91c2V1cCIscyk7cihhKX0pO2IuYWRkQ2xhc3ModGhpcy5fX2JhY2tncm91bmQsInNsaWRlciIpO2IuYWRkQ2xhc3ModGhpcy5fX2ZvcmVncm91bmQsInNsaWRlci1mZyIpO3RoaXMudXBkYXRlRGlzcGxheSgpO3RoaXMuX19iYWNrZ3JvdW5kLmFwcGVuZENoaWxkKHRoaXMuX19mb3JlZ3JvdW5kKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2JhY2tncm91bmQpfTtmLnN1cGVyY2xhc3M9YTtmLnVzZURlZmF1bHRTdHlsZXM9ZnVuY3Rpb24oKXtjLmluamVjdChlKX07ZC5leHRlbmQoZi5wcm90b3R5cGUsYS5wcm90b3R5cGUse3VwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt0aGlzLl9fZm9yZWdyb3VuZC5zdHlsZS53aWR0aD0KKHRoaXMuZ2V0VmFsdWUoKS10aGlzLl9fbWluKS8odGhpcy5fX21heC10aGlzLl9fbWluKSoxMDArIiUiO3JldHVybiBmLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KTtyZXR1cm4gZn0oZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNzcyxkYXQudXRpbHMuY29tbW9uLCIuc2xpZGVyIHtcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xNSk7XG4gIGhlaWdodDogMWVtO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gIHBhZGRpbmc6IDAgMC41ZW07XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5zbGlkZXItZmcge1xuICBwYWRkaW5nOiAxcHggMCAycHggMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FhYTtcbiAgaGVpZ2h0OiAxZW07XG4gIG1hcmdpbi1sZWZ0OiAtMC41ZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xuICBib3JkZXItcmFkaXVzOiAxZW0gMCAwIDFlbTtcbn1cblxuLnNsaWRlci1mZzphZnRlciB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgYm9yZGVyLXJhZGl1czogMWVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXI6ICAxcHggc29saWQgI2FhYTtcbiAgY29udGVudDogJyc7XG4gIGZsb2F0OiByaWdodDtcbiAgbWFyZ2luLXJpZ2h0OiAtMWVtO1xuICBtYXJnaW4tdG9wOiAtMXB4O1xuICBoZWlnaHQ6IDAuOWVtO1xuICB3aWR0aDogMC45ZW07XG59Iik7CmRhdC5jb250cm9sbGVycy5GdW5jdGlvbkNvbnRyb2xsZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEsYyxrKXtkLnN1cGVyY2xhc3MuY2FsbCh0aGlzLGEsYyk7dmFyIHA9dGhpczt0aGlzLl9fYnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19idXR0b24uaW5uZXJIVE1MPXZvaWQgMD09PWs/IkZpcmUiOms7Yi5iaW5kKHRoaXMuX19idXR0b24sImNsaWNrIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7cC5maXJlKCk7cmV0dXJuITF9KTtiLmFkZENsYXNzKHRoaXMuX19idXR0b24sImJ1dHRvbiIpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fYnV0dG9uKX07ZC5zdXBlcmNsYXNzPWE7Yy5leHRlbmQoZC5wcm90b3R5cGUsYS5wcm90b3R5cGUse2ZpcmU6ZnVuY3Rpb24oKXt0aGlzLl9fb25DaGFuZ2UmJnRoaXMuX19vbkNoYW5nZS5jYWxsKHRoaXMpO3RoaXMuX19vbkZpbmlzaENoYW5nZSYmdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcywKdGhpcy5nZXRWYWx1ZSgpKTt0aGlzLmdldFZhbHVlKCkuY2FsbCh0aGlzLm9iamVjdCl9fSk7cmV0dXJuIGR9KGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLGRhdC5kb20uZG9tLGRhdC51dGlscy5jb21tb24pOwpkYXQuY29udHJvbGxlcnMuQm9vbGVhbkNvbnRyb2xsZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEsYyl7ZC5zdXBlcmNsYXNzLmNhbGwodGhpcyxhLGMpO3ZhciBrPXRoaXM7dGhpcy5fX3ByZXY9dGhpcy5nZXRWYWx1ZSgpO3RoaXMuX19jaGVja2JveD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3RoaXMuX19jaGVja2JveC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO2IuYmluZCh0aGlzLl9fY2hlY2tib3gsImNoYW5nZSIsZnVuY3Rpb24oKXtrLnNldFZhbHVlKCFrLl9fcHJldil9LCExKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2NoZWNrYm94KTt0aGlzLnVwZGF0ZURpc3BsYXkoKX07ZC5zdXBlcmNsYXNzPWE7Yy5leHRlbmQoZC5wcm90b3R5cGUsYS5wcm90b3R5cGUse3NldFZhbHVlOmZ1bmN0aW9uKGEpe2E9ZC5zdXBlcmNsYXNzLnByb3RvdHlwZS5zZXRWYWx1ZS5jYWxsKHRoaXMsYSk7dGhpcy5fX29uRmluaXNoQ2hhbmdlJiYKdGhpcy5fX29uRmluaXNoQ2hhbmdlLmNhbGwodGhpcyx0aGlzLmdldFZhbHVlKCkpO3RoaXMuX19wcmV2PXRoaXMuZ2V0VmFsdWUoKTtyZXR1cm4gYX0sdXBkYXRlRGlzcGxheTpmdW5jdGlvbigpeyEwPT09dGhpcy5nZXRWYWx1ZSgpPyh0aGlzLl9fY2hlY2tib3guc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLHRoaXMuX19jaGVja2JveC5jaGVja2VkPSEwKTp0aGlzLl9fY2hlY2tib3guY2hlY2tlZD0hMTtyZXR1cm4gZC5zdXBlcmNsYXNzLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5LmNhbGwodGhpcyl9fSk7cmV0dXJuIGR9KGRhdC5jb250cm9sbGVycy5Db250cm9sbGVyLGRhdC5kb20uZG9tLGRhdC51dGlscy5jb21tb24pOwpkYXQuY29sb3IudG9TdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2lmKDE9PWIuYXx8YS5pc1VuZGVmaW5lZChiLmEpKXtmb3IoYj1iLmhleC50b1N0cmluZygxNik7Nj5iLmxlbmd0aDspYj0iMCIrYjtyZXR1cm4iIyIrYn1yZXR1cm4icmdiYSgiK01hdGgucm91bmQoYi5yKSsiLCIrTWF0aC5yb3VuZChiLmcpKyIsIitNYXRoLnJvdW5kKGIuYikrIiwiK2IuYSsiKSJ9fShkYXQudXRpbHMuY29tbW9uKTsKZGF0LmNvbG9yLmludGVycHJldD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1be2xpdG11czpiLmlzU3RyaW5nLGNvbnZlcnNpb25zOntUSFJFRV9DSEFSX0hFWDp7cmVhZDpmdW5jdGlvbihhKXthPWEubWF0Y2goL14jKFtBLUYwLTldKShbQS1GMC05XSkoW0EtRjAtOV0pJC9pKTtyZXR1cm4gbnVsbD09PWE/ITE6e3NwYWNlOiJIRVgiLGhleDpwYXJzZUludCgiMHgiK2FbMV0udG9TdHJpbmcoKSthWzFdLnRvU3RyaW5nKCkrYVsyXS50b1N0cmluZygpK2FbMl0udG9TdHJpbmcoKSthWzNdLnRvU3RyaW5nKCkrYVszXS50b1N0cmluZygpKX19LHdyaXRlOmF9LFNJWF9DSEFSX0hFWDp7cmVhZDpmdW5jdGlvbihhKXthPWEubWF0Y2goL14jKFtBLUYwLTldezZ9KSQvaSk7cmV0dXJuIG51bGw9PT1hPyExOntzcGFjZToiSEVYIixoZXg6cGFyc2VJbnQoIjB4IithWzFdLnRvU3RyaW5nKCkpfX0sd3JpdGU6YX0sQ1NTX1JHQjp7cmVhZDpmdW5jdGlvbihhKXthPWEubWF0Y2goL15yZ2JcKFxzKiguKylccyosXHMqKC4rKVxzKixccyooLispXHMqXCkvKTsKcmV0dXJuIG51bGw9PT1hPyExOntzcGFjZToiUkdCIixyOnBhcnNlRmxvYXQoYVsxXSksZzpwYXJzZUZsb2F0KGFbMl0pLGI6cGFyc2VGbG9hdChhWzNdKX19LHdyaXRlOmF9LENTU19SR0JBOntyZWFkOmZ1bmN0aW9uKGEpe2E9YS5tYXRjaCgvXnJnYmFcKFxzKiguKylccyosXHMqKC4rKVxzKixccyooLispXHMqXCxccyooLispXHMqXCkvKTtyZXR1cm4gbnVsbD09PWE/ITE6e3NwYWNlOiJSR0IiLHI6cGFyc2VGbG9hdChhWzFdKSxnOnBhcnNlRmxvYXQoYVsyXSksYjpwYXJzZUZsb2F0KGFbM10pLGE6cGFyc2VGbG9hdChhWzRdKX19LHdyaXRlOmF9fX0se2xpdG11czpiLmlzTnVtYmVyLGNvbnZlcnNpb25zOntIRVg6e3JlYWQ6ZnVuY3Rpb24oYSl7cmV0dXJue3NwYWNlOiJIRVgiLGhleDphLGNvbnZlcnNpb25OYW1lOiJIRVgifX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGV4fX19fSx7bGl0bXVzOmIuaXNBcnJheSxjb252ZXJzaW9uczp7UkdCX0FSUkFZOntyZWFkOmZ1bmN0aW9uKGEpe3JldHVybiAzIT0KYS5sZW5ndGg/ITE6e3NwYWNlOiJSR0IiLHI6YVswXSxnOmFbMV0sYjphWzJdfX0sd3JpdGU6ZnVuY3Rpb24oYSl7cmV0dXJuW2EucixhLmcsYS5iXX19LFJHQkFfQVJSQVk6e3JlYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIDQhPWEubGVuZ3RoPyExOntzcGFjZToiUkdCIixyOmFbMF0sZzphWzFdLGI6YVsyXSxhOmFbM119fSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm5bYS5yLGEuZyxhLmIsYS5hXX19fX0se2xpdG11czpiLmlzT2JqZWN0LGNvbnZlcnNpb25zOntSR0JBX09CSjp7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm4gYi5pc051bWJlcihhLnIpJiZiLmlzTnVtYmVyKGEuZykmJmIuaXNOdW1iZXIoYS5iKSYmYi5pc051bWJlcihhLmEpP3tzcGFjZToiUkdCIixyOmEucixnOmEuZyxiOmEuYixhOmEuYX06ITF9LHdyaXRlOmZ1bmN0aW9uKGEpe3JldHVybntyOmEucixnOmEuZyxiOmEuYixhOmEuYX19fSxSR0JfT0JKOntyZWFkOmZ1bmN0aW9uKGEpe3JldHVybiBiLmlzTnVtYmVyKGEucikmJgpiLmlzTnVtYmVyKGEuZykmJmIuaXNOdW1iZXIoYS5iKT97c3BhY2U6IlJHQiIscjphLnIsZzphLmcsYjphLmJ9OiExfSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm57cjphLnIsZzphLmcsYjphLmJ9fX0sSFNWQV9PQko6e3JlYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuaXNOdW1iZXIoYS5oKSYmYi5pc051bWJlcihhLnMpJiZiLmlzTnVtYmVyKGEudikmJmIuaXNOdW1iZXIoYS5hKT97c3BhY2U6IkhTViIsaDphLmgsczphLnMsdjphLnYsYTphLmF9OiExfSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm57aDphLmgsczphLnMsdjphLnYsYTphLmF9fX0sSFNWX09CSjp7cmVhZDpmdW5jdGlvbihhKXtyZXR1cm4gYi5pc051bWJlcihhLmgpJiZiLmlzTnVtYmVyKGEucykmJmIuaXNOdW1iZXIoYS52KT97c3BhY2U6IkhTViIsaDphLmgsczphLnMsdjphLnZ9OiExfSx3cml0ZTpmdW5jdGlvbihhKXtyZXR1cm57aDphLmgsczphLnMsdjphLnZ9fX19fV07cmV0dXJuIGZ1bmN0aW9uKCl7ZD0hMTsKdmFyIGE9MTxhcmd1bWVudHMubGVuZ3RoP2IudG9BcnJheShhcmd1bWVudHMpOmFyZ3VtZW50c1swXTtiLmVhY2goZSxmdW5jdGlvbihlKXtpZihlLmxpdG11cyhhKSlyZXR1cm4gYi5lYWNoKGUuY29udmVyc2lvbnMsZnVuY3Rpb24oZSxoKXtjPWUucmVhZChhKTtpZighMT09PWQmJiExIT09YylyZXR1cm4gZD1jLGMuY29udmVyc2lvbk5hbWU9aCxjLmNvbnZlcnNpb249ZSxiLkJSRUFLfSksYi5CUkVBS30pO3JldHVybiBkfX0oZGF0LmNvbG9yLnRvU3RyaW5nLGRhdC51dGlscy5jb21tb24pOwpkYXQuR1VJPWRhdC5ndWkuR1VJPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGsscCxoLGcsbSxyLHMsbixxKXtmdW5jdGlvbiB5KGEsYixjLGcpe2lmKHZvaWQgMD09PWJbY10pdGhyb3cgRXJyb3IoIk9iamVjdCAiK2IrJyBoYXMgbm8gcHJvcGVydHkgIicrYysnIicpO2cuY29sb3I/Yj1uZXcgbShiLGMpOihiPVtiLGNdLmNvbmNhdChnLmZhY3RvcnlBcmdzKSxiPWQuYXBwbHkoYSxiKSk7Zy5iZWZvcmUgaW5zdGFuY2VvZiBlJiYoZy5iZWZvcmU9Zy5iZWZvcmUuX19saSk7RChhLGIpO24uYWRkQ2xhc3MoYi5kb21FbGVtZW50LCJjIik7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7bi5hZGRDbGFzcyhjLCJwcm9wZXJ0eS1uYW1lIik7Yy5pbm5lckhUTUw9Yi5wcm9wZXJ0eTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLmFwcGVuZENoaWxkKGMpO2YuYXBwZW5kQ2hpbGQoYi5kb21FbGVtZW50KTtnPXgoYSxmLGcuYmVmb3JlKTtuLmFkZENsYXNzKGcsdS5DTEFTU19DT05UUk9MTEVSX1JPVyk7Cm4uYWRkQ2xhc3MoZyx0eXBlb2YgYi5nZXRWYWx1ZSgpKTt3KGEsZyxiKTthLl9fY29udHJvbGxlcnMucHVzaChiKTtyZXR1cm4gYn1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpO2ImJmQuYXBwZW5kQ2hpbGQoYik7Yz9hLl9fdWwuaW5zZXJ0QmVmb3JlKGQscGFyYW1zLmJlZm9yZSk6YS5fX3VsLmFwcGVuZENoaWxkKGQpO2Eub25SZXNpemUoKTtyZXR1cm4gZH1mdW5jdGlvbiB3KGEsYixjKXtjLl9fbGk9YjtjLl9fZ3VpPWE7cS5leHRlbmQoYyx7b3B0aW9uczpmdW5jdGlvbihiKXtpZigxPGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGMucmVtb3ZlKCkseShhLGMub2JqZWN0LGMucHJvcGVydHkse2JlZm9yZTpjLl9fbGkubmV4dEVsZW1lbnRTaWJsaW5nLGZhY3RvcnlBcmdzOltxLnRvQXJyYXkoYXJndW1lbnRzKV19KTtpZihxLmlzQXJyYXkoYil8fHEuaXNPYmplY3QoYikpcmV0dXJuIGMucmVtb3ZlKCkseShhLGMub2JqZWN0LGMucHJvcGVydHksCntiZWZvcmU6Yy5fX2xpLm5leHRFbGVtZW50U2libGluZyxmYWN0b3J5QXJnczpbYl19KX0sbmFtZTpmdW5jdGlvbihhKXtjLl9fbGkuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MPWE7cmV0dXJuIGN9LGxpc3RlbjpmdW5jdGlvbigpe2MuX19ndWkubGlzdGVuKGMpO3JldHVybiBjfSxyZW1vdmU6ZnVuY3Rpb24oKXtjLl9fZ3VpLnJlbW92ZShjKTtyZXR1cm4gY319KTtpZihjIGluc3RhbmNlb2YgaCl7dmFyIGQ9bmV3IHAoYy5vYmplY3QsYy5wcm9wZXJ0eSx7bWluOmMuX19taW4sbWF4OmMuX19tYXgsc3RlcDpjLl9fc3RlcH0pO3EuZWFjaChbInVwZGF0ZURpc3BsYXkiLCJvbkNoYW5nZSIsIm9uRmluaXNoQ2hhbmdlIl0sZnVuY3Rpb24oYSl7dmFyIGI9Y1thXSxlPWRbYV07Y1thXT1kW2FdPWZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtiLmFwcGx5KGMsYSk7cmV0dXJuIGUuYXBwbHkoZCxhKX19KTsKbi5hZGRDbGFzcyhiLCJoYXMtc2xpZGVyIik7Yy5kb21FbGVtZW50Lmluc2VydEJlZm9yZShkLmRvbUVsZW1lbnQsYy5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKX1lbHNlIGlmKGMgaW5zdGFuY2VvZiBwKXt2YXIgZT1mdW5jdGlvbihiKXtyZXR1cm4gcS5pc051bWJlcihjLl9fbWluKSYmcS5pc051bWJlcihjLl9fbWF4KT8oYy5yZW1vdmUoKSx5KGEsYy5vYmplY3QsYy5wcm9wZXJ0eSx7YmVmb3JlOmMuX19saS5uZXh0RWxlbWVudFNpYmxpbmcsZmFjdG9yeUFyZ3M6W2MuX19taW4sYy5fX21heCxjLl9fc3RlcF19KSk6Yn07Yy5taW49cS5jb21wb3NlKGUsYy5taW4pO2MubWF4PXEuY29tcG9zZShlLGMubWF4KX1lbHNlIGMgaW5zdGFuY2VvZiBmPyhuLmJpbmQoYiwiY2xpY2siLGZ1bmN0aW9uKCl7bi5mYWtlRXZlbnQoYy5fX2NoZWNrYm94LCJjbGljayIpfSksbi5iaW5kKGMuX19jaGVja2JveCwiY2xpY2siLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KSk6CmMgaW5zdGFuY2VvZiBrPyhuLmJpbmQoYiwiY2xpY2siLGZ1bmN0aW9uKCl7bi5mYWtlRXZlbnQoYy5fX2J1dHRvbiwiY2xpY2siKX0pLG4uYmluZChiLCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7bi5hZGRDbGFzcyhjLl9fYnV0dG9uLCJob3ZlciIpfSksbi5iaW5kKGIsIm1vdXNlb3V0IixmdW5jdGlvbigpe24ucmVtb3ZlQ2xhc3MoYy5fX2J1dHRvbiwiaG92ZXIiKX0pKTpjIGluc3RhbmNlb2YgbSYmKG4uYWRkQ2xhc3MoYiwiY29sb3IiKSxjLnVwZGF0ZURpc3BsYXk9cS5jb21wb3NlKGZ1bmN0aW9uKGEpe2Iuc3R5bGUuYm9yZGVyTGVmdENvbG9yPWMuX19jb2xvci50b1N0cmluZygpO3JldHVybiBhfSxjLnVwZGF0ZURpc3BsYXkpLGMudXBkYXRlRGlzcGxheSgpKTtjLnNldFZhbHVlPXEuY29tcG9zZShmdW5jdGlvbihiKXthLmdldFJvb3QoKS5fX3ByZXNldF9zZWxlY3QmJmMuaXNNb2RpZmllZCgpJiZHKGEuZ2V0Um9vdCgpLCEwKTtyZXR1cm4gYn0sYy5zZXRWYWx1ZSl9ZnVuY3Rpb24gRChhLApiKXt2YXIgYz1hLmdldFJvb3QoKSxkPWMuX19yZW1lbWJlcmVkT2JqZWN0cy5pbmRleE9mKGIub2JqZWN0KTtpZigtMSE9ZCl7dmFyIGU9Yy5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tkXTt2b2lkIDA9PT1lJiYoZT17fSxjLl9fcmVtZW1iZXJlZE9iamVjdEluZGVjZXNUb0NvbnRyb2xsZXJzW2RdPWUpO2VbYi5wcm9wZXJ0eV09YjtpZihjLmxvYWQmJmMubG9hZC5yZW1lbWJlcmVkKXtjPWMubG9hZC5yZW1lbWJlcmVkO2lmKGNbYS5wcmVzZXRdKWM9Y1thLnByZXNldF07ZWxzZSBpZihjW0VdKWM9Y1tFXTtlbHNlIHJldHVybjtjW2RdJiZ2b2lkIDAhPT1jW2RdW2IucHJvcGVydHldJiYoZD1jW2RdW2IucHJvcGVydHldLGIuaW5pdGlhbFZhbHVlPWQsYi5zZXRWYWx1ZShkKSl9fX1mdW5jdGlvbiB0KGEpe3ZhciBiPWEuX19zYXZlX3Jvdz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpO24uYWRkQ2xhc3MoYS5kb21FbGVtZW50LCJoYXMtc2F2ZSIpO2EuX191bC5pbnNlcnRCZWZvcmUoYiwKYS5fX3VsLmZpcnN0Q2hpbGQpO24uYWRkQ2xhc3MoYiwic2F2ZS1yb3ciKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Yy5pbm5lckhUTUw9IiZuYnNwOyI7bi5hZGRDbGFzcyhjLCJidXR0b24gZ2VhcnMiKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7ZC5pbm5lckhUTUw9IlNhdmUiO24uYWRkQ2xhc3MoZCwiYnV0dG9uIik7bi5hZGRDbGFzcyhkLCJzYXZlIik7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2UuaW5uZXJIVE1MPSJOZXciO24uYWRkQ2xhc3MoZSwiYnV0dG9uIik7bi5hZGRDbGFzcyhlLCJzYXZlLWFzIik7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2cuaW5uZXJIVE1MPSJSZXZlcnQiO24uYWRkQ2xhc3MoZywiYnV0dG9uIik7bi5hZGRDbGFzcyhnLCJyZXZlcnQiKTt2YXIgZj1hLl9fcHJlc2V0X3NlbGVjdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTthLmxvYWQmJgphLmxvYWQucmVtZW1iZXJlZD9xLmVhY2goYS5sb2FkLnJlbWVtYmVyZWQsZnVuY3Rpb24oYixjKXtIKGEsYyxjPT1hLnByZXNldCl9KTpIKGEsRSwhMSk7bi5iaW5kKGYsImNoYW5nZSIsZnVuY3Rpb24oKXtmb3IodmFyIGI9MDtiPGEuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aDtiKyspYS5fX3ByZXNldF9zZWxlY3RbYl0uaW5uZXJIVE1MPWEuX19wcmVzZXRfc2VsZWN0W2JdLnZhbHVlO2EucHJlc2V0PXRoaXMudmFsdWV9KTtiLmFwcGVuZENoaWxkKGYpO2IuYXBwZW5kQ2hpbGQoYyk7Yi5hcHBlbmRDaGlsZChkKTtiLmFwcGVuZENoaWxkKGUpO2IuYXBwZW5kQ2hpbGQoZyk7aWYoQSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRnLXNhdmUtbG9jYWxseSIpLG09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRnLWxvY2FsLWV4cGxhaW4iKTtiLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZy1sb2NhbC1zdG9yYWdlIik7InRydWUiPT09CmxvY2FsU3RvcmFnZS5nZXRJdGVtKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrIi5pc0xvY2FsIikmJmIuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO3ZhciBoPWZ1bmN0aW9uKCl7bS5zdHlsZS5kaXNwbGF5PWEudXNlTG9jYWxTdG9yYWdlPyJibG9jayI6Im5vbmUifTtoKCk7bi5iaW5kKGIsImNoYW5nZSIsZnVuY3Rpb24oKXthLnVzZUxvY2FsU3RvcmFnZT0hYS51c2VMb2NhbFN0b3JhZ2U7aCgpfSl9dmFyIGs9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRnLW5ldy1jb25zdHJ1Y3RvciIpO24uYmluZChrLCJrZXlkb3duIixmdW5jdGlvbihhKXthLm1ldGFLZXkmJig2Nz09PWEud2hpY2h8fDY3PT1hLmtleUNvZGUpJiZKLmhpZGUoKX0pO24uYmluZChjLCJjbGljayIsZnVuY3Rpb24oKXtrLmlubmVySFRNTD1KU09OLnN0cmluZ2lmeShhLmdldFNhdmVPYmplY3QoKSx2b2lkIDAsMik7Si5zaG93KCk7ay5mb2N1cygpO2suc2VsZWN0KCl9KTtuLmJpbmQoZCwiY2xpY2siLApmdW5jdGlvbigpe2Euc2F2ZSgpfSk7bi5iaW5kKGUsImNsaWNrIixmdW5jdGlvbigpe3ZhciBiPXByb21wdCgiRW50ZXIgYSBuZXcgcHJlc2V0IG5hbWUuIik7YiYmYS5zYXZlQXMoYil9KTtuLmJpbmQoZywiY2xpY2siLGZ1bmN0aW9uKCl7YS5yZXZlcnQoKX0pfWZ1bmN0aW9uIHYoYSl7ZnVuY3Rpb24gYihnKXtnLnByZXZlbnREZWZhdWx0KCk7ZT1nLmNsaWVudFg7bi5hZGRDbGFzcyhhLl9fY2xvc2VCdXR0b24sdS5DTEFTU19EUkFHKTtuLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLGMpO24uYmluZCh3aW5kb3csIm1vdXNldXAiLGQpO3JldHVybiExfWZ1bmN0aW9uIGMoYil7Yi5wcmV2ZW50RGVmYXVsdCgpO2Eud2lkdGgrPWUtYi5jbGllbnRYO2Eub25SZXNpemUoKTtlPWIuY2xpZW50WDtyZXR1cm4hMX1mdW5jdGlvbiBkKCl7bi5yZW1vdmVDbGFzcyhhLl9fY2xvc2VCdXR0b24sdS5DTEFTU19EUkFHKTtuLnVuYmluZCh3aW5kb3csIm1vdXNlbW92ZSIsYyk7bi51bmJpbmQod2luZG93LAoibW91c2V1cCIsZCl9YS5fX3Jlc2l6ZV9oYW5kbGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cS5leHRlbmQoYS5fX3Jlc2l6ZV9oYW5kbGUuc3R5bGUse3dpZHRoOiI2cHgiLG1hcmdpbkxlZnQ6Ii0zcHgiLGhlaWdodDoiMjAwcHgiLGN1cnNvcjoiZXctcmVzaXplIixwb3NpdGlvbjoiYWJzb2x1dGUifSk7dmFyIGU7bi5iaW5kKGEuX19yZXNpemVfaGFuZGxlLCJtb3VzZWRvd24iLGIpO24uYmluZChhLl9fY2xvc2VCdXR0b24sIm1vdXNlZG93biIsYik7YS5kb21FbGVtZW50Lmluc2VydEJlZm9yZShhLl9fcmVzaXplX2hhbmRsZSxhLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQpfWZ1bmN0aW9uIEIoYSxiKXthLmRvbUVsZW1lbnQuc3R5bGUud2lkdGg9YisicHgiO2EuX19zYXZlX3JvdyYmYS5hdXRvUGxhY2UmJihhLl9fc2F2ZV9yb3cuc3R5bGUud2lkdGg9YisicHgiKTthLl9fY2xvc2VCdXR0b24mJihhLl9fY2xvc2VCdXR0b24uc3R5bGUud2lkdGg9YisicHgiKX0KZnVuY3Rpb24gQyhhLGIpe3ZhciBjPXt9O3EuZWFjaChhLl9fcmVtZW1iZXJlZE9iamVjdHMsZnVuY3Rpb24oZCxlKXt2YXIgZz17fTtxLmVhY2goYS5fX3JlbWVtYmVyZWRPYmplY3RJbmRlY2VzVG9Db250cm9sbGVyc1tlXSxmdW5jdGlvbihhLGMpe2dbY109Yj9hLmluaXRpYWxWYWx1ZTphLmdldFZhbHVlKCl9KTtjW2VdPWd9KTtyZXR1cm4gY31mdW5jdGlvbiBIKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtkLmlubmVySFRNTD1iO2QudmFsdWU9YjthLl9fcHJlc2V0X3NlbGVjdC5hcHBlbmRDaGlsZChkKTtjJiYoYS5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleD1hLl9fcHJlc2V0X3NlbGVjdC5sZW5ndGgtMSl9ZnVuY3Rpb24gRyhhLGIpe3ZhciBjPWEuX19wcmVzZXRfc2VsZWN0W2EuX19wcmVzZXRfc2VsZWN0LnNlbGVjdGVkSW5kZXhdO2MuaW5uZXJIVE1MPWI/Yy52YWx1ZSsiKiI6Yy52YWx1ZX1mdW5jdGlvbiBGKGEpezAhPWEubGVuZ3RoJiYKcihmdW5jdGlvbigpe0YoYSl9KTtxLmVhY2goYSxmdW5jdGlvbihhKXthLnVwZGF0ZURpc3BsYXkoKX0pfWEuaW5qZWN0KGMpO3ZhciBFPSJEZWZhdWx0IixBO3RyeXtBPSJsb2NhbFN0b3JhZ2UiaW4gd2luZG93JiZudWxsIT09d2luZG93LmxvY2FsU3RvcmFnZX1jYXRjaChPKXtBPSExfXZhciBKLEw9ITAsSSxLPSExLE09W10sdT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oZG9jdW1lbnQubG9jYXRpb24uaHJlZisiLmd1aSIsSlNPTi5zdHJpbmdpZnkoZC5nZXRTYXZlT2JqZWN0KCkpKX1mdW5jdGlvbiBjKCl7dmFyIGE9ZC5nZXRSb290KCk7YS53aWR0aCs9MTtxLmRlZmVyKGZ1bmN0aW9uKCl7YS53aWR0aC09MX0pfXZhciBkPXRoaXM7dGhpcy5kb21FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX191bD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ1bCIpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fdWwpOwpuLmFkZENsYXNzKHRoaXMuZG9tRWxlbWVudCwiZGciKTt0aGlzLl9fZm9sZGVycz17fTt0aGlzLl9fY29udHJvbGxlcnM9W107dGhpcy5fX3JlbWVtYmVyZWRPYmplY3RzPVtdO3RoaXMuX19yZW1lbWJlcmVkT2JqZWN0SW5kZWNlc1RvQ29udHJvbGxlcnM9W107dGhpcy5fX2xpc3RlbmluZz1bXTthPWF8fHt9O2E9cS5kZWZhdWx0cyhhLHthdXRvUGxhY2U6ITAsd2lkdGg6dS5ERUZBVUxUX1dJRFRIfSk7YT1xLmRlZmF1bHRzKGEse3Jlc2l6YWJsZTphLmF1dG9QbGFjZSxoaWRlYWJsZTphLmF1dG9QbGFjZX0pO3EuaXNVbmRlZmluZWQoYS5sb2FkKT9hLmxvYWQ9e3ByZXNldDpFfTphLnByZXNldCYmKGEubG9hZC5wcmVzZXQ9YS5wcmVzZXQpO3EuaXNVbmRlZmluZWQoYS5wYXJlbnQpJiZhLmhpZGVhYmxlJiZNLnB1c2godGhpcyk7YS5yZXNpemFibGU9cS5pc1VuZGVmaW5lZChhLnBhcmVudCkmJmEucmVzaXphYmxlO2EuYXV0b1BsYWNlJiZxLmlzVW5kZWZpbmVkKGEuc2Nyb2xsYWJsZSkmJgooYS5zY3JvbGxhYmxlPSEwKTt2YXIgZT1BJiYidHJ1ZSI9PT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmKyIuaXNMb2NhbCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3BhcmVudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEucGFyZW50fX0sc2Nyb2xsYWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuc2Nyb2xsYWJsZX19LGF1dG9QbGFjZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuYXV0b1BsYWNlfX0scHJlc2V0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5wYXJlbnQ/ZC5nZXRSb290KCkucHJlc2V0OmEubG9hZC5wcmVzZXR9LHNldDpmdW5jdGlvbihiKXtkLnBhcmVudD9kLmdldFJvb3QoKS5wcmVzZXQ9YjphLmxvYWQucHJlc2V0PWI7Zm9yKGI9MDtiPHRoaXMuX19wcmVzZXRfc2VsZWN0Lmxlbmd0aDtiKyspdGhpcy5fX3ByZXNldF9zZWxlY3RbYl0udmFsdWU9PXRoaXMucHJlc2V0JiYodGhpcy5fX3ByZXNldF9zZWxlY3Quc2VsZWN0ZWRJbmRleD0KYik7ZC5yZXZlcnQoKX19LHdpZHRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS53aWR0aH0sc2V0OmZ1bmN0aW9uKGIpe2Eud2lkdGg9YjtCKGQsYil9fSxuYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5uYW1lfSxzZXQ6ZnVuY3Rpb24oYil7YS5uYW1lPWI7ZiYmKGYuaW5uZXJIVE1MPWEubmFtZSl9fSxjbG9zZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBhLmNsb3NlZH0sc2V0OmZ1bmN0aW9uKGIpe2EuY2xvc2VkPWI7YS5jbG9zZWQ/bi5hZGRDbGFzcyhkLl9fdWwsdS5DTEFTU19DTE9TRUQpOm4ucmVtb3ZlQ2xhc3MoZC5fX3VsLHUuQ0xBU1NfQ0xPU0VEKTt0aGlzLm9uUmVzaXplKCk7ZC5fX2Nsb3NlQnV0dG9uJiYoZC5fX2Nsb3NlQnV0dG9uLmlubmVySFRNTD1iP3UuVEVYVF9PUEVOOnUuVEVYVF9DTE9TRUQpfX0sbG9hZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEubG9hZH19LHVzZUxvY2FsU3RvcmFnZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGV9LHNldDpmdW5jdGlvbihhKXtBJiYKKChlPWEpP24uYmluZCh3aW5kb3csInVubG9hZCIsYik6bi51bmJpbmQod2luZG93LCJ1bmxvYWQiLGIpLGxvY2FsU3RvcmFnZS5zZXRJdGVtKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrIi5pc0xvY2FsIixhKSl9fX0pO2lmKHEuaXNVbmRlZmluZWQoYS5wYXJlbnQpKXthLmNsb3NlZD0hMTtuLmFkZENsYXNzKHRoaXMuZG9tRWxlbWVudCx1LkNMQVNTX01BSU4pO24ubWFrZVNlbGVjdGFibGUodGhpcy5kb21FbGVtZW50LCExKTtpZihBJiZlKXtkLnVzZUxvY2FsU3RvcmFnZT0hMDt2YXIgZz1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShkb2N1bWVudC5sb2NhdGlvbi5ocmVmKyIuZ3VpIik7ZyYmKGEubG9hZD1KU09OLnBhcnNlKGcpKX10aGlzLl9fY2xvc2VCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX2Nsb3NlQnV0dG9uLmlubmVySFRNTD11LlRFWFRfQ0xPU0VEO24uYWRkQ2xhc3ModGhpcy5fX2Nsb3NlQnV0dG9uLHUuQ0xBU1NfQ0xPU0VfQlVUVE9OKTt0aGlzLmRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fX2Nsb3NlQnV0dG9uKTsKbi5iaW5kKHRoaXMuX19jbG9zZUJ1dHRvbiwiY2xpY2siLGZ1bmN0aW9uKCl7ZC5jbG9zZWQ9IWQuY2xvc2VkfSl9ZWxzZXt2b2lkIDA9PT1hLmNsb3NlZCYmKGEuY2xvc2VkPSEwKTt2YXIgZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhLm5hbWUpO24uYWRkQ2xhc3MoZiwiY29udHJvbGxlci1uYW1lIik7Zz14KGQsZik7bi5hZGRDbGFzcyh0aGlzLl9fdWwsdS5DTEFTU19DTE9TRUQpO24uYWRkQ2xhc3MoZywidGl0bGUiKTtuLmJpbmQoZywiY2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTtkLmNsb3NlZD0hZC5jbG9zZWQ7cmV0dXJuITF9KTthLmNsb3NlZHx8KHRoaXMuY2xvc2VkPSExKX1hLmF1dG9QbGFjZSYmKHEuaXNVbmRlZmluZWQoYS5wYXJlbnQpJiYoTCYmKEk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksbi5hZGRDbGFzcyhJLCJkZyIpLG4uYWRkQ2xhc3MoSSx1LkNMQVNTX0FVVE9fUExBQ0VfQ09OVEFJTkVSKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEkpLApMPSExKSxJLmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbWVudCksbi5hZGRDbGFzcyh0aGlzLmRvbUVsZW1lbnQsdS5DTEFTU19BVVRPX1BMQUNFKSksdGhpcy5wYXJlbnR8fEIoZCxhLndpZHRoKSk7bi5iaW5kKHdpbmRvdywicmVzaXplIixmdW5jdGlvbigpe2Qub25SZXNpemUoKX0pO24uYmluZCh0aGlzLl9fdWwsIndlYmtpdFRyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7ZC5vblJlc2l6ZSgpfSk7bi5iaW5kKHRoaXMuX191bCwidHJhbnNpdGlvbmVuZCIsZnVuY3Rpb24oKXtkLm9uUmVzaXplKCl9KTtuLmJpbmQodGhpcy5fX3VsLCJvVHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtkLm9uUmVzaXplKCl9KTt0aGlzLm9uUmVzaXplKCk7YS5yZXNpemFibGUmJnYodGhpcyk7ZC5nZXRSb290KCk7YS5wYXJlbnR8fGMoKX07dS50b2dnbGVIaWRlPWZ1bmN0aW9uKCl7Sz0hSztxLmVhY2goTSxmdW5jdGlvbihhKXthLmRvbUVsZW1lbnQuc3R5bGUuekluZGV4PUs/LTk5OTo5OTk7YS5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9Cks/MDoxfSl9O3UuQ0xBU1NfQVVUT19QTEFDRT0iYSI7dS5DTEFTU19BVVRPX1BMQUNFX0NPTlRBSU5FUj0iYWMiO3UuQ0xBU1NfTUFJTj0ibWFpbiI7dS5DTEFTU19DT05UUk9MTEVSX1JPVz0iY3IiO3UuQ0xBU1NfVE9PX1RBTEw9InRhbGxlci10aGFuLXdpbmRvdyI7dS5DTEFTU19DTE9TRUQ9ImNsb3NlZCI7dS5DTEFTU19DTE9TRV9CVVRUT049ImNsb3NlLWJ1dHRvbiI7dS5DTEFTU19EUkFHPSJkcmFnIjt1LkRFRkFVTFRfV0lEVEg9MjQ1O3UuVEVYVF9DTE9TRUQ9IkNsb3NlIENvbnRyb2xzIjt1LlRFWFRfT1BFTj0iT3BlbiBDb250cm9scyI7bi5iaW5kKHdpbmRvdywia2V5ZG93biIsZnVuY3Rpb24oYSl7InRleHQiPT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50eXBlfHw3MiE9PWEud2hpY2gmJjcyIT1hLmtleUNvZGV8fHUudG9nZ2xlSGlkZSgpfSwhMSk7cS5leHRlbmQodS5wcm90b3R5cGUse2FkZDpmdW5jdGlvbihhLGIpe3JldHVybiB5KHRoaXMsYSxiLHtmYWN0b3J5QXJnczpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsCjIpfSl9LGFkZENvbG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHkodGhpcyxhLGIse2NvbG9yOiEwfSl9LHJlbW92ZTpmdW5jdGlvbihhKXt0aGlzLl9fdWwucmVtb3ZlQ2hpbGQoYS5fX2xpKTt0aGlzLl9fY29udHJvbGxlcnMuc2xpY2UodGhpcy5fX2NvbnRyb2xsZXJzLmluZGV4T2YoYSksMSk7dmFyIGI9dGhpcztxLmRlZmVyKGZ1bmN0aW9uKCl7Yi5vblJlc2l6ZSgpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmF1dG9QbGFjZSYmSS5yZW1vdmVDaGlsZCh0aGlzLmRvbUVsZW1lbnQpfSxhZGRGb2xkZXI6ZnVuY3Rpb24oYSl7aWYodm9pZCAwIT09dGhpcy5fX2ZvbGRlcnNbYV0pdGhyb3cgRXJyb3IoJ1lvdSBhbHJlYWR5IGhhdmUgYSBmb2xkZXIgaW4gdGhpcyBHVUkgYnkgdGhlIG5hbWUgIicrYSsnIicpO3ZhciBiPXtuYW1lOmEscGFyZW50OnRoaXN9O2IuYXV0b1BsYWNlPXRoaXMuYXV0b1BsYWNlO3RoaXMubG9hZCYmdGhpcy5sb2FkLmZvbGRlcnMmJnRoaXMubG9hZC5mb2xkZXJzW2FdJiYKKGIuY2xvc2VkPXRoaXMubG9hZC5mb2xkZXJzW2FdLmNsb3NlZCxiLmxvYWQ9dGhpcy5sb2FkLmZvbGRlcnNbYV0pO2I9bmV3IHUoYik7dGhpcy5fX2ZvbGRlcnNbYV09YjthPXgodGhpcyxiLmRvbUVsZW1lbnQpO24uYWRkQ2xhc3MoYSwiZm9sZGVyIik7cmV0dXJuIGJ9LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZD0hMX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZD0hMH0sb25SZXNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJvb3QoKTtpZihhLnNjcm9sbGFibGUpe3ZhciBiPW4uZ2V0T2Zmc2V0KGEuX191bCkudG9wLGM9MDtxLmVhY2goYS5fX3VsLmNoaWxkTm9kZXMsZnVuY3Rpb24oYil7YS5hdXRvUGxhY2UmJmI9PT1hLl9fc2F2ZV9yb3d8fChjKz1uLmdldEhlaWdodChiKSl9KTt3aW5kb3cuaW5uZXJIZWlnaHQtYi0yMDxjPyhuLmFkZENsYXNzKGEuZG9tRWxlbWVudCx1LkNMQVNTX1RPT19UQUxMKSxhLl9fdWwuc3R5bGUuaGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodC0KYi0yMCsicHgiKToobi5yZW1vdmVDbGFzcyhhLmRvbUVsZW1lbnQsdS5DTEFTU19UT09fVEFMTCksYS5fX3VsLnN0eWxlLmhlaWdodD0iYXV0byIpfWEuX19yZXNpemVfaGFuZGxlJiZxLmRlZmVyKGZ1bmN0aW9uKCl7YS5fX3Jlc2l6ZV9oYW5kbGUuc3R5bGUuaGVpZ2h0PWEuX191bC5vZmZzZXRIZWlnaHQrInB4In0pO2EuX19jbG9zZUJ1dHRvbiYmKGEuX19jbG9zZUJ1dHRvbi5zdHlsZS53aWR0aD1hLndpZHRoKyJweCIpfSxyZW1lbWJlcjpmdW5jdGlvbigpe3EuaXNVbmRlZmluZWQoSikmJihKPW5ldyBzLEouZG9tRWxlbWVudC5pbm5lckhUTUw9Yik7aWYodGhpcy5wYXJlbnQpdGhyb3cgRXJyb3IoIllvdSBjYW4gb25seSBjYWxsIHJlbWVtYmVyIG9uIGEgdG9wIGxldmVsIEdVSS4iKTt2YXIgYT10aGlzO3EuZWFjaChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGZ1bmN0aW9uKGIpezA9PWEuX19yZW1lbWJlcmVkT2JqZWN0cy5sZW5ndGgmJnQoYSk7LTE9PQphLl9fcmVtZW1iZXJlZE9iamVjdHMuaW5kZXhPZihiKSYmYS5fX3JlbWVtYmVyZWRPYmplY3RzLnB1c2goYil9KTt0aGlzLmF1dG9QbGFjZSYmQih0aGlzLHRoaXMud2lkdGgpfSxnZXRSb290OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXM7YS5wYXJlbnQ7KWE9YS5wYXJlbnQ7cmV0dXJuIGF9LGdldFNhdmVPYmplY3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvYWQ7YS5jbG9zZWQ9dGhpcy5jbG9zZWQ7MDx0aGlzLl9fcmVtZW1iZXJlZE9iamVjdHMubGVuZ3RoJiYoYS5wcmVzZXQ9dGhpcy5wcmVzZXQsYS5yZW1lbWJlcmVkfHwoYS5yZW1lbWJlcmVkPXt9KSxhLnJlbWVtYmVyZWRbdGhpcy5wcmVzZXRdPUModGhpcykpO2EuZm9sZGVycz17fTtxLmVhY2godGhpcy5fX2ZvbGRlcnMsZnVuY3Rpb24oYixjKXthLmZvbGRlcnNbY109Yi5nZXRTYXZlT2JqZWN0KCl9KTtyZXR1cm4gYX0sc2F2ZTpmdW5jdGlvbigpe3RoaXMubG9hZC5yZW1lbWJlcmVkfHwodGhpcy5sb2FkLnJlbWVtYmVyZWQ9Cnt9KTt0aGlzLmxvYWQucmVtZW1iZXJlZFt0aGlzLnByZXNldF09Qyh0aGlzKTtHKHRoaXMsITEpfSxzYXZlQXM6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkLnJlbWVtYmVyZWR8fCh0aGlzLmxvYWQucmVtZW1iZXJlZD17fSx0aGlzLmxvYWQucmVtZW1iZXJlZFtFXT1DKHRoaXMsITApKTt0aGlzLmxvYWQucmVtZW1iZXJlZFthXT1DKHRoaXMpO3RoaXMucHJlc2V0PWE7SCh0aGlzLGEsITApfSxyZXZlcnQ6ZnVuY3Rpb24oYSl7cS5lYWNoKHRoaXMuX19jb250cm9sbGVycyxmdW5jdGlvbihiKXt0aGlzLmdldFJvb3QoKS5sb2FkLnJlbWVtYmVyZWQ/RChhfHx0aGlzLmdldFJvb3QoKSxiKTpiLnNldFZhbHVlKGIuaW5pdGlhbFZhbHVlKX0sdGhpcyk7cS5lYWNoKHRoaXMuX19mb2xkZXJzLGZ1bmN0aW9uKGEpe2EucmV2ZXJ0KGEpfSk7YXx8Ryh0aGlzLmdldFJvb3QoKSwhMSl9LGxpc3RlbjpmdW5jdGlvbihhKXt2YXIgYj0wPT10aGlzLl9fbGlzdGVuaW5nLmxlbmd0aDt0aGlzLl9fbGlzdGVuaW5nLnB1c2goYSk7CmImJkYodGhpcy5fX2xpc3RlbmluZyl9fSk7cmV0dXJuIHV9KGRhdC51dGlscy5jc3MsJzxkaXYgaWQ9ImRnLXNhdmUiIGNsYXNzPSJkZyBkaWFsb2d1ZSI+XG5cbiAgSGVyZVwncyB0aGUgbmV3IGxvYWQgcGFyYW1ldGVyIGZvciB5b3VyIDxjb2RlPkdVSTwvY29kZT5cJ3MgY29uc3RydWN0b3I6XG5cbiAgPHRleHRhcmVhIGlkPSJkZy1uZXctY29uc3RydWN0b3IiPjwvdGV4dGFyZWE+XG5cbiAgPGRpdiBpZD0iZGctc2F2ZS1sb2NhbGx5Ij5cblxuICAgIDxpbnB1dCBpZD0iZGctbG9jYWwtc3RvcmFnZSIgdHlwZT0iY2hlY2tib3giLz4gQXV0b21hdGljYWxseSBzYXZlXG4gICAgdmFsdWVzIHRvIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4gb24gZXhpdC5cblxuICAgIDxkaXYgaWQ9ImRnLWxvY2FsLWV4cGxhaW4iPlRoZSB2YWx1ZXMgc2F2ZWQgdG8gPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiB3aWxsXG4gICAgICBvdmVycmlkZSB0aG9zZSBwYXNzZWQgdG8gPGNvZGU+ZGF0LkdVSTwvY29kZT5cJ3MgY29uc3RydWN0b3IuIFRoaXMgbWFrZXMgaXRcbiAgICAgIGVhc2llciB0byB3b3JrIGluY3JlbWVudGFsbHksIGJ1dCA8Y29kZT5sb2NhbFN0b3JhZ2U8L2NvZGU+IGlzIGZyYWdpbGUsXG4gICAgICBhbmQgeW91ciBmcmllbmRzIG1heSBub3Qgc2VlIHRoZSBzYW1lIHZhbHVlcyB5b3UgZG8uXG4gICAgICBcbiAgICA8L2Rpdj5cbiAgICBcbiAgPC9kaXY+XG5cbjwvZGl2PicsCiIuZGcgdWx7bGlzdC1zdHlsZTpub25lO21hcmdpbjowO3BhZGRpbmc6MDt3aWR0aDoxMDAlO2NsZWFyOmJvdGh9LmRnLmFje3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDtyaWdodDowO2hlaWdodDowO3otaW5kZXg6MH0uZGc6bm90KC5hYykgLm1haW57b3ZlcmZsb3c6aGlkZGVufS5kZy5tYWluey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1vLXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjstbW96LXRyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjt0cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXJ9LmRnLm1haW4udGFsbGVyLXRoYW4td2luZG93e292ZXJmbG93LXk6YXV0b30uZGcubWFpbi50YWxsZXItdGhhbi13aW5kb3cgLmNsb3NlLWJ1dHRvbntvcGFjaXR5OjE7bWFyZ2luLXRvcDotMXB4O2JvcmRlci10b3A6MXB4IHNvbGlkICMyYzJjMmN9LmRnLm1haW4gdWwuY2xvc2VkIC5jbG9zZS1idXR0b257b3BhY2l0eToxICFpbXBvcnRhbnR9LmRnLm1haW46aG92ZXIgLmNsb3NlLWJ1dHRvbiwuZGcubWFpbiAuY2xvc2UtYnV0dG9uLmRyYWd7b3BhY2l0eToxfS5kZy5tYWluIC5jbG9zZS1idXR0b257LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgMC4xcyBsaW5lYXI7LW8tdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyOy1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IDAuMXMgbGluZWFyO3RyYW5zaXRpb246b3BhY2l0eSAwLjFzIGxpbmVhcjtib3JkZXI6MDtwb3NpdGlvbjphYnNvbHV0ZTtsaW5lLWhlaWdodDoxOXB4O2hlaWdodDoyMHB4O2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6IzAwMH0uZGcubWFpbiAuY2xvc2UtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzExMX0uZGcuYXtmbG9hdDpyaWdodDttYXJnaW4tcmlnaHQ6MTVweDtvdmVyZmxvdy14OmhpZGRlbn0uZGcuYS5oYXMtc2F2ZSB1bHttYXJnaW4tdG9wOjI3cHh9LmRnLmEuaGFzLXNhdmUgdWwuY2xvc2Vke21hcmdpbi10b3A6MH0uZGcuYSAuc2F2ZS1yb3d7cG9zaXRpb246Zml4ZWQ7dG9wOjA7ei1pbmRleDoxMDAyfS5kZyBsaXstd2Via2l0LXRyYW5zaXRpb246aGVpZ2h0IDAuMXMgZWFzZS1vdXQ7LW8tdHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dDstbW96LXRyYW5zaXRpb246aGVpZ2h0IDAuMXMgZWFzZS1vdXQ7dHJhbnNpdGlvbjpoZWlnaHQgMC4xcyBlYXNlLW91dH0uZGcgbGk6bm90KC5mb2xkZXIpe2N1cnNvcjphdXRvO2hlaWdodDoyN3B4O2xpbmUtaGVpZ2h0OjI3cHg7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MCA0cHggMCA1cHh9LmRnIGxpLmZvbGRlcntwYWRkaW5nOjA7Ym9yZGVyLWxlZnQ6NHB4IHNvbGlkIHJnYmEoMCwwLDAsMCl9LmRnIGxpLnRpdGxle2N1cnNvcjpwb2ludGVyO21hcmdpbi1sZWZ0Oi00cHh9LmRnIC5jbG9zZWQgbGk6bm90KC50aXRsZSksLmRnIC5jbG9zZWQgdWwgbGksLmRnIC5jbG9zZWQgdWwgbGkgPiAqe2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtib3JkZXI6MH0uZGcgLmNye2NsZWFyOmJvdGg7cGFkZGluZy1sZWZ0OjNweDtoZWlnaHQ6MjdweH0uZGcgLnByb3BlcnR5LW5hbWV7Y3Vyc29yOmRlZmF1bHQ7ZmxvYXQ6bGVmdDtjbGVhcjpsZWZ0O3dpZHRoOjQwJTtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uZGcgLmN7ZmxvYXQ6bGVmdDt3aWR0aDo2MCV9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17Ym9yZGVyOjA7bWFyZ2luLXRvcDo0cHg7cGFkZGluZzozcHg7d2lkdGg6MTAwJTtmbG9hdDpyaWdodH0uZGcgLmhhcy1zbGlkZXIgaW5wdXRbdHlwZT10ZXh0XXt3aWR0aDozMCU7bWFyZ2luLWxlZnQ6MH0uZGcgLnNsaWRlcntmbG9hdDpsZWZ0O3dpZHRoOjY2JTttYXJnaW4tbGVmdDotNXB4O21hcmdpbi1yaWdodDowO2hlaWdodDoxOXB4O21hcmdpbi10b3A6NHB4fS5kZyAuc2xpZGVyLWZne2hlaWdodDoxMDAlfS5kZyAuYyBpbnB1dFt0eXBlPWNoZWNrYm94XXttYXJnaW4tdG9wOjlweH0uZGcgLmMgc2VsZWN0e21hcmdpbi10b3A6NXB4fS5kZyAuY3IuZnVuY3Rpb24sLmRnIC5jci5mdW5jdGlvbiAucHJvcGVydHktbmFtZSwuZGcgLmNyLmZ1bmN0aW9uICosLmRnIC5jci5ib29sZWFuLC5kZyAuY3IuYm9vbGVhbiAqe2N1cnNvcjpwb2ludGVyfS5kZyAuc2VsZWN0b3J7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlO21hcmdpbi1sZWZ0Oi05cHg7bWFyZ2luLXRvcDoyM3B4O3otaW5kZXg6MTB9LmRnIC5jOmhvdmVyIC5zZWxlY3RvciwuZGcgLnNlbGVjdG9yLmRyYWd7ZGlzcGxheTpibG9ja30uZGcgbGkuc2F2ZS1yb3d7cGFkZGluZzowfS5kZyBsaS5zYXZlLXJvdyAuYnV0dG9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MHB4IDZweH0uZGcuZGlhbG9ndWV7YmFja2dyb3VuZC1jb2xvcjojMjIyO3dpZHRoOjQ2MHB4O3BhZGRpbmc6MTVweDtmb250LXNpemU6MTNweDtsaW5lLWhlaWdodDoxNXB4fSNkZy1uZXctY29uc3RydWN0b3J7cGFkZGluZzoxMHB4O2NvbG9yOiMyMjI7Zm9udC1mYW1pbHk6TW9uYWNvLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHg7Ym9yZGVyOjA7cmVzaXplOm5vbmU7Ym94LXNoYWRvdzppbnNldCAxcHggMXB4IDFweCAjODg4O3dvcmQtd3JhcDpicmVhay13b3JkO21hcmdpbjoxMnB4IDA7ZGlzcGxheTpibG9jazt3aWR0aDo0NDBweDtvdmVyZmxvdy15OnNjcm9sbDtoZWlnaHQ6MTAwcHg7cG9zaXRpb246cmVsYXRpdmV9I2RnLWxvY2FsLWV4cGxhaW57ZGlzcGxheTpub25lO2ZvbnQtc2l6ZToxMXB4O2xpbmUtaGVpZ2h0OjE3cHg7Ym9yZGVyLXJhZGl1czozcHg7YmFja2dyb3VuZC1jb2xvcjojMzMzO3BhZGRpbmc6OHB4O21hcmdpbi10b3A6MTBweH0jZGctbG9jYWwtZXhwbGFpbiBjb2Rle2ZvbnQtc2l6ZToxMHB4fSNkYXQtZ3VpLXNhdmUtbG9jYWxseXtkaXNwbGF5Om5vbmV9LmRne2NvbG9yOiNlZWU7Zm9udDoxMXB4ICdMdWNpZGEgR3JhbmRlJywgc2Fucy1zZXJpZjt0ZXh0LXNoYWRvdzowIC0xcHggMCAjMTExfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDo1cHg7YmFja2dyb3VuZDojMWExYTFhfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXJ7aGVpZ2h0OjA7ZGlzcGxheTpub25lfS5kZy5tYWluOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kOiM2NzY3Njd9LmRnIGxpOm5vdCguZm9sZGVyKXtiYWNrZ3JvdW5kOiMxYTFhMWE7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzJjMmMyY30uZGcgbGkuc2F2ZS1yb3d7bGluZS1oZWlnaHQ6MjVweDtiYWNrZ3JvdW5kOiNkYWQ1Y2I7Ym9yZGVyOjB9LmRnIGxpLnNhdmUtcm93IHNlbGVjdHttYXJnaW4tbGVmdDo1cHg7d2lkdGg6MTA4cHh9LmRnIGxpLnNhdmUtcm93IC5idXR0b257bWFyZ2luLWxlZnQ6NXB4O21hcmdpbi10b3A6MXB4O2JvcmRlci1yYWRpdXM6MnB4O2ZvbnQtc2l6ZTo5cHg7bGluZS1oZWlnaHQ6N3B4O3BhZGRpbmc6NHB4IDRweCA1cHggNHB4O2JhY2tncm91bmQ6I2M1YmRhZDtjb2xvcjojZmZmO3RleHQtc2hhZG93OjAgMXB4IDAgI2IwYTU4Zjtib3gtc2hhZG93OjAgLTFweCAwICNiMGE1OGY7Y3Vyc29yOnBvaW50ZXJ9LmRnIGxpLnNhdmUtcm93IC5idXR0b24uZ2VhcnN7YmFja2dyb3VuZDojYzViZGFkIHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFzQUFBQU5DQVlBQUFCLzlaUTdBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQVFKSlJFRlVlTnBpWUtBVS9QLy9Qd0dJQy9BcENBQmlCU0FXK0k4QUNsQWNnS3hRNFQ5aG9NQUVVcnh4MlFTR042K2VnRFgrL3ZXVDRlN044MkFNWW9QQXgvZXZ3V29Zb1NZYkFDWDJzN0t4Q3h6Y3NlekRoM2V2Rm9ERUJZVEVFcXljZ2dXQXpBOUF1VVNRUWdlWVBhOWZQdjYvWVdtL0FjeDVJUGI3dHkvZncrUVpibHc2N3ZEczhSMFlIeVFoZ09ieCt5QUprQnFtRzVkUFBEaDFhUE9HUi9ldWdXMEc0dmxJb1RJZnlGY0ErUWVraGhISmhQZFF4YmlBSWd1TUJUUVpyUEQ3MTA4TTZyb1dZREZRaUlBQXY2QW93LzFiRndYZ2lzK2YyTFVBeW53b0lhTmN6OFhOeDNEbDdNRUpVREdRcHg5Z3RROFlDdWVCK0QyNk9FQ0FBUURhZHQ3ZTQ2RDQyUUFBQUFCSlJVNUVya0pnZ2c9PSkgMnB4IDFweCBuby1yZXBlYXQ7aGVpZ2h0OjdweDt3aWR0aDo4cHh9LmRnIGxpLnNhdmUtcm93IC5idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojYmFiMTllO2JveC1zaGFkb3c6MCAtMXB4IDAgI2IwYTU4Zn0uZGcgbGkuZm9sZGVye2JvcmRlci1ib3R0b206MH0uZGcgbGkudGl0bGV7cGFkZGluZy1sZWZ0OjE2cHg7YmFja2dyb3VuZDojMDAwIHVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEkraEtnRnhvQ2dBT3c9PSkgNnB4IDEwcHggbm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4yKX0uZGcgLmNsb3NlZCBsaS50aXRsZXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhCUUFGQUpFQUFQLy8vL1B6OC8vLy8vLy8veUg1QkFFQUFBSUFMQUFBQUFBRkFBVUFBQUlJbEdJV3FNQ2JXQUVBT3c9PSl9LmRnIC5jci5ib29sZWFue2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjODA2Nzg3fS5kZyAuY3IuZnVuY3Rpb257Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICNlNjFkNWZ9LmRnIC5jci5udW1iZXJ7Ym9yZGVyLWxlZnQ6M3B4IHNvbGlkICMyZmExZDZ9LmRnIC5jci5udW1iZXIgaW5wdXRbdHlwZT10ZXh0XXtjb2xvcjojMmZhMWQ2fS5kZyAuY3Iuc3RyaW5ne2JvcmRlci1sZWZ0OjNweCBzb2xpZCAjMWVkMzZmfS5kZyAuY3Iuc3RyaW5nIGlucHV0W3R5cGU9dGV4dF17Y29sb3I6IzFlZDM2Zn0uZGcgLmNyLmZ1bmN0aW9uOmhvdmVyLC5kZyAuY3IuYm9vbGVhbjpob3ZlcntiYWNrZ3JvdW5kOiMxMTF9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF17YmFja2dyb3VuZDojMzAzMDMwO291dGxpbmU6bm9uZX0uZGcgLmMgaW5wdXRbdHlwZT10ZXh0XTpob3ZlcntiYWNrZ3JvdW5kOiMzYzNjM2N9LmRnIC5jIGlucHV0W3R5cGU9dGV4dF06Zm9jdXN7YmFja2dyb3VuZDojNDk0OTQ5O2NvbG9yOiNmZmZ9LmRnIC5jIC5zbGlkZXJ7YmFja2dyb3VuZDojMzAzMDMwO2N1cnNvcjpldy1yZXNpemV9LmRnIC5jIC5zbGlkZXItZmd7YmFja2dyb3VuZDojMmZhMWQ2fS5kZyAuYyAuc2xpZGVyOmhvdmVye2JhY2tncm91bmQ6IzNjM2MzY30uZGcgLmMgLnNsaWRlcjpob3ZlciAuc2xpZGVyLWZne2JhY2tncm91bmQ6IzQ0YWJkYX1cbiIsCmRhdC5jb250cm9sbGVycy5mYWN0b3J5PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGspe3JldHVybiBmdW5jdGlvbihwLGgsZyxtKXt2YXIgcj1wW2hdO2lmKGsuaXNBcnJheShnKXx8ay5pc09iamVjdChnKSlyZXR1cm4gbmV3IGEocCxoLGcpO2lmKGsuaXNOdW1iZXIocikpcmV0dXJuIGsuaXNOdW1iZXIoZykmJmsuaXNOdW1iZXIobSk/bmV3IGMocCxoLGcsbSk6bmV3IGIocCxoLHttaW46ZyxtYXg6bX0pO2lmKGsuaXNTdHJpbmcocikpcmV0dXJuIG5ldyBkKHAsaCk7aWYoay5pc0Z1bmN0aW9uKHIpKXJldHVybiBuZXcgZShwLGgsIiIpO2lmKGsuaXNCb29sZWFuKHIpKXJldHVybiBuZXcgZihwLGgpfX0oZGF0LmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXIsZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJCb3gsZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJTbGlkZXIsZGF0LmNvbnRyb2xsZXJzLlN0cmluZ0NvbnRyb2xsZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPQpmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGsoKXtwLnNldFZhbHVlKHAuX19pbnB1dC52YWx1ZSl9ZC5zdXBlcmNsYXNzLmNhbGwodGhpcyxhLGMpO3ZhciBwPXRoaXM7dGhpcy5fX2lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dGhpcy5fX2lucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTtiLmJpbmQodGhpcy5fX2lucHV0LCJrZXl1cCIsayk7Yi5iaW5kKHRoaXMuX19pbnB1dCwiY2hhbmdlIixrKTtiLmJpbmQodGhpcy5fX2lucHV0LCJibHVyIixmdW5jdGlvbigpe3AuX19vbkZpbmlzaENoYW5nZSYmcC5fX29uRmluaXNoQ2hhbmdlLmNhbGwocCxwLmdldFZhbHVlKCkpfSk7Yi5iaW5kKHRoaXMuX19pbnB1dCwia2V5ZG93biIsZnVuY3Rpb24oYSl7MTM9PT1hLmtleUNvZGUmJnRoaXMuYmx1cigpfSk7dGhpcy51cGRhdGVEaXNwbGF5KCk7dGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX19pbnB1dCl9O2Quc3VwZXJjbGFzcz1hO2MuZXh0ZW5kKGQucHJvdG90eXBlLAphLnByb3RvdHlwZSx7dXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe2IuaXNBY3RpdmUodGhpcy5fX2lucHV0KXx8KHRoaXMuX19pbnB1dC52YWx1ZT10aGlzLmdldFZhbHVlKCkpO3JldHVybiBkLnN1cGVyY2xhc3MucHJvdG90eXBlLnVwZGF0ZURpc3BsYXkuY2FsbCh0aGlzKX19KTtyZXR1cm4gZH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbiksZGF0LmNvbnRyb2xsZXJzLkZ1bmN0aW9uQ29udHJvbGxlcixkYXQuY29udHJvbGxlcnMuQm9vbGVhbkNvbnRyb2xsZXIsZGF0LnV0aWxzLmNvbW1vbiksZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmNvbnRyb2xsZXJzLkJvb2xlYW5Db250cm9sbGVyLGRhdC5jb250cm9sbGVycy5GdW5jdGlvbkNvbnRyb2xsZXIsZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJCb3gsZGF0LmNvbnRyb2xsZXJzLk51bWJlckNvbnRyb2xsZXJTbGlkZXIsZGF0LmNvbnRyb2xsZXJzLk9wdGlvbkNvbnRyb2xsZXIsCmRhdC5jb250cm9sbGVycy5Db2xvckNvbnRyb2xsZXI9ZnVuY3Rpb24oYSxiLGMsZCxlKXtmdW5jdGlvbiBmKGEsYixjLGQpe2Euc3R5bGUuYmFja2dyb3VuZD0iIjtlLmVhY2goaCxmdW5jdGlvbihlKXthLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiAiK2UrImxpbmVhci1ncmFkaWVudCgiK2IrIiwgIitjKyIgMCUsICIrZCsiIDEwMCUpOyAifSl9ZnVuY3Rpb24gayhhKXthLnN0eWxlLmJhY2tncm91bmQ9IiI7YS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwgI2ZmMDBmZiAxNyUsICMwMDAwZmYgMzQlLCAjMDBmZmZmIDUwJSwgIzAwZmYwMCA2NyUsICNmZmZmMDAgODQlLCAjZmYwMDAwIDEwMCUpOyI7YS5zdHlsZS5jc3NUZXh0Kz0iYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAgI2ZmMDAwMCAwJSwjZmYwMGZmIDE3JSwjMDAwMGZmIDM0JSwjMDBmZmZmIDUwJSwjMDBmZjAwIDY3JSwjZmZmZjAwIDg0JSwjZmYwMDAwIDEwMCUpOyI7CmEuc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7IjthLnN0eWxlLmNzc1RleHQrPSJiYWNrZ3JvdW5kOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgICNmZjAwMDAgMCUsI2ZmMDBmZiAxNyUsIzAwMDBmZiAzNCUsIzAwZmZmZiA1MCUsIzAwZmYwMCA2NyUsI2ZmZmYwMCA4NCUsI2ZmMDAwMCAxMDAlKTsiO2Euc3R5bGUuY3NzVGV4dCs9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0b3AsICAjZmYwMDAwIDAlLCNmZjAwZmYgMTclLCMwMDAwZmYgMzQlLCMwMGZmZmYgNTAlLCMwMGZmMDAgNjclLCNmZmZmMDAgODQlLCNmZjAwMDAgMTAwJSk7In12YXIgcD1mdW5jdGlvbihhLG0pe2Z1bmN0aW9uIGgoYSl7eShhKTtiLmJpbmQod2luZG93LCJtb3VzZW1vdmUiLHkpO2IuYmluZCh3aW5kb3csCiJtb3VzZXVwIixzKX1mdW5jdGlvbiBzKCl7Yi51bmJpbmQod2luZG93LCJtb3VzZW1vdmUiLHkpO2IudW5iaW5kKHdpbmRvdywibW91c2V1cCIscyl9ZnVuY3Rpb24gbigpe3ZhciBhPWQodGhpcy52YWx1ZSk7ITEhPT1hPyh3Ll9fY29sb3IuX19zdGF0ZT1hLHcuc2V0VmFsdWUody5fX2NvbG9yLnRvT3JpZ2luYWwoKSkpOnRoaXMudmFsdWU9dy5fX2NvbG9yLnRvU3RyaW5nKCl9ZnVuY3Rpb24gcSgpe2IudW5iaW5kKHdpbmRvdywibW91c2Vtb3ZlIix4KTtiLnVuYmluZCh3aW5kb3csIm1vdXNldXAiLHEpfWZ1bmN0aW9uIHkoYSl7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjPWIuZ2V0V2lkdGgody5fX3NhdHVyYXRpb25fZmllbGQpLGQ9Yi5nZXRPZmZzZXQody5fX3NhdHVyYXRpb25fZmllbGQpLGU9KGEuY2xpZW50WC1kLmxlZnQrZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0KS9jO2E9MS0oYS5jbGllbnRZLWQudG9wK2RvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKS9jOzE8YT9hPTE6MD4KYSYmKGE9MCk7MTxlP2U9MTowPmUmJihlPTApO3cuX19jb2xvci52PWE7dy5fX2NvbG9yLnM9ZTt3LnNldFZhbHVlKHcuX19jb2xvci50b09yaWdpbmFsKCkpO3JldHVybiExfWZ1bmN0aW9uIHgoYSl7YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBjPWIuZ2V0SGVpZ2h0KHcuX19odWVfZmllbGQpLGQ9Yi5nZXRPZmZzZXQody5fX2h1ZV9maWVsZCk7YT0xLShhLmNsaWVudFktZC50b3ArZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApL2M7MTxhP2E9MTowPmEmJihhPTApO3cuX19jb2xvci5oPTM2MCphO3cuc2V0VmFsdWUody5fX2NvbG9yLnRvT3JpZ2luYWwoKSk7cmV0dXJuITF9cC5zdXBlcmNsYXNzLmNhbGwodGhpcyxhLG0pO3RoaXMuX19jb2xvcj1uZXcgYyh0aGlzLmdldFZhbHVlKCkpO3RoaXMuX190ZW1wPW5ldyBjKDApO3ZhciB3PXRoaXM7dGhpcy5kb21FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2IubWFrZVNlbGVjdGFibGUodGhpcy5kb21FbGVtZW50LCExKTsKdGhpcy5fX3NlbGVjdG9yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19zZWxlY3Rvci5jbGFzc05hbWU9InNlbGVjdG9yIjt0aGlzLl9fc2F0dXJhdGlvbl9maWVsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5jbGFzc05hbWU9InNhdHVyYXRpb24tZmllbGQiO3RoaXMuX19maWVsZF9rbm9iPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuX19maWVsZF9rbm9iLmNsYXNzTmFtZT0iZmllbGQta25vYiI7dGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyPSIycHggc29saWQgIjt0aGlzLl9faHVlX2tub2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX2h1ZV9rbm9iLmNsYXNzTmFtZT0iaHVlLWtub2IiO3RoaXMuX19odWVfZmllbGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fX2h1ZV9maWVsZC5jbGFzc05hbWU9Imh1ZS1maWVsZCI7dGhpcy5fX2lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CnRoaXMuX19pbnB1dC50eXBlPSJ0ZXh0Ijt0aGlzLl9faW5wdXRfdGV4dFNoYWRvdz0iMCAxcHggMXB4ICI7Yi5iaW5kKHRoaXMuX19pbnB1dCwia2V5ZG93biIsZnVuY3Rpb24oYSl7MTM9PT1hLmtleUNvZGUmJm4uY2FsbCh0aGlzKX0pO2IuYmluZCh0aGlzLl9faW5wdXQsImJsdXIiLG4pO2IuYmluZCh0aGlzLl9fc2VsZWN0b3IsIm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmFkZENsYXNzKHRoaXMsImRyYWciKS5iaW5kKHdpbmRvdywibW91c2V1cCIsZnVuY3Rpb24oKXtiLnJlbW92ZUNsYXNzKHcuX19zZWxlY3RvciwiZHJhZyIpfSl9KTt2YXIgRD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmV4dGVuZCh0aGlzLl9fc2VsZWN0b3Iuc3R5bGUse3dpZHRoOiIxMjJweCIsaGVpZ2h0OiIxMDJweCIscGFkZGluZzoiM3B4IixiYWNrZ3JvdW5kQ29sb3I6IiMyMjIiLGJveFNoYWRvdzoiMHB4IDFweCAzcHggcmdiYSgwLDAsMCwwLjMpIn0pO2UuZXh0ZW5kKHRoaXMuX19maWVsZF9rbm9iLnN0eWxlLAp7cG9zaXRpb246ImFic29sdXRlIix3aWR0aDoiMTJweCIsaGVpZ2h0OiIxMnB4Iixib3JkZXI6dGhpcy5fX2ZpZWxkX2tub2JfYm9yZGVyKyguNT50aGlzLl9fY29sb3Iudj8iI2ZmZiI6IiMwMDAiKSxib3hTaGFkb3c6IjBweCAxcHggM3B4IHJnYmEoMCwwLDAsMC41KSIsYm9yZGVyUmFkaXVzOiIxMnB4Iix6SW5kZXg6MX0pO2UuZXh0ZW5kKHRoaXMuX19odWVfa25vYi5zdHlsZSx7cG9zaXRpb246ImFic29sdXRlIix3aWR0aDoiMTVweCIsaGVpZ2h0OiIycHgiLGJvcmRlclJpZ2h0OiI0cHggc29saWQgI2ZmZiIsekluZGV4OjF9KTtlLmV4dGVuZCh0aGlzLl9fc2F0dXJhdGlvbl9maWVsZC5zdHlsZSx7d2lkdGg6IjEwMHB4IixoZWlnaHQ6IjEwMHB4Iixib3JkZXI6IjFweCBzb2xpZCAjNTU1IixtYXJnaW5SaWdodDoiM3B4IixkaXNwbGF5OiJpbmxpbmUtYmxvY2siLGN1cnNvcjoicG9pbnRlciJ9KTtlLmV4dGVuZChELnN0eWxlLHt3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIiwKYmFja2dyb3VuZDoibm9uZSJ9KTtmKEQsInRvcCIsInJnYmEoMCwwLDAsMCkiLCIjMDAwIik7ZS5leHRlbmQodGhpcy5fX2h1ZV9maWVsZC5zdHlsZSx7d2lkdGg6IjE1cHgiLGhlaWdodDoiMTAwcHgiLGRpc3BsYXk6ImlubGluZS1ibG9jayIsYm9yZGVyOiIxcHggc29saWQgIzU1NSIsY3Vyc29yOiJucy1yZXNpemUifSk7ayh0aGlzLl9faHVlX2ZpZWxkKTtlLmV4dGVuZCh0aGlzLl9faW5wdXQuc3R5bGUse291dGxpbmU6Im5vbmUiLHRleHRBbGlnbjoiY2VudGVyIixjb2xvcjoiI2ZmZiIsYm9yZGVyOjAsZm9udFdlaWdodDoiYm9sZCIsdGV4dFNoYWRvdzp0aGlzLl9faW5wdXRfdGV4dFNoYWRvdysicmdiYSgwLDAsMCwwLjcpIn0pO2IuYmluZCh0aGlzLl9fc2F0dXJhdGlvbl9maWVsZCwibW91c2Vkb3duIixoKTtiLmJpbmQodGhpcy5fX2ZpZWxkX2tub2IsIm1vdXNlZG93biIsaCk7Yi5iaW5kKHRoaXMuX19odWVfZmllbGQsIm1vdXNlZG93biIsZnVuY3Rpb24oYSl7eChhKTtiLmJpbmQod2luZG93LAoibW91c2Vtb3ZlIix4KTtiLmJpbmQod2luZG93LCJtb3VzZXVwIixxKX0pO3RoaXMuX19zYXR1cmF0aW9uX2ZpZWxkLmFwcGVuZENoaWxkKEQpO3RoaXMuX19zZWxlY3Rvci5hcHBlbmRDaGlsZCh0aGlzLl9fZmllbGRfa25vYik7dGhpcy5fX3NlbGVjdG9yLmFwcGVuZENoaWxkKHRoaXMuX19zYXR1cmF0aW9uX2ZpZWxkKTt0aGlzLl9fc2VsZWN0b3IuYXBwZW5kQ2hpbGQodGhpcy5fX2h1ZV9maWVsZCk7dGhpcy5fX2h1ZV9maWVsZC5hcHBlbmRDaGlsZCh0aGlzLl9faHVlX2tub2IpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9faW5wdXQpO3RoaXMuZG9tRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9fc2VsZWN0b3IpO3RoaXMudXBkYXRlRGlzcGxheSgpfTtwLnN1cGVyY2xhc3M9YTtlLmV4dGVuZChwLnByb3RvdHlwZSxhLnByb3RvdHlwZSx7dXBkYXRlRGlzcGxheTpmdW5jdGlvbigpe3ZhciBhPWQodGhpcy5nZXRWYWx1ZSgpKTtpZighMSE9PWEpe3ZhciBiPSExOwplLmVhY2goYy5DT01QT05FTlRTLGZ1bmN0aW9uKGMpe2lmKCFlLmlzVW5kZWZpbmVkKGFbY10pJiYhZS5pc1VuZGVmaW5lZCh0aGlzLl9fY29sb3IuX19zdGF0ZVtjXSkmJmFbY10hPT10aGlzLl9fY29sb3IuX19zdGF0ZVtjXSlyZXR1cm4gYj0hMCx7fX0sdGhpcyk7YiYmZS5leHRlbmQodGhpcy5fX2NvbG9yLl9fc3RhdGUsYSl9ZS5leHRlbmQodGhpcy5fX3RlbXAuX19zdGF0ZSx0aGlzLl9fY29sb3IuX19zdGF0ZSk7dGhpcy5fX3RlbXAuYT0xO3ZhciBoPS41PnRoaXMuX19jb2xvci52fHwuNTx0aGlzLl9fY29sb3Iucz8yNTU6MCxrPTI1NS1oO2UuZXh0ZW5kKHRoaXMuX19maWVsZF9rbm9iLnN0eWxlLHttYXJnaW5MZWZ0OjEwMCp0aGlzLl9fY29sb3Iucy03KyJweCIsbWFyZ2luVG9wOjEwMCooMS10aGlzLl9fY29sb3IudiktNysicHgiLGJhY2tncm91bmRDb2xvcjp0aGlzLl9fdGVtcC50b1N0cmluZygpLGJvcmRlcjp0aGlzLl9fZmllbGRfa25vYl9ib3JkZXIrInJnYigiK2grCiIsIitoKyIsIitoKyIpIn0pO3RoaXMuX19odWVfa25vYi5zdHlsZS5tYXJnaW5Ub3A9MTAwKigxLXRoaXMuX19jb2xvci5oLzM2MCkrInB4Ijt0aGlzLl9fdGVtcC5zPTE7dGhpcy5fX3RlbXAudj0xO2YodGhpcy5fX3NhdHVyYXRpb25fZmllbGQsImxlZnQiLCIjZmZmIix0aGlzLl9fdGVtcC50b1N0cmluZygpKTtlLmV4dGVuZCh0aGlzLl9faW5wdXQuc3R5bGUse2JhY2tncm91bmRDb2xvcjp0aGlzLl9faW5wdXQudmFsdWU9dGhpcy5fX2NvbG9yLnRvU3RyaW5nKCksY29sb3I6InJnYigiK2grIiwiK2grIiwiK2grIikiLHRleHRTaGFkb3c6dGhpcy5fX2lucHV0X3RleHRTaGFkb3crInJnYmEoIitrKyIsIitrKyIsIitrKyIsLjcpIn0pfX0pO3ZhciBoPVsiLW1vei0iLCItby0iLCItd2Via2l0LSIsIi1tcy0iLCIiXTtyZXR1cm4gcH0oZGF0LmNvbnRyb2xsZXJzLkNvbnRyb2xsZXIsZGF0LmRvbS5kb20sZGF0LmNvbG9yLkNvbG9yPWZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSwKYixjKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXtpZigiUkdCIj09PXRoaXMuX19zdGF0ZS5zcGFjZSlyZXR1cm4gdGhpcy5fX3N0YXRlW2JdO2sodGhpcyxiLGMpO3JldHVybiB0aGlzLl9fc3RhdGVbYl19LHNldDpmdW5jdGlvbihhKXsiUkdCIiE9PXRoaXMuX19zdGF0ZS5zcGFjZSYmKGsodGhpcyxiLGMpLHRoaXMuX19zdGF0ZS5zcGFjZT0iUkdCIik7dGhpcy5fX3N0YXRlW2JdPWF9fSl9ZnVuY3Rpb24gZihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIse2dldDpmdW5jdGlvbigpe2lmKCJIU1YiPT09dGhpcy5fX3N0YXRlLnNwYWNlKXJldHVybiB0aGlzLl9fc3RhdGVbYl07cCh0aGlzKTtyZXR1cm4gdGhpcy5fX3N0YXRlW2JdfSxzZXQ6ZnVuY3Rpb24oYSl7IkhTViIhPT10aGlzLl9fc3RhdGUuc3BhY2UmJihwKHRoaXMpLHRoaXMuX19zdGF0ZS5zcGFjZT0iSFNWIik7dGhpcy5fX3N0YXRlW2JdPWF9fSl9ZnVuY3Rpb24gayhhLGMsZSl7aWYoIkhFWCI9PT0KYS5fX3N0YXRlLnNwYWNlKWEuX19zdGF0ZVtjXT1iLmNvbXBvbmVudF9mcm9tX2hleChhLl9fc3RhdGUuaGV4LGUpO2Vsc2UgaWYoIkhTViI9PT1hLl9fc3RhdGUuc3BhY2UpZC5leHRlbmQoYS5fX3N0YXRlLGIuaHN2X3RvX3JnYihhLl9fc3RhdGUuaCxhLl9fc3RhdGUucyxhLl9fc3RhdGUudikpO2Vsc2UgdGhyb3ciQ29ycnVwdGVkIGNvbG9yIHN0YXRlIjt9ZnVuY3Rpb24gcChhKXt2YXIgYz1iLnJnYl90b19oc3YoYS5yLGEuZyxhLmIpO2QuZXh0ZW5kKGEuX19zdGF0ZSx7czpjLnMsdjpjLnZ9KTtkLmlzTmFOKGMuaCk/ZC5pc1VuZGVmaW5lZChhLl9fc3RhdGUuaCkmJihhLl9fc3RhdGUuaD0wKTphLl9fc3RhdGUuaD1jLmh9dmFyIGg9ZnVuY3Rpb24oKXt0aGlzLl9fc3RhdGU9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoITE9PT10aGlzLl9fc3RhdGUpdGhyb3ciRmFpbGVkIHRvIGludGVycHJldCBjb2xvciBhcmd1bWVudHMiO3RoaXMuX19zdGF0ZS5hPXRoaXMuX19zdGF0ZS5hfHwKMX07aC5DT01QT05FTlRTPSJyIGcgYiBoIHMgdiBoZXggYSIuc3BsaXQoIiAiKTtkLmV4dGVuZChoLnByb3RvdHlwZSx7dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzKX0sdG9PcmlnaW5hbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fc3RhdGUuY29udmVyc2lvbi53cml0ZSh0aGlzKX19KTtlKGgucHJvdG90eXBlLCJyIiwyKTtlKGgucHJvdG90eXBlLCJnIiwxKTtlKGgucHJvdG90eXBlLCJiIiwwKTtmKGgucHJvdG90eXBlLCJoIik7ZihoLnByb3RvdHlwZSwicyIpO2YoaC5wcm90b3R5cGUsInYiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaC5wcm90b3R5cGUsImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3N0YXRlLmF9LHNldDpmdW5jdGlvbihhKXt0aGlzLl9fc3RhdGUuYT1hfX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShoLnByb3RvdHlwZSwiaGV4Iix7Z2V0OmZ1bmN0aW9uKCl7IkhFWCIhPT0hdGhpcy5fX3N0YXRlLnNwYWNlJiYodGhpcy5fX3N0YXRlLmhleD0KYi5yZ2JfdG9faGV4KHRoaXMucix0aGlzLmcsdGhpcy5iKSk7cmV0dXJuIHRoaXMuX19zdGF0ZS5oZXh9LHNldDpmdW5jdGlvbihhKXt0aGlzLl9fc3RhdGUuc3BhY2U9IkhFWCI7dGhpcy5fX3N0YXRlLmhleD1hfX0pO3JldHVybiBofShkYXQuY29sb3IuaW50ZXJwcmV0LGRhdC5jb2xvci5tYXRoPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJue2hzdl90b19yZ2I6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWEvNjAtTWF0aC5mbG9vcihhLzYwKSxmPWQqKDEtYyksaz1kKigxLWUqYyk7Yz1kKigxLSgxLWUpKmMpO2E9W1tkLGMsZl0sW2ssZCxmXSxbZixkLGNdLFtmLGssZF0sW2MsZixkXSxbZCxmLGtdXVtNYXRoLmZsb29yKGEvNjApJTZdO3JldHVybntyOjI1NSphWzBdLGc6MjU1KmFbMV0sYjoyNTUqYVsyXX19LHJnYl90b19oc3Y6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPU1hdGgubWluKGEsYyxkKSxmPU1hdGgubWF4KGEsYyxkKSxlPWYtZTtpZigwPT1mKXJldHVybntoOk5hTixzOjAsdjowfTsKYT0oYT09Zj8oYy1kKS9lOmM9PWY/MisoZC1hKS9lOjQrKGEtYykvZSkvNjswPmEmJihhKz0xKTtyZXR1cm57aDozNjAqYSxzOmUvZix2OmYvMjU1fX0scmdiX3RvX2hleDpmdW5jdGlvbihhLGMsZCl7YT10aGlzLmhleF93aXRoX2NvbXBvbmVudCgwLDIsYSk7YT10aGlzLmhleF93aXRoX2NvbXBvbmVudChhLDEsYyk7cmV0dXJuIHRoaXMuaGV4X3dpdGhfY29tcG9uZW50KGEsMCxkKX0sY29tcG9uZW50X2Zyb21faGV4OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGE+PjgqYyYyNTV9LGhleF93aXRoX2NvbXBvbmVudDpmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGQ8PChhPTgqYyl8YiZ+KDI1NTw8YSl9fX0oKSxkYXQuY29sb3IudG9TdHJpbmcsZGF0LnV0aWxzLmNvbW1vbiksZGF0LmNvbG9yLmludGVycHJldCxkYXQudXRpbHMuY29tbW9uKSxkYXQudXRpbHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fAp3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihhKXt3aW5kb3cuc2V0VGltZW91dChhLDFFMy82MCl9fSgpLGRhdC5kb20uQ2VudGVyZWREaXY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe3RoaXMuYmFja2dyb3VuZEVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5leHRlbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZSx7YmFja2dyb3VuZENvbG9yOiJyZ2JhKDAsMCwwLDAuOCkiLHRvcDowLGxlZnQ6MCxkaXNwbGF5OiJub25lIix6SW5kZXg6IjEwMDAiLG9wYWNpdHk6MCxXZWJraXRUcmFuc2l0aW9uOiJvcGFjaXR5IDAuMnMgbGluZWFyIn0pO2EubWFrZUZ1bGxzY3JlZW4odGhpcy5iYWNrZ3JvdW5kRWxlbWVudCk7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiO3RoaXMuZG9tRWxlbWVudD0KZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5leHRlbmQodGhpcy5kb21FbGVtZW50LnN0eWxlLHtwb3NpdGlvbjoiZml4ZWQiLGRpc3BsYXk6Im5vbmUiLHpJbmRleDoiMTAwMSIsb3BhY2l0eTowLFdlYmtpdFRyYW5zaXRpb246Ii13ZWJraXQtdHJhbnNmb3JtIDAuMnMgZWFzZS1vdXQsIG9wYWNpdHkgMC4ycyBsaW5lYXIifSk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmJhY2tncm91bmRFbGVtZW50KTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZG9tRWxlbWVudCk7dmFyIGM9dGhpczthLmJpbmQodGhpcy5iYWNrZ3JvdW5kRWxlbWVudCwiY2xpY2siLGZ1bmN0aW9uKCl7Yy5oaWRlKCl9KX07Yy5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5iYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayI7dGhpcy5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjt0aGlzLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eT0KMDt0aGlzLmRvbUVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtPSJzY2FsZSgxLjEpIjt0aGlzLmxheW91dCgpO2IuZGVmZXIoZnVuY3Rpb24oKXthLmJhY2tncm91bmRFbGVtZW50LnN0eWxlLm9wYWNpdHk9MTthLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eT0xO2EuZG9tRWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09InNjYWxlKDEpIn0pfTtjLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWZ1bmN0aW9uKCl7Yi5kb21FbGVtZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiO2IuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7YS51bmJpbmQoYi5kb21FbGVtZW50LCJ3ZWJraXRUcmFuc2l0aW9uRW5kIixjKTthLnVuYmluZChiLmRvbUVsZW1lbnQsInRyYW5zaXRpb25lbmQiLGMpO2EudW5iaW5kKGIuZG9tRWxlbWVudCwib1RyYW5zaXRpb25FbmQiLGMpfTthLmJpbmQodGhpcy5kb21FbGVtZW50LCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwKYyk7YS5iaW5kKHRoaXMuZG9tRWxlbWVudCwidHJhbnNpdGlvbmVuZCIsYyk7YS5iaW5kKHRoaXMuZG9tRWxlbWVudCwib1RyYW5zaXRpb25FbmQiLGMpO3RoaXMuYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUub3BhY2l0eT0wO3RoaXMuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PTA7dGhpcy5kb21FbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT0ic2NhbGUoMS4xKSJ9O2MucHJvdG90eXBlLmxheW91dD1mdW5jdGlvbigpe3RoaXMuZG9tRWxlbWVudC5zdHlsZS5sZWZ0PXdpbmRvdy5pbm5lcldpZHRoLzItYS5nZXRXaWR0aCh0aGlzLmRvbUVsZW1lbnQpLzIrInB4Ijt0aGlzLmRvbUVsZW1lbnQuc3R5bGUudG9wPXdpbmRvdy5pbm5lckhlaWdodC8yLWEuZ2V0SGVpZ2h0KHRoaXMuZG9tRWxlbWVudCkvMisicHgifTtyZXR1cm4gY30oZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbiksZGF0LmRvbS5kb20sZGF0LnV0aWxzLmNvbW1vbik7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dCYmRC5yZW1vdmVDaGlsZCh0LmVsZW1lbnQpO3N3aXRjaChhKXtjYXNlIG06dD1HO2JyZWFrO2Nhc2Ugcjp0PUY7YnJlYWs7Y2FzZSBzOnQ9RX10LnNldFNpemUoeC5vZmZzZXRXaWR0aCx4Lm9mZnNldEhlaWdodCk7RC5hcHBlbmRDaGlsZCh0LmVsZW1lbnQpfWZ1bmN0aW9uIGIoKXt2LnJlbW92ZShCKTt0LmNsZWFyKCk7Qz1uZXcgRlNTLlBsYW5lKGgud2lkdGgqdC53aWR0aCxoLmhlaWdodCp0LmhlaWdodCxoLnNsaWNlcyk7SD1uZXcgRlNTLk1hdGVyaWFsKGguYW1iaWVudCxoLmRpZmZ1c2UpO0I9bmV3IEZTUy5NZXNoKEMsSCk7di5hZGQoQik7dmFyIGEsYjtmb3IoYT1DLnZlcnRpY2VzLmxlbmd0aC0xOzA8PWE7YS0tKWI9Qy52ZXJ0aWNlc1thXSxiLmRlcHRoPU1hdGgucmFuZG9tSW5SYW5nZSgwLGgubWF4ZGVwdGgvMTApLGIuYW5jaG9yPUZTUy5WZWN0b3IzLmNsb25lKGIucG9zaXRpb24pfWZ1bmN0aW9uIGMoYSxiLGMsZCxlKXthPQoidW5kZWZpbmVkIiE9PXR5cGVvZiBhP2E6Zy5hbWJpZW50O2I9InVuZGVmaW5lZCIhPT10eXBlb2YgYj9iOnAoKTtjPSJ1bmRlZmluZWQiIT09dHlwZW9mIGM/YzpnLnhQb3M7ZD0idW5kZWZpbmVkIiE9PXR5cGVvZiBkP2Q6Zy55UG9zO2U9InVuZGVmaW5lZCIhPT10eXBlb2YgZT9lOmcuek9mZnNldDt0LmNsZWFyKCk7bGlnaHQ9bmV3IEZTUy5MaWdodChhLGIpO2xpZ2h0LmFtYmllbnRIZXg9bGlnaHQuYW1iaWVudC5mb3JtYXQoKTtsaWdodC5kaWZmdXNlSGV4PWxpZ2h0LmRpZmZ1c2UuZm9ybWF0KCk7bGlnaHQuc2V0UG9zaXRpb24oYyxkLGUpO3YuYWRkKGxpZ2h0KTtnLmRpZmZ1c2U9YjtnLnByb3h5PWxpZ2h0O2cucGlja2VkdXA9ITA7Zy5jdXJySW5kZXgrK31mdW5jdGlvbiBkKGEsYyl7dC5zZXRTaXplKGEsYyk7RlNTLlZlY3RvcjMuc2V0KHksdC5oYWxmV2lkdGgsdC5oYWxmSGVpZ2h0KTtiKCl9ZnVuY3Rpb24gZSgpe2YoKTt0LnJlbmRlcih2KTtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSl9CmZ1bmN0aW9uIGYoKXt2YXIgYSxiLGM9aC5kZXB0aC8xMDA7Zm9yKGE9Qy52ZXJ0aWNlcy5sZW5ndGgtMTswPD1hO2EtLSliPUMudmVydGljZXNbYV0sRlNTLlZlY3RvcjMuc2V0KGIucG9zaXRpb24sMSwxLGIuZGVwdGgqYyksRlNTLlZlY3RvcjMuYWRkKGIucG9zaXRpb24sYi5hbmNob3IpO0MuZGlydHk9ITB9ZnVuY3Rpb24gayhhKXthPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO2Euc3R5bGUuZGlzcGxheT0iYmxvY2siPT1hLnN0eWxlLmRpc3BsYXk/Im5vbmUiOiJibG9jayJ9ZnVuY3Rpb24gcCgpe3JldHVybiIjIisoTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikrIjAwMDAwMCIpLnNsaWNlKDIsOCl9dmFyIGg9e3dpZHRoOjEuMixoZWlnaHQ6MS4yLHNsaWNlczoyNTAsZGVwdGg6MCxtYXhkZXB0aDoyMDAsYW1iaWVudDoiIzU1NTU1NSIsZGlmZnVzZToiI0ZGRkZGRiJ9LGc9e2NvdW50OjAseFBvczowLHlQb3M6MjAwLHpPZmZzZXQ6MTAwLGFtYmllbnQ6IiM4ODAwNjYiLApkaWZmdXNlOiIjRkY4ODAwIixwaWNrZWR1cDohMCxwcm94eTohMSxjdXJySW5kZXg6MCxyYW5kb21pemU6ZnVuY3Rpb24oKXt2YXIgYSxiLGM7YT1NYXRoLmZsb29yKDMqTWF0aC5yYW5kb20oKSkrMTsxPT1hJiYoaC5kZXB0aD0wKTsyPT1hJiYoaC5kZXB0aD1NYXRoLnJhbmRvbUluUmFuZ2UoMCwxNTApKTszPT1hJiYoaC5kZXB0aD1NYXRoLnJhbmRvbUluUmFuZ2UoMTUwLDIwMCkpO2ZvcihsPXYubGlnaHRzLmxlbmd0aC0xOzA8PWw7bC0tKXthPU1hdGgucmFuZG9tSW5SYW5nZSgtQi5nZW9tZXRyeS53aWR0aC8yLEIuZ2VvbWV0cnkud2lkdGgvMik7Yj1NYXRoLnJhbmRvbUluUmFuZ2UoLUIuZ2VvbWV0cnkuaGVpZ2h0LzIsQi5nZW9tZXRyeS5oZWlnaHQvMik7Yz0yPHYubGlnaHRzLmxlbmd0aD9NYXRoLnJhbmRvbUluUmFuZ2UoMTAsODApOk1hdGgucmFuZG9tSW5SYW5nZSgxMCwxMDApO2xpZ2h0PXYubGlnaHRzW2xdO0ZTUy5WZWN0b3IzLnNldChsaWdodC5wb3NpdGlvbixhLGIsCmMpO3ZhciBkPXAoKSxlPXAoKTtsaWdodC5kaWZmdXNlLnNldChkKTtsaWdodC5kaWZmdXNlSGV4PWxpZ2h0LmRpZmZ1c2UuZm9ybWF0KCk7bGlnaHQuYW1iaWVudC5zZXQoZSk7bGlnaHQuYW1iaWVudEhleD1saWdodC5hbWJpZW50LmZvcm1hdCgpO2cueFBvcz1hO2cueVBvcz1iO2cuek9mZnNldD1jO2cuZGlmZnVzZT1kO2cuYW1iaWVudD1lO0EuX19mb2xkZXJzLkxpZ2h0Ll9fY29udHJvbGxlcnNbMV0udXBkYXRlRGlzcGxheSgpO0EuX19mb2xkZXJzLkxpZ2h0Ll9fY29udHJvbGxlcnNbMl0udXBkYXRlRGlzcGxheSgpfX19LG09IndlYmdsIixyPSJjYW52YXMiLHM9InN2ZyIsbj17cmVuZGVyZXI6cn0scT17d2lkdGg6MkUzLGhlaWdodDoxRTMsZXhwb3J0Q3VycmVudDpmdW5jdGlvbigpe3N3aXRjaChuLnJlbmRlcmVyKXtjYXNlIG06d2luZG93Lm9wZW4oRy5lbGVtZW50LnRvRGF0YVVSTCgpLCJfYmxhbmsiKTticmVhaztjYXNlIHI6d2luZG93Lm9wZW4oRi5lbGVtZW50LnRvRGF0YVVSTCgpLAoiX2JsYW5rIik7YnJlYWs7Y2FzZSBzOnZhciBhPSJkYXRhOmltYWdlL3N2Zyt4bWwsIitlbmNvZGVVUklDb21wb25lbnQoRC5pbm5lckhUTUwpO3dpbmRvdy5vcGVuKGEsIl9ibGFuayIpfX0sImV4cG9ydCI6ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZSxnPXRoaXMud2lkdGgvdC53aWR0aCxrPXRoaXMuaGVpZ2h0L3QuaGVpZ2h0O2E9aC5zbGljZXM7aC5zbGljZXM9TWF0aC5jZWlsKGEqZyoxLjQpO2QodGhpcy53aWR0aCx0aGlzLmhlaWdodCk7aC5zbGljZXM9YTtmb3IoYT12LmxpZ2h0cy5sZW5ndGgtMTswPD1hO2EtLSllPXYubGlnaHRzW2FdLGI9ZS5wb3NpdGlvblswXSxjPWUucG9zaXRpb25bMV0sej1lLnBvc2l0aW9uWzJdLEZTUy5WZWN0b3IzLnNldChlLnBvc2l0aW9uLGIqZyxjKmsseipnKTtmKCk7dC5yZW5kZXIodik7c3dpdGNoKG4ucmVuZGVyZXIpe2Nhc2UgbTp3aW5kb3cub3BlbihHLmVsZW1lbnQudG9EYXRhVVJMKCksIl9ibGFuayIpO2JyZWFrO2Nhc2Ugcjp3aW5kb3cub3BlbihGLmVsZW1lbnQudG9EYXRhVVJMKCksCiJfYmxhbmsiKTticmVhaztjYXNlIHM6YT0iZGF0YTppbWFnZS9zdmcreG1sLCIrZW5jb2RlVVJJQ29tcG9uZW50KEQuaW5uZXJIVE1MKSx3aW5kb3cub3BlbihhLCJfYmxhbmsiKX1kKHgub2Zmc2V0V2lkdGgseC5vZmZzZXRIZWlnaHQpO2ZvcihhPXYubGlnaHRzLmxlbmd0aC0xOzA8PWE7YS0tKWU9di5saWdodHNbYV0sYj1lLnBvc2l0aW9uWzBdLGM9ZS5wb3NpdGlvblsxXSx6PWUucG9zaXRpb25bMl0sRlNTLlZlY3RvcjMuc2V0KGUucG9zaXRpb24sYi9nLGMvayx6L2cpfX0seT1GU1MuVmVjdG9yMy5jcmVhdGUoKSx4PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250YWluZXIiKSx3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250cm9scyIpLEQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm91dHB1dCIpLHQsdixCLEMsSCxHLEYsRSxBO01vdXNldHJhcC5iaW5kKCJIIixmdW5jdGlvbigpe2soImNvbnRyb2xzIik7aygibGlua3MiKX0pO01vdXNldHJhcC5iaW5kKCJlbnRlciIsCmZ1bmN0aW9uKCl7Zy5jb3VudCsrO2MoKX0pO01vdXNldHJhcC5iaW5kKCJzcGFjZSIsZnVuY3Rpb24oKXtnLnBpY2tlZHVwPSFnLnBpY2tlZHVwfSk7Rz1uZXcgRlNTLldlYkdMUmVuZGVyZXI7Rj1uZXcgRlNTLkNhbnZhc1JlbmRlcmVyO0U9bmV3IEZTUy5TVkdSZW5kZXJlcjthKG4ucmVuZGVyZXIpO3Y9bmV3IEZTUy5TY2VuZTtiKCk7KGZ1bmN0aW9uKCl7Zm9yKHZhciBhPU1hdGguZmxvb3IoNCpNYXRoLnJhbmRvbSgpKSsxLTE7MDw9YTthLS0pYygpLGcuY291bnQrK30pKCk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsZnVuY3Rpb24oYSl7ZCh4Lm9mZnNldFdpZHRoLHgub2Zmc2V0SGVpZ2h0KTt0LnJlbmRlcih2KX0pO3guYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIixmdW5jdGlvbihhKXtnLnBpY2tlZHVwJiYoZy54UG9zPWEueC10LndpZHRoLzIsZy55UG9zPXQuaGVpZ2h0LzItYS55LGcucHJveHkuc2V0UG9zaXRpb24oZy54UG9zLGcueVBvcyxnLnByb3h5LnBvc2l0aW9uWzJdKSl9KTsKKGZ1bmN0aW9uKCl7dmFyIGQsZSxmO0E9bmV3IGRhdC5HVUkoe2F1dG9QbGFjZTohMX0pO3cuYXBwZW5kQ2hpbGQoQS5kb21FbGVtZW50KTtyZW5kZXJGb2xkZXI9QS5hZGRGb2xkZXIoIlJlbmRlciIpO21lc2hGb2xkZXI9QS5hZGRGb2xkZXIoIk1lc2giKTtsaWdodEZvbGRlcj1BLmFkZEZvbGRlcigiTGlnaHQiKTtleHBvcnRGb2xkZXI9QS5hZGRGb2xkZXIoIkV4cG9ydCIpO2xpZ2h0Rm9sZGVyLm9wZW4oKTtmPXJlbmRlckZvbGRlci5hZGQobiwicmVuZGVyZXIiLHt3ZWJnbDptLGNhbnZhczpyLHN2ZzpzfSk7Zi5vbkNoYW5nZShmdW5jdGlvbihiKXthKGIpfSk7Zj1tZXNoRm9sZGVyLmFkZENvbG9yKGgsImFtYmllbnQiKTtmLm9uQ2hhbmdlKGZ1bmN0aW9uKGEpe2Q9MDtmb3IoZT12Lm1lc2hlcy5sZW5ndGg7ZDxlO2QrKyl2Lm1lc2hlc1tkXS5tYXRlcmlhbC5hbWJpZW50LnNldChhKX0pO2Y9bWVzaEZvbGRlci5hZGRDb2xvcihoLCJkaWZmdXNlIik7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtkPQowO2ZvcihlPXYubWVzaGVzLmxlbmd0aDtkPGU7ZCsrKXYubWVzaGVzW2RdLm1hdGVyaWFsLmRpZmZ1c2Uuc2V0KGEpfSk7Zj1tZXNoRm9sZGVyLmFkZChoLCJ3aWR0aCIsLjA1LDIpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7Qy53aWR0aCE9PWEqdC53aWR0aCYmYigpfSk7Zj1tZXNoRm9sZGVyLmFkZChoLCJoZWlnaHQiLC4wNSwyKTtmLm9uQ2hhbmdlKGZ1bmN0aW9uKGEpe0MuaGVpZ2h0IT09YSp0LmhlaWdodCYmYigpfSk7Zj1tZXNoRm9sZGVyLmFkZChoLCJkZXB0aCIsMCxoLm1heGRlcHRoKS5saXN0ZW4oKTtmPW1lc2hGb2xkZXIuYWRkKGgsInNsaWNlcyIsMSw4MDApO2Yuc3RlcCgxKTtmLm9uQ2hhbmdlKGZ1bmN0aW9uKGEpe0Muc2xpY2VzIT09YSYmYigpfSk7Zj1saWdodEZvbGRlci5hZGQoZywiY3VyckluZGV4Iix7MToxLDI6MiwzOjMsNDo0LDU6NSw2OjYsNzo3fSkubmFtZSgiQ3VycmVudCBsaWdodCIpLmxpc3RlbigpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7Zy5wcm94eT0Kdi5saWdodHNbYS0xXTtnLmFtYmllbnQ9Zy5wcm94eS5hbWJpZW50LmhleDtnLmRpZmZ1c2U9Zy5wcm94eS5kaWZmdXNlLmhleDtnLnhQb3M9Zy5wcm94eS5wb3NpdGlvblswXTtnLnlQb3M9Zy5wcm94eS5wb3NpdGlvblsxXTtnLnpPZmZzZXQ9Zy5wcm94eS5wb3NpdGlvblsyXTtBLl9fZm9sZGVycy5MaWdodC5fX2NvbnRyb2xsZXJzWzFdLnVwZGF0ZURpc3BsYXkoKTtBLl9fZm9sZGVycy5MaWdodC5fX2NvbnRyb2xsZXJzWzJdLnVwZGF0ZURpc3BsYXkoKX0pO2Y9bGlnaHRGb2xkZXIuYWRkQ29sb3IoZywiYW1iaWVudCIpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7Zy5wcm94eS5hbWJpZW50LnNldChhKTtnLnByb3h5LmFtYmllbnRIZXg9Zy5wcm94eS5hbWJpZW50LmZvcm1hdCgpfSk7Zj1saWdodEZvbGRlci5hZGRDb2xvcihnLCJkaWZmdXNlIik7Zi5vbkNoYW5nZShmdW5jdGlvbihhKXtnLnByb3h5LmRpZmZ1c2Uuc2V0KGEpO2cucHJveHkuZGlmZnVzZUhleD1nLnByb3h5LmRpZmZ1c2UuZm9ybWF0KCl9KTsKZj1saWdodEZvbGRlci5hZGQoZywiY291bnQiLDEsNykubGlzdGVuKCk7Zi5zdGVwKDEpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7aWYodi5saWdodHMubGVuZ3RoIT09YSlpZihhPnYubGlnaHRzLmxlbmd0aCljKCk7ZWxzZXtmb3IobD1hO2w8PXYubGlnaHRzLmxlbmd0aDtsKyspbGlnaHQ9di5saWdodHNbbF0sdi5yZW1vdmUobGlnaHQpLGcuY3VyckluZGV4LS07Zy5wcm94eT12LmxpZ2h0c1tnLmN1cnJJbmRleC0xXTtnLnBpY2tlZHVwPSExO3QuY2xlYXIoKX19KTtmPWxpZ2h0Rm9sZGVyLmFkZChnLCJ4UG9zIiwtQi5nZW9tZXRyeS53aWR0aC8yLEIuZ2VvbWV0cnkud2lkdGgvMikubGlzdGVuKCk7Zi5zdGVwKDEpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7Zy5wcm94eS5zZXRQb3NpdGlvbihhLGcucHJveHkucG9zaXRpb25bMV0sZy5wcm94eS5wb3NpdGlvblsyXSl9KTtmPWxpZ2h0Rm9sZGVyLmFkZChnLCJ5UG9zIiwtQi5nZW9tZXRyeS5oZWlnaHQvMixCLmdlb21ldHJ5LmhlaWdodC8KMikubGlzdGVuKCk7Zi5zdGVwKDEpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7Zy5wcm94eS5zZXRQb3NpdGlvbihnLnByb3h5LnBvc2l0aW9uWzBdLGEsZy5wcm94eS5wb3NpdGlvblsyXSl9KTtmPWxpZ2h0Rm9sZGVyLmFkZChnLCJ6T2Zmc2V0IiwwLDFFMykubmFtZSgiRGlzdGFuY2UiKS5saXN0ZW4oKTtzY3JvbGxCdXR0b25EaXN0YW5jZT1OdW1iZXIoZy5wcm94eS5wb3NpdGlvblsyXSk7JCgiI2NvbnRhaW5lciIpLmJpbmQoIkRPTU1vdXNlU2Nyb2xsIixmdW5jdGlvbihhKXtzY3JvbGxCdXR0b25EaXN0YW5jZT0wPGEub3JpZ2luYWxFdmVudC5kZXRhaWw/TnVtYmVyKE1hdGgubWF4KDAsc2Nyb2xsQnV0dG9uRGlzdGFuY2UtYS5kZXRhaWwvNCkpOk51bWJlcihNYXRoLm1pbigxRTMsc2Nyb2xsQnV0dG9uRGlzdGFuY2UtYS5kZXRhaWwvNCkpO2cucHJveHkuc2V0UG9zaXRpb24oZy5wcm94eS5wb3NpdGlvblswXSxnLnByb3h5LnBvc2l0aW9uWzFdLHNjcm9sbEJ1dHRvbkRpc3RhbmNlKTsKZy56T2Zmc2V0PXNjcm9sbEJ1dHRvbkRpc3RhbmNlO2cuej1zY3JvbGxCdXR0b25EaXN0YW5jZTtBLl9fZm9sZGVycy5MaWdodC5fX2NvbnRyb2xsZXJzWzFdLnVwZGF0ZURpc3BsYXkoKTtBLl9fZm9sZGVycy5MaWdodC5fX2NvbnRyb2xsZXJzWzJdLnVwZGF0ZURpc3BsYXkoKTtyZXR1cm4hMX0pOyQoIiNjb250YWluZXIiKS5iaW5kKCJtb3VzZXdoZWVsIixmdW5jdGlvbihhKXtzY3JvbGxCdXR0b25EaXN0YW5jZT0wPmEub3JpZ2luYWxFdmVudC53aGVlbERlbHRhP051bWJlcihNYXRoLm1heCgwLHNjcm9sbEJ1dHRvbkRpc3RhbmNlK2Eub3JpZ2luYWxFdmVudC53aGVlbERlbHRhLzQpKTpOdW1iZXIoTWF0aC5taW4oMUUzLHNjcm9sbEJ1dHRvbkRpc3RhbmNlK2Eub3JpZ2luYWxFdmVudC53aGVlbERlbHRhLzQpKTtnLnByb3h5LnNldFBvc2l0aW9uKE51bWJlcihnLnByb3h5LnBvc2l0aW9uWzBdKSxOdW1iZXIoZy5wcm94eS5wb3NpdGlvblsxXSksc2Nyb2xsQnV0dG9uRGlzdGFuY2UpOwpnLnpPZmZzZXQ9c2Nyb2xsQnV0dG9uRGlzdGFuY2U7Zy56PXNjcm9sbEJ1dHRvbkRpc3RhbmNlO0EuX19mb2xkZXJzLkxpZ2h0Ll9fY29udHJvbGxlcnNbMV0udXBkYXRlRGlzcGxheSgpO0EuX19mb2xkZXJzLkxpZ2h0Ll9fY29udHJvbGxlcnNbMl0udXBkYXRlRGlzcGxheSgpO3JldHVybiExfSk7Zi5zdGVwKDEpO2Yub25DaGFuZ2UoZnVuY3Rpb24oYSl7Zy5wcm94eS5zZXRQb3NpdGlvbihnLnByb3h5LnBvc2l0aW9uWzBdLGcucHJveHkucG9zaXRpb25bMV0sYSl9KTtmPWxpZ2h0Rm9sZGVyLmFkZChnLCJyYW5kb21pemUiKTtmPWV4cG9ydEZvbGRlci5hZGQocSwid2lkdGgiLDEwMCwzRTMpO2Yuc3RlcCgxMDApO2Y9ZXhwb3J0Rm9sZGVyLmFkZChxLCJoZWlnaHQiLDEwMCwzRTMpO2Yuc3RlcCgxMDApO2Y9ZXhwb3J0Rm9sZGVyLmFkZChxLCJleHBvcnQiKS5uYW1lKCJleHBvcnQgYmlnIik7Zj1leHBvcnRGb2xkZXIuYWRkKHEsImV4cG9ydEN1cnJlbnQiKS5uYW1lKCJleHBvcnQgdGhpcyIpfSkoKTsKZy5yYW5kb21pemUoKTtkKHgub2Zmc2V0V2lkdGgseC5vZmZzZXRIZWlnaHQpO2UoKX0pKCk7Cg==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Sat, 08 Nov 2014 23:35:43 GMT",
                    "Content-Length": "84712",
                    "Date": "Sat, 08 Nov 2014 23:35:44 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
{
    "url": "http://localhost:9999/kirillsud/mapbox.js/mapbox.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "DOM data manipulation (DOM-based)",
    "issueType": 5247488,
    "severity": "Information",
    "confidence": "Firm",
    "issueBackground": "DOM-based DOM data manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a data field within the DOM that is used within the visible UI or client-side application logic. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the appearance or behavior of the client-side UI. An attacker may be able to leverage this to perform virtual defacement of the application, or possibly to induce the user to perform unintended actions.",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based DOM data manipulation vulnerabilities is not to dynamically write to DOM data fields any data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from being stored. In general, this is best achieved by using a whitelist of permitted values.",
    "issueDetail": "The application may be vulnerable to DOM-based DOM data manipulation. Data is read from <b>window.location</b> and written to <b>the 'value' property of a DOM element</b> via the following statements:<ul><li>var e = this ._tilej ... u = \"Copy and ...\";</li><li>c.type=\"text\",c.value=h;</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/kirillsud/mapbox.js/mapbox.js",
                "path": "/kirillsud/mapbox.js/mapbox.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9raXJpbGxzdWQvbWFwYm94LmpzL21hcGJveC5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTkzMjc5DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA5OjE1OjEyIEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwOToxNToxMiBHTVQNCg0KIWZ1bmN0aW9uIHQoZSxpLG4pe2Z1bmN0aW9uIG8oYSxyKXtpZighaVthXSl7aWYoIWVbYV0pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFyJiZsKXJldHVybiBsKGEsITApO2lmKHMpcmV0dXJuIHMoYSwhMCk7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrYSsiJyIpfXZhciBoPWlbYV09e2V4cG9ydHM6e319O2VbYV1bMF0uY2FsbChoLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIGk9ZVthXVsxXVt0XTtyZXR1cm4gbyhpP2k6dCl9LGgsaC5leHBvcnRzLHQsZSxpLG4pfXJldHVybiBpW2FdLmV4cG9ydHN9Zm9yKHZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGE9MDthPG4ubGVuZ3RoO2ErKylvKG5bYV0pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCl7dCgiLi9sZWFmbGV0IiksdCgiLi9tYXBib3giKX0seyIuL2xlYWZsZXQiOjIsIi4vbWFwYm94IjozfV0sMjpbZnVuY3Rpb24odCl7d2luZG93Lkw9dCgibGVhZmxldC9kaXN0L2xlYWZsZXQtc3JjIil9LHsibGVhZmxldC9kaXN0L2xlYWZsZXQtc3JjIjo2fV0sMzpbZnVuY3Rpb24odCxlKXt3aW5kb3cuTC5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoPSIvL2FwaS50aWxlcy5tYXBib3guY29tL21hcGJveC5qcy92Iit0KCIuL3BhY2thZ2UuanNvbiIpLnZlcnNpb24rIi9pbWFnZXMiLEwubWFwYm94PWUuZXhwb3J0cz17VkVSU0lPTjp0KCIuL3BhY2thZ2UuanNvbiIpLnZlcnNpb24sZ2VvY29kZXI6dCgiLi9zcmMvZ2VvY29kZXIiKSxtYXJrZXI6dCgiLi9zcmMvbWFya2VyIiksdGlsZUxheWVyOnQoIi4vc3JjL3RpbGVfbGF5ZXIiKSxpbmZvQ29udHJvbDp0KCIuL3NyYy9pbmZvX2NvbnRyb2wiKSxzaGFyZUNvbnRyb2w6dCgiLi9zcmMvc2hhcmVfY29udHJvbCIpLGxlZ2VuZENvbnRyb2w6dCgiLi9zcmMvbGVnZW5kX2NvbnRyb2wiKSxnZW9jb2RlckNvbnRyb2w6dCgiLi9zcmMvZ2VvY29kZXJfY29udHJvbCIpLGdyaWRDb250cm9sOnQoIi4vc3JjL2dyaWRfY29udHJvbCIpLGdyaWRMYXllcjp0KCIuL3NyYy9ncmlkX2xheWVyIiksbWFya2VyTGF5ZXI6dCgiLi9zcmMvbWFya2VyX2xheWVyIiksbWFwOnQoIi4vc3JjL21hcCIpLGNvbmZpZzp0KCIuL3NyYy9jb25maWciKSxzYW5pdGl6ZTp0KCJzYW5pdGl6ZS1jYWphIiksdGVtcGxhdGU6dCgibXVzdGFjaGUiKS50b19odG1sfX0seyIuL3BhY2thZ2UuanNvbiI6MTAsIi4vc3JjL2NvbmZpZyI6MTEsIi4vc3JjL2dlb2NvZGVyIjoxMiwiLi9zcmMvZ2VvY29kZXJfY29udHJvbCI6MTMsIi4vc3JjL2dyaWRfY29udHJvbCI6MTUsIi4vc3JjL2dyaWRfbGF5ZXIiOjE2LCIuL3NyYy9pbmZvX2NvbnRyb2wiOjE3LCIuL3NyYy9sZWdlbmRfY29udHJvbCI6MTgsIi4vc3JjL21hcCI6MjAsIi4vc3JjL21hcmtlciI6MjEsIi4vc3JjL21hcmtlcl9sYXllciI6MjIsIi4vc3JjL3NoYXJlX2NvbnRyb2wiOjI0LCIuL3NyYy90aWxlX2xheWVyIjoyNSxtdXN0YWNoZTo3LCJzYW5pdGl6ZS1jYWphIjo4fV0sNDpbZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiB0Pj0yMDAmJjMwMD50fHwzMDQ9PT10fWZ1bmN0aW9uIG8oKXt2b2lkIDA9PT1yLnN0YXR1c3x8bihyLnN0YXR1cyk/ZS5jYWxsKHIsbnVsbCxyKTplLmNhbGwocixyLG51bGwpfXZhciBzPSExO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93LlhNTEh0dHBSZXF1ZXN0KXJldHVybiBlKEVycm9yKCJCcm93c2VyIG5vdCBzdXBwb3J0ZWQiKSk7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpKXt2YXIgYT10Lm1hdGNoKC9eXHMqaHR0cHM/OlwvXC9bXlwvXSovKTtpPWEmJmFbMF0hPT1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmRvbWFpbisobG9jYXRpb24ucG9ydD8iOiIrbG9jYXRpb24ucG9ydDoiIil9dmFyIHI7aWYoIWl8fCJvYmplY3QiIT10eXBlb2Ygd2luZG93LlhEb21haW5SZXF1ZXN0JiYiZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LlhEb21haW5SZXF1ZXN0KXI9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtlbHNle3I9bmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdDt2YXIgbD1lO2U9ZnVuY3Rpb24oKXtpZihzKWwuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC5hcHBseSh0LGUpfSwwKX19fXJldHVybiJvbmxvYWQiaW4gcj9yLm9ubG9hZD1vOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmbygpfSxyLm9uZXJyb3I9ZnVuY3Rpb24odCl7ZS5jYWxsKHRoaXMsdHx8ITAsbnVsbCksZT1mdW5jdGlvbigpe319LHIub25wcm9ncmVzcz1mdW5jdGlvbigpe30sci5vbnRpbWVvdXQ9ZnVuY3Rpb24odCl7ZS5jYWxsKHRoaXMsdCxudWxsKSxlPWZ1bmN0aW9uKCl7fX0sci5vbmFib3J0PWZ1bmN0aW9uKHQpe2UuY2FsbCh0aGlzLHQsbnVsbCksZT1mdW5jdGlvbigpe319LHIub3BlbigiR0VUIix0LCEwKSxyLnNlbmQobnVsbCkscz0hMCxyfSJ1bmRlZmluZWQiIT10eXBlb2YgZSYmKGUuZXhwb3J0cz1pKX0se31dLDU6W2Z1bmN0aW9uKHQsZSxpKXshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtpZigiYnVnLXN0cmluZy1jaGFyLWluZGV4Ij09dClyZXR1cm4iYSIhPSJhIlswXTt2YXIgZSxpPSd7ImEiOlsxLHRydWUsZmFsc2UsbnVsbCwiXFx1MDAwMFxcYlxcblxcZlxcclxcdCJdfScsbj0ianNvbiI9PXQ7aWYobnx8Impzb24tc3RyaW5naWZ5Ij09dHx8Impzb24tcGFyc2UiPT10KXtpZigianNvbi1zdHJpbmdpZnkiPT10fHxuKXt2YXIgbz1sLnN0cmluZ2lmeSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBvJiZoO2lmKHIpeyhlPWZ1bmN0aW9uKCl7cmV0dXJuIDF9KS50b0pTT049ZTt0cnl7cj0iMCI9PT1vKDApJiYiMCI9PT1vKG5ldyBOdW1iZXIpJiYnIiInPT1vKG5ldyBTdHJpbmcpJiZvKGEpPT09cyYmbyhzKT09PXMmJm8oKT09PXMmJiIxIj09PW8oZSkmJiJbMV0iPT1vKFtlXSkmJiJbbnVsbF0iPT1vKFtzXSkmJiJudWxsIj09byhudWxsKSYmIltudWxsLG51bGwsbnVsbF0iPT1vKFtzLGEsbnVsbF0pJiZvKHthOltlLCEwLCExLG51bGwsIlx4MDBcYlxuXGZccgkiXX0pPT1pJiYiMSI9PT1vKG51bGwsZSkmJiJbXG4gMSxcbiAyXG5dIj09byhbMSwyXSxudWxsLDEpJiYnIi0yNzE4MjEtMDQtMjBUMDA6MDA6MDAuMDAwWiInPT1vKG5ldyBEYXRlKC04NjRlMTMpKSYmJyIrMjc1NzYwLTA5LTEzVDAwOjAwOjAwLjAwMFoiJz09byhuZXcgRGF0ZSg4NjRlMTMpKSYmJyItMDAwMDAxLTAxLTAxVDAwOjAwOjAwLjAwMFoiJz09byhuZXcgRGF0ZSgtNjIxOTg3NTUyZTUpKSYmJyIxOTY5LTEyLTMxVDIzOjU5OjU5Ljk5OVoiJz09byhuZXcgRGF0ZSgtMSkpfWNhdGNoKHUpe3I9ITF9fWlmKCFuKXJldHVybiByfWlmKCJqc29uLXBhcnNlIj09dHx8bil7dmFyIGM9bC5wYXJzZTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYyl0cnl7aWYoMD09PWMoIjAiKSYmIWMoITEpKXtlPWMoaSk7dmFyIHA9NT09ZS5hLmxlbmd0aCYmMT09PWUuYVswXTtpZihwKXt0cnl7cD0hYygnIgkiJyl9Y2F0Y2godSl7fWlmKHApdHJ5e3A9MSE9PWMoIjAxIil9Y2F0Y2godSl7fX19fWNhdGNoKHUpe3A9ITF9aWYoIW4pcmV0dXJuIHB9cmV0dXJuIHImJnB9fXZhciBuLG8scyxhPXt9LnRvU3RyaW5nLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCxsPSJvYmplY3QiPT10eXBlb2YgaSYmaTtsfHxyPyJvYmplY3QiPT10eXBlb2YgSlNPTiYmSlNPTj9sPyhsLnN0cmluZ2lmeT1KU09OLnN0cmluZ2lmeSxsLnBhcnNlPUpTT04ucGFyc2UpOmw9SlNPTjpyJiYobD10LkpTT049e30pOmw9dC5KU09OfHwodC5KU09OPXt9KTt2YXIgaD1uZXcgRGF0ZSgtMHhjNzgyYjViODAwY2VjKTt0cnl7aD0tMTA5MjUyPT1oLmdldFVUQ0Z1bGxZZWFyKCkmJjA9PT1oLmdldFVUQ01vbnRoKCkmJjE9PT1oLmdldFVUQ0RhdGUoKSYmMTA9PWguZ2V0VVRDSG91cnMoKSYmMzc9PWguZ2V0VVRDTWludXRlcygpJiY2PT1oLmdldFVUQ1NlY29uZHMoKSYmNzA4PT1oLmdldFVUQ01pbGxpc2Vjb25kcygpfWNhdGNoKHUpe31pZighZSgianNvbiIpKXt2YXIgYz0iW29iamVjdCBGdW5jdGlvbl0iLHA9IltvYmplY3QgRGF0ZV0iLGQ9IltvYmplY3QgTnVtYmVyXSIsbT0iW29iamVjdCBTdHJpbmddIixmPSJbb2JqZWN0IEFycmF5XSIsXz0iW29iamVjdCBCb29sZWFuXSIsZz1lKCJidWctc3RyaW5nLWNoYXItaW5kZXgiKTtpZighaCl2YXIgdj1NYXRoLmZsb29yLHk9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF0sTD1mdW5jdGlvbih0LGUpe3JldHVybiB5W2VdKzM2NSoodC0xOTcwKSt2KCh0LTE5NjkrKGU9KyhlPjEpKSkvNCktdigodC0xOTAxK2UpLzEwMCkrdigodC0xNjAxK2UpLzQwMCl9OyhuPXt9Lmhhc093blByb3BlcnR5KXx8KG49ZnVuY3Rpb24odCl7dmFyIGUsaT17fTtyZXR1cm4oaS5fX3Byb3RvX189bnVsbCxpLl9fcHJvdG9fXz17dG9TdHJpbmc6MX0saSkudG9TdHJpbmchPWE/bj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fcHJvdG9fXyxpPXQgaW4odGhpcy5fX3Byb3RvX189bnVsbCx0aGlzKTtyZXR1cm4gdGhpcy5fX3Byb3RvX189ZSxpfTooZT1pLmNvbnN0cnVjdG9yLG49ZnVuY3Rpb24odCl7dmFyIGk9KHRoaXMuY29uc3RydWN0b3J8fGUpLnByb3RvdHlwZTtyZXR1cm4gdCBpbiB0aGlzJiYhKHQgaW4gaSYmdGhpc1t0XT09PWlbdF0pfSksaT1udWxsLG4uY2FsbCh0aGlzLHQpfSk7dmFyIGI9eyJib29sZWFuIjoxLG51bWJlcjoxLHN0cmluZzoxLHVuZGVmaW5lZDoxfSxQPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dHlwZW9mIHRbZV07cmV0dXJuIm9iamVjdCI9PWk/ISF0W2VdOiFiW2ldfTtpZihvPWZ1bmN0aW9uKHQsZSl7dmFyIGksbyxzLHIsbD0wOyhpPWZ1bmN0aW9uKCl7dGhpcy52YWx1ZU9mPTB9KS5wcm90b3R5cGUudmFsdWVPZj0wLG89bmV3IGk7Zm9yKHMgaW4gbyluLmNhbGwobyxzKSYmbCsrO3JldHVybiBpPW89bnVsbCxsP3I9Mj09bD9mdW5jdGlvbih0LGUpe3ZhciBpLG89e30scz1hLmNhbGwodCk9PWM7Zm9yKGkgaW4gdClzJiYicHJvdG90eXBlIj09aXx8bi5jYWxsKG8saSl8fCEob1tpXT0xKXx8IW4uY2FsbCh0LGkpfHxlKGkpfTpmdW5jdGlvbih0LGUpe3ZhciBpLG8scz1hLmNhbGwodCk9PWM7Zm9yKGkgaW4gdClzJiYicHJvdG90eXBlIj09aXx8IW4uY2FsbCh0LGkpfHwobz0iY29uc3RydWN0b3IiPT09aSl8fGUoaSk7KG98fG4uY2FsbCh0LGk9ImNvbnN0cnVjdG9yIikpJiZlKGkpfToobz1bInZhbHVlT2YiLCJ0b1N0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJpc1Byb3RvdHlwZU9mIiwiaGFzT3duUHJvcGVydHkiLCJjb25zdHJ1Y3RvciJdLHI9ZnVuY3Rpb24odCxlKXt2YXIgaSxzLHI9YS5jYWxsKHQpPT1jLGw9IXImJiJmdW5jdGlvbiIhPXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZQKHQsImhhc093blByb3BlcnR5Iik/dC5oYXNPd25Qcm9wZXJ0eTpuO2ZvcihpIGluIHQpciYmInByb3RvdHlwZSI9PWl8fCFsLmNhbGwodCxpKXx8ZShpKTtmb3Iocz1vLmxlbmd0aDtpPW9bLS1zXTtsLmNhbGwodCxpKSYmZShpKSk7fSkscih0LGUpfSwhZSgianNvbi1zdHJpbmdpZnkiKSl7dmFyIFQ9ezkyOiJcXFxcIiwzNDonXFwiJyw4OiJcXGIiLDEyOiJcXGYiLDEwOiJcXG4iLDEzOiJcXHIiLDk6IlxcdCJ9LEU9IjAwMDAwMCIseD1mdW5jdGlvbih0LGUpe3JldHVybihFKyhlfHwwKSkuc2xpY2UoLXQpfSx3PSJcXHUwMCIsQz1mdW5jdGlvbih0KXt2YXIgZSxpPSciJyxuPTAsbz10Lmxlbmd0aCxzPW8+MTAmJmc7Zm9yKHMmJihlPXQuc3BsaXQoIiIpKTtvPm47bisrKXt2YXIgYT10LmNoYXJDb2RlQXQobik7c3dpdGNoKGEpe2Nhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAzNDpjYXNlIDkyOmkrPVRbYV07YnJlYWs7ZGVmYXVsdDppZigzMj5hKXtpKz13K3goMixhLnRvU3RyaW5nKDE2KSk7YnJlYWt9aSs9cz9lW25dOmc/dC5jaGFyQXQobik6dFtuXX19cmV0dXJuIGkrJyInfSxNPWZ1bmN0aW9uKHQsZSxpLHIsbCxoLHUpe3ZhciBjLGcseSxiLFAsVCxFLHcsRCxTLGssQSxPLFUsSSxSLHo9ZVt0XTt0cnl7ej1lW3RdfWNhdGNoKEIpe31pZigib2JqZWN0Ij09dHlwZW9mIHomJnopaWYoYz1hLmNhbGwoeiksYyE9cHx8bi5jYWxsKHosInRvSlNPTiIpKSJmdW5jdGlvbiI9PXR5cGVvZiB6LnRvSlNPTiYmKGMhPWQmJmMhPW0mJmMhPWZ8fG4uY2FsbCh6LCJ0b0pTT04iKSkmJih6PXoudG9KU09OKHQpKTtlbHNlIGlmKHo+LTEvMCYmMS8wPnope2lmKEwpe2ZvcihiPXYoei84NjRlNSksZz12KGIvMzY1LjI0MjUpKzE5NzAtMTtMKGcrMSwwKTw9YjtnKyspO2Zvcih5PXYoKGItTChnLDApKS8zMC40Mik7TChnLHkrMSk8PWI7eSsrKTtiPTErYi1MKGcseSksUD0oeiU4NjRlNSs4NjRlNSklODY0ZTUsVD12KFAvMzZlNSklMjQsRT12KFAvNmU0KSU2MCx3PXYoUC8xZTMpJTYwLEQ9UCUxZTN9ZWxzZSBnPXouZ2V0VVRDRnVsbFllYXIoKSx5PXouZ2V0VVRDTW9udGgoKSxiPXouZ2V0VVRDRGF0ZSgpLFQ9ei5nZXRVVENIb3VycygpLEU9ei5nZXRVVENNaW51dGVzKCksdz16LmdldFVUQ1NlY29uZHMoKSxEPXouZ2V0VVRDTWlsbGlzZWNvbmRzKCk7ej0oMD49Z3x8Zz49MWU0PygwPmc/Ii0iOiIrIikreCg2LDA+Zz8tZzpnKTp4KDQsZykpKyItIit4KDIseSsxKSsiLSIreCgyLGIpKyJUIit4KDIsVCkrIjoiK3goMixFKSsiOiIreCgyLHcpKyIuIit4KDMsRCkrIloifWVsc2Ugej1udWxsO2lmKGkmJih6PWkuY2FsbChlLHQseikpLG51bGw9PT16KXJldHVybiJudWxsIjtpZihjPWEuY2FsbCh6KSxjPT1fKXJldHVybiIiK3o7aWYoYz09ZClyZXR1cm4gej4tMS8wJiYxLzA+ej8iIit6OiJudWxsIjtpZihjPT1tKXJldHVybiBDKCIiK3opO2lmKCJvYmplY3QiPT10eXBlb2Ygeil7Zm9yKE89dS5sZW5ndGg7Ty0tOylpZih1W09dPT09eil0aHJvdyBUeXBlRXJyb3IoKTtpZih1LnB1c2goeiksUz1bXSxVPWgsaCs9bCxjPT1mKXtmb3IoQT0wLE89ei5sZW5ndGg7Tz5BO0l8fChJPSEwKSxBKyspaz1NKEEseixpLHIsbCxoLHUpLFMucHVzaChrPT09cz8ibnVsbCI6ayk7Uj1JP2w/IltcbiIraCtTLmpvaW4oIixcbiIraCkrIlxuIitVKyJdIjoiWyIrUy5qb2luKCIsIikrIl0iOiJbXSJ9ZWxzZSBvKHJ8fHosZnVuY3Rpb24odCl7dmFyIGU9TSh0LHosaSxyLGwsaCx1KTtlIT09cyYmUy5wdXNoKEModCkrIjoiKyhsPyIgIjoiIikrZSksSXx8KEk9ITApfSksUj1JP2w/IntcbiIraCtTLmpvaW4oIixcbiIraCkrIlxuIitVKyJ9IjoieyIrUy5qb2luKCIsIikrIn0iOiJ7fSI7cmV0dXJuIHUucG9wKCksUn19O2wuc3RyaW5naWZ5PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvLHM7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGV8fCJvYmplY3QiPT10eXBlb2YgZSYmZSlpZihhLmNhbGwoZSk9PWMpbz1lO2Vsc2UgaWYoYS5jYWxsKGUpPT1mKXtzPXt9O2Zvcih2YXIgcixsPTAsaD1lLmxlbmd0aDtoPmw7cj1lW2wrK10sKGEuY2FsbChyKT09bXx8YS5jYWxsKHIpPT1kKSYmKHNbcl09MSkpO31pZihpKWlmKGEuY2FsbChpKT09ZCl7aWYoKGktPWklMSk+MClmb3Iobj0iIixpPjEwJiYoaT0xMCk7bi5sZW5ndGg8aTtuKz0iICIpO31lbHNlIGEuY2FsbChpKT09bSYmKG49aS5sZW5ndGg8PTEwP2k6aS5zbGljZSgwLDEwKSk7cmV0dXJuIE0oIiIsKHI9e30sclsiIl09dCxyKSxvLHMsbiwiIixbXSl9fWlmKCFlKCJqc29uLXBhcnNlIikpe3ZhciBELFMsaz1TdHJpbmcuZnJvbUNoYXJDb2RlLEE9ezkyOiJcXCIsMzQ6JyInLDQ3OiIvIiw5ODoiXGIiLDExNjoiCSIsMTEwOiJcbiIsMTAyOiJcZiIsMTE0OiJcciJ9LE89ZnVuY3Rpb24oKXt0aHJvdyBEPVM9bnVsbCxTeW50YXhFcnJvcigpfSxVPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaSxuLG8scz1TLGE9cy5sZW5ndGg7YT5EOylzd2l0Y2gobz1zLmNoYXJDb2RlQXQoRCkpe2Nhc2UgOTpjYXNlIDEwOmNhc2UgMTM6Y2FzZSAzMjpEKys7YnJlYWs7Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA0NDpyZXR1cm4gdD1nP3MuY2hhckF0KEQpOnNbRF0sRCsrLHQ7Y2FzZSAzNDpmb3IodD0iQCIsRCsrO2E+RDspaWYobz1zLmNoYXJDb2RlQXQoRCksMzI+bylPKCk7ZWxzZSBpZig5Mj09bylzd2l0Y2gobz1zLmNoYXJDb2RlQXQoKytEKSl7Y2FzZSA5MjpjYXNlIDM0OmNhc2UgNDc6Y2FzZSA5ODpjYXNlIDExNjpjYXNlIDExMDpjYXNlIDEwMjpjYXNlIDExNDp0Kz1BW29dLEQrKzticmVhaztjYXNlIDExNzpmb3IoZT0rK0QsaT1EKzQ7aT5EO0QrKylvPXMuY2hhckNvZGVBdChEKSxvPj00OCYmNTc+PW98fG8+PTk3JiYxMDI+PW98fG8+PTY1JiY3MD49b3x8TygpO3QrPWsoIjB4IitzLnNsaWNlKGUsRCkpO2JyZWFrO2RlZmF1bHQ6TygpfWVsc2V7aWYoMzQ9PW8pYnJlYWs7Zm9yKG89cy5jaGFyQ29kZUF0KEQpLGU9RDtvPj0zMiYmOTIhPW8mJjM0IT1vOylvPXMuY2hhckNvZGVBdCgrK0QpO3QrPXMuc2xpY2UoZSxEKX1pZigzND09cy5jaGFyQ29kZUF0KEQpKXJldHVybiBEKyssdDtPKCk7ZGVmYXVsdDppZihlPUQsNDU9PW8mJihuPSEwLG89cy5jaGFyQ29kZUF0KCsrRCkpLG8+PTQ4JiY1Nz49byl7Zm9yKDQ4PT1vJiYobz1zLmNoYXJDb2RlQXQoRCsxKSxvPj00OCYmNTc+PW8pJiZPKCksbj0hMTthPkQmJihvPXMuY2hhckNvZGVBdChEKSxvPj00OCYmNTc+PW8pO0QrKyk7aWYoNDY9PXMuY2hhckNvZGVBdChEKSl7Zm9yKGk9KytEO2E+aSYmKG89cy5jaGFyQ29kZUF0KGkpLG8+PTQ4JiY1Nz49byk7aSsrKTtpPT1EJiZPKCksRD1pfWlmKG89cy5jaGFyQ29kZUF0KEQpLDEwMT09b3x8Njk9PW8pe2ZvcihvPXMuY2hhckNvZGVBdCgrK0QpLCg0Mz09b3x8NDU9PW8pJiZEKyssaT1EO2E+aSYmKG89cy5jaGFyQ29kZUF0KGkpLG8+PTQ4JiY1Nz49byk7aSsrKTtpPT1EJiZPKCksRD1pfXJldHVybitzLnNsaWNlKGUsRCl9aWYobiYmTygpLCJ0cnVlIj09cy5zbGljZShELEQrNCkpcmV0dXJuIEQrPTQsITA7aWYoImZhbHNlIj09cy5zbGljZShELEQrNSkpcmV0dXJuIEQrPTUsITE7aWYoIm51bGwiPT1zLnNsaWNlKEQsRCs0KSlyZXR1cm4gRCs9NCxudWxsO08oKX1yZXR1cm4iJCJ9LEk9ZnVuY3Rpb24odCl7dmFyIGUsaTtpZigiJCI9PXQmJk8oKSwic3RyaW5nIj09dHlwZW9mIHQpe2lmKCJAIj09KGc/dC5jaGFyQXQoMCk6dFswXSkpcmV0dXJuIHQuc2xpY2UoMSk7aWYoIlsiPT10KXtmb3IoZT1bXTt0PVUoKSwiXSIhPXQ7aXx8KGk9ITApKWkmJigiLCI9PXQ/KHQ9VSgpLCJdIj09dCYmTygpKTpPKCkpLCIsIj09dCYmTygpLGUucHVzaChJKHQpKTtyZXR1cm4gZX1pZigieyI9PXQpe2ZvcihlPXt9O3Q9VSgpLCJ9IiE9dDtpfHwoaT0hMCkpaSYmKCIsIj09dD8odD1VKCksIn0iPT10JiZPKCkpOk8oKSksKCIsIj09dHx8InN0cmluZyIhPXR5cGVvZiB0fHwiQCIhPShnP3QuY2hhckF0KDApOnRbMF0pfHwiOiIhPVUoKSkmJk8oKSxlW3Quc2xpY2UoMSldPUkoVSgpKTtyZXR1cm4gZX1PKCl9cmV0dXJuIHR9LFI9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXoodCxlLGkpO249PT1zP2RlbGV0ZSB0W2VdOnRbZV09bn0sej1mdW5jdGlvbih0LGUsaSl7dmFyIG4scz10W2VdO2lmKCJvYmplY3QiPT10eXBlb2YgcyYmcylpZihhLmNhbGwocyk9PWYpZm9yKG49cy5sZW5ndGg7bi0tOylSKHMsbixpKTtlbHNlIG8ocyxmdW5jdGlvbih0KXtSKHMsdCxpKX0pO3JldHVybiBpLmNhbGwodCxlLHMpfTtsLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIGksbjtyZXR1cm4gRD0wLFM9IiIrdCxpPUkoVSgpKSwiJCIhPVUoKSYmTygpLEQ9Uz1udWxsLGUmJmEuY2FsbChlKT09Yz96KChuPXt9LG5bIiJdPWksbiksIiIsZSk6aX19fXImJmRlZmluZShmdW5jdGlvbigpe3JldHVybiBsfSl9KHRoaXMpfSx7fV0sNjpbZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCxpLG4pe3ZhciBvPXQuTCxzPXt9O3MudmVyc2lvbj0iMC43LjEiLCJvYmplY3QiPT10eXBlb2YgZSYmIm9iamVjdCI9PXR5cGVvZiBlLmV4cG9ydHM/ZS5leHBvcnRzPXM6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKHMpLHMubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0Lkw9byx0aGlzfSx0Lkw9cyxzLlV0aWw9e2V4dGVuZDpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbyxzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoaT0wLG49cy5sZW5ndGg7bj5pO2krKyl7bz1zW2ldfHx7fTtmb3IoZSBpbiBvKW8uaGFzT3duUHJvcGVydHkoZSkmJih0W2VdPW9bZV0pfXJldHVybiB0fSxiaW5kOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yP0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTpudWxsO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsaXx8YXJndW1lbnRzKX19LHN0YW1wOmZ1bmN0aW9uKCl7dmFyIHQ9MCxlPSJfbGVhZmxldF9pZCI7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBpW2VdPWlbZV18fCsrdCxpW2VdfX0oKSxpbnZva2VFYWNoOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7bz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMyk7Zm9yKG4gaW4gdCllLmFwcGx5KGksW24sdFtuXV0uY29uY2F0KG8pKTtyZXR1cm4hMH1yZXR1cm4hMX0sbGltaXRFeGVjQnlJbnRlcnZhbDpmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztyZXR1cm4gZnVuY3Rpb24gcygpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbj8obz0hMCx2b2lkIDApOihuPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuPSExLG8mJihzLmFwcGx5KGksYSksbz0hMSl9LGUpLHQuYXBwbHkoaSxhKSx2b2lkIDApfX0sZmFsc2VGbjpmdW5jdGlvbigpe3JldHVybiExfSxmb3JtYXROdW06ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLnBvdygxMCxlfHw1KTtyZXR1cm4gTWF0aC5yb3VuZCh0KmkpL2l9LHRyaW06ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0sc3BsaXRXb3JkczpmdW5jdGlvbih0KXtyZXR1cm4gcy5VdGlsLnRyaW0odCkuc3BsaXQoL1xzKy8pfSxzZXRPcHRpb25zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub3B0aW9ucz1zLmV4dGVuZCh7fSx0Lm9wdGlvbnMsZSksdC5vcHRpb25zfSxnZXRQYXJhbVN0cmluZzpmdW5jdGlvbih0LGUsaSl7dmFyIG49W107Zm9yKHZhciBvIGluIHQpbi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChpP28udG9VcHBlckNhc2UoKTpvKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHRbb10pKTtyZXR1cm4oZSYmLTEhPT1lLmluZGV4T2YoIj8iKT8iJiI6Ij8iKStuLmpvaW4oIiYiKX0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZXBsYWNlKC9ceyAqKFtcd19dKykgKlx9L2csZnVuY3Rpb24odCxpKXt2YXIgbz1lW2ldO2lmKG89PT1uKXRocm93IG5ldyBFcnJvcigiTm8gdmFsdWUgcHJvdmlkZWQgZm9yIHZhcmlhYmxlICIrdCk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG8mJihvPW8oZSkpLG99KX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfSxlbXB0eUltYWdlVXJsOiJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFEL0FDd0FBQUFBQVFBQkFBQUNBRHM9In0sZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciBpLG4sbz1bIndlYmtpdCIsIm1veiIsIm8iLCJtcyJdO2ZvcihpPTA7aTxvLmxlbmd0aCYmIW47aSsrKW49dFtvW2ldK2VdO3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIGk9K25ldyBEYXRlLG89TWF0aC5tYXgoMCwxNi0oaS1uKSk7cmV0dXJuIG49aStvLHQuc2V0VGltZW91dChlLG8pfXZhciBuPTAsbz10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZSgiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIil8fGksYT10LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxlKCJDYW5jZWxBbmltYXRpb25GcmFtZSIpfHxlKCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiKXx8ZnVuY3Rpb24oZSl7dC5jbGVhclRpbWVvdXQoZSl9O3MuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lPWZ1bmN0aW9uKGUsbixhLHIpe3JldHVybiBlPXMuYmluZChlLG4pLGEmJm89PT1pPyhlKCksdm9pZCAwKTpvLmNhbGwodCxlLHIpfSxzLlV0aWwuY2FuY2VsQW5pbUZyYW1lPWZ1bmN0aW9uKGUpe2UmJmEuY2FsbCh0LGUpfX0oKSxzLmV4dGVuZD1zLlV0aWwuZXh0ZW5kLHMuYmluZD1zLlV0aWwuYmluZCxzLnN0YW1wPXMuVXRpbC5zdGFtcCxzLnNldE9wdGlvbnM9cy5VdGlsLnNldE9wdGlvbnMscy5DbGFzcz1mdW5jdGlvbigpe30scy5DbGFzcy5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXt0aGlzLmluaXRpYWxpemUmJnRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5faW5pdEhvb2tzJiZ0aGlzLmNhbGxJbml0SG9va3MoKX0saT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGU7dmFyIG49bmV3IGk7bi5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlPW47Zm9yKHZhciBvIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShvKSYmInByb3RvdHlwZSIhPT1vJiYoZVtvXT10aGlzW29dKTt0LnN0YXRpY3MmJihzLmV4dGVuZChlLHQuc3RhdGljcyksZGVsZXRlIHQuc3RhdGljcyksdC5pbmNsdWRlcyYmKHMuVXRpbC5leHRlbmQuYXBwbHkobnVsbCxbbl0uY29uY2F0KHQuaW5jbHVkZXMpKSxkZWxldGUgdC5pbmNsdWRlcyksdC5vcHRpb25zJiZuLm9wdGlvbnMmJih0Lm9wdGlvbnM9cy5leHRlbmQoe30sbi5vcHRpb25zLHQub3B0aW9ucykpLHMuZXh0ZW5kKG4sdCksbi5faW5pdEhvb2tzPVtdO3ZhciBhPXRoaXM7cmV0dXJuIGUuX19zdXBlcl9fPWEucHJvdG90eXBlLG4uY2FsbEluaXRIb29rcz1mdW5jdGlvbigpe2lmKCF0aGlzLl9pbml0SG9va3NDYWxsZWQpe2EucHJvdG90eXBlLmNhbGxJbml0SG9va3MmJmEucHJvdG90eXBlLmNhbGxJbml0SG9va3MuY2FsbCh0aGlzKSx0aGlzLl9pbml0SG9va3NDYWxsZWQ9ITA7Zm9yKHZhciB0PTAsZT1uLl9pbml0SG9va3MubGVuZ3RoO2U+dDt0Kyspbi5faW5pdEhvb2tzW3RdLmNhbGwodGhpcyl9fSxlfSxzLkNsYXNzLmluY2x1ZGU9ZnVuY3Rpb24odCl7cy5leHRlbmQodGhpcy5wcm90b3R5cGUsdCl9LHMuQ2xhc3MubWVyZ2VPcHRpb25zPWZ1bmN0aW9uKHQpe3MuZXh0ZW5kKHRoaXMucHJvdG90eXBlLm9wdGlvbnMsdCl9LHMuQ2xhc3MuYWRkSW5pdEhvb2s9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGk9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpmdW5jdGlvbigpe3RoaXNbdF0uYXBwbHkodGhpcyxlKX07dGhpcy5wcm90b3R5cGUuX2luaXRIb29rcz10aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzfHxbXSx0aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzLnB1c2goaSl9O3ZhciBhPSJfbGVhZmxldF9ldmVudHMiO3MuTWl4aW49e30scy5NaXhpbi5FdmVudHM9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlLGkpe2lmKHMuVXRpbC5pbnZva2VFYWNoKHQsdGhpcy5hZGRFdmVudExpc3RlbmVyLHRoaXMsZSxpKSlyZXR1cm4gdGhpczt2YXIgbixvLHIsbCxoLHUsYyxwPXRoaXNbYV09dGhpc1thXXx8e30sZD1pJiZpIT09dGhpcyYmcy5zdGFtcChpKTtmb3IodD1zLlV0aWwuc3BsaXRXb3Jkcyh0KSxuPTAsbz10Lmxlbmd0aDtvPm47bisrKXI9e2FjdGlvbjplLGNvbnRleHQ6aXx8dGhpc30sbD10W25dLGQ/KGg9bCsiX2lkeCIsdT1oKyJfbGVuIixjPXBbaF09cFtoXXx8e30sY1tkXXx8KGNbZF09W10scFt1XT0ocFt1XXx8MCkrMSksY1tkXS5wdXNoKHIpKToocFtsXT1wW2xdfHxbXSxwW2xdLnB1c2gocikpO3JldHVybiB0aGlzfSxoYXNFdmVudExpc3RlbmVyczpmdW5jdGlvbih0KXt2YXIgZT10aGlzW2FdO3JldHVybiEhZSYmKHQgaW4gZSYmZVt0XS5sZW5ndGg+MHx8dCsiX2lkeCJpbiBlJiZlW3QrIl9pZHhfbGVuIl0+MCl9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlLGkpe2lmKCF0aGlzW2FdKXJldHVybiB0aGlzO2lmKCF0KXJldHVybiB0aGlzLmNsZWFyQWxsRXZlbnRMaXN0ZW5lcnMoKTtpZihzLlV0aWwuaW52b2tlRWFjaCh0LHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcix0aGlzLGUsaSkpcmV0dXJuIHRoaXM7dmFyIG4sbyxyLGwsaCx1LGMscCxkLG09dGhpc1thXSxmPWkmJmkhPT10aGlzJiZzLnN0YW1wKGkpO2Zvcih0PXMuVXRpbC5zcGxpdFdvcmRzKHQpLG49MCxvPXQubGVuZ3RoO28+bjtuKyspaWYocj10W25dLHU9cisiX2lkeCIsYz11KyJfbGVuIixwPW1bdV0sZSl7aWYobD1mJiZwP3BbZl06bVtyXSl7Zm9yKGg9bC5sZW5ndGgtMTtoPj0wO2gtLSlsW2hdLmFjdGlvbiE9PWV8fGkmJmxbaF0uY29udGV4dCE9PWl8fChkPWwuc3BsaWNlKGgsMSksZFswXS5hY3Rpb249cy5VdGlsLmZhbHNlRm4pO2kmJnAmJjA9PT1sLmxlbmd0aCYmKGRlbGV0ZSBwW2ZdLG1bY10tLSl9fWVsc2UgZGVsZXRlIG1bcl0sZGVsZXRlIG1bdV0sZGVsZXRlIG1bY107cmV0dXJuIHRoaXN9LGNsZWFyQWxsRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlIHRoaXNbYV0sdGhpc30sZmlyZUV2ZW50OmZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModCkpcmV0dXJuIHRoaXM7dmFyIGksbixvLHIsbCxoPXMuVXRpbC5leHRlbmQoe30sZSx7dHlwZTp0LHRhcmdldDp0aGlzfSksdT10aGlzW2FdO2lmKHVbdF0pZm9yKGk9dVt0XS5zbGljZSgpLG49MCxvPWkubGVuZ3RoO28+bjtuKyspaVtuXS5hY3Rpb24uY2FsbChpW25dLmNvbnRleHQsaCk7cj11W3QrIl9pZHgiXTtmb3IobCBpbiByKWlmKGk9cltsXS5zbGljZSgpKWZvcihuPTAsbz1pLmxlbmd0aDtvPm47bisrKWlbbl0uYWN0aW9uLmNhbGwoaVtuXS5jb250ZXh0LGgpO3JldHVybiB0aGlzfSxhZGRPbmVUaW1lRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7aWYocy5VdGlsLmludm9rZUVhY2godCx0aGlzLmFkZE9uZVRpbWVFdmVudExpc3RlbmVyLHRoaXMsZSxpKSlyZXR1cm4gdGhpczt2YXIgbj1zLmJpbmQoZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlLGkpLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLGkpfSx0aGlzKTtyZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKHQsZSxpKS5hZGRFdmVudExpc3RlbmVyKHQsbixpKX19LHMuTWl4aW4uRXZlbnRzLm9uPXMuTWl4aW4uRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIscy5NaXhpbi5FdmVudHMub2ZmPXMuTWl4aW4uRXZlbnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIscy5NaXhpbi5FdmVudHMub25jZT1zLk1peGluLkV2ZW50cy5hZGRPbmVUaW1lRXZlbnRMaXN0ZW5lcixzLk1peGluLkV2ZW50cy5maXJlPXMuTWl4aW4uRXZlbnRzLmZpcmVFdmVudCxmdW5jdGlvbigpe3ZhciBlPSJBY3RpdmVYT2JqZWN0ImluIHQsbz1lJiYhaS5hZGRFdmVudExpc3RlbmVyLGE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLHI9LTEhPT1hLmluZGV4T2YoIndlYmtpdCIpLGw9LTEhPT1hLmluZGV4T2YoImNocm9tZSIpLGg9LTEhPT1hLmluZGV4T2YoInBoYW50b20iKSx1PS0xIT09YS5pbmRleE9mKCJhbmRyb2lkIiksYz0tMSE9PWEuc2VhcmNoKCJhbmRyb2lkIFsyM10iKSxwPS0xIT09YS5pbmRleE9mKCJnZWNrbyIpLGQ9dHlwZW9mIG9yaWVudGF0aW9uIT1uKyIiLG09dC5uYXZpZ2F0b3ImJnQubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQmJnQubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMmJiF0LlBvaW50ZXJFdmVudCxmPXQuUG9pbnRlckV2ZW50JiZ0Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCYmdC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fG0sXz0iZGV2aWNlUGl4ZWxSYXRpbyJpbiB0JiZ0LmRldmljZVBpeGVsUmF0aW8+MXx8Im1hdGNoTWVkaWEiaW4gdCYmdC5tYXRjaE1lZGlhKCIobWluLXJlc29sdXRpb246MTQ0ZHBpKSIpJiZ0Lm1hdGNoTWVkaWEoIihtaW4tcmVzb2x1dGlvbjoxNDRkcGkpIikubWF0Y2hlcyxnPWkuZG9jdW1lbnRFbGVtZW50LHY9ZSYmInRyYW5zaXRpb24iaW4gZy5zdHlsZSx5PSJXZWJLaXRDU1NNYXRyaXgiaW4gdCYmIm0xMSJpbiBuZXcgdC5XZWJLaXRDU1NNYXRyaXgmJiFjLEw9Ik1velBlcnNwZWN0aXZlImluIGcuc3R5bGUsYj0iT1RyYW5zaXRpb24iaW4gZy5zdHlsZSxQPSF0LkxfRElTQUJMRV8zRCYmKHZ8fHl8fEx8fGIpJiYhaCxUPSF0LkxfTk9fVE9VQ0gmJiFoJiZmdW5jdGlvbigpe3ZhciB0PSJvbnRvdWNoc3RhcnQiO2lmKGZ8fHQgaW4gZylyZXR1cm4hMDt2YXIgZT1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49ITE7cmV0dXJuIGUuc2V0QXR0cmlidXRlPyhlLnNldEF0dHJpYnV0ZSh0LCJyZXR1cm47IiksImZ1bmN0aW9uIj09dHlwZW9mIGVbdF0mJihuPSEwKSxlLnJlbW92ZUF0dHJpYnV0ZSh0KSxlPW51bGwsbik6ITF9KCk7cy5Ccm93c2VyPXtpZTplLGllbHQ5Om8sd2Via2l0OnIsZ2Vja286cCYmIXImJiF0Lm9wZXJhJiYhZSxhbmRyb2lkOnUsYW5kcm9pZDIzOmMsY2hyb21lOmwsaWUzZDp2LHdlYmtpdDNkOnksZ2Vja28zZDpMLG9wZXJhM2Q6YixhbnkzZDpQLG1vYmlsZTpkLG1vYmlsZVdlYmtpdDpkJiZyLG1vYmlsZVdlYmtpdDNkOmQmJnksbW9iaWxlT3BlcmE6ZCYmdC5vcGVyYSx0b3VjaDpULG1zUG9pbnRlcjptLHBvaW50ZXI6ZixyZXRpbmE6X319KCkscy5Qb2ludD1mdW5jdGlvbih0LGUsaSl7dGhpcy54PWk/TWF0aC5yb3VuZCh0KTp0LHRoaXMueT1pP01hdGgucm91bmQoZSk6ZX0scy5Qb2ludC5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzLlBvaW50KHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHMucG9pbnQodCkpfSxfYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWJ0cmFjdChzLnBvaW50KHQpKX0sX3N1YnRyYWN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSxkaXZpZGVCeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZpZGVCeSh0KX0sX2RpdmlkZUJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngvPXQsdGhpcy55Lz10LHRoaXN9LG11bHRpcGx5Qnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdGlwbHlCeSh0KX0sX211bHRpcGx5Qnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc30scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpfSxfcm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9LGZsb29yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZmxvb3IoKX0sX2Zsb29yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KSx0aGlzfSxkaXN0YW5jZVRvOmZ1bmN0aW9uKHQpe3Q9cy5wb2ludCh0KTt2YXIgZT10LngtdGhpcy54LGk9dC55LXRoaXMueTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStpKmkpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5wb2ludCh0KSx0Lng9PT10aGlzLngmJnQueT09PXRoaXMueX0sY29udGFpbnM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5wb2ludCh0KSxNYXRoLmFicyh0LngpPD1NYXRoLmFicyh0aGlzLngpJiZNYXRoLmFicyh0LnkpPD1NYXRoLmFicyh0aGlzLnkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJQb2ludCgiK3MuVXRpbC5mb3JtYXROdW0odGhpcy54KSsiLCAiK3MuVXRpbC5mb3JtYXROdW0odGhpcy55KSsiKSJ9fSxzLnBvaW50PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHMuUG9pbnQ/dDpzLlV0aWwuaXNBcnJheSh0KT9uZXcgcy5Qb2ludCh0WzBdLHRbMV0pOnQ9PT1ufHxudWxsPT09dD90Om5ldyBzLlBvaW50KHQsZSxpKX0scy5Cb3VuZHM9ZnVuY3Rpb24odCxlKXtpZih0KWZvcih2YXIgaT1lP1t0LGVdOnQsbj0wLG89aS5sZW5ndGg7bz5uO24rKyl0aGlzLmV4dGVuZChpW25dKX0scy5Cb3VuZHMucHJvdG90eXBlPXtleHRlbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5wb2ludCh0KSx0aGlzLm1pbnx8dGhpcy5tYXg/KHRoaXMubWluLng9TWF0aC5taW4odC54LHRoaXMubWluLngpLHRoaXMubWF4Lng9TWF0aC5tYXgodC54LHRoaXMubWF4LngpLHRoaXMubWluLnk9TWF0aC5taW4odC55LHRoaXMubWluLnkpLHRoaXMubWF4Lnk9TWF0aC5tYXgodC55LHRoaXMubWF4LnkpKToodGhpcy5taW49dC5jbG9uZSgpLHRoaXMubWF4PXQuY2xvbmUoKSksdGhpc30sZ2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5Qb2ludCgodGhpcy5taW4ueCt0aGlzLm1heC54KS8yLCh0aGlzLm1pbi55K3RoaXMubWF4LnkpLzIsdCl9LGdldEJvdHRvbUxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMuUG9pbnQodGhpcy5taW4ueCx0aGlzLm1heC55KX0sZ2V0VG9wUmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMuUG9pbnQodGhpcy5tYXgueCx0aGlzLm1pbi55KX0sZ2V0U2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1heC5zdWJ0cmFjdCh0aGlzLm1pbil9LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIHQ9Im51bWJlciI9PXR5cGVvZiB0WzBdfHx0IGluc3RhbmNlb2Ygcy5Qb2ludD9zLnBvaW50KHQpOnMuYm91bmRzKHQpLHQgaW5zdGFuY2VvZiBzLkJvdW5kcz8oZT10Lm1pbixpPXQubWF4KTplPWk9dCxlLng+PXRoaXMubWluLngmJmkueDw9dGhpcy5tYXgueCYmZS55Pj10aGlzLm1pbi55JiZpLnk8PXRoaXMubWF4Lnl9LGludGVyc2VjdHM6ZnVuY3Rpb24odCl7dD1zLmJvdW5kcyh0KTt2YXIgZT10aGlzLm1pbixpPXRoaXMubWF4LG49dC5taW4sbz10Lm1heCxhPW8ueD49ZS54JiZuLng8PWkueCxyPW8ueT49ZS55JiZuLnk8PWkueTtyZXR1cm4gYSYmcn0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMubWlufHwhdGhpcy5tYXgpfX0scy5ib3VuZHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hdHx8dCBpbnN0YW5jZW9mIHMuQm91bmRzP3Q6bmV3IHMuQm91bmRzKHQsZSl9LHMuVHJhbnNmb3JtYXRpb249ZnVuY3Rpb24odCxlLGksbil7dGhpcy5fYT10LHRoaXMuX2I9ZSx0aGlzLl9jPWksdGhpcy5fZD1ufSxzLlRyYW5zZm9ybWF0aW9uLnByb3RvdHlwZT17dHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybSh0LmNsb25lKCksZSl9LF90cmFuc2Zvcm06ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwxLHQueD1lKih0aGlzLl9hKnQueCt0aGlzLl9iKSx0Lnk9ZSoodGhpcy5fYyp0LnkrdGhpcy5fZCksdH0sdW50cmFuc2Zvcm06ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwxLG5ldyBzLlBvaW50KCh0LngvZS10aGlzLl9iKS90aGlzLl9hLCh0LnkvZS10aGlzLl9kKS90aGlzLl9jKX19LHMuRG9tVXRpbD17Z2V0OmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9pLmdldEVsZW1lbnRCeUlkKHQpOnR9LGdldFN0eWxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zdHlsZVtlXTtpZighbiYmdC5jdXJyZW50U3R5bGUmJihuPXQuY3VycmVudFN0eWxlW2VdKSwoIW58fCJhdXRvIj09PW4pJiZpLmRlZmF1bHRWaWV3KXt2YXIgbz1pLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCxudWxsKTtuPW8/b1tlXTpudWxsfXJldHVybiJhdXRvIj09PW4/bnVsbDpufSxnZXRWaWV3cG9ydE9mZnNldDpmdW5jdGlvbih0KXt2YXIgZSxuPTAsbz0wLGE9dCxyPWkuYm9keSxsPWkuZG9jdW1lbnRFbGVtZW50O2Rve2lmKG4rPWEub2Zmc2V0VG9wfHwwLG8rPWEub2Zmc2V0TGVmdHx8MCxuKz1wYXJzZUludChzLkRvbVV0aWwuZ2V0U3R5bGUoYSwiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDAsbys9cGFyc2VJbnQocy5Eb21VdGlsLmdldFN0eWxlKGEsImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCxlPXMuRG9tVXRpbC5nZXRTdHlsZShhLCJwb3NpdGlvbiIpLGEub2Zmc2V0UGFyZW50PT09ciYmImFic29sdXRlIj09PWUpYnJlYWs7aWYoImZpeGVkIj09PWUpe24rPXIuc2Nyb2xsVG9wfHxsLnNjcm9sbFRvcHx8MCxvKz1yLnNjcm9sbExlZnR8fGwuc2Nyb2xsTGVmdHx8MDticmVha31pZigicmVsYXRpdmUiPT09ZSYmIWEub2Zmc2V0TGVmdCl7dmFyIGg9cy5Eb21VdGlsLmdldFN0eWxlKGEsIndpZHRoIiksdT1zLkRvbVV0aWwuZ2V0U3R5bGUoYSwibWF4LXdpZHRoIiksYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOygibm9uZSIhPT1ofHwibm9uZSIhPT11KSYmKG8rPWMubGVmdCthLmNsaWVudExlZnQpLG4rPWMudG9wKyhyLnNjcm9sbFRvcHx8bC5zY3JvbGxUb3B8fDApO2JyZWFrfWE9YS5vZmZzZXRQYXJlbnR9d2hpbGUoYSk7YT10O2Rve2lmKGE9PT1yKWJyZWFrO24tPWEuc2Nyb2xsVG9wfHwwLG8tPWEuc2Nyb2xsTGVmdHx8MCxhPWEucGFyZW50Tm9kZX13aGlsZShhKTtyZXR1cm4gbmV3IHMuUG9pbnQobyxuKX0sZG9jdW1lbnRJc0x0cjpmdW5jdGlvbigpe3JldHVybiBzLkRvbVV0aWwuX2RvY0lzTHRyQ2FjaGVkfHwocy5Eb21VdGlsLl9kb2NJc0x0ckNhY2hlZD0hMCxzLkRvbVV0aWwuX2RvY0lzTHRyPSJsdHIiPT09cy5Eb21VdGlsLmdldFN0eWxlKGkuYm9keSwiZGlyZWN0aW9uIikpLHMuRG9tVXRpbC5fZG9jSXNMdHJ9LGNyZWF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIG89aS5jcmVhdGVFbGVtZW50KHQpO3JldHVybiBvLmNsYXNzTmFtZT1lLG4mJm4uYXBwZW5kQ2hpbGQobyksb30saGFzQ2xhc3M6ZnVuY3Rpb24odCxlKXtpZih0LmNsYXNzTGlzdCE9PW4pcmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKGUpO3ZhciBpPXMuRG9tVXRpbC5fZ2V0Q2xhc3ModCk7cmV0dXJuIGkubGVuZ3RoPjAmJm5ldyBSZWdFeHAoIihefFxccykiK2UrIihcXHN8JCkiKS50ZXN0KGkpfSxhZGRDbGFzczpmdW5jdGlvbih0LGUpe2lmKHQuY2xhc3NMaXN0IT09bilmb3IodmFyIGk9cy5VdGlsLnNwbGl0V29yZHMoZSksbz0wLGE9aS5sZW5ndGg7YT5vO28rKyl0LmNsYXNzTGlzdC5hZGQoaVtvXSk7ZWxzZSBpZighcy5Eb21VdGlsLmhhc0NsYXNzKHQsZSkpe3ZhciByPXMuRG9tVXRpbC5fZ2V0Q2xhc3ModCk7cy5Eb21VdGlsLl9zZXRDbGFzcyh0LChyP3IrIiAiOiIiKStlKX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQsZSl7dC5jbGFzc0xpc3QhPT1uP3QuY2xhc3NMaXN0LnJlbW92ZShlKTpzLkRvbVV0aWwuX3NldENsYXNzKHQscy5VdGlsLnRyaW0oKCIgIitzLkRvbVV0aWwuX2dldENsYXNzKHQpKyIgIikucmVwbGFjZSgiICIrZSsiICIsIiAiKSkpfSxfc2V0Q2xhc3M6ZnVuY3Rpb24odCxlKXt0LmNsYXNzTmFtZS5iYXNlVmFsPT09bj90LmNsYXNzTmFtZT1lOnQuY2xhc3NOYW1lLmJhc2VWYWw9ZX0sX2dldENsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNsYXNzTmFtZS5iYXNlVmFsPT09bj90LmNsYXNzTmFtZTp0LmNsYXNzTmFtZS5iYXNlVmFsfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHQsZSl7aWYoIm9wYWNpdHkiaW4gdC5zdHlsZSl0LnN0eWxlLm9wYWNpdHk9ZTtlbHNlIGlmKCJmaWx0ZXIiaW4gdC5zdHlsZSl7dmFyIGk9ITEsbj0iRFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEiO3RyeXtpPXQuZmlsdGVycy5pdGVtKG4pfWNhdGNoKG8pe2lmKDE9PT1lKXJldHVybn1lPU1hdGgucm91bmQoMTAwKmUpLGk/KGkuRW5hYmxlZD0xMDAhPT1lLGkuT3BhY2l0eT1lKTp0LnN0eWxlLmZpbHRlcis9IiBwcm9naWQ6IituKyIob3BhY2l0eT0iK2UrIikifX0sdGVzdFByb3A6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWkuZG9jdW1lbnRFbGVtZW50LnN0eWxlLG49MDtuPHQubGVuZ3RoO24rKylpZih0W25daW4gZSlyZXR1cm4gdFtuXTtyZXR1cm4hMX0sZ2V0VHJhbnNsYXRlU3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPXMuQnJvd3Nlci53ZWJraXQzZCxpPSJ0cmFuc2xhdGUiKyhlPyIzZCI6IiIpKyIoIixuPShlPyIsMCI6IiIpKyIpIjtyZXR1cm4gaSt0LngrInB4LCIrdC55KyJweCIrbn0sZ2V0U2NhbGVTdHJpbmc6ZnVuY3Rpb24odCxlKXt2YXIgaT1zLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGUuYWRkKGUubXVsdGlwbHlCeSgtMSp0KSkpLG49IiBzY2FsZSgiK3QrIikgIjtyZXR1cm4gaStufSxzZXRQb3NpdGlvbjpmdW5jdGlvbih0LGUsaSl7dC5fbGVhZmxldF9wb3M9ZSwhaSYmcy5Ccm93c2VyLmFueTNkP3Quc3R5bGVbcy5Eb21VdGlsLlRSQU5TRk9STV09cy5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhlKToodC5zdHlsZS5sZWZ0PWUueCsicHgiLHQuc3R5bGUudG9wPWUueSsicHgiKX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQuX2xlYWZsZXRfcG9zfX0scy5Eb21VdGlsLlRSQU5TRk9STT1zLkRvbVV0aWwudGVzdFByb3AoWyJ0cmFuc2Zvcm0iLCJXZWJraXRUcmFuc2Zvcm0iLCJPVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iXSkscy5Eb21VdGlsLlRSQU5TSVRJT049cy5Eb21VdGlsLnRlc3RQcm9wKFsid2Via2l0VHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJtc1RyYW5zaXRpb24iXSkscy5Eb21VdGlsLlRSQU5TSVRJT05fRU5EPSJ3ZWJraXRUcmFuc2l0aW9uIj09PXMuRG9tVXRpbC5UUkFOU0lUSU9OfHwiT1RyYW5zaXRpb24iPT09cy5Eb21VdGlsLlRSQU5TSVRJT04/cy5Eb21VdGlsLlRSQU5TSVRJT04rIkVuZCI6InRyYW5zaXRpb25lbmQiLGZ1bmN0aW9uKCl7aWYoIm9uc2VsZWN0c3RhcnQiaW4gaSlzLmV4dGVuZChzLkRvbVV0aWwse2Rpc2FibGVUZXh0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vbih0LCJzZWxlY3RzdGFydCIscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9LGVuYWJsZVRleHRTZWxlY3Rpb246ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9mZih0LCJzZWxlY3RzdGFydCIscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9fSk7ZWxzZXt2YXIgZT1zLkRvbVV0aWwudGVzdFByb3AoWyJ1c2VyU2VsZWN0IiwiV2Via2l0VXNlclNlbGVjdCIsIk9Vc2VyU2VsZWN0IiwiTW96VXNlclNlbGVjdCIsIm1zVXNlclNlbGVjdCJdKTtzLmV4dGVuZChzLkRvbVV0aWwse2Rpc2FibGVUZXh0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7aWYoZSl7dmFyIHQ9aS5kb2N1bWVudEVsZW1lbnQuc3R5bGU7dGhpcy5fdXNlclNlbGVjdD10W2VdLHRbZV09Im5vbmUifX0sZW5hYmxlVGV4dFNlbGVjdGlvbjpmdW5jdGlvbigpe2UmJihpLmRvY3VtZW50RWxlbWVudC5zdHlsZVtlXT10aGlzLl91c2VyU2VsZWN0LGRlbGV0ZSB0aGlzLl91c2VyU2VsZWN0KX19KX1zLmV4dGVuZChzLkRvbVV0aWwse2Rpc2FibGVJbWFnZURyYWc6ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9uKHQsImRyYWdzdGFydCIscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9LGVuYWJsZUltYWdlRHJhZzpmdW5jdGlvbigpe3MuRG9tRXZlbnQub2ZmKHQsImRyYWdzdGFydCIscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9fSl9KCkscy5MYXRMbmc9ZnVuY3Rpb24odCxlLGkpe2lmKHQ9cGFyc2VGbG9hdCh0KSxlPXBhcnNlRmxvYXQoZSksaXNOYU4odCl8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBMYXRMbmcgb2JqZWN0OiAoIit0KyIsICIrZSsiKSIpO3RoaXMubGF0PXQsdGhpcy5sbmc9ZSxpIT09biYmKHRoaXMuYWx0PXBhcnNlRmxvYXQoaSkpfSxzLmV4dGVuZChzLkxhdExuZyx7REVHX1RPX1JBRDpNYXRoLlBJLzE4MCxSQURfVE9fREVHOjE4MC9NYXRoLlBJLE1BWF9NQVJHSU46MWUtOX0pLHMuTGF0TG5nLnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO3Q9cy5sYXRMbmcodCk7dmFyIGU9TWF0aC5tYXgoTWF0aC5hYnModGhpcy5sYXQtdC5sYXQpLE1hdGguYWJzKHRoaXMubG5nLXQubG5nKSk7cmV0dXJuIGU8PXMuTGF0TG5nLk1BWF9NQVJHSU59LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiJMYXRMbmcoIitzLlV0aWwuZm9ybWF0TnVtKHRoaXMubGF0LHQpKyIsICIrcy5VdGlsLmZvcm1hdE51bSh0aGlzLmxuZyx0KSsiKSJ9LGRpc3RhbmNlVG86ZnVuY3Rpb24odCl7dD1zLmxhdExuZyh0KTt2YXIgZT02Mzc4MTM3LGk9cy5MYXRMbmcuREVHX1RPX1JBRCxuPSh0LmxhdC10aGlzLmxhdCkqaSxvPSh0LmxuZy10aGlzLmxuZykqaSxhPXRoaXMubGF0Kmkscj10LmxhdCppLGw9TWF0aC5zaW4obi8yKSxoPU1hdGguc2luKG8vMiksdT1sKmwraCpoKk1hdGguY29zKGEpKk1hdGguY29zKHIpO3JldHVybiAyKmUqTWF0aC5hdGFuMihNYXRoLnNxcnQodSksTWF0aC5zcXJ0KDEtdSkpfSx3cmFwOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5sbmc7cmV0dXJuIHQ9dHx8LTE4MCxlPWV8fDE4MCxpPShpK2UpJShlLXQpKyh0Pml8fGk9PT1lP2U6dCksbmV3IHMuTGF0TG5nKHRoaXMubGF0LGkpfX0scy5sYXRMbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHMuTGF0TG5nP3Q6cy5VdGlsLmlzQXJyYXkodCk/Im51bWJlciI9PXR5cGVvZiB0WzBdfHwic3RyaW5nIj09dHlwZW9mIHRbMF0/bmV3IHMuTGF0TG5nKHRbMF0sdFsxXSx0WzJdKTpudWxsOnQ9PT1ufHxudWxsPT09dD90OiJvYmplY3QiPT10eXBlb2YgdCYmImxhdCJpbiB0P25ldyBzLkxhdExuZyh0LmxhdCwibG5nImluIHQ/dC5sbmc6dC5sb24pOmU9PT1uP251bGw6bmV3IHMuTGF0TG5nKHQsZSl9LHMuTGF0TG5nQm91bmRzPWZ1bmN0aW9uKHQsZSl7aWYodClmb3IodmFyIGk9ZT9bdCxlXTp0LG49MCxvPWkubGVuZ3RoO28+bjtuKyspdGhpcy5leHRlbmQoaVtuXSl9LHMuTGF0TG5nQm91bmRzLnByb3RvdHlwZT17ZXh0ZW5kOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciBlPXMubGF0TG5nKHQpO3JldHVybiB0PW51bGwhPT1lP2U6cy5sYXRMbmdCb3VuZHModCksdCBpbnN0YW5jZW9mIHMuTGF0TG5nP3RoaXMuX3NvdXRoV2VzdHx8dGhpcy5fbm9ydGhFYXN0Pyh0aGlzLl9zb3V0aFdlc3QubGF0PU1hdGgubWluKHQubGF0LHRoaXMuX3NvdXRoV2VzdC5sYXQpLHRoaXMuX3NvdXRoV2VzdC5sbmc9TWF0aC5taW4odC5sbmcsdGhpcy5fc291dGhXZXN0LmxuZyksdGhpcy5fbm9ydGhFYXN0LmxhdD1NYXRoLm1heCh0LmxhdCx0aGlzLl9ub3J0aEVhc3QubGF0KSx0aGlzLl9ub3J0aEVhc3QubG5nPU1hdGgubWF4KHQubG5nLHRoaXMuX25vcnRoRWFzdC5sbmcpKToodGhpcy5fc291dGhXZXN0PW5ldyBzLkxhdExuZyh0LmxhdCx0LmxuZyksdGhpcy5fbm9ydGhFYXN0PW5ldyBzLkxhdExuZyh0LmxhdCx0LmxuZykpOnQgaW5zdGFuY2VvZiBzLkxhdExuZ0JvdW5kcyYmKHRoaXMuZXh0ZW5kKHQuX3NvdXRoV2VzdCksdGhpcy5leHRlbmQodC5fbm9ydGhFYXN0KSksdGhpc30scGFkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NvdXRoV2VzdCxpPXRoaXMuX25vcnRoRWFzdCxuPU1hdGguYWJzKGUubGF0LWkubGF0KSp0LG89TWF0aC5hYnMoZS5sbmctaS5sbmcpKnQ7cmV0dXJuIG5ldyBzLkxhdExuZ0JvdW5kcyhuZXcgcy5MYXRMbmcoZS5sYXQtbixlLmxuZy1vKSxuZXcgcy5MYXRMbmcoaS5sYXQrbixpLmxuZytvKSl9LGdldENlbnRlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgcy5MYXRMbmcoKHRoaXMuX3NvdXRoV2VzdC5sYXQrdGhpcy5fbm9ydGhFYXN0LmxhdCkvMiwodGhpcy5fc291dGhXZXN0LmxuZyt0aGlzLl9ub3J0aEVhc3QubG5nKS8yKX0sZ2V0U291dGhXZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXRoV2VzdH0sZ2V0Tm9ydGhFYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcnRoRWFzdH0sZ2V0Tm9ydGhXZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzLkxhdExuZyh0aGlzLmdldE5vcnRoKCksdGhpcy5nZXRXZXN0KCkpfSxnZXRTb3V0aEVhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMuTGF0TG5nKHRoaXMuZ2V0U291dGgoKSx0aGlzLmdldEVhc3QoKSl9LGdldFdlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291dGhXZXN0LmxuZ30sZ2V0U291dGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291dGhXZXN0LmxhdH0sZ2V0RWFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3J0aEVhc3QubG5nfSxnZXROb3J0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3J0aEVhc3QubGF0fSxjb250YWluczpmdW5jdGlvbih0KXt0PSJudW1iZXIiPT10eXBlb2YgdFswXXx8dCBpbnN0YW5jZW9mIHMuTGF0TG5nP3MubGF0TG5nKHQpOnMubGF0TG5nQm91bmRzKHQpO3ZhciBlLGksbj10aGlzLl9zb3V0aFdlc3Qsbz10aGlzLl9ub3J0aEVhc3Q7cmV0dXJuIHQgaW5zdGFuY2VvZiBzLkxhdExuZ0JvdW5kcz8oZT10LmdldFNvdXRoV2VzdCgpLGk9dC5nZXROb3J0aEVhc3QoKSk6ZT1pPXQsZS5sYXQ+PW4ubGF0JiZpLmxhdDw9by5sYXQmJmUubG5nPj1uLmxuZyYmaS5sbmc8PW8ubG5nfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKHQpe3Q9cy5sYXRMbmdCb3VuZHModCk7dmFyIGU9dGhpcy5fc291dGhXZXN0LGk9dGhpcy5fbm9ydGhFYXN0LG49dC5nZXRTb3V0aFdlc3QoKSxvPXQuZ2V0Tm9ydGhFYXN0KCksYT1vLmxhdD49ZS5sYXQmJm4ubGF0PD1pLmxhdCxyPW8ubG5nPj1lLmxuZyYmbi5sbmc8PWkubG5nO3JldHVybiBhJiZyfSx0b0JCb3hTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5nZXRXZXN0KCksdGhpcy5nZXRTb3V0aCgpLHRoaXMuZ2V0RWFzdCgpLHRoaXMuZ2V0Tm9ydGgoKV0uam9pbigiLCIpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHQ9cy5sYXRMbmdCb3VuZHModCksdGhpcy5fc291dGhXZXN0LmVxdWFscyh0LmdldFNvdXRoV2VzdCgpKSYmdGhpcy5fbm9ydGhFYXN0LmVxdWFscyh0LmdldE5vcnRoRWFzdCgpKSk6ITF9LGlzVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLl9zb3V0aFdlc3R8fCF0aGlzLl9ub3J0aEVhc3QpfX0scy5sYXRMbmdCb3VuZHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hdHx8dCBpbnN0YW5jZW9mIHMuTGF0TG5nQm91bmRzP3Q6bmV3IHMuTGF0TG5nQm91bmRzKHQsZSl9LHMuUHJvamVjdGlvbj17fSxzLlByb2plY3Rpb24uU3BoZXJpY2FsTWVyY2F0b3I9e01BWF9MQVRJVFVERTo4NS4wNTExMjg3Nzk4LHByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9cy5MYXRMbmcuREVHX1RPX1JBRCxpPXRoaXMuTUFYX0xBVElUVURFLG49TWF0aC5tYXgoTWF0aC5taW4oaSx0LmxhdCksLWkpLG89dC5sbmcqZSxhPW4qZTtyZXR1cm4gYT1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrYS8yKSksbmV3IHMuUG9pbnQobyxhKX0sdW5wcm9qZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXMuTGF0TG5nLlJBRF9UT19ERUcsaT10LngqZSxuPSgyKk1hdGguYXRhbihNYXRoLmV4cCh0LnkpKS1NYXRoLlBJLzIpKmU7cmV0dXJuIG5ldyBzLkxhdExuZyhuLGkpfX0scy5Qcm9qZWN0aW9uLkxvbkxhdD17cHJvamVjdDpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuUG9pbnQodC5sbmcsdC5sYXQpfSx1bnByb2plY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkxhdExuZyh0LnksdC54KX19LHMuQ1JTPXtsYXRMbmdUb1BvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodCksbj10aGlzLnNjYWxlKGUpO3JldHVybiB0aGlzLnRyYW5zZm9ybWF0aW9uLl90cmFuc2Zvcm0oaSxuKX0scG9pbnRUb0xhdExuZzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuc2NhbGUoZSksbj10aGlzLnRyYW5zZm9ybWF0aW9uLnVudHJhbnNmb3JtKHQsaSk7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3Qobil9LHByb2plY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQpfSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gMjU2Kk1hdGgucG93KDIsdCl9LGdldFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zY2FsZSh0KTtyZXR1cm4gcy5wb2ludChlLGUpfX0scy5DUlMuU2ltcGxlPXMuZXh0ZW5kKHt9LHMuQ1JTLHtwcm9qZWN0aW9uOnMuUHJvamVjdGlvbi5Mb25MYXQsdHJhbnNmb3JtYXRpb246bmV3IHMuVHJhbnNmb3JtYXRpb24oMSwwLC0xLDApLHNjYWxlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygyLHQpfX0pLHMuQ1JTLkVQU0czODU3PXMuZXh0ZW5kKHt9LHMuQ1JTLHtjb2RlOiJFUFNHOjM4NTciLHByb2plY3Rpb246cy5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yLHRyYW5zZm9ybWF0aW9uOm5ldyBzLlRyYW5zZm9ybWF0aW9uKC41L01hdGguUEksLjUsLS41L01hdGguUEksLjUpLHByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodCksaT02Mzc4MTM3O3JldHVybiBlLm11bHRpcGx5QnkoaSl9fSkscy5DUlMuRVBTRzkwMDkxMz1zLmV4dGVuZCh7fSxzLkNSUy5FUFNHMzg1Nyx7Y29kZToiRVBTRzo5MDA5MTMifSkscy5DUlMuRVBTRzQzMjY9cy5leHRlbmQoe30scy5DUlMse2NvZGU6IkVQU0c6NDMyNiIscHJvamVjdGlvbjpzLlByb2plY3Rpb24uTG9uTGF0LHRyYW5zZm9ybWF0aW9uOm5ldyBzLlRyYW5zZm9ybWF0aW9uKDEvMzYwLC41LC0xLzM2MCwuNSl9KSxzLk1hcD1zLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6cy5NaXhpbi5FdmVudHMsb3B0aW9uczp7Y3JzOnMuQ1JTLkVQU0czODU3LGZhZGVBbmltYXRpb246cy5Eb21VdGlsLlRSQU5TSVRJT04mJiFzLkJyb3dzZXIuYW5kcm9pZDIzLHRyYWNrUmVzaXplOiEwLG1hcmtlclpvb21BbmltYXRpb246cy5Eb21VdGlsLlRSQU5TSVRJT04mJnMuQnJvd3Nlci5hbnkzZH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe2U9cy5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5faW5pdENvbnRhaW5lcih0KSx0aGlzLl9pbml0TGF5b3V0KCksdGhpcy5fb25SZXNpemU9cy5iaW5kKHRoaXMuX29uUmVzaXplLHRoaXMpLHRoaXMuX2luaXRFdmVudHMoKSxlLm1heEJvdW5kcyYmdGhpcy5zZXRNYXhCb3VuZHMoZS5tYXhCb3VuZHMpLGUuY2VudGVyJiZlLnpvb20hPT1uJiZ0aGlzLnNldFZpZXcocy5sYXRMbmcoZS5jZW50ZXIpLGUuem9vbSx7cmVzZXQ6ITB9KSx0aGlzLl9oYW5kbGVycz1bXSx0aGlzLl9sYXllcnM9e30sdGhpcy5fem9vbUJvdW5kTGF5ZXJzPXt9LHRoaXMuX3RpbGVMYXllcnNOdW09MCx0aGlzLmNhbGxJbml0SG9va3MoKSx0aGlzLl9hZGRMYXllcnMoZS5sYXllcnMpfSxzZXRWaWV3OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZT09PW4/dGhpcy5nZXRab29tKCk6ZSx0aGlzLl9yZXNldFZpZXcocy5sYXRMbmcodCksdGhpcy5fbGltaXRab29tKGUpKSx0aGlzfSxzZXRab29tOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xvYWRlZD90aGlzLnNldFZpZXcodGhpcy5nZXRDZW50ZXIoKSx0LHt6b29tOmV9KToodGhpcy5fem9vbT10aGlzLl9saW1pdFpvb20odCksdGhpcyl9LHpvb21JbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldFpvb20odGhpcy5fem9vbSsodHx8MSksZSl9LHpvb21PdXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20tKHR8fDEpLGUpfSxzZXRab29tQXJvdW5kOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmdldFpvb21TY2FsZShlKSxvPXRoaXMuZ2V0U2l6ZSgpLmRpdmlkZUJ5KDIpLGE9dCBpbnN0YW5jZW9mIHMuUG9pbnQ/dDp0aGlzLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQodCkscj1hLnN1YnRyYWN0KG8pLm11bHRpcGx5QnkoMS0xL24pLGw9dGhpcy5jb250YWluZXJQb2ludFRvTGF0TG5nKG8uYWRkKHIpKTtyZXR1cm4gdGhpcy5zZXRWaWV3KGwsZSx7em9vbTppfSl9LGZpdEJvdW5kczpmdW5jdGlvbih0LGUpe2U9ZXx8e30sdD10LmdldEJvdW5kcz90LmdldEJvdW5kcygpOnMubGF0TG5nQm91bmRzKHQpO3ZhciBpPXMucG9pbnQoZS5wYWRkaW5nVG9wTGVmdHx8ZS5wYWRkaW5nfHxbMCwwXSksbj1zLnBvaW50KGUucGFkZGluZ0JvdHRvbVJpZ2h0fHxlLnBhZGRpbmd8fFswLDBdKSxvPXRoaXMuZ2V0Qm91bmRzWm9vbSh0LCExLGkuYWRkKG4pKSxhPW4uc3VidHJhY3QoaSkuZGl2aWRlQnkoMikscj10aGlzLnByb2plY3QodC5nZXRTb3V0aFdlc3QoKSxvKSxsPXRoaXMucHJvamVjdCh0LmdldE5vcnRoRWFzdCgpLG8pLGg9dGhpcy51bnByb2plY3Qoci5hZGQobCkuZGl2aWRlQnkoMikuYWRkKGEpLG8pO3JldHVybiBvPWUmJmUubWF4Wm9vbT9NYXRoLm1pbihlLm1heFpvb20sbyk6byx0aGlzLnNldFZpZXcoaCxvLGUpfSxmaXRXb3JsZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maXRCb3VuZHMoW1stOTAsLTE4MF0sWzkwLDE4MF1dLHQpfSxwYW5UbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldFZpZXcodCx0aGlzLl96b29tLHtwYW46ZX0pfSxwYW5CeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maXJlKCJtb3Zlc3RhcnQiKSx0aGlzLl9yYXdQYW5CeShzLnBvaW50KHQpKSx0aGlzLmZpcmUoIm1vdmUiKSx0aGlzLmZpcmUoIm1vdmVlbmQiKX0sc2V0TWF4Qm91bmRzOmZ1bmN0aW9uKHQpe3JldHVybiB0PXMubGF0TG5nQm91bmRzKHQpLHRoaXMub3B0aW9ucy5tYXhCb3VuZHM9dCx0Pyh0aGlzLl9sb2FkZWQmJnRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcygpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyx0aGlzKSk6dGhpcy5vZmYoIm1vdmVlbmQiLHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyx0aGlzKX0scGFuSW5zaWRlQm91bmRzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRDZW50ZXIoKSxuPXRoaXMuX2xpbWl0Q2VudGVyKGksdGhpcy5fem9vbSx0KTtyZXR1cm4gaS5lcXVhbHMobik/dGhpczp0aGlzLnBhblRvKG4sZSl9LGFkZExheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPXMuc3RhbXAodCk7cmV0dXJuIHRoaXMuX2xheWVyc1tlXT90aGlzOih0aGlzLl9sYXllcnNbZV09dCwhdC5vcHRpb25zfHxpc05hTih0Lm9wdGlvbnMubWF4Wm9vbSkmJmlzTmFOKHQub3B0aW9ucy5taW5ab29tKXx8KHRoaXMuX3pvb21Cb3VuZExheWVyc1tlXT10LHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKSksdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24mJnMuVGlsZUxheWVyJiZ0IGluc3RhbmNlb2Ygcy5UaWxlTGF5ZXImJih0aGlzLl90aWxlTGF5ZXJzTnVtKyssdGhpcy5fdGlsZUxheWVyc1RvTG9hZCsrLHQub24oImxvYWQiLHRoaXMuX29uVGlsZUxheWVyTG9hZCx0aGlzKSksdGhpcy5fbG9hZGVkJiZ0aGlzLl9sYXllckFkZCh0KSx0aGlzKX0scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9cy5zdGFtcCh0KTtyZXR1cm4gdGhpcy5fbGF5ZXJzW2VdPyh0aGlzLl9sb2FkZWQmJnQub25SZW1vdmUodGhpcyksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSx0aGlzLl9sb2FkZWQmJnRoaXMuZmlyZSgibGF5ZXJyZW1vdmUiLHtsYXllcjp0fSksdGhpcy5fem9vbUJvdW5kTGF5ZXJzW2VdJiYoZGVsZXRlIHRoaXMuX3pvb21Cb3VuZExheWVyc1tlXSx0aGlzLl91cGRhdGVab29tTGV2ZWxzKCkpLHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uJiZzLlRpbGVMYXllciYmdCBpbnN0YW5jZW9mIHMuVGlsZUxheWVyJiYodGhpcy5fdGlsZUxheWVyc051bS0tLHRoaXMuX3RpbGVMYXllcnNUb0xvYWQtLSx0Lm9mZigibG9hZCIsdGhpcy5fb25UaWxlTGF5ZXJMb2FkLHRoaXMpKSx0aGlzKTp0aGlzfSxoYXNMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdD9zLnN0YW1wKHQpaW4gdGhpcy5fbGF5ZXJzOiExfSxlYWNoTGF5ZXI6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKXQuY2FsbChlLHRoaXMuX2xheWVyc1tpXSk7cmV0dXJuIHRoaXN9LGludmFsaWRhdGVTaXplOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuIHRoaXM7dD1zLmV4dGVuZCh7YW5pbWF0ZTohMSxwYW46ITB9LHQ9PT0hMD97YW5pbWF0ZTohMH06dCk7CnZhciBlPXRoaXMuZ2V0U2l6ZSgpO3RoaXMuX3NpemVDaGFuZ2VkPSEwLHRoaXMuX2luaXRpYWxDZW50ZXI9bnVsbDt2YXIgaT10aGlzLmdldFNpemUoKSxuPWUuZGl2aWRlQnkoMikucm91bmQoKSxvPWkuZGl2aWRlQnkoMikucm91bmQoKSxhPW4uc3VidHJhY3Qobyk7cmV0dXJuIGEueHx8YS55Pyh0LmFuaW1hdGUmJnQucGFuP3RoaXMucGFuQnkoYSk6KHQucGFuJiZ0aGlzLl9yYXdQYW5CeShhKSx0aGlzLmZpcmUoIm1vdmUiKSx0LmRlYm91bmNlTW92ZWVuZD8oY2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lciksdGhpcy5fc2l6ZVRpbWVyPXNldFRpbWVvdXQocy5iaW5kKHRoaXMuZmlyZSx0aGlzLCJtb3ZlZW5kIiksMjAwKSk6dGhpcy5maXJlKCJtb3ZlZW5kIikpLHRoaXMuZmlyZSgicmVzaXplIix7b2xkU2l6ZTplLG5ld1NpemU6aX0pKTp0aGlzfSxhZGRIYW5kbGVyOmZ1bmN0aW9uKHQsZSl7aWYoIWUpcmV0dXJuIHRoaXM7dmFyIGk9dGhpc1t0XT1uZXcgZSh0aGlzKTtyZXR1cm4gdGhpcy5faGFuZGxlcnMucHVzaChpKSx0aGlzLm9wdGlvbnNbdF0mJmkuZW5hYmxlKCksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fbG9hZGVkJiZ0aGlzLmZpcmUoInVubG9hZCIpLHRoaXMuX2luaXRFdmVudHMoIm9mZiIpO3RyeXtkZWxldGUgdGhpcy5fY29udGFpbmVyLl9sZWFmbGV0fWNhdGNoKHQpe3RoaXMuX2NvbnRhaW5lci5fbGVhZmxldD1ufXJldHVybiB0aGlzLl9jbGVhclBhbmVzKCksdGhpcy5fY2xlYXJDb250cm9sUG9zJiZ0aGlzLl9jbGVhckNvbnRyb2xQb3MoKSx0aGlzLl9jbGVhckhhbmRsZXJzKCksdGhpc30sZ2V0Q2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrSWZMb2FkZWQoKSx0aGlzLl9pbml0aWFsQ2VudGVyJiYhdGhpcy5fbW92ZWQoKT90aGlzLl9pbml0aWFsQ2VudGVyOnRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKSl9LGdldFpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9vbX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQaXhlbEJvdW5kcygpLGU9dGhpcy51bnByb2plY3QodC5nZXRCb3R0b21MZWZ0KCkpLGk9dGhpcy51bnByb2plY3QodC5nZXRUb3BSaWdodCgpKTtyZXR1cm4gbmV3IHMuTGF0TG5nQm91bmRzKGUsaSl9LGdldE1pblpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1pblpvb209PT1uP3RoaXMuX2xheWVyc01pblpvb209PT1uPzA6dGhpcy5fbGF5ZXJzTWluWm9vbTp0aGlzLm9wdGlvbnMubWluWm9vbX0sZ2V0TWF4Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4Wm9vbT09PW4/dGhpcy5fbGF5ZXJzTWF4Wm9vbT09PW4/MS8wOnRoaXMuX2xheWVyc01heFpvb206dGhpcy5vcHRpb25zLm1heFpvb219LGdldEJvdW5kc1pvb206ZnVuY3Rpb24odCxlLGkpe3Q9cy5sYXRMbmdCb3VuZHModCk7dmFyIG4sbz10aGlzLmdldE1pblpvb20oKS0oZT8xOjApLGE9dGhpcy5nZXRNYXhab29tKCkscj10aGlzLmdldFNpemUoKSxsPXQuZ2V0Tm9ydGhXZXN0KCksaD10LmdldFNvdXRoRWFzdCgpLHU9ITA7aT1zLnBvaW50KGl8fFswLDBdKTtkbyBvKyssbj10aGlzLnByb2plY3QoaCxvKS5zdWJ0cmFjdCh0aGlzLnByb2plY3QobCxvKSkuYWRkKGkpLHU9ZT9uLng8ci54fHxuLnk8ci55OnIuY29udGFpbnMobik7d2hpbGUodSYmYT49byk7cmV0dXJuIHUmJmU/bnVsbDplP286by0xfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuKCF0aGlzLl9zaXplfHx0aGlzLl9zaXplQ2hhbmdlZCkmJih0aGlzLl9zaXplPW5ldyBzLlBvaW50KHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCx0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0KSx0aGlzLl9zaXplQ2hhbmdlZD0hMSksdGhpcy5fc2l6ZS5jbG9uZSgpfSxnZXRQaXhlbEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRvcExlZnRQb2ludCgpO3JldHVybiBuZXcgcy5Cb3VuZHModCx0LmFkZCh0aGlzLmdldFNpemUoKSkpfSxnZXRQaXhlbE9yaWdpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja0lmTG9hZGVkKCksdGhpcy5faW5pdGlhbFRvcExlZnRQb2ludH0sZ2V0UGFuZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuZXN9LGdldENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9LGdldFpvb21TY2FsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMuY3JzO3JldHVybiBlLnNjYWxlKHQpL2Uuc2NhbGUodGhpcy5fem9vbSl9LGdldFNjYWxlWm9vbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fem9vbStNYXRoLmxvZyh0KS9NYXRoLkxOMn0scHJvamVjdDpmdW5jdGlvbih0LGUpe3JldHVybiBlPWU9PT1uP3RoaXMuX3pvb206ZSx0aGlzLm9wdGlvbnMuY3JzLmxhdExuZ1RvUG9pbnQocy5sYXRMbmcodCksZSl9LHVucHJvamVjdDpmdW5jdGlvbih0LGUpe3JldHVybiBlPWU9PT1uP3RoaXMuX3pvb206ZSx0aGlzLm9wdGlvbnMuY3JzLnBvaW50VG9MYXRMbmcocy5wb2ludCh0KSxlKX0sbGF5ZXJQb2ludFRvTGF0TG5nOmZ1bmN0aW9uKHQpe3ZhciBlPXMucG9pbnQodCkuYWRkKHRoaXMuZ2V0UGl4ZWxPcmlnaW4oKSk7cmV0dXJuIHRoaXMudW5wcm9qZWN0KGUpfSxsYXRMbmdUb0xheWVyUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0KHMubGF0TG5nKHQpKS5fcm91bmQoKTtyZXR1cm4gZS5fc3VidHJhY3QodGhpcy5nZXRQaXhlbE9yaWdpbigpKX0sY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHMucG9pbnQodCkuc3VidHJhY3QodGhpcy5fZ2V0TWFwUGFuZVBvcygpKX0sbGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHMucG9pbnQodCkuYWRkKHRoaXMuX2dldE1hcFBhbmVQb3MoKSl9LGNvbnRhaW5lclBvaW50VG9MYXRMbmc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludChzLnBvaW50KHQpKTtyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcoZSl9LGxhdExuZ1RvQ29udGFpbmVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQodGhpcy5sYXRMbmdUb0xheWVyUG9pbnQocy5sYXRMbmcodCkpKX0sbW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHMuRG9tRXZlbnQuZ2V0TW91c2VQb3NpdGlvbih0LHRoaXMuX2NvbnRhaW5lcil9LG1vdXNlRXZlbnRUb0xheWVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQodGhpcy5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludCh0KSl9LG1vdXNlRXZlbnRUb0xhdExuZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcodGhpcy5tb3VzZUV2ZW50VG9MYXllclBvaW50KHQpKX0sX2luaXRDb250YWluZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udGFpbmVyPXMuRG9tVXRpbC5nZXQodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJNYXAgY29udGFpbmVyIG5vdCBmb3VuZC4iKTtpZihlLl9sZWFmbGV0KXRocm93IG5ldyBFcnJvcigiTWFwIGNvbnRhaW5lciBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiIpO2UuX2xlYWZsZXQ9ITB9LF9pbml0TGF5b3V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyO3MuRG9tVXRpbC5hZGRDbGFzcyh0LCJsZWFmbGV0LWNvbnRhaW5lciIrKHMuQnJvd3Nlci50b3VjaD8iIGxlYWZsZXQtdG91Y2giOiIiKSsocy5Ccm93c2VyLnJldGluYT8iIGxlYWZsZXQtcmV0aW5hIjoiIikrKHMuQnJvd3Nlci5pZWx0OT8iIGxlYWZsZXQtb2xkaWUiOiIiKSsodGhpcy5vcHRpb25zLmZhZGVBbmltYXRpb24/IiBsZWFmbGV0LWZhZGUtYW5pbSI6IiIpKTt2YXIgZT1zLkRvbVV0aWwuZ2V0U3R5bGUodCwicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ZSYmInJlbGF0aXZlIiE9PWUmJiJmaXhlZCIhPT1lJiYodC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSx0aGlzLl9pbml0UGFuZXMoKSx0aGlzLl9pbml0Q29udHJvbFBvcyYmdGhpcy5faW5pdENvbnRyb2xQb3MoKX0sX2luaXRQYW5lczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BhbmVzPXt9O3RoaXMuX21hcFBhbmU9dC5tYXBQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtbWFwLXBhbmUiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdGlsZVBhbmU9dC50aWxlUGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LXRpbGUtcGFuZSIsdGhpcy5fbWFwUGFuZSksdC5vYmplY3RzUGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LW9iamVjdHMtcGFuZSIsdGhpcy5fbWFwUGFuZSksdC5zaGFkb3dQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtc2hhZG93LXBhbmUiKSx0Lm92ZXJsYXlQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtb3ZlcmxheS1wYW5lIiksdC5tYXJrZXJQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtbWFya2VyLXBhbmUiKSx0LnBvcHVwUGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LXBvcHVwLXBhbmUiKTt2YXIgZT0iIGxlYWZsZXQtem9vbS1oaWRlIjt0aGlzLm9wdGlvbnMubWFya2VyWm9vbUFuaW1hdGlvbnx8KHMuRG9tVXRpbC5hZGRDbGFzcyh0Lm1hcmtlclBhbmUsZSkscy5Eb21VdGlsLmFkZENsYXNzKHQuc2hhZG93UGFuZSxlKSxzLkRvbVV0aWwuYWRkQ2xhc3ModC5wb3B1cFBhbmUsZSkpfSxfY3JlYXRlUGFuZTpmdW5jdGlvbih0LGUpe3JldHVybiBzLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQsZXx8dGhpcy5fcGFuZXMub2JqZWN0c1BhbmUpfSxfY2xlYXJQYW5lczpmdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9tYXBQYW5lKX0sX2FkZExheWVyczpmdW5jdGlvbih0KXt0PXQ/cy5VdGlsLmlzQXJyYXkodCk/dDpbdF06W107Zm9yKHZhciBlPTAsaT10Lmxlbmd0aDtpPmU7ZSsrKXRoaXMuYWRkTGF5ZXIodFtlXSl9LF9yZXNldFZpZXc6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5fem9vbSE9PWU7bnx8KHRoaXMuZmlyZSgibW92ZXN0YXJ0IiksbyYmdGhpcy5maXJlKCJ6b29tc3RhcnQiKSksdGhpcy5fem9vbT1lLHRoaXMuX2luaXRpYWxDZW50ZXI9dCx0aGlzLl9pbml0aWFsVG9wTGVmdFBvaW50PXRoaXMuX2dldE5ld1RvcExlZnRQb2ludCh0KSxpP3RoaXMuX2luaXRpYWxUb3BMZWZ0UG9pbnQuX2FkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpOnMuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLG5ldyBzLlBvaW50KDAsMCkpLHRoaXMuX3RpbGVMYXllcnNUb0xvYWQ9dGhpcy5fdGlsZUxheWVyc051bTt2YXIgYT0hdGhpcy5fbG9hZGVkO3RoaXMuX2xvYWRlZD0hMCxhJiYodGhpcy5maXJlKCJsb2FkIiksdGhpcy5lYWNoTGF5ZXIodGhpcy5fbGF5ZXJBZGQsdGhpcykpLHRoaXMuZmlyZSgidmlld3Jlc2V0Iix7aGFyZDohaX0pLHRoaXMuZmlyZSgibW92ZSIpLChvfHxuKSYmdGhpcy5maXJlKCJ6b29tZW5kIiksdGhpcy5maXJlKCJtb3ZlZW5kIix7aGFyZDohaX0pfSxfcmF3UGFuQnk6ZnVuY3Rpb24odCl7cy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KHQpKX0sX2dldFpvb21TcGFuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TWF4Wm9vbSgpLXRoaXMuZ2V0TWluWm9vbSgpfSxfdXBkYXRlWm9vbUxldmVsczpmdW5jdGlvbigpe3ZhciB0LGU9MS8wLGk9LTEvMCxvPXRoaXMuX2dldFpvb21TcGFuKCk7Zm9yKHQgaW4gdGhpcy5fem9vbUJvdW5kTGF5ZXJzKXt2YXIgcz10aGlzLl96b29tQm91bmRMYXllcnNbdF07aXNOYU4ocy5vcHRpb25zLm1pblpvb20pfHwoZT1NYXRoLm1pbihlLHMub3B0aW9ucy5taW5ab29tKSksaXNOYU4ocy5vcHRpb25zLm1heFpvb20pfHwoaT1NYXRoLm1heChpLHMub3B0aW9ucy5tYXhab29tKSl9dD09PW4/dGhpcy5fbGF5ZXJzTWF4Wm9vbT10aGlzLl9sYXllcnNNaW5ab29tPW46KHRoaXMuX2xheWVyc01heFpvb209aSx0aGlzLl9sYXllcnNNaW5ab29tPWUpLG8hPT10aGlzLl9nZXRab29tU3BhbigpJiZ0aGlzLmZpcmUoInpvb21sZXZlbHNjaGFuZ2UiKX0sX3Bhbkluc2lkZU1heEJvdW5kczpmdW5jdGlvbigpe3RoaXMucGFuSW5zaWRlQm91bmRzKHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpfSxfY2hlY2tJZkxvYWRlZDpmdW5jdGlvbigpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKCJTZXQgbWFwIGNlbnRlciBhbmQgem9vbSBmaXJzdC4iKX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oZSl7aWYocy5Eb21FdmVudCl7ZT1lfHwib24iLHMuRG9tRXZlbnRbZV0odGhpcy5fY29udGFpbmVyLCJjbGljayIsdGhpcy5fb25Nb3VzZUNsaWNrLHRoaXMpO3ZhciBpLG4sbz1bImRibGNsaWNrIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiXTtmb3IoaT0wLG49by5sZW5ndGg7bj5pO2krKylzLkRvbUV2ZW50W2VdKHRoaXMuX2NvbnRhaW5lcixvW2ldLHRoaXMuX2ZpcmVNb3VzZUV2ZW50LHRoaXMpO3RoaXMub3B0aW9ucy50cmFja1Jlc2l6ZSYmcy5Eb21FdmVudFtlXSh0LCJyZXNpemUiLHRoaXMuX29uUmVzaXplLHRoaXMpfX0sX29uUmVzaXplOmZ1bmN0aW9uKCl7cy5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9yZXNpemVSZXF1ZXN0KSx0aGlzLl9yZXNpemVSZXF1ZXN0PXMuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlU2l6ZSh7ZGVib3VuY2VNb3ZlZW5kOiEwfSl9LHRoaXMsITEsdGhpcy5fY29udGFpbmVyKX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXshdGhpcy5fbG9hZGVkfHwhdC5fc2ltdWxhdGVkJiYodGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5tb3ZlZCgpfHx0aGlzLmJveFpvb20mJnRoaXMuYm94Wm9vbS5tb3ZlZCgpKXx8cy5Eb21FdmVudC5fc2tpcHBlZCh0KXx8KHRoaXMuZmlyZSgicHJlY2xpY2siKSx0aGlzLl9maXJlTW91c2VFdmVudCh0KSl9LF9maXJlTW91c2VFdmVudDpmdW5jdGlvbih0KXtpZih0aGlzLl9sb2FkZWQmJiFzLkRvbUV2ZW50Ll9za2lwcGVkKHQpKXt2YXIgZT10LnR5cGU7aWYoZT0ibW91c2VlbnRlciI9PT1lPyJtb3VzZW92ZXIiOiJtb3VzZWxlYXZlIj09PWU/Im1vdXNlb3V0IjplLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnMoZSkpeyJjb250ZXh0bWVudSI9PT1lJiZzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpO3ZhciBpPXRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksbj10aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGkpLG89dGhpcy5sYXllclBvaW50VG9MYXRMbmcobik7dGhpcy5maXJlKGUse2xhdGxuZzpvLGxheWVyUG9pbnQ6bixjb250YWluZXJQb2ludDppLG9yaWdpbmFsRXZlbnQ6dH0pfX19LF9vblRpbGVMYXllckxvYWQ6ZnVuY3Rpb24oKXt0aGlzLl90aWxlTGF5ZXJzVG9Mb2FkLS0sdGhpcy5fdGlsZUxheWVyc051bSYmIXRoaXMuX3RpbGVMYXllcnNUb0xvYWQmJnRoaXMuZmlyZSgidGlsZWxheWVyc2xvYWQiKX0sX2NsZWFySGFuZGxlcnM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuX2hhbmRsZXJzLmxlbmd0aDtlPnQ7dCsrKXRoaXMuX2hhbmRsZXJzW3RdLmRpc2FibGUoKX0sd2hlblJlYWR5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xvYWRlZD90LmNhbGwoZXx8dGhpcyx0aGlzKTp0aGlzLm9uKCJsb2FkIix0LGUpLHRoaXN9LF9sYXllckFkZDpmdW5jdGlvbih0KXt0Lm9uQWRkKHRoaXMpLHRoaXMuZmlyZSgibGF5ZXJhZGQiLHtsYXllcjp0fSl9LF9nZXRNYXBQYW5lUG9zOmZ1bmN0aW9uKCl7cmV0dXJuIHMuRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lKX0sX21vdmVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0TWFwUGFuZVBvcygpO3JldHVybiB0JiYhdC5lcXVhbHMoWzAsMF0pfSxfZ2V0VG9wTGVmdFBvaW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGl4ZWxPcmlnaW4oKS5zdWJ0cmFjdCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpfSxfZ2V0TmV3VG9wTGVmdFBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpO3JldHVybiB0aGlzLnByb2plY3QodCxlKS5fc3VidHJhY3QoaSkuX3JvdW5kKCl9LF9sYXRMbmdUb05ld0xheWVyUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2dldE5ld1RvcExlZnRQb2ludChpLGUpLmFkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpO3JldHVybiB0aGlzLnByb2plY3QodCxlKS5fc3VidHJhY3Qobil9LF9nZXRDZW50ZXJMYXllclBvaW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQodGhpcy5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpKX0sX2dldENlbnRlck9mZnNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sYXRMbmdUb0xheWVyUG9pbnQodCkuc3VidHJhY3QodGhpcy5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpKX0sX2xpbWl0Q2VudGVyOmZ1bmN0aW9uKHQsZSxpKXtpZighaSlyZXR1cm4gdDt2YXIgbj10aGlzLnByb2plY3QodCxlKSxvPXRoaXMuZ2V0U2l6ZSgpLmRpdmlkZUJ5KDIpLGE9bmV3IHMuQm91bmRzKG4uc3VidHJhY3Qobyksbi5hZGQobykpLHI9dGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KGEsaSxlKTtyZXR1cm4gdGhpcy51bnByb2plY3Qobi5hZGQociksZSl9LF9saW1pdE9mZnNldDpmdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB0O3ZhciBpPXRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxuPW5ldyBzLkJvdW5kcyhpLm1pbi5hZGQodCksaS5tYXguYWRkKHQpKTtyZXR1cm4gdC5hZGQodGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KG4sZSkpfSxfZ2V0Qm91bmRzT2Zmc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLnByb2plY3QoZS5nZXROb3J0aFdlc3QoKSxpKS5zdWJ0cmFjdCh0Lm1pbiksbz10aGlzLnByb2plY3QoZS5nZXRTb3V0aEVhc3QoKSxpKS5zdWJ0cmFjdCh0Lm1heCksYT10aGlzLl9yZWJvdW5kKG4ueCwtby54KSxyPXRoaXMuX3JlYm91bmQobi55LC1vLnkpO3JldHVybiBuZXcgcy5Qb2ludChhLHIpfSxfcmVib3VuZDpmdW5jdGlvbih0LGUpe3JldHVybiB0K2U+MD9NYXRoLnJvdW5kKHQtZSkvMjpNYXRoLm1heCgwLE1hdGguY2VpbCh0KSktTWF0aC5tYXgoMCxNYXRoLmZsb29yKGUpKX0sX2xpbWl0Wm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1pblpvb20oKSxpPXRoaXMuZ2V0TWF4Wm9vbSgpO3JldHVybiBNYXRoLm1heChlLE1hdGgubWluKGksdCkpfX0pLHMubWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLk1hcCh0LGUpfSxzLlByb2plY3Rpb24uTWVyY2F0b3I9e01BWF9MQVRJVFVERTo4NS4wODQwNTkxNTU2LFJfTUlOT1I6NjM1Njc1Mi4zMTQyNDUxNzksUl9NQUpPUjo2Mzc4MTM3LHByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9cy5MYXRMbmcuREVHX1RPX1JBRCxpPXRoaXMuTUFYX0xBVElUVURFLG49TWF0aC5tYXgoTWF0aC5taW4oaSx0LmxhdCksLWkpLG89dGhpcy5SX01BSk9SLGE9dGhpcy5SX01JTk9SLHI9dC5sbmcqZSpvLGw9biplLGg9YS9vLHU9TWF0aC5zcXJ0KDEtaCpoKSxjPXUqTWF0aC5zaW4obCk7Yz1NYXRoLnBvdygoMS1jKS8oMStjKSwuNSp1KTt2YXIgcD1NYXRoLnRhbiguNSooLjUqTWF0aC5QSS1sKSkvYztyZXR1cm4gbD0tbypNYXRoLmxvZyhwKSxuZXcgcy5Qb2ludChyLGwpfSx1bnByb2plY3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9cy5MYXRMbmcuUkFEX1RPX0RFRyxuPXRoaXMuUl9NQUpPUixvPXRoaXMuUl9NSU5PUixhPXQueCppL24scj1vL24sbD1NYXRoLnNxcnQoMS1yKnIpLGg9TWF0aC5leHAoLXQueS9uKSx1PU1hdGguUEkvMi0yKk1hdGguYXRhbihoKSxjPTE1LHA9MWUtNyxkPWMsbT0uMTtNYXRoLmFicyhtKT5wJiYtLWQ+MDspZT1sKk1hdGguc2luKHUpLG09TWF0aC5QSS8yLTIqTWF0aC5hdGFuKGgqTWF0aC5wb3coKDEtZSkvKDErZSksLjUqbCkpLXUsdSs9bTtyZXR1cm4gbmV3IHMuTGF0TG5nKHUqaSxhKX19LHMuQ1JTLkVQU0czMzk1PXMuZXh0ZW5kKHt9LHMuQ1JTLHtjb2RlOiJFUFNHOjMzOTUiLHByb2plY3Rpb246cy5Qcm9qZWN0aW9uLk1lcmNhdG9yLHRyYW5zZm9ybWF0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9cy5Qcm9qZWN0aW9uLk1lcmNhdG9yLGU9dC5SX01BSk9SLGk9LjUvKE1hdGguUEkqZSk7cmV0dXJuIG5ldyBzLlRyYW5zZm9ybWF0aW9uKGksLjUsLWksLjUpfSgpfSkscy5UaWxlTGF5ZXI9cy5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOnMuTWl4aW4uRXZlbnRzLG9wdGlvbnM6e21pblpvb206MCxtYXhab29tOjE4LHRpbGVTaXplOjI1NixzdWJkb21haW5zOiJhYmMiLGVycm9yVGlsZVVybDoiIixhdHRyaWJ1dGlvbjoiIix6b29tT2Zmc2V0OjAsb3BhY2l0eToxLHVubG9hZEludmlzaWJsZVRpbGVzOnMuQnJvd3Nlci5tb2JpbGUsdXBkYXRlV2hlbklkbGU6cy5Ccm93c2VyLm1vYmlsZX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe2U9cy5zZXRPcHRpb25zKHRoaXMsZSksZS5kZXRlY3RSZXRpbmEmJnMuQnJvd3Nlci5yZXRpbmEmJmUubWF4Wm9vbT4wJiYoZS50aWxlU2l6ZT1NYXRoLmZsb29yKGUudGlsZVNpemUvMiksZS56b29tT2Zmc2V0KyssZS5taW5ab29tPjAmJmUubWluWm9vbS0tLHRoaXMub3B0aW9ucy5tYXhab29tLS0pLGUuYm91bmRzJiYoZS5ib3VuZHM9cy5sYXRMbmdCb3VuZHMoZS5ib3VuZHMpKSx0aGlzLl91cmw9dDt2YXIgaT10aGlzLm9wdGlvbnMuc3ViZG9tYWluczsic3RyaW5nIj09dHlwZW9mIGkmJih0aGlzLm9wdGlvbnMuc3ViZG9tYWlucz1pLnNwbGl0KCIiKSl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2FuaW1hdGVkPXQuX3pvb21BbmltYXRlZCx0aGlzLl9pbml0Q29udGFpbmVyKCksdC5vbih7dmlld3Jlc2V0OnRoaXMuX3Jlc2V0LG1vdmVlbmQ6dGhpcy5fdXBkYXRlfSx0aGlzKSx0aGlzLl9hbmltYXRlZCYmdC5vbih7em9vbWFuaW06dGhpcy5fYW5pbWF0ZVpvb20sem9vbWVuZDp0aGlzLl9lbmRab29tQW5pbX0sdGhpcyksdGhpcy5vcHRpb25zLnVwZGF0ZVdoZW5JZGxlfHwodGhpcy5fbGltaXRlZFVwZGF0ZT1zLlV0aWwubGltaXRFeGVjQnlJbnRlcnZhbCh0aGlzLl91cGRhdGUsMTUwLHRoaXMpLHQub24oIm1vdmUiLHRoaXMuX2xpbWl0ZWRVcGRhdGUsdGhpcykpLHRoaXMuX3Jlc2V0KCksdGhpcy5fdXBkYXRlKCl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdC5vZmYoe3ZpZXdyZXNldDp0aGlzLl9yZXNldCxtb3ZlZW5kOnRoaXMuX3VwZGF0ZX0sdGhpcyksdGhpcy5fYW5pbWF0ZWQmJnQub2ZmKHt6b29tYW5pbTp0aGlzLl9hbmltYXRlWm9vbSx6b29tZW5kOnRoaXMuX2VuZFpvb21BbmltfSx0aGlzKSx0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGV8fHQub2ZmKCJtb3ZlIix0aGlzLl9saW1pdGVkVXBkYXRlLHRoaXMpLHRoaXMuX2NvbnRhaW5lcj1udWxsLHRoaXMuX21hcD1udWxsfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhbmVzLnRpbGVQYW5lO3JldHVybiB0aGlzLl9jb250YWluZXImJih0LmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fc2V0QXV0b1pJbmRleCh0LE1hdGgubWF4KSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhbmVzLnRpbGVQYW5lO3JldHVybiB0aGlzLl9jb250YWluZXImJih0Lmluc2VydEJlZm9yZSh0aGlzLl9jb250YWluZXIsdC5maXJzdENoaWxkKSx0aGlzLl9zZXRBdXRvWkluZGV4KHQsTWF0aC5taW4pKSx0aGlzfSxnZXRBdHRyaWJ1dGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuYXR0cmlidXRpb259LGdldENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9LHNldE9wYWNpdHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5vcGFjaXR5PXQsdGhpcy5fbWFwJiZ0aGlzLl91cGRhdGVPcGFjaXR5KCksdGhpc30sc2V0WkluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuekluZGV4PXQsdGhpcy5fdXBkYXRlWkluZGV4KCksdGhpc30sc2V0VXJsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3VybD10LGV8fHRoaXMucmVkcmF3KCksdGhpc30scmVkcmF3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMuX3Jlc2V0KHtoYXJkOiEwfSksdGhpcy5fdXBkYXRlKCkpLHRoaXN9LF91cGRhdGVaSW5kZXg6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXImJnRoaXMub3B0aW9ucy56SW5kZXghPT1uJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLnpJbmRleD10aGlzLm9wdGlvbnMuekluZGV4KX0sX3NldEF1dG9aSW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8scz10LmNoaWxkcmVuLGE9LWUoMS8wLC0xLzApO2ZvcihuPTAsbz1zLmxlbmd0aDtvPm47bisrKXNbbl0hPT10aGlzLl9jb250YWluZXImJihpPXBhcnNlSW50KHNbbl0uc3R5bGUuekluZGV4LDEwKSxpc05hTihpKXx8KGE9ZShhLGkpKSk7dGhpcy5vcHRpb25zLnpJbmRleD10aGlzLl9jb250YWluZXIuc3R5bGUuekluZGV4PShpc0Zpbml0ZShhKT9hOjApK2UoMSwtMSl9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90aWxlcztpZihzLkJyb3dzZXIuaWVsdDkpZm9yKHQgaW4gZSlzLkRvbVV0aWwuc2V0T3BhY2l0eShlW3RdLHRoaXMub3B0aW9ucy5vcGFjaXR5KTtlbHNlIHMuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lcix0aGlzLm9wdGlvbnMub3BhY2l0eSl9LF9pbml0Q29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9wYW5lcy50aWxlUGFuZTtpZighdGhpcy5fY29udGFpbmVyKXtpZih0aGlzLl9jb250YWluZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibGVhZmxldC1sYXllciIpLHRoaXMuX3VwZGF0ZVpJbmRleCgpLHRoaXMuX2FuaW1hdGVkKXt2YXIgZT0ibGVhZmxldC10aWxlLWNvbnRhaW5lciI7dGhpcy5fYmdCdWZmZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdGlsZUNvbnRhaW5lcj1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUsdGhpcy5fY29udGFpbmVyKX1lbHNlIHRoaXMuX3RpbGVDb250YWluZXI9dGhpcy5fY29udGFpbmVyO3QuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLm9wdGlvbnMub3BhY2l0eTwxJiZ0aGlzLl91cGRhdGVPcGFjaXR5KCl9fSxfcmVzZXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX3RpbGVzKXRoaXMuZmlyZSgidGlsZXVubG9hZCIse3RpbGU6dGhpcy5fdGlsZXNbZV19KTt0aGlzLl90aWxlcz17fSx0aGlzLl90aWxlc1RvTG9hZD0wLHRoaXMub3B0aW9ucy5yZXVzZVRpbGVzJiYodGhpcy5fdW51c2VkVGlsZXM9W10pLHRoaXMuX3RpbGVDb250YWluZXIuaW5uZXJIVE1MPSIiLHRoaXMuX2FuaW1hdGVkJiZ0JiZ0LmhhcmQmJnRoaXMuX2NsZWFyQmdCdWZmZXIoKSx0aGlzLl9pbml0Q29udGFpbmVyKCl9LF9nZXRUaWxlU2l6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcCxlPXQuZ2V0Wm9vbSgpK3RoaXMub3B0aW9ucy56b29tT2Zmc2V0LGk9dGhpcy5vcHRpb25zLm1heE5hdGl2ZVpvb20sbj10aGlzLm9wdGlvbnMudGlsZVNpemU7cmV0dXJuIGkmJmU+aSYmKG49TWF0aC5yb3VuZCh0LmdldFpvb21TY2FsZShlKS90LmdldFpvb21TY2FsZShpKSpuKSksbn0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX21hcCl7dmFyIHQ9dGhpcy5fbWFwLGU9dC5nZXRQaXhlbEJvdW5kcygpLGk9dC5nZXRab29tKCksbj10aGlzLl9nZXRUaWxlU2l6ZSgpO2lmKCEoaT50aGlzLm9wdGlvbnMubWF4Wm9vbXx8aTx0aGlzLm9wdGlvbnMubWluWm9vbSkpe3ZhciBvPXMuYm91bmRzKGUubWluLmRpdmlkZUJ5KG4pLl9mbG9vcigpLGUubWF4LmRpdmlkZUJ5KG4pLl9mbG9vcigpKTt0aGlzLl9hZGRUaWxlc0Zyb21DZW50ZXJPdXQobyksKHRoaXMub3B0aW9ucy51bmxvYWRJbnZpc2libGVUaWxlc3x8dGhpcy5vcHRpb25zLnJldXNlVGlsZXMpJiZ0aGlzLl9yZW1vdmVPdGhlclRpbGVzKG8pfX19LF9hZGRUaWxlc0Zyb21DZW50ZXJPdXQ6ZnVuY3Rpb24odCl7dmFyIGUsbixvLGE9W10scj10LmdldENlbnRlcigpO2ZvcihlPXQubWluLnk7ZTw9dC5tYXgueTtlKyspZm9yKG49dC5taW4ueDtuPD10Lm1heC54O24rKylvPW5ldyBzLlBvaW50KG4sZSksdGhpcy5fdGlsZVNob3VsZEJlTG9hZGVkKG8pJiZhLnB1c2gobyk7dmFyIGw9YS5sZW5ndGg7aWYoMCE9PWwpe2Euc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRpc3RhbmNlVG8ociktZS5kaXN0YW5jZVRvKHIpfSk7dmFyIGg9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHRoaXMuX3RpbGVzVG9Mb2FkfHx0aGlzLmZpcmUoImxvYWRpbmciKSx0aGlzLl90aWxlc1RvTG9hZCs9bCxuPTA7bD5uO24rKyl0aGlzLl9hZGRUaWxlKGFbbl0saCk7dGhpcy5fdGlsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChoKX19LF90aWxlU2hvdWxkQmVMb2FkZWQ6ZnVuY3Rpb24odCl7aWYodC54KyI6Iit0LnkgaW4gdGhpcy5fdGlsZXMpcmV0dXJuITE7dmFyIGU9dGhpcy5vcHRpb25zO2lmKCFlLmNvbnRpbnVvdXNXb3JsZCl7dmFyIGk9dGhpcy5fZ2V0V3JhcFRpbGVOdW0oKTtpZihlLm5vV3JhcCYmKHQueDwwfHx0Lng+PWkueCl8fHQueTwwfHx0Lnk+PWkueSlyZXR1cm4hMX1pZihlLmJvdW5kcyl7dmFyIG49ZS50aWxlU2l6ZSxvPXQubXVsdGlwbHlCeShuKSxzPW8uYWRkKFtuLG5dKSxhPXRoaXMuX21hcC51bnByb2plY3Qobykscj10aGlzLl9tYXAudW5wcm9qZWN0KHMpO2lmKGUuY29udGludW91c1dvcmxkfHxlLm5vV3JhcHx8KGE9YS53cmFwKCkscj1yLndyYXAoKSksIWUuYm91bmRzLmludGVyc2VjdHMoW2Escl0pKXJldHVybiExfXJldHVybiEwfSxfcmVtb3ZlT3RoZXJUaWxlczpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbztmb3IobyBpbiB0aGlzLl90aWxlcyllPW8uc3BsaXQoIjoiKSxpPXBhcnNlSW50KGVbMF0sMTApLG49cGFyc2VJbnQoZVsxXSwxMCksKGk8dC5taW4ueHx8aT50Lm1heC54fHxuPHQubWluLnl8fG4+dC5tYXgueSkmJnRoaXMuX3JlbW92ZVRpbGUobyl9LF9yZW1vdmVUaWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbGVzW3RdO3RoaXMuZmlyZSgidGlsZXVubG9hZCIse3RpbGU6ZSx1cmw6ZS5zcmN9KSx0aGlzLm9wdGlvbnMucmV1c2VUaWxlcz8ocy5Eb21VdGlsLnJlbW92ZUNsYXNzKGUsImxlYWZsZXQtdGlsZS1sb2FkZWQiKSx0aGlzLl91bnVzZWRUaWxlcy5wdXNoKGUpKTplLnBhcmVudE5vZGU9PT10aGlzLl90aWxlQ29udGFpbmVyJiZ0aGlzLl90aWxlQ29udGFpbmVyLnJlbW92ZUNoaWxkKGUpLHMuQnJvd3Nlci5hbmRyb2lkfHwoZS5vbmxvYWQ9bnVsbCxlLnNyYz1zLlV0aWwuZW1wdHlJbWFnZVVybCksZGVsZXRlIHRoaXMuX3RpbGVzW3RdfSxfYWRkVGlsZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldFRpbGVQb3ModCksbj10aGlzLl9nZXRUaWxlKCk7cy5Eb21VdGlsLnNldFBvc2l0aW9uKG4saSxzLkJyb3dzZXIuY2hyb21lKSx0aGlzLl90aWxlc1t0LngrIjoiK3QueV09bix0aGlzLl9sb2FkVGlsZShuLHQpLG4ucGFyZW50Tm9kZSE9PXRoaXMuX3RpbGVDb250YWluZXImJmUuYXBwZW5kQ2hpbGQobil9LF9nZXRab29tRm9yVXJsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5fbWFwLmdldFpvb20oKTtyZXR1cm4gdC56b29tUmV2ZXJzZSYmKGU9dC5tYXhab29tLWUpLGUrPXQuem9vbU9mZnNldCx0Lm1heE5hdGl2ZVpvb20/TWF0aC5taW4oZSx0Lm1heE5hdGl2ZVpvb20pOmV9LF9nZXRUaWxlUG9zOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcC5nZXRQaXhlbE9yaWdpbigpLGk9dGhpcy5fZ2V0VGlsZVNpemUoKTtyZXR1cm4gdC5tdWx0aXBseUJ5KGkpLnN1YnRyYWN0KGUpfSxnZXRUaWxlVXJsOmZ1bmN0aW9uKHQpe3JldHVybiBzLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLHMuZXh0ZW5kKHtzOnRoaXMuX2dldFN1YmRvbWFpbih0KSx6OnQueix4OnQueCx5OnQueX0sdGhpcy5vcHRpb25zKSl9LF9nZXRXcmFwVGlsZU51bTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5vcHRpb25zLmNycyxlPXQuZ2V0U2l6ZSh0aGlzLl9tYXAuZ2V0Wm9vbSgpKTtyZXR1cm4gZS5kaXZpZGVCeSh0aGlzLm9wdGlvbnMudGlsZVNpemUpfSxfYWRqdXN0VGlsZVBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFdyYXBUaWxlTnVtKCk7dGhpcy5vcHRpb25zLmNvbnRpbnVvdXNXb3JsZHx8dGhpcy5vcHRpb25zLm5vV3JhcHx8KHQueD0odC54JWUueCtlLngpJWUueCksdGhpcy5vcHRpb25zLnRtcyYmKHQueT1lLnktdC55LTEpLHQuej10aGlzLl9nZXRab29tRm9yVXJsKCl9LF9nZXRTdWJkb21haW46ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5hYnModC54K3QueSkldGhpcy5vcHRpb25zLnN1YmRvbWFpbnMubGVuZ3RoO3JldHVybiB0aGlzLm9wdGlvbnMuc3ViZG9tYWluc1tlXX0sX2dldFRpbGU6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMucmV1c2VUaWxlcyYmdGhpcy5fdW51c2VkVGlsZXMubGVuZ3RoPjApe3ZhciB0PXRoaXMuX3VudXNlZFRpbGVzLnBvcCgpO3JldHVybiB0aGlzLl9yZXNldFRpbGUodCksdH1yZXR1cm4gdGhpcy5fY3JlYXRlVGlsZSgpfSxfcmVzZXRUaWxlOmZ1bmN0aW9uKCl7fSxfY3JlYXRlVGlsZTpmdW5jdGlvbigpe3ZhciB0PXMuRG9tVXRpbC5jcmVhdGUoImltZyIsImxlYWZsZXQtdGlsZSIpO3JldHVybiB0LnN0eWxlLndpZHRoPXQuc3R5bGUuaGVpZ2h0PXRoaXMuX2dldFRpbGVTaXplKCkrInB4Iix0LmdhbGxlcnlpbWc9Im5vIix0Lm9uc2VsZWN0c3RhcnQ9dC5vbm1vdXNlbW92ZT1zLlV0aWwuZmFsc2VGbixzLkJyb3dzZXIuaWVsdDkmJnRoaXMub3B0aW9ucy5vcGFjaXR5IT09biYmcy5Eb21VdGlsLnNldE9wYWNpdHkodCx0aGlzLm9wdGlvbnMub3BhY2l0eSkscy5Ccm93c2VyLm1vYmlsZVdlYmtpdDNkJiYodC5zdHlsZS5XZWJraXRCYWNrZmFjZVZpc2liaWxpdHk9ImhpZGRlbiIpLHR9LF9sb2FkVGlsZTpmdW5jdGlvbih0LGUpe3QuX2xheWVyPXRoaXMsdC5vbmxvYWQ9dGhpcy5fdGlsZU9uTG9hZCx0Lm9uZXJyb3I9dGhpcy5fdGlsZU9uRXJyb3IsdGhpcy5fYWRqdXN0VGlsZVBvaW50KGUpLHQuc3JjPXRoaXMuZ2V0VGlsZVVybChlKSx0aGlzLmZpcmUoInRpbGVsb2Fkc3RhcnQiLHt0aWxlOnQsdXJsOnQuc3JjfSl9LF90aWxlTG9hZGVkOmZ1bmN0aW9uKCl7dGhpcy5fdGlsZXNUb0xvYWQtLSx0aGlzLl9hbmltYXRlZCYmcy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3RpbGVDb250YWluZXIsImxlYWZsZXQtem9vbS1hbmltYXRlZCIpLHRoaXMuX3RpbGVzVG9Mb2FkfHwodGhpcy5maXJlKCJsb2FkIiksdGhpcy5fYW5pbWF0ZWQmJihjbGVhclRpbWVvdXQodGhpcy5fY2xlYXJCZ0J1ZmZlclRpbWVyKSx0aGlzLl9jbGVhckJnQnVmZmVyVGltZXI9c2V0VGltZW91dChzLmJpbmQodGhpcy5fY2xlYXJCZ0J1ZmZlcix0aGlzKSw1MDApKSl9LF90aWxlT25Mb2FkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGF5ZXI7dGhpcy5zcmMhPT1zLlV0aWwuZW1wdHlJbWFnZVVybCYmKHMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLCJsZWFmbGV0LXRpbGUtbG9hZGVkIiksdC5maXJlKCJ0aWxlbG9hZCIse3RpbGU6dGhpcyx1cmw6dGhpcy5zcmN9KSksdC5fdGlsZUxvYWRlZCgpfSxfdGlsZU9uRXJyb3I6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYXllcjt0LmZpcmUoInRpbGVlcnJvciIse3RpbGU6dGhpcyx1cmw6dGhpcy5zcmN9KTt2YXIgZT10Lm9wdGlvbnMuZXJyb3JUaWxlVXJsO2UmJih0aGlzLnNyYz1lKSx0Ll90aWxlTG9hZGVkKCl9fSkscy50aWxlTGF5ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHMuVGlsZUxheWVyKHQsZSl9LHMuVGlsZUxheWVyLldNUz1zLlRpbGVMYXllci5leHRlbmQoe2RlZmF1bHRXbXNQYXJhbXM6e3NlcnZpY2U6IldNUyIscmVxdWVzdDoiR2V0TWFwIix2ZXJzaW9uOiIxLjEuMSIsbGF5ZXJzOiIiLHN0eWxlczoiIixmb3JtYXQ6ImltYWdlL2pwZWciLHRyYW5zcGFyZW50OiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5fdXJsPXQ7dmFyIGk9cy5leHRlbmQoe30sdGhpcy5kZWZhdWx0V21zUGFyYW1zKSxuPWUudGlsZVNpemV8fHRoaXMub3B0aW9ucy50aWxlU2l6ZTtpLndpZHRoPWkuaGVpZ2h0PWUuZGV0ZWN0UmV0aW5hJiZzLkJyb3dzZXIucmV0aW5hPzIqbjpuO2Zvcih2YXIgbyBpbiBlKXRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvKXx8ImNycyI9PT1vfHwoaVtvXT1lW29dKTt0aGlzLndtc1BhcmFtcz1pLHMuc2V0T3B0aW9ucyh0aGlzLGUpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9jcnM9dGhpcy5vcHRpb25zLmNyc3x8dC5vcHRpb25zLmNycyx0aGlzLl93bXNWZXJzaW9uPXBhcnNlRmxvYXQodGhpcy53bXNQYXJhbXMudmVyc2lvbik7dmFyIGU9dGhpcy5fd21zVmVyc2lvbj49MS4zPyJjcnMiOiJzcnMiO3RoaXMud21zUGFyYW1zW2VdPXRoaXMuX2Nycy5jb2RlLHMuVGlsZUxheWVyLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsdCl9LGdldFRpbGVVcmw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9dGhpcy5vcHRpb25zLnRpbGVTaXplLG49dC5tdWx0aXBseUJ5KGkpLG89bi5hZGQoW2ksaV0pLGE9dGhpcy5fY3JzLnByb2plY3QoZS51bnByb2plY3Qobix0LnopKSxyPXRoaXMuX2Nycy5wcm9qZWN0KGUudW5wcm9qZWN0KG8sdC56KSksbD10aGlzLl93bXNWZXJzaW9uPj0xLjMmJnRoaXMuX2Nycz09PXMuQ1JTLkVQU0c0MzI2P1tyLnksYS54LGEueSxyLnhdLmpvaW4oIiwiKTpbYS54LHIueSxyLngsYS55XS5qb2luKCIsIiksaD1zLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLHtzOnRoaXMuX2dldFN1YmRvbWFpbih0KX0pO3JldHVybiBoK3MuVXRpbC5nZXRQYXJhbVN0cmluZyh0aGlzLndtc1BhcmFtcyxoLCEwKSsiJkJCT1g9IitsfSxzZXRQYXJhbXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gcy5leHRlbmQodGhpcy53bXNQYXJhbXMsdCksZXx8dGhpcy5yZWRyYXcoKSx0aGlzfX0pLHMudGlsZUxheWVyLndtcz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcy5UaWxlTGF5ZXIuV01TKHQsZSl9LHMuVGlsZUxheWVyLkNhbnZhcz1zLlRpbGVMYXllci5leHRlbmQoe29wdGlvbnM6e2FzeW5jOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3Muc2V0T3B0aW9ucyh0aGlzLHQpfSxyZWRyYXc6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJih0aGlzLl9yZXNldCh7aGFyZDohMH0pLHRoaXMuX3VwZGF0ZSgpKTtmb3IodmFyIHQgaW4gdGhpcy5fdGlsZXMpdGhpcy5fcmVkcmF3VGlsZSh0aGlzLl90aWxlc1t0XSk7cmV0dXJuIHRoaXN9LF9yZWRyYXdUaWxlOmZ1bmN0aW9uKHQpe3RoaXMuZHJhd1RpbGUodCx0Ll90aWxlUG9pbnQsdGhpcy5fbWFwLl96b29tKX0sX2NyZWF0ZVRpbGU6ZnVuY3Rpb24oKXt2YXIgdD1zLkRvbVV0aWwuY3JlYXRlKCJjYW52YXMiLCJsZWFmbGV0LXRpbGUiKTtyZXR1cm4gdC53aWR0aD10LmhlaWdodD10aGlzLm9wdGlvbnMudGlsZVNpemUsdC5vbnNlbGVjdHN0YXJ0PXQub25tb3VzZW1vdmU9cy5VdGlsLmZhbHNlRm4sdH0sX2xvYWRUaWxlOmZ1bmN0aW9uKHQsZSl7dC5fbGF5ZXI9dGhpcyx0Ll90aWxlUG9pbnQ9ZSx0aGlzLl9yZWRyYXdUaWxlKHQpLHRoaXMub3B0aW9ucy5hc3luY3x8dGhpcy50aWxlRHJhd24odCl9LGRyYXdUaWxlOmZ1bmN0aW9uKCl7fSx0aWxlRHJhd246ZnVuY3Rpb24odCl7dGhpcy5fdGlsZU9uTG9hZC5jYWxsKHQpfX0pLHMudGlsZUxheWVyLmNhbnZhcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuVGlsZUxheWVyLkNhbnZhcyh0KX0scy5JbWFnZU92ZXJsYXk9cy5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOnMuTWl4aW4uRXZlbnRzLG9wdGlvbnM6e29wYWNpdHk6MX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5fdXJsPXQsdGhpcy5fYm91bmRzPXMubGF0TG5nQm91bmRzKGUpLHMuc2V0T3B0aW9ucyh0aGlzLGkpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9pbWFnZXx8dGhpcy5faW5pdEltYWdlKCksdC5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5faW1hZ2UpLHQub24oInZpZXdyZXNldCIsdGhpcy5fcmVzZXQsdGhpcyksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnMuQnJvd3Nlci5hbnkzZCYmdC5vbigiem9vbWFuaW0iLHRoaXMuX2FuaW1hdGVab29tLHRoaXMpLHRoaXMuX3Jlc2V0KCl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3QuZ2V0UGFuZXMoKS5vdmVybGF5UGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9pbWFnZSksdC5vZmYoInZpZXdyZXNldCIsdGhpcy5fcmVzZXQsdGhpcyksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnQub2ZmKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVpvb20sdGhpcyl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5vcGFjaXR5PXQsdGhpcy5fdXBkYXRlT3BhY2l0eSgpLHRoaXN9LGJyaW5nVG9Gcm9udDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZSYmdGhpcy5fbWFwLl9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9pbWFnZSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhbmVzLm92ZXJsYXlQYW5lO3JldHVybiB0aGlzLl9pbWFnZSYmdC5pbnNlcnRCZWZvcmUodGhpcy5faW1hZ2UsdC5maXJzdENoaWxkKSx0aGlzfSxzZXRVcmw6ZnVuY3Rpb24odCl7dGhpcy5fdXJsPXQsdGhpcy5faW1hZ2Uuc3JjPXRoaXMuX3VybH0sZ2V0QXR0cmlidXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9ufSxfaW5pdEltYWdlOmZ1bmN0aW9uKCl7dGhpcy5faW1hZ2U9cy5Eb21VdGlsLmNyZWF0ZSgiaW1nIiwibGVhZmxldC1pbWFnZS1sYXllciIpLHRoaXMuX21hcC5vcHRpb25zLnpvb21BbmltYXRpb24mJnMuQnJvd3Nlci5hbnkzZD9zLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faW1hZ2UsImxlYWZsZXQtem9vbS1hbmltYXRlZCIpOnMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9pbWFnZSwibGVhZmxldC16b29tLWhpZGUiKSx0aGlzLl91cGRhdGVPcGFjaXR5KCkscy5leHRlbmQodGhpcy5faW1hZ2Use2dhbGxlcnlpbWc6Im5vIixvbnNlbGVjdHN0YXJ0OnMuVXRpbC5mYWxzZUZuLG9ubW91c2Vtb3ZlOnMuVXRpbC5mYWxzZUZuLG9ubG9hZDpzLmJpbmQodGhpcy5fb25JbWFnZUxvYWQsdGhpcyksc3JjOnRoaXMuX3VybH0pfSxfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9dGhpcy5faW1hZ2Usbj1lLmdldFpvb21TY2FsZSh0Lnpvb20pLG89dGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpLGE9dGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpLHI9ZS5fbGF0TG5nVG9OZXdMYXllclBvaW50KG8sdC56b29tLHQuY2VudGVyKSxsPWUuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludChhLHQuem9vbSx0LmNlbnRlcikuX3N1YnRyYWN0KHIpLGg9ci5fYWRkKGwuX211bHRpcGx5QnkoLjUqKDEtMS9uKSkpO2kuc3R5bGVbcy5Eb21VdGlsLlRSQU5TRk9STV09cy5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhoKSsiIHNjYWxlKCIrbisiKSAifSxfcmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbWFnZSxlPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpKSxpPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpKS5fc3VidHJhY3QoZSk7cy5Eb21VdGlsLnNldFBvc2l0aW9uKHQsZSksdC5zdHlsZS53aWR0aD1pLngrInB4Iix0LnN0eWxlLmhlaWdodD1pLnkrInB4In0sX29uSW1hZ2VMb2FkOmZ1bmN0aW9uKCl7dGhpcy5maXJlKCJsb2FkIil9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7cy5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5faW1hZ2UsdGhpcy5vcHRpb25zLm9wYWNpdHkpfX0pLHMuaW1hZ2VPdmVybGF5PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IHMuSW1hZ2VPdmVybGF5KHQsZSxpKX0scy5JY29uPXMuQ2xhc3MuZXh0ZW5kKHtvcHRpb25zOntjbGFzc05hbWU6IiJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7cy5zZXRPcHRpb25zKHRoaXMsdCl9LGNyZWF0ZUljb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUljb24oImljb24iLHQpfSxjcmVhdGVTaGFkb3c6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUljb24oInNoYWRvdyIsdCl9LF9jcmVhdGVJY29uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0SWNvblVybCh0KTtpZighaSl7aWYoImljb24iPT09dCl0aHJvdyBuZXcgRXJyb3IoImljb25Vcmwgbm90IHNldCBpbiBJY29uIG9wdGlvbnMgKHNlZSB0aGUgZG9jcykuIik7cmV0dXJuIG51bGx9dmFyIG47cmV0dXJuIG49ZSYmIklNRyI9PT1lLnRhZ05hbWU/dGhpcy5fY3JlYXRlSW1nKGksZSk6dGhpcy5fY3JlYXRlSW1nKGkpLHRoaXMuX3NldEljb25TdHlsZXMobix0KSxufSxfc2V0SWNvblN0eWxlczpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcy5vcHRpb25zLG89cy5wb2ludChuW2UrIlNpemUiXSk7aT0ic2hhZG93Ij09PWU/cy5wb2ludChuLnNoYWRvd0FuY2hvcnx8bi5pY29uQW5jaG9yKTpzLnBvaW50KG4uaWNvbkFuY2hvciksIWkmJm8mJihpPW8uZGl2aWRlQnkoMiwhMCkpLHQuY2xhc3NOYW1lPSJsZWFmbGV0LW1hcmtlci0iK2UrIiAiK24uY2xhc3NOYW1lLGkmJih0LnN0eWxlLm1hcmdpbkxlZnQ9LWkueCsicHgiLHQuc3R5bGUubWFyZ2luVG9wPS1pLnkrInB4IiksbyYmKHQuc3R5bGUud2lkdGg9by54KyJweCIsdC5zdHlsZS5oZWlnaHQ9by55KyJweCIpfSxfY3JlYXRlSW1nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8aS5jcmVhdGVFbGVtZW50KCJpbWciKSxlLnNyYz10LGV9LF9nZXRJY29uVXJsOmZ1bmN0aW9uKHQpe3JldHVybiBzLkJyb3dzZXIucmV0aW5hJiZ0aGlzLm9wdGlvbnNbdCsiUmV0aW5hVXJsIl0/dGhpcy5vcHRpb25zW3QrIlJldGluYVVybCJdOnRoaXMub3B0aW9uc1t0KyJVcmwiXX19KSxzLmljb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkljb24odCl9LHMuSWNvbi5EZWZhdWx0PXMuSWNvbi5leHRlbmQoe29wdGlvbnM6e2ljb25TaXplOlsyNSw0MV0saWNvbkFuY2hvcjpbMTIsNDFdLHBvcHVwQW5jaG9yOlsxLC0zNF0sc2hhZG93U2l6ZTpbNDEsNDFdfSxfZ2V0SWNvblVybDpmdW5jdGlvbih0KXt2YXIgZT10KyJVcmwiO2lmKHRoaXMub3B0aW9uc1tlXSlyZXR1cm4gdGhpcy5vcHRpb25zW2VdO3MuQnJvd3Nlci5yZXRpbmEmJiJpY29uIj09PXQmJih0Kz0iLTJ4Iik7dmFyIGk9cy5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoO2lmKCFpKXRocm93IG5ldyBFcnJvcigiQ291bGRuJ3QgYXV0b2RldGVjdCBMLkljb24uRGVmYXVsdC5pbWFnZVBhdGgsIHNldCBpdCBtYW51YWxseS4iKTtyZXR1cm4gaSsiL21hcmtlci0iK3QrIi5wbmcifX0pLHMuSWNvbi5EZWZhdWx0LmltYWdlUGF0aD1mdW5jdGlvbigpe3ZhciB0LGUsbixvLHMsYT1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxyPS9bXC9eXWxlYWZsZXRbXC1cLl9dPyhbXHdcLVwuX10qKVwuanNcPz8vO2Zvcih0PTAsZT1hLmxlbmd0aDtlPnQ7dCsrKWlmKG49YVt0XS5zcmMsbz1uLm1hdGNoKHIpKXJldHVybiBzPW4uc3BsaXQocilbMF0sKHM/cysiLyI6IiIpKyJpbWFnZXMifSgpLHMuTWFya2VyPXMuQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpzLk1peGluLkV2ZW50cyxvcHRpb25zOntpY29uOm5ldyBzLkljb24uRGVmYXVsdCx0aXRsZToiIixhbHQ6IiIsY2xpY2thYmxlOiEwLGRyYWdnYWJsZTohMSxrZXlib2FyZDohMCx6SW5kZXhPZmZzZXQ6MCxvcGFjaXR5OjEscmlzZU9uSG92ZXI6ITEscmlzZU9mZnNldDoyNTB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtzLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLl9sYXRsbmc9cy5sYXRMbmcodCl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHQub24oInZpZXdyZXNldCIsdGhpcy51cGRhdGUsdGhpcyksdGhpcy5faW5pdEljb24oKSx0aGlzLnVwZGF0ZSgpLHRoaXMuZmlyZSgiYWRkIiksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnQub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uJiZ0Lm9uKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVpvb20sdGhpcyl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuZHJhZ2dpbmcmJnRoaXMuZHJhZ2dpbmcuZGlzYWJsZSgpLHRoaXMuX3JlbW92ZUljb24oKSx0aGlzLl9yZW1vdmVTaGFkb3coKSx0aGlzLmZpcmUoInJlbW92ZSIpLHQub2ZmKHt2aWV3cmVzZXQ6dGhpcy51cGRhdGUsem9vbWFuaW06dGhpcy5fYW5pbWF0ZVpvb219LHRoaXMpLHRoaXMuX21hcD1udWxsfSxnZXRMYXRMbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nfSxzZXRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZz1zLmxhdExuZyh0KSx0aGlzLnVwZGF0ZSgpLHRoaXMuZmlyZSgibW92ZSIse2xhdGxuZzp0aGlzLl9sYXRsbmd9KX0sc2V0WkluZGV4T2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0PXQsdGhpcy51cGRhdGUoKSx0aGlzfSxzZXRJY29uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuaWNvbj10LHRoaXMuX21hcCYmKHRoaXMuX2luaXRJY29uKCksdGhpcy51cGRhdGUoKSksdGhpcy5fcG9wdXAmJnRoaXMuYmluZFBvcHVwKHRoaXMuX3BvcHVwKSx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9pY29uKXt2YXIgdD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZykucm91bmQoKTt0aGlzLl9zZXRQb3ModCl9cmV0dXJuIHRoaXN9LF9pbml0SWNvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucyxlPXRoaXMuX21hcCxpPWUub3B0aW9ucy56b29tQW5pbWF0aW9uJiZlLm9wdGlvbnMubWFya2VyWm9vbUFuaW1hdGlvbixuPWk/ImxlYWZsZXQtem9vbS1hbmltYXRlZCI6ImxlYWZsZXQtem9vbS1oaWRlIixvPXQuaWNvbi5jcmVhdGVJY29uKHRoaXMuX2ljb24pLGE9ITE7byE9PXRoaXMuX2ljb24mJih0aGlzLl9pY29uJiZ0aGlzLl9yZW1vdmVJY29uKCksYT0hMCx0LnRpdGxlJiYoby50aXRsZT10LnRpdGxlKSx0LmFsdCYmKG8uYWx0PXQuYWx0KSkscy5Eb21VdGlsLmFkZENsYXNzKG8sbiksdC5rZXlib2FyZCYmKG8udGFiSW5kZXg9IjAiKSx0aGlzLl9pY29uPW8sdGhpcy5faW5pdEludGVyYWN0aW9uKCksdC5yaXNlT25Ib3ZlciYmcy5Eb21FdmVudC5vbihvLCJtb3VzZW92ZXIiLHRoaXMuX2JyaW5nVG9Gcm9udCx0aGlzKS5vbihvLCJtb3VzZW91dCIsdGhpcy5fcmVzZXRaSW5kZXgsdGhpcyk7dmFyIHI9dC5pY29uLmNyZWF0ZVNoYWRvdyh0aGlzLl9zaGFkb3cpLGw9ITE7ciE9PXRoaXMuX3NoYWRvdyYmKHRoaXMuX3JlbW92ZVNoYWRvdygpLGw9ITApLHImJnMuRG9tVXRpbC5hZGRDbGFzcyhyLG4pLHRoaXMuX3NoYWRvdz1yLHQub3BhY2l0eTwxJiZ0aGlzLl91cGRhdGVPcGFjaXR5KCk7dmFyIGg9dGhpcy5fbWFwLl9wYW5lczthJiZoLm1hcmtlclBhbmUuYXBwZW5kQ2hpbGQodGhpcy5faWNvbiksciYmbCYmaC5zaGFkb3dQYW5lLmFwcGVuZENoaWxkKHRoaXMuX3NoYWRvdyl9LF9yZW1vdmVJY29uOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnJpc2VPbkhvdmVyJiZzLkRvbUV2ZW50Lm9mZih0aGlzLl9pY29uLCJtb3VzZW92ZXIiLHRoaXMuX2JyaW5nVG9Gcm9udCkub2ZmKHRoaXMuX2ljb24sIm1vdXNlb3V0Iix0aGlzLl9yZXNldFpJbmRleCksdGhpcy5fbWFwLl9wYW5lcy5tYXJrZXJQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2ljb24pLHRoaXMuX2ljb249bnVsbH0sX3JlbW92ZVNoYWRvdzpmdW5jdGlvbigpe3RoaXMuX3NoYWRvdyYmdGhpcy5fbWFwLl9wYW5lcy5zaGFkb3dQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX3NoYWRvdyksdGhpcy5fc2hhZG93PW51bGx9LF9zZXRQb3M6ZnVuY3Rpb24odCl7cy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2ljb24sdCksdGhpcy5fc2hhZG93JiZzLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fc2hhZG93LHQpLHRoaXMuX3pJbmRleD10LnkrdGhpcy5vcHRpb25zLnpJbmRleE9mZnNldCx0aGlzLl9yZXNldFpJbmRleCgpfSxfdXBkYXRlWkluZGV4OmZ1bmN0aW9uKHQpe3RoaXMuX2ljb24uc3R5bGUuekluZGV4PXRoaXMuX3pJbmRleCt0fSxfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLHQuem9vbSx0LmNlbnRlcikucm91bmQoKTt0aGlzLl9zZXRQb3MoZSl9LF9pbml0SW50ZXJhY3Rpb246ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuY2xpY2thYmxlKXt2YXIgdD10aGlzLl9pY29uLGU9WyJkYmxjbGljayIsIm1vdXNlZG93biIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwiY29udGV4dG1lbnUiXTtzLkRvbVV0aWwuYWRkQ2xhc3ModCwibGVhZmxldC1jbGlja2FibGUiKSxzLkRvbUV2ZW50Lm9uKHQsImNsaWNrIix0aGlzLl9vbk1vdXNlQ2xpY2ssdGhpcykscy5Eb21FdmVudC5vbih0LCJrZXlwcmVzcyIsdGhpcy5fb25LZXlQcmVzcyx0aGlzKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylzLkRvbUV2ZW50Lm9uKHQsZVtpXSx0aGlzLl9maXJlTW91c2VFdmVudCx0aGlzKTtzLkhhbmRsZXIuTWFya2VyRHJhZyYmKHRoaXMuZHJhZ2dpbmc9bmV3IHMuSGFuZGxlci5NYXJrZXJEcmFnKHRoaXMpLHRoaXMub3B0aW9ucy5kcmFnZ2FibGUmJnRoaXMuZHJhZ2dpbmcuZW5hYmxlKCkpfX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmRyYWdnaW5nJiZ0aGlzLmRyYWdnaW5nLm1vdmVkKCk7KHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModC50eXBlKXx8ZSkmJnMuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKHQpLGV8fCh0aGlzLmRyYWdnaW5nJiZ0aGlzLmRyYWdnaW5nLl9lbmFibGVkfHwhdGhpcy5fbWFwLmRyYWdnaW5nfHwhdGhpcy5fbWFwLmRyYWdnaW5nLm1vdmVkKCkpJiZ0aGlzLmZpcmUodC50eXBlLHtvcmlnaW5hbEV2ZW50OnQsbGF0bG5nOnRoaXMuX2xhdGxuZ30pfSxfb25LZXlQcmVzczpmdW5jdGlvbih0KXsxMz09PXQua2V5Q29kZSYmdGhpcy5maXJlKCJjbGljayIse29yaWdpbmFsRXZlbnQ6dCxsYXRsbmc6dGhpcy5fbGF0bG5nfSl9LF9maXJlTW91c2VFdmVudDpmdW5jdGlvbih0KXt0aGlzLmZpcmUodC50eXBlLHtvcmlnaW5hbEV2ZW50OnQsbGF0bG5nOnRoaXMuX2xhdGxuZ30pLCJjb250ZXh0bWVudSI9PT10LnR5cGUmJnRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModC50eXBlKSYmcy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSwibW91c2Vkb3duIiE9PXQudHlwZT9zLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KTpzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMub3BhY2l0eT10LHRoaXMuX21hcCYmdGhpcy5fdXBkYXRlT3BhY2l0eSgpLHRoaXN9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7cy5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5faWNvbix0aGlzLm9wdGlvbnMub3BhY2l0eSksdGhpcy5fc2hhZG93JiZzLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9zaGFkb3csdGhpcy5vcHRpb25zLm9wYWNpdHkpfSxfYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlWkluZGV4KHRoaXMub3B0aW9ucy5yaXNlT2Zmc2V0KX0sX3Jlc2V0WkluZGV4OmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlWkluZGV4KDApfX0pLHMubWFya2VyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLk1hcmtlcih0LGUpfSxzLkRpdkljb249cy5JY29uLmV4dGVuZCh7b3B0aW9uczp7aWNvblNpemU6WzEyLDEyXSxjbGFzc05hbWU6ImxlYWZsZXQtZGl2LWljb24iLGh0bWw6ITF9LGNyZWF0ZUljb246ZnVuY3Rpb24odCl7dmFyIGU9dCYmIkRJViI9PT10LnRhZ05hbWU/dDppLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49dGhpcy5vcHRpb25zO3JldHVybiBlLmlubmVySFRNTD1uLmh0bWwhPT0hMT9uLmh0bWw6IiIsbi5iZ1BvcyYmKGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPS1uLmJnUG9zLngrInB4ICIrLW4uYmdQb3MueSsicHgiKSx0aGlzLl9zZXRJY29uU3R5bGVzKGUsImljb24iKSxlfSxjcmVhdGVTaGFkb3c6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSxzLmRpdkljb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkRpdkljb24odCl9LHMuTWFwLm1lcmdlT3B0aW9ucyh7Y2xvc2VQb3B1cE9uQ2xpY2s6ITB9KSxzLlBvcHVwPXMuQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpzLk1peGluLkV2ZW50cyxvcHRpb25zOnttaW5XaWR0aDo1MCxtYXhXaWR0aDozMDAsYXV0b1BhbjohMCxjbG9zZUJ1dHRvbjohMCxvZmZzZXQ6WzAsN10sYXV0b1BhblBhZGRpbmc6WzUsNV0sa2VlcEluVmlldzohMSxjbGFzc05hbWU6IiIsem9vbUFuaW1hdGlvbjohMH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3Muc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX3NvdXJjZT1lLHRoaXMuX2FuaW1hdGVkPXMuQnJvd3Nlci5hbnkzZCYmdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24sdGhpcy5faXNPcGVuPSExfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXJ8fHRoaXMuX2luaXRMYXlvdXQoKTt2YXIgZT10Lm9wdGlvbnMuZmFkZUFuaW1hdGlvbjtlJiZzLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsMCksdC5fcGFuZXMucG9wdXBQYW5lLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksdC5vbih0aGlzLl9nZXRFdmVudHMoKSx0aGlzKSx0aGlzLnVwZGF0ZSgpLGUmJnMuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwxKSx0aGlzLmZpcmUoIm9wZW4iKSx0LmZpcmUoInBvcHVwb3BlbiIse3BvcHVwOnRoaXN9KSx0aGlzLl9zb3VyY2UmJnRoaXMuX3NvdXJjZS5maXJlKCJwb3B1cG9wZW4iLHtwb3B1cDp0aGlzfSl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9wZW5PbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5vcGVuUG9wdXAodGhpcyksdGhpc30sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5fcGFuZXMucG9wdXBQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcikscy5VdGlsLmZhbHNlRm4odGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoKSx0Lm9mZih0aGlzLl9nZXRFdmVudHMoKSx0aGlzKSx0Lm9wdGlvbnMuZmFkZUFuaW1hdGlvbiYmcy5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLDApLHRoaXMuX21hcD1udWxsLHRoaXMuZmlyZSgiY2xvc2UiKSx0LmZpcmUoInBvcHVwY2xvc2UiLHtwb3B1cDp0aGlzfSksdGhpcy5fc291cmNlJiZ0aGlzLl9zb3VyY2UuZmlyZSgicG9wdXBjbG9zZSIse3BvcHVwOnRoaXN9KX0sZ2V0TGF0TG5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhdGxuZ30sc2V0TGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXRsbmc9cy5sYXRMbmcodCksdGhpcy5fbWFwJiYodGhpcy5fdXBkYXRlUG9zaXRpb24oKSx0aGlzLl9hZGp1c3RQYW4oKSksdGhpc30sZ2V0Q29udGVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZW50fSxzZXRDb250ZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb250ZW50PXQsdGhpcy51cGRhdGUoKSx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJih0aGlzLl9jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIix0aGlzLl91cGRhdGVDb250ZW50KCksdGhpcy5fdXBkYXRlTGF5b3V0KCksdGhpcy5fdXBkYXRlUG9zaXRpb24oKSx0aGlzLl9jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iIix0aGlzLl9hZGp1c3RQYW4oKSl9LF9nZXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgdD17dmlld3Jlc2V0OnRoaXMuX3VwZGF0ZVBvc2l0aW9ufTtyZXR1cm4gdGhpcy5fYW5pbWF0ZWQmJih0Lnpvb21hbmltPXRoaXMuX3pvb21BbmltYXRpb24pLCgiY2xvc2VPbkNsaWNrImluIHRoaXMub3B0aW9ucz90aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrOnRoaXMuX21hcC5vcHRpb25zLmNsb3NlUG9wdXBPbkNsaWNrKSYmKHQucHJlY2xpY2s9dGhpcy5fY2xvc2UpLHRoaXMub3B0aW9ucy5rZWVwSW5WaWV3JiYodC5tb3ZlZW5kPXRoaXMuX2FkanVzdFBhbiksdH0sX2Nsb3NlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiZ0aGlzLl9tYXAuY2xvc2VQb3B1cCh0aGlzKX0sX2luaXRMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgdCxlPSJsZWFmbGV0LXBvcHVwIixpPWUrIiAiK3RoaXMub3B0aW9ucy5jbGFzc05hbWUrIiBsZWFmbGV0LXpvb20tIisodGhpcy5fYW5pbWF0ZWQ/ImFuaW1hdGVkIjoiaGlkZSIpLG49dGhpcy5fY29udGFpbmVyPXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsaSk7dGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uJiYodD10aGlzLl9jbG9zZUJ1dHRvbj1zLkRvbVV0aWwuY3JlYXRlKCJhIixlKyItY2xvc2UtYnV0dG9uIixuKSx0LmhyZWY9IiNjbG9zZSIsdC5pbm5lckhUTUw9IiYjMjE1OyIscy5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0KSxzLkRvbUV2ZW50Lm9uKHQsImNsaWNrIix0aGlzLl9vbkNsb3NlQnV0dG9uQ2xpY2ssdGhpcykpO3ZhciBvPXRoaXMuX3dyYXBwZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItY29udGVudC13cmFwcGVyIixuKTtzLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKG8pLHRoaXMuX2NvbnRlbnROb2RlPXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiLWNvbnRlbnQiLG8pLHMuRG9tRXZlbnQuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKHRoaXMuX2NvbnRlbnROb2RlKSxzLkRvbUV2ZW50Lm9uKG8sImNvbnRleHRtZW51IixzLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbiksdGhpcy5fdGlwQ29udGFpbmVyPXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiLXRpcC1jb250YWluZXIiLG4pLHRoaXMuX3RpcD1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUrIi10aXAiLHRoaXMuX3RpcENvbnRhaW5lcil9LF91cGRhdGVDb250ZW50OmZ1bmN0aW9uKCl7aWYodGhpcy5fY29udGVudCl7aWYoInN0cmluZyI9PXR5cGVvZiB0aGlzLl9jb250ZW50KXRoaXMuX2NvbnRlbnROb2RlLmlubmVySFRNTD10aGlzLl9jb250ZW50O2Vsc2V7Zm9yKDt0aGlzLl9jb250ZW50Tm9kZS5oYXNDaGlsZE5vZGVzKCk7KXRoaXMuX2NvbnRlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRlbnROb2RlLmZpcnN0Q2hpbGQpO3RoaXMuX2NvbnRlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRlbnQpfXRoaXMuZmlyZSgiY29udGVudHVwZGF0ZSIpfX0sX3VwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRlbnROb2RlLGU9dC5zdHlsZTtlLndpZHRoPSIiLGUud2hpdGVTcGFjZT0ibm93cmFwIjt2YXIgaT10Lm9mZnNldFdpZHRoO2k9TWF0aC5taW4oaSx0aGlzLm9wdGlvbnMubWF4V2lkdGgpLGk9TWF0aC5tYXgoaSx0aGlzLm9wdGlvbnMubWluV2lkdGgpLGUud2lkdGg9aSsxKyJweCIsZS53aGl0ZVNwYWNlPSIiLGUuaGVpZ2h0PSIiO3ZhciBuPXQub2Zmc2V0SGVpZ2h0LG89dGhpcy5vcHRpb25zLm1heEhlaWdodCxhPSJsZWFmbGV0LXBvcHVwLXNjcm9sbGVkIjtvJiZuPm8/KGUuaGVpZ2h0PW8rInB4IixzLkRvbVV0aWwuYWRkQ2xhc3ModCxhKSk6cy5Eb21VdGlsLnJlbW92ZUNsYXNzKHQsYSksdGhpcy5fY29udGFpbmVyV2lkdGg9dGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoCn0sX3VwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwKXt2YXIgdD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyksZT10aGlzLl9hbmltYXRlZCxpPXMucG9pbnQodGhpcy5vcHRpb25zLm9mZnNldCk7ZSYmcy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcix0KSx0aGlzLl9jb250YWluZXJCb3R0b209LWkueS0oZT8wOnQueSksdGhpcy5fY29udGFpbmVyTGVmdD0tTWF0aC5yb3VuZCh0aGlzLl9jb250YWluZXJXaWR0aC8yKStpLngrKGU/MDp0LngpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5fY29udGFpbmVyQm90dG9tKyJweCIsdGhpcy5fY29udGFpbmVyLnN0eWxlLmxlZnQ9dGhpcy5fY29udGFpbmVyTGVmdCsicHgifX0sX3pvb21BbmltYXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLHQuem9vbSx0LmNlbnRlcik7cy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcixlKX0sX2FkanVzdFBhbjpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5hdXRvUGFuKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0LGk9dGhpcy5fY29udGFpbmVyV2lkdGgsbj1uZXcgcy5Qb2ludCh0aGlzLl9jb250YWluZXJMZWZ0LC1lLXRoaXMuX2NvbnRhaW5lckJvdHRvbSk7dGhpcy5fYW5pbWF0ZWQmJm4uX2FkZChzLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7dmFyIG89dC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChuKSxhPXMucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKSxyPXMucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nVG9wTGVmdHx8YSksbD1zLnBvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0fHxhKSxoPXQuZ2V0U2l6ZSgpLHU9MCxjPTA7by54K2krbC54PmgueCYmKHU9by54K2ktaC54K2wueCksby54LXUtci54PDAmJih1PW8ueC1yLngpLG8ueStlK2wueT5oLnkmJihjPW8ueStlLWgueStsLnkpLG8ueS1jLXIueTwwJiYoYz1vLnktci55KSwodXx8YykmJnQuZmlyZSgiYXV0b3BhbnN0YXJ0IikucGFuQnkoW3UsY10pfX0sX29uQ2xvc2VCdXR0b25DbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbG9zZSgpLHMuRG9tRXZlbnQuc3RvcCh0KX19KSxzLnBvcHVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLlBvcHVwKHQsZSl9LHMuTWFwLmluY2x1ZGUoe29wZW5Qb3B1cDpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5jbG9zZVBvcHVwKCksISh0IGluc3RhbmNlb2Ygcy5Qb3B1cCkpe3ZhciBuPXQ7dD1uZXcgcy5Qb3B1cChpKS5zZXRMYXRMbmcoZSkuc2V0Q29udGVudChuKX1yZXR1cm4gdC5faXNPcGVuPSEwLHRoaXMuX3BvcHVwPXQsdGhpcy5hZGRMYXllcih0KX0sY2xvc2VQb3B1cDpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCE9PXRoaXMuX3BvcHVwfHwodD10aGlzLl9wb3B1cCx0aGlzLl9wb3B1cD1udWxsKSx0JiYodGhpcy5yZW1vdmVMYXllcih0KSx0Ll9pc09wZW49ITEpLHRoaXN9fSkscy5NYXJrZXIuaW5jbHVkZSh7b3BlblBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiZ0aGlzLl9tYXAmJiF0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcy5fcG9wdXApJiYodGhpcy5fcG9wdXAuc2V0TGF0TG5nKHRoaXMuX2xhdGxuZyksdGhpcy5fbWFwLm9wZW5Qb3B1cCh0aGlzLl9wb3B1cCkpLHRoaXN9LGNsb3NlUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLl9jbG9zZSgpLHRoaXN9LHRvZ2dsZVBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAuX2lzT3Blbj90aGlzLmNsb3NlUG9wdXAoKTp0aGlzLm9wZW5Qb3B1cCgpKSx0aGlzfSxiaW5kUG9wdXA6ZnVuY3Rpb24odCxlKXt2YXIgaT1zLnBvaW50KHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnMucG9wdXBBbmNob3J8fFswLDBdKTtyZXR1cm4gaT1pLmFkZChzLlBvcHVwLnByb3RvdHlwZS5vcHRpb25zLm9mZnNldCksZSYmZS5vZmZzZXQmJihpPWkuYWRkKGUub2Zmc2V0KSksZT1zLmV4dGVuZCh7b2Zmc2V0Oml9LGUpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZHx8KHRoaXMub24oImNsaWNrIix0aGlzLnRvZ2dsZVBvcHVwLHRoaXMpLm9uKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vbigibW92ZSIsdGhpcy5fbW92ZVBvcHVwLHRoaXMpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZD0hMCksdCBpbnN0YW5jZW9mIHMuUG9wdXA/KHMuc2V0T3B0aW9ucyh0LGUpLHRoaXMuX3BvcHVwPXQpOnRoaXMuX3BvcHVwPW5ldyBzLlBvcHVwKGUsdGhpcykuc2V0Q29udGVudCh0KSx0aGlzfSxzZXRQb3B1cENvbnRlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5zZXRDb250ZW50KHQpLHRoaXN9LHVuYmluZFBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXA9bnVsbCx0aGlzLm9mZigiY2xpY2siLHRoaXMudG9nZ2xlUG9wdXAsdGhpcykub2ZmKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vZmYoIm1vdmUiLHRoaXMuX21vdmVQb3B1cCx0aGlzKSx0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQ9ITEpLHRoaXN9LGdldFBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwfSxfbW92ZVBvcHVwOmZ1bmN0aW9uKHQpe3RoaXMuX3BvcHVwLnNldExhdExuZyh0LmxhdGxuZyl9fSkscy5MYXllckdyb3VwPXMuQ2xhc3MuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3RoaXMuX2xheWVycz17fTt2YXIgZSxpO2lmKHQpZm9yKGU9MCxpPXQubGVuZ3RoO2k+ZTtlKyspdGhpcy5hZGRMYXllcih0W2VdKX0sYWRkTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRMYXllcklkKHQpO3JldHVybiB0aGlzLl9sYXllcnNbZV09dCx0aGlzLl9tYXAmJnRoaXMuX21hcC5hZGRMYXllcih0KSx0aGlzfSxyZW1vdmVMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10IGluIHRoaXMuX2xheWVycz90OnRoaXMuZ2V0TGF5ZXJJZCh0KTtyZXR1cm4gdGhpcy5fbWFwJiZ0aGlzLl9sYXllcnNbZV0mJnRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYXllcnNbZV0pLGRlbGV0ZSB0aGlzLl9sYXllcnNbZV0sdGhpc30saGFzTGF5ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dCBpbiB0aGlzLl9sYXllcnN8fHRoaXMuZ2V0TGF5ZXJJZCh0KWluIHRoaXMuX2xheWVyczohMX0sY2xlYXJMYXllcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoTGF5ZXIodGhpcy5yZW1vdmVMYXllcix0aGlzKSx0aGlzfSxpbnZva2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoZSBpbiB0aGlzLl9sYXllcnMpaT10aGlzLl9sYXllcnNbZV0saVt0XSYmaVt0XS5hcHBseShpLG4pO3JldHVybiB0aGlzfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLmVhY2hMYXllcih0LmFkZExheWVyLHQpfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLmVhY2hMYXllcih0LnJlbW92ZUxheWVyLHQpLHRoaXMuX21hcD1udWxsfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxlYWNoTGF5ZXI6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKXQuY2FsbChlLHRoaXMuX2xheWVyc1tpXSk7cmV0dXJuIHRoaXN9LGdldExheWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXllcnNbdF19LGdldExheWVyczpmdW5jdGlvbigpe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiB0aGlzLl9sYXllcnMpdC5wdXNoKHRoaXMuX2xheWVyc1tlXSk7cmV0dXJuIHR9LHNldFpJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnZva2UoInNldFpJbmRleCIsdCl9LGdldExheWVySWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHMuc3RhbXAodCl9fSkscy5sYXllckdyb3VwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5MYXllckdyb3VwKHQpfSxzLkZlYXR1cmVHcm91cD1zLkxheWVyR3JvdXAuZXh0ZW5kKHtpbmNsdWRlczpzLk1peGluLkV2ZW50cyxzdGF0aWNzOntFVkVOVFM6ImNsaWNrIGRibGNsaWNrIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgY29udGV4dG1lbnUgcG9wdXBvcGVuIHBvcHVwY2xvc2UifSxhZGRMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNMYXllcih0KT90aGlzOigib24iaW4gdCYmdC5vbihzLkZlYXR1cmVHcm91cC5FVkVOVFMsdGhpcy5fcHJvcGFnYXRlRXZlbnQsdGhpcykscy5MYXllckdyb3VwLnByb3RvdHlwZS5hZGRMYXllci5jYWxsKHRoaXMsdCksdGhpcy5fcG9wdXBDb250ZW50JiZ0LmJpbmRQb3B1cCYmdC5iaW5kUG9wdXAodGhpcy5fcG9wdXBDb250ZW50LHRoaXMuX3BvcHVwT3B0aW9ucyksdGhpcy5maXJlKCJsYXllcmFkZCIse2xheWVyOnR9KSl9LHJlbW92ZUxheWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc0xheWVyKHQpPyh0IGluIHRoaXMuX2xheWVycyYmKHQ9dGhpcy5fbGF5ZXJzW3RdKSx0Lm9mZihzLkZlYXR1cmVHcm91cC5FVkVOVFMsdGhpcy5fcHJvcGFnYXRlRXZlbnQsdGhpcykscy5MYXllckdyb3VwLnByb3RvdHlwZS5yZW1vdmVMYXllci5jYWxsKHRoaXMsdCksdGhpcy5fcG9wdXBDb250ZW50JiZ0aGlzLmludm9rZSgidW5iaW5kUG9wdXAiKSx0aGlzLmZpcmUoImxheWVycmVtb3ZlIix7bGF5ZXI6dH0pKTp0aGlzfSxiaW5kUG9wdXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcG9wdXBDb250ZW50PXQsdGhpcy5fcG9wdXBPcHRpb25zPWUsdGhpcy5pbnZva2UoImJpbmRQb3B1cCIsdCxlKX0sb3BlblBvcHVwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLl9sYXllcnMpe3RoaXMuX2xheWVyc1tlXS5vcGVuUG9wdXAodCk7YnJlYWt9cmV0dXJuIHRoaXN9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmludm9rZSgic2V0U3R5bGUiLHQpfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZva2UoImJyaW5nVG9Gcm9udCIpfSxicmluZ1RvQmFjazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludm9rZSgiYnJpbmdUb0JhY2siKX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHMuTGF0TG5nQm91bmRzO3JldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbihlKXt0LmV4dGVuZChlIGluc3RhbmNlb2Ygcy5NYXJrZXI/ZS5nZXRMYXRMbmcoKTplLmdldEJvdW5kcygpKX0pLHR9LF9wcm9wYWdhdGVFdmVudDpmdW5jdGlvbih0KXt0PXMuZXh0ZW5kKHtsYXllcjp0LnRhcmdldCx0YXJnZXQ6dGhpc30sdCksdGhpcy5maXJlKHQudHlwZSx0KX19KSxzLmZlYXR1cmVHcm91cD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuRmVhdHVyZUdyb3VwKHQpfSxzLlBhdGg9cy5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOltzLk1peGluLkV2ZW50c10sc3RhdGljczp7Q0xJUF9QQURESU5HOmZ1bmN0aW9uKCl7dmFyIGU9cy5Ccm93c2VyLm1vYmlsZT8xMjgwOjJlMyxpPShlL01hdGgubWF4KHQub3V0ZXJXaWR0aCx0Lm91dGVySGVpZ2h0KS0xKS8yO3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKC41LGkpKX0oKX0sb3B0aW9uczp7c3Ryb2tlOiEwLGNvbG9yOiIjMDAzM2ZmIixkYXNoQXJyYXk6bnVsbCxsaW5lQ2FwOm51bGwsbGluZUpvaW46bnVsbCx3ZWlnaHQ6NSxvcGFjaXR5Oi41LGZpbGw6ITEsZmlsbENvbG9yOm51bGwsZmlsbE9wYWNpdHk6LjIsY2xpY2thYmxlOiEwfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3Muc2V0T3B0aW9ucyh0aGlzLHQpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXJ8fCh0aGlzLl9pbml0RWxlbWVudHMoKSx0aGlzLl9pbml0RXZlbnRzKCkpLHRoaXMucHJvamVjdExhdGxuZ3MoKSx0aGlzLl91cGRhdGVQYXRoKCksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9tYXAuX3BhdGhSb290LmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5maXJlKCJhZGQiKSx0Lm9uKHt2aWV3cmVzZXQ6dGhpcy5wcm9qZWN0TGF0bG5ncyxtb3ZlZW5kOnRoaXMuX3VwZGF0ZVBhdGh9LHRoaXMpfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Ll9wYXRoUm9vdC5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMuZmlyZSgicmVtb3ZlIiksdGhpcy5fbWFwPW51bGwscy5Ccm93c2VyLnZtbCYmKHRoaXMuX2NvbnRhaW5lcj1udWxsLHRoaXMuX3N0cm9rZT1udWxsLHRoaXMuX2ZpbGw9bnVsbCksdC5vZmYoe3ZpZXdyZXNldDp0aGlzLnByb2plY3RMYXRsbmdzLG1vdmVlbmQ6dGhpcy5fdXBkYXRlUGF0aH0sdGhpcyl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7fSxzZXRTdHlsZTpmdW5jdGlvbih0KXtyZXR1cm4gcy5zZXRPcHRpb25zKHRoaXMsdCksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl91cGRhdGVTdHlsZSgpLHRoaXN9LHJlZHJhdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLnByb2plY3RMYXRsbmdzKCksdGhpcy5fdXBkYXRlUGF0aCgpKSx0aGlzfX0pLHMuTWFwLmluY2x1ZGUoe191cGRhdGVQYXRoVmlld3BvcnQ6ZnVuY3Rpb24oKXt2YXIgdD1zLlBhdGguQ0xJUF9QQURESU5HLGU9dGhpcy5nZXRTaXplKCksaT1zLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSksbj1pLm11bHRpcGx5QnkoLTEpLl9zdWJ0cmFjdChlLm11bHRpcGx5QnkodCkuX3JvdW5kKCkpLG89bi5hZGQoZS5tdWx0aXBseUJ5KDErMip0KS5fcm91bmQoKSk7dGhpcy5fcGF0aFZpZXdwb3J0PW5ldyBzLkJvdW5kcyhuLG8pfX0pLHMuUGF0aC5TVkdfTlM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixzLkJyb3dzZXIuc3ZnPSEoIWkuY3JlYXRlRWxlbWVudE5TfHwhaS5jcmVhdGVFbGVtZW50TlMocy5QYXRoLlNWR19OUywic3ZnIikuY3JlYXRlU1ZHUmVjdCkscy5QYXRoPXMuUGF0aC5leHRlbmQoe3N0YXRpY3M6e1NWRzpzLkJyb3dzZXIuc3ZnfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhdGhSb290LGU9dGhpcy5fY29udGFpbmVyO3JldHVybiBlJiZ0Lmxhc3RDaGlsZCE9PWUmJnQuYXBwZW5kQ2hpbGQoZSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhdGhSb290LGU9dGhpcy5fY29udGFpbmVyLGk9dC5maXJzdENoaWxkO3JldHVybiBlJiZpIT09ZSYmdC5pbnNlcnRCZWZvcmUoZSxpKSx0aGlzfSxnZXRQYXRoU3RyaW5nOmZ1bmN0aW9uKCl7fSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbih0KXtyZXR1cm4gaS5jcmVhdGVFbGVtZW50TlMocy5QYXRoLlNWR19OUyx0KX0sX2luaXRFbGVtZW50czpmdW5jdGlvbigpe3RoaXMuX21hcC5faW5pdFBhdGhSb290KCksdGhpcy5faW5pdFBhdGgoKSx0aGlzLl9pbml0U3R5bGUoKX0sX2luaXRQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyPXRoaXMuX2NyZWF0ZUVsZW1lbnQoImciKSx0aGlzLl9wYXRoPXRoaXMuX2NyZWF0ZUVsZW1lbnQoInBhdGgiKSx0aGlzLm9wdGlvbnMuY2xhc3NOYW1lJiZzLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fcGF0aCx0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fcGF0aCl9LF9pbml0U3R5bGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3Ryb2tlJiYodGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lam9pbiIsInJvdW5kIiksdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lY2FwIiwicm91bmQiKSksdGhpcy5vcHRpb25zLmZpbGwmJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsLXJ1bGUiLCJldmVub2RkIiksdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMmJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMpLHRoaXMub3B0aW9ucy5jbGlja2FibGV8fHRoaXMub3B0aW9ucy5wb2ludGVyRXZlbnRzfHx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgicG9pbnRlci1ldmVudHMiLCJub25lIiksdGhpcy5fdXBkYXRlU3R5bGUoKX0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnN0cm9rZT8odGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsdGhpcy5vcHRpb25zLmNvbG9yKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLW9wYWNpdHkiLHRoaXMub3B0aW9ucy5vcGFjaXR5KSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIix0aGlzLm9wdGlvbnMud2VpZ2h0KSx0aGlzLm9wdGlvbnMuZGFzaEFycmF5P3RoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5Iix0aGlzLm9wdGlvbnMuZGFzaEFycmF5KTp0aGlzLl9wYXRoLnJlbW92ZUF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hhcnJheSIpLHRoaXMub3B0aW9ucy5saW5lQ2FwJiZ0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVjYXAiLHRoaXMub3B0aW9ucy5saW5lQ2FwKSx0aGlzLm9wdGlvbnMubGluZUpvaW4mJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWpvaW4iLHRoaXMub3B0aW9ucy5saW5lSm9pbikpOnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2UiLCJub25lIiksdGhpcy5vcHRpb25zLmZpbGw/KHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsIix0aGlzLm9wdGlvbnMuZmlsbENvbG9yfHx0aGlzLm9wdGlvbnMuY29sb3IpLHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsLW9wYWNpdHkiLHRoaXMub3B0aW9ucy5maWxsT3BhY2l0eSkpOnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsIiwibm9uZSIpfSxfdXBkYXRlUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UGF0aFN0cmluZygpO3R8fCh0PSJNMCAwIiksdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoImQiLHQpfSxfaW5pdEV2ZW50czpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5jbGlja2FibGUpeyhzLkJyb3dzZXIuc3ZnfHwhcy5Ccm93c2VyLnZtbCkmJnMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9wYXRoLCJsZWFmbGV0LWNsaWNrYWJsZSIpLHMuRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCJjbGljayIsdGhpcy5fb25Nb3VzZUNsaWNrLHRoaXMpO2Zvcih2YXIgdD1bImRibGNsaWNrIiwibW91c2Vkb3duIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJjb250ZXh0bWVudSJdLGU9MDtlPHQubGVuZ3RoO2UrKylzLkRvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lcix0W2VdLHRoaXMuX2ZpcmVNb3VzZUV2ZW50LHRoaXMpfX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXt0aGlzLl9tYXAuZHJhZ2dpbmcmJnRoaXMuX21hcC5kcmFnZ2luZy5tb3ZlZCgpfHx0aGlzLl9maXJlTW91c2VFdmVudCh0KX0sX2ZpcmVNb3VzZUV2ZW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModC50eXBlKSl7dmFyIGU9dGhpcy5fbWFwLGk9ZS5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludCh0KSxuPWUuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoaSksbz1lLmxheWVyUG9pbnRUb0xhdExuZyhuKTt0aGlzLmZpcmUodC50eXBlLHtsYXRsbmc6byxsYXllclBvaW50Om4sY29udGFpbmVyUG9pbnQ6aSxvcmlnaW5hbEV2ZW50OnR9KSwiY29udGV4dG1lbnUiPT09dC50eXBlJiZzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLCJtb3VzZW1vdmUiIT09dC50eXBlJiZzLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KX19fSkscy5NYXAuaW5jbHVkZSh7X2luaXRQYXRoUm9vdDpmdW5jdGlvbigpe3RoaXMuX3BhdGhSb290fHwodGhpcy5fcGF0aFJvb3Q9cy5QYXRoLnByb3RvdHlwZS5fY3JlYXRlRWxlbWVudCgic3ZnIiksdGhpcy5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5fcGF0aFJvb3QpLHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uJiZzLkJyb3dzZXIuYW55M2Q/KHMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9wYXRoUm9vdCwibGVhZmxldC16b29tLWFuaW1hdGVkIiksdGhpcy5vbih7em9vbWFuaW06dGhpcy5fYW5pbWF0ZVBhdGhab29tLHpvb21lbmQ6dGhpcy5fZW5kUGF0aFpvb219KSk6cy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3BhdGhSb290LCJsZWFmbGV0LXpvb20taGlkZSIpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVN2Z1ZpZXdwb3J0KSx0aGlzLl91cGRhdGVTdmdWaWV3cG9ydCgpKX0sX2FuaW1hdGVQYXRoWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFpvb21TY2FsZSh0Lnpvb20pLGk9dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQuY2VudGVyKS5fbXVsdGlwbHlCeSgtZSkuX2FkZCh0aGlzLl9wYXRoVmlld3BvcnQubWluKTt0aGlzLl9wYXRoUm9vdC5zdHlsZVtzLkRvbVV0aWwuVFJBTlNGT1JNXT1zLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGkpKyIgc2NhbGUoIitlKyIpICIsdGhpcy5fcGF0aFpvb21pbmc9ITB9LF9lbmRQYXRoWm9vbTpmdW5jdGlvbigpe3RoaXMuX3BhdGhab29taW5nPSExfSxfdXBkYXRlU3ZnVmlld3BvcnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fcGF0aFpvb21pbmcpe3RoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCgpO3ZhciB0PXRoaXMuX3BhdGhWaWV3cG9ydCxlPXQubWluLGk9dC5tYXgsbj1pLngtZS54LG89aS55LWUueSxhPXRoaXMuX3BhdGhSb290LHI9dGhpcy5fcGFuZXMub3ZlcmxheVBhbmU7cy5Ccm93c2VyLm1vYmlsZVdlYmtpdCYmci5yZW1vdmVDaGlsZChhKSxzLkRvbVV0aWwuc2V0UG9zaXRpb24oYSxlKSxhLnNldEF0dHJpYnV0ZSgid2lkdGgiLG4pLGEuc2V0QXR0cmlidXRlKCJoZWlnaHQiLG8pLGEuc2V0QXR0cmlidXRlKCJ2aWV3Qm94IixbZS54LGUueSxuLG9dLmpvaW4oIiAiKSkscy5Ccm93c2VyLm1vYmlsZVdlYmtpdCYmci5hcHBlbmRDaGlsZChhKX19fSkscy5QYXRoLmluY2x1ZGUoe2JpbmRQb3B1cDpmdW5jdGlvbih0LGUpe3JldHVybiB0IGluc3RhbmNlb2Ygcy5Qb3B1cD90aGlzLl9wb3B1cD10OigoIXRoaXMuX3BvcHVwfHxlKSYmKHRoaXMuX3BvcHVwPW5ldyBzLlBvcHVwKGUsdGhpcykpLHRoaXMuX3BvcHVwLnNldENvbnRlbnQodCkpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZHx8KHRoaXMub24oImNsaWNrIix0aGlzLl9vcGVuUG9wdXAsdGhpcykub24oInJlbW92ZSIsdGhpcy5jbG9zZVBvcHVwLHRoaXMpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZD0hMCksdGhpc30sdW5iaW5kUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cD1udWxsLHRoaXMub2ZmKCJjbGljayIsdGhpcy5fb3BlblBvcHVwKS5vZmYoInJlbW92ZSIsdGhpcy5jbG9zZVBvcHVwKSx0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQ9ITEpLHRoaXN9LG9wZW5Qb3B1cDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcG9wdXAmJih0PXR8fHRoaXMuX2xhdGxuZ3x8dGhpcy5fbGF0bG5nc1tNYXRoLmZsb29yKHRoaXMuX2xhdGxuZ3MubGVuZ3RoLzIpXSx0aGlzLl9vcGVuUG9wdXAoe2xhdGxuZzp0fSkpLHRoaXN9LGNsb3NlUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLl9jbG9zZSgpLHRoaXN9LF9vcGVuUG9wdXA6ZnVuY3Rpb24odCl7dGhpcy5fcG9wdXAuc2V0TGF0TG5nKHQubGF0bG5nKSx0aGlzLl9tYXAub3BlblBvcHVwKHRoaXMuX3BvcHVwKX19KSxzLkJyb3dzZXIudm1sPSFzLkJyb3dzZXIuc3ZnJiZmdW5jdGlvbigpe3RyeXt2YXIgdD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuaW5uZXJIVE1MPSc8djpzaGFwZSBhZGo9IjEiLz4nO3ZhciBlPXQuZmlyc3RDaGlsZDtyZXR1cm4gZS5zdHlsZS5iZWhhdmlvcj0idXJsKCNkZWZhdWx0I1ZNTCkiLGUmJiJvYmplY3QiPT10eXBlb2YgZS5hZGp9Y2F0Y2gobil7cmV0dXJuITF9fSgpLHMuUGF0aD1zLkJyb3dzZXIuc3ZnfHwhcy5Ccm93c2VyLnZtbD9zLlBhdGg6cy5QYXRoLmV4dGVuZCh7c3RhdGljczp7Vk1MOiEwLENMSVBfUEFERElORzouMDJ9LF9jcmVhdGVFbGVtZW50OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBpLm5hbWVzcGFjZXMuYWRkKCJsdm1sIiwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiKSxmdW5jdGlvbih0KXtyZXR1cm4gaS5jcmVhdGVFbGVtZW50KCI8bHZtbDoiK3QrJyBjbGFzcz0ibHZtbCI+Jyl9fWNhdGNoKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaS5jcmVhdGVFbGVtZW50KCI8Iit0KycgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIiBjbGFzcz0ibHZtbCI+Jyl9fX0oKSxfaW5pdFBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250YWluZXI9dGhpcy5fY3JlYXRlRWxlbWVudCgic2hhcGUiKTtzLkRvbVV0aWwuYWRkQ2xhc3ModCwibGVhZmxldC12bWwtc2hhcGUiKyh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lPyIgIit0aGlzLm9wdGlvbnMuY2xhc3NOYW1lOiIiKSksdGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmcy5Eb21VdGlsLmFkZENsYXNzKHQsImxlYWZsZXQtY2xpY2thYmxlIiksdC5jb29yZHNpemU9IjEgMSIsdGhpcy5fcGF0aD10aGlzLl9jcmVhdGVFbGVtZW50KCJwYXRoIiksdC5hcHBlbmRDaGlsZCh0aGlzLl9wYXRoKSx0aGlzLl9tYXAuX3BhdGhSb290LmFwcGVuZENoaWxkKHQpfSxfaW5pdFN0eWxlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlU3R5bGUoKX0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3Ryb2tlLGU9dGhpcy5fZmlsbCxpPXRoaXMub3B0aW9ucyxuPXRoaXMuX2NvbnRhaW5lcjtuLnN0cm9rZWQ9aS5zdHJva2Usbi5maWxsZWQ9aS5maWxsLGkuc3Ryb2tlPyh0fHwodD10aGlzLl9zdHJva2U9dGhpcy5fY3JlYXRlRWxlbWVudCgic3Ryb2tlIiksdC5lbmRjYXA9InJvdW5kIixuLmFwcGVuZENoaWxkKHQpKSx0LndlaWdodD1pLndlaWdodCsicHgiLHQuY29sb3I9aS5jb2xvcix0Lm9wYWNpdHk9aS5vcGFjaXR5LHQuZGFzaFN0eWxlPWkuZGFzaEFycmF5P3MuVXRpbC5pc0FycmF5KGkuZGFzaEFycmF5KT9pLmRhc2hBcnJheS5qb2luKCIgIik6aS5kYXNoQXJyYXkucmVwbGFjZSgvKCAqLCAqKS9nLCIgIik6IiIsaS5saW5lQ2FwJiYodC5lbmRjYXA9aS5saW5lQ2FwLnJlcGxhY2UoImJ1dHQiLCJmbGF0IikpLGkubGluZUpvaW4mJih0LmpvaW5zdHlsZT1pLmxpbmVKb2luKSk6dCYmKG4ucmVtb3ZlQ2hpbGQodCksdGhpcy5fc3Ryb2tlPW51bGwpLGkuZmlsbD8oZXx8KGU9dGhpcy5fZmlsbD10aGlzLl9jcmVhdGVFbGVtZW50KCJmaWxsIiksbi5hcHBlbmRDaGlsZChlKSksZS5jb2xvcj1pLmZpbGxDb2xvcnx8aS5jb2xvcixlLm9wYWNpdHk9aS5maWxsT3BhY2l0eSk6ZSYmKG4ucmVtb3ZlQ2hpbGQoZSksdGhpcy5fZmlsbD1udWxsKX0sX3VwZGF0ZVBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250YWluZXIuc3R5bGU7dC5kaXNwbGF5PSJub25lIix0aGlzLl9wYXRoLnY9dGhpcy5nZXRQYXRoU3RyaW5nKCkrIiAiLHQuZGlzcGxheT0iIn19KSxzLk1hcC5pbmNsdWRlKHMuQnJvd3Nlci5zdmd8fCFzLkJyb3dzZXIudm1sP3t9OntfaW5pdFBhdGhSb290OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdGhSb290KXt2YXIgdD10aGlzLl9wYXRoUm9vdD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuY2xhc3NOYW1lPSJsZWFmbGV0LXZtbC1jb250YWluZXIiLHRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKHQpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCksdGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KCl9fX0pLHMuQnJvd3Nlci5jYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4hIWkuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dH0oKSxzLlBhdGg9cy5QYXRoLlNWRyYmIXQuTF9QUkVGRVJfQ0FOVkFTfHwhcy5Ccm93c2VyLmNhbnZhcz9zLlBhdGg6cy5QYXRoLmV4dGVuZCh7c3RhdGljczp7Q0FOVkFTOiEwLFNWRzohMX0scmVkcmF3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMucHJvamVjdExhdGxuZ3MoKSx0aGlzLl9yZXF1ZXN0VXBkYXRlKCkpLHRoaXN9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiBzLnNldE9wdGlvbnModGhpcyx0KSx0aGlzLl9tYXAmJih0aGlzLl91cGRhdGVTdHlsZSgpLHRoaXMuX3JlcXVlc3RVcGRhdGUoKSksdGhpc30sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoInZpZXdyZXNldCIsdGhpcy5wcm9qZWN0TGF0bG5ncyx0aGlzKS5vZmYoIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVBhdGgsdGhpcyksdGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmKHRoaXMuX21hcC5vZmYoImNsaWNrIix0aGlzLl9vbkNsaWNrLHRoaXMpLHRoaXMuX21hcC5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmUsdGhpcykpLHRoaXMuX3JlcXVlc3RVcGRhdGUoKSx0aGlzLl9tYXA9bnVsbH0sX3JlcXVlc3RVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJiFzLlBhdGguX3VwZGF0ZVJlcXVlc3QmJihzLlBhdGguX3VwZGF0ZVJlcXVlc3Q9cy5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fZmlyZU1hcE1vdmVFbmQsdGhpcy5fbWFwKSl9LF9maXJlTWFwTW92ZUVuZDpmdW5jdGlvbigpe3MuUGF0aC5fdXBkYXRlUmVxdWVzdD1udWxsLHRoaXMuZmlyZSgibW92ZWVuZCIpfSxfaW5pdEVsZW1lbnRzOmZ1bmN0aW9uKCl7dGhpcy5fbWFwLl9pbml0UGF0aFJvb3QoKSx0aGlzLl9jdHg9dGhpcy5fbWFwLl9jYW52YXNDdHh9LF91cGRhdGVTdHlsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uczt0LnN0cm9rZSYmKHRoaXMuX2N0eC5saW5lV2lkdGg9dC53ZWlnaHQsdGhpcy5fY3R4LnN0cm9rZVN0eWxlPXQuY29sb3IpLHQuZmlsbCYmKHRoaXMuX2N0eC5maWxsU3R5bGU9dC5maWxsQ29sb3J8fHQuY29sb3IpfSxfZHJhd1BhdGg6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbixvLGE7Zm9yKHRoaXMuX2N0eC5iZWdpblBhdGgoKSx0PTAsaT10aGlzLl9wYXJ0cy5sZW5ndGg7aT50O3QrKyl7Zm9yKGU9MCxuPXRoaXMuX3BhcnRzW3RdLmxlbmd0aDtuPmU7ZSsrKW89dGhpcy5fcGFydHNbdF1bZV0sYT0oMD09PWU/Im1vdmUiOiJsaW5lIikrIlRvIix0aGlzLl9jdHhbYV0oby54LG8ueSk7dGhpcyBpbnN0YW5jZW9mIHMuUG9seWdvbiYmdGhpcy5fY3R4LmNsb3NlUGF0aCgpfX0sX2NoZWNrSWZFbXB0eTpmdW5jdGlvbigpe3JldHVybiF0aGlzLl9wYXJ0cy5sZW5ndGh9LF91cGRhdGVQYXRoOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NoZWNrSWZFbXB0eSgpKXt2YXIgdD10aGlzLl9jdHgsZT10aGlzLm9wdGlvbnM7dGhpcy5fZHJhd1BhdGgoKSx0LnNhdmUoKSx0aGlzLl91cGRhdGVTdHlsZSgpLGUuZmlsbCYmKHQuZ2xvYmFsQWxwaGE9ZS5maWxsT3BhY2l0eSx0LmZpbGwoKSksZS5zdHJva2UmJih0Lmdsb2JhbEFscGhhPWUub3BhY2l0eSx0LnN0cm9rZSgpKSx0LnJlc3RvcmUoKX19LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmKHRoaXMuX21hcC5vbigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSx0aGlzKSx0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9vbkNsaWNrLHRoaXMpKX0sX29uQ2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbnNQb2ludCh0LmxheWVyUG9pbnQpJiZ0aGlzLmZpcmUoImNsaWNrIix0KX0sX29uTW91c2VNb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX21hcCYmIXRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSYmKHRoaXMuX2NvbnRhaW5zUG9pbnQodC5sYXllclBvaW50KT8odGhpcy5fY3R4LmNhbnZhcy5zdHlsZS5jdXJzb3I9InBvaW50ZXIiLHRoaXMuX21vdXNlSW5zaWRlPSEwLHRoaXMuZmlyZSgibW91c2VvdmVyIix0KSk6dGhpcy5fbW91c2VJbnNpZGUmJih0aGlzLl9jdHguY2FudmFzLnN0eWxlLmN1cnNvcj0iIix0aGlzLl9tb3VzZUluc2lkZT0hMSx0aGlzLmZpcmUoIm1vdXNlb3V0Iix0KSkpfX0pLHMuTWFwLmluY2x1ZGUocy5QYXRoLlNWRyYmIXQuTF9QUkVGRVJfQ0FOVkFTfHwhcy5Ccm93c2VyLmNhbnZhcz97fTp7X2luaXRQYXRoUm9vdDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fcGF0aFJvb3Q7ZXx8KGU9dGhpcy5fcGF0aFJvb3Q9aS5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdD10aGlzLl9jYW52YXNDdHg9ZS5nZXRDb250ZXh0KCIyZCIpLHQubGluZUNhcD0icm91bmQiLHQubGluZUpvaW49InJvdW5kIix0aGlzLl9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZChlKSx0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmKHRoaXMuX3BhdGhSb290LmNsYXNzTmFtZT0ibGVhZmxldC16b29tLWFuaW1hdGVkIix0aGlzLm9uKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVBhdGhab29tKSx0aGlzLm9uKCJ6b29tZW5kIix0aGlzLl9lbmRQYXRoWm9vbSkpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZUNhbnZhc1ZpZXdwb3J0KSx0aGlzLl91cGRhdGVDYW52YXNWaWV3cG9ydCgpKX0sX3VwZGF0ZUNhbnZhc1ZpZXdwb3J0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdGhab29taW5nKXt0aGlzLl91cGRhdGVQYXRoVmlld3BvcnQoKTt2YXIgdD10aGlzLl9wYXRoVmlld3BvcnQsZT10Lm1pbixpPXQubWF4LnN1YnRyYWN0KGUpLG49dGhpcy5fcGF0aFJvb3Q7cy5Eb21VdGlsLnNldFBvc2l0aW9uKG4sZSksbi53aWR0aD1pLngsbi5oZWlnaHQ9aS55LG4uZ2V0Q29udGV4dCgiMmQiKS50cmFuc2xhdGUoLWUueCwtZS55KX19fSkscy5MaW5lVXRpbD17c2ltcGxpZnk6ZnVuY3Rpb24odCxlKXtpZighZXx8IXQubGVuZ3RoKXJldHVybiB0LnNsaWNlKCk7dmFyIGk9ZSplO3JldHVybiB0PXRoaXMuX3JlZHVjZVBvaW50cyh0LGkpLHQ9dGhpcy5fc2ltcGxpZnlEUCh0LGkpfSxwb2ludFRvU2VnbWVudERpc3RhbmNlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpLCEwKSl9LGNsb3Nlc3RQb2ludE9uU2VnbWVudDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpKX0sX3NpbXBsaWZ5RFA6ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmxlbmd0aCxvPXR5cGVvZiBVaW50OEFycmF5IT1uKyIiP1VpbnQ4QXJyYXk6QXJyYXkscz1uZXcgbyhpKTtzWzBdPXNbaS0xXT0xLHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHQscyxlLDAsaS0xKTt2YXIgYSxyPVtdO2ZvcihhPTA7aT5hO2ErKylzW2FdJiZyLnB1c2godFthXSk7cmV0dXJuIHJ9LF9zaW1wbGlmeURQU3RlcDpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBzLGEscixsPTA7Zm9yKGE9bisxO28tMT49YTthKyspcj10aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudCh0W2FdLHRbbl0sdFtvXSwhMCkscj5sJiYocz1hLGw9cik7bD5pJiYoZVtzXT0xLHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHQsZSxpLG4scyksdGhpcy5fc2ltcGxpZnlEUFN0ZXAodCxlLGkscyxvKSl9LF9yZWR1Y2VQb2ludHM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W3RbMF1dLG49MSxvPTAscz10Lmxlbmd0aDtzPm47bisrKXRoaXMuX3NxRGlzdCh0W25dLHRbb10pPmUmJihpLnB1c2godFtuXSksbz1uKTtyZXR1cm4gcy0xPm8mJmkucHVzaCh0W3MtMV0pLGl9LGNsaXBTZWdtZW50OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLHMsYSxyPW4/dGhpcy5fbGFzdENvZGU6dGhpcy5fZ2V0Qml0Q29kZSh0LGkpLGw9dGhpcy5fZ2V0Qml0Q29kZShlLGkpO2Zvcih0aGlzLl9sYXN0Q29kZT1sOzspe2lmKCEocnxsKSlyZXR1cm5bdCxlXTtpZihyJmwpcmV0dXJuITE7bz1yfHxsLHM9dGhpcy5fZ2V0RWRnZUludGVyc2VjdGlvbih0LGUsbyxpKSxhPXRoaXMuX2dldEJpdENvZGUocyxpKSxvPT09cj8odD1zLHI9YSk6KGU9cyxsPWEpfX0sX2dldEVkZ2VJbnRlcnNlY3Rpb246ZnVuY3Rpb24odCxlLGksbil7dmFyIG89ZS54LXQueCxhPWUueS10Lnkscj1uLm1pbixsPW4ubWF4O3JldHVybiA4Jmk/bmV3IHMuUG9pbnQodC54K28qKGwueS10LnkpL2EsbC55KTo0Jmk/bmV3IHMuUG9pbnQodC54K28qKHIueS10LnkpL2Esci55KToyJmk/bmV3IHMuUG9pbnQobC54LHQueSthKihsLngtdC54KS9vKToxJmk/bmV3IHMuUG9pbnQoci54LHQueSthKihyLngtdC54KS9vKTp2b2lkIDB9LF9nZXRCaXRDb2RlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9MDtyZXR1cm4gdC54PGUubWluLng/aXw9MTp0Lng+ZS5tYXgueCYmKGl8PTIpLHQueTxlLm1pbi55P2l8PTQ6dC55PmUubWF4LnkmJihpfD04KSxpfSxfc3FEaXN0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54LXQueCxuPWUueS10Lnk7cmV0dXJuIGkqaStuKm59LF9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxhPWUueCxyPWUueSxsPWkueC1hLGg9aS55LXIsdT1sKmwraCpoO3JldHVybiB1PjAmJihvPSgodC54LWEpKmwrKHQueS1yKSpoKS91LG8+MT8oYT1pLngscj1pLnkpOm8+MCYmKGErPWwqbyxyKz1oKm8pKSxsPXQueC1hLGg9dC55LXIsbj9sKmwraCpoOm5ldyBzLlBvaW50KGEscil9fSxzLlBvbHlsaW5lPXMuUGF0aC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtzLlBhdGgucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGUpLHRoaXMuX2xhdGxuZ3M9dGhpcy5fY29udmVydExhdExuZ3ModCl9LG9wdGlvbnM6e3Ntb290aEZhY3RvcjoxLG5vQ2xpcDohMX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt0aGlzLl9vcmlnaW5hbFBvaW50cz1bXTtmb3IodmFyIHQ9MCxlPXRoaXMuX2xhdGxuZ3MubGVuZ3RoO2U+dDt0KyspdGhpcy5fb3JpZ2luYWxQb2ludHNbdF09dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmdzW3RdKX0sZ2V0UGF0aFN0cmluZzpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5fcGFydHMubGVuZ3RoLGk9IiI7ZT50O3QrKylpKz10aGlzLl9nZXRQYXRoUGFydFN0cih0aGlzLl9wYXJ0c1t0XSk7cmV0dXJuIGl9LGdldExhdExuZ3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nc30sc2V0TGF0TG5nczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0KSx0aGlzLnJlZHJhdygpfSxhZGRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZ3MucHVzaChzLmxhdExuZyh0KSksdGhpcy5yZWRyYXcoKX0sc3BsaWNlTGF0TG5nczpmdW5jdGlvbigpe3ZhciB0PVtdLnNwbGljZS5hcHBseSh0aGlzLl9sYXRsbmdzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX2NvbnZlcnRMYXRMbmdzKHRoaXMuX2xhdGxuZ3MsITApLHRoaXMucmVkcmF3KCksdH0sY2xvc2VzdExheWVyUG9pbnQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbj0xLzAsbz10aGlzLl9wYXJ0cyxhPW51bGwscj0wLGw9by5sZW5ndGg7bD5yO3IrKylmb3IodmFyIGg9b1tyXSx1PTEsYz1oLmxlbmd0aDtjPnU7dSsrKXtlPWhbdS0xXSxpPWhbdV07dmFyIHA9cy5MaW5lVXRpbC5fc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQodCxlLGksITApO24+cCYmKG49cCxhPXMuTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpKSl9cmV0dXJuIGEmJihhLmRpc3RhbmNlPU1hdGguc3FydChuKSksYX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzLkxhdExuZ0JvdW5kcyh0aGlzLmdldExhdExuZ3MoKSl9LF9jb252ZXJ0TGF0TG5nczpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbz1lP3Q6W107Zm9yKGk9MCxuPXQubGVuZ3RoO24+aTtpKyspe2lmKHMuVXRpbC5pc0FycmF5KHRbaV0pJiYibnVtYmVyIiE9dHlwZW9mIHRbaV1bMF0pcmV0dXJuO29baV09cy5sYXRMbmcodFtpXSl9cmV0dXJuIG99LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7cy5QYXRoLnByb3RvdHlwZS5faW5pdEV2ZW50cy5jYWxsKHRoaXMpfSxfZ2V0UGF0aFBhcnRTdHI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9cy5QYXRoLlZNTCxuPTAsbz10Lmxlbmd0aCxhPSIiO28+bjtuKyspZT10W25dLGkmJmUuX3JvdW5kKCksYSs9KG4/IkwiOiJNIikrZS54KyIgIitlLnk7cmV0dXJuIGF9LF9jbGlwUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG49dGhpcy5fb3JpZ2luYWxQb2ludHMsbz1uLmxlbmd0aDtpZih0aGlzLm9wdGlvbnMubm9DbGlwKXJldHVybiB0aGlzLl9wYXJ0cz1bbl0sdm9pZCAwO3RoaXMuX3BhcnRzPVtdO3ZhciBhPXRoaXMuX3BhcnRzLHI9dGhpcy5fbWFwLl9wYXRoVmlld3BvcnQsbD1zLkxpbmVVdGlsO2Zvcih0PTAsZT0wO28tMT50O3QrKylpPWwuY2xpcFNlZ21lbnQoblt0XSxuW3QrMV0scix0KSxpJiYoYVtlXT1hW2VdfHxbXSxhW2VdLnB1c2goaVswXSksKGlbMV0hPT1uW3QrMV18fHQ9PT1vLTIpJiYoYVtlXS5wdXNoKGlbMV0pLGUrKykpfSxfc2ltcGxpZnlQb2ludHM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fcGFydHMsZT1zLkxpbmVVdGlsLGk9MCxuPXQubGVuZ3RoO24+aTtpKyspdFtpXT1lLnNpbXBsaWZ5KHRbaV0sdGhpcy5vcHRpb25zLnNtb290aEZhY3Rvcil9LF91cGRhdGVQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYodGhpcy5fY2xpcFBvaW50cygpLHRoaXMuX3NpbXBsaWZ5UG9pbnRzKCkscy5QYXRoLnByb3RvdHlwZS5fdXBkYXRlUGF0aC5jYWxsKHRoaXMpKX19KSxzLnBvbHlsaW5lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLlBvbHlsaW5lKHQsZSl9LHMuUG9seVV0aWw9e30scy5Qb2x5VXRpbC5jbGlwUG9seWdvbj1mdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhLHIsbCxoLHUsYyxwPVsxLDQsMiw4XSxkPXMuTGluZVV0aWw7Zm9yKG49MCxoPXQubGVuZ3RoO2g+bjtuKyspdFtuXS5fY29kZT1kLl9nZXRCaXRDb2RlKHRbbl0sZSk7Zm9yKGE9MDs0PmE7YSsrKXtmb3IodT1wW2FdLGk9W10sbj0wLGg9dC5sZW5ndGgsbz1oLTE7aD5uO289bisrKXI9dFtuXSxsPXRbb10sci5fY29kZSZ1P2wuX2NvZGUmdXx8KGM9ZC5fZ2V0RWRnZUludGVyc2VjdGlvbihsLHIsdSxlKSxjLl9jb2RlPWQuX2dldEJpdENvZGUoYyxlKSxpLnB1c2goYykpOihsLl9jb2RlJnUmJihjPWQuX2dldEVkZ2VJbnRlcnNlY3Rpb24obCxyLHUsZSksYy5fY29kZT1kLl9nZXRCaXRDb2RlKGMsZSksaS5wdXNoKGMpKSxpLnB1c2gocikpO3Q9aX1yZXR1cm4gdH0scy5Qb2x5Z29uPXMuUG9seWxpbmUuZXh0ZW5kKHtvcHRpb25zOntmaWxsOiEwfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7cy5Qb2x5bGluZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxlKSx0aGlzLl9pbml0V2l0aEhvbGVzKHQpfSxfaW5pdFdpdGhIb2xlczpmdW5jdGlvbih0KXt2YXIgZSxpLG47aWYodCYmcy5VdGlsLmlzQXJyYXkodFswXSkmJiJudW1iZXIiIT10eXBlb2YgdFswXVswXSlmb3IodGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0WzBdKSx0aGlzLl9ob2xlcz10LnNsaWNlKDEpLGU9MCxpPXRoaXMuX2hvbGVzLmxlbmd0aDtpPmU7ZSsrKW49dGhpcy5faG9sZXNbZV09dGhpcy5fY29udmVydExhdExuZ3ModGhpcy5faG9sZXNbZV0pLG5bMF0uZXF1YWxzKG5bbi5sZW5ndGgtMV0pJiZuLnBvcCgpO3Q9dGhpcy5fbGF0bG5ncyx0Lmxlbmd0aD49MiYmdFswXS5lcXVhbHModFt0Lmxlbmd0aC0xXSkmJnQucG9wKCl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7aWYocy5Qb2x5bGluZS5wcm90b3R5cGUucHJvamVjdExhdGxuZ3MuY2FsbCh0aGlzKSx0aGlzLl9ob2xlUG9pbnRzPVtdLHRoaXMuX2hvbGVzKXt2YXIgdCxlLGksbjtmb3IodD0wLGk9dGhpcy5faG9sZXMubGVuZ3RoO2k+dDt0KyspZm9yKHRoaXMuX2hvbGVQb2ludHNbdF09W10sZT0wLG49dGhpcy5faG9sZXNbdF0ubGVuZ3RoO24+ZTtlKyspdGhpcy5faG9sZVBvaW50c1t0XVtlXT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2hvbGVzW3RdW2VdKX19LHNldExhdExuZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnMuVXRpbC5pc0FycmF5KHRbMF0pJiYibnVtYmVyIiE9dHlwZW9mIHRbMF1bMF0/KHRoaXMuX2luaXRXaXRoSG9sZXModCksdGhpcy5yZWRyYXcoKSk6cy5Qb2x5bGluZS5wcm90b3R5cGUuc2V0TGF0TG5ncy5jYWxsKHRoaXMsdCl9LF9jbGlwUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb3JpZ2luYWxQb2ludHMsZT1bXTtpZih0aGlzLl9wYXJ0cz1bdF0uY29uY2F0KHRoaXMuX2hvbGVQb2ludHMpLCF0aGlzLm9wdGlvbnMubm9DbGlwKXtmb3IodmFyIGk9MCxuPXRoaXMuX3BhcnRzLmxlbmd0aDtuPmk7aSsrKXt2YXIgbz1zLlBvbHlVdGlsLmNsaXBQb2x5Z29uKHRoaXMuX3BhcnRzW2ldLHRoaXMuX21hcC5fcGF0aFZpZXdwb3J0KTtvLmxlbmd0aCYmZS5wdXNoKG8pfXRoaXMuX3BhcnRzPWV9fSxfZ2V0UGF0aFBhcnRTdHI6ZnVuY3Rpb24odCl7dmFyIGU9cy5Qb2x5bGluZS5wcm90b3R5cGUuX2dldFBhdGhQYXJ0U3RyLmNhbGwodGhpcyx0KTtyZXR1cm4gZSsocy5Ccm93c2VyLnN2Zz8ieiI6IngiKX19KSxzLnBvbHlnb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHMuUG9seWdvbih0LGUpfSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHMuRmVhdHVyZUdyb3VwLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2xheWVycz17fSx0aGlzLl9vcHRpb25zPWUsdGhpcy5zZXRMYXRMbmdzKHQpfSxzZXRMYXRMbmdzOmZ1bmN0aW9uKGUpe3ZhciBpPTAsbj1lLmxlbmd0aDtmb3IodGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24odCl7bj5pP3Quc2V0TGF0TG5ncyhlW2krK10pOnRoaXMucmVtb3ZlTGF5ZXIodCl9LHRoaXMpO24+aTspdGhpcy5hZGRMYXllcihuZXcgdChlW2krK10sdGhpcy5fb3B0aW9ucykpO3JldHVybiB0aGlzfSxnZXRMYXRMbmdzOmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uKGUpe3QucHVzaChlLmdldExhdExuZ3MoKSl9KSx0fX0pfXMuTXVsdGlQb2x5bGluZT10KHMuUG9seWxpbmUpLHMuTXVsdGlQb2x5Z29uPXQocy5Qb2x5Z29uKSxzLm11bHRpUG9seWxpbmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHMuTXVsdGlQb2x5bGluZSh0LGUpfSxzLm11bHRpUG9seWdvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcy5NdWx0aVBvbHlnb24odCxlKX19KCkscy5SZWN0YW5nbGU9cy5Qb2x5Z29uLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3MuUG9seWdvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdGhpcy5fYm91bmRzVG9MYXRMbmdzKHQpLGUpfSxzZXRCb3VuZHM6ZnVuY3Rpb24odCl7dGhpcy5zZXRMYXRMbmdzKHRoaXMuX2JvdW5kc1RvTGF0TG5ncyh0KSl9LF9ib3VuZHNUb0xhdExuZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5sYXRMbmdCb3VuZHModCksW3QuZ2V0U291dGhXZXN0KCksdC5nZXROb3J0aFdlc3QoKSx0LmdldE5vcnRoRWFzdCgpLHQuZ2V0U291dGhFYXN0KCldfX0pLHMucmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLlJlY3RhbmdsZSh0LGUpfSxzLkNpcmNsZT1zLlBhdGguZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxpKXtzLlBhdGgucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGkpLHRoaXMuX2xhdGxuZz1zLmxhdExuZyh0KSx0aGlzLl9tUmFkaXVzPWV9LG9wdGlvbnM6e2ZpbGw6ITB9LHNldExhdExuZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0bG5nPXMubGF0TG5nKHQpLHRoaXMucmVkcmF3KCl9LHNldFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbVJhZGl1cz10LHRoaXMucmVkcmF3KCl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0TG5nUmFkaXVzKCksZT10aGlzLl9sYXRsbmcsaT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KFtlLmxhdCxlLmxuZy10XSk7dGhpcy5fcG9pbnQ9dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChlKSx0aGlzLl9yYWRpdXM9TWF0aC5tYXgodGhpcy5fcG9pbnQueC1pLngsMSl9LGdldEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldExuZ1JhZGl1cygpLGU9dGhpcy5fbVJhZGl1cy80MDA3NTAxNyozNjAsaT10aGlzLl9sYXRsbmc7cmV0dXJuIG5ldyBzLkxhdExuZ0JvdW5kcyhbaS5sYXQtZSxpLmxuZy10XSxbaS5sYXQrZSxpLmxuZyt0XSl9LGdldExhdExuZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXRsbmd9LGdldFBhdGhTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wb2ludCxlPXRoaXMuX3JhZGl1cztyZXR1cm4gdGhpcy5fY2hlY2tJZkVtcHR5KCk/IiI6cy5Ccm93c2VyLnN2Zz8iTSIrdC54KyIsIisodC55LWUpKyJBIitlKyIsIitlKyIsMCwxLDEsIisodC54LS4xKSsiLCIrKHQueS1lKSsiIHoiOih0Ll9yb3VuZCgpLGU9TWF0aC5yb3VuZChlKSwiQUwgIit0LngrIiwiK3QueSsiICIrZSsiLCIrZSsiIDAsMjM1OTI2MDAiKX0sZ2V0UmFkaXVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21SYWRpdXN9LF9nZXRMYXRSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbVJhZGl1cy80MDA3NTAxNyozNjB9LF9nZXRMbmdSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0TGF0UmFkaXVzKCkvTWF0aC5jb3Mocy5MYXRMbmcuREVHX1RPX1JBRCp0aGlzLl9sYXRsbmcubGF0KX0sX2NoZWNrSWZFbXB0eTpmdW5jdGlvbigpe2lmKCF0aGlzLl9tYXApcmV0dXJuITE7dmFyIHQ9dGhpcy5fbWFwLl9wYXRoVmlld3BvcnQsZT10aGlzLl9yYWRpdXMsaT10aGlzLl9wb2ludDtyZXR1cm4gaS54LWU+dC5tYXgueHx8aS55LWU+dC5tYXgueXx8aS54K2U8dC5taW4ueHx8aS55K2U8dC5taW4ueX19KSxzLmNpcmNsZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBzLkNpcmNsZSh0LGUsaSl9LHMuQ2lyY2xlTWFya2VyPXMuQ2lyY2xlLmV4dGVuZCh7b3B0aW9uczp7cmFkaXVzOjEwLHdlaWdodDoyfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7cy5DaXJjbGUucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLHQsbnVsbCxlKSx0aGlzLl9yYWRpdXM9dGhpcy5vcHRpb25zLnJhZGl1c30scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt0aGlzLl9wb2ludD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyl9LF91cGRhdGVTdHlsZTpmdW5jdGlvbigpe3MuQ2lyY2xlLnByb3RvdHlwZS5fdXBkYXRlU3R5bGUuY2FsbCh0aGlzKSx0aGlzLnNldFJhZGl1cyh0aGlzLm9wdGlvbnMucmFkaXVzKX0sc2V0TGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiBzLkNpcmNsZS5wcm90b3R5cGUuc2V0TGF0TG5nLmNhbGwodGhpcyx0KSx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX2lzT3BlbiYmdGhpcy5fcG9wdXAuc2V0TGF0TG5nKHQpLHRoaXN9LHNldFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnJhZGl1cz10aGlzLl9yYWRpdXM9dCx0aGlzLnJlZHJhdygpfSxnZXRSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzfX0pLHMuY2lyY2xlTWFya2VyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLkNpcmNsZU1hcmtlcih0LGUpfSxzLlBvbHlsaW5lLmluY2x1ZGUocy5QYXRoLkNBTlZBUz97X2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYSxyLGwsaCx1PXRoaXMub3B0aW9ucy53ZWlnaHQvMjtmb3Iocy5Ccm93c2VyLnRvdWNoJiYodSs9MTApLGk9MCxhPXRoaXMuX3BhcnRzLmxlbmd0aDthPmk7aSsrKWZvcihoPXRoaXMuX3BhcnRzW2ldLG49MCxyPWgubGVuZ3RoLG89ci0xO3I+bjtvPW4rKylpZigoZXx8MCE9PW4pJiYobD1zLkxpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UodCxoW29dLGhbbl0pLHU+PWwpKXJldHVybiEwO3JldHVybiExfX06e30pLHMuUG9seWdvbi5pbmNsdWRlKHMuUGF0aC5DQU5WQVM/e19jb250YWluc1BvaW50OmZ1bmN0aW9uKHQpe3ZhciBlLGksbixvLGEscixsLGgsdT0hMTtpZihzLlBvbHlsaW5lLnByb3RvdHlwZS5fY29udGFpbnNQb2ludC5jYWxsKHRoaXMsdCwhMCkpcmV0dXJuITA7Zm9yKG89MCxsPXRoaXMuX3BhcnRzLmxlbmd0aDtsPm87bysrKWZvcihlPXRoaXMuX3BhcnRzW29dLGE9MCxoPWUubGVuZ3RoLHI9aC0xO2g+YTtyPWErKylpPWVbYV0sbj1lW3JdLGkueT50LnkhPW4ueT50LnkmJnQueDwobi54LWkueCkqKHQueS1pLnkpLyhuLnktaS55KStpLngmJih1PSF1KTtyZXR1cm4gdX19Ont9KSxzLkNpcmNsZS5pbmNsdWRlKHMuUGF0aC5DQU5WQVM/e19kcmF3UGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BvaW50O3RoaXMuX2N0eC5iZWdpblBhdGgoKSx0aGlzLl9jdHguYXJjKHQueCx0LnksdGhpcy5fcmFkaXVzLDAsMipNYXRoLlBJLCExKX0sX2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9pbnQsaT10aGlzLm9wdGlvbnMuc3Ryb2tlP3RoaXMub3B0aW9ucy53ZWlnaHQvMjowO3JldHVybiB0LmRpc3RhbmNlVG8oZSk8PXRoaXMuX3JhZGl1cytpfX06e30pLHMuQ2lyY2xlTWFya2VyLmluY2x1ZGUocy5QYXRoLkNBTlZBUz97X3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7cy5QYXRoLnByb3RvdHlwZS5fdXBkYXRlU3R5bGUuY2FsbCh0aGlzKX19Ont9KSxzLkdlb0pTT049cy5GZWF0dXJlR3JvdXAuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7cy5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5fbGF5ZXJzPXt9LHQmJnRoaXMuYWRkRGF0YSh0KX0sYWRkRGF0YTpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbz1zLlV0aWwuaXNBcnJheSh0KT90OnQuZmVhdHVyZXM7aWYobyl7Zm9yKGU9MCxpPW8ubGVuZ3RoO2k+ZTtlKyspbj1vW2VdLChuLmdlb21ldHJpZXN8fG4uZ2VvbWV0cnl8fG4uZmVhdHVyZXN8fG4uY29vcmRpbmF0ZXMpJiZ0aGlzLmFkZERhdGEob1tlXSk7cmV0dXJuIHRoaXN9dmFyIGE9dGhpcy5vcHRpb25zO2lmKCFhLmZpbHRlcnx8YS5maWx0ZXIodCkpe3ZhciByPXMuR2VvSlNPTi5nZW9tZXRyeVRvTGF5ZXIodCxhLnBvaW50VG9MYXllcixhLmNvb3Jkc1RvTGF0TG5nLGEpO3JldHVybiByLmZlYXR1cmU9cy5HZW9KU09OLmFzRmVhdHVyZSh0KSxyLmRlZmF1bHRPcHRpb25zPXIub3B0aW9ucyx0aGlzLnJlc2V0U3R5bGUociksYS5vbkVhY2hGZWF0dXJlJiZhLm9uRWFjaEZlYXR1cmUodCxyKSx0aGlzLmFkZExheWVyKHIpfX0scmVzZXRTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMuc3R5bGU7ZSYmKHMuVXRpbC5leHRlbmQodC5vcHRpb25zLHQuZGVmYXVsdE9wdGlvbnMpLHRoaXMuX3NldExheWVyU3R5bGUodCxlKSl9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3RoaXMuZWFjaExheWVyKGZ1bmN0aW9uKGUpe3RoaXMuX3NldExheWVyU3R5bGUoZSx0KX0sdGhpcyl9LF9zZXRMYXllclN0eWxlOmZ1bmN0aW9uKHQsZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJihlPWUodC5mZWF0dXJlKSksdC5zZXRTdHlsZSYmdC5zZXRTdHlsZShlKX19KSxzLmV4dGVuZChzLkdlb0pTT04se2dlb21ldHJ5VG9MYXllcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxhLHIsbCxoPSJGZWF0dXJlIj09PXQudHlwZT90Lmdlb21ldHJ5OnQsdT1oLmNvb3JkaW5hdGVzLGM9W107c3dpdGNoKGk9aXx8dGhpcy5jb29yZHNUb0xhdExuZyxoLnR5cGUpe2Nhc2UiUG9pbnQiOnJldHVybiBvPWkodSksZT9lKHQsbyk6bmV3IHMuTWFya2VyKG8pO2Nhc2UiTXVsdGlQb2ludCI6Zm9yKHI9MCxsPXUubGVuZ3RoO2w+cjtyKyspbz1pKHVbcl0pLGMucHVzaChlP2UodCxvKTpuZXcgcy5NYXJrZXIobykpO3JldHVybiBuZXcgcy5GZWF0dXJlR3JvdXAoYyk7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDAsaSksbmV3IHMuUG9seWxpbmUoYSxuKTtjYXNlIlBvbHlnb24iOmlmKDI9PT11Lmxlbmd0aCYmIXVbMV0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBHZW9KU09OIG9iamVjdC4iKTtyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDEsaSksbmV3IHMuUG9seWdvbihhLG4pO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjpyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDEsaSksbmV3IHMuTXVsdGlQb2x5bGluZShhLG4pO2Nhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDIsaSksbmV3IHMuTXVsdGlQb2x5Z29uKGEsbik7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOmZvcihyPTAsbD1oLmdlb21ldHJpZXMubGVuZ3RoO2w+cjtyKyspYy5wdXNoKHRoaXMuZ2VvbWV0cnlUb0xheWVyKHtnZW9tZXRyeTpoLmdlb21ldHJpZXNbcl0sdHlwZToiRmVhdHVyZSIscHJvcGVydGllczp0LnByb3BlcnRpZXN9LGUsaSxuKSk7cmV0dXJuIG5ldyBzLkZlYXR1cmVHcm91cChjKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBHZW9KU09OIG9iamVjdC4iKX19LGNvb3Jkc1RvTGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5MYXRMbmcodFsxXSx0WzBdLHRbMl0pfSxjb29yZHNUb0xhdExuZ3M6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG8scyxhPVtdO2ZvcihvPTAscz10Lmxlbmd0aDtzPm87bysrKW49ZT90aGlzLmNvb3Jkc1RvTGF0TG5ncyh0W29dLGUtMSxpKTooaXx8dGhpcy5jb29yZHNUb0xhdExuZykodFtvXSksYS5wdXNoKG4pO3JldHVybiBhfSxsYXRMbmdUb0Nvb3JkczpmdW5jdGlvbih0KXt2YXIgZT1bdC5sbmcsdC5sYXRdO3JldHVybiB0LmFsdCE9PW4mJmUucHVzaCh0LmFsdCksZX0sbGF0TG5nc1RvQ29vcmRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPTAsbj10Lmxlbmd0aDtuPmk7aSsrKWUucHVzaChzLkdlb0pTT04ubGF0TG5nVG9Db29yZHModFtpXSkpO3JldHVybiBlfSxnZXRGZWF0dXJlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZmVhdHVyZT9zLmV4dGVuZCh7fSx0LmZlYXR1cmUse2dlb21ldHJ5OmV9KTpzLkdlb0pTT04uYXNGZWF0dXJlKGUpfSxhc0ZlYXR1cmU6ZnVuY3Rpb24odCl7cmV0dXJuIkZlYXR1cmUiPT09dC50eXBlP3Q6e3R5cGU6IkZlYXR1cmUiLHByb3BlcnRpZXM6e30sZ2VvbWV0cnk6dH19fSk7dmFyIHI9e3RvR2VvSlNPTjpmdW5jdGlvbigpe3JldHVybiBzLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6cy5HZW9KU09OLmxhdExuZ1RvQ29vcmRzKHRoaXMuZ2V0TGF0TG5nKCkpfSl9fTtzLk1hcmtlci5pbmNsdWRlKHIpLHMuQ2lyY2xlLmluY2x1ZGUocikscy5DaXJjbGVNYXJrZXIuaW5jbHVkZShyKSxzLlBvbHlsaW5lLmluY2x1ZGUoe3RvR2VvSlNPTjpmdW5jdGlvbigpe3JldHVybiBzLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczpzLkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzKHRoaXMuZ2V0TGF0TG5ncygpKX0pfX0pLHMuUG9seWdvbi5pbmNsdWRlKHt0b0dlb0pTT046ZnVuY3Rpb24oKXt2YXIgdCxlLGksbj1bcy5HZW9KU09OLmxhdExuZ3NUb0Nvb3Jkcyh0aGlzLmdldExhdExuZ3MoKSldO2lmKG5bMF0ucHVzaChuWzBdWzBdKSx0aGlzLl9ob2xlcylmb3IodD0wLGU9dGhpcy5faG9sZXMubGVuZ3RoO2U+dDt0KyspaT1zLkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzKHRoaXMuX2hvbGVzW3RdKSxpLnB1c2goaVswXSksbi5wdXNoKGkpO3JldHVybiBzLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOiJQb2x5Z29uIixjb29yZGluYXRlczpufSl9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbih0KXtlLnB1c2godC50b0dlb0pTT04oKS5nZW9tZXRyeS5jb29yZGluYXRlcyl9KSxzLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOnQsY29vcmRpbmF0ZXM6ZX0pfX1zLk11bHRpUG9seWxpbmUuaW5jbHVkZSh7dG9HZW9KU09OOnQoIk11bHRpTGluZVN0cmluZyIpfSkscy5NdWx0aVBvbHlnb24uaW5jbHVkZSh7dG9HZW9KU09OOnQoIk11bHRpUG9seWdvbiIpfSkscy5MYXllckdyb3VwLmluY2x1ZGUoe3RvR2VvSlNPTjpmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5mZWF0dXJlJiZ0aGlzLmZlYXR1cmUuZ2VvbWV0cnksbj1bXTtpZihpJiYiTXVsdGlQb2ludCI9PT1pLnR5cGUpcmV0dXJuIHQoIk11bHRpUG9pbnQiKS5jYWxsKHRoaXMpO3ZhciBvPWkmJiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09aS50eXBlO3JldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbih0KXt0LnRvR2VvSlNPTiYmKGU9dC50b0dlb0pTT04oKSxuLnB1c2gobz9lLmdlb21ldHJ5OnMuR2VvSlNPTi5hc0ZlYXR1cmUoZSkpKX0pLG8/cy5HZW9KU09OLmdldEZlYXR1cmUodGhpcyx7Z2VvbWV0cmllczpuLHR5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiJ9KTp7dHlwZToiRmVhdHVyZUNvbGxlY3Rpb24iLGZlYXR1cmVzOm59fX0pfSgpLHMuZ2VvSnNvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcy5HZW9KU09OKHQsZSl9LHMuRG9tRXZlbnQ9e2FkZExpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLGEscixsPXMuc3RhbXAoaSksaD0iX2xlYWZsZXRfIitlK2w7cmV0dXJuIHRbaF0/dGhpczoobz1mdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKG58fHQsZXx8cy5Eb21FdmVudC5fZ2V0RXZlbnQoKSl9LHMuQnJvd3Nlci5wb2ludGVyJiYwPT09ZS5pbmRleE9mKCJ0b3VjaCIpP3RoaXMuYWRkUG9pbnRlckxpc3RlbmVyKHQsZSxvLGwpOihzLkJyb3dzZXIudG91Y2gmJiJkYmxjbGljayI9PT1lJiZ0aGlzLmFkZERvdWJsZVRhcExpc3RlbmVyJiZ0aGlzLmFkZERvdWJsZVRhcExpc3RlbmVyKHQsbyxsKSwiYWRkRXZlbnRMaXN0ZW5lciJpbiB0PyJtb3VzZXdoZWVsIj09PWU/KHQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTW91c2VTY3JvbGwiLG8sITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihlLG8sITEpKToibW91c2VlbnRlciI9PT1lfHwibW91c2VsZWF2ZSI9PT1lPyhhPW8scj0ibW91c2VlbnRlciI9PT1lPyJtb3VzZW92ZXIiOiJtb3VzZW91dCIsbz1mdW5jdGlvbihlKXtyZXR1cm4gcy5Eb21FdmVudC5fY2hlY2tNb3VzZSh0LGUpP2EoZSk6dm9pZCAwfSx0LmFkZEV2ZW50TGlzdGVuZXIocixvLCExKSk6ImNsaWNrIj09PWUmJnMuQnJvd3Nlci5hbmRyb2lkPyhhPW8sbz1mdW5jdGlvbih0KXtyZXR1cm4gcy5Eb21FdmVudC5fZmlsdGVyQ2xpY2sodCxhKX0sdC5hZGRFdmVudExpc3RlbmVyKGUsbywhMSkpOnQuYWRkRXZlbnRMaXN0ZW5lcihlLG8sITEpOiJhdHRhY2hFdmVudCJpbiB0JiZ0LmF0dGFjaEV2ZW50KCJvbiIrZSxvKSx0W2hdPW8sdGhpcykpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49cy5zdGFtcChpKSxvPSJfbGVhZmxldF8iK2UrbixhPXRbb107cmV0dXJuIGE/KHMuQnJvd3Nlci5wb2ludGVyJiYwPT09ZS5pbmRleE9mKCJ0b3VjaCIpP3RoaXMucmVtb3ZlUG9pbnRlckxpc3RlbmVyKHQsZSxuKTpzLkJyb3dzZXIudG91Y2gmJiJkYmxjbGljayI9PT1lJiZ0aGlzLnJlbW92ZURvdWJsZVRhcExpc3RlbmVyP3RoaXMucmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIodCxuKToicmVtb3ZlRXZlbnRMaXN0ZW5lciJpbiB0PyJtb3VzZXdoZWVsIj09PWU/KHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTW91c2VTY3JvbGwiLGEsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGEsITEpKToibW91c2VlbnRlciI9PT1lfHwibW91c2VsZWF2ZSI9PT1lP3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciI9PT1lPyJtb3VzZW92ZXIiOiJtb3VzZW91dCIsYSwhMSk6dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsYSwhMSk6ImRldGFjaEV2ZW50ImluIHQmJnQuZGV0YWNoRXZlbnQoIm9uIitlLGEpLHRbb109bnVsbCx0aGlzKTp0aGlzfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RvcFByb3BhZ2F0aW9uP3Quc3RvcFByb3BhZ2F0aW9uKCk6dC5jYW5jZWxCdWJibGU9ITAscy5Eb21FdmVudC5fc2tpcHBlZCh0KSx0aGlzfSxkaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb246ZnVuY3Rpb24odCl7dmFyIGU9cy5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247CnJldHVybiBzLkRvbUV2ZW50Lm9uKHQsIm1vdXNld2hlZWwiLGUpLm9uKHQsIk1vek1vdXNlUGl4ZWxTY3JvbGwiLGUpfSxkaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9cy5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24saT1zLkRyYWdnYWJsZS5TVEFSVC5sZW5ndGgtMTtpPj0wO2ktLSlzLkRvbUV2ZW50Lm9uKHQscy5EcmFnZ2FibGUuU1RBUlRbaV0sZSk7cmV0dXJuIHMuRG9tRXZlbnQub24odCwiY2xpY2siLHMuRG9tRXZlbnQuX2Zha2VTdG9wKS5vbih0LCJkYmxjbGljayIsZSl9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExLHRoaXN9LHN0b3A6ZnVuY3Rpb24odCl7cmV0dXJuIHMuRG9tRXZlbnQucHJldmVudERlZmF1bHQodCkuc3RvcFByb3BhZ2F0aW9uKHQpfSxnZXRNb3VzZVBvc2l0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIG49aS5ib2R5LG89aS5kb2N1bWVudEVsZW1lbnQsYT1zLkRvbVV0aWwuZG9jdW1lbnRJc0x0cigpP3QucGFnZVg/dC5wYWdlWC1uLnNjcm9sbExlZnQtby5zY3JvbGxMZWZ0OnQuY2xpZW50WDpzLkJyb3dzZXIuZ2Vja28/dC5wYWdlWC1uLnNjcm9sbExlZnQtby5zY3JvbGxMZWZ0OnQucGFnZVg/dC5wYWdlWC1uLnNjcm9sbExlZnQrby5zY3JvbGxMZWZ0OnQuY2xpZW50WCxyPXQucGFnZVk/dC5wYWdlWS1uLnNjcm9sbFRvcC1vLnNjcm9sbFRvcDp0LmNsaWVudFksbD1uZXcgcy5Qb2ludChhLHIpO2lmKCFlKXJldHVybiBsO3ZhciBoPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1oLmxlZnQtZS5jbGllbnRMZWZ0LGM9aC50b3AtZS5jbGllbnRUb3A7cmV0dXJuIGwuX3N1YnRyYWN0KG5ldyBzLlBvaW50KHUsYykpfSxnZXRXaGVlbERlbHRhOmZ1bmN0aW9uKHQpe3ZhciBlPTA7cmV0dXJuIHQud2hlZWxEZWx0YSYmKGU9dC53aGVlbERlbHRhLzEyMCksdC5kZXRhaWwmJihlPS10LmRldGFpbC8zKSxlfSxfc2tpcEV2ZW50czp7fSxfZmFrZVN0b3A6ZnVuY3Rpb24odCl7cy5Eb21FdmVudC5fc2tpcEV2ZW50c1t0LnR5cGVdPSEwfSxfc2tpcHBlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9za2lwRXZlbnRzW3QudHlwZV07cmV0dXJuIHRoaXMuX3NraXBFdmVudHNbdC50eXBlXT0hMSxlfSxfY2hlY2tNb3VzZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUucmVsYXRlZFRhcmdldDtpZighaSlyZXR1cm4hMDt0cnl7Zm9yKDtpJiZpIT09dDspaT1pLnBhcmVudE5vZGV9Y2F0Y2gobil7cmV0dXJuITF9cmV0dXJuIGkhPT10fSxfZ2V0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT10LmV2ZW50O2lmKCFlKWZvcih2YXIgaT1hcmd1bWVudHMuY2FsbGVlLmNhbGxlcjtpJiYoZT1pLmFyZ3VtZW50c1swXSwhZXx8dC5FdmVudCE9PWUuY29uc3RydWN0b3IpOylpPWkuY2FsbGVyO3JldHVybiBlfSxfZmlsdGVyQ2xpY2s6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRpbWVTdGFtcHx8dC5vcmlnaW5hbEV2ZW50LnRpbWVTdGFtcCxuPXMuRG9tRXZlbnQuX2xhc3RDbGljayYmaS1zLkRvbUV2ZW50Ll9sYXN0Q2xpY2s7cmV0dXJuIG4mJm4+MTAwJiYxZTM+bnx8dC50YXJnZXQuX3NpbXVsYXRlZENsaWNrJiYhdC5fc2ltdWxhdGVkPyhzLkRvbUV2ZW50LnN0b3AodCksdm9pZCAwKToocy5Eb21FdmVudC5fbGFzdENsaWNrPWksZSh0KSl9fSxzLkRvbUV2ZW50Lm9uPXMuRG9tRXZlbnQuYWRkTGlzdGVuZXIscy5Eb21FdmVudC5vZmY9cy5Eb21FdmVudC5yZW1vdmVMaXN0ZW5lcixzLkRyYWdnYWJsZT1zLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6cy5NaXhpbi5FdmVudHMsc3RhdGljczp7U1RBUlQ6cy5Ccm93c2VyLnRvdWNoP1sidG91Y2hzdGFydCIsIm1vdXNlZG93biJdOlsibW91c2Vkb3duIl0sRU5EOnttb3VzZWRvd246Im1vdXNldXAiLHRvdWNoc3RhcnQ6InRvdWNoZW5kIixwb2ludGVyZG93bjoidG91Y2hlbmQiLE1TUG9pbnRlckRvd246InRvdWNoZW5kIn0sTU9WRTp7bW91c2Vkb3duOiJtb3VzZW1vdmUiLHRvdWNoc3RhcnQ6InRvdWNobW92ZSIscG9pbnRlcmRvd246InRvdWNobW92ZSIsTVNQb2ludGVyRG93bjoidG91Y2htb3ZlIn19LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXt0aGlzLl9lbGVtZW50PXQsdGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0PWV8fHR9LGVuYWJsZTpmdW5jdGlvbigpe2lmKCF0aGlzLl9lbmFibGVkKXtmb3IodmFyIHQ9cy5EcmFnZ2FibGUuU1RBUlQubGVuZ3RoLTE7dD49MDt0LS0pcy5Eb21FdmVudC5vbih0aGlzLl9kcmFnU3RhcnRUYXJnZXQscy5EcmFnZ2FibGUuU1RBUlRbdF0sdGhpcy5fb25Eb3duLHRoaXMpO3RoaXMuX2VuYWJsZWQ9ITB9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7aWYodGhpcy5fZW5hYmxlZCl7Zm9yKHZhciB0PXMuRHJhZ2dhYmxlLlNUQVJULmxlbmd0aC0xO3Q+PTA7dC0tKXMuRG9tRXZlbnQub2ZmKHRoaXMuX2RyYWdTdGFydFRhcmdldCxzLkRyYWdnYWJsZS5TVEFSVFt0XSx0aGlzLl9vbkRvd24sdGhpcyk7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9tb3ZlZD0hMX19LF9vbkRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5fbW92ZWQ9ITEsISh0LnNoaWZ0S2V5fHwxIT09dC53aGljaCYmMSE9PXQuYnV0dG9uJiYhdC50b3VjaGVzfHwocy5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24odCkscy5EcmFnZ2FibGUuX2Rpc2FibGVkfHwocy5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKSxzLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSx0aGlzLl9tb3ZpbmcpKSkpe3ZhciBlPXQudG91Y2hlcz90LnRvdWNoZXNbMF06dDt0aGlzLl9zdGFydFBvaW50PW5ldyBzLlBvaW50KGUuY2xpZW50WCxlLmNsaWVudFkpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX25ld1Bvcz1zLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCkscy5Eb21FdmVudC5vbihpLHMuRHJhZ2dhYmxlLk1PVkVbdC50eXBlXSx0aGlzLl9vbk1vdmUsdGhpcykub24oaSxzLkRyYWdnYWJsZS5FTkRbdC50eXBlXSx0aGlzLl9vblVwLHRoaXMpfX0sX29uTW92ZTpmdW5jdGlvbih0KXtpZih0LnRvdWNoZXMmJnQudG91Y2hlcy5sZW5ndGg+MSlyZXR1cm4gdGhpcy5fbW92ZWQ9ITAsdm9pZCAwO3ZhciBlPXQudG91Y2hlcyYmMT09PXQudG91Y2hlcy5sZW5ndGg/dC50b3VjaGVzWzBdOnQsbj1uZXcgcy5Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKSxvPW4uc3VidHJhY3QodGhpcy5fc3RhcnRQb2ludCk7KG8ueHx8by55KSYmKHMuRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksdGhpcy5fbW92ZWR8fCh0aGlzLmZpcmUoImRyYWdzdGFydCIpLHRoaXMuX21vdmVkPSEwLHRoaXMuX3N0YXJ0UG9zPXMuRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9lbGVtZW50KS5zdWJ0cmFjdChvKSxzLkRvbVV0aWwuYWRkQ2xhc3MoaS5ib2R5LCJsZWFmbGV0LWRyYWdnaW5nIikscy5Eb21VdGlsLmFkZENsYXNzKHQudGFyZ2V0fHx0LnNyY0VsZW1lbnQsImxlYWZsZXQtZHJhZy10YXJnZXQiKSksdGhpcy5fbmV3UG9zPXRoaXMuX3N0YXJ0UG9zLmFkZChvKSx0aGlzLl9tb3Zpbmc9ITAscy5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCksdGhpcy5fYW5pbVJlcXVlc3Q9cy5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fdXBkYXRlUG9zaXRpb24sdGhpcywhMCx0aGlzLl9kcmFnU3RhcnRUYXJnZXQpKX0sX3VwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5maXJlKCJwcmVkcmFnIikscy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQsdGhpcy5fbmV3UG9zKSx0aGlzLmZpcmUoImRyYWciKX0sX29uVXA6ZnVuY3Rpb24odCl7cy5Eb21VdGlsLnJlbW92ZUNsYXNzKGkuYm9keSwibGVhZmxldC1kcmFnZ2luZyIpLHMuRG9tVXRpbC5yZW1vdmVDbGFzcyh0LnRhcmdldHx8dC5zcmNFbGVtZW50LCJsZWFmbGV0LWRyYWctdGFyZ2V0Iik7Zm9yKHZhciBlIGluIHMuRHJhZ2dhYmxlLk1PVkUpcy5Eb21FdmVudC5vZmYoaSxzLkRyYWdnYWJsZS5NT1ZFW2VdLHRoaXMuX29uTW92ZSkub2ZmKGkscy5EcmFnZ2FibGUuRU5EW2VdLHRoaXMuX29uVXApO3MuRG9tVXRpbC5lbmFibGVJbWFnZURyYWcoKSxzLkRvbVV0aWwuZW5hYmxlVGV4dFNlbGVjdGlvbigpLHRoaXMuX21vdmVkJiZ0aGlzLl9tb3ZpbmcmJihzLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KSx0aGlzLmZpcmUoImRyYWdlbmQiLHtkaXN0YW5jZTp0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcyl9KSksdGhpcy5fbW92aW5nPSExfX0pLHMuSGFuZGxlcj1zLkNsYXNzLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dH0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZHx8KHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5hZGRIb29rcygpKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQmJih0aGlzLl9lbmFibGVkPSExLHRoaXMucmVtb3ZlSG9va3MoKSl9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9fSkscy5NYXAubWVyZ2VPcHRpb25zKHtkcmFnZ2luZzohMCxpbmVydGlhOiFzLkJyb3dzZXIuYW5kcm9pZDIzLGluZXJ0aWFEZWNlbGVyYXRpb246MzQwMCxpbmVydGlhTWF4U3BlZWQ6MS8wLGluZXJ0aWFUaHJlc2hvbGQ6cy5Ccm93c2VyLnRvdWNoPzMyOjE4LGVhc2VMaW5lYXJpdHk6LjI1LHdvcmxkQ29weUp1bXA6ITF9KSxzLk1hcC5EcmFnPXMuSGFuZGxlci5leHRlbmQoe2FkZEhvb2tzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2RyYWdnYWJsZSl7dmFyIHQ9dGhpcy5fbWFwO3RoaXMuX2RyYWdnYWJsZT1uZXcgcy5EcmFnZ2FibGUodC5fbWFwUGFuZSx0Ll9jb250YWluZXIpLHRoaXMuX2RyYWdnYWJsZS5vbih7ZHJhZ3N0YXJ0OnRoaXMuX29uRHJhZ1N0YXJ0LGRyYWc6dGhpcy5fb25EcmFnLGRyYWdlbmQ6dGhpcy5fb25EcmFnRW5kfSx0aGlzKSx0Lm9wdGlvbnMud29ybGRDb3B5SnVtcCYmKHRoaXMuX2RyYWdnYWJsZS5vbigicHJlZHJhZyIsdGhpcy5fb25QcmVEcmFnLHRoaXMpLHQub24oInZpZXdyZXNldCIsdGhpcy5fb25WaWV3UmVzZXQsdGhpcyksdC53aGVuUmVhZHkodGhpcy5fb25WaWV3UmVzZXQsdGhpcykpfXRoaXMuX2RyYWdnYWJsZS5lbmFibGUoKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUuZGlzYWJsZSgpfSxtb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5fbW92ZWR9LF9vbkRyYWdTdGFydDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcDt0Ll9wYW5BbmltJiZ0Ll9wYW5BbmltLnN0b3AoKSx0LmZpcmUoIm1vdmVzdGFydCIpLmZpcmUoImRyYWdzdGFydCIpLHQub3B0aW9ucy5pbmVydGlhJiYodGhpcy5fcG9zaXRpb25zPVtdLHRoaXMuX3RpbWVzPVtdKX0sX29uRHJhZzpmdW5jdGlvbigpe2lmKHRoaXMuX21hcC5vcHRpb25zLmluZXJ0aWEpe3ZhciB0PXRoaXMuX2xhc3RUaW1lPStuZXcgRGF0ZSxlPXRoaXMuX2xhc3RQb3M9dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3M7dGhpcy5fcG9zaXRpb25zLnB1c2goZSksdGhpcy5fdGltZXMucHVzaCh0KSx0LXRoaXMuX3RpbWVzWzBdPjIwMCYmKHRoaXMuX3Bvc2l0aW9ucy5zaGlmdCgpLHRoaXMuX3RpbWVzLnNoaWZ0KCkpfXRoaXMuX21hcC5maXJlKCJtb3ZlIikuZmlyZSgiZHJhZyIpfSxfb25WaWV3UmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKSxlPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQoWzAsMF0pO3RoaXMuX2luaXRpYWxXb3JsZE9mZnNldD1lLnN1YnRyYWN0KHQpLngsdGhpcy5fd29ybGRXaWR0aD10aGlzLl9tYXAucHJvamVjdChbMCwxODBdKS54fSxfb25QcmVEcmFnOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fd29ybGRXaWR0aCxlPU1hdGgucm91bmQodC8yKSxpPXRoaXMuX2luaXRpYWxXb3JsZE9mZnNldCxuPXRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLngsbz0obi1lK2kpJXQrZS1pLHM9KG4rZStpKSV0LWUtaSxhPU1hdGguYWJzKG8raSk8TWF0aC5hYnMocytpKT9vOnM7dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MueD1hfSxfb25EcmFnRW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcCxpPWUub3B0aW9ucyxuPStuZXcgRGF0ZS10aGlzLl9sYXN0VGltZSxvPSFpLmluZXJ0aWF8fG4+aS5pbmVydGlhVGhyZXNob2xkfHwhdGhpcy5fcG9zaXRpb25zWzBdO2lmKGUuZmlyZSgiZHJhZ2VuZCIsdCksbyllLmZpcmUoIm1vdmVlbmQiKTtlbHNle3ZhciBhPXRoaXMuX2xhc3RQb3Muc3VidHJhY3QodGhpcy5fcG9zaXRpb25zWzBdKSxyPSh0aGlzLl9sYXN0VGltZStuLXRoaXMuX3RpbWVzWzBdKS8xZTMsbD1pLmVhc2VMaW5lYXJpdHksaD1hLm11bHRpcGx5QnkobC9yKSx1PWguZGlzdGFuY2VUbyhbMCwwXSksYz1NYXRoLm1pbihpLmluZXJ0aWFNYXhTcGVlZCx1KSxwPWgubXVsdGlwbHlCeShjL3UpLGQ9Yy8oaS5pbmVydGlhRGVjZWxlcmF0aW9uKmwpLG09cC5tdWx0aXBseUJ5KC1kLzIpLnJvdW5kKCk7bS54JiZtLnk/KG09ZS5fbGltaXRPZmZzZXQobSxlLm9wdGlvbnMubWF4Qm91bmRzKSxzLlV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpe2UucGFuQnkobSx7ZHVyYXRpb246ZCxlYXNlTGluZWFyaXR5Omwsbm9Nb3ZlU3RhcnQ6ITB9KX0pKTplLmZpcmUoIm1vdmVlbmQiKX19fSkscy5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJkcmFnZ2luZyIscy5NYXAuRHJhZykscy5NYXAubWVyZ2VPcHRpb25zKHtkb3VibGVDbGlja1pvb206ITB9KSxzLk1hcC5Eb3VibGVDbGlja1pvb209cy5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9tYXAub24oImRibGNsaWNrIix0aGlzLl9vbkRvdWJsZUNsaWNrLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3RoaXMuX21hcC5vZmYoImRibGNsaWNrIix0aGlzLl9vbkRvdWJsZUNsaWNrLHRoaXMpfSxfb25Eb3VibGVDbGljazpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAsaT1lLmdldFpvb20oKSsodC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5Py0xOjEpOyJjZW50ZXIiPT09ZS5vcHRpb25zLmRvdWJsZUNsaWNrWm9vbT9lLnNldFpvb20oaSk6ZS5zZXRab29tQXJvdW5kKHQuY29udGFpbmVyUG9pbnQsaSl9fSkscy5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJkb3VibGVDbGlja1pvb20iLHMuTWFwLkRvdWJsZUNsaWNrWm9vbSkscy5NYXAubWVyZ2VPcHRpb25zKHtzY3JvbGxXaGVlbFpvb206ITB9KSxzLk1hcC5TY3JvbGxXaGVlbFpvb209cy5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJtb3VzZXdoZWVsIix0aGlzLl9vbldoZWVsU2Nyb2xsLHRoaXMpLHMuRG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsIk1vek1vdXNlUGl4ZWxTY3JvbGwiLHMuRG9tRXZlbnQucHJldmVudERlZmF1bHQpLHRoaXMuX2RlbHRhPTB9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsIm1vdXNld2hlZWwiLHRoaXMuX29uV2hlZWxTY3JvbGwpLHMuRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCJNb3pNb3VzZVBpeGVsU2Nyb2xsIixzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KX0sX29uV2hlZWxTY3JvbGw6ZnVuY3Rpb24odCl7dmFyIGU9cy5Eb21FdmVudC5nZXRXaGVlbERlbHRhKHQpO3RoaXMuX2RlbHRhKz1lLHRoaXMuX2xhc3RNb3VzZVBvcz10aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksdGhpcy5fc3RhcnRUaW1lfHwodGhpcy5fc3RhcnRUaW1lPStuZXcgRGF0ZSk7dmFyIGk9TWF0aC5tYXgoNDAtKCtuZXcgRGF0ZS10aGlzLl9zdGFydFRpbWUpLDApO2NsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9c2V0VGltZW91dChzLmJpbmQodGhpcy5fcGVyZm9ybVpvb20sdGhpcyksaSkscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSxzLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KX0sX3BlcmZvcm1ab29tOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLGU9dGhpcy5fZGVsdGEsaT10LmdldFpvb20oKTtlPWU+MD9NYXRoLmNlaWwoZSk6TWF0aC5mbG9vcihlKSxlPU1hdGgubWF4KE1hdGgubWluKGUsNCksLTQpLGU9dC5fbGltaXRab29tKGkrZSktaSx0aGlzLl9kZWx0YT0wLHRoaXMuX3N0YXJ0VGltZT1udWxsLGUmJigiY2VudGVyIj09PXQub3B0aW9ucy5zY3JvbGxXaGVlbFpvb20/dC5zZXRab29tKGkrZSk6dC5zZXRab29tQXJvdW5kKHRoaXMuX2xhc3RNb3VzZVBvcyxpK2UpKX19KSxzLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsInNjcm9sbFdoZWVsWm9vbSIscy5NYXAuU2Nyb2xsV2hlZWxab29tKSxzLmV4dGVuZChzLkRvbUV2ZW50LHtfdG91Y2hzdGFydDpzLkJyb3dzZXIubXNQb2ludGVyPyJNU1BvaW50ZXJEb3duIjpzLkJyb3dzZXIucG9pbnRlcj8icG9pbnRlcmRvd24iOiJ0b3VjaHN0YXJ0IixfdG91Y2hlbmQ6cy5Ccm93c2VyLm1zUG9pbnRlcj8iTVNQb2ludGVyVXAiOnMuQnJvd3Nlci5wb2ludGVyPyJwb2ludGVydXAiOiJ0b3VjaGVuZCIsYWRkRG91YmxlVGFwTGlzdGVuZXI6ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8odCl7dmFyIGU7aWYocy5Ccm93c2VyLnBvaW50ZXI/KG0ucHVzaCh0LnBvaW50ZXJJZCksZT1tLmxlbmd0aCk6ZT10LnRvdWNoZXMubGVuZ3RoLCEoZT4xKSl7dmFyIGk9RGF0ZS5ub3coKSxuPWktKHJ8fGkpO2w9dC50b3VjaGVzP3QudG91Y2hlc1swXTp0LGg9bj4wJiZ1Pj1uLHI9aX19ZnVuY3Rpb24gYSh0KXtpZihzLkJyb3dzZXIucG9pbnRlcil7dmFyIGk9bS5pbmRleE9mKHQucG9pbnRlcklkKTtpZigtMT09PWkpcmV0dXJuO20uc3BsaWNlKGksMSl9aWYoaCl7aWYocy5Ccm93c2VyLnBvaW50ZXIpe3ZhciBuLG89e307Zm9yKHZhciBhIGluIGwpbj1sW2FdLG9bYV09ImZ1bmN0aW9uIj09dHlwZW9mIG4/bi5iaW5kKGwpOm47bD1vfWwudHlwZT0iZGJsY2xpY2siLGUobCkscj1udWxsfX12YXIgcixsLGg9ITEsdT0yNTAsYz0iX2xlYWZsZXRfIixwPXRoaXMuX3RvdWNoc3RhcnQsZD10aGlzLl90b3VjaGVuZCxtPVtdO3RbYytwK25dPW8sdFtjK2Qrbl09YTt2YXIgZj1zLkJyb3dzZXIucG9pbnRlcj9pLmRvY3VtZW50RWxlbWVudDp0O3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIocCxvLCExKSxmLmFkZEV2ZW50TGlzdGVuZXIoZCxhLCExKSxzLkJyb3dzZXIucG9pbnRlciYmZi5hZGRFdmVudExpc3RlbmVyKHMuRG9tRXZlbnQuUE9JTlRFUl9DQU5DRUwsYSwhMSksdGhpc30scmVtb3ZlRG91YmxlVGFwTGlzdGVuZXI6ZnVuY3Rpb24odCxlKXt2YXIgbj0iX2xlYWZsZXRfIjtyZXR1cm4gdC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3RvdWNoc3RhcnQsdFtuK3RoaXMuX3RvdWNoc3RhcnQrZV0sITEpLChzLkJyb3dzZXIucG9pbnRlcj9pLmRvY3VtZW50RWxlbWVudDp0KS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3RvdWNoZW5kLHRbbit0aGlzLl90b3VjaGVuZCtlXSwhMSkscy5Ccm93c2VyLnBvaW50ZXImJmkuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIocy5Eb21FdmVudC5QT0lOVEVSX0NBTkNFTCx0W24rdGhpcy5fdG91Y2hlbmQrZV0sITEpLHRoaXN9fSkscy5leHRlbmQocy5Eb21FdmVudCx7UE9JTlRFUl9ET1dOOnMuQnJvd3Nlci5tc1BvaW50ZXI/Ik1TUG9pbnRlckRvd24iOiJwb2ludGVyZG93biIsUE9JTlRFUl9NT1ZFOnMuQnJvd3Nlci5tc1BvaW50ZXI/Ik1TUG9pbnRlck1vdmUiOiJwb2ludGVybW92ZSIsUE9JTlRFUl9VUDpzLkJyb3dzZXIubXNQb2ludGVyPyJNU1BvaW50ZXJVcCI6InBvaW50ZXJ1cCIsUE9JTlRFUl9DQU5DRUw6cy5Ccm93c2VyLm1zUG9pbnRlcj8iTVNQb2ludGVyQ2FuY2VsIjoicG9pbnRlcmNhbmNlbCIsX3BvaW50ZXJzOltdLF9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcjohMSxhZGRQb2ludGVyTGlzdGVuZXI6ZnVuY3Rpb24odCxlLGksbil7c3dpdGNoKGUpe2Nhc2UidG91Y2hzdGFydCI6cmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyU3RhcnQodCxlLGksbik7Y2FzZSJ0b3VjaGVuZCI6cmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyRW5kKHQsZSxpLG4pO2Nhc2UidG91Y2htb3ZlIjpyZXR1cm4gdGhpcy5hZGRQb2ludGVyTGlzdGVuZXJNb3ZlKHQsZSxpLG4pO2RlZmF1bHQ6dGhyb3ciVW5rbm93biB0b3VjaCBldmVudCB0eXBlIn19LGFkZFBvaW50ZXJMaXN0ZW5lclN0YXJ0OmZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBhPSJfbGVhZmxldF8iLHI9dGhpcy5fcG9pbnRlcnMsbD1mdW5jdGlvbih0KXtzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpO2Zvcih2YXIgZT0hMSxpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7ZT0hMDticmVha31lfHxyLnB1c2godCksdC50b3VjaGVzPXIuc2xpY2UoKSx0LmNoYW5nZWRUb3VjaGVzPVt0XSxuKHQpfTtpZih0W2ErInRvdWNoc3RhcnQiK29dPWwsdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9ET1dOLGwsITEpLCF0aGlzLl9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcil7dmFyIGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxyLmxlbmd0aDtlKyspaWYocltlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7ci5zcGxpY2UoZSwxKTticmVha319O2kuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX1VQLGgsITEpLGkuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0NBTkNFTCxoLCExKSx0aGlzLl9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcj0hMH1yZXR1cm4gdGhpc30sYWRkUG9pbnRlckxpc3RlbmVyTW92ZTpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKHQpe2lmKHQucG9pbnRlclR5cGUhPT10Lk1TUE9JTlRFUl9UWVBFX01PVVNFJiYibW91c2UiIT09dC5wb2ludGVyVHlwZXx8MCE9PXQuYnV0dG9ucyl7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspaWYoYVtlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7YVtlXT10O2JyZWFrfXQudG91Y2hlcz1hLnNsaWNlKCksdC5jaGFuZ2VkVG91Y2hlcz1bdF0saSh0KX19dmFyIHM9Il9sZWFmbGV0XyIsYT10aGlzLl9wb2ludGVycztyZXR1cm4gdFtzKyJ0b3VjaG1vdmUiK25dPW8sdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLG8sITEpLHRoaXN9LGFkZFBvaW50ZXJMaXN0ZW5lckVuZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz0iX2xlYWZsZXRfIixzPXRoaXMuX3BvaW50ZXJzLGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxzLmxlbmd0aDtlKyspaWYoc1tlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7cy5zcGxpY2UoZSwxKTticmVha310LnRvdWNoZXM9cy5zbGljZSgpLHQuY2hhbmdlZFRvdWNoZXM9W3RdLGkodCl9O3JldHVybiB0W28rInRvdWNoZW5kIituXT1hLHQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsYSwhMSksdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9DQU5DRUwsYSwhMSksdGhpc30scmVtb3ZlUG9pbnRlckxpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj0iX2xlYWZsZXRfIixvPXRbbitlK2ldO3N3aXRjaChlKXtjYXNlInRvdWNoc3RhcnQiOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfRE9XTixvLCExKTticmVhaztjYXNlInRvdWNobW92ZSI6dC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLG8sITEpO2JyZWFrO2Nhc2UidG91Y2hlbmQiOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsbywhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9DQU5DRUwsbywhMSl9cmV0dXJuIHRoaXN9fSkscy5NYXAubWVyZ2VPcHRpb25zKHt0b3VjaFpvb206cy5Ccm93c2VyLnRvdWNoJiYhcy5Ccm93c2VyLmFuZHJvaWQyMyxib3VuY2VBdFpvb21MaW1pdHM6ITB9KSxzLk1hcC5Ub3VjaFpvb209cy5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJ0b3VjaHN0YXJ0Iix0aGlzLl9vblRvdWNoU3RhcnQsdGhpcyl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsInRvdWNoc3RhcnQiLHRoaXMuX29uVG91Y2hTdGFydCx0aGlzKX0sX29uVG91Y2hTdGFydDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXA7aWYodC50b3VjaGVzJiYyPT09dC50b3VjaGVzLmxlbmd0aCYmIWUuX2FuaW1hdGluZ1pvb20mJiF0aGlzLl96b29taW5nKXt2YXIgbj1lLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzBdKSxvPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMV0pLGE9ZS5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpO3RoaXMuX3N0YXJ0Q2VudGVyPW4uYWRkKG8pLl9kaXZpZGVCeSgyKSx0aGlzLl9zdGFydERpc3Q9bi5kaXN0YW5jZVRvKG8pLHRoaXMuX21vdmVkPSExLHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fY2VudGVyT2Zmc2V0PWEuc3VidHJhY3QodGhpcy5fc3RhcnRDZW50ZXIpLGUuX3BhbkFuaW0mJmUuX3BhbkFuaW0uc3RvcCgpLHMuRG9tRXZlbnQub24oaSwidG91Y2htb3ZlIix0aGlzLl9vblRvdWNoTW92ZSx0aGlzKS5vbihpLCJ0b3VjaGVuZCIsdGhpcy5fb25Ub3VjaEVuZCx0aGlzKSxzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpfX0sX29uVG91Y2hNb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcDtpZih0LnRvdWNoZXMmJjI9PT10LnRvdWNoZXMubGVuZ3RoJiZ0aGlzLl96b29taW5nKXt2YXIgaT1lLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzBdKSxuPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMV0pO3RoaXMuX3NjYWxlPWkuZGlzdGFuY2VUbyhuKS90aGlzLl9zdGFydERpc3QsdGhpcy5fZGVsdGE9aS5fYWRkKG4pLl9kaXZpZGVCeSgyKS5fc3VidHJhY3QodGhpcy5fc3RhcnRDZW50ZXIpLDEhPT10aGlzLl9zY2FsZSYmKGUub3B0aW9ucy5ib3VuY2VBdFpvb21MaW1pdHN8fCEoZS5nZXRab29tKCk9PT1lLmdldE1pblpvb20oKSYmdGhpcy5fc2NhbGU8MXx8ZS5nZXRab29tKCk9PT1lLmdldE1heFpvb20oKSYmdGhpcy5fc2NhbGU+MSkpJiYodGhpcy5fbW92ZWR8fChzLkRvbVV0aWwuYWRkQ2xhc3MoZS5fbWFwUGFuZSwibGVhZmxldC10b3VjaGluZyIpLGUuZmlyZSgibW92ZXN0YXJ0IikuZmlyZSgiem9vbXN0YXJ0IiksdGhpcy5fbW92ZWQ9ITApLHMuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpLHRoaXMuX2FuaW1SZXF1ZXN0PXMuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3VwZGF0ZU9uTW92ZSx0aGlzLCEwLHRoaXMuX21hcC5fY29udGFpbmVyKSxzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpKX19LF91cGRhdGVPbk1vdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9nZXRTY2FsZU9yaWdpbigpLGk9dC5sYXllclBvaW50VG9MYXRMbmcoZSksbj10LmdldFNjYWxlWm9vbSh0aGlzLl9zY2FsZSk7dC5fYW5pbWF0ZVpvb20oaSxuLHRoaXMuX3N0YXJ0Q2VudGVyLHRoaXMuX3NjYWxlLHRoaXMuX2RlbHRhKX0sX29uVG91Y2hFbmQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fbW92ZWR8fCF0aGlzLl96b29taW5nKXJldHVybiB0aGlzLl96b29taW5nPSExLHZvaWQgMDt2YXIgdD10aGlzLl9tYXA7dGhpcy5fem9vbWluZz0hMSxzLkRvbVV0aWwucmVtb3ZlQ2xhc3ModC5fbWFwUGFuZSwibGVhZmxldC10b3VjaGluZyIpLHMuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpLHMuRG9tRXZlbnQub2ZmKGksInRvdWNobW92ZSIsdGhpcy5fb25Ub3VjaE1vdmUpLm9mZihpLCJ0b3VjaGVuZCIsdGhpcy5fb25Ub3VjaEVuZCk7dmFyIGU9dGhpcy5fZ2V0U2NhbGVPcmlnaW4oKSxuPXQubGF5ZXJQb2ludFRvTGF0TG5nKGUpLG89dC5nZXRab29tKCksYT10LmdldFNjYWxlWm9vbSh0aGlzLl9zY2FsZSktbyxyPWE+MD9NYXRoLmNlaWwoYSk6TWF0aC5mbG9vcihhKSxsPXQuX2xpbWl0Wm9vbShvK3IpLGg9dC5nZXRab29tU2NhbGUobCkvdGhpcy5fc2NhbGU7dC5fYW5pbWF0ZVpvb20obixsLGUsaCl9LF9nZXRTY2FsZU9yaWdpbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NlbnRlck9mZnNldC5zdWJ0cmFjdCh0aGlzLl9kZWx0YSkuZGl2aWRlQnkodGhpcy5fc2NhbGUpO3JldHVybiB0aGlzLl9zdGFydENlbnRlci5hZGQodCl9fSkscy5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJ0b3VjaFpvb20iLHMuTWFwLlRvdWNoWm9vbSkscy5NYXAubWVyZ2VPcHRpb25zKHt0YXA6ITAsdGFwVG9sZXJhbmNlOjE1fSkscy5NYXAuVGFwPXMuSGFuZGxlci5leHRlbmQoe2FkZEhvb2tzOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwidG91Y2hzdGFydCIsdGhpcy5fb25Eb3duLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3MuRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCJ0b3VjaHN0YXJ0Iix0aGlzLl9vbkRvd24sdGhpcyl9LF9vbkRvd246ZnVuY3Rpb24odCl7aWYodC50b3VjaGVzKXtpZihzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLHRoaXMuX2ZpcmVDbGljaz0hMCx0LnRvdWNoZXMubGVuZ3RoPjEpcmV0dXJuIHRoaXMuX2ZpcmVDbGljaz0hMSxjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpLHZvaWQgMDt2YXIgZT10LnRvdWNoZXNbMF0sbj1lLnRhcmdldDt0aGlzLl9zdGFydFBvcz10aGlzLl9uZXdQb3M9bmV3IHMuUG9pbnQoZS5jbGllbnRYLGUuY2xpZW50WSksbi50YWdOYW1lJiYiYSI9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmcy5Eb21VdGlsLmFkZENsYXNzKG4sImxlYWZsZXQtYWN0aXZlIiksdGhpcy5faG9sZFRpbWVvdXQ9c2V0VGltZW91dChzLmJpbmQoZnVuY3Rpb24oKXt0aGlzLl9pc1RhcFZhbGlkKCkmJih0aGlzLl9maXJlQ2xpY2s9ITEsdGhpcy5fb25VcCgpLHRoaXMuX3NpbXVsYXRlRXZlbnQoImNvbnRleHRtZW51IixlKSl9LHRoaXMpLDFlMykscy5Eb21FdmVudC5vbihpLCJ0b3VjaG1vdmUiLHRoaXMuX29uTW92ZSx0aGlzKS5vbihpLCJ0b3VjaGVuZCIsdGhpcy5fb25VcCx0aGlzKX19LF9vblVwOmZ1bmN0aW9uKHQpe2lmKGNsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCkscy5Eb21FdmVudC5vZmYoaSwidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUsdGhpcykub2ZmKGksInRvdWNoZW5kIix0aGlzLl9vblVwLHRoaXMpLHRoaXMuX2ZpcmVDbGljayYmdCYmdC5jaGFuZ2VkVG91Y2hlcyl7dmFyIGU9dC5jaGFuZ2VkVG91Y2hlc1swXSxuPWUudGFyZ2V0O24mJm4udGFnTmFtZSYmImEiPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJnMuRG9tVXRpbC5yZW1vdmVDbGFzcyhuLCJsZWFmbGV0LWFjdGl2ZSIpLHRoaXMuX2lzVGFwVmFsaWQoKSYmdGhpcy5fc2ltdWxhdGVFdmVudCgiY2xpY2siLGUpfX0sX2lzVGFwVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV3UG9zLmRpc3RhbmNlVG8odGhpcy5fc3RhcnRQb3MpPD10aGlzLl9tYXAub3B0aW9ucy50YXBUb2xlcmFuY2V9LF9vbk1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dC50b3VjaGVzWzBdO3RoaXMuX25ld1Bvcz1uZXcgcy5Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKX0sX3NpbXVsYXRlRXZlbnQ6ZnVuY3Rpb24oZSxuKXt2YXIgbz1pLmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpO28uX3NpbXVsYXRlZD0hMCxuLnRhcmdldC5fc2ltdWxhdGVkQ2xpY2s9ITAsby5pbml0TW91c2VFdmVudChlLCEwLCEwLHQsMSxuLnNjcmVlblgsbi5zY3JlZW5ZLG4uY2xpZW50WCxuLmNsaWVudFksITEsITEsITEsITEsMCxudWxsKSxuLnRhcmdldC5kaXNwYXRjaEV2ZW50KG8pfX0pLHMuQnJvd3Nlci50b3VjaCYmIXMuQnJvd3Nlci5wb2ludGVyJiZzLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsInRhcCIscy5NYXAuVGFwKSxzLk1hcC5tZXJnZU9wdGlvbnMoe2JveFpvb206ITB9KSxzLk1hcC5Cb3hab29tPXMuSGFuZGxlci5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyPXQuX2NvbnRhaW5lcix0aGlzLl9wYW5lPXQuX3BhbmVzLm92ZXJsYXlQYW5lLHRoaXMuX21vdmVkPSExfSxhZGRIb29rczpmdW5jdGlvbigpe3MuRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCJtb3VzZWRvd24iLHRoaXMuX29uTW91c2VEb3duLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3MuRG9tRXZlbnQub2ZmKHRoaXMuX2NvbnRhaW5lciwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93biksdGhpcy5fbW92ZWQ9ITF9LG1vdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVkfSxfb25Nb3VzZURvd246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21vdmVkPSExLCF0LnNoaWZ0S2V5fHwxIT09dC53aGljaCYmMSE9PXQuYnV0dG9uPyExOihzLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSxzLkRvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpLHRoaXMuX3N0YXJ0TGF5ZXJQb2ludD10aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSxzLkRvbUV2ZW50Lm9uKGksIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmUsdGhpcykub24oaSwibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwLHRoaXMpLm9uKGksImtleWRvd24iLHRoaXMuX29uS2V5RG93bix0aGlzKSx2b2lkIDApfSxfb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCl7dGhpcy5fbW92ZWR8fCh0aGlzLl9ib3g9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibGVhZmxldC16b29tLWJveCIsdGhpcy5fcGFuZSkscy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2JveCx0aGlzLl9zdGFydExheWVyUG9pbnQpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5jdXJzb3I9ImNyb3NzaGFpciIsdGhpcy5fbWFwLmZpcmUoImJveHpvb21zdGFydCIpKTt2YXIgZT10aGlzLl9zdGFydExheWVyUG9pbnQsaT10aGlzLl9ib3gsbj10aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSxvPW4uc3VidHJhY3QoZSksYT1uZXcgcy5Qb2ludChNYXRoLm1pbihuLngsZS54KSxNYXRoLm1pbihuLnksZS55KSk7cy5Eb21VdGlsLnNldFBvc2l0aW9uKGksYSksdGhpcy5fbW92ZWQ9ITAsaS5zdHlsZS53aWR0aD1NYXRoLm1heCgwLE1hdGguYWJzKG8ueCktNCkrInB4IixpLnN0eWxlLmhlaWdodD1NYXRoLm1heCgwLE1hdGguYWJzKG8ueSktNCkrInB4In0sX2ZpbmlzaDpmdW5jdGlvbigpe3RoaXMuX21vdmVkJiYodGhpcy5fcGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9ib3gpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5jdXJzb3I9IiIpLHMuRG9tVXRpbC5lbmFibGVUZXh0U2VsZWN0aW9uKCkscy5Eb21VdGlsLmVuYWJsZUltYWdlRHJhZygpLHMuRG9tRXZlbnQub2ZmKGksIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmUpLm9mZihpLCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXApLm9mZihpLCJrZXlkb3duIix0aGlzLl9vbktleURvd24pfSxfb25Nb3VzZVVwOmZ1bmN0aW9uKHQpe3RoaXMuX2ZpbmlzaCgpO3ZhciBlPXRoaXMuX21hcCxpPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KTtpZighdGhpcy5fc3RhcnRMYXllclBvaW50LmVxdWFscyhpKSl7dmFyIG49bmV3IHMuTGF0TG5nQm91bmRzKGUubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMuX3N0YXJ0TGF5ZXJQb2ludCksZS5sYXllclBvaW50VG9MYXRMbmcoaSkpO2UuZml0Qm91bmRzKG4pLGUuZmlyZSgiYm94em9vbWVuZCIse2JveFpvb21Cb3VuZHM6bn0pfX0sX29uS2V5RG93bjpmdW5jdGlvbih0KXsyNz09PXQua2V5Q29kZSYmdGhpcy5fZmluaXNoKCl9fSkscy5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJib3hab29tIixzLk1hcC5Cb3hab29tKSxzLk1hcC5tZXJnZU9wdGlvbnMoe2tleWJvYXJkOiEwLGtleWJvYXJkUGFuT2Zmc2V0OjgwLGtleWJvYXJkWm9vbU9mZnNldDoxfSkscy5NYXAuS2V5Ym9hcmQ9cy5IYW5kbGVyLmV4dGVuZCh7a2V5Q29kZXM6e2xlZnQ6WzM3XSxyaWdodDpbMzldLGRvd246WzQwXSx1cDpbMzhdLHpvb21JbjpbMTg3LDEwNyw2MSwxNzFdLHpvb21PdXQ6WzE4OSwxMDksMTczXX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9zZXRQYW5PZmZzZXQodC5vcHRpb25zLmtleWJvYXJkUGFuT2Zmc2V0KSx0aGlzLl9zZXRab29tT2Zmc2V0KHQub3B0aW9ucy5rZXlib2FyZFpvb21PZmZzZXQpfSxhZGRIb29rczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fY29udGFpbmVyOy0xPT09dC50YWJJbmRleCYmKHQudGFiSW5kZXg9IjAiKSxzLkRvbUV2ZW50Lm9uKHQsImZvY3VzIix0aGlzLl9vbkZvY3VzLHRoaXMpLm9uKHQsImJsdXIiLHRoaXMuX29uQmx1cix0aGlzKS5vbih0LCJtb3VzZWRvd24iLHRoaXMuX29uTW91c2VEb3duLHRoaXMpLHRoaXMuX21hcC5vbigiZm9jdXMiLHRoaXMuX2FkZEhvb2tzLHRoaXMpLm9uKCJibHVyIix0aGlzLl9yZW1vdmVIb29rcyx0aGlzKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVIb29rcygpO3ZhciB0PXRoaXMuX21hcC5fY29udGFpbmVyO3MuRG9tRXZlbnQub2ZmKHQsImZvY3VzIix0aGlzLl9vbkZvY3VzLHRoaXMpLm9mZih0LCJibHVyIix0aGlzLl9vbkJsdXIsdGhpcykub2ZmKHQsIm1vdXNlZG93biIsdGhpcy5fb25Nb3VzZURvd24sdGhpcyksdGhpcy5fbWFwLm9mZigiZm9jdXMiLHRoaXMuX2FkZEhvb2tzLHRoaXMpLm9mZigiYmx1ciIsdGhpcy5fcmVtb3ZlSG9va3MsdGhpcyl9LF9vbk1vdXNlRG93bjpmdW5jdGlvbigpe2lmKCF0aGlzLl9mb2N1c2VkKXt2YXIgZT1pLmJvZHksbj1pLmRvY3VtZW50RWxlbWVudCxvPWUuc2Nyb2xsVG9wfHxuLnNjcm9sbFRvcCxzPWUuc2Nyb2xsTGVmdHx8bi5zY3JvbGxMZWZ0O3RoaXMuX21hcC5fY29udGFpbmVyLmZvY3VzKCksdC5zY3JvbGxUbyhzLG8pfX0sX29uRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9mb2N1c2VkPSEwLHRoaXMuX21hcC5maXJlKCJmb2N1cyIpfSxfb25CbHVyOmZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNlZD0hMSx0aGlzLl9tYXAuZmlyZSgiYmx1ciIpfSxfc2V0UGFuT2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10aGlzLl9wYW5LZXlzPXt9LG89dGhpcy5rZXlDb2Rlcztmb3IoZT0wLGk9by5sZWZ0Lmxlbmd0aDtpPmU7ZSsrKW5bby5sZWZ0W2VdXT1bLTEqdCwwXTtmb3IoZT0wLGk9by5yaWdodC5sZW5ndGg7aT5lO2UrKyluW28ucmlnaHRbZV1dPVt0LDBdO2ZvcihlPTAsaT1vLmRvd24ubGVuZ3RoO2k+ZTtlKyspbltvLmRvd25bZV1dPVswLHRdO2ZvcihlPTAsaT1vLnVwLmxlbmd0aDtpPmU7ZSsrKW5bby51cFtlXV09WzAsLTEqdF19LF9zZXRab29tT2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10aGlzLl96b29tS2V5cz17fSxvPXRoaXMua2V5Q29kZXM7Zm9yKGU9MCxpPW8uem9vbUluLmxlbmd0aDtpPmU7ZSsrKW5bby56b29tSW5bZV1dPXQ7Zm9yKGU9MCxpPW8uem9vbU91dC5sZW5ndGg7aT5lO2UrKyluW28uem9vbU91dFtlXV09LXR9LF9hZGRIb29rczpmdW5jdGlvbigpe3MuRG9tRXZlbnQub24oaSwia2V5ZG93biIsdGhpcy5fb25LZXlEb3duLHRoaXMpfSxfcmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9mZihpLCJrZXlkb3duIix0aGlzLl9vbktleURvd24sdGhpcyl9LF9vbktleURvd246ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXlDb2RlLGk9dGhpcy5fbWFwO2lmKGUgaW4gdGhpcy5fcGFuS2V5cyl7aWYoaS5fcGFuQW5pbSYmaS5fcGFuQW5pbS5faW5Qcm9ncmVzcylyZXR1cm47aS5wYW5CeSh0aGlzLl9wYW5LZXlzW2VdKSxpLm9wdGlvbnMubWF4Qm91bmRzJiZpLnBhbkluc2lkZUJvdW5kcyhpLm9wdGlvbnMubWF4Qm91bmRzKX1lbHNle2lmKCEoZSBpbiB0aGlzLl96b29tS2V5cykpcmV0dXJuO2kuc2V0Wm9vbShpLmdldFpvb20oKSt0aGlzLl96b29tS2V5c1tlXSl9cy5Eb21FdmVudC5zdG9wKHQpfX0pLHMuTWFwLmFkZEluaXRIb29rKCJhZGRIYW5kbGVyIiwia2V5Ym9hcmQiLHMuTWFwLktleWJvYXJkKSxzLkhhbmRsZXIuTWFya2VyRHJhZz1zLkhhbmRsZXIuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3RoaXMuX21hcmtlcj10fSxhZGRIb29rczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcmtlci5faWNvbjt0aGlzLl9kcmFnZ2FibGV8fCh0aGlzLl9kcmFnZ2FibGU9bmV3IHMuRHJhZ2dhYmxlKHQsdCkpLHRoaXMuX2RyYWdnYWJsZS5vbigiZHJhZ3N0YXJ0Iix0aGlzLl9vbkRyYWdTdGFydCx0aGlzKS5vbigiZHJhZyIsdGhpcy5fb25EcmFnLHRoaXMpLm9uKCJkcmFnZW5kIix0aGlzLl9vbkRyYWdFbmQsdGhpcyksdGhpcy5fZHJhZ2dhYmxlLmVuYWJsZSgpLHMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tYXJrZXIuX2ljb24sImxlYWZsZXQtbWFya2VyLWRyYWdnYWJsZSIpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3RoaXMuX2RyYWdnYWJsZS5vZmYoImRyYWdzdGFydCIsdGhpcy5fb25EcmFnU3RhcnQsdGhpcykub2ZmKCJkcmFnIix0aGlzLl9vbkRyYWcsdGhpcykub2ZmKCJkcmFnZW5kIix0aGlzLl9vbkRyYWdFbmQsdGhpcyksdGhpcy5fZHJhZ2dhYmxlLmRpc2FibGUoKSxzLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFya2VyLl9pY29uLCJsZWFmbGV0LW1hcmtlci1kcmFnZ2FibGUiKX0sbW92ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlJiZ0aGlzLl9kcmFnZ2FibGUuX21vdmVkfSxfb25EcmFnU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl9tYXJrZXIuY2xvc2VQb3B1cCgpLmZpcmUoIm1vdmVzdGFydCIpLmZpcmUoImRyYWdzdGFydCIpfSxfb25EcmFnOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFya2VyLGU9dC5fc2hhZG93LGk9cy5Eb21VdGlsLmdldFBvc2l0aW9uKHQuX2ljb24pLG49dC5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhpKTtlJiZzLkRvbVV0aWwuc2V0UG9zaXRpb24oZSxpKSx0Ll9sYXRsbmc9bix0LmZpcmUoIm1vdmUiLHtsYXRsbmc6bn0pLmZpcmUoImRyYWciKX0sX29uRHJhZ0VuZDpmdW5jdGlvbih0KXt0aGlzLl9tYXJrZXIuZmlyZSgibW92ZWVuZCIpLmZpcmUoImRyYWdlbmQiLHQpfX0pLHMuQ29udHJvbD1zLkNsYXNzLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246InRvcHJpZ2h0In0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtzLnNldE9wdGlvbnModGhpcyx0KX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9ufSxzZXRQb3NpdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXA7cmV0dXJuIGUmJmUucmVtb3ZlQ29udHJvbCh0aGlzKSx0aGlzLm9wdGlvbnMucG9zaXRpb249dCxlJiZlLmFkZENvbnRyb2wodGhpcyksdGhpc30sZ2V0Q29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn0sYWRkVG86ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQ7dmFyIGU9dGhpcy5fY29udGFpbmVyPXRoaXMub25BZGQodCksaT10aGlzLmdldFBvc2l0aW9uKCksbj10Ll9jb250cm9sQ29ybmVyc1tpXTtyZXR1cm4gcy5Eb21VdGlsLmFkZENsYXNzKGUsImxlYWZsZXQtY29udHJvbCIpLC0xIT09aS5pbmRleE9mKCJib3R0b20iKT9uLmluc2VydEJlZm9yZShlLG4uZmlyc3RDaGlsZCk6bi5hcHBlbmRDaGlsZChlKSx0aGlzfSxyZW1vdmVGcm9tOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UG9zaXRpb24oKSxpPXQuX2NvbnRyb2xDb3JuZXJzW2VdO3JldHVybiBpLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwPW51bGwsdGhpcy5vblJlbW92ZSYmdGhpcy5vblJlbW92ZSh0KSx0aGlzfSxfcmVmb2N1c09uTWFwOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiZ0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuZm9jdXMoKX19KSxzLmNvbnRyb2w9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkNvbnRyb2wodCl9LHMuTWFwLmluY2x1ZGUoe2FkZENvbnRyb2w6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRkVG8odGhpcyksdGhpc30scmVtb3ZlQ29udHJvbDpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZW1vdmVGcm9tKHRoaXMpLHRoaXN9LF9pbml0Q29udHJvbFBvczpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxvKXt2YXIgYT1pK3QrIiAiK2krbztlW3Qrb109cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixhLG4pfXZhciBlPXRoaXMuX2NvbnRyb2xDb3JuZXJzPXt9LGk9ImxlYWZsZXQtIixuPXRoaXMuX2NvbnRyb2xDb250YWluZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixpKyJjb250cm9sLWNvbnRhaW5lciIsdGhpcy5fY29udGFpbmVyKTt0KCJ0b3AiLCJsZWZ0IiksdCgidG9wIiwicmlnaHQiKSx0KCJib3R0b20iLCJsZWZ0IiksdCgiYm90dG9tIiwicmlnaHQiKX0sX2NsZWFyQ29udHJvbFBvczpmdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9jb250cm9sQ29udGFpbmVyKX19KSxzLkNvbnRyb2wuWm9vbT1zLkNvbnRyb2wuZXh0ZW5kKHtvcHRpb25zOntwb3NpdGlvbjoidG9wbGVmdCIsem9vbUluVGV4dDoiKyIsem9vbUluVGl0bGU6Ilpvb20gaW4iLHpvb21PdXRUZXh0OiItIix6b29tT3V0VGl0bGU6Ilpvb20gb3V0In0sb25BZGQ6ZnVuY3Rpb24odCl7dmFyIGU9ImxlYWZsZXQtY29udHJvbC16b29tIixpPXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiIGxlYWZsZXQtYmFyIik7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX3pvb21JbkJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24odGhpcy5vcHRpb25zLnpvb21JblRleHQsdGhpcy5vcHRpb25zLnpvb21JblRpdGxlLGUrIi1pbiIsaSx0aGlzLl96b29tSW4sdGhpcyksdGhpcy5fem9vbU91dEJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24odGhpcy5vcHRpb25zLnpvb21PdXRUZXh0LHRoaXMub3B0aW9ucy56b29tT3V0VGl0bGUsZSsiLW91dCIsaSx0aGlzLl96b29tT3V0LHRoaXMpLHRoaXMuX3VwZGF0ZURpc2FibGVkKCksdC5vbigiem9vbWVuZCB6b29tbGV2ZWxzY2hhbmdlIix0aGlzLl91cGRhdGVEaXNhYmxlZCx0aGlzKSxpfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZigiem9vbWVuZCB6b29tbGV2ZWxzY2hhbmdlIix0aGlzLl91cGRhdGVEaXNhYmxlZCx0aGlzKX0sX3pvb21JbjpmdW5jdGlvbih0KXt0aGlzLl9tYXAuem9vbUluKHQuc2hpZnRLZXk/MzoxKX0sX3pvb21PdXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwLnpvb21PdXQodC5zaGlmdEtleT8zOjEpfSxfY3JlYXRlQnV0dG9uOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcj1zLkRvbVV0aWwuY3JlYXRlKCJhIixpLG4pO3IuaW5uZXJIVE1MPXQsci5ocmVmPSIjIixyLnRpdGxlPWU7dmFyIGw9cy5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247cmV0dXJuIHMuRG9tRXZlbnQub24ociwiY2xpY2siLGwpLm9uKHIsIm1vdXNlZG93biIsbCkub24ociwiZGJsY2xpY2siLGwpLm9uKHIsImNsaWNrIixzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KS5vbihyLCJjbGljayIsbyxhKS5vbihyLCJjbGljayIsdGhpcy5fcmVmb2N1c09uTWFwLGEpLHJ9LF91cGRhdGVEaXNhYmxlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcCxlPSJsZWFmbGV0LWRpc2FibGVkIjtzLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fem9vbUluQnV0dG9uLGUpLHMuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl96b29tT3V0QnV0dG9uLGUpLHQuX3pvb209PT10LmdldE1pblpvb20oKSYmcy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3pvb21PdXRCdXR0b24sZSksdC5fem9vbT09PXQuZ2V0TWF4Wm9vbSgpJiZzLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fem9vbUluQnV0dG9uLGUpfX0pLHMuTWFwLm1lcmdlT3B0aW9ucyh7em9vbUNvbnRyb2w6ITB9KSxzLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpe3RoaXMub3B0aW9ucy56b29tQ29udHJvbCYmKHRoaXMuem9vbUNvbnRyb2w9bmV3IHMuQ29udHJvbC5ab29tLHRoaXMuYWRkQ29udHJvbCh0aGlzLnpvb21Db250cm9sKSl9KSxzLmNvbnRyb2wuem9vbT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuQ29udHJvbC5ab29tKHQpfSxzLkNvbnRyb2wuQXR0cmlidXRpb249cy5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246ImJvdHRvbXJpZ2h0IixwcmVmaXg6JzxhIGhyZWY9Imh0dHA6Ly9sZWFmbGV0anMuY29tIiB0aXRsZT0iQSBKUyBsaWJyYXJ5IGZvciBpbnRlcmFjdGl2ZSBtYXBzIj5MZWFmbGV0PC9hPid9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7cy5zZXRPcHRpb25zKHRoaXMsdCksdGhpcy5fYXR0cmlidXRpb25zPXt9fSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9jb250YWluZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibGVhZmxldC1jb250cm9sLWF0dHJpYnV0aW9uIikscy5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aGlzLl9jb250YWluZXIpO2Zvcih2YXIgZSBpbiB0Ll9sYXllcnMpdC5fbGF5ZXJzW2VdLmdldEF0dHJpYnV0aW9uJiZ0aGlzLmFkZEF0dHJpYnV0aW9uKHQuX2xheWVyc1tlXS5nZXRBdHRyaWJ1dGlvbigpKTtyZXR1cm4gdC5vbigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJBZGQsdGhpcykub24oImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlLHRoaXMpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2NvbnRhaW5lcn0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoImxheWVyYWRkIix0aGlzLl9vbkxheWVyQWRkKS5vZmYoImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlKX0sc2V0UHJlZml4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMucHJlZml4PXQsdGhpcy5fdXBkYXRlKCksdGhpc30sYWRkQXR0cmlidXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHRoaXMuX2F0dHJpYnV0aW9uc1t0XXx8KHRoaXMuX2F0dHJpYnV0aW9uc1t0XT0wKSx0aGlzLl9hdHRyaWJ1dGlvbnNbdF0rKyx0aGlzLl91cGRhdGUoKSx0aGlzKTp2b2lkIDB9LHJlbW92ZUF0dHJpYnV0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLl9hdHRyaWJ1dGlvbnNbdF0mJih0aGlzLl9hdHRyaWJ1dGlvbnNbdF0tLSx0aGlzLl91cGRhdGUoKSksdGhpcyk6dm9pZCAwfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwKXt2YXIgdD1bXTtmb3IodmFyIGUgaW4gdGhpcy5fYXR0cmlidXRpb25zKXRoaXMuX2F0dHJpYnV0aW9uc1tlXSYmdC5wdXNoKGUpO3ZhciBpPVtdO3RoaXMub3B0aW9ucy5wcmVmaXgmJmkucHVzaCh0aGlzLm9wdGlvbnMucHJlZml4KSx0Lmxlbmd0aCYmaS5wdXNoKHQuam9pbigiLCAiKSksdGhpcy5fY29udGFpbmVyLmlubmVySFRNTD1pLmpvaW4oIiB8ICIpfX0sX29uTGF5ZXJBZGQ6ZnVuY3Rpb24odCl7dC5sYXllci5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hZGRBdHRyaWJ1dGlvbih0LmxheWVyLmdldEF0dHJpYnV0aW9uKCkpfSxfb25MYXllclJlbW92ZTpmdW5jdGlvbih0KXt0LmxheWVyLmdldEF0dHJpYnV0aW9uJiZ0aGlzLnJlbW92ZUF0dHJpYnV0aW9uKHQubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSl9fSkscy5NYXAubWVyZ2VPcHRpb25zKHthdHRyaWJ1dGlvbkNvbnRyb2w6ITB9KSxzLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2wmJih0aGlzLmF0dHJpYnV0aW9uQ29udHJvbD0obmV3IHMuQ29udHJvbC5BdHRyaWJ1dGlvbikuYWRkVG8odGhpcykpfSkscy5jb250cm9sLmF0dHJpYnV0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5Db250cm9sLkF0dHJpYnV0aW9uKHQpfSxzLkNvbnRyb2wuU2NhbGU9cy5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246ImJvdHRvbWxlZnQiLG1heFdpZHRoOjEwMCxtZXRyaWM6ITAsaW1wZXJpYWw6ITAsdXBkYXRlV2hlbklkbGU6ITF9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10O3ZhciBlPSJsZWFmbGV0LWNvbnRyb2wtc2NhbGUiLGk9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKSxuPXRoaXMub3B0aW9ucztyZXR1cm4gdGhpcy5fYWRkU2NhbGVzKG4sZSxpKSx0Lm9uKG4udXBkYXRlV2hlbklkbGU/Im1vdmVlbmQiOiJtb3ZlIix0aGlzLl91cGRhdGUsdGhpcyksdC53aGVuUmVhZHkodGhpcy5fdXBkYXRlLHRoaXMpLGl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZT8ibW92ZWVuZCI6Im1vdmUiLHRoaXMuX3VwZGF0ZSx0aGlzKX0sX2FkZFNjYWxlczpmdW5jdGlvbih0LGUsaSl7dC5tZXRyaWMmJih0aGlzLl9tU2NhbGU9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItbGluZSIsaSkpLHQuaW1wZXJpYWwmJih0aGlzLl9pU2NhbGU9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItbGluZSIsaSkpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLmdldEJvdW5kcygpLGU9dC5nZXRDZW50ZXIoKS5sYXQsaT02Mzc4MTM3Kk1hdGguUEkqTWF0aC5jb3MoZSpNYXRoLlBJLzE4MCksbj1pKih0LmdldE5vcnRoRWFzdCgpLmxuZy10LmdldFNvdXRoV2VzdCgpLmxuZykvMTgwLG89dGhpcy5fbWFwLmdldFNpemUoKSxzPXRoaXMub3B0aW9ucyxhPTA7by54PjAmJihhPW4qKHMubWF4V2lkdGgvby54KSksdGhpcy5fdXBkYXRlU2NhbGVzKHMsYSl9LF91cGRhdGVTY2FsZXM6ZnVuY3Rpb24odCxlKXt0Lm1ldHJpYyYmZSYmdGhpcy5fdXBkYXRlTWV0cmljKGUpLHQuaW1wZXJpYWwmJmUmJnRoaXMuX3VwZGF0ZUltcGVyaWFsKGUpfSxfdXBkYXRlTWV0cmljOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFJvdW5kTnVtKHQpO3RoaXMuX21TY2FsZS5zdHlsZS53aWR0aD10aGlzLl9nZXRTY2FsZVdpZHRoKGUvdCkrInB4Iix0aGlzLl9tU2NhbGUuaW5uZXJIVE1MPTFlMz5lP2UrIiBtIjplLzFlMysiIGttIn0sX3VwZGF0ZUltcGVyaWFsOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixvPTMuMjgwODM5OSp0LHM9dGhpcy5faVNjYWxlO28+NTI4MD8oZT1vLzUyODAsaT10aGlzLl9nZXRSb3VuZE51bShlKSxzLnN0eWxlLndpZHRoPXRoaXMuX2dldFNjYWxlV2lkdGgoaS9lKSsicHgiLHMuaW5uZXJIVE1MPWkrIiBtaSIpOihuPXRoaXMuX2dldFJvdW5kTnVtKG8pLHMuc3R5bGUud2lkdGg9dGhpcy5fZ2V0U2NhbGVXaWR0aChuL28pKyJweCIscy5pbm5lckhUTUw9bisiIGZ0Iil9LF9nZXRTY2FsZVdpZHRoOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5tYXhXaWR0aCp0KS0xMH0sX2dldFJvdW5kTnVtOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgucG93KDEwLChNYXRoLmZsb29yKHQpKyIiKS5sZW5ndGgtMSksaT10L2U7cmV0dXJuIGk9aT49MTA/MTA6aT49NT81Omk+PTM/MzppPj0yPzI6MSxlKml9fSkscy5jb250cm9sLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5Db250cm9sLlNjYWxlKHQpfSxzLkNvbnRyb2wuTGF5ZXJzPXMuQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e2NvbGxhcHNlZDohMCxwb3NpdGlvbjoidG9wcmlnaHQiLGF1dG9aSW5kZXg6ITB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlLGkpe3Muc2V0T3B0aW9ucyh0aGlzLGkpLHRoaXMuX2xheWVycz17fSx0aGlzLl9sYXN0WkluZGV4PTAsdGhpcy5faGFuZGxpbmdDbGljaz0hMTtmb3IodmFyIG4gaW4gdCl0aGlzLl9hZGRMYXllcih0W25dLG4pO2ZvcihuIGluIGUpdGhpcy5fYWRkTGF5ZXIoZVtuXSxuLCEwKX0sb25BZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2luaXRMYXlvdXQoKSx0aGlzLl91cGRhdGUoKSx0Lm9uKCJsYXllcmFkZCIsdGhpcy5fb25MYXllckNoYW5nZSx0aGlzKS5vbigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJDaGFuZ2UsdGhpcyksdGhpcy5fY29udGFpbmVyfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJDaGFuZ2UpLm9mZigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJDaGFuZ2UpfSxhZGRCYXNlTGF5ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYWRkTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoKSx0aGlzfSxhZGRPdmVybGF5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2FkZExheWVyKHQsZSwhMCksdGhpcy5fdXBkYXRlKCksdGhpc30scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9cy5zdGFtcCh0KTtyZXR1cm4gZGVsZXRlIHRoaXMuX2xheWVyc1tlXSx0aGlzLl91cGRhdGUoKSx0aGlzfSxfaW5pdExheW91dDpmdW5jdGlvbigpe3ZhciB0PSJsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzIixlPXRoaXMuX2NvbnRhaW5lcj1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQpO2Uuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIiwhMCkscy5Ccm93c2VyLnRvdWNoP3MuRG9tRXZlbnQub24oZSwiY2xpY2siLHMuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTpzLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGUpLmRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbihlKTt2YXIgaT10aGlzLl9mb3JtPXMuRG9tVXRpbC5jcmVhdGUoImZvcm0iLHQrIi1saXN0Iik7aWYodGhpcy5vcHRpb25zLmNvbGxhcHNlZCl7cy5Ccm93c2VyLmFuZHJvaWR8fHMuRG9tRXZlbnQub24oZSwibW91c2VvdmVyIix0aGlzLl9leHBhbmQsdGhpcykub24oZSwibW91c2VvdXQiLHRoaXMuX2NvbGxhcHNlLHRoaXMpO3ZhciBuPXRoaXMuX2xheWVyc0xpbms9cy5Eb21VdGlsLmNyZWF0ZSgiYSIsdCsiLXRvZ2dsZSIsZSk7bi5ocmVmPSIjIixuLnRpdGxlPSJMYXllcnMiLHMuQnJvd3Nlci50b3VjaD9zLkRvbUV2ZW50Lm9uKG4sImNsaWNrIixzLkRvbUV2ZW50LnN0b3ApLm9uKG4sImNsaWNrIix0aGlzLl9leHBhbmQsdGhpcyk6cy5Eb21FdmVudC5vbihuLCJmb2N1cyIsdGhpcy5fZXhwYW5kLHRoaXMpLHMuRG9tRXZlbnQub24oaSwiY2xpY2siLGZ1bmN0aW9uKCl7c2V0VGltZW91dChzLmJpbmQodGhpcy5fb25JbnB1dENsaWNrLHRoaXMpLDApfSx0aGlzKSx0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9jb2xsYXBzZSx0aGlzKX1lbHNlIHRoaXMuX2V4cGFuZCgpO3RoaXMuX2Jhc2VMYXllcnNMaXN0PXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsdCsiLWJhc2UiLGkpLHRoaXMuX3NlcGFyYXRvcj1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQrIi1zZXBhcmF0b3IiLGkpLHRoaXMuX292ZXJsYXlzTGlzdD1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQrIi1vdmVybGF5cyIsaSksZS5hcHBlbmRDaGlsZChpKX0sX2FkZExheWVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1zLnN0YW1wKHQpO3RoaXMuX2xheWVyc1tuXT17bGF5ZXI6dCxuYW1lOmUsb3ZlcmxheTppfSx0aGlzLm9wdGlvbnMuYXV0b1pJbmRleCYmdC5zZXRaSW5kZXgmJih0aGlzLl9sYXN0WkluZGV4KyssdC5zZXRaSW5kZXgodGhpcy5fbGFzdFpJbmRleCkpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fY29udGFpbmVyKXt0aGlzLl9iYXNlTGF5ZXJzTGlzdC5pbm5lckhUTUw9IiIsdGhpcy5fb3ZlcmxheXNMaXN0LmlubmVySFRNTD0iIjt2YXIgdCxlLGk9ITEsbj0hMTtmb3IodCBpbiB0aGlzLl9sYXllcnMpZT10aGlzLl9sYXllcnNbdF0sdGhpcy5fYWRkSXRlbShlKSxuPW58fGUub3ZlcmxheSxpPWl8fCFlLm92ZXJsYXk7dGhpcy5fc2VwYXJhdG9yLnN0eWxlLmRpc3BsYXk9biYmaT8iIjoibm9uZSJ9fSxfb25MYXllckNoYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbcy5zdGFtcCh0LmxheWVyKV07aWYoZSl7dGhpcy5faGFuZGxpbmdDbGlja3x8dGhpcy5fdXBkYXRlKCk7dmFyIGk9ZS5vdmVybGF5PyJsYXllcmFkZCI9PT10LnR5cGU/Im92ZXJsYXlhZGQiOiJvdmVybGF5cmVtb3ZlIjoibGF5ZXJhZGQiPT09dC50eXBlPyJiYXNlbGF5ZXJjaGFuZ2UiOm51bGw7aSYmdGhpcy5fbWFwLmZpcmUoaSxlKX19LF9jcmVhdGVSYWRpb0VsZW1lbnQ6ZnVuY3Rpb24odCxlKXt2YXIgbj0nPGlucHV0IHR5cGU9InJhZGlvIiBjbGFzcz0ibGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvciIgbmFtZT0iJyt0KyciJztlJiYobis9JyBjaGVja2VkPSJjaGVja2VkIicpLG4rPSIvPiI7dmFyIG89aS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gby5pbm5lckhUTUw9bixvLmZpcnN0Q2hpbGR9LF9hZGRJdGVtOmZ1bmN0aW9uKHQpe3ZhciBlLG49aS5jcmVhdGVFbGVtZW50KCJsYWJlbCIpLG89dGhpcy5fbWFwLmhhc0xheWVyKHQubGF5ZXIpO3Qub3ZlcmxheT8oZT1pLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksZS50eXBlPSJjaGVja2JveCIsZS5jbGFzc05hbWU9ImxlYWZsZXQtY29udHJvbC1sYXllcnMtc2VsZWN0b3IiLGUuZGVmYXVsdENoZWNrZWQ9byk6ZT10aGlzLl9jcmVhdGVSYWRpb0VsZW1lbnQoImxlYWZsZXQtYmFzZS1sYXllcnMiLG8pLGUubGF5ZXJJZD1zLnN0YW1wKHQubGF5ZXIpLHMuRG9tRXZlbnQub24oZSwiY2xpY2siLHRoaXMuX29uSW5wdXRDbGljayx0aGlzKTt2YXIgYT1pLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTthLmlubmVySFRNTD0iICIrdC5uYW1lLG4uYXBwZW5kQ2hpbGQoZSksbi5hcHBlbmRDaGlsZChhKTt2YXIgcj10Lm92ZXJsYXk/dGhpcy5fb3ZlcmxheXNMaXN0OnRoaXMuX2Jhc2VMYXllcnNMaXN0O3JldHVybiByLmFwcGVuZENoaWxkKG4pLG59LF9vbklucHV0Q2xpY2s6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbj10aGlzLl9mb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLG89bi5sZW5ndGg7Zm9yKHRoaXMuX2hhbmRsaW5nQ2xpY2s9ITAsdD0wO28+dDt0KyspZT1uW3RdLGk9dGhpcy5fbGF5ZXJzW2UubGF5ZXJJZF0sZS5jaGVja2VkJiYhdGhpcy5fbWFwLmhhc0xheWVyKGkubGF5ZXIpP3RoaXMuX21hcC5hZGRMYXllcihpLmxheWVyKTohZS5jaGVja2VkJiZ0aGlzLl9tYXAuaGFzTGF5ZXIoaS5sYXllcikmJnRoaXMuX21hcC5yZW1vdmVMYXllcihpLmxheWVyKTt0aGlzLl9oYW5kbGluZ0NsaWNrPSExLHRoaXMuX3JlZm9jdXNPbk1hcCgpfSxfZXhwYW5kOmZ1bmN0aW9uKCl7cy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwibGVhZmxldC1jb250cm9sLWxheWVycy1leHBhbmRlZCIpfSxfY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lPXRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUucmVwbGFjZSgiIGxlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQiLCIiKX19KSxzLmNvbnRyb2wubGF5ZXJzPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IHMuQ29udHJvbC5MYXllcnModCxlLGkpfSxzLlBvc0FuaW1hdGlvbj1zLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6cy5NaXhpbi5FdmVudHMscnVuOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuc3RvcCgpLHRoaXMuX2VsPXQsdGhpcy5faW5Qcm9ncmVzcz0hMCx0aGlzLl9uZXdQb3M9ZSx0aGlzLmZpcmUoInN0YXJ0IiksdC5zdHlsZVtzLkRvbVV0aWwuVFJBTlNJVElPTl09ImFsbCAiKyhpfHwuMjUpKyJzIGN1YmljLWJlemllcigwLDAsIisobnx8LjUpKyIsMSkiLHMuRG9tRXZlbnQub24odCxzLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQsdGhpcy5fb25UcmFuc2l0aW9uRW5kLHRoaXMpLHMuRG9tVXRpbC5zZXRQb3NpdGlvbih0LGUpLHMuVXRpbC5mYWxzZUZuKHQub2Zmc2V0V2lkdGgpLHRoaXMuX3N0ZXBUaW1lcj1zZXRJbnRlcnZhbChzLmJpbmQodGhpcy5fb25TdGVwLHRoaXMpLDUwKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX2luUHJvZ3Jlc3MmJihzLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWwsdGhpcy5fZ2V0UG9zKCkpLHRoaXMuX29uVHJhbnNpdGlvbkVuZCgpLHMuVXRpbC5mYWxzZUZuKHRoaXMuX2VsLm9mZnNldFdpZHRoKSl9LF9vblN0ZXA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRQb3MoKTtyZXR1cm4gdD8odGhpcy5fZWwuX2xlYWZsZXRfcG9zPXQsdGhpcy5maXJlKCJzdGVwIiksdm9pZCAwKToodGhpcy5fb25UcmFuc2l0aW9uRW5kKCksdm9pZCAwKX0sX3RyYW5zZm9ybVJlOi8oWy0rXT8oPzpcZCpcLik/XGQrKVxEKiwgKFstK10/KD86XGQqXC4pP1xkKylcRCpcKS8sX2dldFBvczpmdW5jdGlvbigpe3ZhciBlLGksbixvPXRoaXMuX2VsLGE9dC5nZXRDb21wdXRlZFN0eWxlKG8pOwppZihzLkJyb3dzZXIuYW55M2Qpe2lmKG49YVtzLkRvbVV0aWwuVFJBTlNGT1JNXS5tYXRjaCh0aGlzLl90cmFuc2Zvcm1SZSksIW4pcmV0dXJuO2U9cGFyc2VGbG9hdChuWzFdKSxpPXBhcnNlRmxvYXQoblsyXSl9ZWxzZSBlPXBhcnNlRmxvYXQoYS5sZWZ0KSxpPXBhcnNlRmxvYXQoYS50b3ApO3JldHVybiBuZXcgcy5Qb2ludChlLGksITApfSxfb25UcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vZmYodGhpcy5fZWwscy5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELHRoaXMuX29uVHJhbnNpdGlvbkVuZCx0aGlzKSx0aGlzLl9pblByb2dyZXNzJiYodGhpcy5faW5Qcm9ncmVzcz0hMSx0aGlzLl9lbC5zdHlsZVtzLkRvbVV0aWwuVFJBTlNJVElPTl09IiIsdGhpcy5fZWwuX2xlYWZsZXRfcG9zPXRoaXMuX25ld1BvcyxjbGVhckludGVydmFsKHRoaXMuX3N0ZXBUaW1lciksdGhpcy5maXJlKCJzdGVwIikuZmlyZSgiZW5kIikpfX0pLHMuTWFwLmluY2x1ZGUoe3NldFZpZXc6ZnVuY3Rpb24odCxlLGkpe2lmKGU9ZT09PW4/dGhpcy5fem9vbTp0aGlzLl9saW1pdFpvb20oZSksdD10aGlzLl9saW1pdENlbnRlcihzLmxhdExuZyh0KSxlLHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpLGk9aXx8e30sdGhpcy5fcGFuQW5pbSYmdGhpcy5fcGFuQW5pbS5zdG9wKCksdGhpcy5fbG9hZGVkJiYhaS5yZXNldCYmaSE9PSEwKXtpLmFuaW1hdGUhPT1uJiYoaS56b29tPXMuZXh0ZW5kKHthbmltYXRlOmkuYW5pbWF0ZX0saS56b29tKSxpLnBhbj1zLmV4dGVuZCh7YW5pbWF0ZTppLmFuaW1hdGV9LGkucGFuKSk7dmFyIG89dGhpcy5fem9vbSE9PWU/dGhpcy5fdHJ5QW5pbWF0ZWRab29tJiZ0aGlzLl90cnlBbmltYXRlZFpvb20odCxlLGkuem9vbSk6dGhpcy5fdHJ5QW5pbWF0ZWRQYW4odCxpLnBhbik7aWYobylyZXR1cm4gY2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lciksdGhpc31yZXR1cm4gdGhpcy5fcmVzZXRWaWV3KHQsZSksdGhpc30scGFuQnk6ZnVuY3Rpb24odCxlKXtpZih0PXMucG9pbnQodCkucm91bmQoKSxlPWV8fHt9LCF0LngmJiF0LnkpcmV0dXJuIHRoaXM7aWYodGhpcy5fcGFuQW5pbXx8KHRoaXMuX3BhbkFuaW09bmV3IHMuUG9zQW5pbWF0aW9uLHRoaXMuX3BhbkFuaW0ub24oe3N0ZXA6dGhpcy5fb25QYW5UcmFuc2l0aW9uU3RlcCxlbmQ6dGhpcy5fb25QYW5UcmFuc2l0aW9uRW5kfSx0aGlzKSksZS5ub01vdmVTdGFydHx8dGhpcy5maXJlKCJtb3Zlc3RhcnQiKSxlLmFuaW1hdGUhPT0hMSl7cy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsImxlYWZsZXQtcGFuLWFuaW0iKTt2YXIgaT10aGlzLl9nZXRNYXBQYW5lUG9zKCkuc3VidHJhY3QodCk7dGhpcy5fcGFuQW5pbS5ydW4odGhpcy5fbWFwUGFuZSxpLGUuZHVyYXRpb258fC4yNSxlLmVhc2VMaW5lYXJpdHkpfWVsc2UgdGhpcy5fcmF3UGFuQnkodCksdGhpcy5maXJlKCJtb3ZlIikuZmlyZSgibW92ZWVuZCIpO3JldHVybiB0aGlzfSxfb25QYW5UcmFuc2l0aW9uU3RlcDpmdW5jdGlvbigpe3RoaXMuZmlyZSgibW92ZSIpfSxfb25QYW5UcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7cy5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcFBhbmUsImxlYWZsZXQtcGFuLWFuaW0iKSx0aGlzLmZpcmUoIm1vdmVlbmQiKX0sX3RyeUFuaW1hdGVkUGFuOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQpLl9mbG9vcigpO3JldHVybihlJiZlLmFuaW1hdGUpPT09ITB8fHRoaXMuZ2V0U2l6ZSgpLmNvbnRhaW5zKGkpPyh0aGlzLnBhbkJ5KGksZSksITApOiExfX0pLHMuUG9zQW5pbWF0aW9uPXMuRG9tVXRpbC5UUkFOU0lUSU9OP3MuUG9zQW5pbWF0aW9uOnMuUG9zQW5pbWF0aW9uLmV4dGVuZCh7cnVuOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuc3RvcCgpLHRoaXMuX2VsPXQsdGhpcy5faW5Qcm9ncmVzcz0hMCx0aGlzLl9kdXJhdGlvbj1pfHwuMjUsdGhpcy5fZWFzZU91dFBvd2VyPTEvTWF0aC5tYXgobnx8LjUsLjIpLHRoaXMuX3N0YXJ0UG9zPXMuRG9tVXRpbC5nZXRQb3NpdGlvbih0KSx0aGlzLl9vZmZzZXQ9ZS5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvcyksdGhpcy5fc3RhcnRUaW1lPStuZXcgRGF0ZSx0aGlzLmZpcmUoInN0YXJ0IiksdGhpcy5fYW5pbWF0ZSgpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5faW5Qcm9ncmVzcyYmKHRoaXMuX3N0ZXAoKSx0aGlzLl9jb21wbGV0ZSgpKX0sX2FuaW1hdGU6ZnVuY3Rpb24oKXt0aGlzLl9hbmltSWQ9cy5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fYW5pbWF0ZSx0aGlzKSx0aGlzLl9zdGVwKCl9LF9zdGVwOmZ1bmN0aW9uKCl7dmFyIHQ9K25ldyBEYXRlLXRoaXMuX3N0YXJ0VGltZSxlPTFlMyp0aGlzLl9kdXJhdGlvbjtlPnQ/dGhpcy5fcnVuRnJhbWUodGhpcy5fZWFzZU91dCh0L2UpKToodGhpcy5fcnVuRnJhbWUoMSksdGhpcy5fY29tcGxldGUoKSl9LF9ydW5GcmFtZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdGFydFBvcy5hZGQodGhpcy5fb2Zmc2V0Lm11bHRpcGx5QnkodCkpO3MuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbCxlKSx0aGlzLmZpcmUoInN0ZXAiKX0sX2NvbXBsZXRlOmZ1bmN0aW9uKCl7cy5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltSWQpLHRoaXMuX2luUHJvZ3Jlc3M9ITEsdGhpcy5maXJlKCJlbmQiKX0sX2Vhc2VPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5wb3coMS10LHRoaXMuX2Vhc2VPdXRQb3dlcil9fSkscy5NYXAubWVyZ2VPcHRpb25zKHt6b29tQW5pbWF0aW9uOiEwLHpvb21BbmltYXRpb25UaHJlc2hvbGQ6NH0pLHMuRG9tVXRpbC5UUkFOU0lUSU9OJiZzLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpe3RoaXMuX3pvb21BbmltYXRlZD10aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmcy5Eb21VdGlsLlRSQU5TSVRJT04mJnMuQnJvd3Nlci5hbnkzZCYmIXMuQnJvd3Nlci5hbmRyb2lkMjMmJiFzLkJyb3dzZXIubW9iaWxlT3BlcmEsdGhpcy5fem9vbUFuaW1hdGVkJiZzLkRvbUV2ZW50Lm9uKHRoaXMuX21hcFBhbmUscy5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELHRoaXMuX2NhdGNoVHJhbnNpdGlvbkVuZCx0aGlzKX0pLHMuTWFwLmluY2x1ZGUocy5Eb21VdGlsLlRSQU5TSVRJT04/e19jYXRjaFRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24odCl7dGhpcy5fYW5pbWF0aW5nWm9vbSYmdC5wcm9wZXJ0eU5hbWUuaW5kZXhPZigidHJhbnNmb3JtIik+PTAmJnRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQoKX0sX25vdGhpbmdUb0FuaW1hdGU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxlYWZsZXQtem9vbS1hbmltYXRlZCIpLmxlbmd0aH0sX3RyeUFuaW1hdGVkWm9vbTpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5fYW5pbWF0aW5nWm9vbSlyZXR1cm4hMDtpZihpPWl8fHt9LCF0aGlzLl96b29tQW5pbWF0ZWR8fGkuYW5pbWF0ZT09PSExfHx0aGlzLl9ub3RoaW5nVG9BbmltYXRlKCl8fE1hdGguYWJzKGUtdGhpcy5fem9vbSk+dGhpcy5vcHRpb25zLnpvb21BbmltYXRpb25UaHJlc2hvbGQpcmV0dXJuITE7dmFyIG49dGhpcy5nZXRab29tU2NhbGUoZSksbz10aGlzLl9nZXRDZW50ZXJPZmZzZXQodCkuX2RpdmlkZUJ5KDEtMS9uKSxzPXRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKS5fYWRkKG8pO3JldHVybiBpLmFuaW1hdGU9PT0hMHx8dGhpcy5nZXRTaXplKCkuY29udGFpbnMobyk/KHRoaXMuZmlyZSgibW92ZXN0YXJ0IikuZmlyZSgiem9vbXN0YXJ0IiksdGhpcy5fYW5pbWF0ZVpvb20odCxlLHMsbixudWxsLCEwKSwhMCk6ITF9LF9hbmltYXRlWm9vbTpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dGhpcy5fYW5pbWF0aW5nWm9vbT0hMCxzLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwUGFuZSwibGVhZmxldC16b29tLWFuaW0iKSx0aGlzLl9hbmltYXRlVG9DZW50ZXI9dCx0aGlzLl9hbmltYXRlVG9ab29tPWUscy5EcmFnZ2FibGUmJihzLkRyYWdnYWJsZS5fZGlzYWJsZWQ9ITApLHRoaXMuZmlyZSgiem9vbWFuaW0iLHtjZW50ZXI6dCx6b29tOmUsb3JpZ2luOmksc2NhbGU6bixkZWx0YTpvLGJhY2t3YXJkczphfSl9LF9vblpvb21UcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7dGhpcy5fYW5pbWF0aW5nWm9vbT0hMSxzLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwUGFuZSwibGVhZmxldC16b29tLWFuaW0iKSx0aGlzLl9yZXNldFZpZXcodGhpcy5fYW5pbWF0ZVRvQ2VudGVyLHRoaXMuX2FuaW1hdGVUb1pvb20sITAsITApLHMuRHJhZ2dhYmxlJiYocy5EcmFnZ2FibGUuX2Rpc2FibGVkPSExKX19Ont9KSxzLlRpbGVMYXllci5pbmNsdWRlKHtfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dGhpcy5fYW5pbWF0aW5nfHwodGhpcy5fYW5pbWF0aW5nPSEwLHRoaXMuX3ByZXBhcmVCZ0J1ZmZlcigpKTt2YXIgZT10aGlzLl9iZ0J1ZmZlcixpPXMuRG9tVXRpbC5UUkFOU0ZPUk0sbj10LmRlbHRhP3MuRG9tVXRpbC5nZXRUcmFuc2xhdGVTdHJpbmcodC5kZWx0YSk6ZS5zdHlsZVtpXSxvPXMuRG9tVXRpbC5nZXRTY2FsZVN0cmluZyh0LnNjYWxlLHQub3JpZ2luKTtlLnN0eWxlW2ldPXQuYmFja3dhcmRzP28rIiAiK246bisiICIrb30sX2VuZFpvb21BbmltOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGlsZUNvbnRhaW5lcixlPXRoaXMuX2JnQnVmZmVyO3Quc3R5bGUudmlzaWJpbGl0eT0iIix0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodCkscy5VdGlsLmZhbHNlRm4oZS5vZmZzZXRXaWR0aCksdGhpcy5fYW5pbWF0aW5nPSExfSxfY2xlYXJCZ0J1ZmZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcDshdHx8dC5fYW5pbWF0aW5nWm9vbXx8dC50b3VjaFpvb20uX3pvb21pbmd8fCh0aGlzLl9iZ0J1ZmZlci5pbm5lckhUTUw9IiIsdGhpcy5fYmdCdWZmZXIuc3R5bGVbcy5Eb21VdGlsLlRSQU5TRk9STV09IiIpfSxfcHJlcGFyZUJnQnVmZmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGlsZUNvbnRhaW5lcixlPXRoaXMuX2JnQnVmZmVyLGk9dGhpcy5fZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlKGUpLG49dGhpcy5fZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlKHQpO3JldHVybiBlJiZpPi41JiYuNT5uPyh0LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5fc3RvcExvYWRpbmdJbWFnZXModCksdm9pZCAwKTooZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGUuc3R5bGVbcy5Eb21VdGlsLlRSQU5TRk9STV09IiIsdGhpcy5fdGlsZUNvbnRhaW5lcj1lLGU9dGhpcy5fYmdCdWZmZXI9dCx0aGlzLl9zdG9wTG9hZGluZ0ltYWdlcyhlKSxjbGVhclRpbWVvdXQodGhpcy5fY2xlYXJCZ0J1ZmZlclRpbWVyKSx2b2lkIDApfSxfZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlOmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSxvPTA7Zm9yKGU9MCxpPW4ubGVuZ3RoO2k+ZTtlKyspbltlXS5jb21wbGV0ZSYmbysrO3JldHVybiBvL2l9LF9zdG9wTG9hZGluZ0ltYWdlczpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSk7Zm9yKGU9MCxpPW8ubGVuZ3RoO2k+ZTtlKyspbj1vW2VdLG4uY29tcGxldGV8fChuLm9ubG9hZD1zLlV0aWwuZmFsc2VGbixuLm9uZXJyb3I9cy5VdGlsLmZhbHNlRm4sbi5zcmM9cy5VdGlsLmVtcHR5SW1hZ2VVcmwsbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKX19KSxzLk1hcC5pbmNsdWRlKHtfZGVmYXVsdExvY2F0ZU9wdGlvbnM6e3dhdGNoOiExLHNldFZpZXc6ITEsbWF4Wm9vbToxLzAsdGltZW91dDoxZTQsbWF4aW11bUFnZTowLGVuYWJsZUhpZ2hBY2N1cmFjeTohMX0sbG9jYXRlOmZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5fbG9jYXRlT3B0aW9ucz1zLmV4dGVuZCh0aGlzLl9kZWZhdWx0TG9jYXRlT3B0aW9ucyx0KSwhbmF2aWdhdG9yLmdlb2xvY2F0aW9uKXJldHVybiB0aGlzLl9oYW5kbGVHZW9sb2NhdGlvbkVycm9yKHtjb2RlOjAsbWVzc2FnZToiR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZC4ifSksdGhpczt2YXIgZT1zLmJpbmQodGhpcy5faGFuZGxlR2VvbG9jYXRpb25SZXNwb25zZSx0aGlzKSxpPXMuYmluZCh0aGlzLl9oYW5kbGVHZW9sb2NhdGlvbkVycm9yLHRoaXMpO3JldHVybiB0LndhdGNoP3RoaXMuX2xvY2F0aW9uV2F0Y2hJZD1uYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihlLGksdCk6bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihlLGksdCksdGhpc30sc3RvcExvY2F0ZTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24mJm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCksdGhpcy5fbG9jYXRlT3B0aW9ucyYmKHRoaXMuX2xvY2F0ZU9wdGlvbnMuc2V0Vmlldz0hMSksdGhpc30sX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3I6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb2RlLGk9dC5tZXNzYWdlfHwoMT09PWU/InBlcm1pc3Npb24gZGVuaWVkIjoyPT09ZT8icG9zaXRpb24gdW5hdmFpbGFibGUiOiJ0aW1lb3V0Iik7dGhpcy5fbG9jYXRlT3B0aW9ucy5zZXRWaWV3JiYhdGhpcy5fbG9hZGVkJiZ0aGlzLmZpdFdvcmxkKCksdGhpcy5maXJlKCJsb2NhdGlvbmVycm9yIix7Y29kZTplLG1lc3NhZ2U6Ikdlb2xvY2F0aW9uIGVycm9yOiAiK2krIi4ifSl9LF9oYW5kbGVHZW9sb2NhdGlvblJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRzLmxhdGl0dWRlLGk9dC5jb29yZHMubG9uZ2l0dWRlLG49bmV3IHMuTGF0TG5nKGUsaSksbz0xODAqdC5jb29yZHMuYWNjdXJhY3kvNDAwNzUwMTcsYT1vL01hdGguY29zKHMuTGF0TG5nLkRFR19UT19SQUQqZSkscj1zLmxhdExuZ0JvdW5kcyhbZS1vLGktYV0sW2UrbyxpK2FdKSxsPXRoaXMuX2xvY2F0ZU9wdGlvbnM7aWYobC5zZXRWaWV3KXt2YXIgaD1NYXRoLm1pbih0aGlzLmdldEJvdW5kc1pvb20ociksbC5tYXhab29tKTt0aGlzLnNldFZpZXcobixoKX12YXIgdT17bGF0bG5nOm4sYm91bmRzOnIsdGltZXN0YW1wOnQudGltZXN0YW1wfTtmb3IodmFyIGMgaW4gdC5jb29yZHMpIm51bWJlciI9PXR5cGVvZiB0LmNvb3Jkc1tjXSYmKHVbY109dC5jb29yZHNbY10pO3RoaXMuZmlyZSgibG9jYXRpb25mb3VuZCIsdSl9fSl9KHdpbmRvdyxkb2N1bWVudCl9LHt9XSw3OltmdW5jdGlvbih0LGUsaSl7IWZ1bmN0aW9uKHQsZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBpJiZpKWUoaSk7ZWxzZXt2YXIgbj17fTtlKG4pLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKG4pOnQuTXVzdGFjaGU9bn19KHRoaXMsZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiBMLmNhbGwodCxlKX1mdW5jdGlvbiBpKHQpe3JldHVybiFlKF8sdCl9ZnVuY3Rpb24gbih0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1mdW5jdGlvbiBvKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKX1mdW5jdGlvbiBzKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZSgvWyY8PiInXC9dL2csZnVuY3Rpb24odCl7cmV0dXJuIFRbdF19KX1mdW5jdGlvbiBhKHQpe3RoaXMuc3RyaW5nPXQsdGhpcy50YWlsPXQsdGhpcy5wb3M9MH1mdW5jdGlvbiByKHQsZSl7dGhpcy52aWV3PW51bGw9PXQ/e306dCx0aGlzLnBhcmVudD1lLHRoaXMuX2NhY2hlPXsiLiI6dGhpcy52aWV3fX1mdW5jdGlvbiBsKCl7dGhpcy5jbGVhckNhY2hlKCl9ZnVuY3Rpb24gaChlLGksbyxzKXtmdW5jdGlvbiBhKHQpe3JldHVybiBpLnJlbmRlcih0LG8pfWZvcih2YXIgcixsLHUsYz0iIixwPTAsZD1lLmxlbmd0aDtkPnA7KytwKXN3aXRjaChyPWVbcF0sbD1yWzFdLHJbMF0pe2Nhc2UiIyI6aWYodT1vLmxvb2t1cChsKSwib2JqZWN0Ij09dHlwZW9mIHV8fCJzdHJpbmciPT10eXBlb2YgdSlpZihQKHUpKWZvcih2YXIgbT0wLGY9dS5sZW5ndGg7Zj5tOysrbSljKz1oKHJbNF0saSxvLnB1c2godVttXSkscyk7ZWxzZSB1JiYoYys9aChyWzRdLGksby5wdXNoKHUpLHMpKTtlbHNlIGlmKG4odSkpe3ZhciBfPW51bGw9PXM/bnVsbDpzLnNsaWNlKHJbM10scls1XSk7dT11LmNhbGwoby52aWV3LF8sYSksbnVsbCE9dSYmKGMrPXUpfWVsc2UgdSYmKGMrPWgocls0XSxpLG8scykpO2JyZWFrO2Nhc2UiXiI6dT1vLmxvb2t1cChsKSwoIXV8fFAodSkmJjA9PT11Lmxlbmd0aCkmJihjKz1oKHJbNF0saSxvLHMpKTticmVhaztjYXNlIj4iOnU9aS5nZXRQYXJ0aWFsKGwpLG4odSkmJihjKz11KG8pKTticmVhaztjYXNlIiYiOnU9by5sb29rdXAobCksbnVsbCE9dSYmKGMrPXUpO2JyZWFrO2Nhc2UibmFtZSI6dT1vLmxvb2t1cChsKSxudWxsIT11JiYoYys9dC5lc2NhcGUodSkpO2JyZWFrO2Nhc2UidGV4dCI6Yys9bH1yZXR1cm4gY31mdW5jdGlvbiB1KHQpe2Zvcih2YXIgZSxpPVtdLG49aSxvPVtdLHM9MCxhPXQubGVuZ3RoO2E+czsrK3Mpc3dpdGNoKGU9dFtzXSxlWzBdKXtjYXNlIiMiOmNhc2UiXiI6by5wdXNoKGUpLG4ucHVzaChlKSxuPWVbNF09W107YnJlYWs7Y2FzZSIvIjp2YXIgcj1vLnBvcCgpO3JbNV09ZVsyXSxuPW8ubGVuZ3RoPjA/b1tvLmxlbmd0aC0xXVs0XTppO2JyZWFrO2RlZmF1bHQ6bi5wdXNoKGUpfXJldHVybiBpfWZ1bmN0aW9uIGModCl7Zm9yKHZhciBlLGksbj1bXSxvPTAscz10Lmxlbmd0aDtzPm87KytvKWU9dFtvXSxlJiYoInRleHQiPT09ZVswXSYmaSYmInRleHQiPT09aVswXT8oaVsxXSs9ZVsxXSxpWzNdPWVbM10pOihpPWUsbi5wdXNoKGUpKSk7cmV0dXJuIG59ZnVuY3Rpb24gcCh0KXtyZXR1cm5bbmV3IFJlZ0V4cChvKHRbMF0pKyJcXHMqIiksbmV3IFJlZ0V4cCgiXFxzKiIrbyh0WzFdKSldfWZ1bmN0aW9uIGQoZSxuKXtmdW5jdGlvbiBzKCl7aWYodyYmIUMpZm9yKDt4Lmxlbmd0aDspZGVsZXRlIEVbeC5wb3AoKV07ZWxzZSB4PVtdO3c9ITEsQz0hMX1pZihlPWV8fCIiLG49bnx8dC50YWdzLCJzdHJpbmciPT10eXBlb2YgbiYmKG49bi5zcGxpdChmKSksMiE9PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0YWdzOiAiK24uam9pbigiLCAiKSk7Zm9yKHZhciByLGwsaCxkLF8sTCxiPXAobiksUD1uZXcgYShlKSxUPVtdLEU9W10seD1bXSx3PSExLEM9ITE7IVAuZW9zKCk7KXtpZihyPVAucG9zLGg9UC5zY2FuVW50aWwoYlswXSkpZm9yKHZhciBNPTAsRD1oLmxlbmd0aDtEPk07KytNKWQ9aC5jaGFyQXQoTSksaShkKT94LnB1c2goRS5sZW5ndGgpOkM9ITAsRS5wdXNoKFsidGV4dCIsZCxyLHIrMV0pLHIrPTEsIlxuIj09ZCYmcygpO2lmKCFQLnNjYW4oYlswXSkpYnJlYWs7aWYodz0hMCxsPVAuc2Nhbih5KXx8Im5hbWUiLFAuc2NhbihtKSwiPSI9PT1sPyhoPVAuc2NhblVudGlsKGcpLFAuc2NhbihnKSxQLnNjYW5VbnRpbChiWzFdKSk6InsiPT09bD8oaD1QLnNjYW5VbnRpbChuZXcgUmVnRXhwKCJcXHMqIitvKCJ9IituWzFdKSkpLFAuc2Nhbih2KSxQLnNjYW5VbnRpbChiWzFdKSxsPSImIik6aD1QLnNjYW5VbnRpbChiWzFdKSwhUC5zY2FuKGJbMV0pKXRocm93IG5ldyBFcnJvcigiVW5jbG9zZWQgdGFnIGF0ICIrUC5wb3MpO2lmKF89W2wsaCxyLFAucG9zXSxFLnB1c2goXyksIiMiPT09bHx8Il4iPT09bClULnB1c2goXyk7ZWxzZSBpZigiLyI9PT1sKXtpZihMPVQucG9wKCksIUwpdGhyb3cgbmV3IEVycm9yKCdVbm9wZW5lZCBzZWN0aW9uICInK2grJyIgYXQgJytyKTtpZihMWzFdIT09aCl0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHNlY3Rpb24gIicrTFsxXSsnIiBhdCAnK3IpfWVsc2UgaWYoIm5hbWUiPT09bHx8InsiPT09bHx8IiYiPT09bClDPSEwO2Vsc2UgaWYoIj0iPT09bCl7aWYobj1oLnNwbGl0KGYpLDIhPT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdGFncyBhdCAiK3IrIjogIituLmpvaW4oIiwgIikpO2I9cChuKX19aWYoTD1ULnBvcCgpKXRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiAiJytMWzFdKyciIGF0ICcrUC5wb3MpO3JldHVybiB1KGMoRSkpfXZhciBtPS9ccyovLGY9L1xzKy8sXz0vXFMvLGc9L1xzKj0vLHY9L1xzKlx9Lyx5PS8jfFxefFwvfD58XHt8Jnw9fCEvLEw9UmVnRXhwLnByb3RvdHlwZS50ZXN0LGI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxQPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1iLmNhbGwodCl9LFQ9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImIzM5OyIsIi8iOiImI3gyRjsifTthLnByb3RvdHlwZS5lb3M9ZnVuY3Rpb24oKXtyZXR1cm4iIj09PXRoaXMudGFpbH0sYS5wcm90b3R5cGUuc2Nhbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRhaWwubWF0Y2godCk7aWYoZSYmMD09PWUuaW5kZXgpe3ZhciBpPWVbMF07cmV0dXJuIHRoaXMudGFpbD10aGlzLnRhaWwuc3Vic3RyaW5nKGkubGVuZ3RoKSx0aGlzLnBvcys9aS5sZW5ndGgsaX1yZXR1cm4iIn0sYS5wcm90b3R5cGUuc2NhblVudGlsPWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy50YWlsLnNlYXJjaCh0KTtzd2l0Y2goaSl7Y2FzZS0xOmU9dGhpcy50YWlsLHRoaXMudGFpbD0iIjticmVhaztjYXNlIDA6ZT0iIjticmVhaztkZWZhdWx0OmU9dGhpcy50YWlsLnN1YnN0cmluZygwLGkpLHRoaXMudGFpbD10aGlzLnRhaWwuc3Vic3RyaW5nKGkpfXJldHVybiB0aGlzLnBvcys9ZS5sZW5ndGgsZX0sci5tYWtlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygcj90Om5ldyByKHQpfSxyLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LHRoaXMpfSxyLnByb3RvdHlwZS5sb29rdXA9ZnVuY3Rpb24odCl7dmFyIGU7aWYodCBpbiB0aGlzLl9jYWNoZSllPXRoaXMuX2NhY2hlW3RdO2Vsc2V7Zm9yKHZhciBpPXRoaXM7aTspe2lmKHQuaW5kZXhPZigiLiIpPjApe2U9aS52aWV3O2Zvcih2YXIgbz10LnNwbGl0KCIuIikscz0wO251bGwhPWUmJnM8by5sZW5ndGg7KWU9ZVtvW3MrK11dfWVsc2UgZT1pLnZpZXdbdF07aWYobnVsbCE9ZSlicmVhaztpPWkucGFyZW50fXRoaXMuX2NhY2hlW3RdPWV9cmV0dXJuIG4oZSkmJihlPWUuY2FsbCh0aGlzLnZpZXcpKSxlfSxsLnByb3RvdHlwZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fcGFydGlhbENhY2hlPXt9fSxsLnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG49dGhpcy5fY2FjaGVbZV07aWYoIW4pe3ZhciBvPXQucGFyc2UoZSxpKTtuPXRoaXMuX2NhY2hlW2VdPXRoaXMuY29tcGlsZVRva2VucyhvLGUpfXJldHVybiBufSxsLnByb3RvdHlwZS5jb21waWxlUGFydGlhbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5jb21waWxlKGUsaSk7cmV0dXJuIHRoaXMuX3BhcnRpYWxDYWNoZVt0XT1uLG59LGwucHJvdG90eXBlLmdldFBhcnRpYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gdGhpcy5fcGFydGlhbENhY2hlfHwhdGhpcy5fbG9hZFBhcnRpYWx8fHRoaXMuY29tcGlsZVBhcnRpYWwodCx0aGlzLl9sb2FkUGFydGlhbCh0KSksdGhpcy5fcGFydGlhbENhY2hlW3RdfSxsLnByb3RvdHlwZS5jb21waWxlVG9rZW5zPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gZnVuY3Rpb24obyxzKXtpZihzKWlmKG4ocykpaS5fbG9hZFBhcnRpYWw9cztlbHNlIGZvcih2YXIgYSBpbiBzKWkuY29tcGlsZVBhcnRpYWwoYSxzW2FdKTtyZXR1cm4gaCh0LGksci5tYWtlKG8pLGUpfX0sbC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5jb21waWxlKHQpKGUsaSl9LHQubmFtZT0ibXVzdGFjaGUuanMiLHQudmVyc2lvbj0iMC43LjMiLHQudGFncz1bInt7IiwifX0iXSx0LlNjYW5uZXI9YSx0LkNvbnRleHQ9cix0LldyaXRlcj1sLHQucGFyc2U9ZCx0LmVzY2FwZT1zO3ZhciBFPW5ldyBsO3QuY2xlYXJDYWNoZT1mdW5jdGlvbigpe3JldHVybiBFLmNsZWFyQ2FjaGUoKX0sdC5jb21waWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEUuY29tcGlsZSh0LGUpfSx0LmNvbXBpbGVQYXJ0aWFsPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gRS5jb21waWxlUGFydGlhbCh0LGUsaSl9LHQuY29tcGlsZVRva2Vucz1mdW5jdGlvbih0LGUpe3JldHVybiBFLmNvbXBpbGVUb2tlbnModCxlKX0sdC5yZW5kZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBFLnJlbmRlcih0LGUsaSl9LHQudG9faHRtbD1mdW5jdGlvbihlLGksbyxzKXt2YXIgYT10LnJlbmRlcihlLGksbyk7cmV0dXJuIG4ocyk/KHMoYSksdm9pZCAwKTphfX0pfSx7fV0sODpbZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpeyJ1c2Ugc3RyaWN0IjtyZXR1cm4vXmh0dHBzPy8udGVzdCh0LmdldFNjaGVtZSgpKT90LnRvU3RyaW5nKCk6ImRhdGEiPT10LmdldFNjaGVtZSgpJiYvXmltYWdlLy50ZXN0KHQuZ2V0UGF0aCgpKT90LnRvU3RyaW5nKCk6dm9pZCAwfWZ1bmN0aW9uIG4odCl7cmV0dXJuIHR9dmFyIG89dCgiLi9zYW5pdGl6ZXItYnVuZGxlLmpzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0P28odCxpLG4pOiIifX0seyIuL3Nhbml0aXplci1idW5kbGUuanMiOjl9XSw5OltmdW5jdGlvbih0LGUpe3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT0oIiIrdCkubWF0Y2goZCk7cmV0dXJuIGU/bmV3IGwoaChlWzFdKSxoKGVbMl0pLGgoZVszXSksaChlWzRdKSxoKGVbNV0pLGgoZVs2XSksaChlWzddKSk6bnVsbH1mdW5jdGlvbiBlKHQsZSxzLGEscixoLHUpe3ZhciBjPW5ldyBsKG4odCxtKSxuKGUsbSksaShzKSxhPjA/YS50b1N0cmluZygpOm51bGwsbihyLGYpLG51bGwsaSh1KSk7cmV0dXJuIGgmJigic3RyaW5nIj09dHlwZW9mIGg/Yy5zZXRSYXdRdWVyeShoLnJlcGxhY2UoL1tePyY9MC05QS1aYS16X1wtfi4lXS9nLG8pKTpjLnNldEFsbFBhcmFtZXRlcnMoaCkpLGN9ZnVuY3Rpb24gaSh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/ZW5jb2RlVVJJQ29tcG9uZW50KHQpOm51bGx9ZnVuY3Rpb24gbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9lbmNvZGVVUkkodCkucmVwbGFjZShlLG8pOm51bGx9ZnVuY3Rpb24gbyh0KXt2YXIgZT10LmNoYXJDb2RlQXQoMCk7cmV0dXJuIiUiKyIwMTIzNDU2Nzg5QUJDREVGIi5jaGFyQXQoZT4+NCYxNSkrIjAxMjM0NTY3ODlBQkNERUYiLmNoYXJBdCgxNSZlKX1mdW5jdGlvbiBzKHQpe3JldHVybiB0LnJlcGxhY2UoLyhefFwvKVwuKD86XC98JCkvZywiJDEiKS5yZXBsYWNlKC9cL3syLH0vZywiLyIpfWZ1bmN0aW9uIGEodCl7aWYobnVsbD09PXQpcmV0dXJuIG51bGw7Zm9yKHZhciBlLGk9cyh0KSxuPWM7KGU9aS5yZXBsYWNlKG4sIiQxIikpIT1pO2k9ZSk7cmV0dXJuIGl9ZnVuY3Rpb24gcih0LGUpe3ZhciBpPXQuY2xvbmUoKSxuPWUuaGFzU2NoZW1lKCk7bj9pLnNldFJhd1NjaGVtZShlLmdldFJhd1NjaGVtZSgpKTpuPWUuaGFzQ3JlZGVudGlhbHMoKSxuP2kuc2V0UmF3Q3JlZGVudGlhbHMoZS5nZXRSYXdDcmVkZW50aWFscygpKTpuPWUuaGFzRG9tYWluKCksbj9pLnNldFJhd0RvbWFpbihlLmdldFJhd0RvbWFpbigpKTpuPWUuaGFzUG9ydCgpO3ZhciBvPWUuZ2V0UmF3UGF0aCgpLHM9YShvKTtpZihuKWkuc2V0UG9ydChlLmdldFBvcnQoKSkscz1zJiZzLnJlcGxhY2UocCwiIik7ZWxzZSBpZihuPSEhbyl7aWYoNDchPT1zLmNoYXJDb2RlQXQoMCkpe3ZhciByPWEoaS5nZXRSYXdQYXRoKCl8fCIiKS5yZXBsYWNlKHAsIiIpLGw9ci5sYXN0SW5kZXhPZigiLyIpKzE7cz1hKChsP3Iuc3Vic3RyaW5nKDAsbCk6IiIpK2EobykpLnJlcGxhY2UocCwiIil9fWVsc2Ugcz1zJiZzLnJlcGxhY2UocCwiIikscyE9PW8mJmkuc2V0UmF3UGF0aChzKTtyZXR1cm4gbj9pLnNldFJhd1BhdGgocyk6bj1lLmhhc1F1ZXJ5KCksbj9pLnNldFJhd1F1ZXJ5KGUuZ2V0UmF3UXVlcnkoKSk6bj1lLmhhc0ZyYWdtZW50KCksbiYmaS5zZXRSYXdGcmFnbWVudChlLmdldFJhd0ZyYWdtZW50KCkpLGl9ZnVuY3Rpb24gbCh0LGUsaSxuLG8scyxhKXt0aGlzLnNjaGVtZV89dCx0aGlzLmNyZWRlbnRpYWxzXz1lLHRoaXMuZG9tYWluXz1pLHRoaXMucG9ydF89bix0aGlzLnBhdGhfPW8sdGhpcy5xdWVyeV89cyx0aGlzLmZyYWdtZW50Xz1hLHRoaXMucGFyYW1DYWNoZV89bnVsbH1mdW5jdGlvbiBoKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmdC5sZW5ndGg+MD90Om51bGx9dmFyIHU9bmV3IFJlZ0V4cCgiKC98XikoPzpbXi4vXVteL10qfFxcLnsyLH0oPzpbXi4vXVteL10qKXxcXC57Myx9W14vXSopL1xcLlxcLig/Oi98JCkiKSxjPW5ldyBSZWdFeHAodSkscD0vXig/OlwuXC5cLykqKD86XC5cLiQpPy87bC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gbnVsbCE9PXRoaXMuc2NoZW1lXyYmdC5wdXNoKHRoaXMuc2NoZW1lXywiOiIpLG51bGwhPT10aGlzLmRvbWFpbl8mJih0LnB1c2goIi8vIiksbnVsbCE9PXRoaXMuY3JlZGVudGlhbHNfJiZ0LnB1c2godGhpcy5jcmVkZW50aWFsc18sIkAiKSx0LnB1c2godGhpcy5kb21haW5fKSxudWxsIT09dGhpcy5wb3J0XyYmdC5wdXNoKCI6Iix0aGlzLnBvcnRfLnRvU3RyaW5nKCkpKSxudWxsIT09dGhpcy5wYXRoXyYmdC5wdXNoKHRoaXMucGF0aF8pLG51bGwhPT10aGlzLnF1ZXJ5XyYmdC5wdXNoKCI/Iix0aGlzLnF1ZXJ5XyksbnVsbCE9PXRoaXMuZnJhZ21lbnRfJiZ0LnB1c2goIiMiLHRoaXMuZnJhZ21lbnRfKSx0LmpvaW4oIiIpfSxsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbCh0aGlzLnNjaGVtZV8sdGhpcy5jcmVkZW50aWFsc18sdGhpcy5kb21haW5fLHRoaXMucG9ydF8sdGhpcy5wYXRoXyx0aGlzLnF1ZXJ5Xyx0aGlzLmZyYWdtZW50Xyl9LGwucHJvdG90eXBlLmdldFNjaGVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjaGVtZV8mJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLnNjaGVtZV8pLnRvTG93ZXJDYXNlKCl9LGwucHJvdG90eXBlLmdldFJhd1NjaGVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjaGVtZV99LGwucHJvdG90eXBlLnNldFNjaGVtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY2hlbWVfPW4odCxtKSx0aGlzfSxsLnByb3RvdHlwZS5zZXRSYXdTY2hlbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NoZW1lXz10P3Q6bnVsbCx0aGlzfSxsLnByb3RvdHlwZS5oYXNTY2hlbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuc2NoZW1lX30sbC5wcm90b3R5cGUuZ2V0Q3JlZGVudGlhbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVkZW50aWFsc18mJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmNyZWRlbnRpYWxzXyl9LGwucHJvdG90eXBlLmdldFJhd0NyZWRlbnRpYWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3JlZGVudGlhbHNffSxsLnByb3RvdHlwZS5zZXRDcmVkZW50aWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jcmVkZW50aWFsc189bih0LG0pLHRoaXN9LGwucHJvdG90eXBlLnNldFJhd0NyZWRlbnRpYWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNyZWRlbnRpYWxzXz10P3Q6bnVsbCx0aGlzfSxsLnByb3RvdHlwZS5oYXNDcmVkZW50aWFscz1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5jcmVkZW50aWFsc199LGwucHJvdG90eXBlLmdldERvbWFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbWFpbl8mJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmRvbWFpbl8pfSxsLnByb3RvdHlwZS5nZXRSYXdEb21haW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21haW5ffSxsLnByb3RvdHlwZS5zZXREb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0UmF3RG9tYWluKHQmJmVuY29kZVVSSUNvbXBvbmVudCh0KSl9LGwucHJvdG90eXBlLnNldFJhd0RvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kb21haW5fPXQ/dDpudWxsLHRoaXMuc2V0UmF3UGF0aCh0aGlzLnBhdGhfKX0sbC5wcm90b3R5cGUuaGFzRG9tYWluPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmRvbWFpbl99LGwucHJvdG90eXBlLmdldFBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3J0XyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMucG9ydF8pfSxsLnByb3RvdHlwZS5zZXRQb3J0PWZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQ9TnVtYmVyKHQpLHQhPT0oNjU1MzUmdCkpdGhyb3cgbmV3IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIit0KTt0aGlzLnBvcnRfPSIiK3R9ZWxzZSB0aGlzLnBvcnRfPW51bGw7cmV0dXJuIHRoaXN9LGwucHJvdG90eXBlLmhhc1BvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucG9ydF99LGwucHJvdG90eXBlLmdldFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoXyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMucGF0aF8pfSxsLnByb3RvdHlwZS5nZXRSYXdQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aF99LGwucHJvdG90eXBlLnNldFBhdGg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0UmF3UGF0aChuKHQsZikpfSxsLnByb3RvdHlwZS5zZXRSYXdQYXRoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0PVN0cmluZyh0KSx0aGlzLnBhdGhfPSF0aGlzLmRvbWFpbl98fC9eXC8vLnRlc3QodCk/dDoiLyIrdCk6dGhpcy5wYXRoXz1udWxsLHRoaXN9LGwucHJvdG90eXBlLmhhc1BhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucGF0aF99LGwucHJvdG90eXBlLmdldFF1ZXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucXVlcnlfJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5xdWVyeV8pLnJlcGxhY2UoL1wrL2csIiAiKX0sbC5wcm90b3R5cGUuZ2V0UmF3UXVlcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeV99LGwucHJvdG90eXBlLnNldFF1ZXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhcmFtQ2FjaGVfPW51bGwsdGhpcy5xdWVyeV89aSh0KSx0aGlzfSxsLnByb3RvdHlwZS5zZXRSYXdRdWVyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXJhbUNhY2hlXz1udWxsLHRoaXMucXVlcnlfPXQ/dDpudWxsLHRoaXN9LGwucHJvdG90eXBlLmhhc1F1ZXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnF1ZXJ5X30sbC5wcm90b3R5cGUuc2V0QWxsUGFyYW1ldGVycz1mdW5jdGlvbih0KXtpZigib2JqZWN0Ij09dHlwZW9mIHQmJiEodCBpbnN0YW5jZW9mIEFycmF5KSYmKHQgaW5zdGFuY2VvZiBPYmplY3R8fCJbb2JqZWN0IEFycmF5XSIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpKXt2YXIgZT1bXSxpPS0xO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dOyJzdHJpbmciPT10eXBlb2YgbyYmKGVbKytpXT1uLGVbKytpXT1vKX10PWV9dGhpcy5wYXJhbUNhY2hlXz1udWxsO2Zvcih2YXIgcz1bXSxhPSIiLHI9MDtyPHQubGVuZ3RoOyl7dmFyIG49dFtyKytdLG89dFtyKytdO3MucHVzaChhLGVuY29kZVVSSUNvbXBvbmVudChuLnRvU3RyaW5nKCkpKSxhPSImIixvJiZzLnB1c2goIj0iLGVuY29kZVVSSUNvbXBvbmVudChvLnRvU3RyaW5nKCkpKX1yZXR1cm4gdGhpcy5xdWVyeV89cy5qb2luKCIiKSx0aGlzfSxsLnByb3RvdHlwZS5jaGVja1BhcmFtZXRlckNhY2hlXz1mdW5jdGlvbigpe2lmKCF0aGlzLnBhcmFtQ2FjaGVfKXt2YXIgdD10aGlzLnF1ZXJ5XztpZih0KXtmb3IodmFyIGU9dC5zcGxpdCgvWyZcP10vKSxpPVtdLG49LTEsbz0wO288ZS5sZW5ndGg7KytvKXt2YXIgcz1lW29dLm1hdGNoKC9eKFtePV0qKSg/Oj0oLiopKT8kLyk7aVsrK25dPWRlY29kZVVSSUNvbXBvbmVudChzWzFdKS5yZXBsYWNlKC9cKy9nLCIgIiksaVsrK25dPWRlY29kZVVSSUNvbXBvbmVudChzWzJdfHwiIikucmVwbGFjZSgvXCsvZywiICIpfXRoaXMucGFyYW1DYWNoZV89aX1lbHNlIHRoaXMucGFyYW1DYWNoZV89W119fSxsLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJWYWx1ZXM9ZnVuY3Rpb24odCxlKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPVtlXSksdGhpcy5jaGVja1BhcmFtZXRlckNhY2hlXygpO2Zvcih2YXIgaT0wLG49dGhpcy5wYXJhbUNhY2hlXyxvPVtdLHM9MDtzPG4ubGVuZ3RoO3MrPTIpdD09PW5bc10/aTxlLmxlbmd0aCYmby5wdXNoKHQsZVtpKytdKTpvLnB1c2gobltzXSxuW3MrMV0pO2Zvcig7aTxlLmxlbmd0aDspby5wdXNoKHQsZVtpKytdKTtyZXR1cm4gdGhpcy5zZXRBbGxQYXJhbWV0ZXJzKG8pLHRoaXN9LGwucHJvdG90eXBlLnJlbW92ZVBhcmFtZXRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRQYXJhbWV0ZXJWYWx1ZXModCxbXSl9LGwucHJvdG90eXBlLmdldEFsbFBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja1BhcmFtZXRlckNhY2hlXygpLHRoaXMucGFyYW1DYWNoZV8uc2xpY2UoMCx0aGlzLnBhcmFtQ2FjaGVfLmxlbmd0aCl9LGwucHJvdG90eXBlLmdldFBhcmFtZXRlclZhbHVlcz1mdW5jdGlvbih0KXt0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciBlPVtdLGk9MDtpPHRoaXMucGFyYW1DYWNoZV8ubGVuZ3RoO2krPTIpdD09PXRoaXMucGFyYW1DYWNoZV9baV0mJmUucHVzaCh0aGlzLnBhcmFtQ2FjaGVfW2krMV0pO3JldHVybiBlfSxsLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJNYXA9ZnVuY3Rpb24oKXt0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciB0PXt9LGU9MDtlPHRoaXMucGFyYW1DYWNoZV8ubGVuZ3RoO2UrPTIpe3ZhciBpPXRoaXMucGFyYW1DYWNoZV9bZSsrXSxuPXRoaXMucGFyYW1DYWNoZV9bZSsrXTtpIGluIHQ/dFtpXS5wdXNoKG4pOnRbaV09W25dfXJldHVybiB0fSxsLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJWYWx1ZT1mdW5jdGlvbih0KXt0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLnBhcmFtQ2FjaGVfLmxlbmd0aDtlKz0yKWlmKHQ9PT10aGlzLnBhcmFtQ2FjaGVfW2VdKXJldHVybiB0aGlzLnBhcmFtQ2FjaGVfW2UrMV07cmV0dXJuIG51bGx9LGwucHJvdG90eXBlLmdldEZyYWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5mcmFnbWVudF8pfSxsLnByb3RvdHlwZS5nZXRSYXdGcmFnbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYWdtZW50X30sbC5wcm90b3R5cGUuc2V0RnJhZ21lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfPXQ/ZW5jb2RlVVJJQ29tcG9uZW50KHQpOm51bGwsdGhpc30sbC5wcm90b3R5cGUuc2V0UmF3RnJhZ21lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfPXQ/dDpudWxsLHRoaXN9LGwucHJvdG90eXBlLmhhc0ZyYWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZyYWdtZW50X307dmFyIGQ9bmV3IFJlZ0V4cCgiXig/OihbXjovPyNdKyk6KT8oPzovLyg/OihbXi8/I10qKUApPyhbXi8/IzpAXSopKD86OihbMC05XSspKT8pPyhbXj8jXSspPyg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8kIiksbT0vWyNcL1w/QF0vZyxmPS9bXCNcP10vZztyZXR1cm4gbC5wYXJzZT10LGwuY3JlYXRlPWUsbC5yZXNvbHZlPXIsbC5jb2xsYXBzZV9kb3RzPWEsbC51dGlscz17bWltZVR5cGVPZjpmdW5jdGlvbihlKXt2YXIgaT10KGUpO3JldHVybi9cLmh0bWwkLy50ZXN0KGkuZ2V0UGF0aCgpKT8idGV4dC9odG1sIjoiYXBwbGljYXRpb24vamF2YXNjcmlwdCJ9LHJlc29sdmU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT9yKHQoZSksdChpKSkudG9TdHJpbmcoKToiIitpfX0sbH0oKSxuPXt9O2lmKG4uYXR5cGU9e05PTkU6MCxVUkk6MSxVUklfRlJBR01FTlQ6MTEsU0NSSVBUOjIsU1RZTEU6MyxIVE1MOjEyLElEOjQsSURSRUY6NSxJRFJFRlM6NixHTE9CQUxfTkFNRTo3LExPQ0FMX05BTUU6OCxDTEFTU0VTOjksRlJBTUVfVEFSR0VUOjEwLE1FRElBX1FVRVJZOjEzfSxuLmF0eXBlPW4uYXR5cGUsbi5BVFRSSUJTPXsiKjo6Y2xhc3MiOjksIio6OmRpciI6MCwiKjo6ZHJhZ2dhYmxlIjowLCIqOjpoaWRkZW4iOjAsIio6OmlkIjo0LCIqOjppbmVydCI6MCwiKjo6aXRlbXByb3AiOjAsIio6Oml0ZW1yZWYiOjYsIio6Oml0ZW1zY29wZSI6MCwiKjo6bGFuZyI6MCwiKjo6b25ibHVyIjoyLCIqOjpvbmNoYW5nZSI6MiwiKjo6b25jbGljayI6MiwiKjo6b25kYmxjbGljayI6MiwiKjo6b25mb2N1cyI6MiwiKjo6b25rZXlkb3duIjoyLCIqOjpvbmtleXByZXNzIjoyLCIqOjpvbmtleXVwIjoyLCIqOjpvbmxvYWQiOjIsIio6Om9ubW91c2Vkb3duIjoyLCIqOjpvbm1vdXNlbW92ZSI6MiwiKjo6b25tb3VzZW91dCI6MiwiKjo6b25tb3VzZW92ZXIiOjIsIio6Om9ubW91c2V1cCI6MiwiKjo6b25yZXNldCI6MiwiKjo6b25zY3JvbGwiOjIsIio6Om9uc2VsZWN0IjoyLCIqOjpvbnN1Ym1pdCI6MiwiKjo6b251bmxvYWQiOjIsIio6OnNwZWxsY2hlY2siOjAsIio6OnN0eWxlIjozLCIqOjp0aXRsZSI6MCwiKjo6dHJhbnNsYXRlIjowLCJhOjphY2Nlc3NrZXkiOjAsImE6OmNvb3JkcyI6MCwiYTo6aHJlZiI6MSwiYTo6aHJlZmxhbmciOjAsImE6Om5hbWUiOjcsImE6Om9uYmx1ciI6MiwiYTo6b25mb2N1cyI6MiwiYTo6c2hhcGUiOjAsImE6OnRhYmluZGV4IjowLCJhOjp0YXJnZXQiOjEwLCJhOjp0eXBlIjowLCJhcmVhOjphY2Nlc3NrZXkiOjAsImFyZWE6OmFsdCI6MCwiYXJlYTo6Y29vcmRzIjowLCJhcmVhOjpocmVmIjoxLCJhcmVhOjpub2hyZWYiOjAsImFyZWE6Om9uYmx1ciI6MiwiYXJlYTo6b25mb2N1cyI6MiwiYXJlYTo6c2hhcGUiOjAsImFyZWE6OnRhYmluZGV4IjowLCJhcmVhOjp0YXJnZXQiOjEwLCJhdWRpbzo6Y29udHJvbHMiOjAsImF1ZGlvOjpsb29wIjowLCJhdWRpbzo6bWVkaWFncm91cCI6NSwiYXVkaW86Om11dGVkIjowLCJhdWRpbzo6cHJlbG9hZCI6MCwiYmRvOjpkaXIiOjAsImJsb2NrcXVvdGU6OmNpdGUiOjEsImJyOjpjbGVhciI6MCwiYnV0dG9uOjphY2Nlc3NrZXkiOjAsImJ1dHRvbjo6ZGlzYWJsZWQiOjAsImJ1dHRvbjo6bmFtZSI6OCwiYnV0dG9uOjpvbmJsdXIiOjIsImJ1dHRvbjo6b25mb2N1cyI6MiwiYnV0dG9uOjp0YWJpbmRleCI6MCwiYnV0dG9uOjp0eXBlIjowLCJidXR0b246OnZhbHVlIjowLCJjYW52YXM6OmhlaWdodCI6MCwiY2FudmFzOjp3aWR0aCI6MCwiY2FwdGlvbjo6YWxpZ24iOjAsImNvbDo6YWxpZ24iOjAsImNvbDo6Y2hhciI6MCwiY29sOjpjaGFyb2ZmIjowLCJjb2w6OnNwYW4iOjAsImNvbDo6dmFsaWduIjowLCJjb2w6OndpZHRoIjowLCJjb2xncm91cDo6YWxpZ24iOjAsImNvbGdyb3VwOjpjaGFyIjowLCJjb2xncm91cDo6Y2hhcm9mZiI6MCwiY29sZ3JvdXA6OnNwYW4iOjAsImNvbGdyb3VwOjp2YWxpZ24iOjAsImNvbGdyb3VwOjp3aWR0aCI6MCwiY29tbWFuZDo6Y2hlY2tlZCI6MCwiY29tbWFuZDo6Y29tbWFuZCI6NSwiY29tbWFuZDo6ZGlzYWJsZWQiOjAsImNvbW1hbmQ6Omljb24iOjEsImNvbW1hbmQ6OmxhYmVsIjowLCJjb21tYW5kOjpyYWRpb2dyb3VwIjowLCJjb21tYW5kOjp0eXBlIjowLCJkYXRhOjp2YWx1ZSI6MCwiZGVsOjpjaXRlIjoxLCJkZWw6OmRhdGV0aW1lIjowLCJkZXRhaWxzOjpvcGVuIjowLCJkaXI6OmNvbXBhY3QiOjAsImRpdjo6YWxpZ24iOjAsImRsOjpjb21wYWN0IjowLCJmaWVsZHNldDo6ZGlzYWJsZWQiOjAsImZvbnQ6OmNvbG9yIjowLCJmb250OjpmYWNlIjowLCJmb250OjpzaXplIjowLCJmb3JtOjphY2NlcHQiOjAsImZvcm06OmFjdGlvbiI6MSwiZm9ybTo6YXV0b2NvbXBsZXRlIjowLCJmb3JtOjplbmN0eXBlIjowLCJmb3JtOjptZXRob2QiOjAsImZvcm06Om5hbWUiOjcsImZvcm06Om5vdmFsaWRhdGUiOjAsImZvcm06Om9ucmVzZXQiOjIsImZvcm06Om9uc3VibWl0IjoyLCJmb3JtOjp0YXJnZXQiOjEwLCJoMTo6YWxpZ24iOjAsImgyOjphbGlnbiI6MCwiaDM6OmFsaWduIjowLCJoNDo6YWxpZ24iOjAsImg1OjphbGlnbiI6MCwiaDY6OmFsaWduIjowLCJocjo6YWxpZ24iOjAsImhyOjpub3NoYWRlIjowLCJocjo6c2l6ZSI6MCwiaHI6OndpZHRoIjowLCJpZnJhbWU6OmFsaWduIjowLCJpZnJhbWU6OmZyYW1lYm9yZGVyIjowLCJpZnJhbWU6OmhlaWdodCI6MCwiaWZyYW1lOjptYXJnaW5oZWlnaHQiOjAsImlmcmFtZTo6bWFyZ2lud2lkdGgiOjAsImlmcmFtZTo6d2lkdGgiOjAsImltZzo6YWxpZ24iOjAsImltZzo6YWx0IjowLCJpbWc6OmJvcmRlciI6MCwiaW1nOjpoZWlnaHQiOjAsImltZzo6aHNwYWNlIjowLCJpbWc6OmlzbWFwIjowLCJpbWc6Om5hbWUiOjcsImltZzo6c3JjIjoxLCJpbWc6OnVzZW1hcCI6MTEsImltZzo6dnNwYWNlIjowLCJpbWc6OndpZHRoIjowLCJpbnB1dDo6YWNjZXB0IjowLCJpbnB1dDo6YWNjZXNza2V5IjowLCJpbnB1dDo6YWxpZ24iOjAsImlucHV0OjphbHQiOjAsImlucHV0OjphdXRvY29tcGxldGUiOjAsImlucHV0OjpjaGVja2VkIjowLCJpbnB1dDo6ZGlzYWJsZWQiOjAsImlucHV0OjppbnB1dG1vZGUiOjAsImlucHV0Ojppc21hcCI6MCwiaW5wdXQ6Omxpc3QiOjUsImlucHV0OjptYXgiOjAsImlucHV0OjptYXhsZW5ndGgiOjAsImlucHV0OjptaW4iOjAsImlucHV0OjptdWx0aXBsZSI6MCwiaW5wdXQ6Om5hbWUiOjgsImlucHV0OjpvbmJsdXIiOjIsImlucHV0OjpvbmNoYW5nZSI6MiwiaW5wdXQ6Om9uZm9jdXMiOjIsImlucHV0OjpvbnNlbGVjdCI6MiwiaW5wdXQ6OnBsYWNlaG9sZGVyIjowLCJpbnB1dDo6cmVhZG9ubHkiOjAsImlucHV0OjpyZXF1aXJlZCI6MCwiaW5wdXQ6OnNpemUiOjAsImlucHV0OjpzcmMiOjEsImlucHV0OjpzdGVwIjowLCJpbnB1dDo6dGFiaW5kZXgiOjAsImlucHV0Ojp0eXBlIjowLCJpbnB1dDo6dXNlbWFwIjoxMSwiaW5wdXQ6OnZhbHVlIjowLCJpbnM6OmNpdGUiOjEsImluczo6ZGF0ZXRpbWUiOjAsImxhYmVsOjphY2Nlc3NrZXkiOjAsImxhYmVsOjpmb3IiOjUsImxhYmVsOjpvbmJsdXIiOjIsImxhYmVsOjpvbmZvY3VzIjoyLCJsZWdlbmQ6OmFjY2Vzc2tleSI6MCwibGVnZW5kOjphbGlnbiI6MCwibGk6OnR5cGUiOjAsImxpOjp2YWx1ZSI6MCwibWFwOjpuYW1lIjo3LCJtZW51Ojpjb21wYWN0IjowLCJtZW51OjpsYWJlbCI6MCwibWVudTo6dHlwZSI6MCwibWV0ZXI6OmhpZ2giOjAsIm1ldGVyOjpsb3ciOjAsIm1ldGVyOjptYXgiOjAsIm1ldGVyOjptaW4iOjAsIm1ldGVyOjp2YWx1ZSI6MCwib2w6OmNvbXBhY3QiOjAsIm9sOjpyZXZlcnNlZCI6MCwib2w6OnN0YXJ0IjowLCJvbDo6dHlwZSI6MCwib3B0Z3JvdXA6OmRpc2FibGVkIjowLCJvcHRncm91cDo6bGFiZWwiOjAsIm9wdGlvbjo6ZGlzYWJsZWQiOjAsIm9wdGlvbjo6bGFiZWwiOjAsIm9wdGlvbjo6c2VsZWN0ZWQiOjAsIm9wdGlvbjo6dmFsdWUiOjAsIm91dHB1dDo6Zm9yIjo2LCJvdXRwdXQ6Om5hbWUiOjgsInA6OmFsaWduIjowLCJwcmU6OndpZHRoIjowLCJwcm9ncmVzczo6bWF4IjowLCJwcm9ncmVzczo6bWluIjowLCJwcm9ncmVzczo6dmFsdWUiOjAsInE6OmNpdGUiOjEsInNlbGVjdDo6YXV0b2NvbXBsZXRlIjowLCJzZWxlY3Q6OmRpc2FibGVkIjowLCJzZWxlY3Q6Om11bHRpcGxlIjowLCJzZWxlY3Q6Om5hbWUiOjgsInNlbGVjdDo6b25ibHVyIjoyLCJzZWxlY3Q6Om9uY2hhbmdlIjoyLCJzZWxlY3Q6Om9uZm9jdXMiOjIsInNlbGVjdDo6cmVxdWlyZWQiOjAsInNlbGVjdDo6c2l6ZSI6MCwic2VsZWN0Ojp0YWJpbmRleCI6MCwic291cmNlOjp0eXBlIjowLCJ0YWJsZTo6YWxpZ24iOjAsInRhYmxlOjpiZ2NvbG9yIjowLCJ0YWJsZTo6Ym9yZGVyIjowLCJ0YWJsZTo6Y2VsbHBhZGRpbmciOjAsInRhYmxlOjpjZWxsc3BhY2luZyI6MCwidGFibGU6OmZyYW1lIjowLCJ0YWJsZTo6cnVsZXMiOjAsInRhYmxlOjpzdW1tYXJ5IjowLCJ0YWJsZTo6d2lkdGgiOjAsInRib2R5OjphbGlnbiI6MCwidGJvZHk6OmNoYXIiOjAsInRib2R5OjpjaGFyb2ZmIjowLCJ0Ym9keTo6dmFsaWduIjowLCJ0ZDo6YWJiciI6MCwidGQ6OmFsaWduIjowLCJ0ZDo6YXhpcyI6MCwidGQ6OmJnY29sb3IiOjAsInRkOjpjaGFyIjowLCJ0ZDo6Y2hhcm9mZiI6MCwidGQ6OmNvbHNwYW4iOjAsInRkOjpoZWFkZXJzIjo2LCJ0ZDo6aGVpZ2h0IjowLCJ0ZDo6bm93cmFwIjowLCJ0ZDo6cm93c3BhbiI6MCwidGQ6OnNjb3BlIjowLCJ0ZDo6dmFsaWduIjowLCJ0ZDo6d2lkdGgiOjAsInRleHRhcmVhOjphY2Nlc3NrZXkiOjAsInRleHRhcmVhOjphdXRvY29tcGxldGUiOjAsInRleHRhcmVhOjpjb2xzIjowLCJ0ZXh0YXJlYTo6ZGlzYWJsZWQiOjAsInRleHRhcmVhOjppbnB1dG1vZGUiOjAsInRleHRhcmVhOjpuYW1lIjo4LCJ0ZXh0YXJlYTo6b25ibHVyIjoyLCJ0ZXh0YXJlYTo6b25jaGFuZ2UiOjIsInRleHRhcmVhOjpvbmZvY3VzIjoyLCJ0ZXh0YXJlYTo6b25zZWxlY3QiOjIsInRleHRhcmVhOjpwbGFjZWhvbGRlciI6MCwidGV4dGFyZWE6OnJlYWRvbmx5IjowLCJ0ZXh0YXJlYTo6cmVxdWlyZWQiOjAsInRleHRhcmVhOjpyb3dzIjowLCJ0ZXh0YXJlYTo6dGFiaW5kZXgiOjAsInRleHRhcmVhOjp3cmFwIjowLCJ0Zm9vdDo6YWxpZ24iOjAsInRmb290OjpjaGFyIjowLCJ0Zm9vdDo6Y2hhcm9mZiI6MCwidGZvb3Q6OnZhbGlnbiI6MCwidGg6OmFiYnIiOjAsInRoOjphbGlnbiI6MCwidGg6OmF4aXMiOjAsInRoOjpiZ2NvbG9yIjowLCJ0aDo6Y2hhciI6MCwidGg6OmNoYXJvZmYiOjAsInRoOjpjb2xzcGFuIjowLCJ0aDo6aGVhZGVycyI6NiwidGg6OmhlaWdodCI6MCwidGg6Om5vd3JhcCI6MCwidGg6OnJvd3NwYW4iOjAsInRoOjpzY29wZSI6MCwidGg6OnZhbGlnbiI6MCwidGg6OndpZHRoIjowLCJ0aGVhZDo6YWxpZ24iOjAsInRoZWFkOjpjaGFyIjowLCJ0aGVhZDo6Y2hhcm9mZiI6MCwidGhlYWQ6OnZhbGlnbiI6MCwidHI6OmFsaWduIjowLCJ0cjo6Ymdjb2xvciI6MCwidHI6OmNoYXIiOjAsInRyOjpjaGFyb2ZmIjowLCJ0cjo6dmFsaWduIjowLCJ0cmFjazo6ZGVmYXVsdCI6MCwidHJhY2s6OmtpbmQiOjAsInRyYWNrOjpsYWJlbCI6MCwidHJhY2s6OnNyY2xhbmciOjAsInVsOjpjb21wYWN0IjowLCJ1bDo6dHlwZSI6MCwidmlkZW86OmNvbnRyb2xzIjowLCJ2aWRlbzo6aGVpZ2h0IjowLCJ2aWRlbzo6bG9vcCI6MCwidmlkZW86Om1lZGlhZ3JvdXAiOjUsInZpZGVvOjptdXRlZCI6MCwidmlkZW86OnBvc3RlciI6MSwidmlkZW86OnByZWxvYWQiOjAsInZpZGVvOjp3aWR0aCI6MH0sbi5BVFRSSUJTPW4uQVRUUklCUyxuLmVmbGFncz17T1BUSU9OQUxfRU5EVEFHOjEsRU1QVFk6MixDREFUQTo0LFJDREFUQTo4LFVOU0FGRToxNixGT0xEQUJMRTozMixTQ1JJUFQ6NjQsU1RZTEU6MTI4LFZJUlRVQUxJWkVEOjI1Nn0sbi5lZmxhZ3M9bi5lZmxhZ3Msbi5FTEVNRU5UUz17YTowLGFiYnI6MCxhY3JvbnltOjAsYWRkcmVzczowLGFwcGxldDoyNzIsYXJlYToyLGFydGljbGU6MCxhc2lkZTowLGF1ZGlvOjAsYjowLGJhc2U6Mjc0LGJhc2Vmb250OjI3NCxiZGk6MCxiZG86MCxiaWc6MCxibG9ja3F1b3RlOjAsYm9keTozMDUsYnI6MixidXR0b246MCxjYW52YXM6MCxjYXB0aW9uOjAsY2VudGVyOjAsY2l0ZTowLGNvZGU6MCxjb2w6Mixjb2xncm91cDoxLGNvbW1hbmQ6MixkYXRhOjAsZGF0YWxpc3Q6MCxkZDoxLGRlbDowLGRldGFpbHM6MCxkZm46MCxkaWFsb2c6MjcyLGRpcjowLGRpdjowLGRsOjAsZHQ6MSxlbTowLGZpZWxkc2V0OjAsZmlnY2FwdGlvbjowLGZpZ3VyZTowLGZvbnQ6MCxmb290ZXI6MCxmb3JtOjAsZnJhbWU6Mjc0LGZyYW1lc2V0OjI3MixoMTowLGgyOjAsaDM6MCxoNDowLGg1OjAsaDY6MCxoZWFkOjMwNSxoZWFkZXI6MCxoZ3JvdXA6MCxocjoyLGh0bWw6MzA1LGk6MCxpZnJhbWU6NCxpbWc6MixpbnB1dDoyLGluczowLGlzaW5kZXg6Mjc0LGtiZDowLGtleWdlbjoyNzQsbGFiZWw6MCxsZWdlbmQ6MCxsaToxLGxpbms6Mjc0LG1hcDowLG1hcms6MCxtZW51OjAsbWV0YToyNzQsbWV0ZXI6MCxuYXY6MCxub2JyOjAsbm9lbWJlZDoyNzYsbm9mcmFtZXM6Mjc2LG5vc2NyaXB0OjI3NixvYmplY3Q6MjcyLG9sOjAsb3B0Z3JvdXA6MCxvcHRpb246MSxvdXRwdXQ6MCxwOjEscGFyYW06Mjc0LHByZTowLHByb2dyZXNzOjAscTowLHM6MCxzYW1wOjAsc2NyaXB0Ojg0LHNlY3Rpb246MCxzZWxlY3Q6MCxzbWFsbDowLHNvdXJjZToyLHNwYW46MCxzdHJpa2U6MCxzdHJvbmc6MCxzdHlsZToxNDgsc3ViOjAsc3VtbWFyeTowLHN1cDowLHRhYmxlOjAsdGJvZHk6MSx0ZDoxLHRleHRhcmVhOjgsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdGltZTowLHRpdGxlOjI4MCx0cjoxLHRyYWNrOjIsdHQ6MCx1OjAsdWw6MCwidmFyIjowLHZpZGVvOjAsd2JyOjJ9LG4uRUxFTUVOVFM9bi5FTEVNRU5UUyxuLkVMRU1FTlRfRE9NX0lOVEVSRkFDRVM9e2E6IkhUTUxBbmNob3JFbGVtZW50IixhYmJyOiJIVE1MRWxlbWVudCIsYWNyb255bToiSFRNTEVsZW1lbnQiLGFkZHJlc3M6IkhUTUxFbGVtZW50IixhcHBsZXQ6IkhUTUxBcHBsZXRFbGVtZW50IixhcmVhOiJIVE1MQXJlYUVsZW1lbnQiLGFydGljbGU6IkhUTUxFbGVtZW50Iixhc2lkZToiSFRNTEVsZW1lbnQiLGF1ZGlvOiJIVE1MQXVkaW9FbGVtZW50IixiOiJIVE1MRWxlbWVudCIsYmFzZToiSFRNTEJhc2VFbGVtZW50IixiYXNlZm9udDoiSFRNTEJhc2VGb250RWxlbWVudCIsYmRpOiJIVE1MRWxlbWVudCIsYmRvOiJIVE1MRWxlbWVudCIsYmlnOiJIVE1MRWxlbWVudCIsYmxvY2txdW90ZToiSFRNTFF1b3RlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNlbnRlcjoiSFRNTEVsZW1lbnQiLGNpdGU6IkhUTUxFbGVtZW50Iixjb2RlOiJIVE1MRWxlbWVudCIsY29sOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb2xncm91cDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29tbWFuZDoiSFRNTENvbW1hbmRFbGVtZW50IixkYXRhOiJIVE1MRWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRkOiJIVE1MRWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGV0YWlsczoiSFRNTERldGFpbHNFbGVtZW50IixkZm46IkhUTUxFbGVtZW50IixkaWFsb2c6IkhUTUxEaWFsb2dFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZHQ6IkhUTUxFbGVtZW50IixlbToiSFRNTEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50IixmaWdjYXB0aW9uOiJIVE1MRWxlbWVudCIsZmlndXJlOiJIVE1MRWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb290ZXI6IkhUTUxFbGVtZW50Iixmb3JtOiJIVE1MRm9ybUVsZW1lbnQiLGZyYW1lOiJIVE1MRnJhbWVFbGVtZW50IixmcmFtZXNldDoiSFRNTEZyYW1lU2V0RWxlbWVudCIsaDE6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDI6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDM6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDQ6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDU6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDY6IkhUTUxIZWFkaW5nRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixoZWFkZXI6IkhUTUxFbGVtZW50IixoZ3JvdXA6IkhUTUxFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaHRtbDoiSFRNTEh0bWxFbGVtZW50IixpOiJIVE1MRWxlbWVudCIsaWZyYW1lOiJIVE1MSUZyYW1lRWxlbWVudCIsaW1nOiJIVE1MSW1hZ2VFbGVtZW50IixpbnB1dDoiSFRNTElucHV0RWxlbWVudCIsaW5zOiJIVE1MTW9kRWxlbWVudCIsaXNpbmRleDoiSFRNTFVua25vd25FbGVtZW50IixrYmQ6IkhUTUxFbGVtZW50IixrZXlnZW46IkhUTUxLZXlnZW5FbGVtZW50IixsYWJlbDoiSFRNTExhYmVsRWxlbWVudCIsbGVnZW5kOiJIVE1MTGVnZW5kRWxlbWVudCIsbGk6IkhUTUxMSUVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFyazoiSFRNTEVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWV0YToiSFRNTE1ldGFFbGVtZW50IixtZXRlcjoiSFRNTE1ldGVyRWxlbWVudCIsbmF2OiJIVE1MRWxlbWVudCIsbm9icjoiSFRNTEVsZW1lbnQiLG5vZW1iZWQ6IkhUTUxFbGVtZW50Iixub2ZyYW1lczoiSFRNTEVsZW1lbnQiLG5vc2NyaXB0OiJIVE1MRWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb2w6IkhUTUxPTGlzdEVsZW1lbnQiLG9wdGdyb3VwOiJIVE1MT3B0R3JvdXBFbGVtZW50IixvcHRpb246IkhUTUxPcHRpb25FbGVtZW50IixvdXRwdXQ6IkhUTUxPdXRwdXRFbGVtZW50IixwOiJIVE1MUGFyYWdyYXBoRWxlbWVudCIscGFyYW06IkhUTUxQYXJhbUVsZW1lbnQiLHByZToiSFRNTFByZUVsZW1lbnQiLHByb2dyZXNzOiJIVE1MUHJvZ3Jlc3NFbGVtZW50IixxOiJIVE1MUXVvdGVFbGVtZW50IixzOiJIVE1MRWxlbWVudCIsc2FtcDoiSFRNTEVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlY3Rpb246IkhUTUxFbGVtZW50IixzZWxlY3Q6IkhUTUxTZWxlY3RFbGVtZW50IixzbWFsbDoiSFRNTEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3RyaWtlOiJIVE1MRWxlbWVudCIsc3Ryb25nOiJIVE1MRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHN1YjoiSFRNTEVsZW1lbnQiLHN1bW1hcnk6IkhUTUxFbGVtZW50IixzdXA6IkhUTUxFbGVtZW50Iix0YWJsZToiSFRNTFRhYmxlRWxlbWVudCIsdGJvZHk6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0ZDoiSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGZvb3Q6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0aDoiSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQiLHRoZWFkOiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGltZToiSFRNTFRpbWVFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdHI6IkhUTUxUYWJsZVJvd0VsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix0dDoiSFRNTEVsZW1lbnQiLHU6IkhUTUxFbGVtZW50Iix1bDoiSFRNTFVMaXN0RWxlbWVudCIsInZhciI6IkhUTUxFbGVtZW50Iix2aWRlbzoiSFRNTFZpZGVvRWxlbWVudCIsd2JyOiJIVE1MRWxlbWVudCJ9LG4uRUxFTUVOVF9ET01fSU5URVJGQUNFUz1uLkVMRU1FTlRfRE9NX0lOVEVSRkFDRVMsbi51ZWZmZWN0cz17Tk9UX0xPQURFRDowLFNBTUVfRE9DVU1FTlQ6MSxORVdfRE9DVU1FTlQ6Mn0sbi51ZWZmZWN0cz1uLnVlZmZlY3RzLG4uVVJJRUZGRUNUUz17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImJsb2NrcXVvdGU6OmNpdGUiOjAsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MCwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjowLCJxOjpjaXRlIjowLCJ2aWRlbzo6cG9zdGVyIjoxfSxuLlVSSUVGRkVDVFM9bi5VUklFRkZFQ1RTLG4ubHR5cGVzPXtVTlNBTkRCT1hFRDoyLFNBTkRCT1hFRDoxLERBVEE6MH0sbi5sdHlwZXM9bi5sdHlwZXMsbi5MT0FERVJUWVBFUz17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImJsb2NrcXVvdGU6OmNpdGUiOjIsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MiwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjoyLCJxOjpjaXRlIjoyLCJ2aWRlbzo6cG9zdGVyIjoxfSxuLkxPQURFUlRZUEVTPW4uTE9BREVSVFlQRVMsImkiIT09IkkiLnRvTG93ZXJDYXNlKCkpdGhyb3ciSS9pIHByb2JsZW0iO3ZhciBvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7aWYoay5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4ga1t0XTt2YXIgZT10Lm1hdGNoKEEpO2lmKGUpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZVsxXSwxMCkpO2lmKGU9dC5tYXRjaChPKSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlWzFdLDE2KSk7aWYoSSYmVS50ZXN0KHQpKXtJLmlubmVySFRNTD0iJiIrdCsiOyI7dmFyIGk9SS50ZXh0Q29udGVudDtyZXR1cm4ga1t0XT1pLGl9cmV0dXJuIiYiK3QrIjsifWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gZShpKX1mdW5jdGlvbiBvKHQpe3JldHVybiB0LnJlcGxhY2UoUiwiIil9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdC5yZXBsYWNlKHosbil9ZnVuY3Rpb24gYSh0KXtyZXR1cm4oIiIrdCkucmVwbGFjZShOLCImYW1wOyIpLnJlcGxhY2UoaiwiJmx0OyIpLnJlcGxhY2UoWiwiJmd0OyIpLnJlcGxhY2UoRiwiJiMzNDsiKX1mdW5jdGlvbiByKHQpe3JldHVybiB0LnJlcGxhY2UoSCwiJmFtcDskMSIpLnJlcGxhY2UoaiwiJmx0OyIpLnJlcGxhY2UoWiwiJmd0OyIpfWZ1bmN0aW9uIGwodCl7dmFyIGU9e2NkYXRhOnQuY2RhdGF8fHQuY2RhdGEsY29tbWVudDp0LmNvbW1lbnR8fHQuY29tbWVudCxlbmREb2M6dC5lbmREb2N8fHQuZW5kRG9jLGVuZFRhZzp0LmVuZFRhZ3x8dC5lbmRUYWcscGNkYXRhOnQucGNkYXRhfHx0LnBjZGF0YSxyY2RhdGE6dC5yY2RhdGF8fHQucmNkYXRhLHN0YXJ0RG9jOnQuc3RhcnREb2N8fHQuc3RhcnREb2Msc3RhcnRUYWc6dC5zdGFydFRhZ3x8dC5zdGFydFRhZ307cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGgodCxlLGkpfX1mdW5jdGlvbiBoKHQsZSxpKXt2YXIgbj1wKHQpLG89e25vTW9yZUdUOiExLG5vTW9yZUVuZENvbW1lbnRzOiExfTtjKGUsbiwwLG8saSl9ZnVuY3Rpb24gdSh0LGUsaSxuLG8pe3JldHVybiBmdW5jdGlvbigpe2ModCxlLGksbixvKX19ZnVuY3Rpb24gYyhlLGksbixvLHMpe3RyeXtlLnN0YXJ0RG9jJiYwPT1uJiZlLnN0YXJ0RG9jKHMpO2Zvcih2YXIgYSxyLGwsaD1uLGM9aS5sZW5ndGg7Yz5oOyl7dmFyIHA9aVtoKytdLF89aVtoXTtzd2l0Y2gocCl7Y2FzZSImIjpCLnRlc3QoXyk/KGUucGNkYXRhJiZlLnBjZGF0YSgiJiIrXyxzLFYsdShlLGksaCxvLHMpKSxoKyspOmUucGNkYXRhJiZlLnBjZGF0YSgiJmFtcDsiLHMsVix1KGUsaSxoLG8scykpO2JyZWFrO2Nhc2UiPC8iOihhPS9eKFstXHc6XSspW15cJ1wiXSovLmV4ZWMoXykpP2FbMF0ubGVuZ3RoPT09Xy5sZW5ndGgmJiI+Ij09PWlbaCsxXT8oaCs9MixsPWFbMV0udG9Mb3dlckNhc2UoKSxlLmVuZFRhZyYmZS5lbmRUYWcobCxzLFYsdShlLGksaCxvLHMpKSk6aD1kKGksaCxlLHMsVixvKTplLnBjZGF0YSYmZS5wY2RhdGEoIiZsdDsvIixzLFYsdShlLGksaCxvLHMpKTticmVhaztjYXNlIjwiOmlmKGE9L14oWy1cdzpdKylccypcLz8vLmV4ZWMoXykpaWYoYVswXS5sZW5ndGg9PT1fLmxlbmd0aCYmIj4iPT09aVtoKzFdKXtoKz0yLGw9YVsxXS50b0xvd2VyQ2FzZSgpLGUuc3RhcnRUYWcmJmUuc3RhcnRUYWcobCxbXSxzLFYsdShlLGksaCxvLHMpKTt2YXIgZz10LkVMRU1FTlRTW2xdO2lmKGcmcSl7dmFyIHY9e25hbWU6bCxuZXh0OmgsZWZsYWdzOmd9O2g9ZihpLHYsZSxzLFYsbyl9fWVsc2UgaD1tKGksaCxlLHMsVixvKTtlbHNlIGUucGNkYXRhJiZlLnBjZGF0YSgiJmx0OyIscyxWLHUoZSxpLGgsbyxzKSk7YnJlYWs7Y2FzZSI8IS0tIjppZighby5ub01vcmVFbmRDb21tZW50cyl7Zm9yKHI9aCsxO2M+ciYmKCI+IiE9PWlbcl18fCEvLS0kLy50ZXN0KGlbci0xXSkpO3IrKyk7aWYoYz5yKXtpZihlLmNvbW1lbnQpe3ZhciB5PWkuc2xpY2UoaCxyKS5qb2luKCIiKTtlLmNvbW1lbnQoeS5zdWJzdHIoMCx5Lmxlbmd0aC0yKSxzLFYsdShlLGkscisxLG8scykpfWg9cisxfWVsc2Ugby5ub01vcmVFbmRDb21tZW50cz0hMH1vLm5vTW9yZUVuZENvbW1lbnRzJiZlLnBjZGF0YSYmZS5wY2RhdGEoIiZsdDshLS0iLHMsVix1KGUsaSxoLG8scykpO2JyZWFrO2Nhc2UiPCEiOmlmKC9eXHcvLnRlc3QoXykpe2lmKCFvLm5vTW9yZUdUKXtmb3Iocj1oKzE7Yz5yJiYiPiIhPT1pW3JdO3IrKyk7Yz5yP2g9cisxOm8ubm9Nb3JlR1Q9ITB9by5ub01vcmVHVCYmZS5wY2RhdGEmJmUucGNkYXRhKCImbHQ7ISIscyxWLHUoZSxpLGgsbyxzKSl9ZWxzZSBlLnBjZGF0YSYmZS5wY2RhdGEoIiZsdDshIixzLFYsdShlLGksaCxvLHMpKTsKYnJlYWs7Y2FzZSI8PyI6aWYoIW8ubm9Nb3JlR1Qpe2ZvcihyPWgrMTtjPnImJiI+IiE9PWlbcl07cisrKTtjPnI/aD1yKzE6by5ub01vcmVHVD0hMH1vLm5vTW9yZUdUJiZlLnBjZGF0YSYmZS5wY2RhdGEoIiZsdDs/IixzLFYsdShlLGksaCxvLHMpKTticmVhaztjYXNlIj4iOmUucGNkYXRhJiZlLnBjZGF0YSgiJmd0OyIscyxWLHUoZSxpLGgsbyxzKSk7YnJlYWs7Y2FzZSIiOmJyZWFrO2RlZmF1bHQ6ZS5wY2RhdGEmJmUucGNkYXRhKHAscyxWLHUoZSxpLGgsbyxzKSl9fWUuZW5kRG9jJiZlLmVuZERvYyhzKX1jYXRjaChMKXtpZihMIT09Vil0aHJvdyBMfX1mdW5jdGlvbiBwKHQpe3ZhciBlPS8oPFwvfDxcIS0tfDxbIT9dfFsmPD5dKS9nO2lmKHQrPSIiLEcpcmV0dXJuIHQuc3BsaXQoZSk7Zm9yKHZhciBpLG49W10sbz0wO251bGwhPT0oaT1lLmV4ZWModCkpOyluLnB1c2godC5zdWJzdHJpbmcobyxpLmluZGV4KSksbi5wdXNoKGlbMF0pLG89aS5pbmRleCtpWzBdLmxlbmd0aDtyZXR1cm4gbi5wdXNoKHQuc3Vic3RyaW5nKG8pKSxufWZ1bmN0aW9uIGQodCxlLGksbixvLHMpe3ZhciBhPV8odCxlKTtyZXR1cm4gYT8oaS5lbmRUYWcmJmkuZW5kVGFnKGEubmFtZSxuLG8sdShpLHQsZSxzLG4pKSxhLm5leHQpOnQubGVuZ3RofWZ1bmN0aW9uIG0odCxlLGksbixvLHMpe3ZhciBhPV8odCxlKTtyZXR1cm4gYT8oaS5zdGFydFRhZyYmaS5zdGFydFRhZyhhLm5hbWUsYS5hdHRycyxuLG8sdShpLHQsYS5uZXh0LHMsbikpLGEuZWZsYWdzJnE/Zih0LGEsaSxuLG8scyk6YS5uZXh0KTp0Lmxlbmd0aH1mdW5jdGlvbiBmKGUsaSxuLG8scyxhKXt2YXIgbD1lLmxlbmd0aDtKLmhhc093blByb3BlcnR5KGkubmFtZSl8fChKW2kubmFtZV09bmV3IFJlZ0V4cCgiXiIraS5uYW1lKyIoPzpbXFxzXFwvXXwkKSIsImkiKSk7Zm9yKHZhciBoPUpbaS5uYW1lXSxjPWkubmV4dCxwPWkubmV4dCsxO2w+cCYmKCI8LyIhPT1lW3AtMV18fCFoLnRlc3QoZVtwXSkpO3ArKyk7bD5wJiYocC09MSk7dmFyIGQ9ZS5zbGljZShjLHApLmpvaW4oIiIpO2lmKGkuZWZsYWdzJnQuZWZsYWdzLkNEQVRBKW4uY2RhdGEmJm4uY2RhdGEoZCxvLHMsdShuLGUscCxhLG8pKTtlbHNle2lmKCEoaS5lZmxhZ3MmdC5lZmxhZ3MuUkNEQVRBKSl0aHJvdyBuZXcgRXJyb3IoImJ1ZyIpO24ucmNkYXRhJiZuLnJjZGF0YShyKGQpLG8scyx1KG4sZSxwLGEsbykpfXJldHVybiBwfWZ1bmN0aW9uIF8oZSxpKXt2YXIgbj0vXihbLVx3Ol0rKS8uZXhlYyhlW2ldKSxvPXt9O28ubmFtZT1uWzFdLnRvTG93ZXJDYXNlKCksby5lZmxhZ3M9dC5FTEVNRU5UU1tvLm5hbWVdO2Zvcih2YXIgcz1lW2ldLnN1YnN0cihuWzBdLmxlbmd0aCksYT1pKzEscj1lLmxlbmd0aDtyPmEmJiI+IiE9PWVbYV07YSsrKXMrPWVbYV07aWYoYT49cilyZXR1cm4gdm9pZCAwO2Zvcih2YXIgbD1bXTsiIiE9PXM7KWlmKG49Vy5leGVjKHMpKXtpZihuWzRdJiYhbls1XXx8bls2XSYmIW5bN10pe2Zvcih2YXIgaD1uWzRdfHxuWzZdLHU9ITEsYz1bcyxlW2ErK11dO3I+YTthKyspe2lmKHUpe2lmKCI+Ij09PWVbYV0pYnJlYWt9ZWxzZSAwPD1lW2FdLmluZGV4T2YoaCkmJih1PSEwKTtjLnB1c2goZVthXSl9aWYoYT49cilicmVhaztzPWMuam9pbigiIik7Y29udGludWV9dmFyIHA9blsxXS50b0xvd2VyQ2FzZSgpLGQ9blsyXT9nKG5bM10pOiIiO2wucHVzaChwLGQpLHM9cy5zdWJzdHIoblswXS5sZW5ndGgpfWVsc2Ugcz1zLnJlcGxhY2UoL15bXHNcU11bXmEtelxzXSovLCIiKTtyZXR1cm4gby5hdHRycz1sLG8ubmV4dD1hKzEsb31mdW5jdGlvbiBnKHQpe3ZhciBlPXQuY2hhckNvZGVBdCgwKTtyZXR1cm4oMzQ9PT1lfHwzOT09PWUpJiYodD10LnN1YnN0cigxLHQubGVuZ3RoLTIpKSxzKG8odCkpfWZ1bmN0aW9uIHYoZSl7dmFyIGksbixvPWZ1bmN0aW9uKHQsZSl7bnx8ZS5wdXNoKHQpfTtyZXR1cm4gbCh7c3RhcnREb2M6ZnVuY3Rpb24oKXtpPVtdLG49ITF9LHN0YXJ0VGFnOmZ1bmN0aW9uKG8scyxyKXtpZighbiYmdC5FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eShvKSl7dmFyIGw9dC5FTEVNRU5UU1tvXTtpZighKGwmdC5lZmxhZ3MuRk9MREFCTEUpKXt2YXIgaD1lKG8scyk7aWYoIWgpcmV0dXJuIG49IShsJnQuZWZsYWdzLkVNUFRZKSx2b2lkIDA7aWYoIm9iamVjdCIhPXR5cGVvZiBoKXRocm93IG5ldyBFcnJvcigidGFnUG9saWN5IGRpZCBub3QgcmV0dXJuIG9iamVjdCAob2xkIEFQST8pIik7aWYoISgiYXR0cmlicyJpbiBoKSl0aHJvdyBuZXcgRXJyb3IoInRhZ1BvbGljeSBnYXZlIG5vIGF0dHJpYnMiKTtzPWguYXR0cmliczt2YXIgdSxjO2lmKCJ0YWdOYW1lImluIGg/KGM9aC50YWdOYW1lLHU9dC5FTEVNRU5UU1tjXSk6KGM9byx1PWwpLGwmdC5lZmxhZ3MuT1BUSU9OQUxfRU5EVEFHKXt2YXIgcD1pW2kubGVuZ3RoLTFdOyFwfHxwLm9yaWchPT1vfHxwLnJlcD09PWMmJm89PT1jfHxyLnB1c2goIjwvIixwLnJlcCwiPiIpfWwmdC5lZmxhZ3MuRU1QVFl8fGkucHVzaCh7b3JpZzpvLHJlcDpjfSksci5wdXNoKCI8IixjKTtmb3IodmFyIGQ9MCxtPXMubGVuZ3RoO20+ZDtkKz0yKXt2YXIgZj1zW2RdLF89c1tkKzFdO251bGwhPT1fJiZ2b2lkIDAhPT1fJiZyLnB1c2goIiAiLGYsJz0iJyxhKF8pLCciJyl9ci5wdXNoKCI+IiksbCZ0LmVmbGFncy5FTVBUWSYmISh1JnQuZWZsYWdzLkVNUFRZKSYmci5wdXNoKCI8LyIsYywiPiIpfX19LGVuZFRhZzpmdW5jdGlvbihlLG8pe2lmKG4pcmV0dXJuIG49ITEsdm9pZCAwO2lmKHQuRUxFTUVOVFMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBzPXQuRUxFTUVOVFNbZV07aWYoIShzJih0LmVmbGFncy5FTVBUWXx0LmVmbGFncy5GT0xEQUJMRSkpKXt2YXIgYTtpZihzJnQuZWZsYWdzLk9QVElPTkFMX0VORFRBRylmb3IoYT1pLmxlbmd0aDstLWE+PTA7KXt2YXIgcj1pW2FdLm9yaWc7aWYocj09PWUpYnJlYWs7aWYoISh0LkVMRU1FTlRTW3JdJnQuZWZsYWdzLk9QVElPTkFMX0VORFRBRykpcmV0dXJufWVsc2UgZm9yKGE9aS5sZW5ndGg7LS1hPj0wJiZpW2FdLm9yaWchPT1lOyk7aWYoMD5hKXJldHVybjtmb3IodmFyIGw9aS5sZW5ndGg7LS1sPmE7KXt2YXIgaD1pW2xdLnJlcDt0LkVMRU1FTlRTW2hdJnQuZWZsYWdzLk9QVElPTkFMX0VORFRBR3x8by5wdXNoKCI8LyIsaCwiPiIpfWE8aS5sZW5ndGgmJihlPWlbYV0ucmVwKSxpLmxlbmd0aD1hLG8ucHVzaCgiPC8iLGUsIj4iKX19fSxwY2RhdGE6byxyY2RhdGE6byxjZGF0YTpvLGVuZERvYzpmdW5jdGlvbih0KXtmb3IoO2kubGVuZ3RoO2kubGVuZ3RoLS0pdC5wdXNoKCI8LyIsaVtpLmxlbmd0aC0xXS5yZXAsIj4iKX19KX1mdW5jdGlvbiB5KHQsZSxuLG8scyl7aWYoIXMpcmV0dXJuIG51bGw7dHJ5e3ZhciBhPWkucGFyc2UoIiIrdCk7aWYoYSYmKCFhLmhhc1NjaGVtZSgpfHxYLnRlc3QoYS5nZXRTY2hlbWUoKSkpKXt2YXIgcj1zKGEsZSxuLG8pO3JldHVybiByP3IudG9TdHJpbmcoKTpudWxsfX1jYXRjaChsKXtyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBMKHQsZSxpLG4sbyl7aWYoaXx8dChlKyIgcmVtb3ZlZCIse2NoYW5nZToicmVtb3ZlZCIsdGFnTmFtZTplfSksbiE9PW8pe3ZhciBzPSJjaGFuZ2VkIjtuJiYhbz9zPSJyZW1vdmVkIjohbiYmbyYmKHM9ImFkZGVkIiksdChlKyIuIitpKyIgIitzLHtjaGFuZ2U6cyx0YWdOYW1lOmUsYXR0cmliTmFtZTppLG9sZFZhbHVlOm4sbmV3VmFsdWU6b30pfX1mdW5jdGlvbiBiKHQsZSxpKXt2YXIgbjtyZXR1cm4gbj1lKyI6OiIraSx0Lmhhc093blByb3BlcnR5KG4pP3Rbbl06KG49Iio6OiIraSx0Lmhhc093blByb3BlcnR5KG4pP3Rbbl06dm9pZCAwKX1mdW5jdGlvbiBQKGUsaSl7cmV0dXJuIGIodC5MT0FERVJUWVBFUyxlLGkpfWZ1bmN0aW9uIFQoZSxpKXtyZXR1cm4gYih0LlVSSUVGRkVDVFMsZSxpKX1mdW5jdGlvbiBFKGUsaSxuLG8scyl7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKz0yKXt2YXIgcixsPWlbYV0saD1pW2ErMV0sdT1oLGM9bnVsbDtpZihyPWUrIjo6IitsLCh0LkFUVFJJQlMuaGFzT3duUHJvcGVydHkocil8fChyPSIqOjoiK2wsdC5BVFRSSUJTLmhhc093blByb3BlcnR5KHIpKSkmJihjPXQuQVRUUklCU1tyXSksbnVsbCE9PWMpc3dpdGNoKGMpe2Nhc2UgdC5hdHlwZS5OT05FOmJyZWFrO2Nhc2UgdC5hdHlwZS5TQ1JJUFQ6aD1udWxsLHMmJkwocyxlLGwsdSxoKTticmVhaztjYXNlIHQuYXR5cGUuU1RZTEU6aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBNKXtoPW51bGwscyYmTChzLGUsbCx1LGgpO2JyZWFrfXZhciBwPVtdO00oaCx7ZGVjbGFyYXRpb246ZnVuY3Rpb24oZSxpKXt2YXIgbz1lLnRvTG93ZXJDYXNlKCkscz1TW29dO3MmJihEKG8scyxpLG4/ZnVuY3Rpb24oZSl7cmV0dXJuIHkoZSx0LnVlZmZlY3RzLlNBTUVfRE9DVU1FTlQsdC5sdHlwZXMuU0FOREJPWEVELHtUWVBFOiJDU1MiLENTU19QUk9QOm99LG4pfTpudWxsKSxwLnB1c2goZSsiOiAiK2kuam9pbigiICIpKSl9fSksaD1wLmxlbmd0aD4wP3Auam9pbigiIDsgIik6bnVsbCxzJiZMKHMsZSxsLHUsaCk7YnJlYWs7Y2FzZSB0LmF0eXBlLklEOmNhc2UgdC5hdHlwZS5JRFJFRjpjYXNlIHQuYXR5cGUuSURSRUZTOmNhc2UgdC5hdHlwZS5HTE9CQUxfTkFNRTpjYXNlIHQuYXR5cGUuTE9DQUxfTkFNRTpjYXNlIHQuYXR5cGUuQ0xBU1NFUzpoPW8/byhoKTpoLHMmJkwocyxlLGwsdSxoKTticmVhaztjYXNlIHQuYXR5cGUuVVJJOmg9eShoLFQoZSxsKSxQKGUsbCkse1RZUEU6Ik1BUktVUCIsWE1MX0FUVFI6bCxYTUxfVEFHOmV9LG4pLHMmJkwocyxlLGwsdSxoKTticmVhaztjYXNlIHQuYXR5cGUuVVJJX0ZSQUdNRU5UOmgmJiIjIj09PWguY2hhckF0KDApPyhoPWguc3Vic3RyaW5nKDEpLGg9bz9vKGgpOmgsbnVsbCE9PWgmJnZvaWQgMCE9PWgmJihoPSIjIitoKSk6aD1udWxsLHMmJkwocyxlLGwsdSxoKTticmVhaztkZWZhdWx0Omg9bnVsbCxzJiZMKHMsZSxsLHUsaCl9ZWxzZSBoPW51bGwscyYmTChzLGUsbCx1LGgpO2lbYSsxXT1ofXJldHVybiBpfWZ1bmN0aW9uIHgoZSxpLG4pe3JldHVybiBmdW5jdGlvbihvLHMpe3JldHVybiB0LkVMRU1FTlRTW29dJnQuZWZsYWdzLlVOU0FGRT8obiYmTChuLG8sdm9pZCAwLHZvaWQgMCx2b2lkIDApLHZvaWQgMCk6e2F0dHJpYnM6RShvLHMsZSxpLG4pfX19ZnVuY3Rpb24gdyh0LGUpe3ZhciBpPVtdO3JldHVybiB2KGUpKHQsaSksaS5qb2luKCIiKX1mdW5jdGlvbiBDKHQsZSxpLG4pe3ZhciBvPXgoZSxpLG4pO3JldHVybiB3KHQsbyl9dmFyIE0sRCxTOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYoTT13aW5kb3cucGFyc2VDc3NEZWNsYXJhdGlvbnMsRD13aW5kb3cuc2FuaXRpemVDc3NQcm9wZXJ0eSxTPXdpbmRvdy5jc3NTY2hlbWEpO3ZhciBrPXtsdDoiPCIsTFQ6IjwiLGd0OiI+IixHVDoiPiIsYW1wOiImIixBTVA6IiYiLHF1b3Q6JyInLGFwb3M6IiciLG5ic3A6ItCSwqAifSxBPS9eIyhcZCspJC8sTz0vXiN4KFswLTlBLUZhLWZdKykkLyxVPS9eW0EtWmEtel1bQS16YS16MC05XSskLyxJPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuZG9jdW1lbnQ/d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik6bnVsbCxSPS9cMC9nLHo9LyYoI1swLTldK3wjW3hYXVswLTlBLUZhLWZdK3xcdyspOy9nLEI9L14oI1swLTldK3wjW3hYXVswLTlBLUZhLWZdK3xcdyspOy8sTj0vJi9nLEg9LyYoW15hLXojXXwjKD86W14wLTl4XXx4KD86W14wLTlhLWZdfCQpfCQpfCQpL2dpLGo9L1s8XS9nLFo9Lz4vZyxGPS9cIi9nLFc9bmV3IFJlZ0V4cCgiXlxccyooWy0uOlxcd10rKSg/OlxccyooPSlcXHMqKChcIilbXlwiXSooXCJ8JCl8KCcpW14nXSooJ3wkKXwoPz1bYS16XVstXFx3XSpcXHMqPSl8W15cIidcXHNdKikpPyIsImkiKSxHPTM9PT0iYSxiIi5zcGxpdCgvKCwpLykubGVuZ3RoLHE9dC5lZmxhZ3MuQ0RBVEF8dC5lZmxhZ3MuUkNEQVRBLFY9e30sSj17fSxYPS9eKD86aHR0cHM/fG1haWx0b3xkYXRhKSQvaSwkPXt9O3JldHVybiAkLmVzY2FwZUF0dHJpYj0kLmVzY2FwZUF0dHJpYj1hLCQubWFrZUh0bWxTYW5pdGl6ZXI9JC5tYWtlSHRtbFNhbml0aXplcj12LCQubWFrZVNheFBhcnNlcj0kLm1ha2VTYXhQYXJzZXI9bCwkLm1ha2VUYWdQb2xpY3k9JC5tYWtlVGFnUG9saWN5PXgsJC5ub3JtYWxpemVSQ0RhdGE9JC5ub3JtYWxpemVSQ0RhdGE9ciwkLnNhbml0aXplPSQuc2FuaXRpemU9QywkLnNhbml0aXplQXR0cmlicz0kLnNhbml0aXplQXR0cmlicz1FLCQuc2FuaXRpemVXaXRoUG9saWN5PSQuc2FuaXRpemVXaXRoUG9saWN5PXcsJC51bmVzY2FwZUVudGl0aWVzPSQudW5lc2NhcGVFbnRpdGllcz1zLCR9KG4pLHM9by5zYW5pdGl6ZTtuLkFUVFJJQlNbIio6OnN0eWxlIl09MCxuLkVMRU1FTlRTLnN0eWxlPTAsbi5BVFRSSUJTWyJhOjp0YXJnZXQiXT0wLG4uRUxFTUVOVFMudmlkZW89MCxuLkFUVFJJQlNbInZpZGVvOjpzcmMiXT0wLG4uQVRUUklCU1sidmlkZW86OnBvc3RlciJdPTAsbi5BVFRSSUJTWyJ2aWRlbzo6Y29udHJvbHMiXT0wLG4uRUxFTUVOVFMuYXVkaW89MCxuLkFUVFJJQlNbImF1ZGlvOjpzcmMiXT0wLG4uQVRUUklCU1sidmlkZW86OmF1dG9wbGF5Il09MCxuLkFUVFJJQlNbInZpZGVvOjpjb250cm9scyJdPTAsInVuZGVmaW5lZCIhPXR5cGVvZiBlJiYoZS5leHBvcnRzPXMpfSx7fV0sMTA6W2Z1bmN0aW9uKHQsZSl7ZS5leHBvcnRzPXthdXRob3I6Ik1hcGJveCIsbmFtZToibWFwYm94LmpzIixkZXNjcmlwdGlvbjoibWFwYm94IGphdmFzY3JpcHQgYXBpIix2ZXJzaW9uOiIxLjUuMSIsaG9tZXBhZ2U6Imh0dHA6Ly9tYXBib3guY29tLyIscmVwb3NpdG9yeTp7dHlwZToiZ2l0Iix1cmw6ImdpdDovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC5qcy5naXQifSxtYWluOiJpbmRleC5qcyIsZGVwZW5kZW5jaWVzOntsZWFmbGV0OiIwLjcuMSIsbXVzdGFjaGU6IjAuNy4zIixjb3JzbGl0ZToiMC4wLjUiLGpzb24zOiJnaXQ6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2pzb24zLmdpdCN2My4yLjVhIiwic2FuaXRpemUtY2FqYSI6IjAuMC4wIiwibGVhZmxldC1oYXNoIjoifjAuMi4xIn0sc2NyaXB0czp7dGVzdDoianNoaW50IHNyYy8qLmpzICYmIG1vY2hhLXBoYW50b21qcyB0ZXN0L2luZGV4Lmh0bWwifSxkZXZEZXBlbmRlbmNpZXM6eyJsZWFmbGV0LWhhc2giOiJnaXQ6Ly9naXRodWIuY29tL21sZXZhbnMvbGVhZmxldC1oYXNoLmdpdCNiMDM5YTNhYTRlMjQ5MmE1Yzc0NDgwNzUxNzJhYzI2NzY5ZTYwMWQ2IiwibGVhZmxldC1mdWxsc2NyZWVuIjoiMC4wLjAiLCJ1Z2xpZnktanMiOiIyLjQuMyIsbW9jaGE6IjEuMTQuMCIsImV4cGVjdC5qcyI6IjAuMi4wIixzaW5vbjoiMS43LjMiLCJtb2NoYS1waGFudG9tanMiOiIzLjEuNiIsaGFwcGVuOiIwLjEuMyIsYnJvd3NlcmlmeToiMi4zNS40Iixqc2hpbnQ6IjIuMy4wIn0sb3B0aW9uYWxEZXBlbmRlbmNpZXM6e30sZW5naW5lczp7bm9kZToiKiJ9fX0se31dLDExOltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e0hUVFBfVVJMUzpbImh0dHA6Ly9hLnRpbGVzLm1hcGJveC5jb20vdjMvIiwiaHR0cDovL2IudGlsZXMubWFwYm94LmNvbS92My8iLCJodHRwOi8vYy50aWxlcy5tYXBib3guY29tL3YzLyIsImh0dHA6Ly9kLnRpbGVzLm1hcGJveC5jb20vdjMvIl0sRk9SQ0VfSFRUUFM6ITEsSFRUUFNfVVJMUzpbImh0dHBzOi8vYS50aWxlcy5tYXBib3guY29tL3YzLyIsImh0dHBzOi8vYi50aWxlcy5tYXBib3guY29tL3YzLyIsImh0dHBzOi8vYy50aWxlcy5tYXBib3guY29tL3YzLyIsImh0dHBzOi8vZC50aWxlcy5tYXBib3guY29tL3YzLyJdfX0se31dLDEyOltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT10KCIuL3V0aWwiKSxuPXQoIi4vdXJsIiksbz10KCIuL3JlcXVlc3QiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUscz17fTtyZXR1cm4gcy5nZXRVUkw9ZnVuY3Rpb24oKXtyZXR1cm4gZX0scy5zZXRVUkw9ZnVuY3Rpb24odCl7cmV0dXJuIGU9bi5qc29uaWZ5KHQpLHN9LHMuc2V0SUQ9ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaWN0KHQsInN0cmluZyIpLHMuc2V0VVJMKG4uYmFzZSgpK3QrIi9nZW9jb2RlL3txdWVyeX0uanNvbiIpLHN9LHMuc2V0VGlsZUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaWN0KHQsIm9iamVjdCIpLHMuc2V0VVJMKHQuZ2VvY29kZXIpLHN9LHMucXVlcnlVUkw9ZnVuY3Rpb24odCl7aWYoaS5zdHJpY3QodCwic3RyaW5nIiksIXMuZ2V0VVJMKCkpdGhyb3cgbmV3IEVycm9yKCJHZW9jb2RpbmcgbWFwIElEIG5vdCBzZXQiKTtyZXR1cm4gTC5VdGlsLnRlbXBsYXRlKHMuZ2V0VVJMKCkse3F1ZXJ5OmVuY29kZVVSSUNvbXBvbmVudCh0KX0pfSxzLnF1ZXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuc3RyaWN0KHQsInN0cmluZyIpLGkuc3RyaWN0KGUsImZ1bmN0aW9uIiksbyhzLnF1ZXJ5VVJMKHQpLGZ1bmN0aW9uKHQsbil7aWYobiYmbi5yZXN1bHRzJiZuLnJlc3VsdHMubGVuZ3RoKXt2YXIgbz17cmVzdWx0czpuLnJlc3VsdHMsbGF0bG5nOltuLnJlc3VsdHNbMF1bMF0ubGF0LG4ucmVzdWx0c1swXVswXS5sb25dfTt2b2lkIDAhPT1uLnJlc3VsdHNbMF1bMF0uYm91bmRzJiYoby5ib3VuZHM9bi5yZXN1bHRzWzBdWzBdLmJvdW5kcyxvLmxib3VuZHM9aS5sYm91bmRzKG8uYm91bmRzKSksZShudWxsLG8pfWVsc2UgZSh0fHwhMCl9KSxzfSxzLnJldmVyc2VRdWVyeT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIHZvaWQgMCE9PXQubGF0JiZ2b2lkIDAhPT10LmxuZz90LmxuZysiLCIrdC5sYXQ6dm9pZCAwIT09dC5sYXQmJnZvaWQgMCE9PXQubG9uP3QubG9uKyIsIit0LmxhdDp0WzBdKyIsIit0WzFdfXZhciBuPSIiO2lmKHQubGVuZ3RoJiZ0WzBdLmxlbmd0aCl7Zm9yKHZhciBhPTAscj1bXTthPHQubGVuZ3RoO2ErKylyLnB1c2goaSh0W2FdKSk7bj1yLmpvaW4oIjsiKX1lbHNlIG49aSh0KTtyZXR1cm4gbyhzLnF1ZXJ5VVJMKG4pLGZ1bmN0aW9uKHQsaSl7ZSh0LGkpfSksc30sInN0cmluZyI9PXR5cGVvZiB0Py0xPT10LmluZGV4T2YoIi8iKT9zLnNldElEKHQpOnMuc2V0VVJMKHQpOiJvYmplY3QiPT10eXBlb2YgdCYmcy5zZXRUaWxlSlNPTih0KSxzfX0seyIuL3JlcXVlc3QiOjIzLCIuL3VybCI6MjYsIi4vdXRpbCI6Mjd9XSwxMzpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9nZW9jb2RlciIpLG49TC5Db250cm9sLmV4dGVuZCh7aW5jbHVkZXM6TC5NaXhpbi5FdmVudHMsb3B0aW9uczp7cG9zaXRpb246InRvcGxlZnQiLGtlZXBPcGVuOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7TC5VdGlsLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLmdlb2NvZGVyPWkodCl9LHNldFVSTDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZW9jb2Rlci5zZXRVUkwodCksdGhpc30sZ2V0VVJMOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2VvY29kZXIuZ2V0VVJMKCl9LHNldElEOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdlb2NvZGVyLnNldElEKHQpLHRoaXN9LHNldFRpbGVKU09OOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdlb2NvZGVyLnNldFRpbGVKU09OKHQpLHRoaXN9LF90b2dnbGU6ZnVuY3Rpb24odCl7dCYmTC5Eb21FdmVudC5zdG9wKHQpLEwuRG9tVXRpbC5oYXNDbGFzcyh0aGlzLl9jb250YWluZXIsImFjdGl2ZSIpPyhMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9yZXN1bHRzLmlubmVySFRNTD0iIix0aGlzLl9pbnB1dC5ibHVyKCkpOihMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9pbnB1dC5mb2N1cygpLHRoaXMuX2lucHV0LnNlbGVjdCgpKX0sX2Nsb3NlSWZPcGVuOmZ1bmN0aW9uKCl7TC5Eb21VdGlsLmhhc0NsYXNzKHRoaXMuX2NvbnRhaW5lciwiYWN0aXZlIikmJiF0aGlzLm9wdGlvbnMua2VlcE9wZW4mJihMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9yZXN1bHRzLmlubmVySFRNTD0iIix0aGlzLl9pbnB1dC5ibHVyKCkpfSxvbkFkZDpmdW5jdGlvbih0KXt2YXIgZT1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtbWFwYm94LWdlb2NvZGVyIGxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbCIpLGk9TC5Eb21VdGlsLmNyZWF0ZSgiYSIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItdG9nZ2xlIG1hcGJveC1pY29uIG1hcGJveC1pY29uLWdlb2NvZGVyIixlKSxuPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItcmVzdWx0cyIsZSksbz1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtbWFwYm94LWdlb2NvZGVyLXdyYXAiLGUpLHM9TC5Eb21VdGlsLmNyZWF0ZSgiZm9ybSIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItZm9ybSIsbyksYT1MLkRvbVV0aWwuY3JlYXRlKCJpbnB1dCIsIiIscyk7cmV0dXJuIGkuaHJlZj0iIyIsaS5pbm5lckhUTUw9IiZuYnNwOyIsYS50eXBlPSJ0ZXh0IixhLnNldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiLCJTZWFyY2giKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKHMsInN1Ym1pdCIsdGhpcy5fZ2VvY29kZSx0aGlzKSxMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGUpLHRoaXMuX21hcD10LHRoaXMuX3Jlc3VsdHM9bix0aGlzLl9pbnB1dD1hLHRoaXMuX2Zvcm09cyx0aGlzLm9wdGlvbnMua2VlcE9wZW4/TC5Eb21VdGlsLmFkZENsYXNzKGUsImFjdGl2ZSIpOih0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9jbG9zZUlmT3Blbix0aGlzKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGksImNsaWNrIix0aGlzLl90b2dnbGUsdGhpcykpLGV9LF9nZW9jb2RlOmZ1bmN0aW9uKHQpe0wuRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwic2VhcmNoaW5nIik7dmFyIGU9dGhpcy5fbWFwLGk9TC5iaW5kKGZ1bmN0aW9uKHQsaSl7aWYoTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwic2VhcmNoaW5nIiksIXQmJmkmJmkucmVzdWx0cyYmaS5yZXN1bHRzLmxlbmd0aCl7aWYodGhpcy5fcmVzdWx0cy5pbm5lckhUTUw9IiIsMT09PWkucmVzdWx0cy5sZW5ndGgmJmkubGJvdW5kcyl0aGlzLl9tYXAuZml0Qm91bmRzKGkubGJvdW5kcyksdGhpcy5fY2xvc2VJZk9wZW4oKTtlbHNle2Zvcih2YXIgbj0wLG89TWF0aC5taW4oaS5yZXN1bHRzLmxlbmd0aCw1KTtvPm47bisrKXtmb3IodmFyIHM9W10sYT0wO2E8aS5yZXN1bHRzW25dLmxlbmd0aDthKyspaS5yZXN1bHRzW25dW2FdLm5hbWUmJnMucHVzaChpLnJlc3VsdHNbbl1bYV0ubmFtZSk7aWYocy5sZW5ndGgpe3ZhciByPUwuRG9tVXRpbC5jcmVhdGUoImEiLCIiLHRoaXMuX3Jlc3VsdHMpO3IuaW5uZXJIVE1MPXMuam9pbigiLCAiKSxyLmhyZWY9IiMiLGZ1bmN0aW9uKHQpe0wuRG9tRXZlbnQuYWRkTGlzdGVuZXIociwiY2xpY2siLGZ1bmN0aW9uKGkpe3ZhciBuPXRbMF0uYm91bmRzO2UuZml0Qm91bmRzKEwubGF0TG5nQm91bmRzKFtbblsxXSxuWzBdXSxbblszXSxuWzJdXV0pKSxMLkRvbUV2ZW50LnN0b3AoaSl9KX0oaS5yZXN1bHRzW25dKX19aWYoaS5yZXN1bHRzLmxlbmd0aD41KXt2YXIgbD1MLkRvbVV0aWwuY3JlYXRlKCJzcGFuIiwiIix0aGlzLl9yZXN1bHRzKTtsLmlubmVySFRNTD0iVG9wIDUgb2YgIitpLnJlc3VsdHMubGVuZ3RoKyIgIHJlc3VsdHMifX10aGlzLmZpcmUoImZvdW5kIixpKX1lbHNlIHRoaXMuZmlyZSgiZXJyb3IiLHtlcnJvcjp0fSl9LHRoaXMpO3RoaXMuZ2VvY29kZXIucXVlcnkodGhpcy5faW5wdXQudmFsdWUsaSl9fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuKHQsZSl9fSx7Ii4vZ2VvY29kZXIiOjEyfV0sMTQ6W2Z1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQ+PTkzJiZ0LS0sdD49MzUmJnQtLSx0LTMyfWUuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZih0KXt2YXIgbz1pKHQuZ3JpZFtuXS5jaGFyQ29kZUF0KGUpKSxzPXQua2V5c1tvXTtyZXR1cm4gdC5kYXRhW3NdfX19fSx7fV0sMTU6W2Z1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vdXRpbCIpLG49dCgibXVzdGFjaGUiKSxvPUwuQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bpbm5hYmxlOiEwLGZvbGxvdzohMSxzYW5pdGl6ZXI6dCgic2FuaXRpemUtY2FqYSIpLHRvdWNoVGVhc2VyOiEwLGxvY2F0aW9uOiEwfSxfY3VycmVudENvbnRlbnQ6IiIsX3Bpbm5lZDohMSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7TC5VdGlsLnNldE9wdGlvbnModGhpcyxlKSxpLnN0cmljdF9pbnN0YW5jZSh0LEwuQ2xhc3MsIkwubWFwYm94LmdyaWRMYXllciIpLHRoaXMuX2xheWVyPXR9LHNldFRlbXBsYXRlOmZ1bmN0aW9uKHQpe3JldHVybiBpLnN0cmljdCh0LCJzdHJpbmciKSx0aGlzLm9wdGlvbnMudGVtcGxhdGU9dCx0aGlzfSxfdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXtpZihlKXt2YXIgaT10aGlzLm9wdGlvbnMudGVtcGxhdGV8fHRoaXMuX2xheWVyLmdldFRpbGVKU09OKCkudGVtcGxhdGU7aWYoaSl7dmFyIG89e307cmV0dXJuIG9bIl9fIit0KyJfXyJdPSEwLHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIobi50b19odG1sKGksTC5leHRlbmQobyxlKSkpfX19LF9zaG93OmZ1bmN0aW9uKHQsZSl7dCE9PXRoaXMuX2N1cnJlbnRDb250ZW50JiYodGhpcy5fY3VycmVudENvbnRlbnQ9dCx0aGlzLm9wdGlvbnMuZm9sbG93Pyh0aGlzLl9wb3B1cC5zZXRDb250ZW50KHQpLnNldExhdExuZyhlLmxhdExuZyksdGhpcy5fbWFwLl9wb3B1cCE9PXRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5vcGVuT24odGhpcy5fbWFwKSk6KHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpcy5fY29udGVudFdyYXBwZXIuaW5uZXJIVE1MPXQpKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waW5uZWQ9ITEsdGhpcy5fY3VycmVudENvbnRlbnQ9IiIsdGhpcy5fbWFwLmNsb3NlUG9wdXAoKSx0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fY29udGVudFdyYXBwZXIuaW5uZXJIVE1MPSIiLEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsImNsb3NhYmxlIiksdGhpc30sX21vdXNlb3ZlcjpmdW5jdGlvbih0KXtpZih0LmRhdGE/TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcC5fY29udGFpbmVyLCJtYXAtY2xpY2thYmxlIik6TC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcC5fY29udGFpbmVyLCJtYXAtY2xpY2thYmxlIiksIXRoaXMuX3Bpbm5lZCl7dmFyIGU9dGhpcy5fdGVtcGxhdGUoInRlYXNlciIsdC5kYXRhKTtlP3RoaXMuX3Nob3coZSx0KTp0aGlzLmhpZGUoKX19LF9tb3VzZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy5fcGlubmVkfHx0aGlzLm9wdGlvbnMuZm9sbG93JiZ0aGlzLl9wb3B1cC5zZXRMYXRMbmcodC5sYXRMbmcpfSxfbmF2aWdhdGVUbzpmdW5jdGlvbih0KXt3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWY9dH0sX2NsaWNrOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RlbXBsYXRlKCJsb2NhdGlvbiIsdC5kYXRhKTtpZih0aGlzLm9wdGlvbnMubG9jYXRpb24mJmUmJjA9PT1lLnNlYXJjaCgvXmh0dHBzPzovKSlyZXR1cm4gdGhpcy5fbmF2aWdhdGVUbyh0aGlzLl90ZW1wbGF0ZSgibG9jYXRpb24iLHQuZGF0YSkpO2lmKHRoaXMub3B0aW9ucy5waW5uYWJsZSl7dmFyIGk9dGhpcy5fdGVtcGxhdGUoImZ1bGwiLHQuZGF0YSk7IWkmJnRoaXMub3B0aW9ucy50b3VjaFRlYXNlciYmTC5Ccm93c2VyLnRvdWNoJiYoaT10aGlzLl90ZW1wbGF0ZSgidGVhc2VyIix0LmRhdGEpKSxpPyhMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCJjbG9zYWJsZSIpLHRoaXMuX3Bpbm5lZD0hMCx0aGlzLl9zaG93KGksdCkpOnRoaXMuX3Bpbm5lZCYmKEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsImNsb3NhYmxlIiksdGhpcy5fcGlubmVkPSExLHRoaXMuaGlkZSgpKX19LF9vblBvcHVwQ2xvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50Q29udGVudD1udWxsLHRoaXMuX3Bpbm5lZD0hMX0sX2NyZWF0ZUNsb3NlYnV0dG9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9TC5Eb21VdGlsLmNyZWF0ZSgiYSIsImNsb3NlIix0KTtyZXR1cm4gaS5pbm5lckhUTUw9ImNsb3NlIixpLmhyZWY9IiMiLGkudGl0bGU9ImNsb3NlIixMLkRvbUV2ZW50Lm9uKGksImNsaWNrIixMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbikub24oaSwibW91c2Vkb3duIixMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbikub24oaSwiZGJsY2xpY2siLEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKS5vbihpLCJjbGljayIsTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCkub24oaSwiY2xpY2siLGUsdGhpcyksaX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQ7dmFyIGU9ImxlYWZsZXQtY29udHJvbC1ncmlkIG1hcC10b29sdGlwIixpPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsZSksbj1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJtYXAtdG9vbHRpcC1jb250ZW50Iik7cmV0dXJuIGkuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fY3JlYXRlQ2xvc2VidXR0b24oaSx0aGlzLmhpZGUpLGkuYXBwZW5kQ2hpbGQobiksdGhpcy5fY29udGVudFdyYXBwZXI9bix0aGlzLl9wb3B1cD1uZXcgTC5Qb3B1cCh7YXV0b1BhbjohMSxjbG9zZU9uQ2xpY2s6ITF9KSx0Lm9uKCJwb3B1cGNsb3NlIix0aGlzLl9vblBvcHVwQ2xvc2UsdGhpcyksTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihpKS5hZGRMaXN0ZW5lcihpLCJtb3VzZXdoZWVsIixMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbiksdGhpcy5fbGF5ZXIub24oIm1vdXNlb3ZlciIsdGhpcy5fbW91c2VvdmVyLHRoaXMpLm9uKCJtb3VzZW1vdmUiLHRoaXMuX21vdXNlbW92ZSx0aGlzKS5vbigiY2xpY2siLHRoaXMuX2NsaWNrLHRoaXMpLGl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKCJwb3B1cGNsb3NlIix0aGlzLl9vblBvcHVwQ2xvc2UsdGhpcyksdGhpcy5fbGF5ZXIub2ZmKCJtb3VzZW92ZXIiLHRoaXMuX21vdXNlb3Zlcix0aGlzKS5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fbW91c2Vtb3ZlLHRoaXMpLm9mZigiY2xpY2siLHRoaXMuX2NsaWNrLHRoaXMpfX0pO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbyh0LGUpfX0seyIuL3V0aWwiOjI3LG11c3RhY2hlOjcsInNhbml0aXplLWNhamEiOjh9XSwxNjpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi91dGlsIiksbj0odCgiLi91cmwiKSx0KCIuL3JlcXVlc3QiKSksbz10KCIuL2dyaWQiKSxzPUwuQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpbTC5NaXhpbi5FdmVudHMsdCgiLi9sb2FkX3RpbGVqc29uIildLG9wdGlvbnM6e3RlbXBsYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIiJ9fSxfbW91c2VPbjpudWxsLF90aWxlanNvbjp7fSxfY2FjaGU6e30saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe0wuVXRpbC5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5fbG9hZFRpbGVKU09OKHQpfSxfc2V0VGlsZUpTT046ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaWN0KHQsIm9iamVjdCIpLEwuZXh0ZW5kKHRoaXMub3B0aW9ucyx7Z3JpZHM6dC5ncmlkcyxtaW5ab29tOnQubWluem9vbSxtYXhab29tOnQubWF4em9vbSxib3VuZHM6dC5ib3VuZHMmJmkubGJvdW5kcyh0LmJvdW5kcyl9KSx0aGlzLl90aWxlanNvbj10LHRoaXMuX2NhY2hlPXt9LHRoaXMuX3VwZGF0ZSgpLHRoaXN9LGdldFRpbGVKU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbGVqc29ufSxhY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLl9tYXAmJnRoaXMub3B0aW9ucy5ncmlkcyYmdGhpcy5vcHRpb25zLmdyaWRzLmxlbmd0aCl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuX21hcC5vbigiY2xpY2siLHRoaXMuX2NsaWNrLHRoaXMpLm9uKCJtb3VzZW1vdmUiLHRoaXMuX21vdmUsdGhpcykub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZSx0aGlzKX0sb25SZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9tYXAub2ZmKCJjbGljayIsdGhpcy5fY2xpY2ssdGhpcykub2ZmKCJtb3VzZW1vdmUiLHRoaXMuX21vdmUsdGhpcykub2ZmKCJtb3ZlZW5kIix0aGlzLl91cGRhdGUsdGhpcyl9LGdldERhdGE6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmFjdGl2ZSgpKXt2YXIgaT10aGlzLl9tYXAsbj1pLnByb2plY3QodC53cmFwKCkpLG89MjU2LHM9NCxhPU1hdGguZmxvb3Iobi54L28pLHI9TWF0aC5mbG9vcihuLnkvbyksbD1pLm9wdGlvbnMuY3JzLnNjYWxlKGkuZ2V0Wm9vbSgpKS9vO3JldHVybiBhPShhK2wpJWwscj0ocitsKSVsLHRoaXMuX2dldFRpbGUoaS5nZXRab29tKCksYSxyLGZ1bmN0aW9uKHQpe3ZhciBpPU1hdGguZmxvb3IoKG4ueC1hKm8pL3MpLGw9TWF0aC5mbG9vcigobi55LXIqbykvcyk7ZSh0KGksbCkpfSksdGhpc319LF9jbGljazpmdW5jdGlvbih0KXt0aGlzLmdldERhdGEodC5sYXRsbmcsTC5iaW5kKGZ1bmN0aW9uKGUpe3RoaXMuZmlyZSgiY2xpY2siLHtsYXRMbmc6dC5sYXRsbmcsZGF0YTplfSl9LHRoaXMpKX0sX21vdmU6ZnVuY3Rpb24odCl7dGhpcy5nZXREYXRhKHQubGF0bG5nLEwuYmluZChmdW5jdGlvbihlKXtlIT09dGhpcy5fbW91c2VPbj8odGhpcy5fbW91c2VPbiYmdGhpcy5maXJlKCJtb3VzZW91dCIse2xhdExuZzp0LmxhdGxuZyxkYXRhOnRoaXMuX21vdXNlT259KSx0aGlzLmZpcmUoIm1vdXNlb3ZlciIse2xhdExuZzp0LmxhdGxuZyxkYXRhOmV9KSx0aGlzLl9tb3VzZU9uPWUpOnRoaXMuZmlyZSgibW91c2Vtb3ZlIix7bGF0TG5nOnQubGF0bG5nLGRhdGE6ZX0pfSx0aGlzKSl9LF9nZXRUaWxlVVJMOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5ncmlkcyxpPSh0LngrdC55KSVlLmxlbmd0aCxuPWVbaV07cmV0dXJuIEwuVXRpbC50ZW1wbGF0ZShuLHQpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUoKSl7dmFyIHQ9dGhpcy5fbWFwLmdldFBpeGVsQm91bmRzKCksZT10aGlzLl9tYXAuZ2V0Wm9vbSgpLGk9MjU2O2lmKCEoZT50aGlzLm9wdGlvbnMubWF4Wm9vbXx8ZTx0aGlzLm9wdGlvbnMubWluWm9vbSkpZm9yKHZhciBuPW5ldyBMLlBvaW50KE1hdGguZmxvb3IodC5taW4ueC9pKSxNYXRoLmZsb29yKHQubWluLnkvaSkpLG89bmV3IEwuUG9pbnQoTWF0aC5mbG9vcih0Lm1heC54L2kpLE1hdGguZmxvb3IodC5tYXgueS9pKSkscz10aGlzLl9tYXAub3B0aW9ucy5jcnMuc2NhbGUoZSkvaSxhPW4ueDthPD1vLng7YSsrKWZvcih2YXIgcj1uLnk7cjw9by55O3IrKyl7dmFyIGw9KGErcyklcyxoPShyK3MpJXM7dGhpcy5fZ2V0VGlsZShlLGwsaCl9fX0sX2dldFRpbGU6ZnVuY3Rpb24odCxlLGkscyl7dmFyIGE9dCsiXyIrZSsiXyIraSxyPUwucG9pbnQoZSxpKTtpZihyLno9dCx0aGlzLl90aWxlU2hvdWxkQmVMb2FkZWQocikpe2lmKGEgaW4gdGhpcy5fY2FjaGUpe2lmKCFzKXJldHVybjtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fY2FjaGVbYV0/cyh0aGlzLl9jYWNoZVthXSk6dGhpcy5fY2FjaGVbYV0ucHVzaChzKSx2b2lkIDB9dGhpcy5fY2FjaGVbYV09W10scyYmdGhpcy5fY2FjaGVbYV0ucHVzaChzKSxuKHRoaXMuX2dldFRpbGVVUkwociksTC5iaW5kKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fY2FjaGVbYV07dGhpcy5fY2FjaGVbYV09byhlKTtmb3IodmFyIG49MDtuPGkubGVuZ3RoOysrbilpW25dKHRoaXMuX2NhY2hlW2FdKX0sdGhpcykpfX0sX3RpbGVTaG91bGRCZUxvYWRlZDpmdW5jdGlvbih0KXtpZih0Lno+dGhpcy5vcHRpb25zLm1heFpvb218fHQuejx0aGlzLm9wdGlvbnMubWluWm9vbSlyZXR1cm4hMTtpZih0aGlzLm9wdGlvbnMuYm91bmRzKXt2YXIgZT0yNTYsaT10Lm11bHRpcGx5QnkoZSksbj1pLmFkZChuZXcgTC5Qb2ludChlLGUpKSxvPXRoaXMuX21hcC51bnByb2plY3QoaSkscz10aGlzLl9tYXAudW5wcm9qZWN0KG4pLGE9bmV3IEwuTGF0TG5nQm91bmRzKFtvLHNdKTtpZighdGhpcy5vcHRpb25zLmJvdW5kcy5pbnRlcnNlY3RzKGEpKXJldHVybiExfXJldHVybiEwfX0pO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcyh0LGUpfX0seyIuL2dyaWQiOjE0LCIuL2xvYWRfdGlsZWpzb24iOjE5LCIuL3JlcXVlc3QiOjIzLCIuL3VybCI6MjYsIi4vdXRpbCI6Mjd9XSwxNzpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9TC5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246ImJvdHRvbXJpZ2h0IixzYW5pdGl6ZXI6dCgic2FuaXRpemUtY2FqYSIpLGVkaXRMaW5rOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe0wuc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX2luZm89e319LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5lcj1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJtYXBib3gtY29udHJvbC1pbmZvIG1hcGJveC1zbWFsbCIpLHRoaXMuX2NvbnRlbnQ9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwLWluZm8tY29udGFpbmVyIix0aGlzLl9jb250YWluZXIpLCgiYm90dG9tcmlnaHQiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufHwidG9wcmlnaHQiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uKSYmKHRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUrPSIgbWFwYm94LWNvbnRyb2wtaW5mby1yaWdodCIpO3ZhciBlPUwuRG9tVXRpbC5jcmVhdGUoImEiLCJtYXBib3gtaW5mby10b2dnbGUgbWFwYm94LWljb24gbWFwYm94LWljb24taW5mbyIsdGhpcy5fY29udGFpbmVyKTtlLmhyZWY9IiMiLEwuRG9tRXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLHRoaXMuX3Nob3dJbmZvLHRoaXMpLEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odGhpcy5fY29udGFpbmVyKTtmb3IodmFyIGkgaW4gdC5fbGF5ZXJzKXQuX2xheWVyc1tpXS5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hZGRJbmZvKHQuX2xheWVyc1tpXS5nZXRBdHRyaWJ1dGlvbigpKTtyZXR1cm4gdC5vbigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJBZGQsdGhpcykub24oImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlLHRoaXMpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2NvbnRhaW5lcn0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoImxheWVyYWRkIix0aGlzLl9vbkxheWVyQWRkKS5vZmYoImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlKX0sYWRkSW5mbzpmdW5jdGlvbih0KXtyZXR1cm4gdD8odGhpcy5faW5mb1t0XXx8KHRoaXMuX2luZm9bdF09MCksdGhpcy5faW5mb1t0XSsrLHRoaXMuX3VwZGF0ZSgpKTp0aGlzfSxyZW1vdmVJbmZvOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLl9pbmZvW3RdJiZ0aGlzLl9pbmZvW3RdLS0sdGhpcy5fdXBkYXRlKCkpOnRoaXN9LF9zaG93SW5mbzpmdW5jdGlvbih0KXtyZXR1cm4gTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSx0aGlzLl9hY3RpdmU9PT0hMD90aGlzLl9oaWRlY29udGVudCgpOihMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9hY3RpdmU9ITAsdGhpcy5fdXBkYXRlKCksdm9pZCAwKX0sX2hpZGVjb250ZW50OmZ1bmN0aW9uKCl7dGhpcy5fY29udGVudC5pbm5lckhUTUw9IiIsdGhpcy5fYWN0aXZlPSExLEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsImFjdGl2ZSIpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX21hcClyZXR1cm4gdGhpczt0aGlzLl9jb250ZW50LmlubmVySFRNTD0iIjt2YXIgdD0ibm9uZSIsZT1bXTtmb3IodmFyIGkgaW4gdGhpcy5faW5mbyl0aGlzLl9pbmZvLmhhc093blByb3BlcnR5KGkpJiZ0aGlzLl9pbmZvW2ldJiYoZS5wdXNoKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoaSkpLHQ9ImJsb2NrIik7aWYodGhpcy5fY29udGVudC5pbm5lckhUTUwrPWUuam9pbigiIHwgIiksdGhpcy5vcHRpb25zLmVkaXRMaW5rJiYhTC5Ccm93c2VyLm1vYmlsZSl7dGhpcy5fY29udGVudC5pbm5lckhUTUwrPWUubGVuZ3RoPyIgfCAiOiIiO3ZhciBuPUwuRG9tVXRpbC5jcmVhdGUoImEiLCIiLHRoaXMuX2NvbnRlbnQpO24uaHJlZj0iIyIsbi5pbm5lckhUTUw9IkltcHJvdmUgdGhpcyBtYXAiLG4udGl0bGU9IkVkaXQgaW4gT3BlblN0cmVldE1hcCIsTC5Eb21FdmVudC5vbihuLCJjbGljayIsTC5iaW5kKHRoaXMuX29zbWxpbmssdGhpcyksdGhpcyl9cmV0dXJuIHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PXQsdGhpc30sX29zbWxpbms6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuZ2V0Q2VudGVyKCksZT10aGlzLl9tYXAuZ2V0Wm9vbSgpO3dpbmRvdy5vcGVuKCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2VkaXQ/em9vbT0iK2UrIiZsYXQ9Iit0LmxhdCsiJmxvbj0iK3QubG5nKX0sX29uTGF5ZXJBZGQ6ZnVuY3Rpb24odCl7dC5sYXllci5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hZGRJbmZvKHQubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSksIm9uImluIHQubGF5ZXImJnQubGF5ZXIuZ2V0QXR0cmlidXRpb24mJnQubGF5ZXIub24oInJlYWR5IixMLmJpbmQoZnVuY3Rpb24oKXt0aGlzLmFkZEluZm8odC5sYXllci5nZXRBdHRyaWJ1dGlvbigpKX0sdGhpcykpfSxfb25MYXllclJlbW92ZTpmdW5jdGlvbih0KXt0LmxheWVyLmdldEF0dHJpYnV0aW9uJiZ0aGlzLnJlbW92ZUluZm8odC5sYXllci5nZXRBdHRyaWJ1dGlvbigpKX19KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpKHQpfX0seyJzYW5pdGl6ZS1jYWphIjo4fV0sMTg6W2Z1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO3ZhciBpPUwuQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bvc2l0aW9uOiJib3R0b21yaWdodCIsc2FuaXRpemVyOnQoInNhbml0aXplLWNhamEiKX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtMLnNldE9wdGlvbnModGhpcyx0KSx0aGlzLl9sZWdlbmRzPXt9fSxvbkFkZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXI9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwLWxlZ2VuZHMgd2F4LWxlZ2VuZHMiKSxMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdXBkYXRlKCksdGhpcy5fY29udGFpbmVyfSxhZGRMZWdlbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHRoaXMuX2xlZ2VuZHNbdF18fCh0aGlzLl9sZWdlbmRzW3RdPTApLHRoaXMuX2xlZ2VuZHNbdF0rKyx0aGlzLl91cGRhdGUoKSk6dGhpc30scmVtb3ZlTGVnZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLl9sZWdlbmRzW3RdJiZ0aGlzLl9sZWdlbmRzW3RdLS0sdGhpcy5fdXBkYXRlKCkpOnRoaXN9LF91cGRhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5fbWFwKXJldHVybiB0aGlzO3RoaXMuX2NvbnRhaW5lci5pbm5lckhUTUw9IiI7dmFyIHQ9Im5vbmUiO2Zvcih2YXIgZSBpbiB0aGlzLl9sZWdlbmRzKWlmKHRoaXMuX2xlZ2VuZHMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuX2xlZ2VuZHNbZV0pe3ZhciBpPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsIm1hcC1sZWdlbmQgd2F4LWxlZ2VuZCIsdGhpcy5fY29udGFpbmVyKTtpLmlubmVySFRNTD10aGlzLm9wdGlvbnMuc2FuaXRpemVyKGUpLHQ9ImJsb2NrIn1yZXR1cm4gdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9dCx0aGlzfX0pO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkodCl9fSx7InNhbml0aXplLWNhamEiOjh9XSwxOTpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9yZXF1ZXN0Iiksbj10KCIuL3VybCIpLG89dCgiLi91dGlsIik7ZS5leHBvcnRzPXtfbG9hZFRpbGVKU09OOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdD8oLTE9PXQuaW5kZXhPZigiLyIpJiYodD1uLmJhc2UoKSt0KyIuanNvbiIpLGkobi5zZWN1cmVGbGFnKHQpLEwuYmluZChmdW5jdGlvbihlLGkpe2U/KG8ubG9nKCJjb3VsZCBub3QgbG9hZCBUaWxlSlNPTiBhdCAiK3QpLHRoaXMuZmlyZSgiZXJyb3IiLHtlcnJvcjplfSkpOmkmJih0aGlzLl9zZXRUaWxlSlNPTihpKSx0aGlzLmZpcmUoInJlYWR5IikpfSx0aGlzKSkpOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmdGhpcy5fc2V0VGlsZUpTT04odCl9fX0seyIuL3JlcXVlc3QiOjIzLCIuL3VybCI6MjYsIi4vdXRpbCI6Mjd9XSwyMDpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9KHQoIi4vdXRpbCIpLHQoIi4vdGlsZV9sYXllciIpKSxuPXQoIi4vbWFya2VyX2xheWVyIiksbz10KCIuL2dyaWRfbGF5ZXIiKSxzPXQoIi4vZ3JpZF9jb250cm9sIiksYT10KCIuL2luZm9fY29udHJvbCIpLHI9dCgiLi9zaGFyZV9jb250cm9sIiksbD10KCIuL2xlZ2VuZF9jb250cm9sIiksaD1MLk1hcC5leHRlbmQoe2luY2x1ZGVzOlt0KCIuL2xvYWRfdGlsZWpzb24iKV0sb3B0aW9uczp7dGlsZUxheWVyOnt9LG1hcmtlckxheWVyOnt9LGdyaWRMYXllcjp7fSxsZWdlbmRDb250cm9sOnt9LGdyaWRDb250cm9sOnt9LGluZm9Db250cm9sOnt9LGF0dHJpYnV0aW9uQ29udHJvbDohMSxzaGFyZUNvbnRyb2w6ITF9LF90aWxlanNvbjp7fSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxoKXtMLk1hcC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxoKSx0aGlzLmF0dHJpYnV0aW9uQ29udHJvbCYmdGhpcy5hdHRyaWJ1dGlvbkNvbnRyb2wuc2V0UHJlZml4KCIiKSx0aGlzLm9wdGlvbnMudGlsZUxheWVyJiYodGhpcy50aWxlTGF5ZXI9aSh2b2lkIDAsdGhpcy5vcHRpb25zLnRpbGVMYXllciksdGhpcy5hZGRMYXllcih0aGlzLnRpbGVMYXllcikpLHRoaXMub3B0aW9ucy5tYXJrZXJMYXllciYmKHRoaXMubWFya2VyTGF5ZXI9bih2b2lkIDAsdGhpcy5vcHRpb25zLm1hcmtlckxheWVyKSx0aGlzLmFkZExheWVyKHRoaXMubWFya2VyTGF5ZXIpKSx0aGlzLm9wdGlvbnMuZ3JpZExheWVyJiYodGhpcy5ncmlkTGF5ZXI9byh2b2lkIDAsdGhpcy5vcHRpb25zLmdyaWRMYXllciksdGhpcy5hZGRMYXllcih0aGlzLmdyaWRMYXllcikpLHRoaXMub3B0aW9ucy5ncmlkTGF5ZXImJnRoaXMub3B0aW9ucy5ncmlkQ29udHJvbCYmKHRoaXMuZ3JpZENvbnRyb2w9cyh0aGlzLmdyaWRMYXllcix0aGlzLm9wdGlvbnMuZ3JpZENvbnRyb2wpLHRoaXMuYWRkQ29udHJvbCh0aGlzLmdyaWRDb250cm9sKSksdGhpcy5vcHRpb25zLmluZm9Db250cm9sJiYodGhpcy5pbmZvQ29udHJvbD1hKHRoaXMub3B0aW9ucy5pbmZvQ29udHJvbCksdGhpcy5hZGRDb250cm9sKHRoaXMuaW5mb0NvbnRyb2wpKSx0aGlzLm9wdGlvbnMubGVnZW5kQ29udHJvbCYmKHRoaXMubGVnZW5kQ29udHJvbD1sKHRoaXMub3B0aW9ucy5sZWdlbmRDb250cm9sKSx0aGlzLmFkZENvbnRyb2wodGhpcy5sZWdlbmRDb250cm9sKSksdGhpcy5vcHRpb25zLnNoYXJlQ29udHJvbCYmKHRoaXMuc2hhcmVDb250cm9sPXIodGhpcy5vcHRpb25zLnNoYXJlQ29udHJvbCksdGhpcy5hZGRDb250cm9sKHRoaXMuc2hhcmVDb250cm9sKSksdGhpcy5fbG9hZFRpbGVKU09OKGUpfSxhZGRMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4ib24iaW4gdCYmdC5vbigicmVhZHkiLEwuYmluZChmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZUxheWVyKHQpfSx0aGlzKSksTC5NYXAucHJvdG90eXBlLmFkZExheWVyLmNhbGwodGhpcyx0KX0sX3NldFRpbGVKU09OOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aWxlanNvbj10LHRoaXMuX2luaXRpYWxpemUodCksdGhpc30sZ2V0VGlsZUpTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGlsZWpzb259LF9pbml0aWFsaXplOmZ1bmN0aW9uKHQpe2lmKHRoaXMudGlsZUxheWVyJiYodGhpcy50aWxlTGF5ZXIuX3NldFRpbGVKU09OKHQpLHRoaXMuX3VwZGF0ZUxheWVyKHRoaXMudGlsZUxheWVyKSksdGhpcy5tYXJrZXJMYXllciYmIXRoaXMubWFya2VyTGF5ZXIuZ2V0R2VvSlNPTigpJiZ0LmRhdGEmJnQuZGF0YVswXSYmdGhpcy5tYXJrZXJMYXllci5sb2FkVVJMKHQuZGF0YVswXSksdGhpcy5ncmlkTGF5ZXImJih0aGlzLmdyaWRMYXllci5fc2V0VGlsZUpTT04odCksdGhpcy5fdXBkYXRlTGF5ZXIodGhpcy5ncmlkTGF5ZXIpKSx0aGlzLmluZm9Db250cm9sJiZ0LmF0dHJpYnV0aW9uJiZ0aGlzLmluZm9Db250cm9sLmFkZEluZm8odC5hdHRyaWJ1dGlvbiksdGhpcy5sZWdlbmRDb250cm9sJiZ0LmxlZ2VuZCYmdGhpcy5sZWdlbmRDb250cm9sLmFkZExlZ2VuZCh0LmxlZ2VuZCksdGhpcy5zaGFyZUNvbnRyb2wmJnRoaXMuc2hhcmVDb250cm9sLl9zZXRUaWxlSlNPTih0KSwhdGhpcy5fbG9hZGVkKXt2YXIgZT10LmNlbnRlclsyXSxpPUwubGF0TG5nKHQuY2VudGVyWzFdLHQuY2VudGVyWzBdKTt0aGlzLnNldFZpZXcoaSxlKX19LF91cGRhdGVMYXllcjpmdW5jdGlvbih0KXt0Lm9wdGlvbnMmJih0aGlzLmluZm9Db250cm9sJiZ0aGlzLl9sb2FkZWQmJnRoaXMuaW5mb0NvbnRyb2wuYWRkSW5mbyh0Lm9wdGlvbnMuaW5mb0NvbnRyb2wpLEwuc3RhbXAodClpbiB0aGlzLl96b29tQm91bmRMYXllcnN8fCF0Lm9wdGlvbnMubWF4Wm9vbSYmIXQub3B0aW9ucy5taW5ab29tfHwodGhpcy5fem9vbUJvdW5kTGF5ZXJzW0wuc3RhbXAodCldPXQpLHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKSl9fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IGgodCxlLGkpfX0seyIuL2dyaWRfY29udHJvbCI6MTUsIi4vZ3JpZF9sYXllciI6MTYsIi4vaW5mb19jb250cm9sIjoxNywiLi9sZWdlbmRfY29udHJvbCI6MTgsIi4vbG9hZF90aWxlanNvbiI6MTksIi4vbWFya2VyX2xheWVyIjoyMiwiLi9zaGFyZV9jb250cm9sIjoyNCwiLi90aWxlX2xheWVyIjoyNSwiLi91dGlsIjoyN31dLDIxOltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKHQpe3Q9dHx8e307dmFyIGU9e3NtYWxsOlsyMCw1MF0sbWVkaXVtOlszMCw3MF0sbGFyZ2U6WzM1LDkwXX0saT10WyJtYXJrZXItc2l6ZSJdfHwibWVkaXVtIixuPXRbIm1hcmtlci1zeW1ib2wiXT8iLSIrdFsibWFya2VyLXN5bWJvbCJdOiIiLG89KHRbIm1hcmtlci1jb2xvciJdfHwiN2U3ZTdlIikucmVwbGFjZSgiIyIsIiIpO3JldHVybiBMLmljb24oe2ljb25Vcmw6cy5iYXNlKCkrIm1hcmtlci9waW4tIitpLmNoYXJBdCgwKStuKyIrIitvKyhMLkJyb3dzZXIucmV0aW5hPyJAMngiOiIiKSsiLnBuZyIsaWNvblNpemU6ZVtpXSxpY29uQW5jaG9yOltlW2ldWzBdLzIsZVtpXVsxXS8yXSxwb3B1cEFuY2hvcjpbMCwtZVtpXVsxXS8yXX0pfWZ1bmN0aW9uIG4odCxlKXtyZXR1cm4gTC5tYXJrZXIoZSx7aWNvbjppKHQucHJvcGVydGllcyksdGl0bGU6YS5zdHJpcF90YWdzKHIodC5wcm9wZXJ0aWVzJiZ0LnByb3BlcnRpZXMudGl0bGV8fCIiKSl9KX1mdW5jdGlvbiBvKHQsZSl7aWYoIXR8fCF0LnByb3BlcnRpZXMpcmV0dXJuIiI7dmFyIGk9IiI7cmV0dXJuIHQucHJvcGVydGllcy50aXRsZSYmKGkrPSc8ZGl2IGNsYXNzPSJtYXJrZXItdGl0bGUiPicrdC5wcm9wZXJ0aWVzLnRpdGxlKyI8L2Rpdj4iKSx0LnByb3BlcnRpZXMuZGVzY3JpcHRpb24mJihpKz0nPGRpdiBjbGFzcz0ibWFya2VyLWRlc2NyaXB0aW9uIj4nK3QucHJvcGVydGllcy5kZXNjcmlwdGlvbisiPC9kaXY+IiksKGV8fHIpKGkpfXZhciBzPXQoIi4vdXJsIiksYT10KCIuL3V0aWwiKSxyPXQoInNhbml0aXplLWNhamEiKTtlLmV4cG9ydHM9e2ljb246aSxzdHlsZTpuLGNyZWF0ZVBvcHVwOm99fSx7Ii4vdXJsIjoyNiwiLi91dGlsIjoyNywic2FuaXRpemUtY2FqYSI6OH1dLDIyOltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT10KCIuL3V0aWwiKSxuPXQoIi4vdXJsIiksbz10KCIuL3JlcXVlc3QiKSxzPXQoIi4vbWFya2VyIiksYT1MLkZlYXR1cmVHcm91cC5leHRlbmQoe29wdGlvbnM6e2ZpbHRlcjpmdW5jdGlvbigpe3JldHVybiEwfSxzYW5pdGl6ZXI6dCgic2FuaXRpemUtY2FqYSIpfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7TC5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5fbGF5ZXJzPXt9LCJzdHJpbmciPT10eXBlb2YgdD9pLmlkVXJsKHQsdGhpcyk6dCYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0aGlzLnNldEdlb0pTT04odCl9LHNldEdlb0pTT046ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dlb2pzb249dCx0aGlzLmNsZWFyTGF5ZXJzKCksdGhpcy5faW5pdGlhbGl6ZSh0KSx0aGlzfSxnZXRHZW9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb2pzb259LGxvYWRVUkw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlcXVlc3QmJiJhYm9ydCJpbiB0aGlzLl9yZXF1ZXN0JiZ0aGlzLl9yZXF1ZXN0LmFib3J0KCksdD1uLmpzb25pZnkodCksdGhpcy5fcmVxdWVzdD1vKHQsTC5iaW5kKGZ1bmN0aW9uKGUsbil7dGhpcy5fcmVxdWVzdD1udWxsLGUmJiJhYm9ydCIhPT1lLnR5cGU/KGkubG9nKCJjb3VsZCBub3QgbG9hZCBtYXJrZXJzIGF0ICIrdCksdGhpcy5maXJlKCJlcnJvciIse2Vycm9yOmV9KSk6biYmKHRoaXMuc2V0R2VvSlNPTihuKSx0aGlzLmZpcmUoInJlYWR5IikpfSx0aGlzKSksdGhpc30sbG9hZElEOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvYWRVUkwobi5iYXNlKCkrdCsiL21hcmtlcnMuZ2VvanNvbiIpfSxzZXRGaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5maWx0ZXI9dCx0aGlzLl9nZW9qc29uJiYodGhpcy5jbGVhckxheWVycygpLHRoaXMuX2luaXRpYWxpemUodGhpcy5fZ2VvanNvbikpLHRoaXN9LGdldEZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyfSxfaW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt2YXIgZSxpLG49TC5VdGlsLmlzQXJyYXkodCk/dDp0LmZlYXR1cmVzO2lmKG4pZm9yKGU9MCxpPW4ubGVuZ3RoO2k+ZTtlKyspKG5bZV0uZ2VvbWV0cmllc3x8bltlXS5nZW9tZXRyeXx8bltlXS5mZWF0dXJlcykmJnRoaXMuX2luaXRpYWxpemUobltlXSk7ZWxzZSBpZih0aGlzLm9wdGlvbnMuZmlsdGVyKHQpKXt2YXIgbz1MLkdlb0pTT04uZ2VvbWV0cnlUb0xheWVyKHQscy5zdHlsZSksYT1zLmNyZWF0ZVBvcHVwKHQsdGhpcy5vcHRpb25zLnNhbml0aXplcik7by5mZWF0dXJlPXQsYSYmby5iaW5kUG9wdXAoYSx7Y2xvc2VCdXR0b246ITF9KSx0aGlzLmFkZExheWVyKG8pfX19KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGEodCxlKX19LHsiLi9tYXJrZXIiOjIxLCIuL3JlcXVlc3QiOjIzLCIuL3VybCI6MjYsIi4vdXRpbCI6MjcsInNhbml0aXplLWNhamEiOjh9XSwyMzpbZnVuY3Rpb24odCxlKXt2YXIgaT10KCJjb3JzbGl0ZSIpLG49dCgianNvbjMiKSxvPXQoIi4vdXRpbCIpLnN0cmljdDtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcyh0LGkpeyF0JiZpJiYoaT0iZyI9PWkucmVzcG9uc2VUZXh0WzBdP24ucGFyc2UoaS5yZXNwb25zZVRleHQuc3Vic3RyaW5nKDUsaS5yZXNwb25zZVRleHQubGVuZ3RoLTIpKTpuLnBhcnNlKGkucmVzcG9uc2VUZXh0KSksZSh0LGkpfXJldHVybiBvKHQsInN0cmluZyIpLG8oZSwiZnVuY3Rpb24iKSxpKHQscyl9fSx7Ii4vdXRpbCI6MjcsY29yc2xpdGU6NCxqc29uMzo1fV0sMjQ6W2Z1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vdXJsIiksbj1MLkNvbnRyb2wuZXh0ZW5kKHtpbmNsdWRlczpbdCgiLi9sb2FkX3RpbGVqc29uIildLG9wdGlvbnM6e3Bvc2l0aW9uOiJ0b3BsZWZ0Iix1cmw6IiJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtMLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLl9sb2FkVGlsZUpTT04odCl9LF9zZXRUaWxlSlNPTjpmdW5jdGlvbih0KXt0aGlzLl90aWxlanNvbj10fSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl91cmw9aTt2YXIgZT1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtbWFwYm94LXNoYXJlIGxlYWZsZXQtYmFyIiksbj1MLkRvbVV0aWwuY3JlYXRlKCJhIiwibWFwYm94LXNoYXJlIG1hcGJveC1pY29uIG1hcGJveC1pY29uLXNoYXJlIixlKTtyZXR1cm4gbi5ocmVmPSIjIix0aGlzLl9tb2RhbD10Ll9jcmVhdGVQYW5lKCJtYXBib3gtbW9kYWwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9tYXNrPXQuX2NyZWF0ZVBhbmUoIm1hcGJveC1tb2RhbC1tYXNrIix0aGlzLl9tb2RhbCksdGhpcy5fY29udGVudD10Ll9jcmVhdGVQYW5lKCJtYXBib3gtbW9kYWwtY29udGVudCIsdGhpcy5fbW9kYWwpLEwuRG9tRXZlbnQuYWRkTGlzdGVuZXIobiwiY2xpY2siLHRoaXMuX3NoYXJlQ2xpY2ssdGhpcyksTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihlKSx0aGlzLl9tYXAub24oIm1vdXNlZG93biIsdGhpcy5fY2xpY2tPdXQsdGhpcyksZX0sX2NsaWNrT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zaGFyaW5nPyhMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tb2RhbCwiYWN0aXZlIiksdGhpcy5fY29udGVudC5pbm5lckhUTUw9IiIsdGhpcy5fc2hhcmluZz1udWxsLHZvaWQgMCk6dm9pZCAwfSxfc2hhcmVDbGljazpmdW5jdGlvbih0KXtpZihMLkRvbUV2ZW50LnN0b3AodCksdGhpcy5fc2hhcmluZylyZXR1cm4gdGhpcy5fY2xpY2tPdXQodCk7dmFyIGU9dGhpcy5fdGlsZWpzb258fHRoaXMuX21hcC5fdGlsZWpzb258fHt9LGk9ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMub3B0aW9ucy51cmx8fGUud2VicGFnZXx8d2luZG93LmxvY2F0aW9uKSxuPWVuY29kZVVSSUNvbXBvbmVudChlLm5hbWUpLG89dGhpcy5fdXJsLmJhc2UoKStlLmlkKyIvIit0aGlzLl9tYXAuZ2V0Q2VudGVyKCkubG5nKyIsIit0aGlzLl9tYXAuZ2V0Q2VudGVyKCkubGF0KyIsIit0aGlzLl9tYXAuZ2V0Wm9vbSgpKyIvNjAweDYwMC5wbmciLHM9Ii8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0P3N0YXR1cz0iK24rIiAiK2ksYT0iLy93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/dT0iK2krIiZ0PSIrZW5jb2RlVVJJQ29tcG9uZW50KGUubmFtZSkscj0iLy93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8/dXJsPSIraSsiJm1lZGlhPSIrbysiJmRlc2NyaXB0aW9uPSIrZS5uYW1lLGw9IjxoMz5TaGFyZSB0aGlzIG1hcDwvaDM+PGRpdiBjbGFzcz0nbWFwYm94LXNoYXJlLWJ1dHRvbnMnPjxhIGNsYXNzPSdtYXBib3gtYnV0dG9uIG1hcGJveC1idXR0b24taWNvbiBtYXBib3gtaWNvbi1mYWNlYm9vaycgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J3t7ZmFjZWJvb2t9fSc+RmFjZWJvb2s8L2E+PGEgY2xhc3M9J21hcGJveC1idXR0b24gbWFwYm94LWJ1dHRvbi1pY29uIG1hcGJveC1pY29uLXR3aXR0ZXInIHRhcmdldD0nX2JsYW5rJyBocmVmPSd7e3R3aXR0ZXJ9fSc+VHdpdHRlcjwvYT48YSBjbGFzcz0nbWFwYm94LWJ1dHRvbiBtYXBib3gtYnV0dG9uLWljb24gbWFwYm94LWljb24tcGludGVyZXN0JyB0YXJnZXQ9J19ibGFuaycgaHJlZj0ne3twaW50ZXJlc3R9fSc+UGludGVyZXN0PC9hPjwvZGl2PiIucmVwbGFjZSgie3t0d2l0dGVyfX0iLHMpLnJlcGxhY2UoInt7ZmFjZWJvb2t9fSIsYSkucmVwbGFjZSgie3twaW50ZXJlc3R9fSIsciksaD0nPGlmcmFtZSB3aWR0aD0iMTAwJSIgaGVpZ2h0PSI1MDBweCIgZnJhbWVCb3JkZXI9IjAiIHNyYz0ie3tlbWJlZH19Ij48L2lmcmFtZT4nLnJlcGxhY2UoInt7ZW1iZWR9fSIsZS5lbWJlZHx8d2luZG93LmxvY2F0aW9uKSx1PSJDb3B5IGFuZCBwYXN0ZSB0aGlzIDxzdHJvbmc+SFRNTCBjb2RlPC9zdHJvbmc+IGludG8gZG9jdW1lbnRzIHRvIGVtYmVkIHRoaXMgbWFwIG9uIHdlYiBwYWdlcy4iO0wuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tb2RhbCwiYWN0aXZlIiksdGhpcy5fc2hhcmluZz10aGlzLl9tYXAuX2NyZWF0ZVBhbmUoIm1hcGJveC1tb2RhbC1ib2R5Iix0aGlzLl9jb250ZW50KSx0aGlzLl9zaGFyaW5nLmlubmVySFRNTD1sO3ZhciBjPUwuRG9tVXRpbC5jcmVhdGUoImlucHV0IiwibWFwYm94LWVtYmVkIix0aGlzLl9zaGFyaW5nKTtjLnR5cGU9InRleHQiLGMudmFsdWU9aDt2YXIgcD1MLkRvbVV0aWwuY3JlYXRlKCJsYWJlbCIsIm1hcGJveC1lbWJlZC1kZXNjcmlwdGlvbiIsdGhpcy5fc2hhcmluZyk7cC5pbm5lckhUTUw9dTt2YXIgZD1MLkRvbVV0aWwuY3JlYXRlKCJhIiwibGVhZmxldC1wb3B1cC1jbG9zZS1idXR0b24iLHRoaXMuX3NoYXJpbmcpO2QuaHJlZj0iIyIsTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aGlzLl9zaGFyaW5nKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGQsImNsaWNrIix0aGlzLl9jbGlja091dCx0aGlzKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixmdW5jdGlvbih0KXt0LnRhcmdldC5mb2N1cygpLHQudGFyZ2V0LnNlbGVjdCgpfSl9fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuKHQsZSl9fSx7Ii4vbG9hZF90aWxlanNvbiI6MTksIi4vdXJsIjoyNn1dLDI1OltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT10KCIuL3V0aWwiKSxuPSh0KCIuL3VybCIpLEwuVGlsZUxheWVyLmV4dGVuZCh7aW5jbHVkZXM6W3QoIi4vbG9hZF90aWxlanNvbiIpXSxvcHRpb25zOntmb3JtYXQ6InBuZyJ9LGZvcm1hdHM6WyJwbmciLCJwbmczMiIsInBuZzY0IiwicG5nMTI4IiwicG5nMjU2IiwianBnNzAiLCJqcGc4MCIsImpwZzkwIl0sc2NhbGVQcmVmaXg6IkAyeC4iLGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtMLlRpbGVMYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdm9pZCAwLGUpLHRoaXMuX3RpbGVqc29uPXt9LGUmJmUuZGV0ZWN0UmV0aW5hJiZMLkJyb3dzZXIucmV0aW5hJiZlLnJldGluYVZlcnNpb24mJih0PWUucmV0aW5hVmVyc2lvbiksZSYmZS5mb3JtYXQmJmkuc3RyaWN0X29uZW9mKGUuZm9ybWF0LHRoaXMuZm9ybWF0cyksdGhpcy5fbG9hZFRpbGVKU09OKHQpfSxzZXRGb3JtYXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaWN0KHQsInN0cmluZyIpLHRoaXMub3B0aW9ucy5mb3JtYXQ9dCx0aGlzLnJlZHJhdygpLHRoaXN9LF9hdXRvU2NhbGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zJiZMLkJyb3dzZXIucmV0aW5hJiZ0aGlzLm9wdGlvbnMuZGV0ZWN0UmV0aW5hJiYhdGhpcy5vcHRpb25zLnJldGluYVZlcnNpb24mJnRoaXMub3B0aW9ucy5hdXRvc2NhbGV9LHNldFVybDpudWxsLF9zZXRUaWxlSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gaS5zdHJpY3QodCwib2JqZWN0IiksTC5leHRlbmQodGhpcy5vcHRpb25zLHt0aWxlczp0LnRpbGVzLGF0dHJpYnV0aW9uOnQuYXR0cmlidXRpb24sbWluWm9vbTp0Lm1pbnpvb20sbWF4Wm9vbTp0Lm1heHpvb20sYXV0b3NjYWxlOnQuYXV0b3NjYWxlfHwhMSx0bXM6InRtcyI9PT10LnNjaGVtZSxib3VuZHM6dC5ib3VuZHMmJmkubGJvdW5kcyh0LmJvdW5kcyl9KSx0aGlzLl90aWxlanNvbj10LHRoaXMucmVkcmF3KCksdGhpc30sZ2V0VGlsZUpTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGlsZWpzb259LGdldFRpbGVVcmw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLnRpbGVzLGk9TWF0aC5mbG9vcihNYXRoLmFicyh0LngrdC55KSVlLmxlbmd0aCksbj1lW2ldLG89TC5VdGlsLnRlbXBsYXRlKG4sdCk7cmV0dXJuIG8/by5yZXBsYWNlKCIucG5nIiwodGhpcy5fYXV0b1NjYWxlKCk/dGhpcy5zY2FsZVByZWZpeDoiLiIpK3RoaXMub3B0aW9ucy5mb3JtYXQpOm99LF91cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudGlsZXMmJkwuVGlsZUxheWVyLnByb3RvdHlwZS5fdXBkYXRlLmNhbGwodGhpcyl9fSkpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbih0LGUpfX0seyIuL2xvYWRfdGlsZWpzb24iOjE5LCIuL3VybCI6MjYsIi4vdXRpbCI6Mjd9XSwyNjpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7CnZhciBpPXQoIi4vY29uZmlnIik7ZS5leHBvcnRzPXtpc1NTTDpmdW5jdGlvbigpe3JldHVybiJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x8fGkuRk9SQ0VfSFRUUFN9LGJhc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pc1NTTCgpP2kuSFRUUFNfVVJMUzppLkhUVFBfVVJMUztyZXR1cm4gdm9pZCAwPT09dHx8Im51bWJlciIhPXR5cGVvZiB0P2VbMF06ZVt0JWUubGVuZ3RoXX0sc2VjdXJlRmxhZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc1NTTCgpP3QubWF0Y2goLyhcP3wmKXNlY3VyZS8pP3Q6LTEhPT10LmluZGV4T2YoIj8iKT90KyImc2VjdXJlIjp0KyI/c2VjdXJlIjp0fSxqc29uaWZ5OmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1wuKGdlbyk/anNvbnAoPz0kfFw/KS8sIi4kMWpzb24iKX19fSx7Ii4vY29uZmlnIjoxMX1dLDI3OltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e2lkVXJsOmZ1bmN0aW9uKHQsZSl7LTE9PXQuaW5kZXhPZigiLyIpP2UubG9hZElEKHQpOmUubG9hZFVSTCh0KX0sbG9nOmZ1bmN0aW9uKHQpe2NvbnNvbGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHQpfSxzdHJpY3Q6ZnVuY3Rpb24odCxlKXtpZih0eXBlb2YgdCE9PWUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGFyZ3VtZW50OiAiK2UrIiBleHBlY3RlZCIpfSxzdHJpY3RfaW5zdGFuY2U6ZnVuY3Rpb24odCxlLGkpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBhcmd1bWVudDogIitpKyIgZXhwZWN0ZWQiKX0sc3RyaWN0X29uZW9mOmZ1bmN0aW9uKHQsZSl7aWYoLTE9PWUuaW5kZXhPZih0KSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYXJndW1lbnQ6ICIrdCsiIGdpdmVuLCB2YWxpZCB2YWx1ZXMgYXJlICIrZS5qb2luKCIsICIpKX0sc3RyaXBfdGFnczpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC88W148XSs+L2csIiIpfSxsYm91bmRzOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTC5MYXRMbmdCb3VuZHMoW1t0WzFdLHRbMF1dLFt0WzNdLHRbMl1dXSl9fX0se31dfSx7fSxbMV0pOw==",
                "body": "IWZ1bmN0aW9uIHQoZSxpLG4pe2Z1bmN0aW9uIG8oYSxyKXtpZighaVthXSl7aWYoIWVbYV0pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFyJiZsKXJldHVybiBsKGEsITApO2lmKHMpcmV0dXJuIHMoYSwhMCk7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrYSsiJyIpfXZhciBoPWlbYV09e2V4cG9ydHM6e319O2VbYV1bMF0uY2FsbChoLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIGk9ZVthXVsxXVt0XTtyZXR1cm4gbyhpP2k6dCl9LGgsaC5leHBvcnRzLHQsZSxpLG4pfXJldHVybiBpW2FdLmV4cG9ydHN9Zm9yKHZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGE9MDthPG4ubGVuZ3RoO2ErKylvKG5bYV0pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCl7dCgiLi9sZWFmbGV0IiksdCgiLi9tYXBib3giKX0seyIuL2xlYWZsZXQiOjIsIi4vbWFwYm94IjozfV0sMjpbZnVuY3Rpb24odCl7d2luZG93Lkw9dCgibGVhZmxldC9kaXN0L2xlYWZsZXQtc3JjIil9LHsibGVhZmxldC9kaXN0L2xlYWZsZXQtc3JjIjo2fV0sMzpbZnVuY3Rpb24odCxlKXt3aW5kb3cuTC5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoPSIvL2FwaS50aWxlcy5tYXBib3guY29tL21hcGJveC5qcy92Iit0KCIuL3BhY2thZ2UuanNvbiIpLnZlcnNpb24rIi9pbWFnZXMiLEwubWFwYm94PWUuZXhwb3J0cz17VkVSU0lPTjp0KCIuL3BhY2thZ2UuanNvbiIpLnZlcnNpb24sZ2VvY29kZXI6dCgiLi9zcmMvZ2VvY29kZXIiKSxtYXJrZXI6dCgiLi9zcmMvbWFya2VyIiksdGlsZUxheWVyOnQoIi4vc3JjL3RpbGVfbGF5ZXIiKSxpbmZvQ29udHJvbDp0KCIuL3NyYy9pbmZvX2NvbnRyb2wiKSxzaGFyZUNvbnRyb2w6dCgiLi9zcmMvc2hhcmVfY29udHJvbCIpLGxlZ2VuZENvbnRyb2w6dCgiLi9zcmMvbGVnZW5kX2NvbnRyb2wiKSxnZW9jb2RlckNvbnRyb2w6dCgiLi9zcmMvZ2VvY29kZXJfY29udHJvbCIpLGdyaWRDb250cm9sOnQoIi4vc3JjL2dyaWRfY29udHJvbCIpLGdyaWRMYXllcjp0KCIuL3NyYy9ncmlkX2xheWVyIiksbWFya2VyTGF5ZXI6dCgiLi9zcmMvbWFya2VyX2xheWVyIiksbWFwOnQoIi4vc3JjL21hcCIpLGNvbmZpZzp0KCIuL3NyYy9jb25maWciKSxzYW5pdGl6ZTp0KCJzYW5pdGl6ZS1jYWphIiksdGVtcGxhdGU6dCgibXVzdGFjaGUiKS50b19odG1sfX0seyIuL3BhY2thZ2UuanNvbiI6MTAsIi4vc3JjL2NvbmZpZyI6MTEsIi4vc3JjL2dlb2NvZGVyIjoxMiwiLi9zcmMvZ2VvY29kZXJfY29udHJvbCI6MTMsIi4vc3JjL2dyaWRfY29udHJvbCI6MTUsIi4vc3JjL2dyaWRfbGF5ZXIiOjE2LCIuL3NyYy9pbmZvX2NvbnRyb2wiOjE3LCIuL3NyYy9sZWdlbmRfY29udHJvbCI6MTgsIi4vc3JjL21hcCI6MjAsIi4vc3JjL21hcmtlciI6MjEsIi4vc3JjL21hcmtlcl9sYXllciI6MjIsIi4vc3JjL3NoYXJlX2NvbnRyb2wiOjI0LCIuL3NyYy90aWxlX2xheWVyIjoyNSxtdXN0YWNoZTo3LCJzYW5pdGl6ZS1jYWphIjo4fV0sNDpbZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiB0Pj0yMDAmJjMwMD50fHwzMDQ9PT10fWZ1bmN0aW9uIG8oKXt2b2lkIDA9PT1yLnN0YXR1c3x8bihyLnN0YXR1cyk/ZS5jYWxsKHIsbnVsbCxyKTplLmNhbGwocixyLG51bGwpfXZhciBzPSExO2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93LlhNTEh0dHBSZXF1ZXN0KXJldHVybiBlKEVycm9yKCJCcm93c2VyIG5vdCBzdXBwb3J0ZWQiKSk7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpKXt2YXIgYT10Lm1hdGNoKC9eXHMqaHR0cHM/OlwvXC9bXlwvXSovKTtpPWEmJmFbMF0hPT1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmRvbWFpbisobG9jYXRpb24ucG9ydD8iOiIrbG9jYXRpb24ucG9ydDoiIil9dmFyIHI7aWYoIWl8fCJvYmplY3QiIT10eXBlb2Ygd2luZG93LlhEb21haW5SZXF1ZXN0JiYiZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LlhEb21haW5SZXF1ZXN0KXI9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtlbHNle3I9bmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdDt2YXIgbD1lO2U9ZnVuY3Rpb24oKXtpZihzKWwuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC5hcHBseSh0LGUpfSwwKX19fXJldHVybiJvbmxvYWQiaW4gcj9yLm9ubG9hZD1vOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmbygpfSxyLm9uZXJyb3I9ZnVuY3Rpb24odCl7ZS5jYWxsKHRoaXMsdHx8ITAsbnVsbCksZT1mdW5jdGlvbigpe319LHIub25wcm9ncmVzcz1mdW5jdGlvbigpe30sci5vbnRpbWVvdXQ9ZnVuY3Rpb24odCl7ZS5jYWxsKHRoaXMsdCxudWxsKSxlPWZ1bmN0aW9uKCl7fX0sci5vbmFib3J0PWZ1bmN0aW9uKHQpe2UuY2FsbCh0aGlzLHQsbnVsbCksZT1mdW5jdGlvbigpe319LHIub3BlbigiR0VUIix0LCEwKSxyLnNlbmQobnVsbCkscz0hMCxyfSJ1bmRlZmluZWQiIT10eXBlb2YgZSYmKGUuZXhwb3J0cz1pKX0se31dLDU6W2Z1bmN0aW9uKHQsZSxpKXshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtpZigiYnVnLXN0cmluZy1jaGFyLWluZGV4Ij09dClyZXR1cm4iYSIhPSJhIlswXTt2YXIgZSxpPSd7ImEiOlsxLHRydWUsZmFsc2UsbnVsbCwiXFx1MDAwMFxcYlxcblxcZlxcclxcdCJdfScsbj0ianNvbiI9PXQ7aWYobnx8Impzb24tc3RyaW5naWZ5Ij09dHx8Impzb24tcGFyc2UiPT10KXtpZigianNvbi1zdHJpbmdpZnkiPT10fHxuKXt2YXIgbz1sLnN0cmluZ2lmeSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBvJiZoO2lmKHIpeyhlPWZ1bmN0aW9uKCl7cmV0dXJuIDF9KS50b0pTT049ZTt0cnl7cj0iMCI9PT1vKDApJiYiMCI9PT1vKG5ldyBOdW1iZXIpJiYnIiInPT1vKG5ldyBTdHJpbmcpJiZvKGEpPT09cyYmbyhzKT09PXMmJm8oKT09PXMmJiIxIj09PW8oZSkmJiJbMV0iPT1vKFtlXSkmJiJbbnVsbF0iPT1vKFtzXSkmJiJudWxsIj09byhudWxsKSYmIltudWxsLG51bGwsbnVsbF0iPT1vKFtzLGEsbnVsbF0pJiZvKHthOltlLCEwLCExLG51bGwsIlx4MDBcYlxuXGZccgkiXX0pPT1pJiYiMSI9PT1vKG51bGwsZSkmJiJbXG4gMSxcbiAyXG5dIj09byhbMSwyXSxudWxsLDEpJiYnIi0yNzE4MjEtMDQtMjBUMDA6MDA6MDAuMDAwWiInPT1vKG5ldyBEYXRlKC04NjRlMTMpKSYmJyIrMjc1NzYwLTA5LTEzVDAwOjAwOjAwLjAwMFoiJz09byhuZXcgRGF0ZSg4NjRlMTMpKSYmJyItMDAwMDAxLTAxLTAxVDAwOjAwOjAwLjAwMFoiJz09byhuZXcgRGF0ZSgtNjIxOTg3NTUyZTUpKSYmJyIxOTY5LTEyLTMxVDIzOjU5OjU5Ljk5OVoiJz09byhuZXcgRGF0ZSgtMSkpfWNhdGNoKHUpe3I9ITF9fWlmKCFuKXJldHVybiByfWlmKCJqc29uLXBhcnNlIj09dHx8bil7dmFyIGM9bC5wYXJzZTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYyl0cnl7aWYoMD09PWMoIjAiKSYmIWMoITEpKXtlPWMoaSk7dmFyIHA9NT09ZS5hLmxlbmd0aCYmMT09PWUuYVswXTtpZihwKXt0cnl7cD0hYygnIgkiJyl9Y2F0Y2godSl7fWlmKHApdHJ5e3A9MSE9PWMoIjAxIil9Y2F0Y2godSl7fX19fWNhdGNoKHUpe3A9ITF9aWYoIW4pcmV0dXJuIHB9cmV0dXJuIHImJnB9fXZhciBuLG8scyxhPXt9LnRvU3RyaW5nLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCxsPSJvYmplY3QiPT10eXBlb2YgaSYmaTtsfHxyPyJvYmplY3QiPT10eXBlb2YgSlNPTiYmSlNPTj9sPyhsLnN0cmluZ2lmeT1KU09OLnN0cmluZ2lmeSxsLnBhcnNlPUpTT04ucGFyc2UpOmw9SlNPTjpyJiYobD10LkpTT049e30pOmw9dC5KU09OfHwodC5KU09OPXt9KTt2YXIgaD1uZXcgRGF0ZSgtMHhjNzgyYjViODAwY2VjKTt0cnl7aD0tMTA5MjUyPT1oLmdldFVUQ0Z1bGxZZWFyKCkmJjA9PT1oLmdldFVUQ01vbnRoKCkmJjE9PT1oLmdldFVUQ0RhdGUoKSYmMTA9PWguZ2V0VVRDSG91cnMoKSYmMzc9PWguZ2V0VVRDTWludXRlcygpJiY2PT1oLmdldFVUQ1NlY29uZHMoKSYmNzA4PT1oLmdldFVUQ01pbGxpc2Vjb25kcygpfWNhdGNoKHUpe31pZighZSgianNvbiIpKXt2YXIgYz0iW29iamVjdCBGdW5jdGlvbl0iLHA9IltvYmplY3QgRGF0ZV0iLGQ9IltvYmplY3QgTnVtYmVyXSIsbT0iW29iamVjdCBTdHJpbmddIixmPSJbb2JqZWN0IEFycmF5XSIsXz0iW29iamVjdCBCb29sZWFuXSIsZz1lKCJidWctc3RyaW5nLWNoYXItaW5kZXgiKTtpZighaCl2YXIgdj1NYXRoLmZsb29yLHk9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF0sTD1mdW5jdGlvbih0LGUpe3JldHVybiB5W2VdKzM2NSoodC0xOTcwKSt2KCh0LTE5NjkrKGU9KyhlPjEpKSkvNCktdigodC0xOTAxK2UpLzEwMCkrdigodC0xNjAxK2UpLzQwMCl9OyhuPXt9Lmhhc093blByb3BlcnR5KXx8KG49ZnVuY3Rpb24odCl7dmFyIGUsaT17fTtyZXR1cm4oaS5fX3Byb3RvX189bnVsbCxpLl9fcHJvdG9fXz17dG9TdHJpbmc6MX0saSkudG9TdHJpbmchPWE/bj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fcHJvdG9fXyxpPXQgaW4odGhpcy5fX3Byb3RvX189bnVsbCx0aGlzKTtyZXR1cm4gdGhpcy5fX3Byb3RvX189ZSxpfTooZT1pLmNvbnN0cnVjdG9yLG49ZnVuY3Rpb24odCl7dmFyIGk9KHRoaXMuY29uc3RydWN0b3J8fGUpLnByb3RvdHlwZTtyZXR1cm4gdCBpbiB0aGlzJiYhKHQgaW4gaSYmdGhpc1t0XT09PWlbdF0pfSksaT1udWxsLG4uY2FsbCh0aGlzLHQpfSk7dmFyIGI9eyJib29sZWFuIjoxLG51bWJlcjoxLHN0cmluZzoxLHVuZGVmaW5lZDoxfSxQPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dHlwZW9mIHRbZV07cmV0dXJuIm9iamVjdCI9PWk/ISF0W2VdOiFiW2ldfTtpZihvPWZ1bmN0aW9uKHQsZSl7dmFyIGksbyxzLHIsbD0wOyhpPWZ1bmN0aW9uKCl7dGhpcy52YWx1ZU9mPTB9KS5wcm90b3R5cGUudmFsdWVPZj0wLG89bmV3IGk7Zm9yKHMgaW4gbyluLmNhbGwobyxzKSYmbCsrO3JldHVybiBpPW89bnVsbCxsP3I9Mj09bD9mdW5jdGlvbih0LGUpe3ZhciBpLG89e30scz1hLmNhbGwodCk9PWM7Zm9yKGkgaW4gdClzJiYicHJvdG90eXBlIj09aXx8bi5jYWxsKG8saSl8fCEob1tpXT0xKXx8IW4uY2FsbCh0LGkpfHxlKGkpfTpmdW5jdGlvbih0LGUpe3ZhciBpLG8scz1hLmNhbGwodCk9PWM7Zm9yKGkgaW4gdClzJiYicHJvdG90eXBlIj09aXx8IW4uY2FsbCh0LGkpfHwobz0iY29uc3RydWN0b3IiPT09aSl8fGUoaSk7KG98fG4uY2FsbCh0LGk9ImNvbnN0cnVjdG9yIikpJiZlKGkpfToobz1bInZhbHVlT2YiLCJ0b1N0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJpc1Byb3RvdHlwZU9mIiwiaGFzT3duUHJvcGVydHkiLCJjb25zdHJ1Y3RvciJdLHI9ZnVuY3Rpb24odCxlKXt2YXIgaSxzLHI9YS5jYWxsKHQpPT1jLGw9IXImJiJmdW5jdGlvbiIhPXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZQKHQsImhhc093blByb3BlcnR5Iik/dC5oYXNPd25Qcm9wZXJ0eTpuO2ZvcihpIGluIHQpciYmInByb3RvdHlwZSI9PWl8fCFsLmNhbGwodCxpKXx8ZShpKTtmb3Iocz1vLmxlbmd0aDtpPW9bLS1zXTtsLmNhbGwodCxpKSYmZShpKSk7fSkscih0LGUpfSwhZSgianNvbi1zdHJpbmdpZnkiKSl7dmFyIFQ9ezkyOiJcXFxcIiwzNDonXFwiJyw4OiJcXGIiLDEyOiJcXGYiLDEwOiJcXG4iLDEzOiJcXHIiLDk6IlxcdCJ9LEU9IjAwMDAwMCIseD1mdW5jdGlvbih0LGUpe3JldHVybihFKyhlfHwwKSkuc2xpY2UoLXQpfSx3PSJcXHUwMCIsQz1mdW5jdGlvbih0KXt2YXIgZSxpPSciJyxuPTAsbz10Lmxlbmd0aCxzPW8+MTAmJmc7Zm9yKHMmJihlPXQuc3BsaXQoIiIpKTtvPm47bisrKXt2YXIgYT10LmNoYXJDb2RlQXQobik7c3dpdGNoKGEpe2Nhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAzNDpjYXNlIDkyOmkrPVRbYV07YnJlYWs7ZGVmYXVsdDppZigzMj5hKXtpKz13K3goMixhLnRvU3RyaW5nKDE2KSk7YnJlYWt9aSs9cz9lW25dOmc/dC5jaGFyQXQobik6dFtuXX19cmV0dXJuIGkrJyInfSxNPWZ1bmN0aW9uKHQsZSxpLHIsbCxoLHUpe3ZhciBjLGcseSxiLFAsVCxFLHcsRCxTLGssQSxPLFUsSSxSLHo9ZVt0XTt0cnl7ej1lW3RdfWNhdGNoKEIpe31pZigib2JqZWN0Ij09dHlwZW9mIHomJnopaWYoYz1hLmNhbGwoeiksYyE9cHx8bi5jYWxsKHosInRvSlNPTiIpKSJmdW5jdGlvbiI9PXR5cGVvZiB6LnRvSlNPTiYmKGMhPWQmJmMhPW0mJmMhPWZ8fG4uY2FsbCh6LCJ0b0pTT04iKSkmJih6PXoudG9KU09OKHQpKTtlbHNlIGlmKHo+LTEvMCYmMS8wPnope2lmKEwpe2ZvcihiPXYoei84NjRlNSksZz12KGIvMzY1LjI0MjUpKzE5NzAtMTtMKGcrMSwwKTw9YjtnKyspO2Zvcih5PXYoKGItTChnLDApKS8zMC40Mik7TChnLHkrMSk8PWI7eSsrKTtiPTErYi1MKGcseSksUD0oeiU4NjRlNSs4NjRlNSklODY0ZTUsVD12KFAvMzZlNSklMjQsRT12KFAvNmU0KSU2MCx3PXYoUC8xZTMpJTYwLEQ9UCUxZTN9ZWxzZSBnPXouZ2V0VVRDRnVsbFllYXIoKSx5PXouZ2V0VVRDTW9udGgoKSxiPXouZ2V0VVRDRGF0ZSgpLFQ9ei5nZXRVVENIb3VycygpLEU9ei5nZXRVVENNaW51dGVzKCksdz16LmdldFVUQ1NlY29uZHMoKSxEPXouZ2V0VVRDTWlsbGlzZWNvbmRzKCk7ej0oMD49Z3x8Zz49MWU0PygwPmc/Ii0iOiIrIikreCg2LDA+Zz8tZzpnKTp4KDQsZykpKyItIit4KDIseSsxKSsiLSIreCgyLGIpKyJUIit4KDIsVCkrIjoiK3goMixFKSsiOiIreCgyLHcpKyIuIit4KDMsRCkrIloifWVsc2Ugej1udWxsO2lmKGkmJih6PWkuY2FsbChlLHQseikpLG51bGw9PT16KXJldHVybiJudWxsIjtpZihjPWEuY2FsbCh6KSxjPT1fKXJldHVybiIiK3o7aWYoYz09ZClyZXR1cm4gej4tMS8wJiYxLzA+ej8iIit6OiJudWxsIjtpZihjPT1tKXJldHVybiBDKCIiK3opO2lmKCJvYmplY3QiPT10eXBlb2Ygeil7Zm9yKE89dS5sZW5ndGg7Ty0tOylpZih1W09dPT09eil0aHJvdyBUeXBlRXJyb3IoKTtpZih1LnB1c2goeiksUz1bXSxVPWgsaCs9bCxjPT1mKXtmb3IoQT0wLE89ei5sZW5ndGg7Tz5BO0l8fChJPSEwKSxBKyspaz1NKEEseixpLHIsbCxoLHUpLFMucHVzaChrPT09cz8ibnVsbCI6ayk7Uj1JP2w/IltcbiIraCtTLmpvaW4oIixcbiIraCkrIlxuIitVKyJdIjoiWyIrUy5qb2luKCIsIikrIl0iOiJbXSJ9ZWxzZSBvKHJ8fHosZnVuY3Rpb24odCl7dmFyIGU9TSh0LHosaSxyLGwsaCx1KTtlIT09cyYmUy5wdXNoKEModCkrIjoiKyhsPyIgIjoiIikrZSksSXx8KEk9ITApfSksUj1JP2w/IntcbiIraCtTLmpvaW4oIixcbiIraCkrIlxuIitVKyJ9IjoieyIrUy5qb2luKCIsIikrIn0iOiJ7fSI7cmV0dXJuIHUucG9wKCksUn19O2wuc3RyaW5naWZ5PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvLHM7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGV8fCJvYmplY3QiPT10eXBlb2YgZSYmZSlpZihhLmNhbGwoZSk9PWMpbz1lO2Vsc2UgaWYoYS5jYWxsKGUpPT1mKXtzPXt9O2Zvcih2YXIgcixsPTAsaD1lLmxlbmd0aDtoPmw7cj1lW2wrK10sKGEuY2FsbChyKT09bXx8YS5jYWxsKHIpPT1kKSYmKHNbcl09MSkpO31pZihpKWlmKGEuY2FsbChpKT09ZCl7aWYoKGktPWklMSk+MClmb3Iobj0iIixpPjEwJiYoaT0xMCk7bi5sZW5ndGg8aTtuKz0iICIpO31lbHNlIGEuY2FsbChpKT09bSYmKG49aS5sZW5ndGg8PTEwP2k6aS5zbGljZSgwLDEwKSk7cmV0dXJuIE0oIiIsKHI9e30sclsiIl09dCxyKSxvLHMsbiwiIixbXSl9fWlmKCFlKCJqc29uLXBhcnNlIikpe3ZhciBELFMsaz1TdHJpbmcuZnJvbUNoYXJDb2RlLEE9ezkyOiJcXCIsMzQ6JyInLDQ3OiIvIiw5ODoiXGIiLDExNjoiCSIsMTEwOiJcbiIsMTAyOiJcZiIsMTE0OiJcciJ9LE89ZnVuY3Rpb24oKXt0aHJvdyBEPVM9bnVsbCxTeW50YXhFcnJvcigpfSxVPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaSxuLG8scz1TLGE9cy5sZW5ndGg7YT5EOylzd2l0Y2gobz1zLmNoYXJDb2RlQXQoRCkpe2Nhc2UgOTpjYXNlIDEwOmNhc2UgMTM6Y2FzZSAzMjpEKys7YnJlYWs7Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA0NDpyZXR1cm4gdD1nP3MuY2hhckF0KEQpOnNbRF0sRCsrLHQ7Y2FzZSAzNDpmb3IodD0iQCIsRCsrO2E+RDspaWYobz1zLmNoYXJDb2RlQXQoRCksMzI+bylPKCk7ZWxzZSBpZig5Mj09bylzd2l0Y2gobz1zLmNoYXJDb2RlQXQoKytEKSl7Y2FzZSA5MjpjYXNlIDM0OmNhc2UgNDc6Y2FzZSA5ODpjYXNlIDExNjpjYXNlIDExMDpjYXNlIDEwMjpjYXNlIDExNDp0Kz1BW29dLEQrKzticmVhaztjYXNlIDExNzpmb3IoZT0rK0QsaT1EKzQ7aT5EO0QrKylvPXMuY2hhckNvZGVBdChEKSxvPj00OCYmNTc+PW98fG8+PTk3JiYxMDI+PW98fG8+PTY1JiY3MD49b3x8TygpO3QrPWsoIjB4IitzLnNsaWNlKGUsRCkpO2JyZWFrO2RlZmF1bHQ6TygpfWVsc2V7aWYoMzQ9PW8pYnJlYWs7Zm9yKG89cy5jaGFyQ29kZUF0KEQpLGU9RDtvPj0zMiYmOTIhPW8mJjM0IT1vOylvPXMuY2hhckNvZGVBdCgrK0QpO3QrPXMuc2xpY2UoZSxEKX1pZigzND09cy5jaGFyQ29kZUF0KEQpKXJldHVybiBEKyssdDtPKCk7ZGVmYXVsdDppZihlPUQsNDU9PW8mJihuPSEwLG89cy5jaGFyQ29kZUF0KCsrRCkpLG8+PTQ4JiY1Nz49byl7Zm9yKDQ4PT1vJiYobz1zLmNoYXJDb2RlQXQoRCsxKSxvPj00OCYmNTc+PW8pJiZPKCksbj0hMTthPkQmJihvPXMuY2hhckNvZGVBdChEKSxvPj00OCYmNTc+PW8pO0QrKyk7aWYoNDY9PXMuY2hhckNvZGVBdChEKSl7Zm9yKGk9KytEO2E+aSYmKG89cy5jaGFyQ29kZUF0KGkpLG8+PTQ4JiY1Nz49byk7aSsrKTtpPT1EJiZPKCksRD1pfWlmKG89cy5jaGFyQ29kZUF0KEQpLDEwMT09b3x8Njk9PW8pe2ZvcihvPXMuY2hhckNvZGVBdCgrK0QpLCg0Mz09b3x8NDU9PW8pJiZEKyssaT1EO2E+aSYmKG89cy5jaGFyQ29kZUF0KGkpLG8+PTQ4JiY1Nz49byk7aSsrKTtpPT1EJiZPKCksRD1pfXJldHVybitzLnNsaWNlKGUsRCl9aWYobiYmTygpLCJ0cnVlIj09cy5zbGljZShELEQrNCkpcmV0dXJuIEQrPTQsITA7aWYoImZhbHNlIj09cy5zbGljZShELEQrNSkpcmV0dXJuIEQrPTUsITE7aWYoIm51bGwiPT1zLnNsaWNlKEQsRCs0KSlyZXR1cm4gRCs9NCxudWxsO08oKX1yZXR1cm4iJCJ9LEk9ZnVuY3Rpb24odCl7dmFyIGUsaTtpZigiJCI9PXQmJk8oKSwic3RyaW5nIj09dHlwZW9mIHQpe2lmKCJAIj09KGc/dC5jaGFyQXQoMCk6dFswXSkpcmV0dXJuIHQuc2xpY2UoMSk7aWYoIlsiPT10KXtmb3IoZT1bXTt0PVUoKSwiXSIhPXQ7aXx8KGk9ITApKWkmJigiLCI9PXQ/KHQ9VSgpLCJdIj09dCYmTygpKTpPKCkpLCIsIj09dCYmTygpLGUucHVzaChJKHQpKTtyZXR1cm4gZX1pZigieyI9PXQpe2ZvcihlPXt9O3Q9VSgpLCJ9IiE9dDtpfHwoaT0hMCkpaSYmKCIsIj09dD8odD1VKCksIn0iPT10JiZPKCkpOk8oKSksKCIsIj09dHx8InN0cmluZyIhPXR5cGVvZiB0fHwiQCIhPShnP3QuY2hhckF0KDApOnRbMF0pfHwiOiIhPVUoKSkmJk8oKSxlW3Quc2xpY2UoMSldPUkoVSgpKTtyZXR1cm4gZX1PKCl9cmV0dXJuIHR9LFI9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXoodCxlLGkpO249PT1zP2RlbGV0ZSB0W2VdOnRbZV09bn0sej1mdW5jdGlvbih0LGUsaSl7dmFyIG4scz10W2VdO2lmKCJvYmplY3QiPT10eXBlb2YgcyYmcylpZihhLmNhbGwocyk9PWYpZm9yKG49cy5sZW5ndGg7bi0tOylSKHMsbixpKTtlbHNlIG8ocyxmdW5jdGlvbih0KXtSKHMsdCxpKX0pO3JldHVybiBpLmNhbGwodCxlLHMpfTtsLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIGksbjtyZXR1cm4gRD0wLFM9IiIrdCxpPUkoVSgpKSwiJCIhPVUoKSYmTygpLEQ9Uz1udWxsLGUmJmEuY2FsbChlKT09Yz96KChuPXt9LG5bIiJdPWksbiksIiIsZSk6aX19fXImJmRlZmluZShmdW5jdGlvbigpe3JldHVybiBsfSl9KHRoaXMpfSx7fV0sNjpbZnVuY3Rpb24odCxlKXshZnVuY3Rpb24odCxpLG4pe3ZhciBvPXQuTCxzPXt9O3MudmVyc2lvbj0iMC43LjEiLCJvYmplY3QiPT10eXBlb2YgZSYmIm9iamVjdCI9PXR5cGVvZiBlLmV4cG9ydHM/ZS5leHBvcnRzPXM6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKHMpLHMubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB0Lkw9byx0aGlzfSx0Lkw9cyxzLlV0aWw9e2V4dGVuZDpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbyxzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoaT0wLG49cy5sZW5ndGg7bj5pO2krKyl7bz1zW2ldfHx7fTtmb3IoZSBpbiBvKW8uaGFzT3duUHJvcGVydHkoZSkmJih0W2VdPW9bZV0pfXJldHVybiB0fSxiaW5kOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yP0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTpudWxsO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsaXx8YXJndW1lbnRzKX19LHN0YW1wOmZ1bmN0aW9uKCl7dmFyIHQ9MCxlPSJfbGVhZmxldF9pZCI7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBpW2VdPWlbZV18fCsrdCxpW2VdfX0oKSxpbnZva2VFYWNoOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbixvO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7bz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMyk7Zm9yKG4gaW4gdCllLmFwcGx5KGksW24sdFtuXV0uY29uY2F0KG8pKTtyZXR1cm4hMH1yZXR1cm4hMX0sbGltaXRFeGVjQnlJbnRlcnZhbDpmdW5jdGlvbih0LGUsaSl7dmFyIG4sbztyZXR1cm4gZnVuY3Rpb24gcygpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbj8obz0hMCx2b2lkIDApOihuPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuPSExLG8mJihzLmFwcGx5KGksYSksbz0hMSl9LGUpLHQuYXBwbHkoaSxhKSx2b2lkIDApfX0sZmFsc2VGbjpmdW5jdGlvbigpe3JldHVybiExfSxmb3JtYXROdW06ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLnBvdygxMCxlfHw1KTtyZXR1cm4gTWF0aC5yb3VuZCh0KmkpL2l9LHRyaW06ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbT90LnRyaW0oKTp0LnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0sc3BsaXRXb3JkczpmdW5jdGlvbih0KXtyZXR1cm4gcy5VdGlsLnRyaW0odCkuc3BsaXQoL1xzKy8pfSxzZXRPcHRpb25zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQub3B0aW9ucz1zLmV4dGVuZCh7fSx0Lm9wdGlvbnMsZSksdC5vcHRpb25zfSxnZXRQYXJhbVN0cmluZzpmdW5jdGlvbih0LGUsaSl7dmFyIG49W107Zm9yKHZhciBvIGluIHQpbi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChpP28udG9VcHBlckNhc2UoKTpvKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KHRbb10pKTtyZXR1cm4oZSYmLTEhPT1lLmluZGV4T2YoIj8iKT8iJiI6Ij8iKStuLmpvaW4oIiYiKX0sdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yZXBsYWNlKC9ceyAqKFtcd19dKykgKlx9L2csZnVuY3Rpb24odCxpKXt2YXIgbz1lW2ldO2lmKG89PT1uKXRocm93IG5ldyBFcnJvcigiTm8gdmFsdWUgcHJvdmlkZWQgZm9yIHZhcmlhYmxlICIrdCk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG8mJihvPW8oZSkpLG99KX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfSxlbXB0eUltYWdlVXJsOiJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFEL0FDd0FBQUFBQVFBQkFBQUNBRHM9In0sZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciBpLG4sbz1bIndlYmtpdCIsIm1veiIsIm8iLCJtcyJdO2ZvcihpPTA7aTxvLmxlbmd0aCYmIW47aSsrKW49dFtvW2ldK2VdO3JldHVybiBufWZ1bmN0aW9uIGkoZSl7dmFyIGk9K25ldyBEYXRlLG89TWF0aC5tYXgoMCwxNi0oaS1uKSk7cmV0dXJuIG49aStvLHQuc2V0VGltZW91dChlLG8pfXZhciBuPTAsbz10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZSgiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIil8fGksYT10LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxlKCJDYW5jZWxBbmltYXRpb25GcmFtZSIpfHxlKCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiKXx8ZnVuY3Rpb24oZSl7dC5jbGVhclRpbWVvdXQoZSl9O3MuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lPWZ1bmN0aW9uKGUsbixhLHIpe3JldHVybiBlPXMuYmluZChlLG4pLGEmJm89PT1pPyhlKCksdm9pZCAwKTpvLmNhbGwodCxlLHIpfSxzLlV0aWwuY2FuY2VsQW5pbUZyYW1lPWZ1bmN0aW9uKGUpe2UmJmEuY2FsbCh0LGUpfX0oKSxzLmV4dGVuZD1zLlV0aWwuZXh0ZW5kLHMuYmluZD1zLlV0aWwuYmluZCxzLnN0YW1wPXMuVXRpbC5zdGFtcCxzLnNldE9wdGlvbnM9cy5VdGlsLnNldE9wdGlvbnMscy5DbGFzcz1mdW5jdGlvbigpe30scy5DbGFzcy5leHRlbmQ9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXt0aGlzLmluaXRpYWxpemUmJnRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5faW5pdEhvb2tzJiZ0aGlzLmNhbGxJbml0SG9va3MoKX0saT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGU7dmFyIG49bmV3IGk7bi5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlPW47Zm9yKHZhciBvIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShvKSYmInByb3RvdHlwZSIhPT1vJiYoZVtvXT10aGlzW29dKTt0LnN0YXRpY3MmJihzLmV4dGVuZChlLHQuc3RhdGljcyksZGVsZXRlIHQuc3RhdGljcyksdC5pbmNsdWRlcyYmKHMuVXRpbC5leHRlbmQuYXBwbHkobnVsbCxbbl0uY29uY2F0KHQuaW5jbHVkZXMpKSxkZWxldGUgdC5pbmNsdWRlcyksdC5vcHRpb25zJiZuLm9wdGlvbnMmJih0Lm9wdGlvbnM9cy5leHRlbmQoe30sbi5vcHRpb25zLHQub3B0aW9ucykpLHMuZXh0ZW5kKG4sdCksbi5faW5pdEhvb2tzPVtdO3ZhciBhPXRoaXM7cmV0dXJuIGUuX19zdXBlcl9fPWEucHJvdG90eXBlLG4uY2FsbEluaXRIb29rcz1mdW5jdGlvbigpe2lmKCF0aGlzLl9pbml0SG9va3NDYWxsZWQpe2EucHJvdG90eXBlLmNhbGxJbml0SG9va3MmJmEucHJvdG90eXBlLmNhbGxJbml0SG9va3MuY2FsbCh0aGlzKSx0aGlzLl9pbml0SG9va3NDYWxsZWQ9ITA7Zm9yKHZhciB0PTAsZT1uLl9pbml0SG9va3MubGVuZ3RoO2U+dDt0Kyspbi5faW5pdEhvb2tzW3RdLmNhbGwodGhpcyl9fSxlfSxzLkNsYXNzLmluY2x1ZGU9ZnVuY3Rpb24odCl7cy5leHRlbmQodGhpcy5wcm90b3R5cGUsdCl9LHMuQ2xhc3MubWVyZ2VPcHRpb25zPWZ1bmN0aW9uKHQpe3MuZXh0ZW5kKHRoaXMucHJvdG90eXBlLm9wdGlvbnMsdCl9LHMuQ2xhc3MuYWRkSW5pdEhvb2s9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGk9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpmdW5jdGlvbigpe3RoaXNbdF0uYXBwbHkodGhpcyxlKX07dGhpcy5wcm90b3R5cGUuX2luaXRIb29rcz10aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzfHxbXSx0aGlzLnByb3RvdHlwZS5faW5pdEhvb2tzLnB1c2goaSl9O3ZhciBhPSJfbGVhZmxldF9ldmVudHMiO3MuTWl4aW49e30scy5NaXhpbi5FdmVudHM9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlLGkpe2lmKHMuVXRpbC5pbnZva2VFYWNoKHQsdGhpcy5hZGRFdmVudExpc3RlbmVyLHRoaXMsZSxpKSlyZXR1cm4gdGhpczt2YXIgbixvLHIsbCxoLHUsYyxwPXRoaXNbYV09dGhpc1thXXx8e30sZD1pJiZpIT09dGhpcyYmcy5zdGFtcChpKTtmb3IodD1zLlV0aWwuc3BsaXRXb3Jkcyh0KSxuPTAsbz10Lmxlbmd0aDtvPm47bisrKXI9e2FjdGlvbjplLGNvbnRleHQ6aXx8dGhpc30sbD10W25dLGQ/KGg9bCsiX2lkeCIsdT1oKyJfbGVuIixjPXBbaF09cFtoXXx8e30sY1tkXXx8KGNbZF09W10scFt1XT0ocFt1XXx8MCkrMSksY1tkXS5wdXNoKHIpKToocFtsXT1wW2xdfHxbXSxwW2xdLnB1c2gocikpO3JldHVybiB0aGlzfSxoYXNFdmVudExpc3RlbmVyczpmdW5jdGlvbih0KXt2YXIgZT10aGlzW2FdO3JldHVybiEhZSYmKHQgaW4gZSYmZVt0XS5sZW5ndGg+MHx8dCsiX2lkeCJpbiBlJiZlW3QrIl9pZHhfbGVuIl0+MCl9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlLGkpe2lmKCF0aGlzW2FdKXJldHVybiB0aGlzO2lmKCF0KXJldHVybiB0aGlzLmNsZWFyQWxsRXZlbnRMaXN0ZW5lcnMoKTtpZihzLlV0aWwuaW52b2tlRWFjaCh0LHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcix0aGlzLGUsaSkpcmV0dXJuIHRoaXM7dmFyIG4sbyxyLGwsaCx1LGMscCxkLG09dGhpc1thXSxmPWkmJmkhPT10aGlzJiZzLnN0YW1wKGkpO2Zvcih0PXMuVXRpbC5zcGxpdFdvcmRzKHQpLG49MCxvPXQubGVuZ3RoO28+bjtuKyspaWYocj10W25dLHU9cisiX2lkeCIsYz11KyJfbGVuIixwPW1bdV0sZSl7aWYobD1mJiZwP3BbZl06bVtyXSl7Zm9yKGg9bC5sZW5ndGgtMTtoPj0wO2gtLSlsW2hdLmFjdGlvbiE9PWV8fGkmJmxbaF0uY29udGV4dCE9PWl8fChkPWwuc3BsaWNlKGgsMSksZFswXS5hY3Rpb249cy5VdGlsLmZhbHNlRm4pO2kmJnAmJjA9PT1sLmxlbmd0aCYmKGRlbGV0ZSBwW2ZdLG1bY10tLSl9fWVsc2UgZGVsZXRlIG1bcl0sZGVsZXRlIG1bdV0sZGVsZXRlIG1bY107cmV0dXJuIHRoaXN9LGNsZWFyQWxsRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlIHRoaXNbYV0sdGhpc30sZmlyZUV2ZW50OmZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModCkpcmV0dXJuIHRoaXM7dmFyIGksbixvLHIsbCxoPXMuVXRpbC5leHRlbmQoe30sZSx7dHlwZTp0LHRhcmdldDp0aGlzfSksdT10aGlzW2FdO2lmKHVbdF0pZm9yKGk9dVt0XS5zbGljZSgpLG49MCxvPWkubGVuZ3RoO28+bjtuKyspaVtuXS5hY3Rpb24uY2FsbChpW25dLmNvbnRleHQsaCk7cj11W3QrIl9pZHgiXTtmb3IobCBpbiByKWlmKGk9cltsXS5zbGljZSgpKWZvcihuPTAsbz1pLmxlbmd0aDtvPm47bisrKWlbbl0uYWN0aW9uLmNhbGwoaVtuXS5jb250ZXh0LGgpO3JldHVybiB0aGlzfSxhZGRPbmVUaW1lRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7aWYocy5VdGlsLmludm9rZUVhY2godCx0aGlzLmFkZE9uZVRpbWVFdmVudExpc3RlbmVyLHRoaXMsZSxpKSlyZXR1cm4gdGhpczt2YXIgbj1zLmJpbmQoZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlLGkpLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLGkpfSx0aGlzKTtyZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKHQsZSxpKS5hZGRFdmVudExpc3RlbmVyKHQsbixpKX19LHMuTWl4aW4uRXZlbnRzLm9uPXMuTWl4aW4uRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIscy5NaXhpbi5FdmVudHMub2ZmPXMuTWl4aW4uRXZlbnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIscy5NaXhpbi5FdmVudHMub25jZT1zLk1peGluLkV2ZW50cy5hZGRPbmVUaW1lRXZlbnRMaXN0ZW5lcixzLk1peGluLkV2ZW50cy5maXJlPXMuTWl4aW4uRXZlbnRzLmZpcmVFdmVudCxmdW5jdGlvbigpe3ZhciBlPSJBY3RpdmVYT2JqZWN0ImluIHQsbz1lJiYhaS5hZGRFdmVudExpc3RlbmVyLGE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLHI9LTEhPT1hLmluZGV4T2YoIndlYmtpdCIpLGw9LTEhPT1hLmluZGV4T2YoImNocm9tZSIpLGg9LTEhPT1hLmluZGV4T2YoInBoYW50b20iKSx1PS0xIT09YS5pbmRleE9mKCJhbmRyb2lkIiksYz0tMSE9PWEuc2VhcmNoKCJhbmRyb2lkIFsyM10iKSxwPS0xIT09YS5pbmRleE9mKCJnZWNrbyIpLGQ9dHlwZW9mIG9yaWVudGF0aW9uIT1uKyIiLG09dC5uYXZpZ2F0b3ImJnQubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQmJnQubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMmJiF0LlBvaW50ZXJFdmVudCxmPXQuUG9pbnRlckV2ZW50JiZ0Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCYmdC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fG0sXz0iZGV2aWNlUGl4ZWxSYXRpbyJpbiB0JiZ0LmRldmljZVBpeGVsUmF0aW8+MXx8Im1hdGNoTWVkaWEiaW4gdCYmdC5tYXRjaE1lZGlhKCIobWluLXJlc29sdXRpb246MTQ0ZHBpKSIpJiZ0Lm1hdGNoTWVkaWEoIihtaW4tcmVzb2x1dGlvbjoxNDRkcGkpIikubWF0Y2hlcyxnPWkuZG9jdW1lbnRFbGVtZW50LHY9ZSYmInRyYW5zaXRpb24iaW4gZy5zdHlsZSx5PSJXZWJLaXRDU1NNYXRyaXgiaW4gdCYmIm0xMSJpbiBuZXcgdC5XZWJLaXRDU1NNYXRyaXgmJiFjLEw9Ik1velBlcnNwZWN0aXZlImluIGcuc3R5bGUsYj0iT1RyYW5zaXRpb24iaW4gZy5zdHlsZSxQPSF0LkxfRElTQUJMRV8zRCYmKHZ8fHl8fEx8fGIpJiYhaCxUPSF0LkxfTk9fVE9VQ0gmJiFoJiZmdW5jdGlvbigpe3ZhciB0PSJvbnRvdWNoc3RhcnQiO2lmKGZ8fHQgaW4gZylyZXR1cm4hMDt2YXIgZT1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49ITE7cmV0dXJuIGUuc2V0QXR0cmlidXRlPyhlLnNldEF0dHJpYnV0ZSh0LCJyZXR1cm47IiksImZ1bmN0aW9uIj09dHlwZW9mIGVbdF0mJihuPSEwKSxlLnJlbW92ZUF0dHJpYnV0ZSh0KSxlPW51bGwsbik6ITF9KCk7cy5Ccm93c2VyPXtpZTplLGllbHQ5Om8sd2Via2l0OnIsZ2Vja286cCYmIXImJiF0Lm9wZXJhJiYhZSxhbmRyb2lkOnUsYW5kcm9pZDIzOmMsY2hyb21lOmwsaWUzZDp2LHdlYmtpdDNkOnksZ2Vja28zZDpMLG9wZXJhM2Q6YixhbnkzZDpQLG1vYmlsZTpkLG1vYmlsZVdlYmtpdDpkJiZyLG1vYmlsZVdlYmtpdDNkOmQmJnksbW9iaWxlT3BlcmE6ZCYmdC5vcGVyYSx0b3VjaDpULG1zUG9pbnRlcjptLHBvaW50ZXI6ZixyZXRpbmE6X319KCkscy5Qb2ludD1mdW5jdGlvbih0LGUsaSl7dGhpcy54PWk/TWF0aC5yb3VuZCh0KTp0LHRoaXMueT1pP01hdGgucm91bmQoZSk6ZX0scy5Qb2ludC5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzLlBvaW50KHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHMucG9pbnQodCkpfSxfYWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngrPXQueCx0aGlzLnkrPXQueSx0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWJ0cmFjdChzLnBvaW50KHQpKX0sX3N1YnRyYWN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngtPXQueCx0aGlzLnktPXQueSx0aGlzfSxkaXZpZGVCeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZpZGVCeSh0KX0sX2RpdmlkZUJ5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngvPXQsdGhpcy55Lz10LHRoaXN9LG11bHRpcGx5Qnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdGlwbHlCeSh0KX0sX211bHRpcGx5Qnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc30scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpfSxfcm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9LGZsb29yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fZmxvb3IoKX0sX2Zsb29yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KSx0aGlzfSxkaXN0YW5jZVRvOmZ1bmN0aW9uKHQpe3Q9cy5wb2ludCh0KTt2YXIgZT10LngtdGhpcy54LGk9dC55LXRoaXMueTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStpKmkpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5wb2ludCh0KSx0Lng9PT10aGlzLngmJnQueT09PXRoaXMueX0sY29udGFpbnM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5wb2ludCh0KSxNYXRoLmFicyh0LngpPD1NYXRoLmFicyh0aGlzLngpJiZNYXRoLmFicyh0LnkpPD1NYXRoLmFicyh0aGlzLnkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJQb2ludCgiK3MuVXRpbC5mb3JtYXROdW0odGhpcy54KSsiLCAiK3MuVXRpbC5mb3JtYXROdW0odGhpcy55KSsiKSJ9fSxzLnBvaW50PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHMuUG9pbnQ/dDpzLlV0aWwuaXNBcnJheSh0KT9uZXcgcy5Qb2ludCh0WzBdLHRbMV0pOnQ9PT1ufHxudWxsPT09dD90Om5ldyBzLlBvaW50KHQsZSxpKX0scy5Cb3VuZHM9ZnVuY3Rpb24odCxlKXtpZih0KWZvcih2YXIgaT1lP1t0LGVdOnQsbj0wLG89aS5sZW5ndGg7bz5uO24rKyl0aGlzLmV4dGVuZChpW25dKX0scy5Cb3VuZHMucHJvdG90eXBlPXtleHRlbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5wb2ludCh0KSx0aGlzLm1pbnx8dGhpcy5tYXg/KHRoaXMubWluLng9TWF0aC5taW4odC54LHRoaXMubWluLngpLHRoaXMubWF4Lng9TWF0aC5tYXgodC54LHRoaXMubWF4LngpLHRoaXMubWluLnk9TWF0aC5taW4odC55LHRoaXMubWluLnkpLHRoaXMubWF4Lnk9TWF0aC5tYXgodC55LHRoaXMubWF4LnkpKToodGhpcy5taW49dC5jbG9uZSgpLHRoaXMubWF4PXQuY2xvbmUoKSksdGhpc30sZ2V0Q2VudGVyOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5Qb2ludCgodGhpcy5taW4ueCt0aGlzLm1heC54KS8yLCh0aGlzLm1pbi55K3RoaXMubWF4LnkpLzIsdCl9LGdldEJvdHRvbUxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMuUG9pbnQodGhpcy5taW4ueCx0aGlzLm1heC55KX0sZ2V0VG9wUmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMuUG9pbnQodGhpcy5tYXgueCx0aGlzLm1pbi55KX0sZ2V0U2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1heC5zdWJ0cmFjdCh0aGlzLm1pbil9LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIHQ9Im51bWJlciI9PXR5cGVvZiB0WzBdfHx0IGluc3RhbmNlb2Ygcy5Qb2ludD9zLnBvaW50KHQpOnMuYm91bmRzKHQpLHQgaW5zdGFuY2VvZiBzLkJvdW5kcz8oZT10Lm1pbixpPXQubWF4KTplPWk9dCxlLng+PXRoaXMubWluLngmJmkueDw9dGhpcy5tYXgueCYmZS55Pj10aGlzLm1pbi55JiZpLnk8PXRoaXMubWF4Lnl9LGludGVyc2VjdHM6ZnVuY3Rpb24odCl7dD1zLmJvdW5kcyh0KTt2YXIgZT10aGlzLm1pbixpPXRoaXMubWF4LG49dC5taW4sbz10Lm1heCxhPW8ueD49ZS54JiZuLng8PWkueCxyPW8ueT49ZS55JiZuLnk8PWkueTtyZXR1cm4gYSYmcn0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMubWlufHwhdGhpcy5tYXgpfX0scy5ib3VuZHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hdHx8dCBpbnN0YW5jZW9mIHMuQm91bmRzP3Q6bmV3IHMuQm91bmRzKHQsZSl9LHMuVHJhbnNmb3JtYXRpb249ZnVuY3Rpb24odCxlLGksbil7dGhpcy5fYT10LHRoaXMuX2I9ZSx0aGlzLl9jPWksdGhpcy5fZD1ufSxzLlRyYW5zZm9ybWF0aW9uLnByb3RvdHlwZT17dHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybSh0LmNsb25lKCksZSl9LF90cmFuc2Zvcm06ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwxLHQueD1lKih0aGlzLl9hKnQueCt0aGlzLl9iKSx0Lnk9ZSoodGhpcy5fYyp0LnkrdGhpcy5fZCksdH0sdW50cmFuc2Zvcm06ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHwxLG5ldyBzLlBvaW50KCh0LngvZS10aGlzLl9iKS90aGlzLl9hLCh0LnkvZS10aGlzLl9kKS90aGlzLl9jKX19LHMuRG9tVXRpbD17Z2V0OmZ1bmN0aW9uKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9pLmdldEVsZW1lbnRCeUlkKHQpOnR9LGdldFN0eWxlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zdHlsZVtlXTtpZighbiYmdC5jdXJyZW50U3R5bGUmJihuPXQuY3VycmVudFN0eWxlW2VdKSwoIW58fCJhdXRvIj09PW4pJiZpLmRlZmF1bHRWaWV3KXt2YXIgbz1pLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCxudWxsKTtuPW8/b1tlXTpudWxsfXJldHVybiJhdXRvIj09PW4/bnVsbDpufSxnZXRWaWV3cG9ydE9mZnNldDpmdW5jdGlvbih0KXt2YXIgZSxuPTAsbz0wLGE9dCxyPWkuYm9keSxsPWkuZG9jdW1lbnRFbGVtZW50O2Rve2lmKG4rPWEub2Zmc2V0VG9wfHwwLG8rPWEub2Zmc2V0TGVmdHx8MCxuKz1wYXJzZUludChzLkRvbVV0aWwuZ2V0U3R5bGUoYSwiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDAsbys9cGFyc2VJbnQocy5Eb21VdGlsLmdldFN0eWxlKGEsImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCxlPXMuRG9tVXRpbC5nZXRTdHlsZShhLCJwb3NpdGlvbiIpLGEub2Zmc2V0UGFyZW50PT09ciYmImFic29sdXRlIj09PWUpYnJlYWs7aWYoImZpeGVkIj09PWUpe24rPXIuc2Nyb2xsVG9wfHxsLnNjcm9sbFRvcHx8MCxvKz1yLnNjcm9sbExlZnR8fGwuc2Nyb2xsTGVmdHx8MDticmVha31pZigicmVsYXRpdmUiPT09ZSYmIWEub2Zmc2V0TGVmdCl7dmFyIGg9cy5Eb21VdGlsLmdldFN0eWxlKGEsIndpZHRoIiksdT1zLkRvbVV0aWwuZ2V0U3R5bGUoYSwibWF4LXdpZHRoIiksYz1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOygibm9uZSIhPT1ofHwibm9uZSIhPT11KSYmKG8rPWMubGVmdCthLmNsaWVudExlZnQpLG4rPWMudG9wKyhyLnNjcm9sbFRvcHx8bC5zY3JvbGxUb3B8fDApO2JyZWFrfWE9YS5vZmZzZXRQYXJlbnR9d2hpbGUoYSk7YT10O2Rve2lmKGE9PT1yKWJyZWFrO24tPWEuc2Nyb2xsVG9wfHwwLG8tPWEuc2Nyb2xsTGVmdHx8MCxhPWEucGFyZW50Tm9kZX13aGlsZShhKTtyZXR1cm4gbmV3IHMuUG9pbnQobyxuKX0sZG9jdW1lbnRJc0x0cjpmdW5jdGlvbigpe3JldHVybiBzLkRvbVV0aWwuX2RvY0lzTHRyQ2FjaGVkfHwocy5Eb21VdGlsLl9kb2NJc0x0ckNhY2hlZD0hMCxzLkRvbVV0aWwuX2RvY0lzTHRyPSJsdHIiPT09cy5Eb21VdGlsLmdldFN0eWxlKGkuYm9keSwiZGlyZWN0aW9uIikpLHMuRG9tVXRpbC5fZG9jSXNMdHJ9LGNyZWF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIG89aS5jcmVhdGVFbGVtZW50KHQpO3JldHVybiBvLmNsYXNzTmFtZT1lLG4mJm4uYXBwZW5kQ2hpbGQobyksb30saGFzQ2xhc3M6ZnVuY3Rpb24odCxlKXtpZih0LmNsYXNzTGlzdCE9PW4pcmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKGUpO3ZhciBpPXMuRG9tVXRpbC5fZ2V0Q2xhc3ModCk7cmV0dXJuIGkubGVuZ3RoPjAmJm5ldyBSZWdFeHAoIihefFxccykiK2UrIihcXHN8JCkiKS50ZXN0KGkpfSxhZGRDbGFzczpmdW5jdGlvbih0LGUpe2lmKHQuY2xhc3NMaXN0IT09bilmb3IodmFyIGk9cy5VdGlsLnNwbGl0V29yZHMoZSksbz0wLGE9aS5sZW5ndGg7YT5vO28rKyl0LmNsYXNzTGlzdC5hZGQoaVtvXSk7ZWxzZSBpZighcy5Eb21VdGlsLmhhc0NsYXNzKHQsZSkpe3ZhciByPXMuRG9tVXRpbC5fZ2V0Q2xhc3ModCk7cy5Eb21VdGlsLl9zZXRDbGFzcyh0LChyP3IrIiAiOiIiKStlKX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQsZSl7dC5jbGFzc0xpc3QhPT1uP3QuY2xhc3NMaXN0LnJlbW92ZShlKTpzLkRvbVV0aWwuX3NldENsYXNzKHQscy5VdGlsLnRyaW0oKCIgIitzLkRvbVV0aWwuX2dldENsYXNzKHQpKyIgIikucmVwbGFjZSgiICIrZSsiICIsIiAiKSkpfSxfc2V0Q2xhc3M6ZnVuY3Rpb24odCxlKXt0LmNsYXNzTmFtZS5iYXNlVmFsPT09bj90LmNsYXNzTmFtZT1lOnQuY2xhc3NOYW1lLmJhc2VWYWw9ZX0sX2dldENsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNsYXNzTmFtZS5iYXNlVmFsPT09bj90LmNsYXNzTmFtZTp0LmNsYXNzTmFtZS5iYXNlVmFsfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHQsZSl7aWYoIm9wYWNpdHkiaW4gdC5zdHlsZSl0LnN0eWxlLm9wYWNpdHk9ZTtlbHNlIGlmKCJmaWx0ZXIiaW4gdC5zdHlsZSl7dmFyIGk9ITEsbj0iRFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEiO3RyeXtpPXQuZmlsdGVycy5pdGVtKG4pfWNhdGNoKG8pe2lmKDE9PT1lKXJldHVybn1lPU1hdGgucm91bmQoMTAwKmUpLGk/KGkuRW5hYmxlZD0xMDAhPT1lLGkuT3BhY2l0eT1lKTp0LnN0eWxlLmZpbHRlcis9IiBwcm9naWQ6IituKyIob3BhY2l0eT0iK2UrIikifX0sdGVzdFByb3A6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWkuZG9jdW1lbnRFbGVtZW50LnN0eWxlLG49MDtuPHQubGVuZ3RoO24rKylpZih0W25daW4gZSlyZXR1cm4gdFtuXTtyZXR1cm4hMX0sZ2V0VHJhbnNsYXRlU3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPXMuQnJvd3Nlci53ZWJraXQzZCxpPSJ0cmFuc2xhdGUiKyhlPyIzZCI6IiIpKyIoIixuPShlPyIsMCI6IiIpKyIpIjtyZXR1cm4gaSt0LngrInB4LCIrdC55KyJweCIrbn0sZ2V0U2NhbGVTdHJpbmc6ZnVuY3Rpb24odCxlKXt2YXIgaT1zLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGUuYWRkKGUubXVsdGlwbHlCeSgtMSp0KSkpLG49IiBzY2FsZSgiK3QrIikgIjtyZXR1cm4gaStufSxzZXRQb3NpdGlvbjpmdW5jdGlvbih0LGUsaSl7dC5fbGVhZmxldF9wb3M9ZSwhaSYmcy5Ccm93c2VyLmFueTNkP3Quc3R5bGVbcy5Eb21VdGlsLlRSQU5TRk9STV09cy5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhlKToodC5zdHlsZS5sZWZ0PWUueCsicHgiLHQuc3R5bGUudG9wPWUueSsicHgiKX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQuX2xlYWZsZXRfcG9zfX0scy5Eb21VdGlsLlRSQU5TRk9STT1zLkRvbVV0aWwudGVzdFByb3AoWyJ0cmFuc2Zvcm0iLCJXZWJraXRUcmFuc2Zvcm0iLCJPVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iXSkscy5Eb21VdGlsLlRSQU5TSVRJT049cy5Eb21VdGlsLnRlc3RQcm9wKFsid2Via2l0VHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJtc1RyYW5zaXRpb24iXSkscy5Eb21VdGlsLlRSQU5TSVRJT05fRU5EPSJ3ZWJraXRUcmFuc2l0aW9uIj09PXMuRG9tVXRpbC5UUkFOU0lUSU9OfHwiT1RyYW5zaXRpb24iPT09cy5Eb21VdGlsLlRSQU5TSVRJT04/cy5Eb21VdGlsLlRSQU5TSVRJT04rIkVuZCI6InRyYW5zaXRpb25lbmQiLGZ1bmN0aW9uKCl7aWYoIm9uc2VsZWN0c3RhcnQiaW4gaSlzLmV4dGVuZChzLkRvbVV0aWwse2Rpc2FibGVUZXh0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vbih0LCJzZWxlY3RzdGFydCIscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9LGVuYWJsZVRleHRTZWxlY3Rpb246ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9mZih0LCJzZWxlY3RzdGFydCIscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9fSk7ZWxzZXt2YXIgZT1zLkRvbVV0aWwudGVzdFByb3AoWyJ1c2VyU2VsZWN0IiwiV2Via2l0VXNlclNlbGVjdCIsIk9Vc2VyU2VsZWN0IiwiTW96VXNlclNlbGVjdCIsIm1zVXNlclNlbGVjdCJdKTtzLmV4dGVuZChzLkRvbVV0aWwse2Rpc2FibGVUZXh0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7aWYoZSl7dmFyIHQ9aS5kb2N1bWVudEVsZW1lbnQuc3R5bGU7dGhpcy5fdXNlclNlbGVjdD10W2VdLHRbZV09Im5vbmUifX0sZW5hYmxlVGV4dFNlbGVjdGlvbjpmdW5jdGlvbigpe2UmJihpLmRvY3VtZW50RWxlbWVudC5zdHlsZVtlXT10aGlzLl91c2VyU2VsZWN0LGRlbGV0ZSB0aGlzLl91c2VyU2VsZWN0KX19KX1zLmV4dGVuZChzLkRvbVV0aWwse2Rpc2FibGVJbWFnZURyYWc6ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9uKHQsImRyYWdzdGFydCIscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9LGVuYWJsZUltYWdlRHJhZzpmdW5jdGlvbigpe3MuRG9tRXZlbnQub2ZmKHQsImRyYWdzdGFydCIscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCl9fSl9KCkscy5MYXRMbmc9ZnVuY3Rpb24odCxlLGkpe2lmKHQ9cGFyc2VGbG9hdCh0KSxlPXBhcnNlRmxvYXQoZSksaXNOYU4odCl8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBMYXRMbmcgb2JqZWN0OiAoIit0KyIsICIrZSsiKSIpO3RoaXMubGF0PXQsdGhpcy5sbmc9ZSxpIT09biYmKHRoaXMuYWx0PXBhcnNlRmxvYXQoaSkpfSxzLmV4dGVuZChzLkxhdExuZyx7REVHX1RPX1JBRDpNYXRoLlBJLzE4MCxSQURfVE9fREVHOjE4MC9NYXRoLlBJLE1BWF9NQVJHSU46MWUtOX0pLHMuTGF0TG5nLnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiExO3Q9cy5sYXRMbmcodCk7dmFyIGU9TWF0aC5tYXgoTWF0aC5hYnModGhpcy5sYXQtdC5sYXQpLE1hdGguYWJzKHRoaXMubG5nLXQubG5nKSk7cmV0dXJuIGU8PXMuTGF0TG5nLk1BWF9NQVJHSU59LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiJMYXRMbmcoIitzLlV0aWwuZm9ybWF0TnVtKHRoaXMubGF0LHQpKyIsICIrcy5VdGlsLmZvcm1hdE51bSh0aGlzLmxuZyx0KSsiKSJ9LGRpc3RhbmNlVG86ZnVuY3Rpb24odCl7dD1zLmxhdExuZyh0KTt2YXIgZT02Mzc4MTM3LGk9cy5MYXRMbmcuREVHX1RPX1JBRCxuPSh0LmxhdC10aGlzLmxhdCkqaSxvPSh0LmxuZy10aGlzLmxuZykqaSxhPXRoaXMubGF0Kmkscj10LmxhdCppLGw9TWF0aC5zaW4obi8yKSxoPU1hdGguc2luKG8vMiksdT1sKmwraCpoKk1hdGguY29zKGEpKk1hdGguY29zKHIpO3JldHVybiAyKmUqTWF0aC5hdGFuMihNYXRoLnNxcnQodSksTWF0aC5zcXJ0KDEtdSkpfSx3cmFwOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5sbmc7cmV0dXJuIHQ9dHx8LTE4MCxlPWV8fDE4MCxpPShpK2UpJShlLXQpKyh0Pml8fGk9PT1lP2U6dCksbmV3IHMuTGF0TG5nKHRoaXMubGF0LGkpfX0scy5sYXRMbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIHMuTGF0TG5nP3Q6cy5VdGlsLmlzQXJyYXkodCk/Im51bWJlciI9PXR5cGVvZiB0WzBdfHwic3RyaW5nIj09dHlwZW9mIHRbMF0/bmV3IHMuTGF0TG5nKHRbMF0sdFsxXSx0WzJdKTpudWxsOnQ9PT1ufHxudWxsPT09dD90OiJvYmplY3QiPT10eXBlb2YgdCYmImxhdCJpbiB0P25ldyBzLkxhdExuZyh0LmxhdCwibG5nImluIHQ/dC5sbmc6dC5sb24pOmU9PT1uP251bGw6bmV3IHMuTGF0TG5nKHQsZSl9LHMuTGF0TG5nQm91bmRzPWZ1bmN0aW9uKHQsZSl7aWYodClmb3IodmFyIGk9ZT9bdCxlXTp0LG49MCxvPWkubGVuZ3RoO28+bjtuKyspdGhpcy5leHRlbmQoaVtuXSl9LHMuTGF0TG5nQm91bmRzLnByb3RvdHlwZT17ZXh0ZW5kOmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciBlPXMubGF0TG5nKHQpO3JldHVybiB0PW51bGwhPT1lP2U6cy5sYXRMbmdCb3VuZHModCksdCBpbnN0YW5jZW9mIHMuTGF0TG5nP3RoaXMuX3NvdXRoV2VzdHx8dGhpcy5fbm9ydGhFYXN0Pyh0aGlzLl9zb3V0aFdlc3QubGF0PU1hdGgubWluKHQubGF0LHRoaXMuX3NvdXRoV2VzdC5sYXQpLHRoaXMuX3NvdXRoV2VzdC5sbmc9TWF0aC5taW4odC5sbmcsdGhpcy5fc291dGhXZXN0LmxuZyksdGhpcy5fbm9ydGhFYXN0LmxhdD1NYXRoLm1heCh0LmxhdCx0aGlzLl9ub3J0aEVhc3QubGF0KSx0aGlzLl9ub3J0aEVhc3QubG5nPU1hdGgubWF4KHQubG5nLHRoaXMuX25vcnRoRWFzdC5sbmcpKToodGhpcy5fc291dGhXZXN0PW5ldyBzLkxhdExuZyh0LmxhdCx0LmxuZyksdGhpcy5fbm9ydGhFYXN0PW5ldyBzLkxhdExuZyh0LmxhdCx0LmxuZykpOnQgaW5zdGFuY2VvZiBzLkxhdExuZ0JvdW5kcyYmKHRoaXMuZXh0ZW5kKHQuX3NvdXRoV2VzdCksdGhpcy5leHRlbmQodC5fbm9ydGhFYXN0KSksdGhpc30scGFkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NvdXRoV2VzdCxpPXRoaXMuX25vcnRoRWFzdCxuPU1hdGguYWJzKGUubGF0LWkubGF0KSp0LG89TWF0aC5hYnMoZS5sbmctaS5sbmcpKnQ7cmV0dXJuIG5ldyBzLkxhdExuZ0JvdW5kcyhuZXcgcy5MYXRMbmcoZS5sYXQtbixlLmxuZy1vKSxuZXcgcy5MYXRMbmcoaS5sYXQrbixpLmxuZytvKSl9LGdldENlbnRlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgcy5MYXRMbmcoKHRoaXMuX3NvdXRoV2VzdC5sYXQrdGhpcy5fbm9ydGhFYXN0LmxhdCkvMiwodGhpcy5fc291dGhXZXN0LmxuZyt0aGlzLl9ub3J0aEVhc3QubG5nKS8yKX0sZ2V0U291dGhXZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXRoV2VzdH0sZ2V0Tm9ydGhFYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcnRoRWFzdH0sZ2V0Tm9ydGhXZXN0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzLkxhdExuZyh0aGlzLmdldE5vcnRoKCksdGhpcy5nZXRXZXN0KCkpfSxnZXRTb3V0aEVhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMuTGF0TG5nKHRoaXMuZ2V0U291dGgoKSx0aGlzLmdldEVhc3QoKSl9LGdldFdlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291dGhXZXN0LmxuZ30sZ2V0U291dGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291dGhXZXN0LmxhdH0sZ2V0RWFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3J0aEVhc3QubG5nfSxnZXROb3J0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub3J0aEVhc3QubGF0fSxjb250YWluczpmdW5jdGlvbih0KXt0PSJudW1iZXIiPT10eXBlb2YgdFswXXx8dCBpbnN0YW5jZW9mIHMuTGF0TG5nP3MubGF0TG5nKHQpOnMubGF0TG5nQm91bmRzKHQpO3ZhciBlLGksbj10aGlzLl9zb3V0aFdlc3Qsbz10aGlzLl9ub3J0aEVhc3Q7cmV0dXJuIHQgaW5zdGFuY2VvZiBzLkxhdExuZ0JvdW5kcz8oZT10LmdldFNvdXRoV2VzdCgpLGk9dC5nZXROb3J0aEVhc3QoKSk6ZT1pPXQsZS5sYXQ+PW4ubGF0JiZpLmxhdDw9by5sYXQmJmUubG5nPj1uLmxuZyYmaS5sbmc8PW8ubG5nfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKHQpe3Q9cy5sYXRMbmdCb3VuZHModCk7dmFyIGU9dGhpcy5fc291dGhXZXN0LGk9dGhpcy5fbm9ydGhFYXN0LG49dC5nZXRTb3V0aFdlc3QoKSxvPXQuZ2V0Tm9ydGhFYXN0KCksYT1vLmxhdD49ZS5sYXQmJm4ubGF0PD1pLmxhdCxyPW8ubG5nPj1lLmxuZyYmbi5sbmc8PWkubG5nO3JldHVybiBhJiZyfSx0b0JCb3hTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5nZXRXZXN0KCksdGhpcy5nZXRTb3V0aCgpLHRoaXMuZ2V0RWFzdCgpLHRoaXMuZ2V0Tm9ydGgoKV0uam9pbigiLCIpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHQ9cy5sYXRMbmdCb3VuZHModCksdGhpcy5fc291dGhXZXN0LmVxdWFscyh0LmdldFNvdXRoV2VzdCgpKSYmdGhpcy5fbm9ydGhFYXN0LmVxdWFscyh0LmdldE5vcnRoRWFzdCgpKSk6ITF9LGlzVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLl9zb3V0aFdlc3R8fCF0aGlzLl9ub3J0aEVhc3QpfX0scy5sYXRMbmdCb3VuZHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hdHx8dCBpbnN0YW5jZW9mIHMuTGF0TG5nQm91bmRzP3Q6bmV3IHMuTGF0TG5nQm91bmRzKHQsZSl9LHMuUHJvamVjdGlvbj17fSxzLlByb2plY3Rpb24uU3BoZXJpY2FsTWVyY2F0b3I9e01BWF9MQVRJVFVERTo4NS4wNTExMjg3Nzk4LHByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9cy5MYXRMbmcuREVHX1RPX1JBRCxpPXRoaXMuTUFYX0xBVElUVURFLG49TWF0aC5tYXgoTWF0aC5taW4oaSx0LmxhdCksLWkpLG89dC5sbmcqZSxhPW4qZTtyZXR1cm4gYT1NYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJLzQrYS8yKSksbmV3IHMuUG9pbnQobyxhKX0sdW5wcm9qZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXMuTGF0TG5nLlJBRF9UT19ERUcsaT10LngqZSxuPSgyKk1hdGguYXRhbihNYXRoLmV4cCh0LnkpKS1NYXRoLlBJLzIpKmU7cmV0dXJuIG5ldyBzLkxhdExuZyhuLGkpfX0scy5Qcm9qZWN0aW9uLkxvbkxhdD17cHJvamVjdDpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuUG9pbnQodC5sbmcsdC5sYXQpfSx1bnByb2plY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkxhdExuZyh0LnksdC54KX19LHMuQ1JTPXtsYXRMbmdUb1BvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodCksbj10aGlzLnNjYWxlKGUpO3JldHVybiB0aGlzLnRyYW5zZm9ybWF0aW9uLl90cmFuc2Zvcm0oaSxuKX0scG9pbnRUb0xhdExuZzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuc2NhbGUoZSksbj10aGlzLnRyYW5zZm9ybWF0aW9uLnVudHJhbnNmb3JtKHQsaSk7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3Qobil9LHByb2plY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQpfSxzY2FsZTpmdW5jdGlvbih0KXtyZXR1cm4gMjU2Kk1hdGgucG93KDIsdCl9LGdldFNpemU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zY2FsZSh0KTtyZXR1cm4gcy5wb2ludChlLGUpfX0scy5DUlMuU2ltcGxlPXMuZXh0ZW5kKHt9LHMuQ1JTLHtwcm9qZWN0aW9uOnMuUHJvamVjdGlvbi5Mb25MYXQsdHJhbnNmb3JtYXRpb246bmV3IHMuVHJhbnNmb3JtYXRpb24oMSwwLC0xLDApLHNjYWxlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygyLHQpfX0pLHMuQ1JTLkVQU0czODU3PXMuZXh0ZW5kKHt9LHMuQ1JTLHtjb2RlOiJFUFNHOjM4NTciLHByb2plY3Rpb246cy5Qcm9qZWN0aW9uLlNwaGVyaWNhbE1lcmNhdG9yLHRyYW5zZm9ybWF0aW9uOm5ldyBzLlRyYW5zZm9ybWF0aW9uKC41L01hdGguUEksLjUsLS41L01hdGguUEksLjUpLHByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodCksaT02Mzc4MTM3O3JldHVybiBlLm11bHRpcGx5QnkoaSl9fSkscy5DUlMuRVBTRzkwMDkxMz1zLmV4dGVuZCh7fSxzLkNSUy5FUFNHMzg1Nyx7Y29kZToiRVBTRzo5MDA5MTMifSkscy5DUlMuRVBTRzQzMjY9cy5leHRlbmQoe30scy5DUlMse2NvZGU6IkVQU0c6NDMyNiIscHJvamVjdGlvbjpzLlByb2plY3Rpb24uTG9uTGF0LHRyYW5zZm9ybWF0aW9uOm5ldyBzLlRyYW5zZm9ybWF0aW9uKDEvMzYwLC41LC0xLzM2MCwuNSl9KSxzLk1hcD1zLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6cy5NaXhpbi5FdmVudHMsb3B0aW9uczp7Y3JzOnMuQ1JTLkVQU0czODU3LGZhZGVBbmltYXRpb246cy5Eb21VdGlsLlRSQU5TSVRJT04mJiFzLkJyb3dzZXIuYW5kcm9pZDIzLHRyYWNrUmVzaXplOiEwLG1hcmtlclpvb21BbmltYXRpb246cy5Eb21VdGlsLlRSQU5TSVRJT04mJnMuQnJvd3Nlci5hbnkzZH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe2U9cy5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5faW5pdENvbnRhaW5lcih0KSx0aGlzLl9pbml0TGF5b3V0KCksdGhpcy5fb25SZXNpemU9cy5iaW5kKHRoaXMuX29uUmVzaXplLHRoaXMpLHRoaXMuX2luaXRFdmVudHMoKSxlLm1heEJvdW5kcyYmdGhpcy5zZXRNYXhCb3VuZHMoZS5tYXhCb3VuZHMpLGUuY2VudGVyJiZlLnpvb20hPT1uJiZ0aGlzLnNldFZpZXcocy5sYXRMbmcoZS5jZW50ZXIpLGUuem9vbSx7cmVzZXQ6ITB9KSx0aGlzLl9oYW5kbGVycz1bXSx0aGlzLl9sYXllcnM9e30sdGhpcy5fem9vbUJvdW5kTGF5ZXJzPXt9LHRoaXMuX3RpbGVMYXllcnNOdW09MCx0aGlzLmNhbGxJbml0SG9va3MoKSx0aGlzLl9hZGRMYXllcnMoZS5sYXllcnMpfSxzZXRWaWV3OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZT09PW4/dGhpcy5nZXRab29tKCk6ZSx0aGlzLl9yZXNldFZpZXcocy5sYXRMbmcodCksdGhpcy5fbGltaXRab29tKGUpKSx0aGlzfSxzZXRab29tOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xvYWRlZD90aGlzLnNldFZpZXcodGhpcy5nZXRDZW50ZXIoKSx0LHt6b29tOmV9KToodGhpcy5fem9vbT10aGlzLl9saW1pdFpvb20odCksdGhpcyl9LHpvb21JbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldFpvb20odGhpcy5fem9vbSsodHx8MSksZSl9LHpvb21PdXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuX3pvb20tKHR8fDEpLGUpfSxzZXRab29tQXJvdW5kOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLmdldFpvb21TY2FsZShlKSxvPXRoaXMuZ2V0U2l6ZSgpLmRpdmlkZUJ5KDIpLGE9dCBpbnN0YW5jZW9mIHMuUG9pbnQ/dDp0aGlzLmxhdExuZ1RvQ29udGFpbmVyUG9pbnQodCkscj1hLnN1YnRyYWN0KG8pLm11bHRpcGx5QnkoMS0xL24pLGw9dGhpcy5jb250YWluZXJQb2ludFRvTGF0TG5nKG8uYWRkKHIpKTtyZXR1cm4gdGhpcy5zZXRWaWV3KGwsZSx7em9vbTppfSl9LGZpdEJvdW5kczpmdW5jdGlvbih0LGUpe2U9ZXx8e30sdD10LmdldEJvdW5kcz90LmdldEJvdW5kcygpOnMubGF0TG5nQm91bmRzKHQpO3ZhciBpPXMucG9pbnQoZS5wYWRkaW5nVG9wTGVmdHx8ZS5wYWRkaW5nfHxbMCwwXSksbj1zLnBvaW50KGUucGFkZGluZ0JvdHRvbVJpZ2h0fHxlLnBhZGRpbmd8fFswLDBdKSxvPXRoaXMuZ2V0Qm91bmRzWm9vbSh0LCExLGkuYWRkKG4pKSxhPW4uc3VidHJhY3QoaSkuZGl2aWRlQnkoMikscj10aGlzLnByb2plY3QodC5nZXRTb3V0aFdlc3QoKSxvKSxsPXRoaXMucHJvamVjdCh0LmdldE5vcnRoRWFzdCgpLG8pLGg9dGhpcy51bnByb2plY3Qoci5hZGQobCkuZGl2aWRlQnkoMikuYWRkKGEpLG8pO3JldHVybiBvPWUmJmUubWF4Wm9vbT9NYXRoLm1pbihlLm1heFpvb20sbyk6byx0aGlzLnNldFZpZXcoaCxvLGUpfSxmaXRXb3JsZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maXRCb3VuZHMoW1stOTAsLTE4MF0sWzkwLDE4MF1dLHQpfSxwYW5UbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldFZpZXcodCx0aGlzLl96b29tLHtwYW46ZX0pfSxwYW5CeTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maXJlKCJtb3Zlc3RhcnQiKSx0aGlzLl9yYXdQYW5CeShzLnBvaW50KHQpKSx0aGlzLmZpcmUoIm1vdmUiKSx0aGlzLmZpcmUoIm1vdmVlbmQiKX0sc2V0TWF4Qm91bmRzOmZ1bmN0aW9uKHQpe3JldHVybiB0PXMubGF0TG5nQm91bmRzKHQpLHRoaXMub3B0aW9ucy5tYXhCb3VuZHM9dCx0Pyh0aGlzLl9sb2FkZWQmJnRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcygpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyx0aGlzKSk6dGhpcy5vZmYoIm1vdmVlbmQiLHRoaXMuX3Bhbkluc2lkZU1heEJvdW5kcyx0aGlzKX0scGFuSW5zaWRlQm91bmRzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRDZW50ZXIoKSxuPXRoaXMuX2xpbWl0Q2VudGVyKGksdGhpcy5fem9vbSx0KTtyZXR1cm4gaS5lcXVhbHMobik/dGhpczp0aGlzLnBhblRvKG4sZSl9LGFkZExheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPXMuc3RhbXAodCk7cmV0dXJuIHRoaXMuX2xheWVyc1tlXT90aGlzOih0aGlzLl9sYXllcnNbZV09dCwhdC5vcHRpb25zfHxpc05hTih0Lm9wdGlvbnMubWF4Wm9vbSkmJmlzTmFOKHQub3B0aW9ucy5taW5ab29tKXx8KHRoaXMuX3pvb21Cb3VuZExheWVyc1tlXT10LHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKSksdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24mJnMuVGlsZUxheWVyJiZ0IGluc3RhbmNlb2Ygcy5UaWxlTGF5ZXImJih0aGlzLl90aWxlTGF5ZXJzTnVtKyssdGhpcy5fdGlsZUxheWVyc1RvTG9hZCsrLHQub24oImxvYWQiLHRoaXMuX29uVGlsZUxheWVyTG9hZCx0aGlzKSksdGhpcy5fbG9hZGVkJiZ0aGlzLl9sYXllckFkZCh0KSx0aGlzKX0scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9cy5zdGFtcCh0KTtyZXR1cm4gdGhpcy5fbGF5ZXJzW2VdPyh0aGlzLl9sb2FkZWQmJnQub25SZW1vdmUodGhpcyksZGVsZXRlIHRoaXMuX2xheWVyc1tlXSx0aGlzLl9sb2FkZWQmJnRoaXMuZmlyZSgibGF5ZXJyZW1vdmUiLHtsYXllcjp0fSksdGhpcy5fem9vbUJvdW5kTGF5ZXJzW2VdJiYoZGVsZXRlIHRoaXMuX3pvb21Cb3VuZExheWVyc1tlXSx0aGlzLl91cGRhdGVab29tTGV2ZWxzKCkpLHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uJiZzLlRpbGVMYXllciYmdCBpbnN0YW5jZW9mIHMuVGlsZUxheWVyJiYodGhpcy5fdGlsZUxheWVyc051bS0tLHRoaXMuX3RpbGVMYXllcnNUb0xvYWQtLSx0Lm9mZigibG9hZCIsdGhpcy5fb25UaWxlTGF5ZXJMb2FkLHRoaXMpKSx0aGlzKTp0aGlzfSxoYXNMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdD9zLnN0YW1wKHQpaW4gdGhpcy5fbGF5ZXJzOiExfSxlYWNoTGF5ZXI6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKXQuY2FsbChlLHRoaXMuX2xheWVyc1tpXSk7cmV0dXJuIHRoaXN9LGludmFsaWRhdGVTaXplOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuIHRoaXM7dD1zLmV4dGVuZCh7YW5pbWF0ZTohMSxwYW46ITB9LHQ9PT0hMD97YW5pbWF0ZTohMH06dCk7CnZhciBlPXRoaXMuZ2V0U2l6ZSgpO3RoaXMuX3NpemVDaGFuZ2VkPSEwLHRoaXMuX2luaXRpYWxDZW50ZXI9bnVsbDt2YXIgaT10aGlzLmdldFNpemUoKSxuPWUuZGl2aWRlQnkoMikucm91bmQoKSxvPWkuZGl2aWRlQnkoMikucm91bmQoKSxhPW4uc3VidHJhY3Qobyk7cmV0dXJuIGEueHx8YS55Pyh0LmFuaW1hdGUmJnQucGFuP3RoaXMucGFuQnkoYSk6KHQucGFuJiZ0aGlzLl9yYXdQYW5CeShhKSx0aGlzLmZpcmUoIm1vdmUiKSx0LmRlYm91bmNlTW92ZWVuZD8oY2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lciksdGhpcy5fc2l6ZVRpbWVyPXNldFRpbWVvdXQocy5iaW5kKHRoaXMuZmlyZSx0aGlzLCJtb3ZlZW5kIiksMjAwKSk6dGhpcy5maXJlKCJtb3ZlZW5kIikpLHRoaXMuZmlyZSgicmVzaXplIix7b2xkU2l6ZTplLG5ld1NpemU6aX0pKTp0aGlzfSxhZGRIYW5kbGVyOmZ1bmN0aW9uKHQsZSl7aWYoIWUpcmV0dXJuIHRoaXM7dmFyIGk9dGhpc1t0XT1uZXcgZSh0aGlzKTtyZXR1cm4gdGhpcy5faGFuZGxlcnMucHVzaChpKSx0aGlzLm9wdGlvbnNbdF0mJmkuZW5hYmxlKCksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fbG9hZGVkJiZ0aGlzLmZpcmUoInVubG9hZCIpLHRoaXMuX2luaXRFdmVudHMoIm9mZiIpO3RyeXtkZWxldGUgdGhpcy5fY29udGFpbmVyLl9sZWFmbGV0fWNhdGNoKHQpe3RoaXMuX2NvbnRhaW5lci5fbGVhZmxldD1ufXJldHVybiB0aGlzLl9jbGVhclBhbmVzKCksdGhpcy5fY2xlYXJDb250cm9sUG9zJiZ0aGlzLl9jbGVhckNvbnRyb2xQb3MoKSx0aGlzLl9jbGVhckhhbmRsZXJzKCksdGhpc30sZ2V0Q2VudGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoZWNrSWZMb2FkZWQoKSx0aGlzLl9pbml0aWFsQ2VudGVyJiYhdGhpcy5fbW92ZWQoKT90aGlzLl9pbml0aWFsQ2VudGVyOnRoaXMubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKSl9LGdldFpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fem9vbX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQaXhlbEJvdW5kcygpLGU9dGhpcy51bnByb2plY3QodC5nZXRCb3R0b21MZWZ0KCkpLGk9dGhpcy51bnByb2plY3QodC5nZXRUb3BSaWdodCgpKTtyZXR1cm4gbmV3IHMuTGF0TG5nQm91bmRzKGUsaSl9LGdldE1pblpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1pblpvb209PT1uP3RoaXMuX2xheWVyc01pblpvb209PT1uPzA6dGhpcy5fbGF5ZXJzTWluWm9vbTp0aGlzLm9wdGlvbnMubWluWm9vbX0sZ2V0TWF4Wm9vbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4Wm9vbT09PW4/dGhpcy5fbGF5ZXJzTWF4Wm9vbT09PW4/MS8wOnRoaXMuX2xheWVyc01heFpvb206dGhpcy5vcHRpb25zLm1heFpvb219LGdldEJvdW5kc1pvb206ZnVuY3Rpb24odCxlLGkpe3Q9cy5sYXRMbmdCb3VuZHModCk7dmFyIG4sbz10aGlzLmdldE1pblpvb20oKS0oZT8xOjApLGE9dGhpcy5nZXRNYXhab29tKCkscj10aGlzLmdldFNpemUoKSxsPXQuZ2V0Tm9ydGhXZXN0KCksaD10LmdldFNvdXRoRWFzdCgpLHU9ITA7aT1zLnBvaW50KGl8fFswLDBdKTtkbyBvKyssbj10aGlzLnByb2plY3QoaCxvKS5zdWJ0cmFjdCh0aGlzLnByb2plY3QobCxvKSkuYWRkKGkpLHU9ZT9uLng8ci54fHxuLnk8ci55OnIuY29udGFpbnMobik7d2hpbGUodSYmYT49byk7cmV0dXJuIHUmJmU/bnVsbDplP286by0xfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuKCF0aGlzLl9zaXplfHx0aGlzLl9zaXplQ2hhbmdlZCkmJih0aGlzLl9zaXplPW5ldyBzLlBvaW50KHRoaXMuX2NvbnRhaW5lci5jbGllbnRXaWR0aCx0aGlzLl9jb250YWluZXIuY2xpZW50SGVpZ2h0KSx0aGlzLl9zaXplQ2hhbmdlZD0hMSksdGhpcy5fc2l6ZS5jbG9uZSgpfSxnZXRQaXhlbEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldFRvcExlZnRQb2ludCgpO3JldHVybiBuZXcgcy5Cb3VuZHModCx0LmFkZCh0aGlzLmdldFNpemUoKSkpfSxnZXRQaXhlbE9yaWdpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jaGVja0lmTG9hZGVkKCksdGhpcy5faW5pdGlhbFRvcExlZnRQb2ludH0sZ2V0UGFuZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFuZXN9LGdldENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9LGdldFpvb21TY2FsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMuY3JzO3JldHVybiBlLnNjYWxlKHQpL2Uuc2NhbGUodGhpcy5fem9vbSl9LGdldFNjYWxlWm9vbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fem9vbStNYXRoLmxvZyh0KS9NYXRoLkxOMn0scHJvamVjdDpmdW5jdGlvbih0LGUpe3JldHVybiBlPWU9PT1uP3RoaXMuX3pvb206ZSx0aGlzLm9wdGlvbnMuY3JzLmxhdExuZ1RvUG9pbnQocy5sYXRMbmcodCksZSl9LHVucHJvamVjdDpmdW5jdGlvbih0LGUpe3JldHVybiBlPWU9PT1uP3RoaXMuX3pvb206ZSx0aGlzLm9wdGlvbnMuY3JzLnBvaW50VG9MYXRMbmcocy5wb2ludCh0KSxlKX0sbGF5ZXJQb2ludFRvTGF0TG5nOmZ1bmN0aW9uKHQpe3ZhciBlPXMucG9pbnQodCkuYWRkKHRoaXMuZ2V0UGl4ZWxPcmlnaW4oKSk7cmV0dXJuIHRoaXMudW5wcm9qZWN0KGUpfSxsYXRMbmdUb0xheWVyUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0KHMubGF0TG5nKHQpKS5fcm91bmQoKTtyZXR1cm4gZS5fc3VidHJhY3QodGhpcy5nZXRQaXhlbE9yaWdpbigpKX0sY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHMucG9pbnQodCkuc3VidHJhY3QodGhpcy5fZ2V0TWFwUGFuZVBvcygpKX0sbGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHMucG9pbnQodCkuYWRkKHRoaXMuX2dldE1hcFBhbmVQb3MoKSl9LGNvbnRhaW5lclBvaW50VG9MYXRMbmc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250YWluZXJQb2ludFRvTGF5ZXJQb2ludChzLnBvaW50KHQpKTtyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcoZSl9LGxhdExuZ1RvQ29udGFpbmVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGF5ZXJQb2ludFRvQ29udGFpbmVyUG9pbnQodGhpcy5sYXRMbmdUb0xheWVyUG9pbnQocy5sYXRMbmcodCkpKX0sbW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHMuRG9tRXZlbnQuZ2V0TW91c2VQb3NpdGlvbih0LHRoaXMuX2NvbnRhaW5lcil9LG1vdXNlRXZlbnRUb0xheWVyUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQodGhpcy5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludCh0KSl9LG1vdXNlRXZlbnRUb0xhdExuZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sYXllclBvaW50VG9MYXRMbmcodGhpcy5tb3VzZUV2ZW50VG9MYXllclBvaW50KHQpKX0sX2luaXRDb250YWluZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fY29udGFpbmVyPXMuRG9tVXRpbC5nZXQodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJNYXAgY29udGFpbmVyIG5vdCBmb3VuZC4iKTtpZihlLl9sZWFmbGV0KXRocm93IG5ldyBFcnJvcigiTWFwIGNvbnRhaW5lciBpcyBhbHJlYWR5IGluaXRpYWxpemVkLiIpO2UuX2xlYWZsZXQ9ITB9LF9pbml0TGF5b3V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29udGFpbmVyO3MuRG9tVXRpbC5hZGRDbGFzcyh0LCJsZWFmbGV0LWNvbnRhaW5lciIrKHMuQnJvd3Nlci50b3VjaD8iIGxlYWZsZXQtdG91Y2giOiIiKSsocy5Ccm93c2VyLnJldGluYT8iIGxlYWZsZXQtcmV0aW5hIjoiIikrKHMuQnJvd3Nlci5pZWx0OT8iIGxlYWZsZXQtb2xkaWUiOiIiKSsodGhpcy5vcHRpb25zLmZhZGVBbmltYXRpb24/IiBsZWFmbGV0LWZhZGUtYW5pbSI6IiIpKTt2YXIgZT1zLkRvbVV0aWwuZ2V0U3R5bGUodCwicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ZSYmInJlbGF0aXZlIiE9PWUmJiJmaXhlZCIhPT1lJiYodC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSx0aGlzLl9pbml0UGFuZXMoKSx0aGlzLl9pbml0Q29udHJvbFBvcyYmdGhpcy5faW5pdENvbnRyb2xQb3MoKX0sX2luaXRQYW5lczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BhbmVzPXt9O3RoaXMuX21hcFBhbmU9dC5tYXBQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtbWFwLXBhbmUiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdGlsZVBhbmU9dC50aWxlUGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LXRpbGUtcGFuZSIsdGhpcy5fbWFwUGFuZSksdC5vYmplY3RzUGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LW9iamVjdHMtcGFuZSIsdGhpcy5fbWFwUGFuZSksdC5zaGFkb3dQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtc2hhZG93LXBhbmUiKSx0Lm92ZXJsYXlQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtb3ZlcmxheS1wYW5lIiksdC5tYXJrZXJQYW5lPXRoaXMuX2NyZWF0ZVBhbmUoImxlYWZsZXQtbWFya2VyLXBhbmUiKSx0LnBvcHVwUGFuZT10aGlzLl9jcmVhdGVQYW5lKCJsZWFmbGV0LXBvcHVwLXBhbmUiKTt2YXIgZT0iIGxlYWZsZXQtem9vbS1oaWRlIjt0aGlzLm9wdGlvbnMubWFya2VyWm9vbUFuaW1hdGlvbnx8KHMuRG9tVXRpbC5hZGRDbGFzcyh0Lm1hcmtlclBhbmUsZSkscy5Eb21VdGlsLmFkZENsYXNzKHQuc2hhZG93UGFuZSxlKSxzLkRvbVV0aWwuYWRkQ2xhc3ModC5wb3B1cFBhbmUsZSkpfSxfY3JlYXRlUGFuZTpmdW5jdGlvbih0LGUpe3JldHVybiBzLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQsZXx8dGhpcy5fcGFuZXMub2JqZWN0c1BhbmUpfSxfY2xlYXJQYW5lczpmdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9tYXBQYW5lKX0sX2FkZExheWVyczpmdW5jdGlvbih0KXt0PXQ/cy5VdGlsLmlzQXJyYXkodCk/dDpbdF06W107Zm9yKHZhciBlPTAsaT10Lmxlbmd0aDtpPmU7ZSsrKXRoaXMuYWRkTGF5ZXIodFtlXSl9LF9yZXNldFZpZXc6ZnVuY3Rpb24odCxlLGksbil7dmFyIG89dGhpcy5fem9vbSE9PWU7bnx8KHRoaXMuZmlyZSgibW92ZXN0YXJ0IiksbyYmdGhpcy5maXJlKCJ6b29tc3RhcnQiKSksdGhpcy5fem9vbT1lLHRoaXMuX2luaXRpYWxDZW50ZXI9dCx0aGlzLl9pbml0aWFsVG9wTGVmdFBvaW50PXRoaXMuX2dldE5ld1RvcExlZnRQb2ludCh0KSxpP3RoaXMuX2luaXRpYWxUb3BMZWZ0UG9pbnQuX2FkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpOnMuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lLG5ldyBzLlBvaW50KDAsMCkpLHRoaXMuX3RpbGVMYXllcnNUb0xvYWQ9dGhpcy5fdGlsZUxheWVyc051bTt2YXIgYT0hdGhpcy5fbG9hZGVkO3RoaXMuX2xvYWRlZD0hMCxhJiYodGhpcy5maXJlKCJsb2FkIiksdGhpcy5lYWNoTGF5ZXIodGhpcy5fbGF5ZXJBZGQsdGhpcykpLHRoaXMuZmlyZSgidmlld3Jlc2V0Iix7aGFyZDohaX0pLHRoaXMuZmlyZSgibW92ZSIpLChvfHxuKSYmdGhpcy5maXJlKCJ6b29tZW5kIiksdGhpcy5maXJlKCJtb3ZlZW5kIix7aGFyZDohaX0pfSxfcmF3UGFuQnk6ZnVuY3Rpb24odCl7cy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX21hcFBhbmUsdGhpcy5fZ2V0TWFwUGFuZVBvcygpLnN1YnRyYWN0KHQpKX0sX2dldFpvb21TcGFuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TWF4Wm9vbSgpLXRoaXMuZ2V0TWluWm9vbSgpfSxfdXBkYXRlWm9vbUxldmVsczpmdW5jdGlvbigpe3ZhciB0LGU9MS8wLGk9LTEvMCxvPXRoaXMuX2dldFpvb21TcGFuKCk7Zm9yKHQgaW4gdGhpcy5fem9vbUJvdW5kTGF5ZXJzKXt2YXIgcz10aGlzLl96b29tQm91bmRMYXllcnNbdF07aXNOYU4ocy5vcHRpb25zLm1pblpvb20pfHwoZT1NYXRoLm1pbihlLHMub3B0aW9ucy5taW5ab29tKSksaXNOYU4ocy5vcHRpb25zLm1heFpvb20pfHwoaT1NYXRoLm1heChpLHMub3B0aW9ucy5tYXhab29tKSl9dD09PW4/dGhpcy5fbGF5ZXJzTWF4Wm9vbT10aGlzLl9sYXllcnNNaW5ab29tPW46KHRoaXMuX2xheWVyc01heFpvb209aSx0aGlzLl9sYXllcnNNaW5ab29tPWUpLG8hPT10aGlzLl9nZXRab29tU3BhbigpJiZ0aGlzLmZpcmUoInpvb21sZXZlbHNjaGFuZ2UiKX0sX3Bhbkluc2lkZU1heEJvdW5kczpmdW5jdGlvbigpe3RoaXMucGFuSW5zaWRlQm91bmRzKHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpfSxfY2hlY2tJZkxvYWRlZDpmdW5jdGlvbigpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKCJTZXQgbWFwIGNlbnRlciBhbmQgem9vbSBmaXJzdC4iKX0sX2luaXRFdmVudHM6ZnVuY3Rpb24oZSl7aWYocy5Eb21FdmVudCl7ZT1lfHwib24iLHMuRG9tRXZlbnRbZV0odGhpcy5fY29udGFpbmVyLCJjbGljayIsdGhpcy5fb25Nb3VzZUNsaWNrLHRoaXMpO3ZhciBpLG4sbz1bImRibGNsaWNrIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIiwiY29udGV4dG1lbnUiXTtmb3IoaT0wLG49by5sZW5ndGg7bj5pO2krKylzLkRvbUV2ZW50W2VdKHRoaXMuX2NvbnRhaW5lcixvW2ldLHRoaXMuX2ZpcmVNb3VzZUV2ZW50LHRoaXMpO3RoaXMub3B0aW9ucy50cmFja1Jlc2l6ZSYmcy5Eb21FdmVudFtlXSh0LCJyZXNpemUiLHRoaXMuX29uUmVzaXplLHRoaXMpfX0sX29uUmVzaXplOmZ1bmN0aW9uKCl7cy5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9yZXNpemVSZXF1ZXN0KSx0aGlzLl9yZXNpemVSZXF1ZXN0PXMuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKGZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlU2l6ZSh7ZGVib3VuY2VNb3ZlZW5kOiEwfSl9LHRoaXMsITEsdGhpcy5fY29udGFpbmVyKX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXshdGhpcy5fbG9hZGVkfHwhdC5fc2ltdWxhdGVkJiYodGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5tb3ZlZCgpfHx0aGlzLmJveFpvb20mJnRoaXMuYm94Wm9vbS5tb3ZlZCgpKXx8cy5Eb21FdmVudC5fc2tpcHBlZCh0KXx8KHRoaXMuZmlyZSgicHJlY2xpY2siKSx0aGlzLl9maXJlTW91c2VFdmVudCh0KSl9LF9maXJlTW91c2VFdmVudDpmdW5jdGlvbih0KXtpZih0aGlzLl9sb2FkZWQmJiFzLkRvbUV2ZW50Ll9za2lwcGVkKHQpKXt2YXIgZT10LnR5cGU7aWYoZT0ibW91c2VlbnRlciI9PT1lPyJtb3VzZW92ZXIiOiJtb3VzZWxlYXZlIj09PWU/Im1vdXNlb3V0IjplLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnMoZSkpeyJjb250ZXh0bWVudSI9PT1lJiZzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpO3ZhciBpPXRoaXMubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksbj10aGlzLmNvbnRhaW5lclBvaW50VG9MYXllclBvaW50KGkpLG89dGhpcy5sYXllclBvaW50VG9MYXRMbmcobik7dGhpcy5maXJlKGUse2xhdGxuZzpvLGxheWVyUG9pbnQ6bixjb250YWluZXJQb2ludDppLG9yaWdpbmFsRXZlbnQ6dH0pfX19LF9vblRpbGVMYXllckxvYWQ6ZnVuY3Rpb24oKXt0aGlzLl90aWxlTGF5ZXJzVG9Mb2FkLS0sdGhpcy5fdGlsZUxheWVyc051bSYmIXRoaXMuX3RpbGVMYXllcnNUb0xvYWQmJnRoaXMuZmlyZSgidGlsZWxheWVyc2xvYWQiKX0sX2NsZWFySGFuZGxlcnM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuX2hhbmRsZXJzLmxlbmd0aDtlPnQ7dCsrKXRoaXMuX2hhbmRsZXJzW3RdLmRpc2FibGUoKX0sd2hlblJlYWR5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xvYWRlZD90LmNhbGwoZXx8dGhpcyx0aGlzKTp0aGlzLm9uKCJsb2FkIix0LGUpLHRoaXN9LF9sYXllckFkZDpmdW5jdGlvbih0KXt0Lm9uQWRkKHRoaXMpLHRoaXMuZmlyZSgibGF5ZXJhZGQiLHtsYXllcjp0fSl9LF9nZXRNYXBQYW5lUG9zOmZ1bmN0aW9uKCl7cmV0dXJuIHMuRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9tYXBQYW5lKX0sX21vdmVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0TWFwUGFuZVBvcygpO3JldHVybiB0JiYhdC5lcXVhbHMoWzAsMF0pfSxfZ2V0VG9wTGVmdFBvaW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGl4ZWxPcmlnaW4oKS5zdWJ0cmFjdCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpfSxfZ2V0TmV3VG9wTGVmdFBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpO3JldHVybiB0aGlzLnByb2plY3QodCxlKS5fc3VidHJhY3QoaSkuX3JvdW5kKCl9LF9sYXRMbmdUb05ld0xheWVyUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBuPXRoaXMuX2dldE5ld1RvcExlZnRQb2ludChpLGUpLmFkZCh0aGlzLl9nZXRNYXBQYW5lUG9zKCkpO3JldHVybiB0aGlzLnByb2plY3QodCxlKS5fc3VidHJhY3Qobil9LF9nZXRDZW50ZXJMYXllclBvaW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQodGhpcy5nZXRTaXplKCkuX2RpdmlkZUJ5KDIpKX0sX2dldENlbnRlck9mZnNldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sYXRMbmdUb0xheWVyUG9pbnQodCkuc3VidHJhY3QodGhpcy5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpKX0sX2xpbWl0Q2VudGVyOmZ1bmN0aW9uKHQsZSxpKXtpZighaSlyZXR1cm4gdDt2YXIgbj10aGlzLnByb2plY3QodCxlKSxvPXRoaXMuZ2V0U2l6ZSgpLmRpdmlkZUJ5KDIpLGE9bmV3IHMuQm91bmRzKG4uc3VidHJhY3Qobyksbi5hZGQobykpLHI9dGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KGEsaSxlKTtyZXR1cm4gdGhpcy51bnByb2plY3Qobi5hZGQociksZSl9LF9saW1pdE9mZnNldDpmdW5jdGlvbih0LGUpe2lmKCFlKXJldHVybiB0O3ZhciBpPXRoaXMuZ2V0UGl4ZWxCb3VuZHMoKSxuPW5ldyBzLkJvdW5kcyhpLm1pbi5hZGQodCksaS5tYXguYWRkKHQpKTtyZXR1cm4gdC5hZGQodGhpcy5fZ2V0Qm91bmRzT2Zmc2V0KG4sZSkpfSxfZ2V0Qm91bmRzT2Zmc2V0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLnByb2plY3QoZS5nZXROb3J0aFdlc3QoKSxpKS5zdWJ0cmFjdCh0Lm1pbiksbz10aGlzLnByb2plY3QoZS5nZXRTb3V0aEVhc3QoKSxpKS5zdWJ0cmFjdCh0Lm1heCksYT10aGlzLl9yZWJvdW5kKG4ueCwtby54KSxyPXRoaXMuX3JlYm91bmQobi55LC1vLnkpO3JldHVybiBuZXcgcy5Qb2ludChhLHIpfSxfcmVib3VuZDpmdW5jdGlvbih0LGUpe3JldHVybiB0K2U+MD9NYXRoLnJvdW5kKHQtZSkvMjpNYXRoLm1heCgwLE1hdGguY2VpbCh0KSktTWF0aC5tYXgoMCxNYXRoLmZsb29yKGUpKX0sX2xpbWl0Wm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1pblpvb20oKSxpPXRoaXMuZ2V0TWF4Wm9vbSgpO3JldHVybiBNYXRoLm1heChlLE1hdGgubWluKGksdCkpfX0pLHMubWFwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLk1hcCh0LGUpfSxzLlByb2plY3Rpb24uTWVyY2F0b3I9e01BWF9MQVRJVFVERTo4NS4wODQwNTkxNTU2LFJfTUlOT1I6NjM1Njc1Mi4zMTQyNDUxNzksUl9NQUpPUjo2Mzc4MTM3LHByb2plY3Q6ZnVuY3Rpb24odCl7dmFyIGU9cy5MYXRMbmcuREVHX1RPX1JBRCxpPXRoaXMuTUFYX0xBVElUVURFLG49TWF0aC5tYXgoTWF0aC5taW4oaSx0LmxhdCksLWkpLG89dGhpcy5SX01BSk9SLGE9dGhpcy5SX01JTk9SLHI9dC5sbmcqZSpvLGw9biplLGg9YS9vLHU9TWF0aC5zcXJ0KDEtaCpoKSxjPXUqTWF0aC5zaW4obCk7Yz1NYXRoLnBvdygoMS1jKS8oMStjKSwuNSp1KTt2YXIgcD1NYXRoLnRhbiguNSooLjUqTWF0aC5QSS1sKSkvYztyZXR1cm4gbD0tbypNYXRoLmxvZyhwKSxuZXcgcy5Qb2ludChyLGwpfSx1bnByb2plY3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9cy5MYXRMbmcuUkFEX1RPX0RFRyxuPXRoaXMuUl9NQUpPUixvPXRoaXMuUl9NSU5PUixhPXQueCppL24scj1vL24sbD1NYXRoLnNxcnQoMS1yKnIpLGg9TWF0aC5leHAoLXQueS9uKSx1PU1hdGguUEkvMi0yKk1hdGguYXRhbihoKSxjPTE1LHA9MWUtNyxkPWMsbT0uMTtNYXRoLmFicyhtKT5wJiYtLWQ+MDspZT1sKk1hdGguc2luKHUpLG09TWF0aC5QSS8yLTIqTWF0aC5hdGFuKGgqTWF0aC5wb3coKDEtZSkvKDErZSksLjUqbCkpLXUsdSs9bTtyZXR1cm4gbmV3IHMuTGF0TG5nKHUqaSxhKX19LHMuQ1JTLkVQU0czMzk1PXMuZXh0ZW5kKHt9LHMuQ1JTLHtjb2RlOiJFUFNHOjMzOTUiLHByb2plY3Rpb246cy5Qcm9qZWN0aW9uLk1lcmNhdG9yLHRyYW5zZm9ybWF0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9cy5Qcm9qZWN0aW9uLk1lcmNhdG9yLGU9dC5SX01BSk9SLGk9LjUvKE1hdGguUEkqZSk7cmV0dXJuIG5ldyBzLlRyYW5zZm9ybWF0aW9uKGksLjUsLWksLjUpfSgpfSkscy5UaWxlTGF5ZXI9cy5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOnMuTWl4aW4uRXZlbnRzLG9wdGlvbnM6e21pblpvb206MCxtYXhab29tOjE4LHRpbGVTaXplOjI1NixzdWJkb21haW5zOiJhYmMiLGVycm9yVGlsZVVybDoiIixhdHRyaWJ1dGlvbjoiIix6b29tT2Zmc2V0OjAsb3BhY2l0eToxLHVubG9hZEludmlzaWJsZVRpbGVzOnMuQnJvd3Nlci5tb2JpbGUsdXBkYXRlV2hlbklkbGU6cy5Ccm93c2VyLm1vYmlsZX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe2U9cy5zZXRPcHRpb25zKHRoaXMsZSksZS5kZXRlY3RSZXRpbmEmJnMuQnJvd3Nlci5yZXRpbmEmJmUubWF4Wm9vbT4wJiYoZS50aWxlU2l6ZT1NYXRoLmZsb29yKGUudGlsZVNpemUvMiksZS56b29tT2Zmc2V0KyssZS5taW5ab29tPjAmJmUubWluWm9vbS0tLHRoaXMub3B0aW9ucy5tYXhab29tLS0pLGUuYm91bmRzJiYoZS5ib3VuZHM9cy5sYXRMbmdCb3VuZHMoZS5ib3VuZHMpKSx0aGlzLl91cmw9dDt2YXIgaT10aGlzLm9wdGlvbnMuc3ViZG9tYWluczsic3RyaW5nIj09dHlwZW9mIGkmJih0aGlzLm9wdGlvbnMuc3ViZG9tYWlucz1pLnNwbGl0KCIiKSl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX2FuaW1hdGVkPXQuX3pvb21BbmltYXRlZCx0aGlzLl9pbml0Q29udGFpbmVyKCksdC5vbih7dmlld3Jlc2V0OnRoaXMuX3Jlc2V0LG1vdmVlbmQ6dGhpcy5fdXBkYXRlfSx0aGlzKSx0aGlzLl9hbmltYXRlZCYmdC5vbih7em9vbWFuaW06dGhpcy5fYW5pbWF0ZVpvb20sem9vbWVuZDp0aGlzLl9lbmRab29tQW5pbX0sdGhpcyksdGhpcy5vcHRpb25zLnVwZGF0ZVdoZW5JZGxlfHwodGhpcy5fbGltaXRlZFVwZGF0ZT1zLlV0aWwubGltaXRFeGVjQnlJbnRlcnZhbCh0aGlzLl91cGRhdGUsMTUwLHRoaXMpLHQub24oIm1vdmUiLHRoaXMuX2xpbWl0ZWRVcGRhdGUsdGhpcykpLHRoaXMuX3Jlc2V0KCksdGhpcy5fdXBkYXRlKCl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdC5vZmYoe3ZpZXdyZXNldDp0aGlzLl9yZXNldCxtb3ZlZW5kOnRoaXMuX3VwZGF0ZX0sdGhpcyksdGhpcy5fYW5pbWF0ZWQmJnQub2ZmKHt6b29tYW5pbTp0aGlzLl9hbmltYXRlWm9vbSx6b29tZW5kOnRoaXMuX2VuZFpvb21BbmltfSx0aGlzKSx0aGlzLm9wdGlvbnMudXBkYXRlV2hlbklkbGV8fHQub2ZmKCJtb3ZlIix0aGlzLl9saW1pdGVkVXBkYXRlLHRoaXMpLHRoaXMuX2NvbnRhaW5lcj1udWxsLHRoaXMuX21hcD1udWxsfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhbmVzLnRpbGVQYW5lO3JldHVybiB0aGlzLl9jb250YWluZXImJih0LmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fc2V0QXV0b1pJbmRleCh0LE1hdGgubWF4KSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhbmVzLnRpbGVQYW5lO3JldHVybiB0aGlzLl9jb250YWluZXImJih0Lmluc2VydEJlZm9yZSh0aGlzLl9jb250YWluZXIsdC5maXJzdENoaWxkKSx0aGlzLl9zZXRBdXRvWkluZGV4KHQsTWF0aC5taW4pKSx0aGlzfSxnZXRBdHRyaWJ1dGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuYXR0cmlidXRpb259LGdldENvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9LHNldE9wYWNpdHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5vcGFjaXR5PXQsdGhpcy5fbWFwJiZ0aGlzLl91cGRhdGVPcGFjaXR5KCksdGhpc30sc2V0WkluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuekluZGV4PXQsdGhpcy5fdXBkYXRlWkluZGV4KCksdGhpc30sc2V0VXJsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3VybD10LGV8fHRoaXMucmVkcmF3KCksdGhpc30scmVkcmF3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMuX3Jlc2V0KHtoYXJkOiEwfSksdGhpcy5fdXBkYXRlKCkpLHRoaXN9LF91cGRhdGVaSW5kZXg6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXImJnRoaXMub3B0aW9ucy56SW5kZXghPT1uJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLnpJbmRleD10aGlzLm9wdGlvbnMuekluZGV4KX0sX3NldEF1dG9aSW5kZXg6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8scz10LmNoaWxkcmVuLGE9LWUoMS8wLC0xLzApO2ZvcihuPTAsbz1zLmxlbmd0aDtvPm47bisrKXNbbl0hPT10aGlzLl9jb250YWluZXImJihpPXBhcnNlSW50KHNbbl0uc3R5bGUuekluZGV4LDEwKSxpc05hTihpKXx8KGE9ZShhLGkpKSk7dGhpcy5vcHRpb25zLnpJbmRleD10aGlzLl9jb250YWluZXIuc3R5bGUuekluZGV4PShpc0Zpbml0ZShhKT9hOjApK2UoMSwtMSl9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90aWxlcztpZihzLkJyb3dzZXIuaWVsdDkpZm9yKHQgaW4gZSlzLkRvbVV0aWwuc2V0T3BhY2l0eShlW3RdLHRoaXMub3B0aW9ucy5vcGFjaXR5KTtlbHNlIHMuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lcix0aGlzLm9wdGlvbnMub3BhY2l0eSl9LF9pbml0Q29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLl9wYW5lcy50aWxlUGFuZTtpZighdGhpcy5fY29udGFpbmVyKXtpZih0aGlzLl9jb250YWluZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibGVhZmxldC1sYXllciIpLHRoaXMuX3VwZGF0ZVpJbmRleCgpLHRoaXMuX2FuaW1hdGVkKXt2YXIgZT0ibGVhZmxldC10aWxlLWNvbnRhaW5lciI7dGhpcy5fYmdCdWZmZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdGlsZUNvbnRhaW5lcj1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUsdGhpcy5fY29udGFpbmVyKX1lbHNlIHRoaXMuX3RpbGVDb250YWluZXI9dGhpcy5fY29udGFpbmVyO3QuYXBwZW5kQ2hpbGQodGhpcy5fY29udGFpbmVyKSx0aGlzLm9wdGlvbnMub3BhY2l0eTwxJiZ0aGlzLl91cGRhdGVPcGFjaXR5KCl9fSxfcmVzZXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuX3RpbGVzKXRoaXMuZmlyZSgidGlsZXVubG9hZCIse3RpbGU6dGhpcy5fdGlsZXNbZV19KTt0aGlzLl90aWxlcz17fSx0aGlzLl90aWxlc1RvTG9hZD0wLHRoaXMub3B0aW9ucy5yZXVzZVRpbGVzJiYodGhpcy5fdW51c2VkVGlsZXM9W10pLHRoaXMuX3RpbGVDb250YWluZXIuaW5uZXJIVE1MPSIiLHRoaXMuX2FuaW1hdGVkJiZ0JiZ0LmhhcmQmJnRoaXMuX2NsZWFyQmdCdWZmZXIoKSx0aGlzLl9pbml0Q29udGFpbmVyKCl9LF9nZXRUaWxlU2l6ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcCxlPXQuZ2V0Wm9vbSgpK3RoaXMub3B0aW9ucy56b29tT2Zmc2V0LGk9dGhpcy5vcHRpb25zLm1heE5hdGl2ZVpvb20sbj10aGlzLm9wdGlvbnMudGlsZVNpemU7cmV0dXJuIGkmJmU+aSYmKG49TWF0aC5yb3VuZCh0LmdldFpvb21TY2FsZShlKS90LmdldFpvb21TY2FsZShpKSpuKSksbn0sX3VwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX21hcCl7dmFyIHQ9dGhpcy5fbWFwLGU9dC5nZXRQaXhlbEJvdW5kcygpLGk9dC5nZXRab29tKCksbj10aGlzLl9nZXRUaWxlU2l6ZSgpO2lmKCEoaT50aGlzLm9wdGlvbnMubWF4Wm9vbXx8aTx0aGlzLm9wdGlvbnMubWluWm9vbSkpe3ZhciBvPXMuYm91bmRzKGUubWluLmRpdmlkZUJ5KG4pLl9mbG9vcigpLGUubWF4LmRpdmlkZUJ5KG4pLl9mbG9vcigpKTt0aGlzLl9hZGRUaWxlc0Zyb21DZW50ZXJPdXQobyksKHRoaXMub3B0aW9ucy51bmxvYWRJbnZpc2libGVUaWxlc3x8dGhpcy5vcHRpb25zLnJldXNlVGlsZXMpJiZ0aGlzLl9yZW1vdmVPdGhlclRpbGVzKG8pfX19LF9hZGRUaWxlc0Zyb21DZW50ZXJPdXQ6ZnVuY3Rpb24odCl7dmFyIGUsbixvLGE9W10scj10LmdldENlbnRlcigpO2ZvcihlPXQubWluLnk7ZTw9dC5tYXgueTtlKyspZm9yKG49dC5taW4ueDtuPD10Lm1heC54O24rKylvPW5ldyBzLlBvaW50KG4sZSksdGhpcy5fdGlsZVNob3VsZEJlTG9hZGVkKG8pJiZhLnB1c2gobyk7dmFyIGw9YS5sZW5ndGg7aWYoMCE9PWwpe2Euc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRpc3RhbmNlVG8ociktZS5kaXN0YW5jZVRvKHIpfSk7dmFyIGg9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHRoaXMuX3RpbGVzVG9Mb2FkfHx0aGlzLmZpcmUoImxvYWRpbmciKSx0aGlzLl90aWxlc1RvTG9hZCs9bCxuPTA7bD5uO24rKyl0aGlzLl9hZGRUaWxlKGFbbl0saCk7dGhpcy5fdGlsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChoKX19LF90aWxlU2hvdWxkQmVMb2FkZWQ6ZnVuY3Rpb24odCl7aWYodC54KyI6Iit0LnkgaW4gdGhpcy5fdGlsZXMpcmV0dXJuITE7dmFyIGU9dGhpcy5vcHRpb25zO2lmKCFlLmNvbnRpbnVvdXNXb3JsZCl7dmFyIGk9dGhpcy5fZ2V0V3JhcFRpbGVOdW0oKTtpZihlLm5vV3JhcCYmKHQueDwwfHx0Lng+PWkueCl8fHQueTwwfHx0Lnk+PWkueSlyZXR1cm4hMX1pZihlLmJvdW5kcyl7dmFyIG49ZS50aWxlU2l6ZSxvPXQubXVsdGlwbHlCeShuKSxzPW8uYWRkKFtuLG5dKSxhPXRoaXMuX21hcC51bnByb2plY3Qobykscj10aGlzLl9tYXAudW5wcm9qZWN0KHMpO2lmKGUuY29udGludW91c1dvcmxkfHxlLm5vV3JhcHx8KGE9YS53cmFwKCkscj1yLndyYXAoKSksIWUuYm91bmRzLmludGVyc2VjdHMoW2Escl0pKXJldHVybiExfXJldHVybiEwfSxfcmVtb3ZlT3RoZXJUaWxlczpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbztmb3IobyBpbiB0aGlzLl90aWxlcyllPW8uc3BsaXQoIjoiKSxpPXBhcnNlSW50KGVbMF0sMTApLG49cGFyc2VJbnQoZVsxXSwxMCksKGk8dC5taW4ueHx8aT50Lm1heC54fHxuPHQubWluLnl8fG4+dC5tYXgueSkmJnRoaXMuX3JlbW92ZVRpbGUobyl9LF9yZW1vdmVUaWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RpbGVzW3RdO3RoaXMuZmlyZSgidGlsZXVubG9hZCIse3RpbGU6ZSx1cmw6ZS5zcmN9KSx0aGlzLm9wdGlvbnMucmV1c2VUaWxlcz8ocy5Eb21VdGlsLnJlbW92ZUNsYXNzKGUsImxlYWZsZXQtdGlsZS1sb2FkZWQiKSx0aGlzLl91bnVzZWRUaWxlcy5wdXNoKGUpKTplLnBhcmVudE5vZGU9PT10aGlzLl90aWxlQ29udGFpbmVyJiZ0aGlzLl90aWxlQ29udGFpbmVyLnJlbW92ZUNoaWxkKGUpLHMuQnJvd3Nlci5hbmRyb2lkfHwoZS5vbmxvYWQ9bnVsbCxlLnNyYz1zLlV0aWwuZW1wdHlJbWFnZVVybCksZGVsZXRlIHRoaXMuX3RpbGVzW3RdfSxfYWRkVGlsZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2dldFRpbGVQb3ModCksbj10aGlzLl9nZXRUaWxlKCk7cy5Eb21VdGlsLnNldFBvc2l0aW9uKG4saSxzLkJyb3dzZXIuY2hyb21lKSx0aGlzLl90aWxlc1t0LngrIjoiK3QueV09bix0aGlzLl9sb2FkVGlsZShuLHQpLG4ucGFyZW50Tm9kZSE9PXRoaXMuX3RpbGVDb250YWluZXImJmUuYXBwZW5kQ2hpbGQobil9LF9nZXRab29tRm9yVXJsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGU9dGhpcy5fbWFwLmdldFpvb20oKTtyZXR1cm4gdC56b29tUmV2ZXJzZSYmKGU9dC5tYXhab29tLWUpLGUrPXQuem9vbU9mZnNldCx0Lm1heE5hdGl2ZVpvb20/TWF0aC5taW4oZSx0Lm1heE5hdGl2ZVpvb20pOmV9LF9nZXRUaWxlUG9zOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcC5nZXRQaXhlbE9yaWdpbigpLGk9dGhpcy5fZ2V0VGlsZVNpemUoKTtyZXR1cm4gdC5tdWx0aXBseUJ5KGkpLnN1YnRyYWN0KGUpfSxnZXRUaWxlVXJsOmZ1bmN0aW9uKHQpe3JldHVybiBzLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLHMuZXh0ZW5kKHtzOnRoaXMuX2dldFN1YmRvbWFpbih0KSx6OnQueix4OnQueCx5OnQueX0sdGhpcy5vcHRpb25zKSl9LF9nZXRXcmFwVGlsZU51bTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5vcHRpb25zLmNycyxlPXQuZ2V0U2l6ZSh0aGlzLl9tYXAuZ2V0Wm9vbSgpKTtyZXR1cm4gZS5kaXZpZGVCeSh0aGlzLm9wdGlvbnMudGlsZVNpemUpfSxfYWRqdXN0VGlsZVBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFdyYXBUaWxlTnVtKCk7dGhpcy5vcHRpb25zLmNvbnRpbnVvdXNXb3JsZHx8dGhpcy5vcHRpb25zLm5vV3JhcHx8KHQueD0odC54JWUueCtlLngpJWUueCksdGhpcy5vcHRpb25zLnRtcyYmKHQueT1lLnktdC55LTEpLHQuej10aGlzLl9nZXRab29tRm9yVXJsKCl9LF9nZXRTdWJkb21haW46ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5hYnModC54K3QueSkldGhpcy5vcHRpb25zLnN1YmRvbWFpbnMubGVuZ3RoO3JldHVybiB0aGlzLm9wdGlvbnMuc3ViZG9tYWluc1tlXX0sX2dldFRpbGU6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMucmV1c2VUaWxlcyYmdGhpcy5fdW51c2VkVGlsZXMubGVuZ3RoPjApe3ZhciB0PXRoaXMuX3VudXNlZFRpbGVzLnBvcCgpO3JldHVybiB0aGlzLl9yZXNldFRpbGUodCksdH1yZXR1cm4gdGhpcy5fY3JlYXRlVGlsZSgpfSxfcmVzZXRUaWxlOmZ1bmN0aW9uKCl7fSxfY3JlYXRlVGlsZTpmdW5jdGlvbigpe3ZhciB0PXMuRG9tVXRpbC5jcmVhdGUoImltZyIsImxlYWZsZXQtdGlsZSIpO3JldHVybiB0LnN0eWxlLndpZHRoPXQuc3R5bGUuaGVpZ2h0PXRoaXMuX2dldFRpbGVTaXplKCkrInB4Iix0LmdhbGxlcnlpbWc9Im5vIix0Lm9uc2VsZWN0c3RhcnQ9dC5vbm1vdXNlbW92ZT1zLlV0aWwuZmFsc2VGbixzLkJyb3dzZXIuaWVsdDkmJnRoaXMub3B0aW9ucy5vcGFjaXR5IT09biYmcy5Eb21VdGlsLnNldE9wYWNpdHkodCx0aGlzLm9wdGlvbnMub3BhY2l0eSkscy5Ccm93c2VyLm1vYmlsZVdlYmtpdDNkJiYodC5zdHlsZS5XZWJraXRCYWNrZmFjZVZpc2liaWxpdHk9ImhpZGRlbiIpLHR9LF9sb2FkVGlsZTpmdW5jdGlvbih0LGUpe3QuX2xheWVyPXRoaXMsdC5vbmxvYWQ9dGhpcy5fdGlsZU9uTG9hZCx0Lm9uZXJyb3I9dGhpcy5fdGlsZU9uRXJyb3IsdGhpcy5fYWRqdXN0VGlsZVBvaW50KGUpLHQuc3JjPXRoaXMuZ2V0VGlsZVVybChlKSx0aGlzLmZpcmUoInRpbGVsb2Fkc3RhcnQiLHt0aWxlOnQsdXJsOnQuc3JjfSl9LF90aWxlTG9hZGVkOmZ1bmN0aW9uKCl7dGhpcy5fdGlsZXNUb0xvYWQtLSx0aGlzLl9hbmltYXRlZCYmcy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3RpbGVDb250YWluZXIsImxlYWZsZXQtem9vbS1hbmltYXRlZCIpLHRoaXMuX3RpbGVzVG9Mb2FkfHwodGhpcy5maXJlKCJsb2FkIiksdGhpcy5fYW5pbWF0ZWQmJihjbGVhclRpbWVvdXQodGhpcy5fY2xlYXJCZ0J1ZmZlclRpbWVyKSx0aGlzLl9jbGVhckJnQnVmZmVyVGltZXI9c2V0VGltZW91dChzLmJpbmQodGhpcy5fY2xlYXJCZ0J1ZmZlcix0aGlzKSw1MDApKSl9LF90aWxlT25Mb2FkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbGF5ZXI7dGhpcy5zcmMhPT1zLlV0aWwuZW1wdHlJbWFnZVVybCYmKHMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLCJsZWFmbGV0LXRpbGUtbG9hZGVkIiksdC5maXJlKCJ0aWxlbG9hZCIse3RpbGU6dGhpcyx1cmw6dGhpcy5zcmN9KSksdC5fdGlsZUxvYWRlZCgpfSxfdGlsZU9uRXJyb3I6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYXllcjt0LmZpcmUoInRpbGVlcnJvciIse3RpbGU6dGhpcyx1cmw6dGhpcy5zcmN9KTt2YXIgZT10Lm9wdGlvbnMuZXJyb3JUaWxlVXJsO2UmJih0aGlzLnNyYz1lKSx0Ll90aWxlTG9hZGVkKCl9fSkscy50aWxlTGF5ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHMuVGlsZUxheWVyKHQsZSl9LHMuVGlsZUxheWVyLldNUz1zLlRpbGVMYXllci5leHRlbmQoe2RlZmF1bHRXbXNQYXJhbXM6e3NlcnZpY2U6IldNUyIscmVxdWVzdDoiR2V0TWFwIix2ZXJzaW9uOiIxLjEuMSIsbGF5ZXJzOiIiLHN0eWxlczoiIixmb3JtYXQ6ImltYWdlL2pwZWciLHRyYW5zcGFyZW50OiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5fdXJsPXQ7dmFyIGk9cy5leHRlbmQoe30sdGhpcy5kZWZhdWx0V21zUGFyYW1zKSxuPWUudGlsZVNpemV8fHRoaXMub3B0aW9ucy50aWxlU2l6ZTtpLndpZHRoPWkuaGVpZ2h0PWUuZGV0ZWN0UmV0aW5hJiZzLkJyb3dzZXIucmV0aW5hPzIqbjpuO2Zvcih2YXIgbyBpbiBlKXRoaXMub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvKXx8ImNycyI9PT1vfHwoaVtvXT1lW29dKTt0aGlzLndtc1BhcmFtcz1pLHMuc2V0T3B0aW9ucyh0aGlzLGUpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9jcnM9dGhpcy5vcHRpb25zLmNyc3x8dC5vcHRpb25zLmNycyx0aGlzLl93bXNWZXJzaW9uPXBhcnNlRmxvYXQodGhpcy53bXNQYXJhbXMudmVyc2lvbik7dmFyIGU9dGhpcy5fd21zVmVyc2lvbj49MS4zPyJjcnMiOiJzcnMiO3RoaXMud21zUGFyYW1zW2VdPXRoaXMuX2Nycy5jb2RlLHMuVGlsZUxheWVyLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsdCl9LGdldFRpbGVVcmw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9dGhpcy5vcHRpb25zLnRpbGVTaXplLG49dC5tdWx0aXBseUJ5KGkpLG89bi5hZGQoW2ksaV0pLGE9dGhpcy5fY3JzLnByb2plY3QoZS51bnByb2plY3Qobix0LnopKSxyPXRoaXMuX2Nycy5wcm9qZWN0KGUudW5wcm9qZWN0KG8sdC56KSksbD10aGlzLl93bXNWZXJzaW9uPj0xLjMmJnRoaXMuX2Nycz09PXMuQ1JTLkVQU0c0MzI2P1tyLnksYS54LGEueSxyLnhdLmpvaW4oIiwiKTpbYS54LHIueSxyLngsYS55XS5qb2luKCIsIiksaD1zLlV0aWwudGVtcGxhdGUodGhpcy5fdXJsLHtzOnRoaXMuX2dldFN1YmRvbWFpbih0KX0pO3JldHVybiBoK3MuVXRpbC5nZXRQYXJhbVN0cmluZyh0aGlzLndtc1BhcmFtcyxoLCEwKSsiJkJCT1g9IitsfSxzZXRQYXJhbXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gcy5leHRlbmQodGhpcy53bXNQYXJhbXMsdCksZXx8dGhpcy5yZWRyYXcoKSx0aGlzfX0pLHMudGlsZUxheWVyLndtcz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcy5UaWxlTGF5ZXIuV01TKHQsZSl9LHMuVGlsZUxheWVyLkNhbnZhcz1zLlRpbGVMYXllci5leHRlbmQoe29wdGlvbnM6e2FzeW5jOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3Muc2V0T3B0aW9ucyh0aGlzLHQpfSxyZWRyYXc6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJih0aGlzLl9yZXNldCh7aGFyZDohMH0pLHRoaXMuX3VwZGF0ZSgpKTtmb3IodmFyIHQgaW4gdGhpcy5fdGlsZXMpdGhpcy5fcmVkcmF3VGlsZSh0aGlzLl90aWxlc1t0XSk7cmV0dXJuIHRoaXN9LF9yZWRyYXdUaWxlOmZ1bmN0aW9uKHQpe3RoaXMuZHJhd1RpbGUodCx0Ll90aWxlUG9pbnQsdGhpcy5fbWFwLl96b29tKX0sX2NyZWF0ZVRpbGU6ZnVuY3Rpb24oKXt2YXIgdD1zLkRvbVV0aWwuY3JlYXRlKCJjYW52YXMiLCJsZWFmbGV0LXRpbGUiKTtyZXR1cm4gdC53aWR0aD10LmhlaWdodD10aGlzLm9wdGlvbnMudGlsZVNpemUsdC5vbnNlbGVjdHN0YXJ0PXQub25tb3VzZW1vdmU9cy5VdGlsLmZhbHNlRm4sdH0sX2xvYWRUaWxlOmZ1bmN0aW9uKHQsZSl7dC5fbGF5ZXI9dGhpcyx0Ll90aWxlUG9pbnQ9ZSx0aGlzLl9yZWRyYXdUaWxlKHQpLHRoaXMub3B0aW9ucy5hc3luY3x8dGhpcy50aWxlRHJhd24odCl9LGRyYXdUaWxlOmZ1bmN0aW9uKCl7fSx0aWxlRHJhd246ZnVuY3Rpb24odCl7dGhpcy5fdGlsZU9uTG9hZC5jYWxsKHQpfX0pLHMudGlsZUxheWVyLmNhbnZhcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuVGlsZUxheWVyLkNhbnZhcyh0KX0scy5JbWFnZU92ZXJsYXk9cy5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOnMuTWl4aW4uRXZlbnRzLG9wdGlvbnM6e29wYWNpdHk6MX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5fdXJsPXQsdGhpcy5fYm91bmRzPXMubGF0TG5nQm91bmRzKGUpLHMuc2V0T3B0aW9ucyh0aGlzLGkpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9pbWFnZXx8dGhpcy5faW5pdEltYWdlKCksdC5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5faW1hZ2UpLHQub24oInZpZXdyZXNldCIsdGhpcy5fcmVzZXQsdGhpcyksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnMuQnJvd3Nlci5hbnkzZCYmdC5vbigiem9vbWFuaW0iLHRoaXMuX2FuaW1hdGVab29tLHRoaXMpLHRoaXMuX3Jlc2V0KCl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3QuZ2V0UGFuZXMoKS5vdmVybGF5UGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9pbWFnZSksdC5vZmYoInZpZXdyZXNldCIsdGhpcy5fcmVzZXQsdGhpcyksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnQub2ZmKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVpvb20sdGhpcyl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5vcGFjaXR5PXQsdGhpcy5fdXBkYXRlT3BhY2l0eSgpLHRoaXN9LGJyaW5nVG9Gcm9udDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZSYmdGhpcy5fbWFwLl9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZCh0aGlzLl9pbWFnZSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhbmVzLm92ZXJsYXlQYW5lO3JldHVybiB0aGlzLl9pbWFnZSYmdC5pbnNlcnRCZWZvcmUodGhpcy5faW1hZ2UsdC5maXJzdENoaWxkKSx0aGlzfSxzZXRVcmw6ZnVuY3Rpb24odCl7dGhpcy5fdXJsPXQsdGhpcy5faW1hZ2Uuc3JjPXRoaXMuX3VybH0sZ2V0QXR0cmlidXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmF0dHJpYnV0aW9ufSxfaW5pdEltYWdlOmZ1bmN0aW9uKCl7dGhpcy5faW1hZ2U9cy5Eb21VdGlsLmNyZWF0ZSgiaW1nIiwibGVhZmxldC1pbWFnZS1sYXllciIpLHRoaXMuX21hcC5vcHRpb25zLnpvb21BbmltYXRpb24mJnMuQnJvd3Nlci5hbnkzZD9zLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5faW1hZ2UsImxlYWZsZXQtem9vbS1hbmltYXRlZCIpOnMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9pbWFnZSwibGVhZmxldC16b29tLWhpZGUiKSx0aGlzLl91cGRhdGVPcGFjaXR5KCkscy5leHRlbmQodGhpcy5faW1hZ2Use2dhbGxlcnlpbWc6Im5vIixvbnNlbGVjdHN0YXJ0OnMuVXRpbC5mYWxzZUZuLG9ubW91c2Vtb3ZlOnMuVXRpbC5mYWxzZUZuLG9ubG9hZDpzLmJpbmQodGhpcy5fb25JbWFnZUxvYWQsdGhpcyksc3JjOnRoaXMuX3VybH0pfSxfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLGk9dGhpcy5faW1hZ2Usbj1lLmdldFpvb21TY2FsZSh0Lnpvb20pLG89dGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpLGE9dGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpLHI9ZS5fbGF0TG5nVG9OZXdMYXllclBvaW50KG8sdC56b29tLHQuY2VudGVyKSxsPWUuX2xhdExuZ1RvTmV3TGF5ZXJQb2ludChhLHQuem9vbSx0LmNlbnRlcikuX3N1YnRyYWN0KHIpLGg9ci5fYWRkKGwuX211bHRpcGx5QnkoLjUqKDEtMS9uKSkpO2kuc3R5bGVbcy5Eb21VdGlsLlRSQU5TRk9STV09cy5Eb21VdGlsLmdldFRyYW5zbGF0ZVN0cmluZyhoKSsiIHNjYWxlKCIrbisiKSAifSxfcmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbWFnZSxlPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldE5vcnRoV2VzdCgpKSxpPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQodGhpcy5fYm91bmRzLmdldFNvdXRoRWFzdCgpKS5fc3VidHJhY3QoZSk7cy5Eb21VdGlsLnNldFBvc2l0aW9uKHQsZSksdC5zdHlsZS53aWR0aD1pLngrInB4Iix0LnN0eWxlLmhlaWdodD1pLnkrInB4In0sX29uSW1hZ2VMb2FkOmZ1bmN0aW9uKCl7dGhpcy5maXJlKCJsb2FkIil9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7cy5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5faW1hZ2UsdGhpcy5vcHRpb25zLm9wYWNpdHkpfX0pLHMuaW1hZ2VPdmVybGF5PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IHMuSW1hZ2VPdmVybGF5KHQsZSxpKX0scy5JY29uPXMuQ2xhc3MuZXh0ZW5kKHtvcHRpb25zOntjbGFzc05hbWU6IiJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7cy5zZXRPcHRpb25zKHRoaXMsdCl9LGNyZWF0ZUljb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUljb24oImljb24iLHQpfSxjcmVhdGVTaGFkb3c6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUljb24oInNoYWRvdyIsdCl9LF9jcmVhdGVJY29uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0SWNvblVybCh0KTtpZighaSl7aWYoImljb24iPT09dCl0aHJvdyBuZXcgRXJyb3IoImljb25Vcmwgbm90IHNldCBpbiBJY29uIG9wdGlvbnMgKHNlZSB0aGUgZG9jcykuIik7cmV0dXJuIG51bGx9dmFyIG47cmV0dXJuIG49ZSYmIklNRyI9PT1lLnRhZ05hbWU/dGhpcy5fY3JlYXRlSW1nKGksZSk6dGhpcy5fY3JlYXRlSW1nKGkpLHRoaXMuX3NldEljb25TdHlsZXMobix0KSxufSxfc2V0SWNvblN0eWxlczpmdW5jdGlvbih0LGUpe3ZhciBpLG49dGhpcy5vcHRpb25zLG89cy5wb2ludChuW2UrIlNpemUiXSk7aT0ic2hhZG93Ij09PWU/cy5wb2ludChuLnNoYWRvd0FuY2hvcnx8bi5pY29uQW5jaG9yKTpzLnBvaW50KG4uaWNvbkFuY2hvciksIWkmJm8mJihpPW8uZGl2aWRlQnkoMiwhMCkpLHQuY2xhc3NOYW1lPSJsZWFmbGV0LW1hcmtlci0iK2UrIiAiK24uY2xhc3NOYW1lLGkmJih0LnN0eWxlLm1hcmdpbkxlZnQ9LWkueCsicHgiLHQuc3R5bGUubWFyZ2luVG9wPS1pLnkrInB4IiksbyYmKHQuc3R5bGUud2lkdGg9by54KyJweCIsdC5zdHlsZS5oZWlnaHQ9by55KyJweCIpfSxfY3JlYXRlSW1nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8aS5jcmVhdGVFbGVtZW50KCJpbWciKSxlLnNyYz10LGV9LF9nZXRJY29uVXJsOmZ1bmN0aW9uKHQpe3JldHVybiBzLkJyb3dzZXIucmV0aW5hJiZ0aGlzLm9wdGlvbnNbdCsiUmV0aW5hVXJsIl0/dGhpcy5vcHRpb25zW3QrIlJldGluYVVybCJdOnRoaXMub3B0aW9uc1t0KyJVcmwiXX19KSxzLmljb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkljb24odCl9LHMuSWNvbi5EZWZhdWx0PXMuSWNvbi5leHRlbmQoe29wdGlvbnM6e2ljb25TaXplOlsyNSw0MV0saWNvbkFuY2hvcjpbMTIsNDFdLHBvcHVwQW5jaG9yOlsxLC0zNF0sc2hhZG93U2l6ZTpbNDEsNDFdfSxfZ2V0SWNvblVybDpmdW5jdGlvbih0KXt2YXIgZT10KyJVcmwiO2lmKHRoaXMub3B0aW9uc1tlXSlyZXR1cm4gdGhpcy5vcHRpb25zW2VdO3MuQnJvd3Nlci5yZXRpbmEmJiJpY29uIj09PXQmJih0Kz0iLTJ4Iik7dmFyIGk9cy5JY29uLkRlZmF1bHQuaW1hZ2VQYXRoO2lmKCFpKXRocm93IG5ldyBFcnJvcigiQ291bGRuJ3QgYXV0b2RldGVjdCBMLkljb24uRGVmYXVsdC5pbWFnZVBhdGgsIHNldCBpdCBtYW51YWxseS4iKTtyZXR1cm4gaSsiL21hcmtlci0iK3QrIi5wbmcifX0pLHMuSWNvbi5EZWZhdWx0LmltYWdlUGF0aD1mdW5jdGlvbigpe3ZhciB0LGUsbixvLHMsYT1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxyPS9bXC9eXWxlYWZsZXRbXC1cLl9dPyhbXHdcLVwuX10qKVwuanNcPz8vO2Zvcih0PTAsZT1hLmxlbmd0aDtlPnQ7dCsrKWlmKG49YVt0XS5zcmMsbz1uLm1hdGNoKHIpKXJldHVybiBzPW4uc3BsaXQocilbMF0sKHM/cysiLyI6IiIpKyJpbWFnZXMifSgpLHMuTWFya2VyPXMuQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpzLk1peGluLkV2ZW50cyxvcHRpb25zOntpY29uOm5ldyBzLkljb24uRGVmYXVsdCx0aXRsZToiIixhbHQ6IiIsY2xpY2thYmxlOiEwLGRyYWdnYWJsZTohMSxrZXlib2FyZDohMCx6SW5kZXhPZmZzZXQ6MCxvcGFjaXR5OjEscmlzZU9uSG92ZXI6ITEscmlzZU9mZnNldDoyNTB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtzLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLl9sYXRsbmc9cy5sYXRMbmcodCl9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHQub24oInZpZXdyZXNldCIsdGhpcy51cGRhdGUsdGhpcyksdGhpcy5faW5pdEljb24oKSx0aGlzLnVwZGF0ZSgpLHRoaXMuZmlyZSgiYWRkIiksdC5vcHRpb25zLnpvb21BbmltYXRpb24mJnQub3B0aW9ucy5tYXJrZXJab29tQW5pbWF0aW9uJiZ0Lm9uKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVpvb20sdGhpcyl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuZHJhZ2dpbmcmJnRoaXMuZHJhZ2dpbmcuZGlzYWJsZSgpLHRoaXMuX3JlbW92ZUljb24oKSx0aGlzLl9yZW1vdmVTaGFkb3coKSx0aGlzLmZpcmUoInJlbW92ZSIpLHQub2ZmKHt2aWV3cmVzZXQ6dGhpcy51cGRhdGUsem9vbWFuaW06dGhpcy5fYW5pbWF0ZVpvb219LHRoaXMpLHRoaXMuX21hcD1udWxsfSxnZXRMYXRMbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nfSxzZXRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZz1zLmxhdExuZyh0KSx0aGlzLnVwZGF0ZSgpLHRoaXMuZmlyZSgibW92ZSIse2xhdGxuZzp0aGlzLl9sYXRsbmd9KX0sc2V0WkluZGV4T2Zmc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuekluZGV4T2Zmc2V0PXQsdGhpcy51cGRhdGUoKSx0aGlzfSxzZXRJY29uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMuaWNvbj10LHRoaXMuX21hcCYmKHRoaXMuX2luaXRJY29uKCksdGhpcy51cGRhdGUoKSksdGhpcy5fcG9wdXAmJnRoaXMuYmluZFBvcHVwKHRoaXMuX3BvcHVwKSx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9pY29uKXt2YXIgdD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZykucm91bmQoKTt0aGlzLl9zZXRQb3ModCl9cmV0dXJuIHRoaXN9LF9pbml0SWNvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucyxlPXRoaXMuX21hcCxpPWUub3B0aW9ucy56b29tQW5pbWF0aW9uJiZlLm9wdGlvbnMubWFya2VyWm9vbUFuaW1hdGlvbixuPWk/ImxlYWZsZXQtem9vbS1hbmltYXRlZCI6ImxlYWZsZXQtem9vbS1oaWRlIixvPXQuaWNvbi5jcmVhdGVJY29uKHRoaXMuX2ljb24pLGE9ITE7byE9PXRoaXMuX2ljb24mJih0aGlzLl9pY29uJiZ0aGlzLl9yZW1vdmVJY29uKCksYT0hMCx0LnRpdGxlJiYoby50aXRsZT10LnRpdGxlKSx0LmFsdCYmKG8uYWx0PXQuYWx0KSkscy5Eb21VdGlsLmFkZENsYXNzKG8sbiksdC5rZXlib2FyZCYmKG8udGFiSW5kZXg9IjAiKSx0aGlzLl9pY29uPW8sdGhpcy5faW5pdEludGVyYWN0aW9uKCksdC5yaXNlT25Ib3ZlciYmcy5Eb21FdmVudC5vbihvLCJtb3VzZW92ZXIiLHRoaXMuX2JyaW5nVG9Gcm9udCx0aGlzKS5vbihvLCJtb3VzZW91dCIsdGhpcy5fcmVzZXRaSW5kZXgsdGhpcyk7dmFyIHI9dC5pY29uLmNyZWF0ZVNoYWRvdyh0aGlzLl9zaGFkb3cpLGw9ITE7ciE9PXRoaXMuX3NoYWRvdyYmKHRoaXMuX3JlbW92ZVNoYWRvdygpLGw9ITApLHImJnMuRG9tVXRpbC5hZGRDbGFzcyhyLG4pLHRoaXMuX3NoYWRvdz1yLHQub3BhY2l0eTwxJiZ0aGlzLl91cGRhdGVPcGFjaXR5KCk7dmFyIGg9dGhpcy5fbWFwLl9wYW5lczthJiZoLm1hcmtlclBhbmUuYXBwZW5kQ2hpbGQodGhpcy5faWNvbiksciYmbCYmaC5zaGFkb3dQYW5lLmFwcGVuZENoaWxkKHRoaXMuX3NoYWRvdyl9LF9yZW1vdmVJY29uOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnJpc2VPbkhvdmVyJiZzLkRvbUV2ZW50Lm9mZih0aGlzLl9pY29uLCJtb3VzZW92ZXIiLHRoaXMuX2JyaW5nVG9Gcm9udCkub2ZmKHRoaXMuX2ljb24sIm1vdXNlb3V0Iix0aGlzLl9yZXNldFpJbmRleCksdGhpcy5fbWFwLl9wYW5lcy5tYXJrZXJQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2ljb24pLHRoaXMuX2ljb249bnVsbH0sX3JlbW92ZVNoYWRvdzpmdW5jdGlvbigpe3RoaXMuX3NoYWRvdyYmdGhpcy5fbWFwLl9wYW5lcy5zaGFkb3dQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX3NoYWRvdyksdGhpcy5fc2hhZG93PW51bGx9LF9zZXRQb3M6ZnVuY3Rpb24odCl7cy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2ljb24sdCksdGhpcy5fc2hhZG93JiZzLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fc2hhZG93LHQpLHRoaXMuX3pJbmRleD10LnkrdGhpcy5vcHRpb25zLnpJbmRleE9mZnNldCx0aGlzLl9yZXNldFpJbmRleCgpfSxfdXBkYXRlWkluZGV4OmZ1bmN0aW9uKHQpe3RoaXMuX2ljb24uc3R5bGUuekluZGV4PXRoaXMuX3pJbmRleCt0fSxfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLHQuem9vbSx0LmNlbnRlcikucm91bmQoKTt0aGlzLl9zZXRQb3MoZSl9LF9pbml0SW50ZXJhY3Rpb246ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuY2xpY2thYmxlKXt2YXIgdD10aGlzLl9pY29uLGU9WyJkYmxjbGljayIsIm1vdXNlZG93biIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwiY29udGV4dG1lbnUiXTtzLkRvbVV0aWwuYWRkQ2xhc3ModCwibGVhZmxldC1jbGlja2FibGUiKSxzLkRvbUV2ZW50Lm9uKHQsImNsaWNrIix0aGlzLl9vbk1vdXNlQ2xpY2ssdGhpcykscy5Eb21FdmVudC5vbih0LCJrZXlwcmVzcyIsdGhpcy5fb25LZXlQcmVzcyx0aGlzKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylzLkRvbUV2ZW50Lm9uKHQsZVtpXSx0aGlzLl9maXJlTW91c2VFdmVudCx0aGlzKTtzLkhhbmRsZXIuTWFya2VyRHJhZyYmKHRoaXMuZHJhZ2dpbmc9bmV3IHMuSGFuZGxlci5NYXJrZXJEcmFnKHRoaXMpLHRoaXMub3B0aW9ucy5kcmFnZ2FibGUmJnRoaXMuZHJhZ2dpbmcuZW5hYmxlKCkpfX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmRyYWdnaW5nJiZ0aGlzLmRyYWdnaW5nLm1vdmVkKCk7KHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModC50eXBlKXx8ZSkmJnMuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKHQpLGV8fCh0aGlzLmRyYWdnaW5nJiZ0aGlzLmRyYWdnaW5nLl9lbmFibGVkfHwhdGhpcy5fbWFwLmRyYWdnaW5nfHwhdGhpcy5fbWFwLmRyYWdnaW5nLm1vdmVkKCkpJiZ0aGlzLmZpcmUodC50eXBlLHtvcmlnaW5hbEV2ZW50OnQsbGF0bG5nOnRoaXMuX2xhdGxuZ30pfSxfb25LZXlQcmVzczpmdW5jdGlvbih0KXsxMz09PXQua2V5Q29kZSYmdGhpcy5maXJlKCJjbGljayIse29yaWdpbmFsRXZlbnQ6dCxsYXRsbmc6dGhpcy5fbGF0bG5nfSl9LF9maXJlTW91c2VFdmVudDpmdW5jdGlvbih0KXt0aGlzLmZpcmUodC50eXBlLHtvcmlnaW5hbEV2ZW50OnQsbGF0bG5nOnRoaXMuX2xhdGxuZ30pLCJjb250ZXh0bWVudSI9PT10LnR5cGUmJnRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModC50eXBlKSYmcy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSwibW91c2Vkb3duIiE9PXQudHlwZT9zLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KTpzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMub3BhY2l0eT10LHRoaXMuX21hcCYmdGhpcy5fdXBkYXRlT3BhY2l0eSgpLHRoaXN9LF91cGRhdGVPcGFjaXR5OmZ1bmN0aW9uKCl7cy5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5faWNvbix0aGlzLm9wdGlvbnMub3BhY2l0eSksdGhpcy5fc2hhZG93JiZzLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9zaGFkb3csdGhpcy5vcHRpb25zLm9wYWNpdHkpfSxfYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlWkluZGV4KHRoaXMub3B0aW9ucy5yaXNlT2Zmc2V0KX0sX3Jlc2V0WkluZGV4OmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlWkluZGV4KDApfX0pLHMubWFya2VyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLk1hcmtlcih0LGUpfSxzLkRpdkljb249cy5JY29uLmV4dGVuZCh7b3B0aW9uczp7aWNvblNpemU6WzEyLDEyXSxjbGFzc05hbWU6ImxlYWZsZXQtZGl2LWljb24iLGh0bWw6ITF9LGNyZWF0ZUljb246ZnVuY3Rpb24odCl7dmFyIGU9dCYmIkRJViI9PT10LnRhZ05hbWU/dDppLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49dGhpcy5vcHRpb25zO3JldHVybiBlLmlubmVySFRNTD1uLmh0bWwhPT0hMT9uLmh0bWw6IiIsbi5iZ1BvcyYmKGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPS1uLmJnUG9zLngrInB4ICIrLW4uYmdQb3MueSsicHgiKSx0aGlzLl9zZXRJY29uU3R5bGVzKGUsImljb24iKSxlfSxjcmVhdGVTaGFkb3c6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19KSxzLmRpdkljb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkRpdkljb24odCl9LHMuTWFwLm1lcmdlT3B0aW9ucyh7Y2xvc2VQb3B1cE9uQ2xpY2s6ITB9KSxzLlBvcHVwPXMuQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpzLk1peGluLkV2ZW50cyxvcHRpb25zOnttaW5XaWR0aDo1MCxtYXhXaWR0aDozMDAsYXV0b1BhbjohMCxjbG9zZUJ1dHRvbjohMCxvZmZzZXQ6WzAsN10sYXV0b1BhblBhZGRpbmc6WzUsNV0sa2VlcEluVmlldzohMSxjbGFzc05hbWU6IiIsem9vbUFuaW1hdGlvbjohMH0saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3Muc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX3NvdXJjZT1lLHRoaXMuX2FuaW1hdGVkPXMuQnJvd3Nlci5hbnkzZCYmdGhpcy5vcHRpb25zLnpvb21BbmltYXRpb24sdGhpcy5faXNPcGVuPSExfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXJ8fHRoaXMuX2luaXRMYXlvdXQoKTt2YXIgZT10Lm9wdGlvbnMuZmFkZUFuaW1hdGlvbjtlJiZzLkRvbVV0aWwuc2V0T3BhY2l0eSh0aGlzLl9jb250YWluZXIsMCksdC5fcGFuZXMucG9wdXBQYW5lLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksdC5vbih0aGlzLl9nZXRFdmVudHMoKSx0aGlzKSx0aGlzLnVwZGF0ZSgpLGUmJnMuRG9tVXRpbC5zZXRPcGFjaXR5KHRoaXMuX2NvbnRhaW5lciwxKSx0aGlzLmZpcmUoIm9wZW4iKSx0LmZpcmUoInBvcHVwb3BlbiIse3BvcHVwOnRoaXN9KSx0aGlzLl9zb3VyY2UmJnRoaXMuX3NvdXJjZS5maXJlKCJwb3B1cG9wZW4iLHtwb3B1cDp0aGlzfSl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9wZW5PbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5vcGVuUG9wdXAodGhpcyksdGhpc30sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5fcGFuZXMucG9wdXBQYW5lLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lcikscy5VdGlsLmZhbHNlRm4odGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoKSx0Lm9mZih0aGlzLl9nZXRFdmVudHMoKSx0aGlzKSx0Lm9wdGlvbnMuZmFkZUFuaW1hdGlvbiYmcy5Eb21VdGlsLnNldE9wYWNpdHkodGhpcy5fY29udGFpbmVyLDApLHRoaXMuX21hcD1udWxsLHRoaXMuZmlyZSgiY2xvc2UiKSx0LmZpcmUoInBvcHVwY2xvc2UiLHtwb3B1cDp0aGlzfSksdGhpcy5fc291cmNlJiZ0aGlzLl9zb3VyY2UuZmlyZSgicG9wdXBjbG9zZSIse3BvcHVwOnRoaXN9KX0sZ2V0TGF0TG5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhdGxuZ30sc2V0TGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXRsbmc9cy5sYXRMbmcodCksdGhpcy5fbWFwJiYodGhpcy5fdXBkYXRlUG9zaXRpb24oKSx0aGlzLl9hZGp1c3RQYW4oKSksdGhpc30sZ2V0Q29udGVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZW50fSxzZXRDb250ZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jb250ZW50PXQsdGhpcy51cGRhdGUoKSx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJih0aGlzLl9jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIix0aGlzLl91cGRhdGVDb250ZW50KCksdGhpcy5fdXBkYXRlTGF5b3V0KCksdGhpcy5fdXBkYXRlUG9zaXRpb24oKSx0aGlzLl9jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iIix0aGlzLl9hZGp1c3RQYW4oKSl9LF9nZXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgdD17dmlld3Jlc2V0OnRoaXMuX3VwZGF0ZVBvc2l0aW9ufTtyZXR1cm4gdGhpcy5fYW5pbWF0ZWQmJih0Lnpvb21hbmltPXRoaXMuX3pvb21BbmltYXRpb24pLCgiY2xvc2VPbkNsaWNrImluIHRoaXMub3B0aW9ucz90aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrOnRoaXMuX21hcC5vcHRpb25zLmNsb3NlUG9wdXBPbkNsaWNrKSYmKHQucHJlY2xpY2s9dGhpcy5fY2xvc2UpLHRoaXMub3B0aW9ucy5rZWVwSW5WaWV3JiYodC5tb3ZlZW5kPXRoaXMuX2FkanVzdFBhbiksdH0sX2Nsb3NlOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiZ0aGlzLl9tYXAuY2xvc2VQb3B1cCh0aGlzKX0sX2luaXRMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgdCxlPSJsZWFmbGV0LXBvcHVwIixpPWUrIiAiK3RoaXMub3B0aW9ucy5jbGFzc05hbWUrIiBsZWFmbGV0LXpvb20tIisodGhpcy5fYW5pbWF0ZWQ/ImFuaW1hdGVkIjoiaGlkZSIpLG49dGhpcy5fY29udGFpbmVyPXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsaSk7dGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uJiYodD10aGlzLl9jbG9zZUJ1dHRvbj1zLkRvbVV0aWwuY3JlYXRlKCJhIixlKyItY2xvc2UtYnV0dG9uIixuKSx0LmhyZWY9IiNjbG9zZSIsdC5pbm5lckhUTUw9IiYjMjE1OyIscy5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0KSxzLkRvbUV2ZW50Lm9uKHQsImNsaWNrIix0aGlzLl9vbkNsb3NlQnV0dG9uQ2xpY2ssdGhpcykpO3ZhciBvPXRoaXMuX3dyYXBwZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItY29udGVudC13cmFwcGVyIixuKTtzLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKG8pLHRoaXMuX2NvbnRlbnROb2RlPXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiLWNvbnRlbnQiLG8pLHMuRG9tRXZlbnQuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKHRoaXMuX2NvbnRlbnROb2RlKSxzLkRvbUV2ZW50Lm9uKG8sImNvbnRleHRtZW51IixzLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbiksdGhpcy5fdGlwQ29udGFpbmVyPXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiLXRpcC1jb250YWluZXIiLG4pLHRoaXMuX3RpcD1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLGUrIi10aXAiLHRoaXMuX3RpcENvbnRhaW5lcil9LF91cGRhdGVDb250ZW50OmZ1bmN0aW9uKCl7aWYodGhpcy5fY29udGVudCl7aWYoInN0cmluZyI9PXR5cGVvZiB0aGlzLl9jb250ZW50KXRoaXMuX2NvbnRlbnROb2RlLmlubmVySFRNTD10aGlzLl9jb250ZW50O2Vsc2V7Zm9yKDt0aGlzLl9jb250ZW50Tm9kZS5oYXNDaGlsZE5vZGVzKCk7KXRoaXMuX2NvbnRlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRlbnROb2RlLmZpcnN0Q2hpbGQpO3RoaXMuX2NvbnRlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRlbnQpfXRoaXMuZmlyZSgiY29udGVudHVwZGF0ZSIpfX0sX3VwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbnRlbnROb2RlLGU9dC5zdHlsZTtlLndpZHRoPSIiLGUud2hpdGVTcGFjZT0ibm93cmFwIjt2YXIgaT10Lm9mZnNldFdpZHRoO2k9TWF0aC5taW4oaSx0aGlzLm9wdGlvbnMubWF4V2lkdGgpLGk9TWF0aC5tYXgoaSx0aGlzLm9wdGlvbnMubWluV2lkdGgpLGUud2lkdGg9aSsxKyJweCIsZS53aGl0ZVNwYWNlPSIiLGUuaGVpZ2h0PSIiO3ZhciBuPXQub2Zmc2V0SGVpZ2h0LG89dGhpcy5vcHRpb25zLm1heEhlaWdodCxhPSJsZWFmbGV0LXBvcHVwLXNjcm9sbGVkIjtvJiZuPm8/KGUuaGVpZ2h0PW8rInB4IixzLkRvbVV0aWwuYWRkQ2xhc3ModCxhKSk6cy5Eb21VdGlsLnJlbW92ZUNsYXNzKHQsYSksdGhpcy5fY29udGFpbmVyV2lkdGg9dGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoCn0sX3VwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwKXt2YXIgdD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyksZT10aGlzLl9hbmltYXRlZCxpPXMucG9pbnQodGhpcy5vcHRpb25zLm9mZnNldCk7ZSYmcy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcix0KSx0aGlzLl9jb250YWluZXJCb3R0b209LWkueS0oZT8wOnQueSksdGhpcy5fY29udGFpbmVyTGVmdD0tTWF0aC5yb3VuZCh0aGlzLl9jb250YWluZXJXaWR0aC8yKStpLngrKGU/MDp0LngpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5fY29udGFpbmVyQm90dG9tKyJweCIsdGhpcy5fY29udGFpbmVyLnN0eWxlLmxlZnQ9dGhpcy5fY29udGFpbmVyTGVmdCsicHgifX0sX3pvb21BbmltYXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWFwLl9sYXRMbmdUb05ld0xheWVyUG9pbnQodGhpcy5fbGF0bG5nLHQuem9vbSx0LmNlbnRlcik7cy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2NvbnRhaW5lcixlKX0sX2FkanVzdFBhbjpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5hdXRvUGFuKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0LGk9dGhpcy5fY29udGFpbmVyV2lkdGgsbj1uZXcgcy5Qb2ludCh0aGlzLl9jb250YWluZXJMZWZ0LC1lLXRoaXMuX2NvbnRhaW5lckJvdHRvbSk7dGhpcy5fYW5pbWF0ZWQmJm4uX2FkZChzLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fY29udGFpbmVyKSk7dmFyIG89dC5sYXllclBvaW50VG9Db250YWluZXJQb2ludChuKSxhPXMucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nKSxyPXMucG9pbnQodGhpcy5vcHRpb25zLmF1dG9QYW5QYWRkaW5nVG9wTGVmdHx8YSksbD1zLnBvaW50KHRoaXMub3B0aW9ucy5hdXRvUGFuUGFkZGluZ0JvdHRvbVJpZ2h0fHxhKSxoPXQuZ2V0U2l6ZSgpLHU9MCxjPTA7by54K2krbC54PmgueCYmKHU9by54K2ktaC54K2wueCksby54LXUtci54PDAmJih1PW8ueC1yLngpLG8ueStlK2wueT5oLnkmJihjPW8ueStlLWgueStsLnkpLG8ueS1jLXIueTwwJiYoYz1vLnktci55KSwodXx8YykmJnQuZmlyZSgiYXV0b3BhbnN0YXJ0IikucGFuQnkoW3UsY10pfX0sX29uQ2xvc2VCdXR0b25DbGljazpmdW5jdGlvbih0KXt0aGlzLl9jbG9zZSgpLHMuRG9tRXZlbnQuc3RvcCh0KX19KSxzLnBvcHVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLlBvcHVwKHQsZSl9LHMuTWFwLmluY2x1ZGUoe29wZW5Qb3B1cDpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5jbG9zZVBvcHVwKCksISh0IGluc3RhbmNlb2Ygcy5Qb3B1cCkpe3ZhciBuPXQ7dD1uZXcgcy5Qb3B1cChpKS5zZXRMYXRMbmcoZSkuc2V0Q29udGVudChuKX1yZXR1cm4gdC5faXNPcGVuPSEwLHRoaXMuX3BvcHVwPXQsdGhpcy5hZGRMYXllcih0KX0sY2xvc2VQb3B1cDpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCE9PXRoaXMuX3BvcHVwfHwodD10aGlzLl9wb3B1cCx0aGlzLl9wb3B1cD1udWxsKSx0JiYodGhpcy5yZW1vdmVMYXllcih0KSx0Ll9pc09wZW49ITEpLHRoaXN9fSkscy5NYXJrZXIuaW5jbHVkZSh7b3BlblBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiZ0aGlzLl9tYXAmJiF0aGlzLl9tYXAuaGFzTGF5ZXIodGhpcy5fcG9wdXApJiYodGhpcy5fcG9wdXAuc2V0TGF0TG5nKHRoaXMuX2xhdGxuZyksdGhpcy5fbWFwLm9wZW5Qb3B1cCh0aGlzLl9wb3B1cCkpLHRoaXN9LGNsb3NlUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLl9jbG9zZSgpLHRoaXN9LHRvZ2dsZVBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAuX2lzT3Blbj90aGlzLmNsb3NlUG9wdXAoKTp0aGlzLm9wZW5Qb3B1cCgpKSx0aGlzfSxiaW5kUG9wdXA6ZnVuY3Rpb24odCxlKXt2YXIgaT1zLnBvaW50KHRoaXMub3B0aW9ucy5pY29uLm9wdGlvbnMucG9wdXBBbmNob3J8fFswLDBdKTtyZXR1cm4gaT1pLmFkZChzLlBvcHVwLnByb3RvdHlwZS5vcHRpb25zLm9mZnNldCksZSYmZS5vZmZzZXQmJihpPWkuYWRkKGUub2Zmc2V0KSksZT1zLmV4dGVuZCh7b2Zmc2V0Oml9LGUpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZHx8KHRoaXMub24oImNsaWNrIix0aGlzLnRvZ2dsZVBvcHVwLHRoaXMpLm9uKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vbigibW92ZSIsdGhpcy5fbW92ZVBvcHVwLHRoaXMpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZD0hMCksdCBpbnN0YW5jZW9mIHMuUG9wdXA/KHMuc2V0T3B0aW9ucyh0LGUpLHRoaXMuX3BvcHVwPXQpOnRoaXMuX3BvcHVwPW5ldyBzLlBvcHVwKGUsdGhpcykuc2V0Q29udGVudCh0KSx0aGlzfSxzZXRQb3B1cENvbnRlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5zZXRDb250ZW50KHQpLHRoaXN9LHVuYmluZFBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXA9bnVsbCx0aGlzLm9mZigiY2xpY2siLHRoaXMudG9nZ2xlUG9wdXAsdGhpcykub2ZmKCJyZW1vdmUiLHRoaXMuY2xvc2VQb3B1cCx0aGlzKS5vZmYoIm1vdmUiLHRoaXMuX21vdmVQb3B1cCx0aGlzKSx0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQ9ITEpLHRoaXN9LGdldFBvcHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvcHVwfSxfbW92ZVBvcHVwOmZ1bmN0aW9uKHQpe3RoaXMuX3BvcHVwLnNldExhdExuZyh0LmxhdGxuZyl9fSkscy5MYXllckdyb3VwPXMuQ2xhc3MuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3RoaXMuX2xheWVycz17fTt2YXIgZSxpO2lmKHQpZm9yKGU9MCxpPXQubGVuZ3RoO2k+ZTtlKyspdGhpcy5hZGRMYXllcih0W2VdKX0sYWRkTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRMYXllcklkKHQpO3JldHVybiB0aGlzLl9sYXllcnNbZV09dCx0aGlzLl9tYXAmJnRoaXMuX21hcC5hZGRMYXllcih0KSx0aGlzfSxyZW1vdmVMYXllcjpmdW5jdGlvbih0KXt2YXIgZT10IGluIHRoaXMuX2xheWVycz90OnRoaXMuZ2V0TGF5ZXJJZCh0KTtyZXR1cm4gdGhpcy5fbWFwJiZ0aGlzLl9sYXllcnNbZV0mJnRoaXMuX21hcC5yZW1vdmVMYXllcih0aGlzLl9sYXllcnNbZV0pLGRlbGV0ZSB0aGlzLl9sYXllcnNbZV0sdGhpc30saGFzTGF5ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dCBpbiB0aGlzLl9sYXllcnN8fHRoaXMuZ2V0TGF5ZXJJZCh0KWluIHRoaXMuX2xheWVyczohMX0sY2xlYXJMYXllcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoTGF5ZXIodGhpcy5yZW1vdmVMYXllcix0aGlzKSx0aGlzfSxpbnZva2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoZSBpbiB0aGlzLl9sYXllcnMpaT10aGlzLl9sYXllcnNbZV0saVt0XSYmaVt0XS5hcHBseShpLG4pO3JldHVybiB0aGlzfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLmVhY2hMYXllcih0LmFkZExheWVyLHQpfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0aGlzLmVhY2hMYXllcih0LnJlbW92ZUxheWVyLHQpLHRoaXMuX21hcD1udWxsfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxlYWNoTGF5ZXI6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdGhpcy5fbGF5ZXJzKXQuY2FsbChlLHRoaXMuX2xheWVyc1tpXSk7cmV0dXJuIHRoaXN9LGdldExheWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9sYXllcnNbdF19LGdldExheWVyczpmdW5jdGlvbigpe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiB0aGlzLl9sYXllcnMpdC5wdXNoKHRoaXMuX2xheWVyc1tlXSk7cmV0dXJuIHR9LHNldFpJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnZva2UoInNldFpJbmRleCIsdCl9LGdldExheWVySWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHMuc3RhbXAodCl9fSkscy5sYXllckdyb3VwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5MYXllckdyb3VwKHQpfSxzLkZlYXR1cmVHcm91cD1zLkxheWVyR3JvdXAuZXh0ZW5kKHtpbmNsdWRlczpzLk1peGluLkV2ZW50cyxzdGF0aWNzOntFVkVOVFM6ImNsaWNrIGRibGNsaWNrIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgY29udGV4dG1lbnUgcG9wdXBvcGVuIHBvcHVwY2xvc2UifSxhZGRMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXNMYXllcih0KT90aGlzOigib24iaW4gdCYmdC5vbihzLkZlYXR1cmVHcm91cC5FVkVOVFMsdGhpcy5fcHJvcGFnYXRlRXZlbnQsdGhpcykscy5MYXllckdyb3VwLnByb3RvdHlwZS5hZGRMYXllci5jYWxsKHRoaXMsdCksdGhpcy5fcG9wdXBDb250ZW50JiZ0LmJpbmRQb3B1cCYmdC5iaW5kUG9wdXAodGhpcy5fcG9wdXBDb250ZW50LHRoaXMuX3BvcHVwT3B0aW9ucyksdGhpcy5maXJlKCJsYXllcmFkZCIse2xheWVyOnR9KSl9LHJlbW92ZUxheWVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc0xheWVyKHQpPyh0IGluIHRoaXMuX2xheWVycyYmKHQ9dGhpcy5fbGF5ZXJzW3RdKSx0Lm9mZihzLkZlYXR1cmVHcm91cC5FVkVOVFMsdGhpcy5fcHJvcGFnYXRlRXZlbnQsdGhpcykscy5MYXllckdyb3VwLnByb3RvdHlwZS5yZW1vdmVMYXllci5jYWxsKHRoaXMsdCksdGhpcy5fcG9wdXBDb250ZW50JiZ0aGlzLmludm9rZSgidW5iaW5kUG9wdXAiKSx0aGlzLmZpcmUoImxheWVycmVtb3ZlIix7bGF5ZXI6dH0pKTp0aGlzfSxiaW5kUG9wdXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcG9wdXBDb250ZW50PXQsdGhpcy5fcG9wdXBPcHRpb25zPWUsdGhpcy5pbnZva2UoImJpbmRQb3B1cCIsdCxlKX0sb3BlblBvcHVwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0aGlzLl9sYXllcnMpe3RoaXMuX2xheWVyc1tlXS5vcGVuUG9wdXAodCk7YnJlYWt9cmV0dXJuIHRoaXN9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmludm9rZSgic2V0U3R5bGUiLHQpfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZva2UoImJyaW5nVG9Gcm9udCIpfSxicmluZ1RvQmFjazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludm9rZSgiYnJpbmdUb0JhY2siKX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHMuTGF0TG5nQm91bmRzO3JldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbihlKXt0LmV4dGVuZChlIGluc3RhbmNlb2Ygcy5NYXJrZXI/ZS5nZXRMYXRMbmcoKTplLmdldEJvdW5kcygpKX0pLHR9LF9wcm9wYWdhdGVFdmVudDpmdW5jdGlvbih0KXt0PXMuZXh0ZW5kKHtsYXllcjp0LnRhcmdldCx0YXJnZXQ6dGhpc30sdCksdGhpcy5maXJlKHQudHlwZSx0KX19KSxzLmZlYXR1cmVHcm91cD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuRmVhdHVyZUdyb3VwKHQpfSxzLlBhdGg9cy5DbGFzcy5leHRlbmQoe2luY2x1ZGVzOltzLk1peGluLkV2ZW50c10sc3RhdGljczp7Q0xJUF9QQURESU5HOmZ1bmN0aW9uKCl7dmFyIGU9cy5Ccm93c2VyLm1vYmlsZT8xMjgwOjJlMyxpPShlL01hdGgubWF4KHQub3V0ZXJXaWR0aCx0Lm91dGVySGVpZ2h0KS0xKS8yO3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKC41LGkpKX0oKX0sb3B0aW9uczp7c3Ryb2tlOiEwLGNvbG9yOiIjMDAzM2ZmIixkYXNoQXJyYXk6bnVsbCxsaW5lQ2FwOm51bGwsbGluZUpvaW46bnVsbCx3ZWlnaHQ6NSxvcGFjaXR5Oi41LGZpbGw6ITEsZmlsbENvbG9yOm51bGwsZmlsbE9wYWNpdHk6LjIsY2xpY2thYmxlOiEwfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3Muc2V0T3B0aW9ucyh0aGlzLHQpfSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXJ8fCh0aGlzLl9pbml0RWxlbWVudHMoKSx0aGlzLl9pbml0RXZlbnRzKCkpLHRoaXMucHJvamVjdExhdGxuZ3MoKSx0aGlzLl91cGRhdGVQYXRoKCksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9tYXAuX3BhdGhSb290LmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5maXJlKCJhZGQiKSx0Lm9uKHt2aWV3cmVzZXQ6dGhpcy5wcm9qZWN0TGF0bG5ncyxtb3ZlZW5kOnRoaXMuX3VwZGF0ZVBhdGh9LHRoaXMpfSxhZGRUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5hZGRMYXllcih0aGlzKSx0aGlzfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Ll9wYXRoUm9vdC5yZW1vdmVDaGlsZCh0aGlzLl9jb250YWluZXIpLHRoaXMuZmlyZSgicmVtb3ZlIiksdGhpcy5fbWFwPW51bGwscy5Ccm93c2VyLnZtbCYmKHRoaXMuX2NvbnRhaW5lcj1udWxsLHRoaXMuX3N0cm9rZT1udWxsLHRoaXMuX2ZpbGw9bnVsbCksdC5vZmYoe3ZpZXdyZXNldDp0aGlzLnByb2plY3RMYXRsbmdzLG1vdmVlbmQ6dGhpcy5fdXBkYXRlUGF0aH0sdGhpcyl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7fSxzZXRTdHlsZTpmdW5jdGlvbih0KXtyZXR1cm4gcy5zZXRPcHRpb25zKHRoaXMsdCksdGhpcy5fY29udGFpbmVyJiZ0aGlzLl91cGRhdGVTdHlsZSgpLHRoaXN9LHJlZHJhdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXAmJih0aGlzLnByb2plY3RMYXRsbmdzKCksdGhpcy5fdXBkYXRlUGF0aCgpKSx0aGlzfX0pLHMuTWFwLmluY2x1ZGUoe191cGRhdGVQYXRoVmlld3BvcnQ6ZnVuY3Rpb24oKXt2YXIgdD1zLlBhdGguQ0xJUF9QQURESU5HLGU9dGhpcy5nZXRTaXplKCksaT1zLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fbWFwUGFuZSksbj1pLm11bHRpcGx5QnkoLTEpLl9zdWJ0cmFjdChlLm11bHRpcGx5QnkodCkuX3JvdW5kKCkpLG89bi5hZGQoZS5tdWx0aXBseUJ5KDErMip0KS5fcm91bmQoKSk7dGhpcy5fcGF0aFZpZXdwb3J0PW5ldyBzLkJvdW5kcyhuLG8pfX0pLHMuUGF0aC5TVkdfTlM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixzLkJyb3dzZXIuc3ZnPSEoIWkuY3JlYXRlRWxlbWVudE5TfHwhaS5jcmVhdGVFbGVtZW50TlMocy5QYXRoLlNWR19OUywic3ZnIikuY3JlYXRlU1ZHUmVjdCkscy5QYXRoPXMuUGF0aC5leHRlbmQoe3N0YXRpY3M6e1NWRzpzLkJyb3dzZXIuc3ZnfSxicmluZ1RvRnJvbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhdGhSb290LGU9dGhpcy5fY29udGFpbmVyO3JldHVybiBlJiZ0Lmxhc3RDaGlsZCE9PWUmJnQuYXBwZW5kQ2hpbGQoZSksdGhpc30sYnJpbmdUb0JhY2s6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuX3BhdGhSb290LGU9dGhpcy5fY29udGFpbmVyLGk9dC5maXJzdENoaWxkO3JldHVybiBlJiZpIT09ZSYmdC5pbnNlcnRCZWZvcmUoZSxpKSx0aGlzfSxnZXRQYXRoU3RyaW5nOmZ1bmN0aW9uKCl7fSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbih0KXtyZXR1cm4gaS5jcmVhdGVFbGVtZW50TlMocy5QYXRoLlNWR19OUyx0KX0sX2luaXRFbGVtZW50czpmdW5jdGlvbigpe3RoaXMuX21hcC5faW5pdFBhdGhSb290KCksdGhpcy5faW5pdFBhdGgoKSx0aGlzLl9pbml0U3R5bGUoKX0sX2luaXRQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyPXRoaXMuX2NyZWF0ZUVsZW1lbnQoImciKSx0aGlzLl9wYXRoPXRoaXMuX2NyZWF0ZUVsZW1lbnQoInBhdGgiKSx0aGlzLm9wdGlvbnMuY2xhc3NOYW1lJiZzLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fcGF0aCx0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fcGF0aCl9LF9pbml0U3R5bGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3Ryb2tlJiYodGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lam9pbiIsInJvdW5kIiksdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lY2FwIiwicm91bmQiKSksdGhpcy5vcHRpb25zLmZpbGwmJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsLXJ1bGUiLCJldmVub2RkIiksdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMmJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsdGhpcy5vcHRpb25zLnBvaW50ZXJFdmVudHMpLHRoaXMub3B0aW9ucy5jbGlja2FibGV8fHRoaXMub3B0aW9ucy5wb2ludGVyRXZlbnRzfHx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgicG9pbnRlci1ldmVudHMiLCJub25lIiksdGhpcy5fdXBkYXRlU3R5bGUoKX0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnN0cm9rZT8odGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsdGhpcy5vcHRpb25zLmNvbG9yKSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLW9wYWNpdHkiLHRoaXMub3B0aW9ucy5vcGFjaXR5KSx0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIix0aGlzLm9wdGlvbnMud2VpZ2h0KSx0aGlzLm9wdGlvbnMuZGFzaEFycmF5P3RoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5Iix0aGlzLm9wdGlvbnMuZGFzaEFycmF5KTp0aGlzLl9wYXRoLnJlbW92ZUF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hhcnJheSIpLHRoaXMub3B0aW9ucy5saW5lQ2FwJiZ0aGlzLl9wYXRoLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVjYXAiLHRoaXMub3B0aW9ucy5saW5lQ2FwKSx0aGlzLm9wdGlvbnMubGluZUpvaW4mJnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWpvaW4iLHRoaXMub3B0aW9ucy5saW5lSm9pbikpOnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJzdHJva2UiLCJub25lIiksdGhpcy5vcHRpb25zLmZpbGw/KHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsIix0aGlzLm9wdGlvbnMuZmlsbENvbG9yfHx0aGlzLm9wdGlvbnMuY29sb3IpLHRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsLW9wYWNpdHkiLHRoaXMub3B0aW9ucy5maWxsT3BhY2l0eSkpOnRoaXMuX3BhdGguc2V0QXR0cmlidXRlKCJmaWxsIiwibm9uZSIpfSxfdXBkYXRlUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UGF0aFN0cmluZygpO3R8fCh0PSJNMCAwIiksdGhpcy5fcGF0aC5zZXRBdHRyaWJ1dGUoImQiLHQpfSxfaW5pdEV2ZW50czpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5jbGlja2FibGUpeyhzLkJyb3dzZXIuc3ZnfHwhcy5Ccm93c2VyLnZtbCkmJnMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9wYXRoLCJsZWFmbGV0LWNsaWNrYWJsZSIpLHMuRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCJjbGljayIsdGhpcy5fb25Nb3VzZUNsaWNrLHRoaXMpO2Zvcih2YXIgdD1bImRibGNsaWNrIiwibW91c2Vkb3duIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJjb250ZXh0bWVudSJdLGU9MDtlPHQubGVuZ3RoO2UrKylzLkRvbUV2ZW50Lm9uKHRoaXMuX2NvbnRhaW5lcix0W2VdLHRoaXMuX2ZpcmVNb3VzZUV2ZW50LHRoaXMpfX0sX29uTW91c2VDbGljazpmdW5jdGlvbih0KXt0aGlzLl9tYXAuZHJhZ2dpbmcmJnRoaXMuX21hcC5kcmFnZ2luZy5tb3ZlZCgpfHx0aGlzLl9maXJlTW91c2VFdmVudCh0KX0sX2ZpcmVNb3VzZUV2ZW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcnModC50eXBlKSl7dmFyIGU9dGhpcy5fbWFwLGk9ZS5tb3VzZUV2ZW50VG9Db250YWluZXJQb2ludCh0KSxuPWUuY29udGFpbmVyUG9pbnRUb0xheWVyUG9pbnQoaSksbz1lLmxheWVyUG9pbnRUb0xhdExuZyhuKTt0aGlzLmZpcmUodC50eXBlLHtsYXRsbmc6byxsYXllclBvaW50Om4sY29udGFpbmVyUG9pbnQ6aSxvcmlnaW5hbEV2ZW50OnR9KSwiY29udGV4dG1lbnUiPT09dC50eXBlJiZzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLCJtb3VzZW1vdmUiIT09dC50eXBlJiZzLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KX19fSkscy5NYXAuaW5jbHVkZSh7X2luaXRQYXRoUm9vdDpmdW5jdGlvbigpe3RoaXMuX3BhdGhSb290fHwodGhpcy5fcGF0aFJvb3Q9cy5QYXRoLnByb3RvdHlwZS5fY3JlYXRlRWxlbWVudCgic3ZnIiksdGhpcy5fcGFuZXMub3ZlcmxheVBhbmUuYXBwZW5kQ2hpbGQodGhpcy5fcGF0aFJvb3QpLHRoaXMub3B0aW9ucy56b29tQW5pbWF0aW9uJiZzLkJyb3dzZXIuYW55M2Q/KHMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9wYXRoUm9vdCwibGVhZmxldC16b29tLWFuaW1hdGVkIiksdGhpcy5vbih7em9vbWFuaW06dGhpcy5fYW5pbWF0ZVBhdGhab29tLHpvb21lbmQ6dGhpcy5fZW5kUGF0aFpvb219KSk6cy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3BhdGhSb290LCJsZWFmbGV0LXpvb20taGlkZSIpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVN2Z1ZpZXdwb3J0KSx0aGlzLl91cGRhdGVTdmdWaWV3cG9ydCgpKX0sX2FuaW1hdGVQYXRoWm9vbTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFpvb21TY2FsZSh0Lnpvb20pLGk9dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQuY2VudGVyKS5fbXVsdGlwbHlCeSgtZSkuX2FkZCh0aGlzLl9wYXRoVmlld3BvcnQubWluKTt0aGlzLl9wYXRoUm9vdC5zdHlsZVtzLkRvbVV0aWwuVFJBTlNGT1JNXT1zLkRvbVV0aWwuZ2V0VHJhbnNsYXRlU3RyaW5nKGkpKyIgc2NhbGUoIitlKyIpICIsdGhpcy5fcGF0aFpvb21pbmc9ITB9LF9lbmRQYXRoWm9vbTpmdW5jdGlvbigpe3RoaXMuX3BhdGhab29taW5nPSExfSxfdXBkYXRlU3ZnVmlld3BvcnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fcGF0aFpvb21pbmcpe3RoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCgpO3ZhciB0PXRoaXMuX3BhdGhWaWV3cG9ydCxlPXQubWluLGk9dC5tYXgsbj1pLngtZS54LG89aS55LWUueSxhPXRoaXMuX3BhdGhSb290LHI9dGhpcy5fcGFuZXMub3ZlcmxheVBhbmU7cy5Ccm93c2VyLm1vYmlsZVdlYmtpdCYmci5yZW1vdmVDaGlsZChhKSxzLkRvbVV0aWwuc2V0UG9zaXRpb24oYSxlKSxhLnNldEF0dHJpYnV0ZSgid2lkdGgiLG4pLGEuc2V0QXR0cmlidXRlKCJoZWlnaHQiLG8pLGEuc2V0QXR0cmlidXRlKCJ2aWV3Qm94IixbZS54LGUueSxuLG9dLmpvaW4oIiAiKSkscy5Ccm93c2VyLm1vYmlsZVdlYmtpdCYmci5hcHBlbmRDaGlsZChhKX19fSkscy5QYXRoLmluY2x1ZGUoe2JpbmRQb3B1cDpmdW5jdGlvbih0LGUpe3JldHVybiB0IGluc3RhbmNlb2Ygcy5Qb3B1cD90aGlzLl9wb3B1cD10OigoIXRoaXMuX3BvcHVwfHxlKSYmKHRoaXMuX3BvcHVwPW5ldyBzLlBvcHVwKGUsdGhpcykpLHRoaXMuX3BvcHVwLnNldENvbnRlbnQodCkpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZHx8KHRoaXMub24oImNsaWNrIix0aGlzLl9vcGVuUG9wdXAsdGhpcykub24oInJlbW92ZSIsdGhpcy5jbG9zZVBvcHVwLHRoaXMpLHRoaXMuX3BvcHVwSGFuZGxlcnNBZGRlZD0hMCksdGhpc30sdW5iaW5kUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cD1udWxsLHRoaXMub2ZmKCJjbGljayIsdGhpcy5fb3BlblBvcHVwKS5vZmYoInJlbW92ZSIsdGhpcy5jbG9zZVBvcHVwKSx0aGlzLl9wb3B1cEhhbmRsZXJzQWRkZWQ9ITEpLHRoaXN9LG9wZW5Qb3B1cDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcG9wdXAmJih0PXR8fHRoaXMuX2xhdGxuZ3x8dGhpcy5fbGF0bG5nc1tNYXRoLmZsb29yKHRoaXMuX2xhdGxuZ3MubGVuZ3RoLzIpXSx0aGlzLl9vcGVuUG9wdXAoe2xhdGxuZzp0fSkpLHRoaXN9LGNsb3NlUG9wdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLl9jbG9zZSgpLHRoaXN9LF9vcGVuUG9wdXA6ZnVuY3Rpb24odCl7dGhpcy5fcG9wdXAuc2V0TGF0TG5nKHQubGF0bG5nKSx0aGlzLl9tYXAub3BlblBvcHVwKHRoaXMuX3BvcHVwKX19KSxzLkJyb3dzZXIudm1sPSFzLkJyb3dzZXIuc3ZnJiZmdW5jdGlvbigpe3RyeXt2YXIgdD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuaW5uZXJIVE1MPSc8djpzaGFwZSBhZGo9IjEiLz4nO3ZhciBlPXQuZmlyc3RDaGlsZDtyZXR1cm4gZS5zdHlsZS5iZWhhdmlvcj0idXJsKCNkZWZhdWx0I1ZNTCkiLGUmJiJvYmplY3QiPT10eXBlb2YgZS5hZGp9Y2F0Y2gobil7cmV0dXJuITF9fSgpLHMuUGF0aD1zLkJyb3dzZXIuc3ZnfHwhcy5Ccm93c2VyLnZtbD9zLlBhdGg6cy5QYXRoLmV4dGVuZCh7c3RhdGljczp7Vk1MOiEwLENMSVBfUEFERElORzouMDJ9LF9jcmVhdGVFbGVtZW50OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBpLm5hbWVzcGFjZXMuYWRkKCJsdm1sIiwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiKSxmdW5jdGlvbih0KXtyZXR1cm4gaS5jcmVhdGVFbGVtZW50KCI8bHZtbDoiK3QrJyBjbGFzcz0ibHZtbCI+Jyl9fWNhdGNoKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaS5jcmVhdGVFbGVtZW50KCI8Iit0KycgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIiBjbGFzcz0ibHZtbCI+Jyl9fX0oKSxfaW5pdFBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250YWluZXI9dGhpcy5fY3JlYXRlRWxlbWVudCgic2hhcGUiKTtzLkRvbVV0aWwuYWRkQ2xhc3ModCwibGVhZmxldC12bWwtc2hhcGUiKyh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lPyIgIit0aGlzLm9wdGlvbnMuY2xhc3NOYW1lOiIiKSksdGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmcy5Eb21VdGlsLmFkZENsYXNzKHQsImxlYWZsZXQtY2xpY2thYmxlIiksdC5jb29yZHNpemU9IjEgMSIsdGhpcy5fcGF0aD10aGlzLl9jcmVhdGVFbGVtZW50KCJwYXRoIiksdC5hcHBlbmRDaGlsZCh0aGlzLl9wYXRoKSx0aGlzLl9tYXAuX3BhdGhSb290LmFwcGVuZENoaWxkKHQpfSxfaW5pdFN0eWxlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlU3R5bGUoKX0sX3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3Ryb2tlLGU9dGhpcy5fZmlsbCxpPXRoaXMub3B0aW9ucyxuPXRoaXMuX2NvbnRhaW5lcjtuLnN0cm9rZWQ9aS5zdHJva2Usbi5maWxsZWQ9aS5maWxsLGkuc3Ryb2tlPyh0fHwodD10aGlzLl9zdHJva2U9dGhpcy5fY3JlYXRlRWxlbWVudCgic3Ryb2tlIiksdC5lbmRjYXA9InJvdW5kIixuLmFwcGVuZENoaWxkKHQpKSx0LndlaWdodD1pLndlaWdodCsicHgiLHQuY29sb3I9aS5jb2xvcix0Lm9wYWNpdHk9aS5vcGFjaXR5LHQuZGFzaFN0eWxlPWkuZGFzaEFycmF5P3MuVXRpbC5pc0FycmF5KGkuZGFzaEFycmF5KT9pLmRhc2hBcnJheS5qb2luKCIgIik6aS5kYXNoQXJyYXkucmVwbGFjZSgvKCAqLCAqKS9nLCIgIik6IiIsaS5saW5lQ2FwJiYodC5lbmRjYXA9aS5saW5lQ2FwLnJlcGxhY2UoImJ1dHQiLCJmbGF0IikpLGkubGluZUpvaW4mJih0LmpvaW5zdHlsZT1pLmxpbmVKb2luKSk6dCYmKG4ucmVtb3ZlQ2hpbGQodCksdGhpcy5fc3Ryb2tlPW51bGwpLGkuZmlsbD8oZXx8KGU9dGhpcy5fZmlsbD10aGlzLl9jcmVhdGVFbGVtZW50KCJmaWxsIiksbi5hcHBlbmRDaGlsZChlKSksZS5jb2xvcj1pLmZpbGxDb2xvcnx8aS5jb2xvcixlLm9wYWNpdHk9aS5maWxsT3BhY2l0eSk6ZSYmKG4ucmVtb3ZlQ2hpbGQoZSksdGhpcy5fZmlsbD1udWxsKX0sX3VwZGF0ZVBhdGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jb250YWluZXIuc3R5bGU7dC5kaXNwbGF5PSJub25lIix0aGlzLl9wYXRoLnY9dGhpcy5nZXRQYXRoU3RyaW5nKCkrIiAiLHQuZGlzcGxheT0iIn19KSxzLk1hcC5pbmNsdWRlKHMuQnJvd3Nlci5zdmd8fCFzLkJyb3dzZXIudm1sP3t9OntfaW5pdFBhdGhSb290OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdGhSb290KXt2YXIgdD10aGlzLl9wYXRoUm9vdD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuY2xhc3NOYW1lPSJsZWFmbGV0LXZtbC1jb250YWluZXIiLHRoaXMuX3BhbmVzLm92ZXJsYXlQYW5lLmFwcGVuZENoaWxkKHQpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVBhdGhWaWV3cG9ydCksdGhpcy5fdXBkYXRlUGF0aFZpZXdwb3J0KCl9fX0pLHMuQnJvd3Nlci5jYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4hIWkuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dH0oKSxzLlBhdGg9cy5QYXRoLlNWRyYmIXQuTF9QUkVGRVJfQ0FOVkFTfHwhcy5Ccm93c2VyLmNhbnZhcz9zLlBhdGg6cy5QYXRoLmV4dGVuZCh7c3RhdGljczp7Q0FOVkFTOiEwLFNWRzohMX0scmVkcmF3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hcCYmKHRoaXMucHJvamVjdExhdGxuZ3MoKSx0aGlzLl9yZXF1ZXN0VXBkYXRlKCkpLHRoaXN9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiBzLnNldE9wdGlvbnModGhpcyx0KSx0aGlzLl9tYXAmJih0aGlzLl91cGRhdGVTdHlsZSgpLHRoaXMuX3JlcXVlc3RVcGRhdGUoKSksdGhpc30sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoInZpZXdyZXNldCIsdGhpcy5wcm9qZWN0TGF0bG5ncyx0aGlzKS5vZmYoIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZVBhdGgsdGhpcyksdGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmKHRoaXMuX21hcC5vZmYoImNsaWNrIix0aGlzLl9vbkNsaWNrLHRoaXMpLHRoaXMuX21hcC5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmUsdGhpcykpLHRoaXMuX3JlcXVlc3RVcGRhdGUoKSx0aGlzLl9tYXA9bnVsbH0sX3JlcXVlc3RVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLl9tYXAmJiFzLlBhdGguX3VwZGF0ZVJlcXVlc3QmJihzLlBhdGguX3VwZGF0ZVJlcXVlc3Q9cy5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fZmlyZU1hcE1vdmVFbmQsdGhpcy5fbWFwKSl9LF9maXJlTWFwTW92ZUVuZDpmdW5jdGlvbigpe3MuUGF0aC5fdXBkYXRlUmVxdWVzdD1udWxsLHRoaXMuZmlyZSgibW92ZWVuZCIpfSxfaW5pdEVsZW1lbnRzOmZ1bmN0aW9uKCl7dGhpcy5fbWFwLl9pbml0UGF0aFJvb3QoKSx0aGlzLl9jdHg9dGhpcy5fbWFwLl9jYW52YXNDdHh9LF91cGRhdGVTdHlsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uczt0LnN0cm9rZSYmKHRoaXMuX2N0eC5saW5lV2lkdGg9dC53ZWlnaHQsdGhpcy5fY3R4LnN0cm9rZVN0eWxlPXQuY29sb3IpLHQuZmlsbCYmKHRoaXMuX2N0eC5maWxsU3R5bGU9dC5maWxsQ29sb3J8fHQuY29sb3IpfSxfZHJhd1BhdGg6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbixvLGE7Zm9yKHRoaXMuX2N0eC5iZWdpblBhdGgoKSx0PTAsaT10aGlzLl9wYXJ0cy5sZW5ndGg7aT50O3QrKyl7Zm9yKGU9MCxuPXRoaXMuX3BhcnRzW3RdLmxlbmd0aDtuPmU7ZSsrKW89dGhpcy5fcGFydHNbdF1bZV0sYT0oMD09PWU/Im1vdmUiOiJsaW5lIikrIlRvIix0aGlzLl9jdHhbYV0oby54LG8ueSk7dGhpcyBpbnN0YW5jZW9mIHMuUG9seWdvbiYmdGhpcy5fY3R4LmNsb3NlUGF0aCgpfX0sX2NoZWNrSWZFbXB0eTpmdW5jdGlvbigpe3JldHVybiF0aGlzLl9wYXJ0cy5sZW5ndGh9LF91cGRhdGVQYXRoOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NoZWNrSWZFbXB0eSgpKXt2YXIgdD10aGlzLl9jdHgsZT10aGlzLm9wdGlvbnM7dGhpcy5fZHJhd1BhdGgoKSx0LnNhdmUoKSx0aGlzLl91cGRhdGVTdHlsZSgpLGUuZmlsbCYmKHQuZ2xvYmFsQWxwaGE9ZS5maWxsT3BhY2l0eSx0LmZpbGwoKSksZS5zdHJva2UmJih0Lmdsb2JhbEFscGhhPWUub3BhY2l0eSx0LnN0cm9rZSgpKSx0LnJlc3RvcmUoKX19LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmNsaWNrYWJsZSYmKHRoaXMuX21hcC5vbigibW91c2Vtb3ZlIix0aGlzLl9vbk1vdXNlTW92ZSx0aGlzKSx0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9vbkNsaWNrLHRoaXMpKX0sX29uQ2xpY2s6ZnVuY3Rpb24odCl7dGhpcy5fY29udGFpbnNQb2ludCh0LmxheWVyUG9pbnQpJiZ0aGlzLmZpcmUoImNsaWNrIix0KX0sX29uTW91c2VNb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuX21hcCYmIXRoaXMuX21hcC5fYW5pbWF0aW5nWm9vbSYmKHRoaXMuX2NvbnRhaW5zUG9pbnQodC5sYXllclBvaW50KT8odGhpcy5fY3R4LmNhbnZhcy5zdHlsZS5jdXJzb3I9InBvaW50ZXIiLHRoaXMuX21vdXNlSW5zaWRlPSEwLHRoaXMuZmlyZSgibW91c2VvdmVyIix0KSk6dGhpcy5fbW91c2VJbnNpZGUmJih0aGlzLl9jdHguY2FudmFzLnN0eWxlLmN1cnNvcj0iIix0aGlzLl9tb3VzZUluc2lkZT0hMSx0aGlzLmZpcmUoIm1vdXNlb3V0Iix0KSkpfX0pLHMuTWFwLmluY2x1ZGUocy5QYXRoLlNWRyYmIXQuTF9QUkVGRVJfQ0FOVkFTfHwhcy5Ccm93c2VyLmNhbnZhcz97fTp7X2luaXRQYXRoUm9vdDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fcGF0aFJvb3Q7ZXx8KGU9dGhpcy5fcGF0aFJvb3Q9aS5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdD10aGlzLl9jYW52YXNDdHg9ZS5nZXRDb250ZXh0KCIyZCIpLHQubGluZUNhcD0icm91bmQiLHQubGluZUpvaW49InJvdW5kIix0aGlzLl9wYW5lcy5vdmVybGF5UGFuZS5hcHBlbmRDaGlsZChlKSx0aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmKHRoaXMuX3BhdGhSb290LmNsYXNzTmFtZT0ibGVhZmxldC16b29tLWFuaW1hdGVkIix0aGlzLm9uKCJ6b29tYW5pbSIsdGhpcy5fYW5pbWF0ZVBhdGhab29tKSx0aGlzLm9uKCJ6b29tZW5kIix0aGlzLl9lbmRQYXRoWm9vbSkpLHRoaXMub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZUNhbnZhc1ZpZXdwb3J0KSx0aGlzLl91cGRhdGVDYW52YXNWaWV3cG9ydCgpKX0sX3VwZGF0ZUNhbnZhc1ZpZXdwb3J0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdGhab29taW5nKXt0aGlzLl91cGRhdGVQYXRoVmlld3BvcnQoKTt2YXIgdD10aGlzLl9wYXRoVmlld3BvcnQsZT10Lm1pbixpPXQubWF4LnN1YnRyYWN0KGUpLG49dGhpcy5fcGF0aFJvb3Q7cy5Eb21VdGlsLnNldFBvc2l0aW9uKG4sZSksbi53aWR0aD1pLngsbi5oZWlnaHQ9aS55LG4uZ2V0Q29udGV4dCgiMmQiKS50cmFuc2xhdGUoLWUueCwtZS55KX19fSkscy5MaW5lVXRpbD17c2ltcGxpZnk6ZnVuY3Rpb24odCxlKXtpZighZXx8IXQubGVuZ3RoKXJldHVybiB0LnNsaWNlKCk7dmFyIGk9ZSplO3JldHVybiB0PXRoaXMuX3JlZHVjZVBvaW50cyh0LGkpLHQ9dGhpcy5fc2ltcGxpZnlEUCh0LGkpfSxwb2ludFRvU2VnbWVudERpc3RhbmNlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpLCEwKSl9LGNsb3Nlc3RQb2ludE9uU2VnbWVudDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpKX0sX3NpbXBsaWZ5RFA6ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmxlbmd0aCxvPXR5cGVvZiBVaW50OEFycmF5IT1uKyIiP1VpbnQ4QXJyYXk6QXJyYXkscz1uZXcgbyhpKTtzWzBdPXNbaS0xXT0xLHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHQscyxlLDAsaS0xKTt2YXIgYSxyPVtdO2ZvcihhPTA7aT5hO2ErKylzW2FdJiZyLnB1c2godFthXSk7cmV0dXJuIHJ9LF9zaW1wbGlmeURQU3RlcDpmdW5jdGlvbih0LGUsaSxuLG8pe3ZhciBzLGEscixsPTA7Zm9yKGE9bisxO28tMT49YTthKyspcj10aGlzLl9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudCh0W2FdLHRbbl0sdFtvXSwhMCkscj5sJiYocz1hLGw9cik7bD5pJiYoZVtzXT0xLHRoaXMuX3NpbXBsaWZ5RFBTdGVwKHQsZSxpLG4scyksdGhpcy5fc2ltcGxpZnlEUFN0ZXAodCxlLGkscyxvKSl9LF9yZWR1Y2VQb2ludHM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9W3RbMF1dLG49MSxvPTAscz10Lmxlbmd0aDtzPm47bisrKXRoaXMuX3NxRGlzdCh0W25dLHRbb10pPmUmJihpLnB1c2godFtuXSksbz1uKTtyZXR1cm4gcy0xPm8mJmkucHVzaCh0W3MtMV0pLGl9LGNsaXBTZWdtZW50OmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLHMsYSxyPW4/dGhpcy5fbGFzdENvZGU6dGhpcy5fZ2V0Qml0Q29kZSh0LGkpLGw9dGhpcy5fZ2V0Qml0Q29kZShlLGkpO2Zvcih0aGlzLl9sYXN0Q29kZT1sOzspe2lmKCEocnxsKSlyZXR1cm5bdCxlXTtpZihyJmwpcmV0dXJuITE7bz1yfHxsLHM9dGhpcy5fZ2V0RWRnZUludGVyc2VjdGlvbih0LGUsbyxpKSxhPXRoaXMuX2dldEJpdENvZGUocyxpKSxvPT09cj8odD1zLHI9YSk6KGU9cyxsPWEpfX0sX2dldEVkZ2VJbnRlcnNlY3Rpb246ZnVuY3Rpb24odCxlLGksbil7dmFyIG89ZS54LXQueCxhPWUueS10Lnkscj1uLm1pbixsPW4ubWF4O3JldHVybiA4Jmk/bmV3IHMuUG9pbnQodC54K28qKGwueS10LnkpL2EsbC55KTo0Jmk/bmV3IHMuUG9pbnQodC54K28qKHIueS10LnkpL2Esci55KToyJmk/bmV3IHMuUG9pbnQobC54LHQueSthKihsLngtdC54KS9vKToxJmk/bmV3IHMuUG9pbnQoci54LHQueSthKihyLngtdC54KS9vKTp2b2lkIDB9LF9nZXRCaXRDb2RlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9MDtyZXR1cm4gdC54PGUubWluLng/aXw9MTp0Lng+ZS5tYXgueCYmKGl8PTIpLHQueTxlLm1pbi55P2l8PTQ6dC55PmUubWF4LnkmJihpfD04KSxpfSxfc3FEaXN0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS54LXQueCxuPWUueS10Lnk7cmV0dXJuIGkqaStuKm59LF9zcUNsb3Nlc3RQb2ludE9uU2VnbWVudDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxhPWUueCxyPWUueSxsPWkueC1hLGg9aS55LXIsdT1sKmwraCpoO3JldHVybiB1PjAmJihvPSgodC54LWEpKmwrKHQueS1yKSpoKS91LG8+MT8oYT1pLngscj1pLnkpOm8+MCYmKGErPWwqbyxyKz1oKm8pKSxsPXQueC1hLGg9dC55LXIsbj9sKmwraCpoOm5ldyBzLlBvaW50KGEscil9fSxzLlBvbHlsaW5lPXMuUGF0aC5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtzLlBhdGgucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGUpLHRoaXMuX2xhdGxuZ3M9dGhpcy5fY29udmVydExhdExuZ3ModCl9LG9wdGlvbnM6e3Ntb290aEZhY3RvcjoxLG5vQ2xpcDohMX0scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt0aGlzLl9vcmlnaW5hbFBvaW50cz1bXTtmb3IodmFyIHQ9MCxlPXRoaXMuX2xhdGxuZ3MubGVuZ3RoO2U+dDt0KyspdGhpcy5fb3JpZ2luYWxQb2ludHNbdF09dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludCh0aGlzLl9sYXRsbmdzW3RdKX0sZ2V0UGF0aFN0cmluZzpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5fcGFydHMubGVuZ3RoLGk9IiI7ZT50O3QrKylpKz10aGlzLl9nZXRQYXRoUGFydFN0cih0aGlzLl9wYXJ0c1t0XSk7cmV0dXJuIGl9LGdldExhdExuZ3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGF0bG5nc30sc2V0TGF0TG5nczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0KSx0aGlzLnJlZHJhdygpfSxhZGRMYXRMbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2xhdGxuZ3MucHVzaChzLmxhdExuZyh0KSksdGhpcy5yZWRyYXcoKX0sc3BsaWNlTGF0TG5nczpmdW5jdGlvbigpe3ZhciB0PVtdLnNwbGljZS5hcHBseSh0aGlzLl9sYXRsbmdzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX2NvbnZlcnRMYXRMbmdzKHRoaXMuX2xhdGxuZ3MsITApLHRoaXMucmVkcmF3KCksdH0sY2xvc2VzdExheWVyUG9pbnQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbj0xLzAsbz10aGlzLl9wYXJ0cyxhPW51bGwscj0wLGw9by5sZW5ndGg7bD5yO3IrKylmb3IodmFyIGg9b1tyXSx1PTEsYz1oLmxlbmd0aDtjPnU7dSsrKXtlPWhbdS0xXSxpPWhbdV07dmFyIHA9cy5MaW5lVXRpbC5fc3FDbG9zZXN0UG9pbnRPblNlZ21lbnQodCxlLGksITApO24+cCYmKG49cCxhPXMuTGluZVV0aWwuX3NxQ2xvc2VzdFBvaW50T25TZWdtZW50KHQsZSxpKSl9cmV0dXJuIGEmJihhLmRpc3RhbmNlPU1hdGguc3FydChuKSksYX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzLkxhdExuZ0JvdW5kcyh0aGlzLmdldExhdExuZ3MoKSl9LF9jb252ZXJ0TGF0TG5nczpmdW5jdGlvbih0LGUpe3ZhciBpLG4sbz1lP3Q6W107Zm9yKGk9MCxuPXQubGVuZ3RoO24+aTtpKyspe2lmKHMuVXRpbC5pc0FycmF5KHRbaV0pJiYibnVtYmVyIiE9dHlwZW9mIHRbaV1bMF0pcmV0dXJuO29baV09cy5sYXRMbmcodFtpXSl9cmV0dXJuIG99LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7cy5QYXRoLnByb3RvdHlwZS5faW5pdEV2ZW50cy5jYWxsKHRoaXMpfSxfZ2V0UGF0aFBhcnRTdHI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9cy5QYXRoLlZNTCxuPTAsbz10Lmxlbmd0aCxhPSIiO28+bjtuKyspZT10W25dLGkmJmUuX3JvdW5kKCksYSs9KG4/IkwiOiJNIikrZS54KyIgIitlLnk7cmV0dXJuIGF9LF9jbGlwUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG49dGhpcy5fb3JpZ2luYWxQb2ludHMsbz1uLmxlbmd0aDtpZih0aGlzLm9wdGlvbnMubm9DbGlwKXJldHVybiB0aGlzLl9wYXJ0cz1bbl0sdm9pZCAwO3RoaXMuX3BhcnRzPVtdO3ZhciBhPXRoaXMuX3BhcnRzLHI9dGhpcy5fbWFwLl9wYXRoVmlld3BvcnQsbD1zLkxpbmVVdGlsO2Zvcih0PTAsZT0wO28tMT50O3QrKylpPWwuY2xpcFNlZ21lbnQoblt0XSxuW3QrMV0scix0KSxpJiYoYVtlXT1hW2VdfHxbXSxhW2VdLnB1c2goaVswXSksKGlbMV0hPT1uW3QrMV18fHQ9PT1vLTIpJiYoYVtlXS5wdXNoKGlbMV0pLGUrKykpfSxfc2ltcGxpZnlQb2ludHM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fcGFydHMsZT1zLkxpbmVVdGlsLGk9MCxuPXQubGVuZ3RoO24+aTtpKyspdFtpXT1lLnNpbXBsaWZ5KHRbaV0sdGhpcy5vcHRpb25zLnNtb290aEZhY3Rvcil9LF91cGRhdGVQYXRoOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiYodGhpcy5fY2xpcFBvaW50cygpLHRoaXMuX3NpbXBsaWZ5UG9pbnRzKCkscy5QYXRoLnByb3RvdHlwZS5fdXBkYXRlUGF0aC5jYWxsKHRoaXMpKX19KSxzLnBvbHlsaW5lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLlBvbHlsaW5lKHQsZSl9LHMuUG9seVV0aWw9e30scy5Qb2x5VXRpbC5jbGlwUG9seWdvbj1mdW5jdGlvbih0LGUpe3ZhciBpLG4sbyxhLHIsbCxoLHUsYyxwPVsxLDQsMiw4XSxkPXMuTGluZVV0aWw7Zm9yKG49MCxoPXQubGVuZ3RoO2g+bjtuKyspdFtuXS5fY29kZT1kLl9nZXRCaXRDb2RlKHRbbl0sZSk7Zm9yKGE9MDs0PmE7YSsrKXtmb3IodT1wW2FdLGk9W10sbj0wLGg9dC5sZW5ndGgsbz1oLTE7aD5uO289bisrKXI9dFtuXSxsPXRbb10sci5fY29kZSZ1P2wuX2NvZGUmdXx8KGM9ZC5fZ2V0RWRnZUludGVyc2VjdGlvbihsLHIsdSxlKSxjLl9jb2RlPWQuX2dldEJpdENvZGUoYyxlKSxpLnB1c2goYykpOihsLl9jb2RlJnUmJihjPWQuX2dldEVkZ2VJbnRlcnNlY3Rpb24obCxyLHUsZSksYy5fY29kZT1kLl9nZXRCaXRDb2RlKGMsZSksaS5wdXNoKGMpKSxpLnB1c2gocikpO3Q9aX1yZXR1cm4gdH0scy5Qb2x5Z29uPXMuUG9seWxpbmUuZXh0ZW5kKHtvcHRpb25zOntmaWxsOiEwfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7cy5Qb2x5bGluZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxlKSx0aGlzLl9pbml0V2l0aEhvbGVzKHQpfSxfaW5pdFdpdGhIb2xlczpmdW5jdGlvbih0KXt2YXIgZSxpLG47aWYodCYmcy5VdGlsLmlzQXJyYXkodFswXSkmJiJudW1iZXIiIT10eXBlb2YgdFswXVswXSlmb3IodGhpcy5fbGF0bG5ncz10aGlzLl9jb252ZXJ0TGF0TG5ncyh0WzBdKSx0aGlzLl9ob2xlcz10LnNsaWNlKDEpLGU9MCxpPXRoaXMuX2hvbGVzLmxlbmd0aDtpPmU7ZSsrKW49dGhpcy5faG9sZXNbZV09dGhpcy5fY29udmVydExhdExuZ3ModGhpcy5faG9sZXNbZV0pLG5bMF0uZXF1YWxzKG5bbi5sZW5ndGgtMV0pJiZuLnBvcCgpO3Q9dGhpcy5fbGF0bG5ncyx0Lmxlbmd0aD49MiYmdFswXS5lcXVhbHModFt0Lmxlbmd0aC0xXSkmJnQucG9wKCl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7aWYocy5Qb2x5bGluZS5wcm90b3R5cGUucHJvamVjdExhdGxuZ3MuY2FsbCh0aGlzKSx0aGlzLl9ob2xlUG9pbnRzPVtdLHRoaXMuX2hvbGVzKXt2YXIgdCxlLGksbjtmb3IodD0wLGk9dGhpcy5faG9sZXMubGVuZ3RoO2k+dDt0KyspZm9yKHRoaXMuX2hvbGVQb2ludHNbdF09W10sZT0wLG49dGhpcy5faG9sZXNbdF0ubGVuZ3RoO24+ZTtlKyspdGhpcy5faG9sZVBvaW50c1t0XVtlXT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2hvbGVzW3RdW2VdKX19LHNldExhdExuZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnMuVXRpbC5pc0FycmF5KHRbMF0pJiYibnVtYmVyIiE9dHlwZW9mIHRbMF1bMF0/KHRoaXMuX2luaXRXaXRoSG9sZXModCksdGhpcy5yZWRyYXcoKSk6cy5Qb2x5bGluZS5wcm90b3R5cGUuc2V0TGF0TG5ncy5jYWxsKHRoaXMsdCl9LF9jbGlwUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fb3JpZ2luYWxQb2ludHMsZT1bXTtpZih0aGlzLl9wYXJ0cz1bdF0uY29uY2F0KHRoaXMuX2hvbGVQb2ludHMpLCF0aGlzLm9wdGlvbnMubm9DbGlwKXtmb3IodmFyIGk9MCxuPXRoaXMuX3BhcnRzLmxlbmd0aDtuPmk7aSsrKXt2YXIgbz1zLlBvbHlVdGlsLmNsaXBQb2x5Z29uKHRoaXMuX3BhcnRzW2ldLHRoaXMuX21hcC5fcGF0aFZpZXdwb3J0KTtvLmxlbmd0aCYmZS5wdXNoKG8pfXRoaXMuX3BhcnRzPWV9fSxfZ2V0UGF0aFBhcnRTdHI6ZnVuY3Rpb24odCl7dmFyIGU9cy5Qb2x5bGluZS5wcm90b3R5cGUuX2dldFBhdGhQYXJ0U3RyLmNhbGwodGhpcyx0KTtyZXR1cm4gZSsocy5Ccm93c2VyLnN2Zz8ieiI6IngiKX19KSxzLnBvbHlnb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHMuUG9seWdvbih0LGUpfSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHMuRmVhdHVyZUdyb3VwLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2xheWVycz17fSx0aGlzLl9vcHRpb25zPWUsdGhpcy5zZXRMYXRMbmdzKHQpfSxzZXRMYXRMbmdzOmZ1bmN0aW9uKGUpe3ZhciBpPTAsbj1lLmxlbmd0aDtmb3IodGhpcy5lYWNoTGF5ZXIoZnVuY3Rpb24odCl7bj5pP3Quc2V0TGF0TG5ncyhlW2krK10pOnRoaXMucmVtb3ZlTGF5ZXIodCl9LHRoaXMpO24+aTspdGhpcy5hZGRMYXllcihuZXcgdChlW2krK10sdGhpcy5fb3B0aW9ucykpO3JldHVybiB0aGlzfSxnZXRMYXRMbmdzOmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZWFjaExheWVyKGZ1bmN0aW9uKGUpe3QucHVzaChlLmdldExhdExuZ3MoKSl9KSx0fX0pfXMuTXVsdGlQb2x5bGluZT10KHMuUG9seWxpbmUpLHMuTXVsdGlQb2x5Z29uPXQocy5Qb2x5Z29uKSxzLm11bHRpUG9seWxpbmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHMuTXVsdGlQb2x5bGluZSh0LGUpfSxzLm11bHRpUG9seWdvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcy5NdWx0aVBvbHlnb24odCxlKX19KCkscy5SZWN0YW5nbGU9cy5Qb2x5Z29uLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe3MuUG9seWdvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdGhpcy5fYm91bmRzVG9MYXRMbmdzKHQpLGUpfSxzZXRCb3VuZHM6ZnVuY3Rpb24odCl7dGhpcy5zZXRMYXRMbmdzKHRoaXMuX2JvdW5kc1RvTGF0TG5ncyh0KSl9LF9ib3VuZHNUb0xhdExuZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9cy5sYXRMbmdCb3VuZHModCksW3QuZ2V0U291dGhXZXN0KCksdC5nZXROb3J0aFdlc3QoKSx0LmdldE5vcnRoRWFzdCgpLHQuZ2V0U291dGhFYXN0KCldfX0pLHMucmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLlJlY3RhbmdsZSh0LGUpfSxzLkNpcmNsZT1zLlBhdGguZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxpKXtzLlBhdGgucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLGkpLHRoaXMuX2xhdGxuZz1zLmxhdExuZyh0KSx0aGlzLl9tUmFkaXVzPWV9LG9wdGlvbnM6e2ZpbGw6ITB9LHNldExhdExuZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0bG5nPXMubGF0TG5nKHQpLHRoaXMucmVkcmF3KCl9LHNldFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbVJhZGl1cz10LHRoaXMucmVkcmF3KCl9LHByb2plY3RMYXRsbmdzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0TG5nUmFkaXVzKCksZT10aGlzLl9sYXRsbmcsaT10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KFtlLmxhdCxlLmxuZy10XSk7dGhpcy5fcG9pbnQ9dGhpcy5fbWFwLmxhdExuZ1RvTGF5ZXJQb2ludChlKSx0aGlzLl9yYWRpdXM9TWF0aC5tYXgodGhpcy5fcG9pbnQueC1pLngsMSl9LGdldEJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldExuZ1JhZGl1cygpLGU9dGhpcy5fbVJhZGl1cy80MDA3NTAxNyozNjAsaT10aGlzLl9sYXRsbmc7cmV0dXJuIG5ldyBzLkxhdExuZ0JvdW5kcyhbaS5sYXQtZSxpLmxuZy10XSxbaS5sYXQrZSxpLmxuZyt0XSl9LGdldExhdExuZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXRsbmd9LGdldFBhdGhTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wb2ludCxlPXRoaXMuX3JhZGl1cztyZXR1cm4gdGhpcy5fY2hlY2tJZkVtcHR5KCk/IiI6cy5Ccm93c2VyLnN2Zz8iTSIrdC54KyIsIisodC55LWUpKyJBIitlKyIsIitlKyIsMCwxLDEsIisodC54LS4xKSsiLCIrKHQueS1lKSsiIHoiOih0Ll9yb3VuZCgpLGU9TWF0aC5yb3VuZChlKSwiQUwgIit0LngrIiwiK3QueSsiICIrZSsiLCIrZSsiIDAsMjM1OTI2MDAiKX0sZ2V0UmFkaXVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21SYWRpdXN9LF9nZXRMYXRSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbVJhZGl1cy80MDA3NTAxNyozNjB9LF9nZXRMbmdSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0TGF0UmFkaXVzKCkvTWF0aC5jb3Mocy5MYXRMbmcuREVHX1RPX1JBRCp0aGlzLl9sYXRsbmcubGF0KX0sX2NoZWNrSWZFbXB0eTpmdW5jdGlvbigpe2lmKCF0aGlzLl9tYXApcmV0dXJuITE7dmFyIHQ9dGhpcy5fbWFwLl9wYXRoVmlld3BvcnQsZT10aGlzLl9yYWRpdXMsaT10aGlzLl9wb2ludDtyZXR1cm4gaS54LWU+dC5tYXgueHx8aS55LWU+dC5tYXgueXx8aS54K2U8dC5taW4ueHx8aS55K2U8dC5taW4ueX19KSxzLmNpcmNsZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBzLkNpcmNsZSh0LGUsaSl9LHMuQ2lyY2xlTWFya2VyPXMuQ2lyY2xlLmV4dGVuZCh7b3B0aW9uczp7cmFkaXVzOjEwLHdlaWdodDoyfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7cy5DaXJjbGUucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLHQsbnVsbCxlKSx0aGlzLl9yYWRpdXM9dGhpcy5vcHRpb25zLnJhZGl1c30scHJvamVjdExhdGxuZ3M6ZnVuY3Rpb24oKXt0aGlzLl9wb2ludD10aGlzLl9tYXAubGF0TG5nVG9MYXllclBvaW50KHRoaXMuX2xhdGxuZyl9LF91cGRhdGVTdHlsZTpmdW5jdGlvbigpe3MuQ2lyY2xlLnByb3RvdHlwZS5fdXBkYXRlU3R5bGUuY2FsbCh0aGlzKSx0aGlzLnNldFJhZGl1cyh0aGlzLm9wdGlvbnMucmFkaXVzKX0sc2V0TGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiBzLkNpcmNsZS5wcm90b3R5cGUuc2V0TGF0TG5nLmNhbGwodGhpcyx0KSx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX2lzT3BlbiYmdGhpcy5fcG9wdXAuc2V0TGF0TG5nKHQpLHRoaXN9LHNldFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLnJhZGl1cz10aGlzLl9yYWRpdXM9dCx0aGlzLnJlZHJhdygpfSxnZXRSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzfX0pLHMuY2lyY2xlTWFya2VyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzLkNpcmNsZU1hcmtlcih0LGUpfSxzLlBvbHlsaW5lLmluY2x1ZGUocy5QYXRoLkNBTlZBUz97X2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxuLG8sYSxyLGwsaCx1PXRoaXMub3B0aW9ucy53ZWlnaHQvMjtmb3Iocy5Ccm93c2VyLnRvdWNoJiYodSs9MTApLGk9MCxhPXRoaXMuX3BhcnRzLmxlbmd0aDthPmk7aSsrKWZvcihoPXRoaXMuX3BhcnRzW2ldLG49MCxyPWgubGVuZ3RoLG89ci0xO3I+bjtvPW4rKylpZigoZXx8MCE9PW4pJiYobD1zLkxpbmVVdGlsLnBvaW50VG9TZWdtZW50RGlzdGFuY2UodCxoW29dLGhbbl0pLHU+PWwpKXJldHVybiEwO3JldHVybiExfX06e30pLHMuUG9seWdvbi5pbmNsdWRlKHMuUGF0aC5DQU5WQVM/e19jb250YWluc1BvaW50OmZ1bmN0aW9uKHQpe3ZhciBlLGksbixvLGEscixsLGgsdT0hMTtpZihzLlBvbHlsaW5lLnByb3RvdHlwZS5fY29udGFpbnNQb2ludC5jYWxsKHRoaXMsdCwhMCkpcmV0dXJuITA7Zm9yKG89MCxsPXRoaXMuX3BhcnRzLmxlbmd0aDtsPm87bysrKWZvcihlPXRoaXMuX3BhcnRzW29dLGE9MCxoPWUubGVuZ3RoLHI9aC0xO2g+YTtyPWErKylpPWVbYV0sbj1lW3JdLGkueT50LnkhPW4ueT50LnkmJnQueDwobi54LWkueCkqKHQueS1pLnkpLyhuLnktaS55KStpLngmJih1PSF1KTtyZXR1cm4gdX19Ont9KSxzLkNpcmNsZS5pbmNsdWRlKHMuUGF0aC5DQU5WQVM/e19kcmF3UGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3BvaW50O3RoaXMuX2N0eC5iZWdpblBhdGgoKSx0aGlzLl9jdHguYXJjKHQueCx0LnksdGhpcy5fcmFkaXVzLDAsMipNYXRoLlBJLCExKX0sX2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9pbnQsaT10aGlzLm9wdGlvbnMuc3Ryb2tlP3RoaXMub3B0aW9ucy53ZWlnaHQvMjowO3JldHVybiB0LmRpc3RhbmNlVG8oZSk8PXRoaXMuX3JhZGl1cytpfX06e30pLHMuQ2lyY2xlTWFya2VyLmluY2x1ZGUocy5QYXRoLkNBTlZBUz97X3VwZGF0ZVN0eWxlOmZ1bmN0aW9uKCl7cy5QYXRoLnByb3RvdHlwZS5fdXBkYXRlU3R5bGUuY2FsbCh0aGlzKX19Ont9KSxzLkdlb0pTT049cy5GZWF0dXJlR3JvdXAuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7cy5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5fbGF5ZXJzPXt9LHQmJnRoaXMuYWRkRGF0YSh0KX0sYWRkRGF0YTpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbz1zLlV0aWwuaXNBcnJheSh0KT90OnQuZmVhdHVyZXM7aWYobyl7Zm9yKGU9MCxpPW8ubGVuZ3RoO2k+ZTtlKyspbj1vW2VdLChuLmdlb21ldHJpZXN8fG4uZ2VvbWV0cnl8fG4uZmVhdHVyZXN8fG4uY29vcmRpbmF0ZXMpJiZ0aGlzLmFkZERhdGEob1tlXSk7cmV0dXJuIHRoaXN9dmFyIGE9dGhpcy5vcHRpb25zO2lmKCFhLmZpbHRlcnx8YS5maWx0ZXIodCkpe3ZhciByPXMuR2VvSlNPTi5nZW9tZXRyeVRvTGF5ZXIodCxhLnBvaW50VG9MYXllcixhLmNvb3Jkc1RvTGF0TG5nLGEpO3JldHVybiByLmZlYXR1cmU9cy5HZW9KU09OLmFzRmVhdHVyZSh0KSxyLmRlZmF1bHRPcHRpb25zPXIub3B0aW9ucyx0aGlzLnJlc2V0U3R5bGUociksYS5vbkVhY2hGZWF0dXJlJiZhLm9uRWFjaEZlYXR1cmUodCxyKSx0aGlzLmFkZExheWVyKHIpfX0scmVzZXRTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMuc3R5bGU7ZSYmKHMuVXRpbC5leHRlbmQodC5vcHRpb25zLHQuZGVmYXVsdE9wdGlvbnMpLHRoaXMuX3NldExheWVyU3R5bGUodCxlKSl9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3RoaXMuZWFjaExheWVyKGZ1bmN0aW9uKGUpe3RoaXMuX3NldExheWVyU3R5bGUoZSx0KX0sdGhpcyl9LF9zZXRMYXllclN0eWxlOmZ1bmN0aW9uKHQsZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJihlPWUodC5mZWF0dXJlKSksdC5zZXRTdHlsZSYmdC5zZXRTdHlsZShlKX19KSxzLmV4dGVuZChzLkdlb0pTT04se2dlb21ldHJ5VG9MYXllcjpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbyxhLHIsbCxoPSJGZWF0dXJlIj09PXQudHlwZT90Lmdlb21ldHJ5OnQsdT1oLmNvb3JkaW5hdGVzLGM9W107c3dpdGNoKGk9aXx8dGhpcy5jb29yZHNUb0xhdExuZyxoLnR5cGUpe2Nhc2UiUG9pbnQiOnJldHVybiBvPWkodSksZT9lKHQsbyk6bmV3IHMuTWFya2VyKG8pO2Nhc2UiTXVsdGlQb2ludCI6Zm9yKHI9MCxsPXUubGVuZ3RoO2w+cjtyKyspbz1pKHVbcl0pLGMucHVzaChlP2UodCxvKTpuZXcgcy5NYXJrZXIobykpO3JldHVybiBuZXcgcy5GZWF0dXJlR3JvdXAoYyk7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDAsaSksbmV3IHMuUG9seWxpbmUoYSxuKTtjYXNlIlBvbHlnb24iOmlmKDI9PT11Lmxlbmd0aCYmIXVbMV0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBHZW9KU09OIG9iamVjdC4iKTtyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDEsaSksbmV3IHMuUG9seWdvbihhLG4pO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjpyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDEsaSksbmV3IHMuTXVsdGlQb2x5bGluZShhLG4pO2Nhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gYT10aGlzLmNvb3Jkc1RvTGF0TG5ncyh1LDIsaSksbmV3IHMuTXVsdGlQb2x5Z29uKGEsbik7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOmZvcihyPTAsbD1oLmdlb21ldHJpZXMubGVuZ3RoO2w+cjtyKyspYy5wdXNoKHRoaXMuZ2VvbWV0cnlUb0xheWVyKHtnZW9tZXRyeTpoLmdlb21ldHJpZXNbcl0sdHlwZToiRmVhdHVyZSIscHJvcGVydGllczp0LnByb3BlcnRpZXN9LGUsaSxuKSk7cmV0dXJuIG5ldyBzLkZlYXR1cmVHcm91cChjKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBHZW9KU09OIG9iamVjdC4iKX19LGNvb3Jkc1RvTGF0TG5nOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5MYXRMbmcodFsxXSx0WzBdLHRbMl0pfSxjb29yZHNUb0xhdExuZ3M6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLG8scyxhPVtdO2ZvcihvPTAscz10Lmxlbmd0aDtzPm87bysrKW49ZT90aGlzLmNvb3Jkc1RvTGF0TG5ncyh0W29dLGUtMSxpKTooaXx8dGhpcy5jb29yZHNUb0xhdExuZykodFtvXSksYS5wdXNoKG4pO3JldHVybiBhfSxsYXRMbmdUb0Nvb3JkczpmdW5jdGlvbih0KXt2YXIgZT1bdC5sbmcsdC5sYXRdO3JldHVybiB0LmFsdCE9PW4mJmUucHVzaCh0LmFsdCksZX0sbGF0TG5nc1RvQ29vcmRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPTAsbj10Lmxlbmd0aDtuPmk7aSsrKWUucHVzaChzLkdlb0pTT04ubGF0TG5nVG9Db29yZHModFtpXSkpO3JldHVybiBlfSxnZXRGZWF0dXJlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZmVhdHVyZT9zLmV4dGVuZCh7fSx0LmZlYXR1cmUse2dlb21ldHJ5OmV9KTpzLkdlb0pTT04uYXNGZWF0dXJlKGUpfSxhc0ZlYXR1cmU6ZnVuY3Rpb24odCl7cmV0dXJuIkZlYXR1cmUiPT09dC50eXBlP3Q6e3R5cGU6IkZlYXR1cmUiLHByb3BlcnRpZXM6e30sZ2VvbWV0cnk6dH19fSk7dmFyIHI9e3RvR2VvSlNPTjpmdW5jdGlvbigpe3JldHVybiBzLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6cy5HZW9KU09OLmxhdExuZ1RvQ29vcmRzKHRoaXMuZ2V0TGF0TG5nKCkpfSl9fTtzLk1hcmtlci5pbmNsdWRlKHIpLHMuQ2lyY2xlLmluY2x1ZGUocikscy5DaXJjbGVNYXJrZXIuaW5jbHVkZShyKSxzLlBvbHlsaW5lLmluY2x1ZGUoe3RvR2VvSlNPTjpmdW5jdGlvbigpe3JldHVybiBzLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczpzLkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzKHRoaXMuZ2V0TGF0TG5ncygpKX0pfX0pLHMuUG9seWdvbi5pbmNsdWRlKHt0b0dlb0pTT046ZnVuY3Rpb24oKXt2YXIgdCxlLGksbj1bcy5HZW9KU09OLmxhdExuZ3NUb0Nvb3Jkcyh0aGlzLmdldExhdExuZ3MoKSldO2lmKG5bMF0ucHVzaChuWzBdWzBdKSx0aGlzLl9ob2xlcylmb3IodD0wLGU9dGhpcy5faG9sZXMubGVuZ3RoO2U+dDt0KyspaT1zLkdlb0pTT04ubGF0TG5nc1RvQ29vcmRzKHRoaXMuX2hvbGVzW3RdKSxpLnB1c2goaVswXSksbi5wdXNoKGkpO3JldHVybiBzLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOiJQb2x5Z29uIixjb29yZGluYXRlczpufSl9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbih0KXtlLnB1c2godC50b0dlb0pTT04oKS5nZW9tZXRyeS5jb29yZGluYXRlcyl9KSxzLkdlb0pTT04uZ2V0RmVhdHVyZSh0aGlzLHt0eXBlOnQsY29vcmRpbmF0ZXM6ZX0pfX1zLk11bHRpUG9seWxpbmUuaW5jbHVkZSh7dG9HZW9KU09OOnQoIk11bHRpTGluZVN0cmluZyIpfSkscy5NdWx0aVBvbHlnb24uaW5jbHVkZSh7dG9HZW9KU09OOnQoIk11bHRpUG9seWdvbiIpfSkscy5MYXllckdyb3VwLmluY2x1ZGUoe3RvR2VvSlNPTjpmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5mZWF0dXJlJiZ0aGlzLmZlYXR1cmUuZ2VvbWV0cnksbj1bXTtpZihpJiYiTXVsdGlQb2ludCI9PT1pLnR5cGUpcmV0dXJuIHQoIk11bHRpUG9pbnQiKS5jYWxsKHRoaXMpO3ZhciBvPWkmJiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09aS50eXBlO3JldHVybiB0aGlzLmVhY2hMYXllcihmdW5jdGlvbih0KXt0LnRvR2VvSlNPTiYmKGU9dC50b0dlb0pTT04oKSxuLnB1c2gobz9lLmdlb21ldHJ5OnMuR2VvSlNPTi5hc0ZlYXR1cmUoZSkpKX0pLG8/cy5HZW9KU09OLmdldEZlYXR1cmUodGhpcyx7Z2VvbWV0cmllczpuLHR5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiJ9KTp7dHlwZToiRmVhdHVyZUNvbGxlY3Rpb24iLGZlYXR1cmVzOm59fX0pfSgpLHMuZ2VvSnNvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcy5HZW9KU09OKHQsZSl9LHMuRG9tRXZlbnQ9e2FkZExpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLGEscixsPXMuc3RhbXAoaSksaD0iX2xlYWZsZXRfIitlK2w7cmV0dXJuIHRbaF0/dGhpczoobz1mdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKG58fHQsZXx8cy5Eb21FdmVudC5fZ2V0RXZlbnQoKSl9LHMuQnJvd3Nlci5wb2ludGVyJiYwPT09ZS5pbmRleE9mKCJ0b3VjaCIpP3RoaXMuYWRkUG9pbnRlckxpc3RlbmVyKHQsZSxvLGwpOihzLkJyb3dzZXIudG91Y2gmJiJkYmxjbGljayI9PT1lJiZ0aGlzLmFkZERvdWJsZVRhcExpc3RlbmVyJiZ0aGlzLmFkZERvdWJsZVRhcExpc3RlbmVyKHQsbyxsKSwiYWRkRXZlbnRMaXN0ZW5lciJpbiB0PyJtb3VzZXdoZWVsIj09PWU/KHQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NTW91c2VTY3JvbGwiLG8sITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihlLG8sITEpKToibW91c2VlbnRlciI9PT1lfHwibW91c2VsZWF2ZSI9PT1lPyhhPW8scj0ibW91c2VlbnRlciI9PT1lPyJtb3VzZW92ZXIiOiJtb3VzZW91dCIsbz1mdW5jdGlvbihlKXtyZXR1cm4gcy5Eb21FdmVudC5fY2hlY2tNb3VzZSh0LGUpP2EoZSk6dm9pZCAwfSx0LmFkZEV2ZW50TGlzdGVuZXIocixvLCExKSk6ImNsaWNrIj09PWUmJnMuQnJvd3Nlci5hbmRyb2lkPyhhPW8sbz1mdW5jdGlvbih0KXtyZXR1cm4gcy5Eb21FdmVudC5fZmlsdGVyQ2xpY2sodCxhKX0sdC5hZGRFdmVudExpc3RlbmVyKGUsbywhMSkpOnQuYWRkRXZlbnRMaXN0ZW5lcihlLG8sITEpOiJhdHRhY2hFdmVudCJpbiB0JiZ0LmF0dGFjaEV2ZW50KCJvbiIrZSxvKSx0W2hdPW8sdGhpcykpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7dmFyIG49cy5zdGFtcChpKSxvPSJfbGVhZmxldF8iK2UrbixhPXRbb107cmV0dXJuIGE/KHMuQnJvd3Nlci5wb2ludGVyJiYwPT09ZS5pbmRleE9mKCJ0b3VjaCIpP3RoaXMucmVtb3ZlUG9pbnRlckxpc3RlbmVyKHQsZSxuKTpzLkJyb3dzZXIudG91Y2gmJiJkYmxjbGljayI9PT1lJiZ0aGlzLnJlbW92ZURvdWJsZVRhcExpc3RlbmVyP3RoaXMucmVtb3ZlRG91YmxlVGFwTGlzdGVuZXIodCxuKToicmVtb3ZlRXZlbnRMaXN0ZW5lciJpbiB0PyJtb3VzZXdoZWVsIj09PWU/KHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTW91c2VTY3JvbGwiLGEsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGEsITEpKToibW91c2VlbnRlciI9PT1lfHwibW91c2VsZWF2ZSI9PT1lP3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciI9PT1lPyJtb3VzZW92ZXIiOiJtb3VzZW91dCIsYSwhMSk6dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsYSwhMSk6ImRldGFjaEV2ZW50ImluIHQmJnQuZGV0YWNoRXZlbnQoIm9uIitlLGEpLHRbb109bnVsbCx0aGlzKTp0aGlzfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RvcFByb3BhZ2F0aW9uP3Quc3RvcFByb3BhZ2F0aW9uKCk6dC5jYW5jZWxCdWJibGU9ITAscy5Eb21FdmVudC5fc2tpcHBlZCh0KSx0aGlzfSxkaXNhYmxlU2Nyb2xsUHJvcGFnYXRpb246ZnVuY3Rpb24odCl7dmFyIGU9cy5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247CnJldHVybiBzLkRvbUV2ZW50Lm9uKHQsIm1vdXNld2hlZWwiLGUpLm9uKHQsIk1vek1vdXNlUGl4ZWxTY3JvbGwiLGUpfSxkaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9cy5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24saT1zLkRyYWdnYWJsZS5TVEFSVC5sZW5ndGgtMTtpPj0wO2ktLSlzLkRvbUV2ZW50Lm9uKHQscy5EcmFnZ2FibGUuU1RBUlRbaV0sZSk7cmV0dXJuIHMuRG9tRXZlbnQub24odCwiY2xpY2siLHMuRG9tRXZlbnQuX2Zha2VTdG9wKS5vbih0LCJkYmxjbGljayIsZSl9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExLHRoaXN9LHN0b3A6ZnVuY3Rpb24odCl7cmV0dXJuIHMuRG9tRXZlbnQucHJldmVudERlZmF1bHQodCkuc3RvcFByb3BhZ2F0aW9uKHQpfSxnZXRNb3VzZVBvc2l0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIG49aS5ib2R5LG89aS5kb2N1bWVudEVsZW1lbnQsYT1zLkRvbVV0aWwuZG9jdW1lbnRJc0x0cigpP3QucGFnZVg/dC5wYWdlWC1uLnNjcm9sbExlZnQtby5zY3JvbGxMZWZ0OnQuY2xpZW50WDpzLkJyb3dzZXIuZ2Vja28/dC5wYWdlWC1uLnNjcm9sbExlZnQtby5zY3JvbGxMZWZ0OnQucGFnZVg/dC5wYWdlWC1uLnNjcm9sbExlZnQrby5zY3JvbGxMZWZ0OnQuY2xpZW50WCxyPXQucGFnZVk/dC5wYWdlWS1uLnNjcm9sbFRvcC1vLnNjcm9sbFRvcDp0LmNsaWVudFksbD1uZXcgcy5Qb2ludChhLHIpO2lmKCFlKXJldHVybiBsO3ZhciBoPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT1oLmxlZnQtZS5jbGllbnRMZWZ0LGM9aC50b3AtZS5jbGllbnRUb3A7cmV0dXJuIGwuX3N1YnRyYWN0KG5ldyBzLlBvaW50KHUsYykpfSxnZXRXaGVlbERlbHRhOmZ1bmN0aW9uKHQpe3ZhciBlPTA7cmV0dXJuIHQud2hlZWxEZWx0YSYmKGU9dC53aGVlbERlbHRhLzEyMCksdC5kZXRhaWwmJihlPS10LmRldGFpbC8zKSxlfSxfc2tpcEV2ZW50czp7fSxfZmFrZVN0b3A6ZnVuY3Rpb24odCl7cy5Eb21FdmVudC5fc2tpcEV2ZW50c1t0LnR5cGVdPSEwfSxfc2tpcHBlZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9za2lwRXZlbnRzW3QudHlwZV07cmV0dXJuIHRoaXMuX3NraXBFdmVudHNbdC50eXBlXT0hMSxlfSxfY2hlY2tNb3VzZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUucmVsYXRlZFRhcmdldDtpZighaSlyZXR1cm4hMDt0cnl7Zm9yKDtpJiZpIT09dDspaT1pLnBhcmVudE5vZGV9Y2F0Y2gobil7cmV0dXJuITF9cmV0dXJuIGkhPT10fSxfZ2V0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZT10LmV2ZW50O2lmKCFlKWZvcih2YXIgaT1hcmd1bWVudHMuY2FsbGVlLmNhbGxlcjtpJiYoZT1pLmFyZ3VtZW50c1swXSwhZXx8dC5FdmVudCE9PWUuY29uc3RydWN0b3IpOylpPWkuY2FsbGVyO3JldHVybiBlfSxfZmlsdGVyQ2xpY2s6ZnVuY3Rpb24odCxlKXt2YXIgaT10LnRpbWVTdGFtcHx8dC5vcmlnaW5hbEV2ZW50LnRpbWVTdGFtcCxuPXMuRG9tRXZlbnQuX2xhc3RDbGljayYmaS1zLkRvbUV2ZW50Ll9sYXN0Q2xpY2s7cmV0dXJuIG4mJm4+MTAwJiYxZTM+bnx8dC50YXJnZXQuX3NpbXVsYXRlZENsaWNrJiYhdC5fc2ltdWxhdGVkPyhzLkRvbUV2ZW50LnN0b3AodCksdm9pZCAwKToocy5Eb21FdmVudC5fbGFzdENsaWNrPWksZSh0KSl9fSxzLkRvbUV2ZW50Lm9uPXMuRG9tRXZlbnQuYWRkTGlzdGVuZXIscy5Eb21FdmVudC5vZmY9cy5Eb21FdmVudC5yZW1vdmVMaXN0ZW5lcixzLkRyYWdnYWJsZT1zLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6cy5NaXhpbi5FdmVudHMsc3RhdGljczp7U1RBUlQ6cy5Ccm93c2VyLnRvdWNoP1sidG91Y2hzdGFydCIsIm1vdXNlZG93biJdOlsibW91c2Vkb3duIl0sRU5EOnttb3VzZWRvd246Im1vdXNldXAiLHRvdWNoc3RhcnQ6InRvdWNoZW5kIixwb2ludGVyZG93bjoidG91Y2hlbmQiLE1TUG9pbnRlckRvd246InRvdWNoZW5kIn0sTU9WRTp7bW91c2Vkb3duOiJtb3VzZW1vdmUiLHRvdWNoc3RhcnQ6InRvdWNobW92ZSIscG9pbnRlcmRvd246InRvdWNobW92ZSIsTVNQb2ludGVyRG93bjoidG91Y2htb3ZlIn19LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXt0aGlzLl9lbGVtZW50PXQsdGhpcy5fZHJhZ1N0YXJ0VGFyZ2V0PWV8fHR9LGVuYWJsZTpmdW5jdGlvbigpe2lmKCF0aGlzLl9lbmFibGVkKXtmb3IodmFyIHQ9cy5EcmFnZ2FibGUuU1RBUlQubGVuZ3RoLTE7dD49MDt0LS0pcy5Eb21FdmVudC5vbih0aGlzLl9kcmFnU3RhcnRUYXJnZXQscy5EcmFnZ2FibGUuU1RBUlRbdF0sdGhpcy5fb25Eb3duLHRoaXMpO3RoaXMuX2VuYWJsZWQ9ITB9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7aWYodGhpcy5fZW5hYmxlZCl7Zm9yKHZhciB0PXMuRHJhZ2dhYmxlLlNUQVJULmxlbmd0aC0xO3Q+PTA7dC0tKXMuRG9tRXZlbnQub2ZmKHRoaXMuX2RyYWdTdGFydFRhcmdldCxzLkRyYWdnYWJsZS5TVEFSVFt0XSx0aGlzLl9vbkRvd24sdGhpcyk7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9tb3ZlZD0hMX19LF9vbkRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5fbW92ZWQ9ITEsISh0LnNoaWZ0S2V5fHwxIT09dC53aGljaCYmMSE9PXQuYnV0dG9uJiYhdC50b3VjaGVzfHwocy5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24odCkscy5EcmFnZ2FibGUuX2Rpc2FibGVkfHwocy5Eb21VdGlsLmRpc2FibGVJbWFnZURyYWcoKSxzLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSx0aGlzLl9tb3ZpbmcpKSkpe3ZhciBlPXQudG91Y2hlcz90LnRvdWNoZXNbMF06dDt0aGlzLl9zdGFydFBvaW50PW5ldyBzLlBvaW50KGUuY2xpZW50WCxlLmNsaWVudFkpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX25ld1Bvcz1zLkRvbVV0aWwuZ2V0UG9zaXRpb24odGhpcy5fZWxlbWVudCkscy5Eb21FdmVudC5vbihpLHMuRHJhZ2dhYmxlLk1PVkVbdC50eXBlXSx0aGlzLl9vbk1vdmUsdGhpcykub24oaSxzLkRyYWdnYWJsZS5FTkRbdC50eXBlXSx0aGlzLl9vblVwLHRoaXMpfX0sX29uTW92ZTpmdW5jdGlvbih0KXtpZih0LnRvdWNoZXMmJnQudG91Y2hlcy5sZW5ndGg+MSlyZXR1cm4gdGhpcy5fbW92ZWQ9ITAsdm9pZCAwO3ZhciBlPXQudG91Y2hlcyYmMT09PXQudG91Y2hlcy5sZW5ndGg/dC50b3VjaGVzWzBdOnQsbj1uZXcgcy5Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKSxvPW4uc3VidHJhY3QodGhpcy5fc3RhcnRQb2ludCk7KG8ueHx8by55KSYmKHMuRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksdGhpcy5fbW92ZWR8fCh0aGlzLmZpcmUoImRyYWdzdGFydCIpLHRoaXMuX21vdmVkPSEwLHRoaXMuX3N0YXJ0UG9zPXMuRG9tVXRpbC5nZXRQb3NpdGlvbih0aGlzLl9lbGVtZW50KS5zdWJ0cmFjdChvKSxzLkRvbVV0aWwuYWRkQ2xhc3MoaS5ib2R5LCJsZWFmbGV0LWRyYWdnaW5nIikscy5Eb21VdGlsLmFkZENsYXNzKHQudGFyZ2V0fHx0LnNyY0VsZW1lbnQsImxlYWZsZXQtZHJhZy10YXJnZXQiKSksdGhpcy5fbmV3UG9zPXRoaXMuX3N0YXJ0UG9zLmFkZChvKSx0aGlzLl9tb3Zpbmc9ITAscy5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltUmVxdWVzdCksdGhpcy5fYW5pbVJlcXVlc3Q9cy5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fdXBkYXRlUG9zaXRpb24sdGhpcywhMCx0aGlzLl9kcmFnU3RhcnRUYXJnZXQpKX0sX3VwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5maXJlKCJwcmVkcmFnIikscy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2VsZW1lbnQsdGhpcy5fbmV3UG9zKSx0aGlzLmZpcmUoImRyYWciKX0sX29uVXA6ZnVuY3Rpb24odCl7cy5Eb21VdGlsLnJlbW92ZUNsYXNzKGkuYm9keSwibGVhZmxldC1kcmFnZ2luZyIpLHMuRG9tVXRpbC5yZW1vdmVDbGFzcyh0LnRhcmdldHx8dC5zcmNFbGVtZW50LCJsZWFmbGV0LWRyYWctdGFyZ2V0Iik7Zm9yKHZhciBlIGluIHMuRHJhZ2dhYmxlLk1PVkUpcy5Eb21FdmVudC5vZmYoaSxzLkRyYWdnYWJsZS5NT1ZFW2VdLHRoaXMuX29uTW92ZSkub2ZmKGkscy5EcmFnZ2FibGUuRU5EW2VdLHRoaXMuX29uVXApO3MuRG9tVXRpbC5lbmFibGVJbWFnZURyYWcoKSxzLkRvbVV0aWwuZW5hYmxlVGV4dFNlbGVjdGlvbigpLHRoaXMuX21vdmVkJiZ0aGlzLl9tb3ZpbmcmJihzLlV0aWwuY2FuY2VsQW5pbUZyYW1lKHRoaXMuX2FuaW1SZXF1ZXN0KSx0aGlzLmZpcmUoImRyYWdlbmQiLHtkaXN0YW5jZTp0aGlzLl9uZXdQb3MuZGlzdGFuY2VUbyh0aGlzLl9zdGFydFBvcyl9KSksdGhpcy5fbW92aW5nPSExfX0pLHMuSGFuZGxlcj1zLkNsYXNzLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dH0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZHx8KHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5hZGRIb29rcygpKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQmJih0aGlzLl9lbmFibGVkPSExLHRoaXMucmVtb3ZlSG9va3MoKSl9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9fSkscy5NYXAubWVyZ2VPcHRpb25zKHtkcmFnZ2luZzohMCxpbmVydGlhOiFzLkJyb3dzZXIuYW5kcm9pZDIzLGluZXJ0aWFEZWNlbGVyYXRpb246MzQwMCxpbmVydGlhTWF4U3BlZWQ6MS8wLGluZXJ0aWFUaHJlc2hvbGQ6cy5Ccm93c2VyLnRvdWNoPzMyOjE4LGVhc2VMaW5lYXJpdHk6LjI1LHdvcmxkQ29weUp1bXA6ITF9KSxzLk1hcC5EcmFnPXMuSGFuZGxlci5leHRlbmQoe2FkZEhvb2tzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2RyYWdnYWJsZSl7dmFyIHQ9dGhpcy5fbWFwO3RoaXMuX2RyYWdnYWJsZT1uZXcgcy5EcmFnZ2FibGUodC5fbWFwUGFuZSx0Ll9jb250YWluZXIpLHRoaXMuX2RyYWdnYWJsZS5vbih7ZHJhZ3N0YXJ0OnRoaXMuX29uRHJhZ1N0YXJ0LGRyYWc6dGhpcy5fb25EcmFnLGRyYWdlbmQ6dGhpcy5fb25EcmFnRW5kfSx0aGlzKSx0Lm9wdGlvbnMud29ybGRDb3B5SnVtcCYmKHRoaXMuX2RyYWdnYWJsZS5vbigicHJlZHJhZyIsdGhpcy5fb25QcmVEcmFnLHRoaXMpLHQub24oInZpZXdyZXNldCIsdGhpcy5fb25WaWV3UmVzZXQsdGhpcyksdC53aGVuUmVhZHkodGhpcy5fb25WaWV3UmVzZXQsdGhpcykpfXRoaXMuX2RyYWdnYWJsZS5lbmFibGUoKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUuZGlzYWJsZSgpfSxtb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5fbW92ZWR9LF9vbkRyYWdTdGFydDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcDt0Ll9wYW5BbmltJiZ0Ll9wYW5BbmltLnN0b3AoKSx0LmZpcmUoIm1vdmVzdGFydCIpLmZpcmUoImRyYWdzdGFydCIpLHQub3B0aW9ucy5pbmVydGlhJiYodGhpcy5fcG9zaXRpb25zPVtdLHRoaXMuX3RpbWVzPVtdKX0sX29uRHJhZzpmdW5jdGlvbigpe2lmKHRoaXMuX21hcC5vcHRpb25zLmluZXJ0aWEpe3ZhciB0PXRoaXMuX2xhc3RUaW1lPStuZXcgRGF0ZSxlPXRoaXMuX2xhc3RQb3M9dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3M7dGhpcy5fcG9zaXRpb25zLnB1c2goZSksdGhpcy5fdGltZXMucHVzaCh0KSx0LXRoaXMuX3RpbWVzWzBdPjIwMCYmKHRoaXMuX3Bvc2l0aW9ucy5zaGlmdCgpLHRoaXMuX3RpbWVzLnNoaWZ0KCkpfXRoaXMuX21hcC5maXJlKCJtb3ZlIikuZmlyZSgiZHJhZyIpfSxfb25WaWV3UmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuZ2V0U2l6ZSgpLl9kaXZpZGVCeSgyKSxlPXRoaXMuX21hcC5sYXRMbmdUb0xheWVyUG9pbnQoWzAsMF0pO3RoaXMuX2luaXRpYWxXb3JsZE9mZnNldD1lLnN1YnRyYWN0KHQpLngsdGhpcy5fd29ybGRXaWR0aD10aGlzLl9tYXAucHJvamVjdChbMCwxODBdKS54fSxfb25QcmVEcmFnOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fd29ybGRXaWR0aCxlPU1hdGgucm91bmQodC8yKSxpPXRoaXMuX2luaXRpYWxXb3JsZE9mZnNldCxuPXRoaXMuX2RyYWdnYWJsZS5fbmV3UG9zLngsbz0obi1lK2kpJXQrZS1pLHM9KG4rZStpKSV0LWUtaSxhPU1hdGguYWJzKG8raSk8TWF0aC5hYnMocytpKT9vOnM7dGhpcy5fZHJhZ2dhYmxlLl9uZXdQb3MueD1hfSxfb25EcmFnRW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcCxpPWUub3B0aW9ucyxuPStuZXcgRGF0ZS10aGlzLl9sYXN0VGltZSxvPSFpLmluZXJ0aWF8fG4+aS5pbmVydGlhVGhyZXNob2xkfHwhdGhpcy5fcG9zaXRpb25zWzBdO2lmKGUuZmlyZSgiZHJhZ2VuZCIsdCksbyllLmZpcmUoIm1vdmVlbmQiKTtlbHNle3ZhciBhPXRoaXMuX2xhc3RQb3Muc3VidHJhY3QodGhpcy5fcG9zaXRpb25zWzBdKSxyPSh0aGlzLl9sYXN0VGltZStuLXRoaXMuX3RpbWVzWzBdKS8xZTMsbD1pLmVhc2VMaW5lYXJpdHksaD1hLm11bHRpcGx5QnkobC9yKSx1PWguZGlzdGFuY2VUbyhbMCwwXSksYz1NYXRoLm1pbihpLmluZXJ0aWFNYXhTcGVlZCx1KSxwPWgubXVsdGlwbHlCeShjL3UpLGQ9Yy8oaS5pbmVydGlhRGVjZWxlcmF0aW9uKmwpLG09cC5tdWx0aXBseUJ5KC1kLzIpLnJvdW5kKCk7bS54JiZtLnk/KG09ZS5fbGltaXRPZmZzZXQobSxlLm9wdGlvbnMubWF4Qm91bmRzKSxzLlV0aWwucmVxdWVzdEFuaW1GcmFtZShmdW5jdGlvbigpe2UucGFuQnkobSx7ZHVyYXRpb246ZCxlYXNlTGluZWFyaXR5Omwsbm9Nb3ZlU3RhcnQ6ITB9KX0pKTplLmZpcmUoIm1vdmVlbmQiKX19fSkscy5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJkcmFnZ2luZyIscy5NYXAuRHJhZykscy5NYXAubWVyZ2VPcHRpb25zKHtkb3VibGVDbGlja1pvb206ITB9KSxzLk1hcC5Eb3VibGVDbGlja1pvb209cy5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9tYXAub24oImRibGNsaWNrIix0aGlzLl9vbkRvdWJsZUNsaWNrLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3RoaXMuX21hcC5vZmYoImRibGNsaWNrIix0aGlzLl9vbkRvdWJsZUNsaWNrLHRoaXMpfSxfb25Eb3VibGVDbGljazpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXAsaT1lLmdldFpvb20oKSsodC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5Py0xOjEpOyJjZW50ZXIiPT09ZS5vcHRpb25zLmRvdWJsZUNsaWNrWm9vbT9lLnNldFpvb20oaSk6ZS5zZXRab29tQXJvdW5kKHQuY29udGFpbmVyUG9pbnQsaSl9fSkscy5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJkb3VibGVDbGlja1pvb20iLHMuTWFwLkRvdWJsZUNsaWNrWm9vbSkscy5NYXAubWVyZ2VPcHRpb25zKHtzY3JvbGxXaGVlbFpvb206ITB9KSxzLk1hcC5TY3JvbGxXaGVlbFpvb209cy5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJtb3VzZXdoZWVsIix0aGlzLl9vbldoZWVsU2Nyb2xsLHRoaXMpLHMuRG9tRXZlbnQub24odGhpcy5fbWFwLl9jb250YWluZXIsIk1vek1vdXNlUGl4ZWxTY3JvbGwiLHMuRG9tRXZlbnQucHJldmVudERlZmF1bHQpLHRoaXMuX2RlbHRhPTB9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsIm1vdXNld2hlZWwiLHRoaXMuX29uV2hlZWxTY3JvbGwpLHMuRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCJNb3pNb3VzZVBpeGVsU2Nyb2xsIixzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KX0sX29uV2hlZWxTY3JvbGw6ZnVuY3Rpb24odCl7dmFyIGU9cy5Eb21FdmVudC5nZXRXaGVlbERlbHRhKHQpO3RoaXMuX2RlbHRhKz1lLHRoaXMuX2xhc3RNb3VzZVBvcz10aGlzLl9tYXAubW91c2VFdmVudFRvQ29udGFpbmVyUG9pbnQodCksdGhpcy5fc3RhcnRUaW1lfHwodGhpcy5fc3RhcnRUaW1lPStuZXcgRGF0ZSk7dmFyIGk9TWF0aC5tYXgoNDAtKCtuZXcgRGF0ZS10aGlzLl9zdGFydFRpbWUpLDApO2NsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9c2V0VGltZW91dChzLmJpbmQodGhpcy5fcGVyZm9ybVpvb20sdGhpcyksaSkscy5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSxzLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbih0KX0sX3BlcmZvcm1ab29tOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLGU9dGhpcy5fZGVsdGEsaT10LmdldFpvb20oKTtlPWU+MD9NYXRoLmNlaWwoZSk6TWF0aC5mbG9vcihlKSxlPU1hdGgubWF4KE1hdGgubWluKGUsNCksLTQpLGU9dC5fbGltaXRab29tKGkrZSktaSx0aGlzLl9kZWx0YT0wLHRoaXMuX3N0YXJ0VGltZT1udWxsLGUmJigiY2VudGVyIj09PXQub3B0aW9ucy5zY3JvbGxXaGVlbFpvb20/dC5zZXRab29tKGkrZSk6dC5zZXRab29tQXJvdW5kKHRoaXMuX2xhc3RNb3VzZVBvcyxpK2UpKX19KSxzLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsInNjcm9sbFdoZWVsWm9vbSIscy5NYXAuU2Nyb2xsV2hlZWxab29tKSxzLmV4dGVuZChzLkRvbUV2ZW50LHtfdG91Y2hzdGFydDpzLkJyb3dzZXIubXNQb2ludGVyPyJNU1BvaW50ZXJEb3duIjpzLkJyb3dzZXIucG9pbnRlcj8icG9pbnRlcmRvd24iOiJ0b3VjaHN0YXJ0IixfdG91Y2hlbmQ6cy5Ccm93c2VyLm1zUG9pbnRlcj8iTVNQb2ludGVyVXAiOnMuQnJvd3Nlci5wb2ludGVyPyJwb2ludGVydXAiOiJ0b3VjaGVuZCIsYWRkRG91YmxlVGFwTGlzdGVuZXI6ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8odCl7dmFyIGU7aWYocy5Ccm93c2VyLnBvaW50ZXI/KG0ucHVzaCh0LnBvaW50ZXJJZCksZT1tLmxlbmd0aCk6ZT10LnRvdWNoZXMubGVuZ3RoLCEoZT4xKSl7dmFyIGk9RGF0ZS5ub3coKSxuPWktKHJ8fGkpO2w9dC50b3VjaGVzP3QudG91Y2hlc1swXTp0LGg9bj4wJiZ1Pj1uLHI9aX19ZnVuY3Rpb24gYSh0KXtpZihzLkJyb3dzZXIucG9pbnRlcil7dmFyIGk9bS5pbmRleE9mKHQucG9pbnRlcklkKTtpZigtMT09PWkpcmV0dXJuO20uc3BsaWNlKGksMSl9aWYoaCl7aWYocy5Ccm93c2VyLnBvaW50ZXIpe3ZhciBuLG89e307Zm9yKHZhciBhIGluIGwpbj1sW2FdLG9bYV09ImZ1bmN0aW9uIj09dHlwZW9mIG4/bi5iaW5kKGwpOm47bD1vfWwudHlwZT0iZGJsY2xpY2siLGUobCkscj1udWxsfX12YXIgcixsLGg9ITEsdT0yNTAsYz0iX2xlYWZsZXRfIixwPXRoaXMuX3RvdWNoc3RhcnQsZD10aGlzLl90b3VjaGVuZCxtPVtdO3RbYytwK25dPW8sdFtjK2Qrbl09YTt2YXIgZj1zLkJyb3dzZXIucG9pbnRlcj9pLmRvY3VtZW50RWxlbWVudDp0O3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIocCxvLCExKSxmLmFkZEV2ZW50TGlzdGVuZXIoZCxhLCExKSxzLkJyb3dzZXIucG9pbnRlciYmZi5hZGRFdmVudExpc3RlbmVyKHMuRG9tRXZlbnQuUE9JTlRFUl9DQU5DRUwsYSwhMSksdGhpc30scmVtb3ZlRG91YmxlVGFwTGlzdGVuZXI6ZnVuY3Rpb24odCxlKXt2YXIgbj0iX2xlYWZsZXRfIjtyZXR1cm4gdC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3RvdWNoc3RhcnQsdFtuK3RoaXMuX3RvdWNoc3RhcnQrZV0sITEpLChzLkJyb3dzZXIucG9pbnRlcj9pLmRvY3VtZW50RWxlbWVudDp0KS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3RvdWNoZW5kLHRbbit0aGlzLl90b3VjaGVuZCtlXSwhMSkscy5Ccm93c2VyLnBvaW50ZXImJmkuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIocy5Eb21FdmVudC5QT0lOVEVSX0NBTkNFTCx0W24rdGhpcy5fdG91Y2hlbmQrZV0sITEpLHRoaXN9fSkscy5leHRlbmQocy5Eb21FdmVudCx7UE9JTlRFUl9ET1dOOnMuQnJvd3Nlci5tc1BvaW50ZXI/Ik1TUG9pbnRlckRvd24iOiJwb2ludGVyZG93biIsUE9JTlRFUl9NT1ZFOnMuQnJvd3Nlci5tc1BvaW50ZXI/Ik1TUG9pbnRlck1vdmUiOiJwb2ludGVybW92ZSIsUE9JTlRFUl9VUDpzLkJyb3dzZXIubXNQb2ludGVyPyJNU1BvaW50ZXJVcCI6InBvaW50ZXJ1cCIsUE9JTlRFUl9DQU5DRUw6cy5Ccm93c2VyLm1zUG9pbnRlcj8iTVNQb2ludGVyQ2FuY2VsIjoicG9pbnRlcmNhbmNlbCIsX3BvaW50ZXJzOltdLF9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcjohMSxhZGRQb2ludGVyTGlzdGVuZXI6ZnVuY3Rpb24odCxlLGksbil7c3dpdGNoKGUpe2Nhc2UidG91Y2hzdGFydCI6cmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyU3RhcnQodCxlLGksbik7Y2FzZSJ0b3VjaGVuZCI6cmV0dXJuIHRoaXMuYWRkUG9pbnRlckxpc3RlbmVyRW5kKHQsZSxpLG4pO2Nhc2UidG91Y2htb3ZlIjpyZXR1cm4gdGhpcy5hZGRQb2ludGVyTGlzdGVuZXJNb3ZlKHQsZSxpLG4pO2RlZmF1bHQ6dGhyb3ciVW5rbm93biB0b3VjaCBldmVudCB0eXBlIn19LGFkZFBvaW50ZXJMaXN0ZW5lclN0YXJ0OmZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBhPSJfbGVhZmxldF8iLHI9dGhpcy5fcG9pbnRlcnMsbD1mdW5jdGlvbih0KXtzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpO2Zvcih2YXIgZT0hMSxpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7ZT0hMDticmVha31lfHxyLnB1c2godCksdC50b3VjaGVzPXIuc2xpY2UoKSx0LmNoYW5nZWRUb3VjaGVzPVt0XSxuKHQpfTtpZih0W2ErInRvdWNoc3RhcnQiK29dPWwsdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9ET1dOLGwsITEpLCF0aGlzLl9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcil7dmFyIGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxyLmxlbmd0aDtlKyspaWYocltlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7ci5zcGxpY2UoZSwxKTticmVha319O2kuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX1VQLGgsITEpLGkuZG9jdW1lbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5QT0lOVEVSX0NBTkNFTCxoLCExKSx0aGlzLl9wb2ludGVyRG9jdW1lbnRMaXN0ZW5lcj0hMH1yZXR1cm4gdGhpc30sYWRkUG9pbnRlckxpc3RlbmVyTW92ZTpmdW5jdGlvbih0LGUsaSxuKXtmdW5jdGlvbiBvKHQpe2lmKHQucG9pbnRlclR5cGUhPT10Lk1TUE9JTlRFUl9UWVBFX01PVVNFJiYibW91c2UiIT09dC5wb2ludGVyVHlwZXx8MCE9PXQuYnV0dG9ucyl7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspaWYoYVtlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7YVtlXT10O2JyZWFrfXQudG91Y2hlcz1hLnNsaWNlKCksdC5jaGFuZ2VkVG91Y2hlcz1bdF0saSh0KX19dmFyIHM9Il9sZWFmbGV0XyIsYT10aGlzLl9wb2ludGVycztyZXR1cm4gdFtzKyJ0b3VjaG1vdmUiK25dPW8sdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLG8sITEpLHRoaXN9LGFkZFBvaW50ZXJMaXN0ZW5lckVuZDpmdW5jdGlvbih0LGUsaSxuKXt2YXIgbz0iX2xlYWZsZXRfIixzPXRoaXMuX3BvaW50ZXJzLGE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxzLmxlbmd0aDtlKyspaWYoc1tlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7cy5zcGxpY2UoZSwxKTticmVha310LnRvdWNoZXM9cy5zbGljZSgpLHQuY2hhbmdlZFRvdWNoZXM9W3RdLGkodCl9O3JldHVybiB0W28rInRvdWNoZW5kIituXT1hLHQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsYSwhMSksdC5hZGRFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9DQU5DRUwsYSwhMSksdGhpc30scmVtb3ZlUG9pbnRlckxpc3RlbmVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj0iX2xlYWZsZXRfIixvPXRbbitlK2ldO3N3aXRjaChlKXtjYXNlInRvdWNoc3RhcnQiOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfRE9XTixvLCExKTticmVhaztjYXNlInRvdWNobW92ZSI6dC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9NT1ZFLG8sITEpO2JyZWFrO2Nhc2UidG91Y2hlbmQiOnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLlBPSU5URVJfVVAsbywhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuUE9JTlRFUl9DQU5DRUwsbywhMSl9cmV0dXJuIHRoaXN9fSkscy5NYXAubWVyZ2VPcHRpb25zKHt0b3VjaFpvb206cy5Ccm93c2VyLnRvdWNoJiYhcy5Ccm93c2VyLmFuZHJvaWQyMyxib3VuY2VBdFpvb21MaW1pdHM6ITB9KSxzLk1hcC5Ub3VjaFpvb209cy5IYW5kbGVyLmV4dGVuZCh7YWRkSG9va3M6ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9uKHRoaXMuX21hcC5fY29udGFpbmVyLCJ0b3VjaHN0YXJ0Iix0aGlzLl9vblRvdWNoU3RhcnQsdGhpcyl9LHJlbW92ZUhvb2tzOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vZmYodGhpcy5fbWFwLl9jb250YWluZXIsInRvdWNoc3RhcnQiLHRoaXMuX29uVG91Y2hTdGFydCx0aGlzKX0sX29uVG91Y2hTdGFydDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXA7aWYodC50b3VjaGVzJiYyPT09dC50b3VjaGVzLmxlbmd0aCYmIWUuX2FuaW1hdGluZ1pvb20mJiF0aGlzLl96b29taW5nKXt2YXIgbj1lLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzBdKSxvPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMV0pLGE9ZS5fZ2V0Q2VudGVyTGF5ZXJQb2ludCgpO3RoaXMuX3N0YXJ0Q2VudGVyPW4uYWRkKG8pLl9kaXZpZGVCeSgyKSx0aGlzLl9zdGFydERpc3Q9bi5kaXN0YW5jZVRvKG8pLHRoaXMuX21vdmVkPSExLHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fY2VudGVyT2Zmc2V0PWEuc3VidHJhY3QodGhpcy5fc3RhcnRDZW50ZXIpLGUuX3BhbkFuaW0mJmUuX3BhbkFuaW0uc3RvcCgpLHMuRG9tRXZlbnQub24oaSwidG91Y2htb3ZlIix0aGlzLl9vblRvdWNoTW92ZSx0aGlzKS5vbihpLCJ0b3VjaGVuZCIsdGhpcy5fb25Ub3VjaEVuZCx0aGlzKSxzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpfX0sX29uVG91Y2hNb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX21hcDtpZih0LnRvdWNoZXMmJjI9PT10LnRvdWNoZXMubGVuZ3RoJiZ0aGlzLl96b29taW5nKXt2YXIgaT1lLm1vdXNlRXZlbnRUb0xheWVyUG9pbnQodC50b3VjaGVzWzBdKSxuPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0LnRvdWNoZXNbMV0pO3RoaXMuX3NjYWxlPWkuZGlzdGFuY2VUbyhuKS90aGlzLl9zdGFydERpc3QsdGhpcy5fZGVsdGE9aS5fYWRkKG4pLl9kaXZpZGVCeSgyKS5fc3VidHJhY3QodGhpcy5fc3RhcnRDZW50ZXIpLDEhPT10aGlzLl9zY2FsZSYmKGUub3B0aW9ucy5ib3VuY2VBdFpvb21MaW1pdHN8fCEoZS5nZXRab29tKCk9PT1lLmdldE1pblpvb20oKSYmdGhpcy5fc2NhbGU8MXx8ZS5nZXRab29tKCk9PT1lLmdldE1heFpvb20oKSYmdGhpcy5fc2NhbGU+MSkpJiYodGhpcy5fbW92ZWR8fChzLkRvbVV0aWwuYWRkQ2xhc3MoZS5fbWFwUGFuZSwibGVhZmxldC10b3VjaGluZyIpLGUuZmlyZSgibW92ZXN0YXJ0IikuZmlyZSgiem9vbXN0YXJ0IiksdGhpcy5fbW92ZWQ9ITApLHMuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpLHRoaXMuX2FuaW1SZXF1ZXN0PXMuVXRpbC5yZXF1ZXN0QW5pbUZyYW1lKHRoaXMuX3VwZGF0ZU9uTW92ZSx0aGlzLCEwLHRoaXMuX21hcC5fY29udGFpbmVyKSxzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpKX19LF91cGRhdGVPbk1vdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAsZT10aGlzLl9nZXRTY2FsZU9yaWdpbigpLGk9dC5sYXllclBvaW50VG9MYXRMbmcoZSksbj10LmdldFNjYWxlWm9vbSh0aGlzLl9zY2FsZSk7dC5fYW5pbWF0ZVpvb20oaSxuLHRoaXMuX3N0YXJ0Q2VudGVyLHRoaXMuX3NjYWxlLHRoaXMuX2RlbHRhKX0sX29uVG91Y2hFbmQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fbW92ZWR8fCF0aGlzLl96b29taW5nKXJldHVybiB0aGlzLl96b29taW5nPSExLHZvaWQgMDt2YXIgdD10aGlzLl9tYXA7dGhpcy5fem9vbWluZz0hMSxzLkRvbVV0aWwucmVtb3ZlQ2xhc3ModC5fbWFwUGFuZSwibGVhZmxldC10b3VjaGluZyIpLHMuVXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5fYW5pbVJlcXVlc3QpLHMuRG9tRXZlbnQub2ZmKGksInRvdWNobW92ZSIsdGhpcy5fb25Ub3VjaE1vdmUpLm9mZihpLCJ0b3VjaGVuZCIsdGhpcy5fb25Ub3VjaEVuZCk7dmFyIGU9dGhpcy5fZ2V0U2NhbGVPcmlnaW4oKSxuPXQubGF5ZXJQb2ludFRvTGF0TG5nKGUpLG89dC5nZXRab29tKCksYT10LmdldFNjYWxlWm9vbSh0aGlzLl9zY2FsZSktbyxyPWE+MD9NYXRoLmNlaWwoYSk6TWF0aC5mbG9vcihhKSxsPXQuX2xpbWl0Wm9vbShvK3IpLGg9dC5nZXRab29tU2NhbGUobCkvdGhpcy5fc2NhbGU7dC5fYW5pbWF0ZVpvb20obixsLGUsaCl9LF9nZXRTY2FsZU9yaWdpbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NlbnRlck9mZnNldC5zdWJ0cmFjdCh0aGlzLl9kZWx0YSkuZGl2aWRlQnkodGhpcy5fc2NhbGUpO3JldHVybiB0aGlzLl9zdGFydENlbnRlci5hZGQodCl9fSkscy5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJ0b3VjaFpvb20iLHMuTWFwLlRvdWNoWm9vbSkscy5NYXAubWVyZ2VPcHRpb25zKHt0YXA6ITAsdGFwVG9sZXJhbmNlOjE1fSkscy5NYXAuVGFwPXMuSGFuZGxlci5leHRlbmQoe2FkZEhvb2tzOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vbih0aGlzLl9tYXAuX2NvbnRhaW5lciwidG91Y2hzdGFydCIsdGhpcy5fb25Eb3duLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3MuRG9tRXZlbnQub2ZmKHRoaXMuX21hcC5fY29udGFpbmVyLCJ0b3VjaHN0YXJ0Iix0aGlzLl9vbkRvd24sdGhpcyl9LF9vbkRvd246ZnVuY3Rpb24odCl7aWYodC50b3VjaGVzKXtpZihzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLHRoaXMuX2ZpcmVDbGljaz0hMCx0LnRvdWNoZXMubGVuZ3RoPjEpcmV0dXJuIHRoaXMuX2ZpcmVDbGljaz0hMSxjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpLHZvaWQgMDt2YXIgZT10LnRvdWNoZXNbMF0sbj1lLnRhcmdldDt0aGlzLl9zdGFydFBvcz10aGlzLl9uZXdQb3M9bmV3IHMuUG9pbnQoZS5jbGllbnRYLGUuY2xpZW50WSksbi50YWdOYW1lJiYiYSI9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmcy5Eb21VdGlsLmFkZENsYXNzKG4sImxlYWZsZXQtYWN0aXZlIiksdGhpcy5faG9sZFRpbWVvdXQ9c2V0VGltZW91dChzLmJpbmQoZnVuY3Rpb24oKXt0aGlzLl9pc1RhcFZhbGlkKCkmJih0aGlzLl9maXJlQ2xpY2s9ITEsdGhpcy5fb25VcCgpLHRoaXMuX3NpbXVsYXRlRXZlbnQoImNvbnRleHRtZW51IixlKSl9LHRoaXMpLDFlMykscy5Eb21FdmVudC5vbihpLCJ0b3VjaG1vdmUiLHRoaXMuX29uTW92ZSx0aGlzKS5vbihpLCJ0b3VjaGVuZCIsdGhpcy5fb25VcCx0aGlzKX19LF9vblVwOmZ1bmN0aW9uKHQpe2lmKGNsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCkscy5Eb21FdmVudC5vZmYoaSwidG91Y2htb3ZlIix0aGlzLl9vbk1vdmUsdGhpcykub2ZmKGksInRvdWNoZW5kIix0aGlzLl9vblVwLHRoaXMpLHRoaXMuX2ZpcmVDbGljayYmdCYmdC5jaGFuZ2VkVG91Y2hlcyl7dmFyIGU9dC5jaGFuZ2VkVG91Y2hlc1swXSxuPWUudGFyZ2V0O24mJm4udGFnTmFtZSYmImEiPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJnMuRG9tVXRpbC5yZW1vdmVDbGFzcyhuLCJsZWFmbGV0LWFjdGl2ZSIpLHRoaXMuX2lzVGFwVmFsaWQoKSYmdGhpcy5fc2ltdWxhdGVFdmVudCgiY2xpY2siLGUpfX0sX2lzVGFwVmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV3UG9zLmRpc3RhbmNlVG8odGhpcy5fc3RhcnRQb3MpPD10aGlzLl9tYXAub3B0aW9ucy50YXBUb2xlcmFuY2V9LF9vbk1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dC50b3VjaGVzWzBdO3RoaXMuX25ld1Bvcz1uZXcgcy5Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKX0sX3NpbXVsYXRlRXZlbnQ6ZnVuY3Rpb24oZSxuKXt2YXIgbz1pLmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpO28uX3NpbXVsYXRlZD0hMCxuLnRhcmdldC5fc2ltdWxhdGVkQ2xpY2s9ITAsby5pbml0TW91c2VFdmVudChlLCEwLCEwLHQsMSxuLnNjcmVlblgsbi5zY3JlZW5ZLG4uY2xpZW50WCxuLmNsaWVudFksITEsITEsITEsITEsMCxudWxsKSxuLnRhcmdldC5kaXNwYXRjaEV2ZW50KG8pfX0pLHMuQnJvd3Nlci50b3VjaCYmIXMuQnJvd3Nlci5wb2ludGVyJiZzLk1hcC5hZGRJbml0SG9vaygiYWRkSGFuZGxlciIsInRhcCIscy5NYXAuVGFwKSxzLk1hcC5tZXJnZU9wdGlvbnMoe2JveFpvb206ITB9KSxzLk1hcC5Cb3hab29tPXMuSGFuZGxlci5leHRlbmQoe2luaXRpYWxpemU6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyPXQuX2NvbnRhaW5lcix0aGlzLl9wYW5lPXQuX3BhbmVzLm92ZXJsYXlQYW5lLHRoaXMuX21vdmVkPSExfSxhZGRIb29rczpmdW5jdGlvbigpe3MuRG9tRXZlbnQub24odGhpcy5fY29udGFpbmVyLCJtb3VzZWRvd24iLHRoaXMuX29uTW91c2VEb3duLHRoaXMpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3MuRG9tRXZlbnQub2ZmKHRoaXMuX2NvbnRhaW5lciwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93biksdGhpcy5fbW92ZWQ9ITF9LG1vdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVkfSxfb25Nb3VzZURvd246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21vdmVkPSExLCF0LnNoaWZ0S2V5fHwxIT09dC53aGljaCYmMSE9PXQuYnV0dG9uPyExOihzLkRvbVV0aWwuZGlzYWJsZVRleHRTZWxlY3Rpb24oKSxzLkRvbVV0aWwuZGlzYWJsZUltYWdlRHJhZygpLHRoaXMuX3N0YXJ0TGF5ZXJQb2ludD10aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSxzLkRvbUV2ZW50Lm9uKGksIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmUsdGhpcykub24oaSwibW91c2V1cCIsdGhpcy5fb25Nb3VzZVVwLHRoaXMpLm9uKGksImtleWRvd24iLHRoaXMuX29uS2V5RG93bix0aGlzKSx2b2lkIDApfSxfb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCl7dGhpcy5fbW92ZWR8fCh0aGlzLl9ib3g9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibGVhZmxldC16b29tLWJveCIsdGhpcy5fcGFuZSkscy5Eb21VdGlsLnNldFBvc2l0aW9uKHRoaXMuX2JveCx0aGlzLl9zdGFydExheWVyUG9pbnQpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5jdXJzb3I9ImNyb3NzaGFpciIsdGhpcy5fbWFwLmZpcmUoImJveHpvb21zdGFydCIpKTt2YXIgZT10aGlzLl9zdGFydExheWVyUG9pbnQsaT10aGlzLl9ib3gsbj10aGlzLl9tYXAubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KSxvPW4uc3VidHJhY3QoZSksYT1uZXcgcy5Qb2ludChNYXRoLm1pbihuLngsZS54KSxNYXRoLm1pbihuLnksZS55KSk7cy5Eb21VdGlsLnNldFBvc2l0aW9uKGksYSksdGhpcy5fbW92ZWQ9ITAsaS5zdHlsZS53aWR0aD1NYXRoLm1heCgwLE1hdGguYWJzKG8ueCktNCkrInB4IixpLnN0eWxlLmhlaWdodD1NYXRoLm1heCgwLE1hdGguYWJzKG8ueSktNCkrInB4In0sX2ZpbmlzaDpmdW5jdGlvbigpe3RoaXMuX21vdmVkJiYodGhpcy5fcGFuZS5yZW1vdmVDaGlsZCh0aGlzLl9ib3gpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5jdXJzb3I9IiIpLHMuRG9tVXRpbC5lbmFibGVUZXh0U2VsZWN0aW9uKCkscy5Eb21VdGlsLmVuYWJsZUltYWdlRHJhZygpLHMuRG9tRXZlbnQub2ZmKGksIm1vdXNlbW92ZSIsdGhpcy5fb25Nb3VzZU1vdmUpLm9mZihpLCJtb3VzZXVwIix0aGlzLl9vbk1vdXNlVXApLm9mZihpLCJrZXlkb3duIix0aGlzLl9vbktleURvd24pfSxfb25Nb3VzZVVwOmZ1bmN0aW9uKHQpe3RoaXMuX2ZpbmlzaCgpO3ZhciBlPXRoaXMuX21hcCxpPWUubW91c2VFdmVudFRvTGF5ZXJQb2ludCh0KTtpZighdGhpcy5fc3RhcnRMYXllclBvaW50LmVxdWFscyhpKSl7dmFyIG49bmV3IHMuTGF0TG5nQm91bmRzKGUubGF5ZXJQb2ludFRvTGF0TG5nKHRoaXMuX3N0YXJ0TGF5ZXJQb2ludCksZS5sYXllclBvaW50VG9MYXRMbmcoaSkpO2UuZml0Qm91bmRzKG4pLGUuZmlyZSgiYm94em9vbWVuZCIse2JveFpvb21Cb3VuZHM6bn0pfX0sX29uS2V5RG93bjpmdW5jdGlvbih0KXsyNz09PXQua2V5Q29kZSYmdGhpcy5fZmluaXNoKCl9fSkscy5NYXAuYWRkSW5pdEhvb2soImFkZEhhbmRsZXIiLCJib3hab29tIixzLk1hcC5Cb3hab29tKSxzLk1hcC5tZXJnZU9wdGlvbnMoe2tleWJvYXJkOiEwLGtleWJvYXJkUGFuT2Zmc2V0OjgwLGtleWJvYXJkWm9vbU9mZnNldDoxfSkscy5NYXAuS2V5Ym9hcmQ9cy5IYW5kbGVyLmV4dGVuZCh7a2V5Q29kZXM6e2xlZnQ6WzM3XSxyaWdodDpbMzldLGRvd246WzQwXSx1cDpbMzhdLHpvb21JbjpbMTg3LDEwNyw2MSwxNzFdLHpvb21PdXQ6WzE4OSwxMDksMTczXX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl9zZXRQYW5PZmZzZXQodC5vcHRpb25zLmtleWJvYXJkUGFuT2Zmc2V0KSx0aGlzLl9zZXRab29tT2Zmc2V0KHQub3B0aW9ucy5rZXlib2FyZFpvb21PZmZzZXQpfSxhZGRIb29rczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcC5fY29udGFpbmVyOy0xPT09dC50YWJJbmRleCYmKHQudGFiSW5kZXg9IjAiKSxzLkRvbUV2ZW50Lm9uKHQsImZvY3VzIix0aGlzLl9vbkZvY3VzLHRoaXMpLm9uKHQsImJsdXIiLHRoaXMuX29uQmx1cix0aGlzKS5vbih0LCJtb3VzZWRvd24iLHRoaXMuX29uTW91c2VEb3duLHRoaXMpLHRoaXMuX21hcC5vbigiZm9jdXMiLHRoaXMuX2FkZEhvb2tzLHRoaXMpLm9uKCJibHVyIix0aGlzLl9yZW1vdmVIb29rcyx0aGlzKX0scmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVIb29rcygpO3ZhciB0PXRoaXMuX21hcC5fY29udGFpbmVyO3MuRG9tRXZlbnQub2ZmKHQsImZvY3VzIix0aGlzLl9vbkZvY3VzLHRoaXMpLm9mZih0LCJibHVyIix0aGlzLl9vbkJsdXIsdGhpcykub2ZmKHQsIm1vdXNlZG93biIsdGhpcy5fb25Nb3VzZURvd24sdGhpcyksdGhpcy5fbWFwLm9mZigiZm9jdXMiLHRoaXMuX2FkZEhvb2tzLHRoaXMpLm9mZigiYmx1ciIsdGhpcy5fcmVtb3ZlSG9va3MsdGhpcyl9LF9vbk1vdXNlRG93bjpmdW5jdGlvbigpe2lmKCF0aGlzLl9mb2N1c2VkKXt2YXIgZT1pLmJvZHksbj1pLmRvY3VtZW50RWxlbWVudCxvPWUuc2Nyb2xsVG9wfHxuLnNjcm9sbFRvcCxzPWUuc2Nyb2xsTGVmdHx8bi5zY3JvbGxMZWZ0O3RoaXMuX21hcC5fY29udGFpbmVyLmZvY3VzKCksdC5zY3JvbGxUbyhzLG8pfX0sX29uRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9mb2N1c2VkPSEwLHRoaXMuX21hcC5maXJlKCJmb2N1cyIpfSxfb25CbHVyOmZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNlZD0hMSx0aGlzLl9tYXAuZmlyZSgiYmx1ciIpfSxfc2V0UGFuT2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10aGlzLl9wYW5LZXlzPXt9LG89dGhpcy5rZXlDb2Rlcztmb3IoZT0wLGk9by5sZWZ0Lmxlbmd0aDtpPmU7ZSsrKW5bby5sZWZ0W2VdXT1bLTEqdCwwXTtmb3IoZT0wLGk9by5yaWdodC5sZW5ndGg7aT5lO2UrKyluW28ucmlnaHRbZV1dPVt0LDBdO2ZvcihlPTAsaT1vLmRvd24ubGVuZ3RoO2k+ZTtlKyspbltvLmRvd25bZV1dPVswLHRdO2ZvcihlPTAsaT1vLnVwLmxlbmd0aDtpPmU7ZSsrKW5bby51cFtlXV09WzAsLTEqdF19LF9zZXRab29tT2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10aGlzLl96b29tS2V5cz17fSxvPXRoaXMua2V5Q29kZXM7Zm9yKGU9MCxpPW8uem9vbUluLmxlbmd0aDtpPmU7ZSsrKW5bby56b29tSW5bZV1dPXQ7Zm9yKGU9MCxpPW8uem9vbU91dC5sZW5ndGg7aT5lO2UrKyluW28uem9vbU91dFtlXV09LXR9LF9hZGRIb29rczpmdW5jdGlvbigpe3MuRG9tRXZlbnQub24oaSwia2V5ZG93biIsdGhpcy5fb25LZXlEb3duLHRoaXMpfSxfcmVtb3ZlSG9va3M6ZnVuY3Rpb24oKXtzLkRvbUV2ZW50Lm9mZihpLCJrZXlkb3duIix0aGlzLl9vbktleURvd24sdGhpcyl9LF9vbktleURvd246ZnVuY3Rpb24odCl7dmFyIGU9dC5rZXlDb2RlLGk9dGhpcy5fbWFwO2lmKGUgaW4gdGhpcy5fcGFuS2V5cyl7aWYoaS5fcGFuQW5pbSYmaS5fcGFuQW5pbS5faW5Qcm9ncmVzcylyZXR1cm47aS5wYW5CeSh0aGlzLl9wYW5LZXlzW2VdKSxpLm9wdGlvbnMubWF4Qm91bmRzJiZpLnBhbkluc2lkZUJvdW5kcyhpLm9wdGlvbnMubWF4Qm91bmRzKX1lbHNle2lmKCEoZSBpbiB0aGlzLl96b29tS2V5cykpcmV0dXJuO2kuc2V0Wm9vbShpLmdldFpvb20oKSt0aGlzLl96b29tS2V5c1tlXSl9cy5Eb21FdmVudC5zdG9wKHQpfX0pLHMuTWFwLmFkZEluaXRIb29rKCJhZGRIYW5kbGVyIiwia2V5Ym9hcmQiLHMuTWFwLktleWJvYXJkKSxzLkhhbmRsZXIuTWFya2VyRHJhZz1zLkhhbmRsZXIuZXh0ZW5kKHtpbml0aWFsaXplOmZ1bmN0aW9uKHQpe3RoaXMuX21hcmtlcj10fSxhZGRIb29rczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcmtlci5faWNvbjt0aGlzLl9kcmFnZ2FibGV8fCh0aGlzLl9kcmFnZ2FibGU9bmV3IHMuRHJhZ2dhYmxlKHQsdCkpLHRoaXMuX2RyYWdnYWJsZS5vbigiZHJhZ3N0YXJ0Iix0aGlzLl9vbkRyYWdTdGFydCx0aGlzKS5vbigiZHJhZyIsdGhpcy5fb25EcmFnLHRoaXMpLm9uKCJkcmFnZW5kIix0aGlzLl9vbkRyYWdFbmQsdGhpcyksdGhpcy5fZHJhZ2dhYmxlLmVuYWJsZSgpLHMuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tYXJrZXIuX2ljb24sImxlYWZsZXQtbWFya2VyLWRyYWdnYWJsZSIpfSxyZW1vdmVIb29rczpmdW5jdGlvbigpe3RoaXMuX2RyYWdnYWJsZS5vZmYoImRyYWdzdGFydCIsdGhpcy5fb25EcmFnU3RhcnQsdGhpcykub2ZmKCJkcmFnIix0aGlzLl9vbkRyYWcsdGhpcykub2ZmKCJkcmFnZW5kIix0aGlzLl9vbkRyYWdFbmQsdGhpcyksdGhpcy5fZHJhZ2dhYmxlLmRpc2FibGUoKSxzLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFya2VyLl9pY29uLCJsZWFmbGV0LW1hcmtlci1kcmFnZ2FibGUiKX0sbW92ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlJiZ0aGlzLl9kcmFnZ2FibGUuX21vdmVkfSxfb25EcmFnU3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLl9tYXJrZXIuY2xvc2VQb3B1cCgpLmZpcmUoIm1vdmVzdGFydCIpLmZpcmUoImRyYWdzdGFydCIpfSxfb25EcmFnOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFya2VyLGU9dC5fc2hhZG93LGk9cy5Eb21VdGlsLmdldFBvc2l0aW9uKHQuX2ljb24pLG49dC5fbWFwLmxheWVyUG9pbnRUb0xhdExuZyhpKTtlJiZzLkRvbVV0aWwuc2V0UG9zaXRpb24oZSxpKSx0Ll9sYXRsbmc9bix0LmZpcmUoIm1vdmUiLHtsYXRsbmc6bn0pLmZpcmUoImRyYWciKX0sX29uRHJhZ0VuZDpmdW5jdGlvbih0KXt0aGlzLl9tYXJrZXIuZmlyZSgibW92ZWVuZCIpLmZpcmUoImRyYWdlbmQiLHQpfX0pLHMuQ29udHJvbD1zLkNsYXNzLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246InRvcHJpZ2h0In0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtzLnNldE9wdGlvbnModGhpcyx0KX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9ufSxzZXRQb3NpdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9tYXA7cmV0dXJuIGUmJmUucmVtb3ZlQ29udHJvbCh0aGlzKSx0aGlzLm9wdGlvbnMucG9zaXRpb249dCxlJiZlLmFkZENvbnRyb2wodGhpcyksdGhpc30sZ2V0Q29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn0sYWRkVG86ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQ7dmFyIGU9dGhpcy5fY29udGFpbmVyPXRoaXMub25BZGQodCksaT10aGlzLmdldFBvc2l0aW9uKCksbj10Ll9jb250cm9sQ29ybmVyc1tpXTtyZXR1cm4gcy5Eb21VdGlsLmFkZENsYXNzKGUsImxlYWZsZXQtY29udHJvbCIpLC0xIT09aS5pbmRleE9mKCJib3R0b20iKT9uLmluc2VydEJlZm9yZShlLG4uZmlyc3RDaGlsZCk6bi5hcHBlbmRDaGlsZChlKSx0aGlzfSxyZW1vdmVGcm9tOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UG9zaXRpb24oKSxpPXQuX2NvbnRyb2xDb3JuZXJzW2VdO3JldHVybiBpLnJlbW92ZUNoaWxkKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fbWFwPW51bGwsdGhpcy5vblJlbW92ZSYmdGhpcy5vblJlbW92ZSh0KSx0aGlzfSxfcmVmb2N1c09uTWFwOmZ1bmN0aW9uKCl7dGhpcy5fbWFwJiZ0aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkuZm9jdXMoKX19KSxzLmNvbnRyb2w9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBzLkNvbnRyb2wodCl9LHMuTWFwLmluY2x1ZGUoe2FkZENvbnRyb2w6ZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRkVG8odGhpcyksdGhpc30scmVtb3ZlQ29udHJvbDpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZW1vdmVGcm9tKHRoaXMpLHRoaXN9LF9pbml0Q29udHJvbFBvczpmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxvKXt2YXIgYT1pK3QrIiAiK2krbztlW3Qrb109cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixhLG4pfXZhciBlPXRoaXMuX2NvbnRyb2xDb3JuZXJzPXt9LGk9ImxlYWZsZXQtIixuPXRoaXMuX2NvbnRyb2xDb250YWluZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixpKyJjb250cm9sLWNvbnRhaW5lciIsdGhpcy5fY29udGFpbmVyKTt0KCJ0b3AiLCJsZWZ0IiksdCgidG9wIiwicmlnaHQiKSx0KCJib3R0b20iLCJsZWZ0IiksdCgiYm90dG9tIiwicmlnaHQiKX0sX2NsZWFyQ29udHJvbFBvczpmdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9jb250cm9sQ29udGFpbmVyKX19KSxzLkNvbnRyb2wuWm9vbT1zLkNvbnRyb2wuZXh0ZW5kKHtvcHRpb25zOntwb3NpdGlvbjoidG9wbGVmdCIsem9vbUluVGV4dDoiKyIsem9vbUluVGl0bGU6Ilpvb20gaW4iLHpvb21PdXRUZXh0OiItIix6b29tT3V0VGl0bGU6Ilpvb20gb3V0In0sb25BZGQ6ZnVuY3Rpb24odCl7dmFyIGU9ImxlYWZsZXQtY29udHJvbC16b29tIixpPXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsZSsiIGxlYWZsZXQtYmFyIik7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX3pvb21JbkJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24odGhpcy5vcHRpb25zLnpvb21JblRleHQsdGhpcy5vcHRpb25zLnpvb21JblRpdGxlLGUrIi1pbiIsaSx0aGlzLl96b29tSW4sdGhpcyksdGhpcy5fem9vbU91dEJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24odGhpcy5vcHRpb25zLnpvb21PdXRUZXh0LHRoaXMub3B0aW9ucy56b29tT3V0VGl0bGUsZSsiLW91dCIsaSx0aGlzLl96b29tT3V0LHRoaXMpLHRoaXMuX3VwZGF0ZURpc2FibGVkKCksdC5vbigiem9vbWVuZCB6b29tbGV2ZWxzY2hhbmdlIix0aGlzLl91cGRhdGVEaXNhYmxlZCx0aGlzKSxpfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZigiem9vbWVuZCB6b29tbGV2ZWxzY2hhbmdlIix0aGlzLl91cGRhdGVEaXNhYmxlZCx0aGlzKX0sX3pvb21JbjpmdW5jdGlvbih0KXt0aGlzLl9tYXAuem9vbUluKHQuc2hpZnRLZXk/MzoxKX0sX3pvb21PdXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwLnpvb21PdXQodC5zaGlmdEtleT8zOjEpfSxfY3JlYXRlQnV0dG9uOmZ1bmN0aW9uKHQsZSxpLG4sbyxhKXt2YXIgcj1zLkRvbVV0aWwuY3JlYXRlKCJhIixpLG4pO3IuaW5uZXJIVE1MPXQsci5ocmVmPSIjIixyLnRpdGxlPWU7dmFyIGw9cy5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb247cmV0dXJuIHMuRG9tRXZlbnQub24ociwiY2xpY2siLGwpLm9uKHIsIm1vdXNlZG93biIsbCkub24ociwiZGJsY2xpY2siLGwpLm9uKHIsImNsaWNrIixzLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KS5vbihyLCJjbGljayIsbyxhKS5vbihyLCJjbGljayIsdGhpcy5fcmVmb2N1c09uTWFwLGEpLHJ9LF91cGRhdGVEaXNhYmxlZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcCxlPSJsZWFmbGV0LWRpc2FibGVkIjtzLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fem9vbUluQnV0dG9uLGUpLHMuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl96b29tT3V0QnV0dG9uLGUpLHQuX3pvb209PT10LmdldE1pblpvb20oKSYmcy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX3pvb21PdXRCdXR0b24sZSksdC5fem9vbT09PXQuZ2V0TWF4Wm9vbSgpJiZzLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fem9vbUluQnV0dG9uLGUpfX0pLHMuTWFwLm1lcmdlT3B0aW9ucyh7em9vbUNvbnRyb2w6ITB9KSxzLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpe3RoaXMub3B0aW9ucy56b29tQ29udHJvbCYmKHRoaXMuem9vbUNvbnRyb2w9bmV3IHMuQ29udHJvbC5ab29tLHRoaXMuYWRkQ29udHJvbCh0aGlzLnpvb21Db250cm9sKSl9KSxzLmNvbnRyb2wuem9vbT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHMuQ29udHJvbC5ab29tKHQpfSxzLkNvbnRyb2wuQXR0cmlidXRpb249cy5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246ImJvdHRvbXJpZ2h0IixwcmVmaXg6JzxhIGhyZWY9Imh0dHA6Ly9sZWFmbGV0anMuY29tIiB0aXRsZT0iQSBKUyBsaWJyYXJ5IGZvciBpbnRlcmFjdGl2ZSBtYXBzIj5MZWFmbGV0PC9hPid9LGluaXRpYWxpemU6ZnVuY3Rpb24odCl7cy5zZXRPcHRpb25zKHRoaXMsdCksdGhpcy5fYXR0cmlidXRpb25zPXt9fSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9jb250YWluZXI9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibGVhZmxldC1jb250cm9sLWF0dHJpYnV0aW9uIikscy5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aGlzLl9jb250YWluZXIpO2Zvcih2YXIgZSBpbiB0Ll9sYXllcnMpdC5fbGF5ZXJzW2VdLmdldEF0dHJpYnV0aW9uJiZ0aGlzLmFkZEF0dHJpYnV0aW9uKHQuX2xheWVyc1tlXS5nZXRBdHRyaWJ1dGlvbigpKTtyZXR1cm4gdC5vbigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJBZGQsdGhpcykub24oImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlLHRoaXMpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2NvbnRhaW5lcn0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoImxheWVyYWRkIix0aGlzLl9vbkxheWVyQWRkKS5vZmYoImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlKX0sc2V0UHJlZml4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMucHJlZml4PXQsdGhpcy5fdXBkYXRlKCksdGhpc30sYWRkQXR0cmlidXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHRoaXMuX2F0dHJpYnV0aW9uc1t0XXx8KHRoaXMuX2F0dHJpYnV0aW9uc1t0XT0wKSx0aGlzLl9hdHRyaWJ1dGlvbnNbdF0rKyx0aGlzLl91cGRhdGUoKSx0aGlzKTp2b2lkIDB9LHJlbW92ZUF0dHJpYnV0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLl9hdHRyaWJ1dGlvbnNbdF0mJih0aGlzLl9hdHRyaWJ1dGlvbnNbdF0tLSx0aGlzLl91cGRhdGUoKSksdGhpcyk6dm9pZCAwfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fbWFwKXt2YXIgdD1bXTtmb3IodmFyIGUgaW4gdGhpcy5fYXR0cmlidXRpb25zKXRoaXMuX2F0dHJpYnV0aW9uc1tlXSYmdC5wdXNoKGUpO3ZhciBpPVtdO3RoaXMub3B0aW9ucy5wcmVmaXgmJmkucHVzaCh0aGlzLm9wdGlvbnMucHJlZml4KSx0Lmxlbmd0aCYmaS5wdXNoKHQuam9pbigiLCAiKSksdGhpcy5fY29udGFpbmVyLmlubmVySFRNTD1pLmpvaW4oIiB8ICIpfX0sX29uTGF5ZXJBZGQ6ZnVuY3Rpb24odCl7dC5sYXllci5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hZGRBdHRyaWJ1dGlvbih0LmxheWVyLmdldEF0dHJpYnV0aW9uKCkpfSxfb25MYXllclJlbW92ZTpmdW5jdGlvbih0KXt0LmxheWVyLmdldEF0dHJpYnV0aW9uJiZ0aGlzLnJlbW92ZUF0dHJpYnV0aW9uKHQubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSl9fSkscy5NYXAubWVyZ2VPcHRpb25zKHthdHRyaWJ1dGlvbkNvbnRyb2w6ITB9KSxzLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdHRyaWJ1dGlvbkNvbnRyb2wmJih0aGlzLmF0dHJpYnV0aW9uQ29udHJvbD0obmV3IHMuQ29udHJvbC5BdHRyaWJ1dGlvbikuYWRkVG8odGhpcykpfSkscy5jb250cm9sLmF0dHJpYnV0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5Db250cm9sLkF0dHJpYnV0aW9uKHQpfSxzLkNvbnRyb2wuU2NhbGU9cy5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246ImJvdHRvbWxlZnQiLG1heFdpZHRoOjEwMCxtZXRyaWM6ITAsaW1wZXJpYWw6ITAsdXBkYXRlV2hlbklkbGU6ITF9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10O3ZhciBlPSJsZWFmbGV0LWNvbnRyb2wtc2NhbGUiLGk9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKSxuPXRoaXMub3B0aW9ucztyZXR1cm4gdGhpcy5fYWRkU2NhbGVzKG4sZSxpKSx0Lm9uKG4udXBkYXRlV2hlbklkbGU/Im1vdmVlbmQiOiJtb3ZlIix0aGlzLl91cGRhdGUsdGhpcyksdC53aGVuUmVhZHkodGhpcy5fdXBkYXRlLHRoaXMpLGl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKHRoaXMub3B0aW9ucy51cGRhdGVXaGVuSWRsZT8ibW92ZWVuZCI6Im1vdmUiLHRoaXMuX3VwZGF0ZSx0aGlzKX0sX2FkZFNjYWxlczpmdW5jdGlvbih0LGUsaSl7dC5tZXRyaWMmJih0aGlzLl9tU2NhbGU9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItbGluZSIsaSkpLHQuaW1wZXJpYWwmJih0aGlzLl9pU2NhbGU9cy5Eb21VdGlsLmNyZWF0ZSgiZGl2IixlKyItbGluZSIsaSkpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWFwLmdldEJvdW5kcygpLGU9dC5nZXRDZW50ZXIoKS5sYXQsaT02Mzc4MTM3Kk1hdGguUEkqTWF0aC5jb3MoZSpNYXRoLlBJLzE4MCksbj1pKih0LmdldE5vcnRoRWFzdCgpLmxuZy10LmdldFNvdXRoV2VzdCgpLmxuZykvMTgwLG89dGhpcy5fbWFwLmdldFNpemUoKSxzPXRoaXMub3B0aW9ucyxhPTA7by54PjAmJihhPW4qKHMubWF4V2lkdGgvby54KSksdGhpcy5fdXBkYXRlU2NhbGVzKHMsYSl9LF91cGRhdGVTY2FsZXM6ZnVuY3Rpb24odCxlKXt0Lm1ldHJpYyYmZSYmdGhpcy5fdXBkYXRlTWV0cmljKGUpLHQuaW1wZXJpYWwmJmUmJnRoaXMuX3VwZGF0ZUltcGVyaWFsKGUpfSxfdXBkYXRlTWV0cmljOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldFJvdW5kTnVtKHQpO3RoaXMuX21TY2FsZS5zdHlsZS53aWR0aD10aGlzLl9nZXRTY2FsZVdpZHRoKGUvdCkrInB4Iix0aGlzLl9tU2NhbGUuaW5uZXJIVE1MPTFlMz5lP2UrIiBtIjplLzFlMysiIGttIn0sX3VwZGF0ZUltcGVyaWFsOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixvPTMuMjgwODM5OSp0LHM9dGhpcy5faVNjYWxlO28+NTI4MD8oZT1vLzUyODAsaT10aGlzLl9nZXRSb3VuZE51bShlKSxzLnN0eWxlLndpZHRoPXRoaXMuX2dldFNjYWxlV2lkdGgoaS9lKSsicHgiLHMuaW5uZXJIVE1MPWkrIiBtaSIpOihuPXRoaXMuX2dldFJvdW5kTnVtKG8pLHMuc3R5bGUud2lkdGg9dGhpcy5fZ2V0U2NhbGVXaWR0aChuL28pKyJweCIscy5pbm5lckhUTUw9bisiIGZ0Iil9LF9nZXRTY2FsZVdpZHRoOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5tYXhXaWR0aCp0KS0xMH0sX2dldFJvdW5kTnVtOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgucG93KDEwLChNYXRoLmZsb29yKHQpKyIiKS5sZW5ndGgtMSksaT10L2U7cmV0dXJuIGk9aT49MTA/MTA6aT49NT81Omk+PTM/MzppPj0yPzI6MSxlKml9fSkscy5jb250cm9sLnNjYWxlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcy5Db250cm9sLlNjYWxlKHQpfSxzLkNvbnRyb2wuTGF5ZXJzPXMuQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e2NvbGxhcHNlZDohMCxwb3NpdGlvbjoidG9wcmlnaHQiLGF1dG9aSW5kZXg6ITB9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlLGkpe3Muc2V0T3B0aW9ucyh0aGlzLGkpLHRoaXMuX2xheWVycz17fSx0aGlzLl9sYXN0WkluZGV4PTAsdGhpcy5faGFuZGxpbmdDbGljaz0hMTtmb3IodmFyIG4gaW4gdCl0aGlzLl9hZGRMYXllcih0W25dLG4pO2ZvcihuIGluIGUpdGhpcy5fYWRkTGF5ZXIoZVtuXSxuLCEwKX0sb25BZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2luaXRMYXlvdXQoKSx0aGlzLl91cGRhdGUoKSx0Lm9uKCJsYXllcmFkZCIsdGhpcy5fb25MYXllckNoYW5nZSx0aGlzKS5vbigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJDaGFuZ2UsdGhpcyksdGhpcy5fY29udGFpbmVyfSxvblJlbW92ZTpmdW5jdGlvbih0KXt0Lm9mZigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJDaGFuZ2UpLm9mZigibGF5ZXJyZW1vdmUiLHRoaXMuX29uTGF5ZXJDaGFuZ2UpfSxhZGRCYXNlTGF5ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYWRkTGF5ZXIodCxlKSx0aGlzLl91cGRhdGUoKSx0aGlzfSxhZGRPdmVybGF5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2FkZExheWVyKHQsZSwhMCksdGhpcy5fdXBkYXRlKCksdGhpc30scmVtb3ZlTGF5ZXI6ZnVuY3Rpb24odCl7dmFyIGU9cy5zdGFtcCh0KTtyZXR1cm4gZGVsZXRlIHRoaXMuX2xheWVyc1tlXSx0aGlzLl91cGRhdGUoKSx0aGlzfSxfaW5pdExheW91dDpmdW5jdGlvbigpe3ZhciB0PSJsZWFmbGV0LWNvbnRyb2wtbGF5ZXJzIixlPXRoaXMuX2NvbnRhaW5lcj1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQpO2Uuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIiwhMCkscy5Ccm93c2VyLnRvdWNoP3MuRG9tRXZlbnQub24oZSwiY2xpY2siLHMuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKTpzLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGUpLmRpc2FibGVTY3JvbGxQcm9wYWdhdGlvbihlKTt2YXIgaT10aGlzLl9mb3JtPXMuRG9tVXRpbC5jcmVhdGUoImZvcm0iLHQrIi1saXN0Iik7aWYodGhpcy5vcHRpb25zLmNvbGxhcHNlZCl7cy5Ccm93c2VyLmFuZHJvaWR8fHMuRG9tRXZlbnQub24oZSwibW91c2VvdmVyIix0aGlzLl9leHBhbmQsdGhpcykub24oZSwibW91c2VvdXQiLHRoaXMuX2NvbGxhcHNlLHRoaXMpO3ZhciBuPXRoaXMuX2xheWVyc0xpbms9cy5Eb21VdGlsLmNyZWF0ZSgiYSIsdCsiLXRvZ2dsZSIsZSk7bi5ocmVmPSIjIixuLnRpdGxlPSJMYXllcnMiLHMuQnJvd3Nlci50b3VjaD9zLkRvbUV2ZW50Lm9uKG4sImNsaWNrIixzLkRvbUV2ZW50LnN0b3ApLm9uKG4sImNsaWNrIix0aGlzLl9leHBhbmQsdGhpcyk6cy5Eb21FdmVudC5vbihuLCJmb2N1cyIsdGhpcy5fZXhwYW5kLHRoaXMpLHMuRG9tRXZlbnQub24oaSwiY2xpY2siLGZ1bmN0aW9uKCl7c2V0VGltZW91dChzLmJpbmQodGhpcy5fb25JbnB1dENsaWNrLHRoaXMpLDApfSx0aGlzKSx0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9jb2xsYXBzZSx0aGlzKX1lbHNlIHRoaXMuX2V4cGFuZCgpO3RoaXMuX2Jhc2VMYXllcnNMaXN0PXMuRG9tVXRpbC5jcmVhdGUoImRpdiIsdCsiLWJhc2UiLGkpLHRoaXMuX3NlcGFyYXRvcj1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQrIi1zZXBhcmF0b3IiLGkpLHRoaXMuX292ZXJsYXlzTGlzdD1zLkRvbVV0aWwuY3JlYXRlKCJkaXYiLHQrIi1vdmVybGF5cyIsaSksZS5hcHBlbmRDaGlsZChpKX0sX2FkZExheWVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1zLnN0YW1wKHQpO3RoaXMuX2xheWVyc1tuXT17bGF5ZXI6dCxuYW1lOmUsb3ZlcmxheTppfSx0aGlzLm9wdGlvbnMuYXV0b1pJbmRleCYmdC5zZXRaSW5kZXgmJih0aGlzLl9sYXN0WkluZGV4KyssdC5zZXRaSW5kZXgodGhpcy5fbGFzdFpJbmRleCkpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fY29udGFpbmVyKXt0aGlzLl9iYXNlTGF5ZXJzTGlzdC5pbm5lckhUTUw9IiIsdGhpcy5fb3ZlcmxheXNMaXN0LmlubmVySFRNTD0iIjt2YXIgdCxlLGk9ITEsbj0hMTtmb3IodCBpbiB0aGlzLl9sYXllcnMpZT10aGlzLl9sYXllcnNbdF0sdGhpcy5fYWRkSXRlbShlKSxuPW58fGUub3ZlcmxheSxpPWl8fCFlLm92ZXJsYXk7dGhpcy5fc2VwYXJhdG9yLnN0eWxlLmRpc3BsYXk9biYmaT8iIjoibm9uZSJ9fSxfb25MYXllckNoYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9sYXllcnNbcy5zdGFtcCh0LmxheWVyKV07aWYoZSl7dGhpcy5faGFuZGxpbmdDbGlja3x8dGhpcy5fdXBkYXRlKCk7dmFyIGk9ZS5vdmVybGF5PyJsYXllcmFkZCI9PT10LnR5cGU/Im92ZXJsYXlhZGQiOiJvdmVybGF5cmVtb3ZlIjoibGF5ZXJhZGQiPT09dC50eXBlPyJiYXNlbGF5ZXJjaGFuZ2UiOm51bGw7aSYmdGhpcy5fbWFwLmZpcmUoaSxlKX19LF9jcmVhdGVSYWRpb0VsZW1lbnQ6ZnVuY3Rpb24odCxlKXt2YXIgbj0nPGlucHV0IHR5cGU9InJhZGlvIiBjbGFzcz0ibGVhZmxldC1jb250cm9sLWxheWVycy1zZWxlY3RvciIgbmFtZT0iJyt0KyciJztlJiYobis9JyBjaGVja2VkPSJjaGVja2VkIicpLG4rPSIvPiI7dmFyIG89aS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gby5pbm5lckhUTUw9bixvLmZpcnN0Q2hpbGR9LF9hZGRJdGVtOmZ1bmN0aW9uKHQpe3ZhciBlLG49aS5jcmVhdGVFbGVtZW50KCJsYWJlbCIpLG89dGhpcy5fbWFwLmhhc0xheWVyKHQubGF5ZXIpO3Qub3ZlcmxheT8oZT1pLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksZS50eXBlPSJjaGVja2JveCIsZS5jbGFzc05hbWU9ImxlYWZsZXQtY29udHJvbC1sYXllcnMtc2VsZWN0b3IiLGUuZGVmYXVsdENoZWNrZWQ9byk6ZT10aGlzLl9jcmVhdGVSYWRpb0VsZW1lbnQoImxlYWZsZXQtYmFzZS1sYXllcnMiLG8pLGUubGF5ZXJJZD1zLnN0YW1wKHQubGF5ZXIpLHMuRG9tRXZlbnQub24oZSwiY2xpY2siLHRoaXMuX29uSW5wdXRDbGljayx0aGlzKTt2YXIgYT1pLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTthLmlubmVySFRNTD0iICIrdC5uYW1lLG4uYXBwZW5kQ2hpbGQoZSksbi5hcHBlbmRDaGlsZChhKTt2YXIgcj10Lm92ZXJsYXk/dGhpcy5fb3ZlcmxheXNMaXN0OnRoaXMuX2Jhc2VMYXllcnNMaXN0O3JldHVybiByLmFwcGVuZENoaWxkKG4pLG59LF9vbklucHV0Q2xpY2s6ZnVuY3Rpb24oKXt2YXIgdCxlLGksbj10aGlzLl9mb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLG89bi5sZW5ndGg7Zm9yKHRoaXMuX2hhbmRsaW5nQ2xpY2s9ITAsdD0wO28+dDt0KyspZT1uW3RdLGk9dGhpcy5fbGF5ZXJzW2UubGF5ZXJJZF0sZS5jaGVja2VkJiYhdGhpcy5fbWFwLmhhc0xheWVyKGkubGF5ZXIpP3RoaXMuX21hcC5hZGRMYXllcihpLmxheWVyKTohZS5jaGVja2VkJiZ0aGlzLl9tYXAuaGFzTGF5ZXIoaS5sYXllcikmJnRoaXMuX21hcC5yZW1vdmVMYXllcihpLmxheWVyKTt0aGlzLl9oYW5kbGluZ0NsaWNrPSExLHRoaXMuX3JlZm9jdXNPbk1hcCgpfSxfZXhwYW5kOmZ1bmN0aW9uKCl7cy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwibGVhZmxldC1jb250cm9sLWxheWVycy1leHBhbmRlZCIpfSxfY29sbGFwc2U6ZnVuY3Rpb24oKXt0aGlzLl9jb250YWluZXIuY2xhc3NOYW1lPXRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUucmVwbGFjZSgiIGxlYWZsZXQtY29udHJvbC1sYXllcnMtZXhwYW5kZWQiLCIiKX19KSxzLmNvbnRyb2wubGF5ZXJzPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IHMuQ29udHJvbC5MYXllcnModCxlLGkpfSxzLlBvc0FuaW1hdGlvbj1zLkNsYXNzLmV4dGVuZCh7aW5jbHVkZXM6cy5NaXhpbi5FdmVudHMscnVuOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuc3RvcCgpLHRoaXMuX2VsPXQsdGhpcy5faW5Qcm9ncmVzcz0hMCx0aGlzLl9uZXdQb3M9ZSx0aGlzLmZpcmUoInN0YXJ0IiksdC5zdHlsZVtzLkRvbVV0aWwuVFJBTlNJVElPTl09ImFsbCAiKyhpfHwuMjUpKyJzIGN1YmljLWJlemllcigwLDAsIisobnx8LjUpKyIsMSkiLHMuRG9tRXZlbnQub24odCxzLkRvbVV0aWwuVFJBTlNJVElPTl9FTkQsdGhpcy5fb25UcmFuc2l0aW9uRW5kLHRoaXMpLHMuRG9tVXRpbC5zZXRQb3NpdGlvbih0LGUpLHMuVXRpbC5mYWxzZUZuKHQub2Zmc2V0V2lkdGgpLHRoaXMuX3N0ZXBUaW1lcj1zZXRJbnRlcnZhbChzLmJpbmQodGhpcy5fb25TdGVwLHRoaXMpLDUwKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX2luUHJvZ3Jlc3MmJihzLkRvbVV0aWwuc2V0UG9zaXRpb24odGhpcy5fZWwsdGhpcy5fZ2V0UG9zKCkpLHRoaXMuX29uVHJhbnNpdGlvbkVuZCgpLHMuVXRpbC5mYWxzZUZuKHRoaXMuX2VsLm9mZnNldFdpZHRoKSl9LF9vblN0ZXA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRQb3MoKTtyZXR1cm4gdD8odGhpcy5fZWwuX2xlYWZsZXRfcG9zPXQsdGhpcy5maXJlKCJzdGVwIiksdm9pZCAwKToodGhpcy5fb25UcmFuc2l0aW9uRW5kKCksdm9pZCAwKX0sX3RyYW5zZm9ybVJlOi8oWy0rXT8oPzpcZCpcLik/XGQrKVxEKiwgKFstK10/KD86XGQqXC4pP1xkKylcRCpcKS8sX2dldFBvczpmdW5jdGlvbigpe3ZhciBlLGksbixvPXRoaXMuX2VsLGE9dC5nZXRDb21wdXRlZFN0eWxlKG8pOwppZihzLkJyb3dzZXIuYW55M2Qpe2lmKG49YVtzLkRvbVV0aWwuVFJBTlNGT1JNXS5tYXRjaCh0aGlzLl90cmFuc2Zvcm1SZSksIW4pcmV0dXJuO2U9cGFyc2VGbG9hdChuWzFdKSxpPXBhcnNlRmxvYXQoblsyXSl9ZWxzZSBlPXBhcnNlRmxvYXQoYS5sZWZ0KSxpPXBhcnNlRmxvYXQoYS50b3ApO3JldHVybiBuZXcgcy5Qb2ludChlLGksITApfSxfb25UcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7cy5Eb21FdmVudC5vZmYodGhpcy5fZWwscy5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELHRoaXMuX29uVHJhbnNpdGlvbkVuZCx0aGlzKSx0aGlzLl9pblByb2dyZXNzJiYodGhpcy5faW5Qcm9ncmVzcz0hMSx0aGlzLl9lbC5zdHlsZVtzLkRvbVV0aWwuVFJBTlNJVElPTl09IiIsdGhpcy5fZWwuX2xlYWZsZXRfcG9zPXRoaXMuX25ld1BvcyxjbGVhckludGVydmFsKHRoaXMuX3N0ZXBUaW1lciksdGhpcy5maXJlKCJzdGVwIikuZmlyZSgiZW5kIikpfX0pLHMuTWFwLmluY2x1ZGUoe3NldFZpZXc6ZnVuY3Rpb24odCxlLGkpe2lmKGU9ZT09PW4/dGhpcy5fem9vbTp0aGlzLl9saW1pdFpvb20oZSksdD10aGlzLl9saW1pdENlbnRlcihzLmxhdExuZyh0KSxlLHRoaXMub3B0aW9ucy5tYXhCb3VuZHMpLGk9aXx8e30sdGhpcy5fcGFuQW5pbSYmdGhpcy5fcGFuQW5pbS5zdG9wKCksdGhpcy5fbG9hZGVkJiYhaS5yZXNldCYmaSE9PSEwKXtpLmFuaW1hdGUhPT1uJiYoaS56b29tPXMuZXh0ZW5kKHthbmltYXRlOmkuYW5pbWF0ZX0saS56b29tKSxpLnBhbj1zLmV4dGVuZCh7YW5pbWF0ZTppLmFuaW1hdGV9LGkucGFuKSk7dmFyIG89dGhpcy5fem9vbSE9PWU/dGhpcy5fdHJ5QW5pbWF0ZWRab29tJiZ0aGlzLl90cnlBbmltYXRlZFpvb20odCxlLGkuem9vbSk6dGhpcy5fdHJ5QW5pbWF0ZWRQYW4odCxpLnBhbik7aWYobylyZXR1cm4gY2xlYXJUaW1lb3V0KHRoaXMuX3NpemVUaW1lciksdGhpc31yZXR1cm4gdGhpcy5fcmVzZXRWaWV3KHQsZSksdGhpc30scGFuQnk6ZnVuY3Rpb24odCxlKXtpZih0PXMucG9pbnQodCkucm91bmQoKSxlPWV8fHt9LCF0LngmJiF0LnkpcmV0dXJuIHRoaXM7aWYodGhpcy5fcGFuQW5pbXx8KHRoaXMuX3BhbkFuaW09bmV3IHMuUG9zQW5pbWF0aW9uLHRoaXMuX3BhbkFuaW0ub24oe3N0ZXA6dGhpcy5fb25QYW5UcmFuc2l0aW9uU3RlcCxlbmQ6dGhpcy5fb25QYW5UcmFuc2l0aW9uRW5kfSx0aGlzKSksZS5ub01vdmVTdGFydHx8dGhpcy5maXJlKCJtb3Zlc3RhcnQiKSxlLmFuaW1hdGUhPT0hMSl7cy5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcFBhbmUsImxlYWZsZXQtcGFuLWFuaW0iKTt2YXIgaT10aGlzLl9nZXRNYXBQYW5lUG9zKCkuc3VidHJhY3QodCk7dGhpcy5fcGFuQW5pbS5ydW4odGhpcy5fbWFwUGFuZSxpLGUuZHVyYXRpb258fC4yNSxlLmVhc2VMaW5lYXJpdHkpfWVsc2UgdGhpcy5fcmF3UGFuQnkodCksdGhpcy5maXJlKCJtb3ZlIikuZmlyZSgibW92ZWVuZCIpO3JldHVybiB0aGlzfSxfb25QYW5UcmFuc2l0aW9uU3RlcDpmdW5jdGlvbigpe3RoaXMuZmlyZSgibW92ZSIpfSxfb25QYW5UcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7cy5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcFBhbmUsImxlYWZsZXQtcGFuLWFuaW0iKSx0aGlzLmZpcmUoIm1vdmVlbmQiKX0sX3RyeUFuaW1hdGVkUGFuOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZ2V0Q2VudGVyT2Zmc2V0KHQpLl9mbG9vcigpO3JldHVybihlJiZlLmFuaW1hdGUpPT09ITB8fHRoaXMuZ2V0U2l6ZSgpLmNvbnRhaW5zKGkpPyh0aGlzLnBhbkJ5KGksZSksITApOiExfX0pLHMuUG9zQW5pbWF0aW9uPXMuRG9tVXRpbC5UUkFOU0lUSU9OP3MuUG9zQW5pbWF0aW9uOnMuUG9zQW5pbWF0aW9uLmV4dGVuZCh7cnVuOmZ1bmN0aW9uKHQsZSxpLG4pe3RoaXMuc3RvcCgpLHRoaXMuX2VsPXQsdGhpcy5faW5Qcm9ncmVzcz0hMCx0aGlzLl9kdXJhdGlvbj1pfHwuMjUsdGhpcy5fZWFzZU91dFBvd2VyPTEvTWF0aC5tYXgobnx8LjUsLjIpLHRoaXMuX3N0YXJ0UG9zPXMuRG9tVXRpbC5nZXRQb3NpdGlvbih0KSx0aGlzLl9vZmZzZXQ9ZS5zdWJ0cmFjdCh0aGlzLl9zdGFydFBvcyksdGhpcy5fc3RhcnRUaW1lPStuZXcgRGF0ZSx0aGlzLmZpcmUoInN0YXJ0IiksdGhpcy5fYW5pbWF0ZSgpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5faW5Qcm9ncmVzcyYmKHRoaXMuX3N0ZXAoKSx0aGlzLl9jb21wbGV0ZSgpKX0sX2FuaW1hdGU6ZnVuY3Rpb24oKXt0aGlzLl9hbmltSWQ9cy5VdGlsLnJlcXVlc3RBbmltRnJhbWUodGhpcy5fYW5pbWF0ZSx0aGlzKSx0aGlzLl9zdGVwKCl9LF9zdGVwOmZ1bmN0aW9uKCl7dmFyIHQ9K25ldyBEYXRlLXRoaXMuX3N0YXJ0VGltZSxlPTFlMyp0aGlzLl9kdXJhdGlvbjtlPnQ/dGhpcy5fcnVuRnJhbWUodGhpcy5fZWFzZU91dCh0L2UpKToodGhpcy5fcnVuRnJhbWUoMSksdGhpcy5fY29tcGxldGUoKSl9LF9ydW5GcmFtZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdGFydFBvcy5hZGQodGhpcy5fb2Zmc2V0Lm11bHRpcGx5QnkodCkpO3MuRG9tVXRpbC5zZXRQb3NpdGlvbih0aGlzLl9lbCxlKSx0aGlzLmZpcmUoInN0ZXAiKX0sX2NvbXBsZXRlOmZ1bmN0aW9uKCl7cy5VdGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLl9hbmltSWQpLHRoaXMuX2luUHJvZ3Jlc3M9ITEsdGhpcy5maXJlKCJlbmQiKX0sX2Vhc2VPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5wb3coMS10LHRoaXMuX2Vhc2VPdXRQb3dlcil9fSkscy5NYXAubWVyZ2VPcHRpb25zKHt6b29tQW5pbWF0aW9uOiEwLHpvb21BbmltYXRpb25UaHJlc2hvbGQ6NH0pLHMuRG9tVXRpbC5UUkFOU0lUSU9OJiZzLk1hcC5hZGRJbml0SG9vayhmdW5jdGlvbigpe3RoaXMuX3pvb21BbmltYXRlZD10aGlzLm9wdGlvbnMuem9vbUFuaW1hdGlvbiYmcy5Eb21VdGlsLlRSQU5TSVRJT04mJnMuQnJvd3Nlci5hbnkzZCYmIXMuQnJvd3Nlci5hbmRyb2lkMjMmJiFzLkJyb3dzZXIubW9iaWxlT3BlcmEsdGhpcy5fem9vbUFuaW1hdGVkJiZzLkRvbUV2ZW50Lm9uKHRoaXMuX21hcFBhbmUscy5Eb21VdGlsLlRSQU5TSVRJT05fRU5ELHRoaXMuX2NhdGNoVHJhbnNpdGlvbkVuZCx0aGlzKX0pLHMuTWFwLmluY2x1ZGUocy5Eb21VdGlsLlRSQU5TSVRJT04/e19jYXRjaFRyYW5zaXRpb25FbmQ6ZnVuY3Rpb24odCl7dGhpcy5fYW5pbWF0aW5nWm9vbSYmdC5wcm9wZXJ0eU5hbWUuaW5kZXhPZigidHJhbnNmb3JtIik+PTAmJnRoaXMuX29uWm9vbVRyYW5zaXRpb25FbmQoKX0sX25vdGhpbmdUb0FuaW1hdGU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxlYWZsZXQtem9vbS1hbmltYXRlZCIpLmxlbmd0aH0sX3RyeUFuaW1hdGVkWm9vbTpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5fYW5pbWF0aW5nWm9vbSlyZXR1cm4hMDtpZihpPWl8fHt9LCF0aGlzLl96b29tQW5pbWF0ZWR8fGkuYW5pbWF0ZT09PSExfHx0aGlzLl9ub3RoaW5nVG9BbmltYXRlKCl8fE1hdGguYWJzKGUtdGhpcy5fem9vbSk+dGhpcy5vcHRpb25zLnpvb21BbmltYXRpb25UaHJlc2hvbGQpcmV0dXJuITE7dmFyIG49dGhpcy5nZXRab29tU2NhbGUoZSksbz10aGlzLl9nZXRDZW50ZXJPZmZzZXQodCkuX2RpdmlkZUJ5KDEtMS9uKSxzPXRoaXMuX2dldENlbnRlckxheWVyUG9pbnQoKS5fYWRkKG8pO3JldHVybiBpLmFuaW1hdGU9PT0hMHx8dGhpcy5nZXRTaXplKCkuY29udGFpbnMobyk/KHRoaXMuZmlyZSgibW92ZXN0YXJ0IikuZmlyZSgiem9vbXN0YXJ0IiksdGhpcy5fYW5pbWF0ZVpvb20odCxlLHMsbixudWxsLCEwKSwhMCk6ITF9LF9hbmltYXRlWm9vbTpmdW5jdGlvbih0LGUsaSxuLG8sYSl7dGhpcy5fYW5pbWF0aW5nWm9vbT0hMCxzLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fbWFwUGFuZSwibGVhZmxldC16b29tLWFuaW0iKSx0aGlzLl9hbmltYXRlVG9DZW50ZXI9dCx0aGlzLl9hbmltYXRlVG9ab29tPWUscy5EcmFnZ2FibGUmJihzLkRyYWdnYWJsZS5fZGlzYWJsZWQ9ITApLHRoaXMuZmlyZSgiem9vbWFuaW0iLHtjZW50ZXI6dCx6b29tOmUsb3JpZ2luOmksc2NhbGU6bixkZWx0YTpvLGJhY2t3YXJkczphfSl9LF9vblpvb21UcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7dGhpcy5fYW5pbWF0aW5nWm9vbT0hMSxzLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fbWFwUGFuZSwibGVhZmxldC16b29tLWFuaW0iKSx0aGlzLl9yZXNldFZpZXcodGhpcy5fYW5pbWF0ZVRvQ2VudGVyLHRoaXMuX2FuaW1hdGVUb1pvb20sITAsITApLHMuRHJhZ2dhYmxlJiYocy5EcmFnZ2FibGUuX2Rpc2FibGVkPSExKX19Ont9KSxzLlRpbGVMYXllci5pbmNsdWRlKHtfYW5pbWF0ZVpvb206ZnVuY3Rpb24odCl7dGhpcy5fYW5pbWF0aW5nfHwodGhpcy5fYW5pbWF0aW5nPSEwLHRoaXMuX3ByZXBhcmVCZ0J1ZmZlcigpKTt2YXIgZT10aGlzLl9iZ0J1ZmZlcixpPXMuRG9tVXRpbC5UUkFOU0ZPUk0sbj10LmRlbHRhP3MuRG9tVXRpbC5nZXRUcmFuc2xhdGVTdHJpbmcodC5kZWx0YSk6ZS5zdHlsZVtpXSxvPXMuRG9tVXRpbC5nZXRTY2FsZVN0cmluZyh0LnNjYWxlLHQub3JpZ2luKTtlLnN0eWxlW2ldPXQuYmFja3dhcmRzP28rIiAiK246bisiICIrb30sX2VuZFpvb21BbmltOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGlsZUNvbnRhaW5lcixlPXRoaXMuX2JnQnVmZmVyO3Quc3R5bGUudmlzaWJpbGl0eT0iIix0LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodCkscy5VdGlsLmZhbHNlRm4oZS5vZmZzZXRXaWR0aCksdGhpcy5fYW5pbWF0aW5nPSExfSxfY2xlYXJCZ0J1ZmZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX21hcDshdHx8dC5fYW5pbWF0aW5nWm9vbXx8dC50b3VjaFpvb20uX3pvb21pbmd8fCh0aGlzLl9iZ0J1ZmZlci5pbm5lckhUTUw9IiIsdGhpcy5fYmdCdWZmZXIuc3R5bGVbcy5Eb21VdGlsLlRSQU5TRk9STV09IiIpfSxfcHJlcGFyZUJnQnVmZmVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdGlsZUNvbnRhaW5lcixlPXRoaXMuX2JnQnVmZmVyLGk9dGhpcy5fZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlKGUpLG49dGhpcy5fZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlKHQpO3JldHVybiBlJiZpPi41JiYuNT5uPyh0LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5fc3RvcExvYWRpbmdJbWFnZXModCksdm9pZCAwKTooZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGUuc3R5bGVbcy5Eb21VdGlsLlRSQU5TRk9STV09IiIsdGhpcy5fdGlsZUNvbnRhaW5lcj1lLGU9dGhpcy5fYmdCdWZmZXI9dCx0aGlzLl9zdG9wTG9hZGluZ0ltYWdlcyhlKSxjbGVhclRpbWVvdXQodGhpcy5fY2xlYXJCZ0J1ZmZlclRpbWVyKSx2b2lkIDApfSxfZ2V0TG9hZGVkVGlsZXNQZXJjZW50YWdlOmZ1bmN0aW9uKHQpe3ZhciBlLGksbj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSxvPTA7Zm9yKGU9MCxpPW4ubGVuZ3RoO2k+ZTtlKyspbltlXS5jb21wbGV0ZSYmbysrO3JldHVybiBvL2l9LF9zdG9wTG9hZGluZ0ltYWdlczpmdW5jdGlvbih0KXt2YXIgZSxpLG4sbz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSk7Zm9yKGU9MCxpPW8ubGVuZ3RoO2k+ZTtlKyspbj1vW2VdLG4uY29tcGxldGV8fChuLm9ubG9hZD1zLlV0aWwuZmFsc2VGbixuLm9uZXJyb3I9cy5VdGlsLmZhbHNlRm4sbi5zcmM9cy5VdGlsLmVtcHR5SW1hZ2VVcmwsbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pKX19KSxzLk1hcC5pbmNsdWRlKHtfZGVmYXVsdExvY2F0ZU9wdGlvbnM6e3dhdGNoOiExLHNldFZpZXc6ITEsbWF4Wm9vbToxLzAsdGltZW91dDoxZTQsbWF4aW11bUFnZTowLGVuYWJsZUhpZ2hBY2N1cmFjeTohMX0sbG9jYXRlOmZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5fbG9jYXRlT3B0aW9ucz1zLmV4dGVuZCh0aGlzLl9kZWZhdWx0TG9jYXRlT3B0aW9ucyx0KSwhbmF2aWdhdG9yLmdlb2xvY2F0aW9uKXJldHVybiB0aGlzLl9oYW5kbGVHZW9sb2NhdGlvbkVycm9yKHtjb2RlOjAsbWVzc2FnZToiR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZC4ifSksdGhpczt2YXIgZT1zLmJpbmQodGhpcy5faGFuZGxlR2VvbG9jYXRpb25SZXNwb25zZSx0aGlzKSxpPXMuYmluZCh0aGlzLl9oYW5kbGVHZW9sb2NhdGlvbkVycm9yLHRoaXMpO3JldHVybiB0LndhdGNoP3RoaXMuX2xvY2F0aW9uV2F0Y2hJZD1uYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihlLGksdCk6bmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihlLGksdCksdGhpc30sc3RvcExvY2F0ZTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24mJm5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2xvY2F0aW9uV2F0Y2hJZCksdGhpcy5fbG9jYXRlT3B0aW9ucyYmKHRoaXMuX2xvY2F0ZU9wdGlvbnMuc2V0Vmlldz0hMSksdGhpc30sX2hhbmRsZUdlb2xvY2F0aW9uRXJyb3I6ZnVuY3Rpb24odCl7dmFyIGU9dC5jb2RlLGk9dC5tZXNzYWdlfHwoMT09PWU/InBlcm1pc3Npb24gZGVuaWVkIjoyPT09ZT8icG9zaXRpb24gdW5hdmFpbGFibGUiOiJ0aW1lb3V0Iik7dGhpcy5fbG9jYXRlT3B0aW9ucy5zZXRWaWV3JiYhdGhpcy5fbG9hZGVkJiZ0aGlzLmZpdFdvcmxkKCksdGhpcy5maXJlKCJsb2NhdGlvbmVycm9yIix7Y29kZTplLG1lc3NhZ2U6Ikdlb2xvY2F0aW9uIGVycm9yOiAiK2krIi4ifSl9LF9oYW5kbGVHZW9sb2NhdGlvblJlc3BvbnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29vcmRzLmxhdGl0dWRlLGk9dC5jb29yZHMubG9uZ2l0dWRlLG49bmV3IHMuTGF0TG5nKGUsaSksbz0xODAqdC5jb29yZHMuYWNjdXJhY3kvNDAwNzUwMTcsYT1vL01hdGguY29zKHMuTGF0TG5nLkRFR19UT19SQUQqZSkscj1zLmxhdExuZ0JvdW5kcyhbZS1vLGktYV0sW2UrbyxpK2FdKSxsPXRoaXMuX2xvY2F0ZU9wdGlvbnM7aWYobC5zZXRWaWV3KXt2YXIgaD1NYXRoLm1pbih0aGlzLmdldEJvdW5kc1pvb20ociksbC5tYXhab29tKTt0aGlzLnNldFZpZXcobixoKX12YXIgdT17bGF0bG5nOm4sYm91bmRzOnIsdGltZXN0YW1wOnQudGltZXN0YW1wfTtmb3IodmFyIGMgaW4gdC5jb29yZHMpIm51bWJlciI9PXR5cGVvZiB0LmNvb3Jkc1tjXSYmKHVbY109dC5jb29yZHNbY10pO3RoaXMuZmlyZSgibG9jYXRpb25mb3VuZCIsdSl9fSl9KHdpbmRvdyxkb2N1bWVudCl9LHt9XSw3OltmdW5jdGlvbih0LGUsaSl7IWZ1bmN0aW9uKHQsZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBpJiZpKWUoaSk7ZWxzZXt2YXIgbj17fTtlKG4pLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKG4pOnQuTXVzdGFjaGU9bn19KHRoaXMsZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiBMLmNhbGwodCxlKX1mdW5jdGlvbiBpKHQpe3JldHVybiFlKF8sdCl9ZnVuY3Rpb24gbih0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1mdW5jdGlvbiBvKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKX1mdW5jdGlvbiBzKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZSgvWyY8PiInXC9dL2csZnVuY3Rpb24odCl7cmV0dXJuIFRbdF19KX1mdW5jdGlvbiBhKHQpe3RoaXMuc3RyaW5nPXQsdGhpcy50YWlsPXQsdGhpcy5wb3M9MH1mdW5jdGlvbiByKHQsZSl7dGhpcy52aWV3PW51bGw9PXQ/e306dCx0aGlzLnBhcmVudD1lLHRoaXMuX2NhY2hlPXsiLiI6dGhpcy52aWV3fX1mdW5jdGlvbiBsKCl7dGhpcy5jbGVhckNhY2hlKCl9ZnVuY3Rpb24gaChlLGksbyxzKXtmdW5jdGlvbiBhKHQpe3JldHVybiBpLnJlbmRlcih0LG8pfWZvcih2YXIgcixsLHUsYz0iIixwPTAsZD1lLmxlbmd0aDtkPnA7KytwKXN3aXRjaChyPWVbcF0sbD1yWzFdLHJbMF0pe2Nhc2UiIyI6aWYodT1vLmxvb2t1cChsKSwib2JqZWN0Ij09dHlwZW9mIHV8fCJzdHJpbmciPT10eXBlb2YgdSlpZihQKHUpKWZvcih2YXIgbT0wLGY9dS5sZW5ndGg7Zj5tOysrbSljKz1oKHJbNF0saSxvLnB1c2godVttXSkscyk7ZWxzZSB1JiYoYys9aChyWzRdLGksby5wdXNoKHUpLHMpKTtlbHNlIGlmKG4odSkpe3ZhciBfPW51bGw9PXM/bnVsbDpzLnNsaWNlKHJbM10scls1XSk7dT11LmNhbGwoby52aWV3LF8sYSksbnVsbCE9dSYmKGMrPXUpfWVsc2UgdSYmKGMrPWgocls0XSxpLG8scykpO2JyZWFrO2Nhc2UiXiI6dT1vLmxvb2t1cChsKSwoIXV8fFAodSkmJjA9PT11Lmxlbmd0aCkmJihjKz1oKHJbNF0saSxvLHMpKTticmVhaztjYXNlIj4iOnU9aS5nZXRQYXJ0aWFsKGwpLG4odSkmJihjKz11KG8pKTticmVhaztjYXNlIiYiOnU9by5sb29rdXAobCksbnVsbCE9dSYmKGMrPXUpO2JyZWFrO2Nhc2UibmFtZSI6dT1vLmxvb2t1cChsKSxudWxsIT11JiYoYys9dC5lc2NhcGUodSkpO2JyZWFrO2Nhc2UidGV4dCI6Yys9bH1yZXR1cm4gY31mdW5jdGlvbiB1KHQpe2Zvcih2YXIgZSxpPVtdLG49aSxvPVtdLHM9MCxhPXQubGVuZ3RoO2E+czsrK3Mpc3dpdGNoKGU9dFtzXSxlWzBdKXtjYXNlIiMiOmNhc2UiXiI6by5wdXNoKGUpLG4ucHVzaChlKSxuPWVbNF09W107YnJlYWs7Y2FzZSIvIjp2YXIgcj1vLnBvcCgpO3JbNV09ZVsyXSxuPW8ubGVuZ3RoPjA/b1tvLmxlbmd0aC0xXVs0XTppO2JyZWFrO2RlZmF1bHQ6bi5wdXNoKGUpfXJldHVybiBpfWZ1bmN0aW9uIGModCl7Zm9yKHZhciBlLGksbj1bXSxvPTAscz10Lmxlbmd0aDtzPm87KytvKWU9dFtvXSxlJiYoInRleHQiPT09ZVswXSYmaSYmInRleHQiPT09aVswXT8oaVsxXSs9ZVsxXSxpWzNdPWVbM10pOihpPWUsbi5wdXNoKGUpKSk7cmV0dXJuIG59ZnVuY3Rpb24gcCh0KXtyZXR1cm5bbmV3IFJlZ0V4cChvKHRbMF0pKyJcXHMqIiksbmV3IFJlZ0V4cCgiXFxzKiIrbyh0WzFdKSldfWZ1bmN0aW9uIGQoZSxuKXtmdW5jdGlvbiBzKCl7aWYodyYmIUMpZm9yKDt4Lmxlbmd0aDspZGVsZXRlIEVbeC5wb3AoKV07ZWxzZSB4PVtdO3c9ITEsQz0hMX1pZihlPWV8fCIiLG49bnx8dC50YWdzLCJzdHJpbmciPT10eXBlb2YgbiYmKG49bi5zcGxpdChmKSksMiE9PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0YWdzOiAiK24uam9pbigiLCAiKSk7Zm9yKHZhciByLGwsaCxkLF8sTCxiPXAobiksUD1uZXcgYShlKSxUPVtdLEU9W10seD1bXSx3PSExLEM9ITE7IVAuZW9zKCk7KXtpZihyPVAucG9zLGg9UC5zY2FuVW50aWwoYlswXSkpZm9yKHZhciBNPTAsRD1oLmxlbmd0aDtEPk07KytNKWQ9aC5jaGFyQXQoTSksaShkKT94LnB1c2goRS5sZW5ndGgpOkM9ITAsRS5wdXNoKFsidGV4dCIsZCxyLHIrMV0pLHIrPTEsIlxuIj09ZCYmcygpO2lmKCFQLnNjYW4oYlswXSkpYnJlYWs7aWYodz0hMCxsPVAuc2Nhbih5KXx8Im5hbWUiLFAuc2NhbihtKSwiPSI9PT1sPyhoPVAuc2NhblVudGlsKGcpLFAuc2NhbihnKSxQLnNjYW5VbnRpbChiWzFdKSk6InsiPT09bD8oaD1QLnNjYW5VbnRpbChuZXcgUmVnRXhwKCJcXHMqIitvKCJ9IituWzFdKSkpLFAuc2Nhbih2KSxQLnNjYW5VbnRpbChiWzFdKSxsPSImIik6aD1QLnNjYW5VbnRpbChiWzFdKSwhUC5zY2FuKGJbMV0pKXRocm93IG5ldyBFcnJvcigiVW5jbG9zZWQgdGFnIGF0ICIrUC5wb3MpO2lmKF89W2wsaCxyLFAucG9zXSxFLnB1c2goXyksIiMiPT09bHx8Il4iPT09bClULnB1c2goXyk7ZWxzZSBpZigiLyI9PT1sKXtpZihMPVQucG9wKCksIUwpdGhyb3cgbmV3IEVycm9yKCdVbm9wZW5lZCBzZWN0aW9uICInK2grJyIgYXQgJytyKTtpZihMWzFdIT09aCl0aHJvdyBuZXcgRXJyb3IoJ1VuY2xvc2VkIHNlY3Rpb24gIicrTFsxXSsnIiBhdCAnK3IpfWVsc2UgaWYoIm5hbWUiPT09bHx8InsiPT09bHx8IiYiPT09bClDPSEwO2Vsc2UgaWYoIj0iPT09bCl7aWYobj1oLnNwbGl0KGYpLDIhPT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgdGFncyBhdCAiK3IrIjogIituLmpvaW4oIiwgIikpO2I9cChuKX19aWYoTD1ULnBvcCgpKXRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiAiJytMWzFdKyciIGF0ICcrUC5wb3MpO3JldHVybiB1KGMoRSkpfXZhciBtPS9ccyovLGY9L1xzKy8sXz0vXFMvLGc9L1xzKj0vLHY9L1xzKlx9Lyx5PS8jfFxefFwvfD58XHt8Jnw9fCEvLEw9UmVnRXhwLnByb3RvdHlwZS50ZXN0LGI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxQPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1iLmNhbGwodCl9LFQ9eyImIjoiJmFtcDsiLCI8IjoiJmx0OyIsIj4iOiImZ3Q7IiwnIic6IiZxdW90OyIsIiciOiImIzM5OyIsIi8iOiImI3gyRjsifTthLnByb3RvdHlwZS5lb3M9ZnVuY3Rpb24oKXtyZXR1cm4iIj09PXRoaXMudGFpbH0sYS5wcm90b3R5cGUuc2Nhbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRhaWwubWF0Y2godCk7aWYoZSYmMD09PWUuaW5kZXgpe3ZhciBpPWVbMF07cmV0dXJuIHRoaXMudGFpbD10aGlzLnRhaWwuc3Vic3RyaW5nKGkubGVuZ3RoKSx0aGlzLnBvcys9aS5sZW5ndGgsaX1yZXR1cm4iIn0sYS5wcm90b3R5cGUuc2NhblVudGlsPWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy50YWlsLnNlYXJjaCh0KTtzd2l0Y2goaSl7Y2FzZS0xOmU9dGhpcy50YWlsLHRoaXMudGFpbD0iIjticmVhaztjYXNlIDA6ZT0iIjticmVhaztkZWZhdWx0OmU9dGhpcy50YWlsLnN1YnN0cmluZygwLGkpLHRoaXMudGFpbD10aGlzLnRhaWwuc3Vic3RyaW5nKGkpfXJldHVybiB0aGlzLnBvcys9ZS5sZW5ndGgsZX0sci5tYWtlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygcj90Om5ldyByKHQpfSxyLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcih0LHRoaXMpfSxyLnByb3RvdHlwZS5sb29rdXA9ZnVuY3Rpb24odCl7dmFyIGU7aWYodCBpbiB0aGlzLl9jYWNoZSllPXRoaXMuX2NhY2hlW3RdO2Vsc2V7Zm9yKHZhciBpPXRoaXM7aTspe2lmKHQuaW5kZXhPZigiLiIpPjApe2U9aS52aWV3O2Zvcih2YXIgbz10LnNwbGl0KCIuIikscz0wO251bGwhPWUmJnM8by5sZW5ndGg7KWU9ZVtvW3MrK11dfWVsc2UgZT1pLnZpZXdbdF07aWYobnVsbCE9ZSlicmVhaztpPWkucGFyZW50fXRoaXMuX2NhY2hlW3RdPWV9cmV0dXJuIG4oZSkmJihlPWUuY2FsbCh0aGlzLnZpZXcpKSxlfSxsLnByb3RvdHlwZS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fcGFydGlhbENhY2hlPXt9fSxsLnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKGUsaSl7dmFyIG49dGhpcy5fY2FjaGVbZV07aWYoIW4pe3ZhciBvPXQucGFyc2UoZSxpKTtuPXRoaXMuX2NhY2hlW2VdPXRoaXMuY29tcGlsZVRva2VucyhvLGUpfXJldHVybiBufSxsLnByb3RvdHlwZS5jb21waWxlUGFydGlhbD1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcy5jb21waWxlKGUsaSk7cmV0dXJuIHRoaXMuX3BhcnRpYWxDYWNoZVt0XT1uLG59LGwucHJvdG90eXBlLmdldFBhcnRpYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gdGhpcy5fcGFydGlhbENhY2hlfHwhdGhpcy5fbG9hZFBhcnRpYWx8fHRoaXMuY29tcGlsZVBhcnRpYWwodCx0aGlzLl9sb2FkUGFydGlhbCh0KSksdGhpcy5fcGFydGlhbENhY2hlW3RdfSxsLnByb3RvdHlwZS5jb21waWxlVG9rZW5zPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztyZXR1cm4gZnVuY3Rpb24obyxzKXtpZihzKWlmKG4ocykpaS5fbG9hZFBhcnRpYWw9cztlbHNlIGZvcih2YXIgYSBpbiBzKWkuY29tcGlsZVBhcnRpYWwoYSxzW2FdKTtyZXR1cm4gaCh0LGksci5tYWtlKG8pLGUpfX0sbC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5jb21waWxlKHQpKGUsaSl9LHQubmFtZT0ibXVzdGFjaGUuanMiLHQudmVyc2lvbj0iMC43LjMiLHQudGFncz1bInt7IiwifX0iXSx0LlNjYW5uZXI9YSx0LkNvbnRleHQ9cix0LldyaXRlcj1sLHQucGFyc2U9ZCx0LmVzY2FwZT1zO3ZhciBFPW5ldyBsO3QuY2xlYXJDYWNoZT1mdW5jdGlvbigpe3JldHVybiBFLmNsZWFyQ2FjaGUoKX0sdC5jb21waWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEUuY29tcGlsZSh0LGUpfSx0LmNvbXBpbGVQYXJ0aWFsPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gRS5jb21waWxlUGFydGlhbCh0LGUsaSl9LHQuY29tcGlsZVRva2Vucz1mdW5jdGlvbih0LGUpe3JldHVybiBFLmNvbXBpbGVUb2tlbnModCxlKX0sdC5yZW5kZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBFLnJlbmRlcih0LGUsaSl9LHQudG9faHRtbD1mdW5jdGlvbihlLGksbyxzKXt2YXIgYT10LnJlbmRlcihlLGksbyk7cmV0dXJuIG4ocyk/KHMoYSksdm9pZCAwKTphfX0pfSx7fV0sODpbZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpeyJ1c2Ugc3RyaWN0IjtyZXR1cm4vXmh0dHBzPy8udGVzdCh0LmdldFNjaGVtZSgpKT90LnRvU3RyaW5nKCk6ImRhdGEiPT10LmdldFNjaGVtZSgpJiYvXmltYWdlLy50ZXN0KHQuZ2V0UGF0aCgpKT90LnRvU3RyaW5nKCk6dm9pZCAwfWZ1bmN0aW9uIG4odCl7cmV0dXJuIHR9dmFyIG89dCgiLi9zYW5pdGl6ZXItYnVuZGxlLmpzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0P28odCxpLG4pOiIifX0seyIuL3Nhbml0aXplci1idW5kbGUuanMiOjl9XSw5OltmdW5jdGlvbih0LGUpe3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT0oIiIrdCkubWF0Y2goZCk7cmV0dXJuIGU/bmV3IGwoaChlWzFdKSxoKGVbMl0pLGgoZVszXSksaChlWzRdKSxoKGVbNV0pLGgoZVs2XSksaChlWzddKSk6bnVsbH1mdW5jdGlvbiBlKHQsZSxzLGEscixoLHUpe3ZhciBjPW5ldyBsKG4odCxtKSxuKGUsbSksaShzKSxhPjA/YS50b1N0cmluZygpOm51bGwsbihyLGYpLG51bGwsaSh1KSk7cmV0dXJuIGgmJigic3RyaW5nIj09dHlwZW9mIGg/Yy5zZXRSYXdRdWVyeShoLnJlcGxhY2UoL1tePyY9MC05QS1aYS16X1wtfi4lXS9nLG8pKTpjLnNldEFsbFBhcmFtZXRlcnMoaCkpLGN9ZnVuY3Rpb24gaSh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/ZW5jb2RlVVJJQ29tcG9uZW50KHQpOm51bGx9ZnVuY3Rpb24gbih0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9lbmNvZGVVUkkodCkucmVwbGFjZShlLG8pOm51bGx9ZnVuY3Rpb24gbyh0KXt2YXIgZT10LmNoYXJDb2RlQXQoMCk7cmV0dXJuIiUiKyIwMTIzNDU2Nzg5QUJDREVGIi5jaGFyQXQoZT4+NCYxNSkrIjAxMjM0NTY3ODlBQkNERUYiLmNoYXJBdCgxNSZlKX1mdW5jdGlvbiBzKHQpe3JldHVybiB0LnJlcGxhY2UoLyhefFwvKVwuKD86XC98JCkvZywiJDEiKS5yZXBsYWNlKC9cL3syLH0vZywiLyIpfWZ1bmN0aW9uIGEodCl7aWYobnVsbD09PXQpcmV0dXJuIG51bGw7Zm9yKHZhciBlLGk9cyh0KSxuPWM7KGU9aS5yZXBsYWNlKG4sIiQxIikpIT1pO2k9ZSk7cmV0dXJuIGl9ZnVuY3Rpb24gcih0LGUpe3ZhciBpPXQuY2xvbmUoKSxuPWUuaGFzU2NoZW1lKCk7bj9pLnNldFJhd1NjaGVtZShlLmdldFJhd1NjaGVtZSgpKTpuPWUuaGFzQ3JlZGVudGlhbHMoKSxuP2kuc2V0UmF3Q3JlZGVudGlhbHMoZS5nZXRSYXdDcmVkZW50aWFscygpKTpuPWUuaGFzRG9tYWluKCksbj9pLnNldFJhd0RvbWFpbihlLmdldFJhd0RvbWFpbigpKTpuPWUuaGFzUG9ydCgpO3ZhciBvPWUuZ2V0UmF3UGF0aCgpLHM9YShvKTtpZihuKWkuc2V0UG9ydChlLmdldFBvcnQoKSkscz1zJiZzLnJlcGxhY2UocCwiIik7ZWxzZSBpZihuPSEhbyl7aWYoNDchPT1zLmNoYXJDb2RlQXQoMCkpe3ZhciByPWEoaS5nZXRSYXdQYXRoKCl8fCIiKS5yZXBsYWNlKHAsIiIpLGw9ci5sYXN0SW5kZXhPZigiLyIpKzE7cz1hKChsP3Iuc3Vic3RyaW5nKDAsbCk6IiIpK2EobykpLnJlcGxhY2UocCwiIil9fWVsc2Ugcz1zJiZzLnJlcGxhY2UocCwiIikscyE9PW8mJmkuc2V0UmF3UGF0aChzKTtyZXR1cm4gbj9pLnNldFJhd1BhdGgocyk6bj1lLmhhc1F1ZXJ5KCksbj9pLnNldFJhd1F1ZXJ5KGUuZ2V0UmF3UXVlcnkoKSk6bj1lLmhhc0ZyYWdtZW50KCksbiYmaS5zZXRSYXdGcmFnbWVudChlLmdldFJhd0ZyYWdtZW50KCkpLGl9ZnVuY3Rpb24gbCh0LGUsaSxuLG8scyxhKXt0aGlzLnNjaGVtZV89dCx0aGlzLmNyZWRlbnRpYWxzXz1lLHRoaXMuZG9tYWluXz1pLHRoaXMucG9ydF89bix0aGlzLnBhdGhfPW8sdGhpcy5xdWVyeV89cyx0aGlzLmZyYWdtZW50Xz1hLHRoaXMucGFyYW1DYWNoZV89bnVsbH1mdW5jdGlvbiBoKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmdC5sZW5ndGg+MD90Om51bGx9dmFyIHU9bmV3IFJlZ0V4cCgiKC98XikoPzpbXi4vXVteL10qfFxcLnsyLH0oPzpbXi4vXVteL10qKXxcXC57Myx9W14vXSopL1xcLlxcLig/Oi98JCkiKSxjPW5ldyBSZWdFeHAodSkscD0vXig/OlwuXC5cLykqKD86XC5cLiQpPy87bC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gbnVsbCE9PXRoaXMuc2NoZW1lXyYmdC5wdXNoKHRoaXMuc2NoZW1lXywiOiIpLG51bGwhPT10aGlzLmRvbWFpbl8mJih0LnB1c2goIi8vIiksbnVsbCE9PXRoaXMuY3JlZGVudGlhbHNfJiZ0LnB1c2godGhpcy5jcmVkZW50aWFsc18sIkAiKSx0LnB1c2godGhpcy5kb21haW5fKSxudWxsIT09dGhpcy5wb3J0XyYmdC5wdXNoKCI6Iix0aGlzLnBvcnRfLnRvU3RyaW5nKCkpKSxudWxsIT09dGhpcy5wYXRoXyYmdC5wdXNoKHRoaXMucGF0aF8pLG51bGwhPT10aGlzLnF1ZXJ5XyYmdC5wdXNoKCI/Iix0aGlzLnF1ZXJ5XyksbnVsbCE9PXRoaXMuZnJhZ21lbnRfJiZ0LnB1c2goIiMiLHRoaXMuZnJhZ21lbnRfKSx0LmpvaW4oIiIpfSxsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbCh0aGlzLnNjaGVtZV8sdGhpcy5jcmVkZW50aWFsc18sdGhpcy5kb21haW5fLHRoaXMucG9ydF8sdGhpcy5wYXRoXyx0aGlzLnF1ZXJ5Xyx0aGlzLmZyYWdtZW50Xyl9LGwucHJvdG90eXBlLmdldFNjaGVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjaGVtZV8mJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLnNjaGVtZV8pLnRvTG93ZXJDYXNlKCl9LGwucHJvdG90eXBlLmdldFJhd1NjaGVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjaGVtZV99LGwucHJvdG90eXBlLnNldFNjaGVtZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY2hlbWVfPW4odCxtKSx0aGlzfSxsLnByb3RvdHlwZS5zZXRSYXdTY2hlbWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NoZW1lXz10P3Q6bnVsbCx0aGlzfSxsLnByb3RvdHlwZS5oYXNTY2hlbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuc2NoZW1lX30sbC5wcm90b3R5cGUuZ2V0Q3JlZGVudGlhbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVkZW50aWFsc18mJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmNyZWRlbnRpYWxzXyl9LGwucHJvdG90eXBlLmdldFJhd0NyZWRlbnRpYWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3JlZGVudGlhbHNffSxsLnByb3RvdHlwZS5zZXRDcmVkZW50aWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jcmVkZW50aWFsc189bih0LG0pLHRoaXN9LGwucHJvdG90eXBlLnNldFJhd0NyZWRlbnRpYWxzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNyZWRlbnRpYWxzXz10P3Q6bnVsbCx0aGlzfSxsLnByb3RvdHlwZS5oYXNDcmVkZW50aWFscz1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5jcmVkZW50aWFsc199LGwucHJvdG90eXBlLmdldERvbWFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbWFpbl8mJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmRvbWFpbl8pfSxsLnByb3RvdHlwZS5nZXRSYXdEb21haW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21haW5ffSxsLnByb3RvdHlwZS5zZXREb21haW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0UmF3RG9tYWluKHQmJmVuY29kZVVSSUNvbXBvbmVudCh0KSl9LGwucHJvdG90eXBlLnNldFJhd0RvbWFpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kb21haW5fPXQ/dDpudWxsLHRoaXMuc2V0UmF3UGF0aCh0aGlzLnBhdGhfKX0sbC5wcm90b3R5cGUuaGFzRG9tYWluPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmRvbWFpbl99LGwucHJvdG90eXBlLmdldFBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3J0XyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMucG9ydF8pfSxsLnByb3RvdHlwZS5zZXRQb3J0PWZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQ9TnVtYmVyKHQpLHQhPT0oNjU1MzUmdCkpdGhyb3cgbmV3IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIit0KTt0aGlzLnBvcnRfPSIiK3R9ZWxzZSB0aGlzLnBvcnRfPW51bGw7cmV0dXJuIHRoaXN9LGwucHJvdG90eXBlLmhhc1BvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucG9ydF99LGwucHJvdG90eXBlLmdldFBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoXyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMucGF0aF8pfSxsLnByb3RvdHlwZS5nZXRSYXdQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aF99LGwucHJvdG90eXBlLnNldFBhdGg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0UmF3UGF0aChuKHQsZikpfSxsLnByb3RvdHlwZS5zZXRSYXdQYXRoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0PVN0cmluZyh0KSx0aGlzLnBhdGhfPSF0aGlzLmRvbWFpbl98fC9eXC8vLnRlc3QodCk/dDoiLyIrdCk6dGhpcy5wYXRoXz1udWxsLHRoaXN9LGwucHJvdG90eXBlLmhhc1BhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucGF0aF99LGwucHJvdG90eXBlLmdldFF1ZXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucXVlcnlfJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5xdWVyeV8pLnJlcGxhY2UoL1wrL2csIiAiKX0sbC5wcm90b3R5cGUuZ2V0UmF3UXVlcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeV99LGwucHJvdG90eXBlLnNldFF1ZXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhcmFtQ2FjaGVfPW51bGwsdGhpcy5xdWVyeV89aSh0KSx0aGlzfSxsLnByb3RvdHlwZS5zZXRSYXdRdWVyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXJhbUNhY2hlXz1udWxsLHRoaXMucXVlcnlfPXQ/dDpudWxsLHRoaXN9LGwucHJvdG90eXBlLmhhc1F1ZXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnF1ZXJ5X30sbC5wcm90b3R5cGUuc2V0QWxsUGFyYW1ldGVycz1mdW5jdGlvbih0KXtpZigib2JqZWN0Ij09dHlwZW9mIHQmJiEodCBpbnN0YW5jZW9mIEFycmF5KSYmKHQgaW5zdGFuY2VvZiBPYmplY3R8fCJbb2JqZWN0IEFycmF5XSIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpKXt2YXIgZT1bXSxpPS0xO2Zvcih2YXIgbiBpbiB0KXt2YXIgbz10W25dOyJzdHJpbmciPT10eXBlb2YgbyYmKGVbKytpXT1uLGVbKytpXT1vKX10PWV9dGhpcy5wYXJhbUNhY2hlXz1udWxsO2Zvcih2YXIgcz1bXSxhPSIiLHI9MDtyPHQubGVuZ3RoOyl7dmFyIG49dFtyKytdLG89dFtyKytdO3MucHVzaChhLGVuY29kZVVSSUNvbXBvbmVudChuLnRvU3RyaW5nKCkpKSxhPSImIixvJiZzLnB1c2goIj0iLGVuY29kZVVSSUNvbXBvbmVudChvLnRvU3RyaW5nKCkpKX1yZXR1cm4gdGhpcy5xdWVyeV89cy5qb2luKCIiKSx0aGlzfSxsLnByb3RvdHlwZS5jaGVja1BhcmFtZXRlckNhY2hlXz1mdW5jdGlvbigpe2lmKCF0aGlzLnBhcmFtQ2FjaGVfKXt2YXIgdD10aGlzLnF1ZXJ5XztpZih0KXtmb3IodmFyIGU9dC5zcGxpdCgvWyZcP10vKSxpPVtdLG49LTEsbz0wO288ZS5sZW5ndGg7KytvKXt2YXIgcz1lW29dLm1hdGNoKC9eKFtePV0qKSg/Oj0oLiopKT8kLyk7aVsrK25dPWRlY29kZVVSSUNvbXBvbmVudChzWzFdKS5yZXBsYWNlKC9cKy9nLCIgIiksaVsrK25dPWRlY29kZVVSSUNvbXBvbmVudChzWzJdfHwiIikucmVwbGFjZSgvXCsvZywiICIpfXRoaXMucGFyYW1DYWNoZV89aX1lbHNlIHRoaXMucGFyYW1DYWNoZV89W119fSxsLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJWYWx1ZXM9ZnVuY3Rpb24odCxlKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPVtlXSksdGhpcy5jaGVja1BhcmFtZXRlckNhY2hlXygpO2Zvcih2YXIgaT0wLG49dGhpcy5wYXJhbUNhY2hlXyxvPVtdLHM9MDtzPG4ubGVuZ3RoO3MrPTIpdD09PW5bc10/aTxlLmxlbmd0aCYmby5wdXNoKHQsZVtpKytdKTpvLnB1c2gobltzXSxuW3MrMV0pO2Zvcig7aTxlLmxlbmd0aDspby5wdXNoKHQsZVtpKytdKTtyZXR1cm4gdGhpcy5zZXRBbGxQYXJhbWV0ZXJzKG8pLHRoaXN9LGwucHJvdG90eXBlLnJlbW92ZVBhcmFtZXRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRQYXJhbWV0ZXJWYWx1ZXModCxbXSl9LGwucHJvdG90eXBlLmdldEFsbFBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja1BhcmFtZXRlckNhY2hlXygpLHRoaXMucGFyYW1DYWNoZV8uc2xpY2UoMCx0aGlzLnBhcmFtQ2FjaGVfLmxlbmd0aCl9LGwucHJvdG90eXBlLmdldFBhcmFtZXRlclZhbHVlcz1mdW5jdGlvbih0KXt0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciBlPVtdLGk9MDtpPHRoaXMucGFyYW1DYWNoZV8ubGVuZ3RoO2krPTIpdD09PXRoaXMucGFyYW1DYWNoZV9baV0mJmUucHVzaCh0aGlzLnBhcmFtQ2FjaGVfW2krMV0pO3JldHVybiBlfSxsLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJNYXA9ZnVuY3Rpb24oKXt0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciB0PXt9LGU9MDtlPHRoaXMucGFyYW1DYWNoZV8ubGVuZ3RoO2UrPTIpe3ZhciBpPXRoaXMucGFyYW1DYWNoZV9bZSsrXSxuPXRoaXMucGFyYW1DYWNoZV9bZSsrXTtpIGluIHQ/dFtpXS5wdXNoKG4pOnRbaV09W25dfXJldHVybiB0fSxsLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJWYWx1ZT1mdW5jdGlvbih0KXt0aGlzLmNoZWNrUGFyYW1ldGVyQ2FjaGVfKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLnBhcmFtQ2FjaGVfLmxlbmd0aDtlKz0yKWlmKHQ9PT10aGlzLnBhcmFtQ2FjaGVfW2VdKXJldHVybiB0aGlzLnBhcmFtQ2FjaGVfW2UrMV07cmV0dXJuIG51bGx9LGwucHJvdG90eXBlLmdldEZyYWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5mcmFnbWVudF8pfSxsLnByb3RvdHlwZS5nZXRSYXdGcmFnbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYWdtZW50X30sbC5wcm90b3R5cGUuc2V0RnJhZ21lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfPXQ/ZW5jb2RlVVJJQ29tcG9uZW50KHQpOm51bGwsdGhpc30sbC5wcm90b3R5cGUuc2V0UmF3RnJhZ21lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRfPXQ/dDpudWxsLHRoaXN9LGwucHJvdG90eXBlLmhhc0ZyYWdtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZyYWdtZW50X307dmFyIGQ9bmV3IFJlZ0V4cCgiXig/OihbXjovPyNdKyk6KT8oPzovLyg/OihbXi8/I10qKUApPyhbXi8/IzpAXSopKD86OihbMC05XSspKT8pPyhbXj8jXSspPyg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8kIiksbT0vWyNcL1w/QF0vZyxmPS9bXCNcP10vZztyZXR1cm4gbC5wYXJzZT10LGwuY3JlYXRlPWUsbC5yZXNvbHZlPXIsbC5jb2xsYXBzZV9kb3RzPWEsbC51dGlscz17bWltZVR5cGVPZjpmdW5jdGlvbihlKXt2YXIgaT10KGUpO3JldHVybi9cLmh0bWwkLy50ZXN0KGkuZ2V0UGF0aCgpKT8idGV4dC9odG1sIjoiYXBwbGljYXRpb24vamF2YXNjcmlwdCJ9LHJlc29sdmU6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZT9yKHQoZSksdChpKSkudG9TdHJpbmcoKToiIitpfX0sbH0oKSxuPXt9O2lmKG4uYXR5cGU9e05PTkU6MCxVUkk6MSxVUklfRlJBR01FTlQ6MTEsU0NSSVBUOjIsU1RZTEU6MyxIVE1MOjEyLElEOjQsSURSRUY6NSxJRFJFRlM6NixHTE9CQUxfTkFNRTo3LExPQ0FMX05BTUU6OCxDTEFTU0VTOjksRlJBTUVfVEFSR0VUOjEwLE1FRElBX1FVRVJZOjEzfSxuLmF0eXBlPW4uYXR5cGUsbi5BVFRSSUJTPXsiKjo6Y2xhc3MiOjksIio6OmRpciI6MCwiKjo6ZHJhZ2dhYmxlIjowLCIqOjpoaWRkZW4iOjAsIio6OmlkIjo0LCIqOjppbmVydCI6MCwiKjo6aXRlbXByb3AiOjAsIio6Oml0ZW1yZWYiOjYsIio6Oml0ZW1zY29wZSI6MCwiKjo6bGFuZyI6MCwiKjo6b25ibHVyIjoyLCIqOjpvbmNoYW5nZSI6MiwiKjo6b25jbGljayI6MiwiKjo6b25kYmxjbGljayI6MiwiKjo6b25mb2N1cyI6MiwiKjo6b25rZXlkb3duIjoyLCIqOjpvbmtleXByZXNzIjoyLCIqOjpvbmtleXVwIjoyLCIqOjpvbmxvYWQiOjIsIio6Om9ubW91c2Vkb3duIjoyLCIqOjpvbm1vdXNlbW92ZSI6MiwiKjo6b25tb3VzZW91dCI6MiwiKjo6b25tb3VzZW92ZXIiOjIsIio6Om9ubW91c2V1cCI6MiwiKjo6b25yZXNldCI6MiwiKjo6b25zY3JvbGwiOjIsIio6Om9uc2VsZWN0IjoyLCIqOjpvbnN1Ym1pdCI6MiwiKjo6b251bmxvYWQiOjIsIio6OnNwZWxsY2hlY2siOjAsIio6OnN0eWxlIjozLCIqOjp0aXRsZSI6MCwiKjo6dHJhbnNsYXRlIjowLCJhOjphY2Nlc3NrZXkiOjAsImE6OmNvb3JkcyI6MCwiYTo6aHJlZiI6MSwiYTo6aHJlZmxhbmciOjAsImE6Om5hbWUiOjcsImE6Om9uYmx1ciI6MiwiYTo6b25mb2N1cyI6MiwiYTo6c2hhcGUiOjAsImE6OnRhYmluZGV4IjowLCJhOjp0YXJnZXQiOjEwLCJhOjp0eXBlIjowLCJhcmVhOjphY2Nlc3NrZXkiOjAsImFyZWE6OmFsdCI6MCwiYXJlYTo6Y29vcmRzIjowLCJhcmVhOjpocmVmIjoxLCJhcmVhOjpub2hyZWYiOjAsImFyZWE6Om9uYmx1ciI6MiwiYXJlYTo6b25mb2N1cyI6MiwiYXJlYTo6c2hhcGUiOjAsImFyZWE6OnRhYmluZGV4IjowLCJhcmVhOjp0YXJnZXQiOjEwLCJhdWRpbzo6Y29udHJvbHMiOjAsImF1ZGlvOjpsb29wIjowLCJhdWRpbzo6bWVkaWFncm91cCI6NSwiYXVkaW86Om11dGVkIjowLCJhdWRpbzo6cHJlbG9hZCI6MCwiYmRvOjpkaXIiOjAsImJsb2NrcXVvdGU6OmNpdGUiOjEsImJyOjpjbGVhciI6MCwiYnV0dG9uOjphY2Nlc3NrZXkiOjAsImJ1dHRvbjo6ZGlzYWJsZWQiOjAsImJ1dHRvbjo6bmFtZSI6OCwiYnV0dG9uOjpvbmJsdXIiOjIsImJ1dHRvbjo6b25mb2N1cyI6MiwiYnV0dG9uOjp0YWJpbmRleCI6MCwiYnV0dG9uOjp0eXBlIjowLCJidXR0b246OnZhbHVlIjowLCJjYW52YXM6OmhlaWdodCI6MCwiY2FudmFzOjp3aWR0aCI6MCwiY2FwdGlvbjo6YWxpZ24iOjAsImNvbDo6YWxpZ24iOjAsImNvbDo6Y2hhciI6MCwiY29sOjpjaGFyb2ZmIjowLCJjb2w6OnNwYW4iOjAsImNvbDo6dmFsaWduIjowLCJjb2w6OndpZHRoIjowLCJjb2xncm91cDo6YWxpZ24iOjAsImNvbGdyb3VwOjpjaGFyIjowLCJjb2xncm91cDo6Y2hhcm9mZiI6MCwiY29sZ3JvdXA6OnNwYW4iOjAsImNvbGdyb3VwOjp2YWxpZ24iOjAsImNvbGdyb3VwOjp3aWR0aCI6MCwiY29tbWFuZDo6Y2hlY2tlZCI6MCwiY29tbWFuZDo6Y29tbWFuZCI6NSwiY29tbWFuZDo6ZGlzYWJsZWQiOjAsImNvbW1hbmQ6Omljb24iOjEsImNvbW1hbmQ6OmxhYmVsIjowLCJjb21tYW5kOjpyYWRpb2dyb3VwIjowLCJjb21tYW5kOjp0eXBlIjowLCJkYXRhOjp2YWx1ZSI6MCwiZGVsOjpjaXRlIjoxLCJkZWw6OmRhdGV0aW1lIjowLCJkZXRhaWxzOjpvcGVuIjowLCJkaXI6OmNvbXBhY3QiOjAsImRpdjo6YWxpZ24iOjAsImRsOjpjb21wYWN0IjowLCJmaWVsZHNldDo6ZGlzYWJsZWQiOjAsImZvbnQ6OmNvbG9yIjowLCJmb250OjpmYWNlIjowLCJmb250OjpzaXplIjowLCJmb3JtOjphY2NlcHQiOjAsImZvcm06OmFjdGlvbiI6MSwiZm9ybTo6YXV0b2NvbXBsZXRlIjowLCJmb3JtOjplbmN0eXBlIjowLCJmb3JtOjptZXRob2QiOjAsImZvcm06Om5hbWUiOjcsImZvcm06Om5vdmFsaWRhdGUiOjAsImZvcm06Om9ucmVzZXQiOjIsImZvcm06Om9uc3VibWl0IjoyLCJmb3JtOjp0YXJnZXQiOjEwLCJoMTo6YWxpZ24iOjAsImgyOjphbGlnbiI6MCwiaDM6OmFsaWduIjowLCJoNDo6YWxpZ24iOjAsImg1OjphbGlnbiI6MCwiaDY6OmFsaWduIjowLCJocjo6YWxpZ24iOjAsImhyOjpub3NoYWRlIjowLCJocjo6c2l6ZSI6MCwiaHI6OndpZHRoIjowLCJpZnJhbWU6OmFsaWduIjowLCJpZnJhbWU6OmZyYW1lYm9yZGVyIjowLCJpZnJhbWU6OmhlaWdodCI6MCwiaWZyYW1lOjptYXJnaW5oZWlnaHQiOjAsImlmcmFtZTo6bWFyZ2lud2lkdGgiOjAsImlmcmFtZTo6d2lkdGgiOjAsImltZzo6YWxpZ24iOjAsImltZzo6YWx0IjowLCJpbWc6OmJvcmRlciI6MCwiaW1nOjpoZWlnaHQiOjAsImltZzo6aHNwYWNlIjowLCJpbWc6OmlzbWFwIjowLCJpbWc6Om5hbWUiOjcsImltZzo6c3JjIjoxLCJpbWc6OnVzZW1hcCI6MTEsImltZzo6dnNwYWNlIjowLCJpbWc6OndpZHRoIjowLCJpbnB1dDo6YWNjZXB0IjowLCJpbnB1dDo6YWNjZXNza2V5IjowLCJpbnB1dDo6YWxpZ24iOjAsImlucHV0OjphbHQiOjAsImlucHV0OjphdXRvY29tcGxldGUiOjAsImlucHV0OjpjaGVja2VkIjowLCJpbnB1dDo6ZGlzYWJsZWQiOjAsImlucHV0OjppbnB1dG1vZGUiOjAsImlucHV0Ojppc21hcCI6MCwiaW5wdXQ6Omxpc3QiOjUsImlucHV0OjptYXgiOjAsImlucHV0OjptYXhsZW5ndGgiOjAsImlucHV0OjptaW4iOjAsImlucHV0OjptdWx0aXBsZSI6MCwiaW5wdXQ6Om5hbWUiOjgsImlucHV0OjpvbmJsdXIiOjIsImlucHV0OjpvbmNoYW5nZSI6MiwiaW5wdXQ6Om9uZm9jdXMiOjIsImlucHV0OjpvbnNlbGVjdCI6MiwiaW5wdXQ6OnBsYWNlaG9sZGVyIjowLCJpbnB1dDo6cmVhZG9ubHkiOjAsImlucHV0OjpyZXF1aXJlZCI6MCwiaW5wdXQ6OnNpemUiOjAsImlucHV0OjpzcmMiOjEsImlucHV0OjpzdGVwIjowLCJpbnB1dDo6dGFiaW5kZXgiOjAsImlucHV0Ojp0eXBlIjowLCJpbnB1dDo6dXNlbWFwIjoxMSwiaW5wdXQ6OnZhbHVlIjowLCJpbnM6OmNpdGUiOjEsImluczo6ZGF0ZXRpbWUiOjAsImxhYmVsOjphY2Nlc3NrZXkiOjAsImxhYmVsOjpmb3IiOjUsImxhYmVsOjpvbmJsdXIiOjIsImxhYmVsOjpvbmZvY3VzIjoyLCJsZWdlbmQ6OmFjY2Vzc2tleSI6MCwibGVnZW5kOjphbGlnbiI6MCwibGk6OnR5cGUiOjAsImxpOjp2YWx1ZSI6MCwibWFwOjpuYW1lIjo3LCJtZW51Ojpjb21wYWN0IjowLCJtZW51OjpsYWJlbCI6MCwibWVudTo6dHlwZSI6MCwibWV0ZXI6OmhpZ2giOjAsIm1ldGVyOjpsb3ciOjAsIm1ldGVyOjptYXgiOjAsIm1ldGVyOjptaW4iOjAsIm1ldGVyOjp2YWx1ZSI6MCwib2w6OmNvbXBhY3QiOjAsIm9sOjpyZXZlcnNlZCI6MCwib2w6OnN0YXJ0IjowLCJvbDo6dHlwZSI6MCwib3B0Z3JvdXA6OmRpc2FibGVkIjowLCJvcHRncm91cDo6bGFiZWwiOjAsIm9wdGlvbjo6ZGlzYWJsZWQiOjAsIm9wdGlvbjo6bGFiZWwiOjAsIm9wdGlvbjo6c2VsZWN0ZWQiOjAsIm9wdGlvbjo6dmFsdWUiOjAsIm91dHB1dDo6Zm9yIjo2LCJvdXRwdXQ6Om5hbWUiOjgsInA6OmFsaWduIjowLCJwcmU6OndpZHRoIjowLCJwcm9ncmVzczo6bWF4IjowLCJwcm9ncmVzczo6bWluIjowLCJwcm9ncmVzczo6dmFsdWUiOjAsInE6OmNpdGUiOjEsInNlbGVjdDo6YXV0b2NvbXBsZXRlIjowLCJzZWxlY3Q6OmRpc2FibGVkIjowLCJzZWxlY3Q6Om11bHRpcGxlIjowLCJzZWxlY3Q6Om5hbWUiOjgsInNlbGVjdDo6b25ibHVyIjoyLCJzZWxlY3Q6Om9uY2hhbmdlIjoyLCJzZWxlY3Q6Om9uZm9jdXMiOjIsInNlbGVjdDo6cmVxdWlyZWQiOjAsInNlbGVjdDo6c2l6ZSI6MCwic2VsZWN0Ojp0YWJpbmRleCI6MCwic291cmNlOjp0eXBlIjowLCJ0YWJsZTo6YWxpZ24iOjAsInRhYmxlOjpiZ2NvbG9yIjowLCJ0YWJsZTo6Ym9yZGVyIjowLCJ0YWJsZTo6Y2VsbHBhZGRpbmciOjAsInRhYmxlOjpjZWxsc3BhY2luZyI6MCwidGFibGU6OmZyYW1lIjowLCJ0YWJsZTo6cnVsZXMiOjAsInRhYmxlOjpzdW1tYXJ5IjowLCJ0YWJsZTo6d2lkdGgiOjAsInRib2R5OjphbGlnbiI6MCwidGJvZHk6OmNoYXIiOjAsInRib2R5OjpjaGFyb2ZmIjowLCJ0Ym9keTo6dmFsaWduIjowLCJ0ZDo6YWJiciI6MCwidGQ6OmFsaWduIjowLCJ0ZDo6YXhpcyI6MCwidGQ6OmJnY29sb3IiOjAsInRkOjpjaGFyIjowLCJ0ZDo6Y2hhcm9mZiI6MCwidGQ6OmNvbHNwYW4iOjAsInRkOjpoZWFkZXJzIjo2LCJ0ZDo6aGVpZ2h0IjowLCJ0ZDo6bm93cmFwIjowLCJ0ZDo6cm93c3BhbiI6MCwidGQ6OnNjb3BlIjowLCJ0ZDo6dmFsaWduIjowLCJ0ZDo6d2lkdGgiOjAsInRleHRhcmVhOjphY2Nlc3NrZXkiOjAsInRleHRhcmVhOjphdXRvY29tcGxldGUiOjAsInRleHRhcmVhOjpjb2xzIjowLCJ0ZXh0YXJlYTo6ZGlzYWJsZWQiOjAsInRleHRhcmVhOjppbnB1dG1vZGUiOjAsInRleHRhcmVhOjpuYW1lIjo4LCJ0ZXh0YXJlYTo6b25ibHVyIjoyLCJ0ZXh0YXJlYTo6b25jaGFuZ2UiOjIsInRleHRhcmVhOjpvbmZvY3VzIjoyLCJ0ZXh0YXJlYTo6b25zZWxlY3QiOjIsInRleHRhcmVhOjpwbGFjZWhvbGRlciI6MCwidGV4dGFyZWE6OnJlYWRvbmx5IjowLCJ0ZXh0YXJlYTo6cmVxdWlyZWQiOjAsInRleHRhcmVhOjpyb3dzIjowLCJ0ZXh0YXJlYTo6dGFiaW5kZXgiOjAsInRleHRhcmVhOjp3cmFwIjowLCJ0Zm9vdDo6YWxpZ24iOjAsInRmb290OjpjaGFyIjowLCJ0Zm9vdDo6Y2hhcm9mZiI6MCwidGZvb3Q6OnZhbGlnbiI6MCwidGg6OmFiYnIiOjAsInRoOjphbGlnbiI6MCwidGg6OmF4aXMiOjAsInRoOjpiZ2NvbG9yIjowLCJ0aDo6Y2hhciI6MCwidGg6OmNoYXJvZmYiOjAsInRoOjpjb2xzcGFuIjowLCJ0aDo6aGVhZGVycyI6NiwidGg6OmhlaWdodCI6MCwidGg6Om5vd3JhcCI6MCwidGg6OnJvd3NwYW4iOjAsInRoOjpzY29wZSI6MCwidGg6OnZhbGlnbiI6MCwidGg6OndpZHRoIjowLCJ0aGVhZDo6YWxpZ24iOjAsInRoZWFkOjpjaGFyIjowLCJ0aGVhZDo6Y2hhcm9mZiI6MCwidGhlYWQ6OnZhbGlnbiI6MCwidHI6OmFsaWduIjowLCJ0cjo6Ymdjb2xvciI6MCwidHI6OmNoYXIiOjAsInRyOjpjaGFyb2ZmIjowLCJ0cjo6dmFsaWduIjowLCJ0cmFjazo6ZGVmYXVsdCI6MCwidHJhY2s6OmtpbmQiOjAsInRyYWNrOjpsYWJlbCI6MCwidHJhY2s6OnNyY2xhbmciOjAsInVsOjpjb21wYWN0IjowLCJ1bDo6dHlwZSI6MCwidmlkZW86OmNvbnRyb2xzIjowLCJ2aWRlbzo6aGVpZ2h0IjowLCJ2aWRlbzo6bG9vcCI6MCwidmlkZW86Om1lZGlhZ3JvdXAiOjUsInZpZGVvOjptdXRlZCI6MCwidmlkZW86OnBvc3RlciI6MSwidmlkZW86OnByZWxvYWQiOjAsInZpZGVvOjp3aWR0aCI6MH0sbi5BVFRSSUJTPW4uQVRUUklCUyxuLmVmbGFncz17T1BUSU9OQUxfRU5EVEFHOjEsRU1QVFk6MixDREFUQTo0LFJDREFUQTo4LFVOU0FGRToxNixGT0xEQUJMRTozMixTQ1JJUFQ6NjQsU1RZTEU6MTI4LFZJUlRVQUxJWkVEOjI1Nn0sbi5lZmxhZ3M9bi5lZmxhZ3Msbi5FTEVNRU5UUz17YTowLGFiYnI6MCxhY3JvbnltOjAsYWRkcmVzczowLGFwcGxldDoyNzIsYXJlYToyLGFydGljbGU6MCxhc2lkZTowLGF1ZGlvOjAsYjowLGJhc2U6Mjc0LGJhc2Vmb250OjI3NCxiZGk6MCxiZG86MCxiaWc6MCxibG9ja3F1b3RlOjAsYm9keTozMDUsYnI6MixidXR0b246MCxjYW52YXM6MCxjYXB0aW9uOjAsY2VudGVyOjAsY2l0ZTowLGNvZGU6MCxjb2w6Mixjb2xncm91cDoxLGNvbW1hbmQ6MixkYXRhOjAsZGF0YWxpc3Q6MCxkZDoxLGRlbDowLGRldGFpbHM6MCxkZm46MCxkaWFsb2c6MjcyLGRpcjowLGRpdjowLGRsOjAsZHQ6MSxlbTowLGZpZWxkc2V0OjAsZmlnY2FwdGlvbjowLGZpZ3VyZTowLGZvbnQ6MCxmb290ZXI6MCxmb3JtOjAsZnJhbWU6Mjc0LGZyYW1lc2V0OjI3MixoMTowLGgyOjAsaDM6MCxoNDowLGg1OjAsaDY6MCxoZWFkOjMwNSxoZWFkZXI6MCxoZ3JvdXA6MCxocjoyLGh0bWw6MzA1LGk6MCxpZnJhbWU6NCxpbWc6MixpbnB1dDoyLGluczowLGlzaW5kZXg6Mjc0LGtiZDowLGtleWdlbjoyNzQsbGFiZWw6MCxsZWdlbmQ6MCxsaToxLGxpbms6Mjc0LG1hcDowLG1hcms6MCxtZW51OjAsbWV0YToyNzQsbWV0ZXI6MCxuYXY6MCxub2JyOjAsbm9lbWJlZDoyNzYsbm9mcmFtZXM6Mjc2LG5vc2NyaXB0OjI3NixvYmplY3Q6MjcyLG9sOjAsb3B0Z3JvdXA6MCxvcHRpb246MSxvdXRwdXQ6MCxwOjEscGFyYW06Mjc0LHByZTowLHByb2dyZXNzOjAscTowLHM6MCxzYW1wOjAsc2NyaXB0Ojg0LHNlY3Rpb246MCxzZWxlY3Q6MCxzbWFsbDowLHNvdXJjZToyLHNwYW46MCxzdHJpa2U6MCxzdHJvbmc6MCxzdHlsZToxNDgsc3ViOjAsc3VtbWFyeTowLHN1cDowLHRhYmxlOjAsdGJvZHk6MSx0ZDoxLHRleHRhcmVhOjgsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdGltZTowLHRpdGxlOjI4MCx0cjoxLHRyYWNrOjIsdHQ6MCx1OjAsdWw6MCwidmFyIjowLHZpZGVvOjAsd2JyOjJ9LG4uRUxFTUVOVFM9bi5FTEVNRU5UUyxuLkVMRU1FTlRfRE9NX0lOVEVSRkFDRVM9e2E6IkhUTUxBbmNob3JFbGVtZW50IixhYmJyOiJIVE1MRWxlbWVudCIsYWNyb255bToiSFRNTEVsZW1lbnQiLGFkZHJlc3M6IkhUTUxFbGVtZW50IixhcHBsZXQ6IkhUTUxBcHBsZXRFbGVtZW50IixhcmVhOiJIVE1MQXJlYUVsZW1lbnQiLGFydGljbGU6IkhUTUxFbGVtZW50Iixhc2lkZToiSFRNTEVsZW1lbnQiLGF1ZGlvOiJIVE1MQXVkaW9FbGVtZW50IixiOiJIVE1MRWxlbWVudCIsYmFzZToiSFRNTEJhc2VFbGVtZW50IixiYXNlZm9udDoiSFRNTEJhc2VGb250RWxlbWVudCIsYmRpOiJIVE1MRWxlbWVudCIsYmRvOiJIVE1MRWxlbWVudCIsYmlnOiJIVE1MRWxlbWVudCIsYmxvY2txdW90ZToiSFRNTFF1b3RlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNlbnRlcjoiSFRNTEVsZW1lbnQiLGNpdGU6IkhUTUxFbGVtZW50Iixjb2RlOiJIVE1MRWxlbWVudCIsY29sOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb2xncm91cDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29tbWFuZDoiSFRNTENvbW1hbmRFbGVtZW50IixkYXRhOiJIVE1MRWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRkOiJIVE1MRWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGV0YWlsczoiSFRNTERldGFpbHNFbGVtZW50IixkZm46IkhUTUxFbGVtZW50IixkaWFsb2c6IkhUTUxEaWFsb2dFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZHQ6IkhUTUxFbGVtZW50IixlbToiSFRNTEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50IixmaWdjYXB0aW9uOiJIVE1MRWxlbWVudCIsZmlndXJlOiJIVE1MRWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb290ZXI6IkhUTUxFbGVtZW50Iixmb3JtOiJIVE1MRm9ybUVsZW1lbnQiLGZyYW1lOiJIVE1MRnJhbWVFbGVtZW50IixmcmFtZXNldDoiSFRNTEZyYW1lU2V0RWxlbWVudCIsaDE6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDI6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDM6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDQ6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDU6IkhUTUxIZWFkaW5nRWxlbWVudCIsaDY6IkhUTUxIZWFkaW5nRWxlbWVudCIsaGVhZDoiSFRNTEhlYWRFbGVtZW50IixoZWFkZXI6IkhUTUxFbGVtZW50IixoZ3JvdXA6IkhUTUxFbGVtZW50IixocjoiSFRNTEhSRWxlbWVudCIsaHRtbDoiSFRNTEh0bWxFbGVtZW50IixpOiJIVE1MRWxlbWVudCIsaWZyYW1lOiJIVE1MSUZyYW1lRWxlbWVudCIsaW1nOiJIVE1MSW1hZ2VFbGVtZW50IixpbnB1dDoiSFRNTElucHV0RWxlbWVudCIsaW5zOiJIVE1MTW9kRWxlbWVudCIsaXNpbmRleDoiSFRNTFVua25vd25FbGVtZW50IixrYmQ6IkhUTUxFbGVtZW50IixrZXlnZW46IkhUTUxLZXlnZW5FbGVtZW50IixsYWJlbDoiSFRNTExhYmVsRWxlbWVudCIsbGVnZW5kOiJIVE1MTGVnZW5kRWxlbWVudCIsbGk6IkhUTUxMSUVsZW1lbnQiLGxpbms6IkhUTUxMaW5rRWxlbWVudCIsbWFwOiJIVE1MTWFwRWxlbWVudCIsbWFyazoiSFRNTEVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWV0YToiSFRNTE1ldGFFbGVtZW50IixtZXRlcjoiSFRNTE1ldGVyRWxlbWVudCIsbmF2OiJIVE1MRWxlbWVudCIsbm9icjoiSFRNTEVsZW1lbnQiLG5vZW1iZWQ6IkhUTUxFbGVtZW50Iixub2ZyYW1lczoiSFRNTEVsZW1lbnQiLG5vc2NyaXB0OiJIVE1MRWxlbWVudCIsb2JqZWN0OiJIVE1MT2JqZWN0RWxlbWVudCIsb2w6IkhUTUxPTGlzdEVsZW1lbnQiLG9wdGdyb3VwOiJIVE1MT3B0R3JvdXBFbGVtZW50IixvcHRpb246IkhUTUxPcHRpb25FbGVtZW50IixvdXRwdXQ6IkhUTUxPdXRwdXRFbGVtZW50IixwOiJIVE1MUGFyYWdyYXBoRWxlbWVudCIscGFyYW06IkhUTUxQYXJhbUVsZW1lbnQiLHByZToiSFRNTFByZUVsZW1lbnQiLHByb2dyZXNzOiJIVE1MUHJvZ3Jlc3NFbGVtZW50IixxOiJIVE1MUXVvdGVFbGVtZW50IixzOiJIVE1MRWxlbWVudCIsc2FtcDoiSFRNTEVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlY3Rpb246IkhUTUxFbGVtZW50IixzZWxlY3Q6IkhUTUxTZWxlY3RFbGVtZW50IixzbWFsbDoiSFRNTEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3RyaWtlOiJIVE1MRWxlbWVudCIsc3Ryb25nOiJIVE1MRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHN1YjoiSFRNTEVsZW1lbnQiLHN1bW1hcnk6IkhUTUxFbGVtZW50IixzdXA6IkhUTUxFbGVtZW50Iix0YWJsZToiSFRNTFRhYmxlRWxlbWVudCIsdGJvZHk6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0ZDoiSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGZvb3Q6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0aDoiSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQiLHRoZWFkOiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGltZToiSFRNTFRpbWVFbGVtZW50Iix0aXRsZToiSFRNTFRpdGxlRWxlbWVudCIsdHI6IkhUTUxUYWJsZVJvd0VsZW1lbnQiLHRyYWNrOiJIVE1MVHJhY2tFbGVtZW50Iix0dDoiSFRNTEVsZW1lbnQiLHU6IkhUTUxFbGVtZW50Iix1bDoiSFRNTFVMaXN0RWxlbWVudCIsInZhciI6IkhUTUxFbGVtZW50Iix2aWRlbzoiSFRNTFZpZGVvRWxlbWVudCIsd2JyOiJIVE1MRWxlbWVudCJ9LG4uRUxFTUVOVF9ET01fSU5URVJGQUNFUz1uLkVMRU1FTlRfRE9NX0lOVEVSRkFDRVMsbi51ZWZmZWN0cz17Tk9UX0xPQURFRDowLFNBTUVfRE9DVU1FTlQ6MSxORVdfRE9DVU1FTlQ6Mn0sbi51ZWZmZWN0cz1uLnVlZmZlY3RzLG4uVVJJRUZGRUNUUz17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImJsb2NrcXVvdGU6OmNpdGUiOjAsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MCwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjowLCJxOjpjaXRlIjowLCJ2aWRlbzo6cG9zdGVyIjoxfSxuLlVSSUVGRkVDVFM9bi5VUklFRkZFQ1RTLG4ubHR5cGVzPXtVTlNBTkRCT1hFRDoyLFNBTkRCT1hFRDoxLERBVEE6MH0sbi5sdHlwZXM9bi5sdHlwZXMsbi5MT0FERVJUWVBFUz17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImJsb2NrcXVvdGU6OmNpdGUiOjIsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MiwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjoyLCJxOjpjaXRlIjoyLCJ2aWRlbzo6cG9zdGVyIjoxfSxuLkxPQURFUlRZUEVTPW4uTE9BREVSVFlQRVMsImkiIT09IkkiLnRvTG93ZXJDYXNlKCkpdGhyb3ciSS9pIHByb2JsZW0iO3ZhciBvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7aWYoay5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4ga1t0XTt2YXIgZT10Lm1hdGNoKEEpO2lmKGUpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZVsxXSwxMCkpO2lmKGU9dC5tYXRjaChPKSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlWzFdLDE2KSk7aWYoSSYmVS50ZXN0KHQpKXtJLmlubmVySFRNTD0iJiIrdCsiOyI7dmFyIGk9SS50ZXh0Q29udGVudDtyZXR1cm4ga1t0XT1pLGl9cmV0dXJuIiYiK3QrIjsifWZ1bmN0aW9uIG4odCxpKXtyZXR1cm4gZShpKX1mdW5jdGlvbiBvKHQpe3JldHVybiB0LnJlcGxhY2UoUiwiIil9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdC5yZXBsYWNlKHosbil9ZnVuY3Rpb24gYSh0KXtyZXR1cm4oIiIrdCkucmVwbGFjZShOLCImYW1wOyIpLnJlcGxhY2UoaiwiJmx0OyIpLnJlcGxhY2UoWiwiJmd0OyIpLnJlcGxhY2UoRiwiJiMzNDsiKX1mdW5jdGlvbiByKHQpe3JldHVybiB0LnJlcGxhY2UoSCwiJmFtcDskMSIpLnJlcGxhY2UoaiwiJmx0OyIpLnJlcGxhY2UoWiwiJmd0OyIpfWZ1bmN0aW9uIGwodCl7dmFyIGU9e2NkYXRhOnQuY2RhdGF8fHQuY2RhdGEsY29tbWVudDp0LmNvbW1lbnR8fHQuY29tbWVudCxlbmREb2M6dC5lbmREb2N8fHQuZW5kRG9jLGVuZFRhZzp0LmVuZFRhZ3x8dC5lbmRUYWcscGNkYXRhOnQucGNkYXRhfHx0LnBjZGF0YSxyY2RhdGE6dC5yY2RhdGF8fHQucmNkYXRhLHN0YXJ0RG9jOnQuc3RhcnREb2N8fHQuc3RhcnREb2Msc3RhcnRUYWc6dC5zdGFydFRhZ3x8dC5zdGFydFRhZ307cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGgodCxlLGkpfX1mdW5jdGlvbiBoKHQsZSxpKXt2YXIgbj1wKHQpLG89e25vTW9yZUdUOiExLG5vTW9yZUVuZENvbW1lbnRzOiExfTtjKGUsbiwwLG8saSl9ZnVuY3Rpb24gdSh0LGUsaSxuLG8pe3JldHVybiBmdW5jdGlvbigpe2ModCxlLGksbixvKX19ZnVuY3Rpb24gYyhlLGksbixvLHMpe3RyeXtlLnN0YXJ0RG9jJiYwPT1uJiZlLnN0YXJ0RG9jKHMpO2Zvcih2YXIgYSxyLGwsaD1uLGM9aS5sZW5ndGg7Yz5oOyl7dmFyIHA9aVtoKytdLF89aVtoXTtzd2l0Y2gocCl7Y2FzZSImIjpCLnRlc3QoXyk/KGUucGNkYXRhJiZlLnBjZGF0YSgiJiIrXyxzLFYsdShlLGksaCxvLHMpKSxoKyspOmUucGNkYXRhJiZlLnBjZGF0YSgiJmFtcDsiLHMsVix1KGUsaSxoLG8scykpO2JyZWFrO2Nhc2UiPC8iOihhPS9eKFstXHc6XSspW15cJ1wiXSovLmV4ZWMoXykpP2FbMF0ubGVuZ3RoPT09Xy5sZW5ndGgmJiI+Ij09PWlbaCsxXT8oaCs9MixsPWFbMV0udG9Mb3dlckNhc2UoKSxlLmVuZFRhZyYmZS5lbmRUYWcobCxzLFYsdShlLGksaCxvLHMpKSk6aD1kKGksaCxlLHMsVixvKTplLnBjZGF0YSYmZS5wY2RhdGEoIiZsdDsvIixzLFYsdShlLGksaCxvLHMpKTticmVhaztjYXNlIjwiOmlmKGE9L14oWy1cdzpdKylccypcLz8vLmV4ZWMoXykpaWYoYVswXS5sZW5ndGg9PT1fLmxlbmd0aCYmIj4iPT09aVtoKzFdKXtoKz0yLGw9YVsxXS50b0xvd2VyQ2FzZSgpLGUuc3RhcnRUYWcmJmUuc3RhcnRUYWcobCxbXSxzLFYsdShlLGksaCxvLHMpKTt2YXIgZz10LkVMRU1FTlRTW2xdO2lmKGcmcSl7dmFyIHY9e25hbWU6bCxuZXh0OmgsZWZsYWdzOmd9O2g9ZihpLHYsZSxzLFYsbyl9fWVsc2UgaD1tKGksaCxlLHMsVixvKTtlbHNlIGUucGNkYXRhJiZlLnBjZGF0YSgiJmx0OyIscyxWLHUoZSxpLGgsbyxzKSk7YnJlYWs7Y2FzZSI8IS0tIjppZighby5ub01vcmVFbmRDb21tZW50cyl7Zm9yKHI9aCsxO2M+ciYmKCI+IiE9PWlbcl18fCEvLS0kLy50ZXN0KGlbci0xXSkpO3IrKyk7aWYoYz5yKXtpZihlLmNvbW1lbnQpe3ZhciB5PWkuc2xpY2UoaCxyKS5qb2luKCIiKTtlLmNvbW1lbnQoeS5zdWJzdHIoMCx5Lmxlbmd0aC0yKSxzLFYsdShlLGkscisxLG8scykpfWg9cisxfWVsc2Ugby5ub01vcmVFbmRDb21tZW50cz0hMH1vLm5vTW9yZUVuZENvbW1lbnRzJiZlLnBjZGF0YSYmZS5wY2RhdGEoIiZsdDshLS0iLHMsVix1KGUsaSxoLG8scykpO2JyZWFrO2Nhc2UiPCEiOmlmKC9eXHcvLnRlc3QoXykpe2lmKCFvLm5vTW9yZUdUKXtmb3Iocj1oKzE7Yz5yJiYiPiIhPT1pW3JdO3IrKyk7Yz5yP2g9cisxOm8ubm9Nb3JlR1Q9ITB9by5ub01vcmVHVCYmZS5wY2RhdGEmJmUucGNkYXRhKCImbHQ7ISIscyxWLHUoZSxpLGgsbyxzKSl9ZWxzZSBlLnBjZGF0YSYmZS5wY2RhdGEoIiZsdDshIixzLFYsdShlLGksaCxvLHMpKTsKYnJlYWs7Y2FzZSI8PyI6aWYoIW8ubm9Nb3JlR1Qpe2ZvcihyPWgrMTtjPnImJiI+IiE9PWlbcl07cisrKTtjPnI/aD1yKzE6by5ub01vcmVHVD0hMH1vLm5vTW9yZUdUJiZlLnBjZGF0YSYmZS5wY2RhdGEoIiZsdDs/IixzLFYsdShlLGksaCxvLHMpKTticmVhaztjYXNlIj4iOmUucGNkYXRhJiZlLnBjZGF0YSgiJmd0OyIscyxWLHUoZSxpLGgsbyxzKSk7YnJlYWs7Y2FzZSIiOmJyZWFrO2RlZmF1bHQ6ZS5wY2RhdGEmJmUucGNkYXRhKHAscyxWLHUoZSxpLGgsbyxzKSl9fWUuZW5kRG9jJiZlLmVuZERvYyhzKX1jYXRjaChMKXtpZihMIT09Vil0aHJvdyBMfX1mdW5jdGlvbiBwKHQpe3ZhciBlPS8oPFwvfDxcIS0tfDxbIT9dfFsmPD5dKS9nO2lmKHQrPSIiLEcpcmV0dXJuIHQuc3BsaXQoZSk7Zm9yKHZhciBpLG49W10sbz0wO251bGwhPT0oaT1lLmV4ZWModCkpOyluLnB1c2godC5zdWJzdHJpbmcobyxpLmluZGV4KSksbi5wdXNoKGlbMF0pLG89aS5pbmRleCtpWzBdLmxlbmd0aDtyZXR1cm4gbi5wdXNoKHQuc3Vic3RyaW5nKG8pKSxufWZ1bmN0aW9uIGQodCxlLGksbixvLHMpe3ZhciBhPV8odCxlKTtyZXR1cm4gYT8oaS5lbmRUYWcmJmkuZW5kVGFnKGEubmFtZSxuLG8sdShpLHQsZSxzLG4pKSxhLm5leHQpOnQubGVuZ3RofWZ1bmN0aW9uIG0odCxlLGksbixvLHMpe3ZhciBhPV8odCxlKTtyZXR1cm4gYT8oaS5zdGFydFRhZyYmaS5zdGFydFRhZyhhLm5hbWUsYS5hdHRycyxuLG8sdShpLHQsYS5uZXh0LHMsbikpLGEuZWZsYWdzJnE/Zih0LGEsaSxuLG8scyk6YS5uZXh0KTp0Lmxlbmd0aH1mdW5jdGlvbiBmKGUsaSxuLG8scyxhKXt2YXIgbD1lLmxlbmd0aDtKLmhhc093blByb3BlcnR5KGkubmFtZSl8fChKW2kubmFtZV09bmV3IFJlZ0V4cCgiXiIraS5uYW1lKyIoPzpbXFxzXFwvXXwkKSIsImkiKSk7Zm9yKHZhciBoPUpbaS5uYW1lXSxjPWkubmV4dCxwPWkubmV4dCsxO2w+cCYmKCI8LyIhPT1lW3AtMV18fCFoLnRlc3QoZVtwXSkpO3ArKyk7bD5wJiYocC09MSk7dmFyIGQ9ZS5zbGljZShjLHApLmpvaW4oIiIpO2lmKGkuZWZsYWdzJnQuZWZsYWdzLkNEQVRBKW4uY2RhdGEmJm4uY2RhdGEoZCxvLHMsdShuLGUscCxhLG8pKTtlbHNle2lmKCEoaS5lZmxhZ3MmdC5lZmxhZ3MuUkNEQVRBKSl0aHJvdyBuZXcgRXJyb3IoImJ1ZyIpO24ucmNkYXRhJiZuLnJjZGF0YShyKGQpLG8scyx1KG4sZSxwLGEsbykpfXJldHVybiBwfWZ1bmN0aW9uIF8oZSxpKXt2YXIgbj0vXihbLVx3Ol0rKS8uZXhlYyhlW2ldKSxvPXt9O28ubmFtZT1uWzFdLnRvTG93ZXJDYXNlKCksby5lZmxhZ3M9dC5FTEVNRU5UU1tvLm5hbWVdO2Zvcih2YXIgcz1lW2ldLnN1YnN0cihuWzBdLmxlbmd0aCksYT1pKzEscj1lLmxlbmd0aDtyPmEmJiI+IiE9PWVbYV07YSsrKXMrPWVbYV07aWYoYT49cilyZXR1cm4gdm9pZCAwO2Zvcih2YXIgbD1bXTsiIiE9PXM7KWlmKG49Vy5leGVjKHMpKXtpZihuWzRdJiYhbls1XXx8bls2XSYmIW5bN10pe2Zvcih2YXIgaD1uWzRdfHxuWzZdLHU9ITEsYz1bcyxlW2ErK11dO3I+YTthKyspe2lmKHUpe2lmKCI+Ij09PWVbYV0pYnJlYWt9ZWxzZSAwPD1lW2FdLmluZGV4T2YoaCkmJih1PSEwKTtjLnB1c2goZVthXSl9aWYoYT49cilicmVhaztzPWMuam9pbigiIik7Y29udGludWV9dmFyIHA9blsxXS50b0xvd2VyQ2FzZSgpLGQ9blsyXT9nKG5bM10pOiIiO2wucHVzaChwLGQpLHM9cy5zdWJzdHIoblswXS5sZW5ndGgpfWVsc2Ugcz1zLnJlcGxhY2UoL15bXHNcU11bXmEtelxzXSovLCIiKTtyZXR1cm4gby5hdHRycz1sLG8ubmV4dD1hKzEsb31mdW5jdGlvbiBnKHQpe3ZhciBlPXQuY2hhckNvZGVBdCgwKTtyZXR1cm4oMzQ9PT1lfHwzOT09PWUpJiYodD10LnN1YnN0cigxLHQubGVuZ3RoLTIpKSxzKG8odCkpfWZ1bmN0aW9uIHYoZSl7dmFyIGksbixvPWZ1bmN0aW9uKHQsZSl7bnx8ZS5wdXNoKHQpfTtyZXR1cm4gbCh7c3RhcnREb2M6ZnVuY3Rpb24oKXtpPVtdLG49ITF9LHN0YXJ0VGFnOmZ1bmN0aW9uKG8scyxyKXtpZighbiYmdC5FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eShvKSl7dmFyIGw9dC5FTEVNRU5UU1tvXTtpZighKGwmdC5lZmxhZ3MuRk9MREFCTEUpKXt2YXIgaD1lKG8scyk7aWYoIWgpcmV0dXJuIG49IShsJnQuZWZsYWdzLkVNUFRZKSx2b2lkIDA7aWYoIm9iamVjdCIhPXR5cGVvZiBoKXRocm93IG5ldyBFcnJvcigidGFnUG9saWN5IGRpZCBub3QgcmV0dXJuIG9iamVjdCAob2xkIEFQST8pIik7aWYoISgiYXR0cmlicyJpbiBoKSl0aHJvdyBuZXcgRXJyb3IoInRhZ1BvbGljeSBnYXZlIG5vIGF0dHJpYnMiKTtzPWguYXR0cmliczt2YXIgdSxjO2lmKCJ0YWdOYW1lImluIGg/KGM9aC50YWdOYW1lLHU9dC5FTEVNRU5UU1tjXSk6KGM9byx1PWwpLGwmdC5lZmxhZ3MuT1BUSU9OQUxfRU5EVEFHKXt2YXIgcD1pW2kubGVuZ3RoLTFdOyFwfHxwLm9yaWchPT1vfHxwLnJlcD09PWMmJm89PT1jfHxyLnB1c2goIjwvIixwLnJlcCwiPiIpfWwmdC5lZmxhZ3MuRU1QVFl8fGkucHVzaCh7b3JpZzpvLHJlcDpjfSksci5wdXNoKCI8IixjKTtmb3IodmFyIGQ9MCxtPXMubGVuZ3RoO20+ZDtkKz0yKXt2YXIgZj1zW2RdLF89c1tkKzFdO251bGwhPT1fJiZ2b2lkIDAhPT1fJiZyLnB1c2goIiAiLGYsJz0iJyxhKF8pLCciJyl9ci5wdXNoKCI+IiksbCZ0LmVmbGFncy5FTVBUWSYmISh1JnQuZWZsYWdzLkVNUFRZKSYmci5wdXNoKCI8LyIsYywiPiIpfX19LGVuZFRhZzpmdW5jdGlvbihlLG8pe2lmKG4pcmV0dXJuIG49ITEsdm9pZCAwO2lmKHQuRUxFTUVOVFMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBzPXQuRUxFTUVOVFNbZV07aWYoIShzJih0LmVmbGFncy5FTVBUWXx0LmVmbGFncy5GT0xEQUJMRSkpKXt2YXIgYTtpZihzJnQuZWZsYWdzLk9QVElPTkFMX0VORFRBRylmb3IoYT1pLmxlbmd0aDstLWE+PTA7KXt2YXIgcj1pW2FdLm9yaWc7aWYocj09PWUpYnJlYWs7aWYoISh0LkVMRU1FTlRTW3JdJnQuZWZsYWdzLk9QVElPTkFMX0VORFRBRykpcmV0dXJufWVsc2UgZm9yKGE9aS5sZW5ndGg7LS1hPj0wJiZpW2FdLm9yaWchPT1lOyk7aWYoMD5hKXJldHVybjtmb3IodmFyIGw9aS5sZW5ndGg7LS1sPmE7KXt2YXIgaD1pW2xdLnJlcDt0LkVMRU1FTlRTW2hdJnQuZWZsYWdzLk9QVElPTkFMX0VORFRBR3x8by5wdXNoKCI8LyIsaCwiPiIpfWE8aS5sZW5ndGgmJihlPWlbYV0ucmVwKSxpLmxlbmd0aD1hLG8ucHVzaCgiPC8iLGUsIj4iKX19fSxwY2RhdGE6byxyY2RhdGE6byxjZGF0YTpvLGVuZERvYzpmdW5jdGlvbih0KXtmb3IoO2kubGVuZ3RoO2kubGVuZ3RoLS0pdC5wdXNoKCI8LyIsaVtpLmxlbmd0aC0xXS5yZXAsIj4iKX19KX1mdW5jdGlvbiB5KHQsZSxuLG8scyl7aWYoIXMpcmV0dXJuIG51bGw7dHJ5e3ZhciBhPWkucGFyc2UoIiIrdCk7aWYoYSYmKCFhLmhhc1NjaGVtZSgpfHxYLnRlc3QoYS5nZXRTY2hlbWUoKSkpKXt2YXIgcj1zKGEsZSxuLG8pO3JldHVybiByP3IudG9TdHJpbmcoKTpudWxsfX1jYXRjaChsKXtyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBMKHQsZSxpLG4sbyl7aWYoaXx8dChlKyIgcmVtb3ZlZCIse2NoYW5nZToicmVtb3ZlZCIsdGFnTmFtZTplfSksbiE9PW8pe3ZhciBzPSJjaGFuZ2VkIjtuJiYhbz9zPSJyZW1vdmVkIjohbiYmbyYmKHM9ImFkZGVkIiksdChlKyIuIitpKyIgIitzLHtjaGFuZ2U6cyx0YWdOYW1lOmUsYXR0cmliTmFtZTppLG9sZFZhbHVlOm4sbmV3VmFsdWU6b30pfX1mdW5jdGlvbiBiKHQsZSxpKXt2YXIgbjtyZXR1cm4gbj1lKyI6OiIraSx0Lmhhc093blByb3BlcnR5KG4pP3Rbbl06KG49Iio6OiIraSx0Lmhhc093blByb3BlcnR5KG4pP3Rbbl06dm9pZCAwKX1mdW5jdGlvbiBQKGUsaSl7cmV0dXJuIGIodC5MT0FERVJUWVBFUyxlLGkpfWZ1bmN0aW9uIFQoZSxpKXtyZXR1cm4gYih0LlVSSUVGRkVDVFMsZSxpKX1mdW5jdGlvbiBFKGUsaSxuLG8scyl7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKz0yKXt2YXIgcixsPWlbYV0saD1pW2ErMV0sdT1oLGM9bnVsbDtpZihyPWUrIjo6IitsLCh0LkFUVFJJQlMuaGFzT3duUHJvcGVydHkocil8fChyPSIqOjoiK2wsdC5BVFRSSUJTLmhhc093blByb3BlcnR5KHIpKSkmJihjPXQuQVRUUklCU1tyXSksbnVsbCE9PWMpc3dpdGNoKGMpe2Nhc2UgdC5hdHlwZS5OT05FOmJyZWFrO2Nhc2UgdC5hdHlwZS5TQ1JJUFQ6aD1udWxsLHMmJkwocyxlLGwsdSxoKTticmVhaztjYXNlIHQuYXR5cGUuU1RZTEU6aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBNKXtoPW51bGwscyYmTChzLGUsbCx1LGgpO2JyZWFrfXZhciBwPVtdO00oaCx7ZGVjbGFyYXRpb246ZnVuY3Rpb24oZSxpKXt2YXIgbz1lLnRvTG93ZXJDYXNlKCkscz1TW29dO3MmJihEKG8scyxpLG4/ZnVuY3Rpb24oZSl7cmV0dXJuIHkoZSx0LnVlZmZlY3RzLlNBTUVfRE9DVU1FTlQsdC5sdHlwZXMuU0FOREJPWEVELHtUWVBFOiJDU1MiLENTU19QUk9QOm99LG4pfTpudWxsKSxwLnB1c2goZSsiOiAiK2kuam9pbigiICIpKSl9fSksaD1wLmxlbmd0aD4wP3Auam9pbigiIDsgIik6bnVsbCxzJiZMKHMsZSxsLHUsaCk7YnJlYWs7Y2FzZSB0LmF0eXBlLklEOmNhc2UgdC5hdHlwZS5JRFJFRjpjYXNlIHQuYXR5cGUuSURSRUZTOmNhc2UgdC5hdHlwZS5HTE9CQUxfTkFNRTpjYXNlIHQuYXR5cGUuTE9DQUxfTkFNRTpjYXNlIHQuYXR5cGUuQ0xBU1NFUzpoPW8/byhoKTpoLHMmJkwocyxlLGwsdSxoKTticmVhaztjYXNlIHQuYXR5cGUuVVJJOmg9eShoLFQoZSxsKSxQKGUsbCkse1RZUEU6Ik1BUktVUCIsWE1MX0FUVFI6bCxYTUxfVEFHOmV9LG4pLHMmJkwocyxlLGwsdSxoKTticmVhaztjYXNlIHQuYXR5cGUuVVJJX0ZSQUdNRU5UOmgmJiIjIj09PWguY2hhckF0KDApPyhoPWguc3Vic3RyaW5nKDEpLGg9bz9vKGgpOmgsbnVsbCE9PWgmJnZvaWQgMCE9PWgmJihoPSIjIitoKSk6aD1udWxsLHMmJkwocyxlLGwsdSxoKTticmVhaztkZWZhdWx0Omg9bnVsbCxzJiZMKHMsZSxsLHUsaCl9ZWxzZSBoPW51bGwscyYmTChzLGUsbCx1LGgpO2lbYSsxXT1ofXJldHVybiBpfWZ1bmN0aW9uIHgoZSxpLG4pe3JldHVybiBmdW5jdGlvbihvLHMpe3JldHVybiB0LkVMRU1FTlRTW29dJnQuZWZsYWdzLlVOU0FGRT8obiYmTChuLG8sdm9pZCAwLHZvaWQgMCx2b2lkIDApLHZvaWQgMCk6e2F0dHJpYnM6RShvLHMsZSxpLG4pfX19ZnVuY3Rpb24gdyh0LGUpe3ZhciBpPVtdO3JldHVybiB2KGUpKHQsaSksaS5qb2luKCIiKX1mdW5jdGlvbiBDKHQsZSxpLG4pe3ZhciBvPXgoZSxpLG4pO3JldHVybiB3KHQsbyl9dmFyIE0sRCxTOyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYoTT13aW5kb3cucGFyc2VDc3NEZWNsYXJhdGlvbnMsRD13aW5kb3cuc2FuaXRpemVDc3NQcm9wZXJ0eSxTPXdpbmRvdy5jc3NTY2hlbWEpO3ZhciBrPXtsdDoiPCIsTFQ6IjwiLGd0OiI+IixHVDoiPiIsYW1wOiImIixBTVA6IiYiLHF1b3Q6JyInLGFwb3M6IiciLG5ic3A6ItCSwqAifSxBPS9eIyhcZCspJC8sTz0vXiN4KFswLTlBLUZhLWZdKykkLyxVPS9eW0EtWmEtel1bQS16YS16MC05XSskLyxJPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuZG9jdW1lbnQ/d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik6bnVsbCxSPS9cMC9nLHo9LyYoI1swLTldK3wjW3hYXVswLTlBLUZhLWZdK3xcdyspOy9nLEI9L14oI1swLTldK3wjW3hYXVswLTlBLUZhLWZdK3xcdyspOy8sTj0vJi9nLEg9LyYoW15hLXojXXwjKD86W14wLTl4XXx4KD86W14wLTlhLWZdfCQpfCQpfCQpL2dpLGo9L1s8XS9nLFo9Lz4vZyxGPS9cIi9nLFc9bmV3IFJlZ0V4cCgiXlxccyooWy0uOlxcd10rKSg/OlxccyooPSlcXHMqKChcIilbXlwiXSooXCJ8JCl8KCcpW14nXSooJ3wkKXwoPz1bYS16XVstXFx3XSpcXHMqPSl8W15cIidcXHNdKikpPyIsImkiKSxHPTM9PT0iYSxiIi5zcGxpdCgvKCwpLykubGVuZ3RoLHE9dC5lZmxhZ3MuQ0RBVEF8dC5lZmxhZ3MuUkNEQVRBLFY9e30sSj17fSxYPS9eKD86aHR0cHM/fG1haWx0b3xkYXRhKSQvaSwkPXt9O3JldHVybiAkLmVzY2FwZUF0dHJpYj0kLmVzY2FwZUF0dHJpYj1hLCQubWFrZUh0bWxTYW5pdGl6ZXI9JC5tYWtlSHRtbFNhbml0aXplcj12LCQubWFrZVNheFBhcnNlcj0kLm1ha2VTYXhQYXJzZXI9bCwkLm1ha2VUYWdQb2xpY3k9JC5tYWtlVGFnUG9saWN5PXgsJC5ub3JtYWxpemVSQ0RhdGE9JC5ub3JtYWxpemVSQ0RhdGE9ciwkLnNhbml0aXplPSQuc2FuaXRpemU9QywkLnNhbml0aXplQXR0cmlicz0kLnNhbml0aXplQXR0cmlicz1FLCQuc2FuaXRpemVXaXRoUG9saWN5PSQuc2FuaXRpemVXaXRoUG9saWN5PXcsJC51bmVzY2FwZUVudGl0aWVzPSQudW5lc2NhcGVFbnRpdGllcz1zLCR9KG4pLHM9by5zYW5pdGl6ZTtuLkFUVFJJQlNbIio6OnN0eWxlIl09MCxuLkVMRU1FTlRTLnN0eWxlPTAsbi5BVFRSSUJTWyJhOjp0YXJnZXQiXT0wLG4uRUxFTUVOVFMudmlkZW89MCxuLkFUVFJJQlNbInZpZGVvOjpzcmMiXT0wLG4uQVRUUklCU1sidmlkZW86OnBvc3RlciJdPTAsbi5BVFRSSUJTWyJ2aWRlbzo6Y29udHJvbHMiXT0wLG4uRUxFTUVOVFMuYXVkaW89MCxuLkFUVFJJQlNbImF1ZGlvOjpzcmMiXT0wLG4uQVRUUklCU1sidmlkZW86OmF1dG9wbGF5Il09MCxuLkFUVFJJQlNbInZpZGVvOjpjb250cm9scyJdPTAsInVuZGVmaW5lZCIhPXR5cGVvZiBlJiYoZS5leHBvcnRzPXMpfSx7fV0sMTA6W2Z1bmN0aW9uKHQsZSl7ZS5leHBvcnRzPXthdXRob3I6Ik1hcGJveCIsbmFtZToibWFwYm94LmpzIixkZXNjcmlwdGlvbjoibWFwYm94IGphdmFzY3JpcHQgYXBpIix2ZXJzaW9uOiIxLjUuMSIsaG9tZXBhZ2U6Imh0dHA6Ly9tYXBib3guY29tLyIscmVwb3NpdG9yeTp7dHlwZToiZ2l0Iix1cmw6ImdpdDovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC5qcy5naXQifSxtYWluOiJpbmRleC5qcyIsZGVwZW5kZW5jaWVzOntsZWFmbGV0OiIwLjcuMSIsbXVzdGFjaGU6IjAuNy4zIixjb3JzbGl0ZToiMC4wLjUiLGpzb24zOiJnaXQ6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2pzb24zLmdpdCN2My4yLjVhIiwic2FuaXRpemUtY2FqYSI6IjAuMC4wIiwibGVhZmxldC1oYXNoIjoifjAuMi4xIn0sc2NyaXB0czp7dGVzdDoianNoaW50IHNyYy8qLmpzICYmIG1vY2hhLXBoYW50b21qcyB0ZXN0L2luZGV4Lmh0bWwifSxkZXZEZXBlbmRlbmNpZXM6eyJsZWFmbGV0LWhhc2giOiJnaXQ6Ly9naXRodWIuY29tL21sZXZhbnMvbGVhZmxldC1oYXNoLmdpdCNiMDM5YTNhYTRlMjQ5MmE1Yzc0NDgwNzUxNzJhYzI2NzY5ZTYwMWQ2IiwibGVhZmxldC1mdWxsc2NyZWVuIjoiMC4wLjAiLCJ1Z2xpZnktanMiOiIyLjQuMyIsbW9jaGE6IjEuMTQuMCIsImV4cGVjdC5qcyI6IjAuMi4wIixzaW5vbjoiMS43LjMiLCJtb2NoYS1waGFudG9tanMiOiIzLjEuNiIsaGFwcGVuOiIwLjEuMyIsYnJvd3NlcmlmeToiMi4zNS40Iixqc2hpbnQ6IjIuMy4wIn0sb3B0aW9uYWxEZXBlbmRlbmNpZXM6e30sZW5naW5lczp7bm9kZToiKiJ9fX0se31dLDExOltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e0hUVFBfVVJMUzpbImh0dHA6Ly9hLnRpbGVzLm1hcGJveC5jb20vdjMvIiwiaHR0cDovL2IudGlsZXMubWFwYm94LmNvbS92My8iLCJodHRwOi8vYy50aWxlcy5tYXBib3guY29tL3YzLyIsImh0dHA6Ly9kLnRpbGVzLm1hcGJveC5jb20vdjMvIl0sRk9SQ0VfSFRUUFM6ITEsSFRUUFNfVVJMUzpbImh0dHBzOi8vYS50aWxlcy5tYXBib3guY29tL3YzLyIsImh0dHBzOi8vYi50aWxlcy5tYXBib3guY29tL3YzLyIsImh0dHBzOi8vYy50aWxlcy5tYXBib3guY29tL3YzLyIsImh0dHBzOi8vZC50aWxlcy5tYXBib3guY29tL3YzLyJdfX0se31dLDEyOltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT10KCIuL3V0aWwiKSxuPXQoIi4vdXJsIiksbz10KCIuL3JlcXVlc3QiKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUscz17fTtyZXR1cm4gcy5nZXRVUkw9ZnVuY3Rpb24oKXtyZXR1cm4gZX0scy5zZXRVUkw9ZnVuY3Rpb24odCl7cmV0dXJuIGU9bi5qc29uaWZ5KHQpLHN9LHMuc2V0SUQ9ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaWN0KHQsInN0cmluZyIpLHMuc2V0VVJMKG4uYmFzZSgpK3QrIi9nZW9jb2RlL3txdWVyeX0uanNvbiIpLHN9LHMuc2V0VGlsZUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaWN0KHQsIm9iamVjdCIpLHMuc2V0VVJMKHQuZ2VvY29kZXIpLHN9LHMucXVlcnlVUkw9ZnVuY3Rpb24odCl7aWYoaS5zdHJpY3QodCwic3RyaW5nIiksIXMuZ2V0VVJMKCkpdGhyb3cgbmV3IEVycm9yKCJHZW9jb2RpbmcgbWFwIElEIG5vdCBzZXQiKTtyZXR1cm4gTC5VdGlsLnRlbXBsYXRlKHMuZ2V0VVJMKCkse3F1ZXJ5OmVuY29kZVVSSUNvbXBvbmVudCh0KX0pfSxzLnF1ZXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuc3RyaWN0KHQsInN0cmluZyIpLGkuc3RyaWN0KGUsImZ1bmN0aW9uIiksbyhzLnF1ZXJ5VVJMKHQpLGZ1bmN0aW9uKHQsbil7aWYobiYmbi5yZXN1bHRzJiZuLnJlc3VsdHMubGVuZ3RoKXt2YXIgbz17cmVzdWx0czpuLnJlc3VsdHMsbGF0bG5nOltuLnJlc3VsdHNbMF1bMF0ubGF0LG4ucmVzdWx0c1swXVswXS5sb25dfTt2b2lkIDAhPT1uLnJlc3VsdHNbMF1bMF0uYm91bmRzJiYoby5ib3VuZHM9bi5yZXN1bHRzWzBdWzBdLmJvdW5kcyxvLmxib3VuZHM9aS5sYm91bmRzKG8uYm91bmRzKSksZShudWxsLG8pfWVsc2UgZSh0fHwhMCl9KSxzfSxzLnJldmVyc2VRdWVyeT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIHZvaWQgMCE9PXQubGF0JiZ2b2lkIDAhPT10LmxuZz90LmxuZysiLCIrdC5sYXQ6dm9pZCAwIT09dC5sYXQmJnZvaWQgMCE9PXQubG9uP3QubG9uKyIsIit0LmxhdDp0WzBdKyIsIit0WzFdfXZhciBuPSIiO2lmKHQubGVuZ3RoJiZ0WzBdLmxlbmd0aCl7Zm9yKHZhciBhPTAscj1bXTthPHQubGVuZ3RoO2ErKylyLnB1c2goaSh0W2FdKSk7bj1yLmpvaW4oIjsiKX1lbHNlIG49aSh0KTtyZXR1cm4gbyhzLnF1ZXJ5VVJMKG4pLGZ1bmN0aW9uKHQsaSl7ZSh0LGkpfSksc30sInN0cmluZyI9PXR5cGVvZiB0Py0xPT10LmluZGV4T2YoIi8iKT9zLnNldElEKHQpOnMuc2V0VVJMKHQpOiJvYmplY3QiPT10eXBlb2YgdCYmcy5zZXRUaWxlSlNPTih0KSxzfX0seyIuL3JlcXVlc3QiOjIzLCIuL3VybCI6MjYsIi4vdXRpbCI6Mjd9XSwxMzpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9nZW9jb2RlciIpLG49TC5Db250cm9sLmV4dGVuZCh7aW5jbHVkZXM6TC5NaXhpbi5FdmVudHMsb3B0aW9uczp7cG9zaXRpb246InRvcGxlZnQiLGtlZXBPcGVuOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7TC5VdGlsLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLmdlb2NvZGVyPWkodCl9LHNldFVSTDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZW9jb2Rlci5zZXRVUkwodCksdGhpc30sZ2V0VVJMOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2VvY29kZXIuZ2V0VVJMKCl9LHNldElEOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdlb2NvZGVyLnNldElEKHQpLHRoaXN9LHNldFRpbGVKU09OOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdlb2NvZGVyLnNldFRpbGVKU09OKHQpLHRoaXN9LF90b2dnbGU6ZnVuY3Rpb24odCl7dCYmTC5Eb21FdmVudC5zdG9wKHQpLEwuRG9tVXRpbC5oYXNDbGFzcyh0aGlzLl9jb250YWluZXIsImFjdGl2ZSIpPyhMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9yZXN1bHRzLmlubmVySFRNTD0iIix0aGlzLl9pbnB1dC5ibHVyKCkpOihMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9pbnB1dC5mb2N1cygpLHRoaXMuX2lucHV0LnNlbGVjdCgpKX0sX2Nsb3NlSWZPcGVuOmZ1bmN0aW9uKCl7TC5Eb21VdGlsLmhhc0NsYXNzKHRoaXMuX2NvbnRhaW5lciwiYWN0aXZlIikmJiF0aGlzLm9wdGlvbnMua2VlcE9wZW4mJihMLkRvbVV0aWwucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9yZXN1bHRzLmlubmVySFRNTD0iIix0aGlzLl9pbnB1dC5ibHVyKCkpfSxvbkFkZDpmdW5jdGlvbih0KXt2YXIgZT1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtbWFwYm94LWdlb2NvZGVyIGxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbCIpLGk9TC5Eb21VdGlsLmNyZWF0ZSgiYSIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItdG9nZ2xlIG1hcGJveC1pY29uIG1hcGJveC1pY29uLWdlb2NvZGVyIixlKSxuPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItcmVzdWx0cyIsZSksbz1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtbWFwYm94LWdlb2NvZGVyLXdyYXAiLGUpLHM9TC5Eb21VdGlsLmNyZWF0ZSgiZm9ybSIsImxlYWZsZXQtY29udHJvbC1tYXBib3gtZ2VvY29kZXItZm9ybSIsbyksYT1MLkRvbVV0aWwuY3JlYXRlKCJpbnB1dCIsIiIscyk7cmV0dXJuIGkuaHJlZj0iIyIsaS5pbm5lckhUTUw9IiZuYnNwOyIsYS50eXBlPSJ0ZXh0IixhLnNldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiLCJTZWFyY2giKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKHMsInN1Ym1pdCIsdGhpcy5fZ2VvY29kZSx0aGlzKSxMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKGUpLHRoaXMuX21hcD10LHRoaXMuX3Jlc3VsdHM9bix0aGlzLl9pbnB1dD1hLHRoaXMuX2Zvcm09cyx0aGlzLm9wdGlvbnMua2VlcE9wZW4/TC5Eb21VdGlsLmFkZENsYXNzKGUsImFjdGl2ZSIpOih0aGlzLl9tYXAub24oImNsaWNrIix0aGlzLl9jbG9zZUlmT3Blbix0aGlzKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGksImNsaWNrIix0aGlzLl90b2dnbGUsdGhpcykpLGV9LF9nZW9jb2RlOmZ1bmN0aW9uKHQpe0wuRG9tRXZlbnQucHJldmVudERlZmF1bHQodCksTC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lciwic2VhcmNoaW5nIik7dmFyIGU9dGhpcy5fbWFwLGk9TC5iaW5kKGZ1bmN0aW9uKHQsaSl7aWYoTC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lciwic2VhcmNoaW5nIiksIXQmJmkmJmkucmVzdWx0cyYmaS5yZXN1bHRzLmxlbmd0aCl7aWYodGhpcy5fcmVzdWx0cy5pbm5lckhUTUw9IiIsMT09PWkucmVzdWx0cy5sZW5ndGgmJmkubGJvdW5kcyl0aGlzLl9tYXAuZml0Qm91bmRzKGkubGJvdW5kcyksdGhpcy5fY2xvc2VJZk9wZW4oKTtlbHNle2Zvcih2YXIgbj0wLG89TWF0aC5taW4oaS5yZXN1bHRzLmxlbmd0aCw1KTtvPm47bisrKXtmb3IodmFyIHM9W10sYT0wO2E8aS5yZXN1bHRzW25dLmxlbmd0aDthKyspaS5yZXN1bHRzW25dW2FdLm5hbWUmJnMucHVzaChpLnJlc3VsdHNbbl1bYV0ubmFtZSk7aWYocy5sZW5ndGgpe3ZhciByPUwuRG9tVXRpbC5jcmVhdGUoImEiLCIiLHRoaXMuX3Jlc3VsdHMpO3IuaW5uZXJIVE1MPXMuam9pbigiLCAiKSxyLmhyZWY9IiMiLGZ1bmN0aW9uKHQpe0wuRG9tRXZlbnQuYWRkTGlzdGVuZXIociwiY2xpY2siLGZ1bmN0aW9uKGkpe3ZhciBuPXRbMF0uYm91bmRzO2UuZml0Qm91bmRzKEwubGF0TG5nQm91bmRzKFtbblsxXSxuWzBdXSxbblszXSxuWzJdXV0pKSxMLkRvbUV2ZW50LnN0b3AoaSl9KX0oaS5yZXN1bHRzW25dKX19aWYoaS5yZXN1bHRzLmxlbmd0aD41KXt2YXIgbD1MLkRvbVV0aWwuY3JlYXRlKCJzcGFuIiwiIix0aGlzLl9yZXN1bHRzKTtsLmlubmVySFRNTD0iVG9wIDUgb2YgIitpLnJlc3VsdHMubGVuZ3RoKyIgIHJlc3VsdHMifX10aGlzLmZpcmUoImZvdW5kIixpKX1lbHNlIHRoaXMuZmlyZSgiZXJyb3IiLHtlcnJvcjp0fSl9LHRoaXMpO3RoaXMuZ2VvY29kZXIucXVlcnkodGhpcy5faW5wdXQudmFsdWUsaSl9fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuKHQsZSl9fSx7Ii4vZ2VvY29kZXIiOjEyfV0sMTQ6W2Z1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQ+PTkzJiZ0LS0sdD49MzUmJnQtLSx0LTMyfWUuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZih0KXt2YXIgbz1pKHQuZ3JpZFtuXS5jaGFyQ29kZUF0KGUpKSxzPXQua2V5c1tvXTtyZXR1cm4gdC5kYXRhW3NdfX19fSx7fV0sMTU6W2Z1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vdXRpbCIpLG49dCgibXVzdGFjaGUiKSxvPUwuQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bpbm5hYmxlOiEwLGZvbGxvdzohMSxzYW5pdGl6ZXI6dCgic2FuaXRpemUtY2FqYSIpLHRvdWNoVGVhc2VyOiEwLGxvY2F0aW9uOiEwfSxfY3VycmVudENvbnRlbnQ6IiIsX3Bpbm5lZDohMSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7TC5VdGlsLnNldE9wdGlvbnModGhpcyxlKSxpLnN0cmljdF9pbnN0YW5jZSh0LEwuQ2xhc3MsIkwubWFwYm94LmdyaWRMYXllciIpLHRoaXMuX2xheWVyPXR9LHNldFRlbXBsYXRlOmZ1bmN0aW9uKHQpe3JldHVybiBpLnN0cmljdCh0LCJzdHJpbmciKSx0aGlzLm9wdGlvbnMudGVtcGxhdGU9dCx0aGlzfSxfdGVtcGxhdGU6ZnVuY3Rpb24odCxlKXtpZihlKXt2YXIgaT10aGlzLm9wdGlvbnMudGVtcGxhdGV8fHRoaXMuX2xheWVyLmdldFRpbGVKU09OKCkudGVtcGxhdGU7aWYoaSl7dmFyIG89e307cmV0dXJuIG9bIl9fIit0KyJfXyJdPSEwLHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIobi50b19odG1sKGksTC5leHRlbmQobyxlKSkpfX19LF9zaG93OmZ1bmN0aW9uKHQsZSl7dCE9PXRoaXMuX2N1cnJlbnRDb250ZW50JiYodGhpcy5fY3VycmVudENvbnRlbnQ9dCx0aGlzLm9wdGlvbnMuZm9sbG93Pyh0aGlzLl9wb3B1cC5zZXRDb250ZW50KHQpLnNldExhdExuZyhlLmxhdExuZyksdGhpcy5fbWFwLl9wb3B1cCE9PXRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5vcGVuT24odGhpcy5fbWFwKSk6KHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpcy5fY29udGVudFdyYXBwZXIuaW5uZXJIVE1MPXQpKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9waW5uZWQ9ITEsdGhpcy5fY3VycmVudENvbnRlbnQ9IiIsdGhpcy5fbWFwLmNsb3NlUG9wdXAoKSx0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fY29udGVudFdyYXBwZXIuaW5uZXJIVE1MPSIiLEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsImNsb3NhYmxlIiksdGhpc30sX21vdXNlb3ZlcjpmdW5jdGlvbih0KXtpZih0LmRhdGE/TC5Eb21VdGlsLmFkZENsYXNzKHRoaXMuX21hcC5fY29udGFpbmVyLCJtYXAtY2xpY2thYmxlIik6TC5Eb21VdGlsLnJlbW92ZUNsYXNzKHRoaXMuX21hcC5fY29udGFpbmVyLCJtYXAtY2xpY2thYmxlIiksIXRoaXMuX3Bpbm5lZCl7dmFyIGU9dGhpcy5fdGVtcGxhdGUoInRlYXNlciIsdC5kYXRhKTtlP3RoaXMuX3Nob3coZSx0KTp0aGlzLmhpZGUoKX19LF9tb3VzZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy5fcGlubmVkfHx0aGlzLm9wdGlvbnMuZm9sbG93JiZ0aGlzLl9wb3B1cC5zZXRMYXRMbmcodC5sYXRMbmcpfSxfbmF2aWdhdGVUbzpmdW5jdGlvbih0KXt3aW5kb3cudG9wLmxvY2F0aW9uLmhyZWY9dH0sX2NsaWNrOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3RlbXBsYXRlKCJsb2NhdGlvbiIsdC5kYXRhKTtpZih0aGlzLm9wdGlvbnMubG9jYXRpb24mJmUmJjA9PT1lLnNlYXJjaCgvXmh0dHBzPzovKSlyZXR1cm4gdGhpcy5fbmF2aWdhdGVUbyh0aGlzLl90ZW1wbGF0ZSgibG9jYXRpb24iLHQuZGF0YSkpO2lmKHRoaXMub3B0aW9ucy5waW5uYWJsZSl7dmFyIGk9dGhpcy5fdGVtcGxhdGUoImZ1bGwiLHQuZGF0YSk7IWkmJnRoaXMub3B0aW9ucy50b3VjaFRlYXNlciYmTC5Ccm93c2VyLnRvdWNoJiYoaT10aGlzLl90ZW1wbGF0ZSgidGVhc2VyIix0LmRhdGEpKSxpPyhMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCJjbG9zYWJsZSIpLHRoaXMuX3Bpbm5lZD0hMCx0aGlzLl9zaG93KGksdCkpOnRoaXMuX3Bpbm5lZCYmKEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsImNsb3NhYmxlIiksdGhpcy5fcGlubmVkPSExLHRoaXMuaGlkZSgpKX19LF9vblBvcHVwQ2xvc2U6ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50Q29udGVudD1udWxsLHRoaXMuX3Bpbm5lZD0hMX0sX2NyZWF0ZUNsb3NlYnV0dG9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9TC5Eb21VdGlsLmNyZWF0ZSgiYSIsImNsb3NlIix0KTtyZXR1cm4gaS5pbm5lckhUTUw9ImNsb3NlIixpLmhyZWY9IiMiLGkudGl0bGU9ImNsb3NlIixMLkRvbUV2ZW50Lm9uKGksImNsaWNrIixMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbikub24oaSwibW91c2Vkb3duIixMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbikub24oaSwiZGJsY2xpY2siLEwuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKS5vbihpLCJjbGljayIsTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCkub24oaSwiY2xpY2siLGUsdGhpcyksaX0sb25BZGQ6ZnVuY3Rpb24odCl7dGhpcy5fbWFwPXQ7dmFyIGU9ImxlYWZsZXQtY29udHJvbC1ncmlkIG1hcC10b29sdGlwIixpPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsZSksbj1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJtYXAtdG9vbHRpcC1jb250ZW50Iik7cmV0dXJuIGkuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fY3JlYXRlQ2xvc2VidXR0b24oaSx0aGlzLmhpZGUpLGkuYXBwZW5kQ2hpbGQobiksdGhpcy5fY29udGVudFdyYXBwZXI9bix0aGlzLl9wb3B1cD1uZXcgTC5Qb3B1cCh7YXV0b1BhbjohMSxjbG9zZU9uQ2xpY2s6ITF9KSx0Lm9uKCJwb3B1cGNsb3NlIix0aGlzLl9vblBvcHVwQ2xvc2UsdGhpcyksTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihpKS5hZGRMaXN0ZW5lcihpLCJtb3VzZXdoZWVsIixMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbiksdGhpcy5fbGF5ZXIub24oIm1vdXNlb3ZlciIsdGhpcy5fbW91c2VvdmVyLHRoaXMpLm9uKCJtb3VzZW1vdmUiLHRoaXMuX21vdXNlbW92ZSx0aGlzKS5vbigiY2xpY2siLHRoaXMuX2NsaWNrLHRoaXMpLGl9LG9uUmVtb3ZlOmZ1bmN0aW9uKHQpe3Qub2ZmKCJwb3B1cGNsb3NlIix0aGlzLl9vblBvcHVwQ2xvc2UsdGhpcyksdGhpcy5fbGF5ZXIub2ZmKCJtb3VzZW92ZXIiLHRoaXMuX21vdXNlb3Zlcix0aGlzKS5vZmYoIm1vdXNlbW92ZSIsdGhpcy5fbW91c2Vtb3ZlLHRoaXMpLm9mZigiY2xpY2siLHRoaXMuX2NsaWNrLHRoaXMpfX0pO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbyh0LGUpfX0seyIuL3V0aWwiOjI3LG11c3RhY2hlOjcsInNhbml0aXplLWNhamEiOjh9XSwxNjpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi91dGlsIiksbj0odCgiLi91cmwiKSx0KCIuL3JlcXVlc3QiKSksbz10KCIuL2dyaWQiKSxzPUwuQ2xhc3MuZXh0ZW5kKHtpbmNsdWRlczpbTC5NaXhpbi5FdmVudHMsdCgiLi9sb2FkX3RpbGVqc29uIildLG9wdGlvbnM6e3RlbXBsYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIiJ9fSxfbW91c2VPbjpudWxsLF90aWxlanNvbjp7fSxfY2FjaGU6e30saW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUpe0wuVXRpbC5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5fbG9hZFRpbGVKU09OKHQpfSxfc2V0VGlsZUpTT046ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaWN0KHQsIm9iamVjdCIpLEwuZXh0ZW5kKHRoaXMub3B0aW9ucyx7Z3JpZHM6dC5ncmlkcyxtaW5ab29tOnQubWluem9vbSxtYXhab29tOnQubWF4em9vbSxib3VuZHM6dC5ib3VuZHMmJmkubGJvdW5kcyh0LmJvdW5kcyl9KSx0aGlzLl90aWxlanNvbj10LHRoaXMuX2NhY2hlPXt9LHRoaXMuX3VwZGF0ZSgpLHRoaXN9LGdldFRpbGVKU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbGVqc29ufSxhY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLl9tYXAmJnRoaXMub3B0aW9ucy5ncmlkcyYmdGhpcy5vcHRpb25zLmdyaWRzLmxlbmd0aCl9LGFkZFRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmFkZExheWVyKHRoaXMpLHRoaXN9LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX21hcD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuX21hcC5vbigiY2xpY2siLHRoaXMuX2NsaWNrLHRoaXMpLm9uKCJtb3VzZW1vdmUiLHRoaXMuX21vdmUsdGhpcykub24oIm1vdmVlbmQiLHRoaXMuX3VwZGF0ZSx0aGlzKX0sb25SZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLl9tYXAub2ZmKCJjbGljayIsdGhpcy5fY2xpY2ssdGhpcykub2ZmKCJtb3VzZW1vdmUiLHRoaXMuX21vdmUsdGhpcykub2ZmKCJtb3ZlZW5kIix0aGlzLl91cGRhdGUsdGhpcyl9LGdldERhdGE6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmFjdGl2ZSgpKXt2YXIgaT10aGlzLl9tYXAsbj1pLnByb2plY3QodC53cmFwKCkpLG89MjU2LHM9NCxhPU1hdGguZmxvb3Iobi54L28pLHI9TWF0aC5mbG9vcihuLnkvbyksbD1pLm9wdGlvbnMuY3JzLnNjYWxlKGkuZ2V0Wm9vbSgpKS9vO3JldHVybiBhPShhK2wpJWwscj0ocitsKSVsLHRoaXMuX2dldFRpbGUoaS5nZXRab29tKCksYSxyLGZ1bmN0aW9uKHQpe3ZhciBpPU1hdGguZmxvb3IoKG4ueC1hKm8pL3MpLGw9TWF0aC5mbG9vcigobi55LXIqbykvcyk7ZSh0KGksbCkpfSksdGhpc319LF9jbGljazpmdW5jdGlvbih0KXt0aGlzLmdldERhdGEodC5sYXRsbmcsTC5iaW5kKGZ1bmN0aW9uKGUpe3RoaXMuZmlyZSgiY2xpY2siLHtsYXRMbmc6dC5sYXRsbmcsZGF0YTplfSl9LHRoaXMpKX0sX21vdmU6ZnVuY3Rpb24odCl7dGhpcy5nZXREYXRhKHQubGF0bG5nLEwuYmluZChmdW5jdGlvbihlKXtlIT09dGhpcy5fbW91c2VPbj8odGhpcy5fbW91c2VPbiYmdGhpcy5maXJlKCJtb3VzZW91dCIse2xhdExuZzp0LmxhdGxuZyxkYXRhOnRoaXMuX21vdXNlT259KSx0aGlzLmZpcmUoIm1vdXNlb3ZlciIse2xhdExuZzp0LmxhdGxuZyxkYXRhOmV9KSx0aGlzLl9tb3VzZU9uPWUpOnRoaXMuZmlyZSgibW91c2Vtb3ZlIix7bGF0TG5nOnQubGF0bG5nLGRhdGE6ZX0pfSx0aGlzKSl9LF9nZXRUaWxlVVJMOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5ncmlkcyxpPSh0LngrdC55KSVlLmxlbmd0aCxuPWVbaV07cmV0dXJuIEwuVXRpbC50ZW1wbGF0ZShuLHQpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUoKSl7dmFyIHQ9dGhpcy5fbWFwLmdldFBpeGVsQm91bmRzKCksZT10aGlzLl9tYXAuZ2V0Wm9vbSgpLGk9MjU2O2lmKCEoZT50aGlzLm9wdGlvbnMubWF4Wm9vbXx8ZTx0aGlzLm9wdGlvbnMubWluWm9vbSkpZm9yKHZhciBuPW5ldyBMLlBvaW50KE1hdGguZmxvb3IodC5taW4ueC9pKSxNYXRoLmZsb29yKHQubWluLnkvaSkpLG89bmV3IEwuUG9pbnQoTWF0aC5mbG9vcih0Lm1heC54L2kpLE1hdGguZmxvb3IodC5tYXgueS9pKSkscz10aGlzLl9tYXAub3B0aW9ucy5jcnMuc2NhbGUoZSkvaSxhPW4ueDthPD1vLng7YSsrKWZvcih2YXIgcj1uLnk7cjw9by55O3IrKyl7dmFyIGw9KGErcyklcyxoPShyK3MpJXM7dGhpcy5fZ2V0VGlsZShlLGwsaCl9fX0sX2dldFRpbGU6ZnVuY3Rpb24odCxlLGkscyl7dmFyIGE9dCsiXyIrZSsiXyIraSxyPUwucG9pbnQoZSxpKTtpZihyLno9dCx0aGlzLl90aWxlU2hvdWxkQmVMb2FkZWQocikpe2lmKGEgaW4gdGhpcy5fY2FjaGUpe2lmKCFzKXJldHVybjtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fY2FjaGVbYV0/cyh0aGlzLl9jYWNoZVthXSk6dGhpcy5fY2FjaGVbYV0ucHVzaChzKSx2b2lkIDB9dGhpcy5fY2FjaGVbYV09W10scyYmdGhpcy5fY2FjaGVbYV0ucHVzaChzKSxuKHRoaXMuX2dldFRpbGVVUkwociksTC5iaW5kKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fY2FjaGVbYV07dGhpcy5fY2FjaGVbYV09byhlKTtmb3IodmFyIG49MDtuPGkubGVuZ3RoOysrbilpW25dKHRoaXMuX2NhY2hlW2FdKX0sdGhpcykpfX0sX3RpbGVTaG91bGRCZUxvYWRlZDpmdW5jdGlvbih0KXtpZih0Lno+dGhpcy5vcHRpb25zLm1heFpvb218fHQuejx0aGlzLm9wdGlvbnMubWluWm9vbSlyZXR1cm4hMTtpZih0aGlzLm9wdGlvbnMuYm91bmRzKXt2YXIgZT0yNTYsaT10Lm11bHRpcGx5QnkoZSksbj1pLmFkZChuZXcgTC5Qb2ludChlLGUpKSxvPXRoaXMuX21hcC51bnByb2plY3QoaSkscz10aGlzLl9tYXAudW5wcm9qZWN0KG4pLGE9bmV3IEwuTGF0TG5nQm91bmRzKFtvLHNdKTtpZighdGhpcy5vcHRpb25zLmJvdW5kcy5pbnRlcnNlY3RzKGEpKXJldHVybiExfXJldHVybiEwfX0pO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcyh0LGUpfX0seyIuL2dyaWQiOjE0LCIuL2xvYWRfdGlsZWpzb24iOjE5LCIuL3JlcXVlc3QiOjIzLCIuL3VybCI6MjYsIi4vdXRpbCI6Mjd9XSwxNzpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9TC5Db250cm9sLmV4dGVuZCh7b3B0aW9uczp7cG9zaXRpb246ImJvdHRvbXJpZ2h0IixzYW5pdGl6ZXI6dCgic2FuaXRpemUtY2FqYSIpLGVkaXRMaW5rOiExfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQpe0wuc2V0T3B0aW9ucyh0aGlzLHQpLHRoaXMuX2luZm89e319LG9uQWRkOmZ1bmN0aW9uKHQpe3RoaXMuX2NvbnRhaW5lcj1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJtYXBib3gtY29udHJvbC1pbmZvIG1hcGJveC1zbWFsbCIpLHRoaXMuX2NvbnRlbnQ9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwLWluZm8tY29udGFpbmVyIix0aGlzLl9jb250YWluZXIpLCgiYm90dG9tcmlnaHQiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9ufHwidG9wcmlnaHQiPT09dGhpcy5vcHRpb25zLnBvc2l0aW9uKSYmKHRoaXMuX2NvbnRhaW5lci5jbGFzc05hbWUrPSIgbWFwYm94LWNvbnRyb2wtaW5mby1yaWdodCIpO3ZhciBlPUwuRG9tVXRpbC5jcmVhdGUoImEiLCJtYXBib3gtaW5mby10b2dnbGUgbWFwYm94LWljb24gbWFwYm94LWljb24taW5mbyIsdGhpcy5fY29udGFpbmVyKTtlLmhyZWY9IiMiLEwuRG9tRXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLHRoaXMuX3Nob3dJbmZvLHRoaXMpLEwuRG9tRXZlbnQuZGlzYWJsZUNsaWNrUHJvcGFnYXRpb24odGhpcy5fY29udGFpbmVyKTtmb3IodmFyIGkgaW4gdC5fbGF5ZXJzKXQuX2xheWVyc1tpXS5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hZGRJbmZvKHQuX2xheWVyc1tpXS5nZXRBdHRyaWJ1dGlvbigpKTtyZXR1cm4gdC5vbigibGF5ZXJhZGQiLHRoaXMuX29uTGF5ZXJBZGQsdGhpcykub24oImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlLHRoaXMpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2NvbnRhaW5lcn0sb25SZW1vdmU6ZnVuY3Rpb24odCl7dC5vZmYoImxheWVyYWRkIix0aGlzLl9vbkxheWVyQWRkKS5vZmYoImxheWVycmVtb3ZlIix0aGlzLl9vbkxheWVyUmVtb3ZlKX0sYWRkSW5mbzpmdW5jdGlvbih0KXtyZXR1cm4gdD8odGhpcy5faW5mb1t0XXx8KHRoaXMuX2luZm9bdF09MCksdGhpcy5faW5mb1t0XSsrLHRoaXMuX3VwZGF0ZSgpKTp0aGlzfSxyZW1vdmVJbmZvOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLl9pbmZvW3RdJiZ0aGlzLl9pbmZvW3RdLS0sdGhpcy5fdXBkYXRlKCkpOnRoaXN9LF9zaG93SW5mbzpmdW5jdGlvbih0KXtyZXR1cm4gTC5Eb21FdmVudC5wcmV2ZW50RGVmYXVsdCh0KSx0aGlzLl9hY3RpdmU9PT0hMD90aGlzLl9oaWRlY29udGVudCgpOihMLkRvbVV0aWwuYWRkQ2xhc3ModGhpcy5fY29udGFpbmVyLCJhY3RpdmUiKSx0aGlzLl9hY3RpdmU9ITAsdGhpcy5fdXBkYXRlKCksdm9pZCAwKX0sX2hpZGVjb250ZW50OmZ1bmN0aW9uKCl7dGhpcy5fY29udGVudC5pbm5lckhUTUw9IiIsdGhpcy5fYWN0aXZlPSExLEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9jb250YWluZXIsImFjdGl2ZSIpfSxfdXBkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX21hcClyZXR1cm4gdGhpczt0aGlzLl9jb250ZW50LmlubmVySFRNTD0iIjt2YXIgdD0ibm9uZSIsZT1bXTtmb3IodmFyIGkgaW4gdGhpcy5faW5mbyl0aGlzLl9pbmZvLmhhc093blByb3BlcnR5KGkpJiZ0aGlzLl9pbmZvW2ldJiYoZS5wdXNoKHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoaSkpLHQ9ImJsb2NrIik7aWYodGhpcy5fY29udGVudC5pbm5lckhUTUwrPWUuam9pbigiIHwgIiksdGhpcy5vcHRpb25zLmVkaXRMaW5rJiYhTC5Ccm93c2VyLm1vYmlsZSl7dGhpcy5fY29udGVudC5pbm5lckhUTUwrPWUubGVuZ3RoPyIgfCAiOiIiO3ZhciBuPUwuRG9tVXRpbC5jcmVhdGUoImEiLCIiLHRoaXMuX2NvbnRlbnQpO24uaHJlZj0iIyIsbi5pbm5lckhUTUw9IkltcHJvdmUgdGhpcyBtYXAiLG4udGl0bGU9IkVkaXQgaW4gT3BlblN0cmVldE1hcCIsTC5Eb21FdmVudC5vbihuLCJjbGljayIsTC5iaW5kKHRoaXMuX29zbWxpbmssdGhpcyksdGhpcyl9cmV0dXJuIHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PXQsdGhpc30sX29zbWxpbms6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYXAuZ2V0Q2VudGVyKCksZT10aGlzLl9tYXAuZ2V0Wm9vbSgpO3dpbmRvdy5vcGVuKCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2VkaXQ/em9vbT0iK2UrIiZsYXQ9Iit0LmxhdCsiJmxvbj0iK3QubG5nKX0sX29uTGF5ZXJBZGQ6ZnVuY3Rpb24odCl7dC5sYXllci5nZXRBdHRyaWJ1dGlvbiYmdGhpcy5hZGRJbmZvKHQubGF5ZXIuZ2V0QXR0cmlidXRpb24oKSksIm9uImluIHQubGF5ZXImJnQubGF5ZXIuZ2V0QXR0cmlidXRpb24mJnQubGF5ZXIub24oInJlYWR5IixMLmJpbmQoZnVuY3Rpb24oKXt0aGlzLmFkZEluZm8odC5sYXllci5nZXRBdHRyaWJ1dGlvbigpKX0sdGhpcykpfSxfb25MYXllclJlbW92ZTpmdW5jdGlvbih0KXt0LmxheWVyLmdldEF0dHJpYnV0aW9uJiZ0aGlzLnJlbW92ZUluZm8odC5sYXllci5nZXRBdHRyaWJ1dGlvbigpKX19KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpKHQpfX0seyJzYW5pdGl6ZS1jYWphIjo4fV0sMTg6W2Z1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO3ZhciBpPUwuQ29udHJvbC5leHRlbmQoe29wdGlvbnM6e3Bvc2l0aW9uOiJib3R0b21yaWdodCIsc2FuaXRpemVyOnQoInNhbml0aXplLWNhamEiKX0saW5pdGlhbGl6ZTpmdW5jdGlvbih0KXtMLnNldE9wdGlvbnModGhpcyx0KSx0aGlzLl9sZWdlbmRzPXt9fSxvbkFkZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250YWluZXI9TC5Eb21VdGlsLmNyZWF0ZSgiZGl2IiwibWFwLWxlZ2VuZHMgd2F4LWxlZ2VuZHMiKSxMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHRoaXMuX2NvbnRhaW5lciksdGhpcy5fdXBkYXRlKCksdGhpcy5fY29udGFpbmVyfSxhZGRMZWdlbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHRoaXMuX2xlZ2VuZHNbdF18fCh0aGlzLl9sZWdlbmRzW3RdPTApLHRoaXMuX2xlZ2VuZHNbdF0rKyx0aGlzLl91cGRhdGUoKSk6dGhpc30scmVtb3ZlTGVnZW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLl9sZWdlbmRzW3RdJiZ0aGlzLl9sZWdlbmRzW3RdLS0sdGhpcy5fdXBkYXRlKCkpOnRoaXN9LF91cGRhdGU6ZnVuY3Rpb24oKXtpZighdGhpcy5fbWFwKXJldHVybiB0aGlzO3RoaXMuX2NvbnRhaW5lci5pbm5lckhUTUw9IiI7dmFyIHQ9Im5vbmUiO2Zvcih2YXIgZSBpbiB0aGlzLl9sZWdlbmRzKWlmKHRoaXMuX2xlZ2VuZHMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuX2xlZ2VuZHNbZV0pe3ZhciBpPUwuRG9tVXRpbC5jcmVhdGUoImRpdiIsIm1hcC1sZWdlbmQgd2F4LWxlZ2VuZCIsdGhpcy5fY29udGFpbmVyKTtpLmlubmVySFRNTD10aGlzLm9wdGlvbnMuc2FuaXRpemVyKGUpLHQ9ImJsb2NrIn1yZXR1cm4gdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9dCx0aGlzfX0pO2UuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkodCl9fSx7InNhbml0aXplLWNhamEiOjh9XSwxOTpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9yZXF1ZXN0Iiksbj10KCIuL3VybCIpLG89dCgiLi91dGlsIik7ZS5leHBvcnRzPXtfbG9hZFRpbGVKU09OOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdD8oLTE9PXQuaW5kZXhPZigiLyIpJiYodD1uLmJhc2UoKSt0KyIuanNvbiIpLGkobi5zZWN1cmVGbGFnKHQpLEwuYmluZChmdW5jdGlvbihlLGkpe2U/KG8ubG9nKCJjb3VsZCBub3QgbG9hZCBUaWxlSlNPTiBhdCAiK3QpLHRoaXMuZmlyZSgiZXJyb3IiLHtlcnJvcjplfSkpOmkmJih0aGlzLl9zZXRUaWxlSlNPTihpKSx0aGlzLmZpcmUoInJlYWR5IikpfSx0aGlzKSkpOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmdGhpcy5fc2V0VGlsZUpTT04odCl9fX0seyIuL3JlcXVlc3QiOjIzLCIuL3VybCI6MjYsIi4vdXRpbCI6Mjd9XSwyMDpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7dmFyIGk9KHQoIi4vdXRpbCIpLHQoIi4vdGlsZV9sYXllciIpKSxuPXQoIi4vbWFya2VyX2xheWVyIiksbz10KCIuL2dyaWRfbGF5ZXIiKSxzPXQoIi4vZ3JpZF9jb250cm9sIiksYT10KCIuL2luZm9fY29udHJvbCIpLHI9dCgiLi9zaGFyZV9jb250cm9sIiksbD10KCIuL2xlZ2VuZF9jb250cm9sIiksaD1MLk1hcC5leHRlbmQoe2luY2x1ZGVzOlt0KCIuL2xvYWRfdGlsZWpzb24iKV0sb3B0aW9uczp7dGlsZUxheWVyOnt9LG1hcmtlckxheWVyOnt9LGdyaWRMYXllcjp7fSxsZWdlbmRDb250cm9sOnt9LGdyaWRDb250cm9sOnt9LGluZm9Db250cm9sOnt9LGF0dHJpYnV0aW9uQ29udHJvbDohMSxzaGFyZUNvbnRyb2w6ITF9LF90aWxlanNvbjp7fSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSxoKXtMLk1hcC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdCxoKSx0aGlzLmF0dHJpYnV0aW9uQ29udHJvbCYmdGhpcy5hdHRyaWJ1dGlvbkNvbnRyb2wuc2V0UHJlZml4KCIiKSx0aGlzLm9wdGlvbnMudGlsZUxheWVyJiYodGhpcy50aWxlTGF5ZXI9aSh2b2lkIDAsdGhpcy5vcHRpb25zLnRpbGVMYXllciksdGhpcy5hZGRMYXllcih0aGlzLnRpbGVMYXllcikpLHRoaXMub3B0aW9ucy5tYXJrZXJMYXllciYmKHRoaXMubWFya2VyTGF5ZXI9bih2b2lkIDAsdGhpcy5vcHRpb25zLm1hcmtlckxheWVyKSx0aGlzLmFkZExheWVyKHRoaXMubWFya2VyTGF5ZXIpKSx0aGlzLm9wdGlvbnMuZ3JpZExheWVyJiYodGhpcy5ncmlkTGF5ZXI9byh2b2lkIDAsdGhpcy5vcHRpb25zLmdyaWRMYXllciksdGhpcy5hZGRMYXllcih0aGlzLmdyaWRMYXllcikpLHRoaXMub3B0aW9ucy5ncmlkTGF5ZXImJnRoaXMub3B0aW9ucy5ncmlkQ29udHJvbCYmKHRoaXMuZ3JpZENvbnRyb2w9cyh0aGlzLmdyaWRMYXllcix0aGlzLm9wdGlvbnMuZ3JpZENvbnRyb2wpLHRoaXMuYWRkQ29udHJvbCh0aGlzLmdyaWRDb250cm9sKSksdGhpcy5vcHRpb25zLmluZm9Db250cm9sJiYodGhpcy5pbmZvQ29udHJvbD1hKHRoaXMub3B0aW9ucy5pbmZvQ29udHJvbCksdGhpcy5hZGRDb250cm9sKHRoaXMuaW5mb0NvbnRyb2wpKSx0aGlzLm9wdGlvbnMubGVnZW5kQ29udHJvbCYmKHRoaXMubGVnZW5kQ29udHJvbD1sKHRoaXMub3B0aW9ucy5sZWdlbmRDb250cm9sKSx0aGlzLmFkZENvbnRyb2wodGhpcy5sZWdlbmRDb250cm9sKSksdGhpcy5vcHRpb25zLnNoYXJlQ29udHJvbCYmKHRoaXMuc2hhcmVDb250cm9sPXIodGhpcy5vcHRpb25zLnNoYXJlQ29udHJvbCksdGhpcy5hZGRDb250cm9sKHRoaXMuc2hhcmVDb250cm9sKSksdGhpcy5fbG9hZFRpbGVKU09OKGUpfSxhZGRMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4ib24iaW4gdCYmdC5vbigicmVhZHkiLEwuYmluZChmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZUxheWVyKHQpfSx0aGlzKSksTC5NYXAucHJvdG90eXBlLmFkZExheWVyLmNhbGwodGhpcyx0KX0sX3NldFRpbGVKU09OOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90aWxlanNvbj10LHRoaXMuX2luaXRpYWxpemUodCksdGhpc30sZ2V0VGlsZUpTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGlsZWpzb259LF9pbml0aWFsaXplOmZ1bmN0aW9uKHQpe2lmKHRoaXMudGlsZUxheWVyJiYodGhpcy50aWxlTGF5ZXIuX3NldFRpbGVKU09OKHQpLHRoaXMuX3VwZGF0ZUxheWVyKHRoaXMudGlsZUxheWVyKSksdGhpcy5tYXJrZXJMYXllciYmIXRoaXMubWFya2VyTGF5ZXIuZ2V0R2VvSlNPTigpJiZ0LmRhdGEmJnQuZGF0YVswXSYmdGhpcy5tYXJrZXJMYXllci5sb2FkVVJMKHQuZGF0YVswXSksdGhpcy5ncmlkTGF5ZXImJih0aGlzLmdyaWRMYXllci5fc2V0VGlsZUpTT04odCksdGhpcy5fdXBkYXRlTGF5ZXIodGhpcy5ncmlkTGF5ZXIpKSx0aGlzLmluZm9Db250cm9sJiZ0LmF0dHJpYnV0aW9uJiZ0aGlzLmluZm9Db250cm9sLmFkZEluZm8odC5hdHRyaWJ1dGlvbiksdGhpcy5sZWdlbmRDb250cm9sJiZ0LmxlZ2VuZCYmdGhpcy5sZWdlbmRDb250cm9sLmFkZExlZ2VuZCh0LmxlZ2VuZCksdGhpcy5zaGFyZUNvbnRyb2wmJnRoaXMuc2hhcmVDb250cm9sLl9zZXRUaWxlSlNPTih0KSwhdGhpcy5fbG9hZGVkKXt2YXIgZT10LmNlbnRlclsyXSxpPUwubGF0TG5nKHQuY2VudGVyWzFdLHQuY2VudGVyWzBdKTt0aGlzLnNldFZpZXcoaSxlKX19LF91cGRhdGVMYXllcjpmdW5jdGlvbih0KXt0Lm9wdGlvbnMmJih0aGlzLmluZm9Db250cm9sJiZ0aGlzLl9sb2FkZWQmJnRoaXMuaW5mb0NvbnRyb2wuYWRkSW5mbyh0Lm9wdGlvbnMuaW5mb0NvbnRyb2wpLEwuc3RhbXAodClpbiB0aGlzLl96b29tQm91bmRMYXllcnN8fCF0Lm9wdGlvbnMubWF4Wm9vbSYmIXQub3B0aW9ucy5taW5ab29tfHwodGhpcy5fem9vbUJvdW5kTGF5ZXJzW0wuc3RhbXAodCldPXQpLHRoaXMuX3VwZGF0ZVpvb21MZXZlbHMoKSl9fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IGgodCxlLGkpfX0seyIuL2dyaWRfY29udHJvbCI6MTUsIi4vZ3JpZF9sYXllciI6MTYsIi4vaW5mb19jb250cm9sIjoxNywiLi9sZWdlbmRfY29udHJvbCI6MTgsIi4vbG9hZF90aWxlanNvbiI6MTksIi4vbWFya2VyX2xheWVyIjoyMiwiLi9zaGFyZV9jb250cm9sIjoyNCwiLi90aWxlX2xheWVyIjoyNSwiLi91dGlsIjoyN31dLDIxOltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKHQpe3Q9dHx8e307dmFyIGU9e3NtYWxsOlsyMCw1MF0sbWVkaXVtOlszMCw3MF0sbGFyZ2U6WzM1LDkwXX0saT10WyJtYXJrZXItc2l6ZSJdfHwibWVkaXVtIixuPXRbIm1hcmtlci1zeW1ib2wiXT8iLSIrdFsibWFya2VyLXN5bWJvbCJdOiIiLG89KHRbIm1hcmtlci1jb2xvciJdfHwiN2U3ZTdlIikucmVwbGFjZSgiIyIsIiIpO3JldHVybiBMLmljb24oe2ljb25Vcmw6cy5iYXNlKCkrIm1hcmtlci9waW4tIitpLmNoYXJBdCgwKStuKyIrIitvKyhMLkJyb3dzZXIucmV0aW5hPyJAMngiOiIiKSsiLnBuZyIsaWNvblNpemU6ZVtpXSxpY29uQW5jaG9yOltlW2ldWzBdLzIsZVtpXVsxXS8yXSxwb3B1cEFuY2hvcjpbMCwtZVtpXVsxXS8yXX0pfWZ1bmN0aW9uIG4odCxlKXtyZXR1cm4gTC5tYXJrZXIoZSx7aWNvbjppKHQucHJvcGVydGllcyksdGl0bGU6YS5zdHJpcF90YWdzKHIodC5wcm9wZXJ0aWVzJiZ0LnByb3BlcnRpZXMudGl0bGV8fCIiKSl9KX1mdW5jdGlvbiBvKHQsZSl7aWYoIXR8fCF0LnByb3BlcnRpZXMpcmV0dXJuIiI7dmFyIGk9IiI7cmV0dXJuIHQucHJvcGVydGllcy50aXRsZSYmKGkrPSc8ZGl2IGNsYXNzPSJtYXJrZXItdGl0bGUiPicrdC5wcm9wZXJ0aWVzLnRpdGxlKyI8L2Rpdj4iKSx0LnByb3BlcnRpZXMuZGVzY3JpcHRpb24mJihpKz0nPGRpdiBjbGFzcz0ibWFya2VyLWRlc2NyaXB0aW9uIj4nK3QucHJvcGVydGllcy5kZXNjcmlwdGlvbisiPC9kaXY+IiksKGV8fHIpKGkpfXZhciBzPXQoIi4vdXJsIiksYT10KCIuL3V0aWwiKSxyPXQoInNhbml0aXplLWNhamEiKTtlLmV4cG9ydHM9e2ljb246aSxzdHlsZTpuLGNyZWF0ZVBvcHVwOm99fSx7Ii4vdXJsIjoyNiwiLi91dGlsIjoyNywic2FuaXRpemUtY2FqYSI6OH1dLDIyOltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT10KCIuL3V0aWwiKSxuPXQoIi4vdXJsIiksbz10KCIuL3JlcXVlc3QiKSxzPXQoIi4vbWFya2VyIiksYT1MLkZlYXR1cmVHcm91cC5leHRlbmQoe29wdGlvbnM6e2ZpbHRlcjpmdW5jdGlvbigpe3JldHVybiEwfSxzYW5pdGl6ZXI6dCgic2FuaXRpemUtY2FqYSIpfSxpbml0aWFsaXplOmZ1bmN0aW9uKHQsZSl7TC5zZXRPcHRpb25zKHRoaXMsZSksdGhpcy5fbGF5ZXJzPXt9LCJzdHJpbmciPT10eXBlb2YgdD9pLmlkVXJsKHQsdGhpcyk6dCYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0aGlzLnNldEdlb0pTT04odCl9LHNldEdlb0pTT046ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dlb2pzb249dCx0aGlzLmNsZWFyTGF5ZXJzKCksdGhpcy5faW5pdGlhbGl6ZSh0KSx0aGlzfSxnZXRHZW9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb2pzb259LGxvYWRVUkw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlcXVlc3QmJiJhYm9ydCJpbiB0aGlzLl9yZXF1ZXN0JiZ0aGlzLl9yZXF1ZXN0LmFib3J0KCksdD1uLmpzb25pZnkodCksdGhpcy5fcmVxdWVzdD1vKHQsTC5iaW5kKGZ1bmN0aW9uKGUsbil7dGhpcy5fcmVxdWVzdD1udWxsLGUmJiJhYm9ydCIhPT1lLnR5cGU/KGkubG9nKCJjb3VsZCBub3QgbG9hZCBtYXJrZXJzIGF0ICIrdCksdGhpcy5maXJlKCJlcnJvciIse2Vycm9yOmV9KSk6biYmKHRoaXMuc2V0R2VvSlNPTihuKSx0aGlzLmZpcmUoInJlYWR5IikpfSx0aGlzKSksdGhpc30sbG9hZElEOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvYWRVUkwobi5iYXNlKCkrdCsiL21hcmtlcnMuZ2VvanNvbiIpfSxzZXRGaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5maWx0ZXI9dCx0aGlzLl9nZW9qc29uJiYodGhpcy5jbGVhckxheWVycygpLHRoaXMuX2luaXRpYWxpemUodGhpcy5fZ2VvanNvbikpLHRoaXN9LGdldEZpbHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuZmlsdGVyfSxfaW5pdGlhbGl6ZTpmdW5jdGlvbih0KXt2YXIgZSxpLG49TC5VdGlsLmlzQXJyYXkodCk/dDp0LmZlYXR1cmVzO2lmKG4pZm9yKGU9MCxpPW4ubGVuZ3RoO2k+ZTtlKyspKG5bZV0uZ2VvbWV0cmllc3x8bltlXS5nZW9tZXRyeXx8bltlXS5mZWF0dXJlcykmJnRoaXMuX2luaXRpYWxpemUobltlXSk7ZWxzZSBpZih0aGlzLm9wdGlvbnMuZmlsdGVyKHQpKXt2YXIgbz1MLkdlb0pTT04uZ2VvbWV0cnlUb0xheWVyKHQscy5zdHlsZSksYT1zLmNyZWF0ZVBvcHVwKHQsdGhpcy5vcHRpb25zLnNhbml0aXplcik7by5mZWF0dXJlPXQsYSYmby5iaW5kUG9wdXAoYSx7Y2xvc2VCdXR0b246ITF9KSx0aGlzLmFkZExheWVyKG8pfX19KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGEodCxlKX19LHsiLi9tYXJrZXIiOjIxLCIuL3JlcXVlc3QiOjIzLCIuL3VybCI6MjYsIi4vdXRpbCI6MjcsInNhbml0aXplLWNhamEiOjh9XSwyMzpbZnVuY3Rpb24odCxlKXt2YXIgaT10KCJjb3JzbGl0ZSIpLG49dCgianNvbjMiKSxvPXQoIi4vdXRpbCIpLnN0cmljdDtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcyh0LGkpeyF0JiZpJiYoaT0iZyI9PWkucmVzcG9uc2VUZXh0WzBdP24ucGFyc2UoaS5yZXNwb25zZVRleHQuc3Vic3RyaW5nKDUsaS5yZXNwb25zZVRleHQubGVuZ3RoLTIpKTpuLnBhcnNlKGkucmVzcG9uc2VUZXh0KSksZSh0LGkpfXJldHVybiBvKHQsInN0cmluZyIpLG8oZSwiZnVuY3Rpb24iKSxpKHQscyl9fSx7Ii4vdXRpbCI6MjcsY29yc2xpdGU6NCxqc29uMzo1fV0sMjQ6W2Z1bmN0aW9uKHQsZSl7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vdXJsIiksbj1MLkNvbnRyb2wuZXh0ZW5kKHtpbmNsdWRlczpbdCgiLi9sb2FkX3RpbGVqc29uIildLG9wdGlvbnM6e3Bvc2l0aW9uOiJ0b3BsZWZ0Iix1cmw6IiJ9LGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtMLnNldE9wdGlvbnModGhpcyxlKSx0aGlzLl9sb2FkVGlsZUpTT04odCl9LF9zZXRUaWxlSlNPTjpmdW5jdGlvbih0KXt0aGlzLl90aWxlanNvbj10fSxvbkFkZDpmdW5jdGlvbih0KXt0aGlzLl9tYXA9dCx0aGlzLl91cmw9aTt2YXIgZT1MLkRvbVV0aWwuY3JlYXRlKCJkaXYiLCJsZWFmbGV0LWNvbnRyb2wtbWFwYm94LXNoYXJlIGxlYWZsZXQtYmFyIiksbj1MLkRvbVV0aWwuY3JlYXRlKCJhIiwibWFwYm94LXNoYXJlIG1hcGJveC1pY29uIG1hcGJveC1pY29uLXNoYXJlIixlKTtyZXR1cm4gbi5ocmVmPSIjIix0aGlzLl9tb2RhbD10Ll9jcmVhdGVQYW5lKCJtYXBib3gtbW9kYWwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9tYXNrPXQuX2NyZWF0ZVBhbmUoIm1hcGJveC1tb2RhbC1tYXNrIix0aGlzLl9tb2RhbCksdGhpcy5fY29udGVudD10Ll9jcmVhdGVQYW5lKCJtYXBib3gtbW9kYWwtY29udGVudCIsdGhpcy5fbW9kYWwpLEwuRG9tRXZlbnQuYWRkTGlzdGVuZXIobiwiY2xpY2siLHRoaXMuX3NoYXJlQ2xpY2ssdGhpcyksTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbihlKSx0aGlzLl9tYXAub24oIm1vdXNlZG93biIsdGhpcy5fY2xpY2tPdXQsdGhpcyksZX0sX2NsaWNrT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zaGFyaW5nPyhMLkRvbUV2ZW50LnByZXZlbnREZWZhdWx0KHQpLEwuRG9tVXRpbC5yZW1vdmVDbGFzcyh0aGlzLl9tb2RhbCwiYWN0aXZlIiksdGhpcy5fY29udGVudC5pbm5lckhUTUw9IiIsdGhpcy5fc2hhcmluZz1udWxsLHZvaWQgMCk6dm9pZCAwfSxfc2hhcmVDbGljazpmdW5jdGlvbih0KXtpZihMLkRvbUV2ZW50LnN0b3AodCksdGhpcy5fc2hhcmluZylyZXR1cm4gdGhpcy5fY2xpY2tPdXQodCk7dmFyIGU9dGhpcy5fdGlsZWpzb258fHRoaXMuX21hcC5fdGlsZWpzb258fHt9LGk9ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMub3B0aW9ucy51cmx8fGUud2VicGFnZXx8d2luZG93LmxvY2F0aW9uKSxuPWVuY29kZVVSSUNvbXBvbmVudChlLm5hbWUpLG89dGhpcy5fdXJsLmJhc2UoKStlLmlkKyIvIit0aGlzLl9tYXAuZ2V0Q2VudGVyKCkubG5nKyIsIit0aGlzLl9tYXAuZ2V0Q2VudGVyKCkubGF0KyIsIit0aGlzLl9tYXAuZ2V0Wm9vbSgpKyIvNjAweDYwMC5wbmciLHM9Ii8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0P3N0YXR1cz0iK24rIiAiK2ksYT0iLy93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/dT0iK2krIiZ0PSIrZW5jb2RlVVJJQ29tcG9uZW50KGUubmFtZSkscj0iLy93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8/dXJsPSIraSsiJm1lZGlhPSIrbysiJmRlc2NyaXB0aW9uPSIrZS5uYW1lLGw9IjxoMz5TaGFyZSB0aGlzIG1hcDwvaDM+PGRpdiBjbGFzcz0nbWFwYm94LXNoYXJlLWJ1dHRvbnMnPjxhIGNsYXNzPSdtYXBib3gtYnV0dG9uIG1hcGJveC1idXR0b24taWNvbiBtYXBib3gtaWNvbi1mYWNlYm9vaycgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J3t7ZmFjZWJvb2t9fSc+RmFjZWJvb2s8L2E+PGEgY2xhc3M9J21hcGJveC1idXR0b24gbWFwYm94LWJ1dHRvbi1pY29uIG1hcGJveC1pY29uLXR3aXR0ZXInIHRhcmdldD0nX2JsYW5rJyBocmVmPSd7e3R3aXR0ZXJ9fSc+VHdpdHRlcjwvYT48YSBjbGFzcz0nbWFwYm94LWJ1dHRvbiBtYXBib3gtYnV0dG9uLWljb24gbWFwYm94LWljb24tcGludGVyZXN0JyB0YXJnZXQ9J19ibGFuaycgaHJlZj0ne3twaW50ZXJlc3R9fSc+UGludGVyZXN0PC9hPjwvZGl2PiIucmVwbGFjZSgie3t0d2l0dGVyfX0iLHMpLnJlcGxhY2UoInt7ZmFjZWJvb2t9fSIsYSkucmVwbGFjZSgie3twaW50ZXJlc3R9fSIsciksaD0nPGlmcmFtZSB3aWR0aD0iMTAwJSIgaGVpZ2h0PSI1MDBweCIgZnJhbWVCb3JkZXI9IjAiIHNyYz0ie3tlbWJlZH19Ij48L2lmcmFtZT4nLnJlcGxhY2UoInt7ZW1iZWR9fSIsZS5lbWJlZHx8d2luZG93LmxvY2F0aW9uKSx1PSJDb3B5IGFuZCBwYXN0ZSB0aGlzIDxzdHJvbmc+SFRNTCBjb2RlPC9zdHJvbmc+IGludG8gZG9jdW1lbnRzIHRvIGVtYmVkIHRoaXMgbWFwIG9uIHdlYiBwYWdlcy4iO0wuRG9tVXRpbC5hZGRDbGFzcyh0aGlzLl9tb2RhbCwiYWN0aXZlIiksdGhpcy5fc2hhcmluZz10aGlzLl9tYXAuX2NyZWF0ZVBhbmUoIm1hcGJveC1tb2RhbC1ib2R5Iix0aGlzLl9jb250ZW50KSx0aGlzLl9zaGFyaW5nLmlubmVySFRNTD1sO3ZhciBjPUwuRG9tVXRpbC5jcmVhdGUoImlucHV0IiwibWFwYm94LWVtYmVkIix0aGlzLl9zaGFyaW5nKTtjLnR5cGU9InRleHQiLGMudmFsdWU9aDt2YXIgcD1MLkRvbVV0aWwuY3JlYXRlKCJsYWJlbCIsIm1hcGJveC1lbWJlZC1kZXNjcmlwdGlvbiIsdGhpcy5fc2hhcmluZyk7cC5pbm5lckhUTUw9dTt2YXIgZD1MLkRvbVV0aWwuY3JlYXRlKCJhIiwibGVhZmxldC1wb3B1cC1jbG9zZS1idXR0b24iLHRoaXMuX3NoYXJpbmcpO2QuaHJlZj0iIyIsTC5Eb21FdmVudC5kaXNhYmxlQ2xpY2tQcm9wYWdhdGlvbih0aGlzLl9zaGFyaW5nKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGQsImNsaWNrIix0aGlzLl9jbGlja091dCx0aGlzKSxMLkRvbUV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixmdW5jdGlvbih0KXt0LnRhcmdldC5mb2N1cygpLHQudGFyZ2V0LnNlbGVjdCgpfSl9fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuKHQsZSl9fSx7Ii4vbG9hZF90aWxlanNvbiI6MTksIi4vdXJsIjoyNn1dLDI1OltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT10KCIuL3V0aWwiKSxuPSh0KCIuL3VybCIpLEwuVGlsZUxheWVyLmV4dGVuZCh7aW5jbHVkZXM6W3QoIi4vbG9hZF90aWxlanNvbiIpXSxvcHRpb25zOntmb3JtYXQ6InBuZyJ9LGZvcm1hdHM6WyJwbmciLCJwbmczMiIsInBuZzY0IiwicG5nMTI4IiwicG5nMjU2IiwianBnNzAiLCJqcGc4MCIsImpwZzkwIl0sc2NhbGVQcmVmaXg6IkAyeC4iLGluaXRpYWxpemU6ZnVuY3Rpb24odCxlKXtMLlRpbGVMYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsdm9pZCAwLGUpLHRoaXMuX3RpbGVqc29uPXt9LGUmJmUuZGV0ZWN0UmV0aW5hJiZMLkJyb3dzZXIucmV0aW5hJiZlLnJldGluYVZlcnNpb24mJih0PWUucmV0aW5hVmVyc2lvbiksZSYmZS5mb3JtYXQmJmkuc3RyaWN0X29uZW9mKGUuZm9ybWF0LHRoaXMuZm9ybWF0cyksdGhpcy5fbG9hZFRpbGVKU09OKHQpfSxzZXRGb3JtYXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaWN0KHQsInN0cmluZyIpLHRoaXMub3B0aW9ucy5mb3JtYXQ9dCx0aGlzLnJlZHJhdygpLHRoaXN9LF9hdXRvU2NhbGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zJiZMLkJyb3dzZXIucmV0aW5hJiZ0aGlzLm9wdGlvbnMuZGV0ZWN0UmV0aW5hJiYhdGhpcy5vcHRpb25zLnJldGluYVZlcnNpb24mJnRoaXMub3B0aW9ucy5hdXRvc2NhbGV9LHNldFVybDpudWxsLF9zZXRUaWxlSlNPTjpmdW5jdGlvbih0KXtyZXR1cm4gaS5zdHJpY3QodCwib2JqZWN0IiksTC5leHRlbmQodGhpcy5vcHRpb25zLHt0aWxlczp0LnRpbGVzLGF0dHJpYnV0aW9uOnQuYXR0cmlidXRpb24sbWluWm9vbTp0Lm1pbnpvb20sbWF4Wm9vbTp0Lm1heHpvb20sYXV0b3NjYWxlOnQuYXV0b3NjYWxlfHwhMSx0bXM6InRtcyI9PT10LnNjaGVtZSxib3VuZHM6dC5ib3VuZHMmJmkubGJvdW5kcyh0LmJvdW5kcyl9KSx0aGlzLl90aWxlanNvbj10LHRoaXMucmVkcmF3KCksdGhpc30sZ2V0VGlsZUpTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGlsZWpzb259LGdldFRpbGVVcmw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLnRpbGVzLGk9TWF0aC5mbG9vcihNYXRoLmFicyh0LngrdC55KSVlLmxlbmd0aCksbj1lW2ldLG89TC5VdGlsLnRlbXBsYXRlKG4sdCk7cmV0dXJuIG8/by5yZXBsYWNlKCIucG5nIiwodGhpcy5fYXV0b1NjYWxlKCk/dGhpcy5zY2FsZVByZWZpeDoiLiIpK3RoaXMub3B0aW9ucy5mb3JtYXQpOm99LF91cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudGlsZXMmJkwuVGlsZUxheWVyLnByb3RvdHlwZS5fdXBkYXRlLmNhbGwodGhpcyl9fSkpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbih0LGUpfX0seyIuL2xvYWRfdGlsZWpzb24iOjE5LCIuL3VybCI6MjYsIi4vdXRpbCI6Mjd9XSwyNjpbZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7CnZhciBpPXQoIi4vY29uZmlnIik7ZS5leHBvcnRzPXtpc1NTTDpmdW5jdGlvbigpe3JldHVybiJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x8fGkuRk9SQ0VfSFRUUFN9LGJhc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pc1NTTCgpP2kuSFRUUFNfVVJMUzppLkhUVFBfVVJMUztyZXR1cm4gdm9pZCAwPT09dHx8Im51bWJlciIhPXR5cGVvZiB0P2VbMF06ZVt0JWUubGVuZ3RoXX0sc2VjdXJlRmxhZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc1NTTCgpP3QubWF0Y2goLyhcP3wmKXNlY3VyZS8pP3Q6LTEhPT10LmluZGV4T2YoIj8iKT90KyImc2VjdXJlIjp0KyI/c2VjdXJlIjp0fSxqc29uaWZ5OmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1wuKGdlbyk/anNvbnAoPz0kfFw/KS8sIi4kMWpzb24iKX19fSx7Ii4vY29uZmlnIjoxMX1dLDI3OltmdW5jdGlvbih0LGUpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e2lkVXJsOmZ1bmN0aW9uKHQsZSl7LTE9PXQuaW5kZXhPZigiLyIpP2UubG9hZElEKHQpOmUubG9hZFVSTCh0KX0sbG9nOmZ1bmN0aW9uKHQpe2NvbnNvbGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKHQpfSxzdHJpY3Q6ZnVuY3Rpb24odCxlKXtpZih0eXBlb2YgdCE9PWUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGFyZ3VtZW50OiAiK2UrIiBleHBlY3RlZCIpfSxzdHJpY3RfaW5zdGFuY2U6ZnVuY3Rpb24odCxlLGkpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBhcmd1bWVudDogIitpKyIgZXhwZWN0ZWQiKX0sc3RyaWN0X29uZW9mOmZ1bmN0aW9uKHQsZSl7aWYoLTE9PWUuaW5kZXhPZih0KSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYXJndW1lbnQ6ICIrdCsiIGdpdmVuLCB2YWxpZCB2YWx1ZXMgYXJlICIrZS5qb2luKCIsICIpKX0sc3RyaXBfdGFnczpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC88W148XSs+L2csIiIpfSxsYm91bmRzOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTC5MYXRMbmdCb3VuZHMoW1t0WzFdLHRbMF1dLFt0WzNdLHRbMl1dXSl9fX0se31dfSx7fSxbMV0pOw==",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 09:15:12 GMT",
                    "Content-Length": "193279",
                    "Date": "Fri, 07 Nov 2014 09:15:12 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}
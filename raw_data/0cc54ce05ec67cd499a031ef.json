{
    "url": "http://localhost:9999/dancasttro/login-flip/bower_components/platform/platform.js",
    "host": "localhost",
    "port": 9999,
    "protocol": "http",
    "name": "Link manipulation (DOM-based)",
    "issueType": 5246976,
    "severity": "Low",
    "confidence": "Firm",
    "issueBackground": "DOM-based link manipulation vulnerabilities arise when a client-side script within an application's response reads data from a controllable part of the DOM (for example, the URL), and writes this to a navigation target within the current page, such as a clickable link or the submission URL of a form. An attacker may be able to use the vulnerability to construct a URL which, if visited by another application user, will modify the target of links within the response. An attacker may be able to leverage this to perform various attacks, including:<ul><li>Causing the user to redirect to an arbitrary external URL, to facilitate a phishing attack.</li><li>Causing the user to submit sensitive form data to a server controlled by the attacker.</li><li>Causing the user to perform an unintended action within the application, by changing the file or query string associated with a link.</li><li>Bypassing browser anti-XSS defenses by injecting on-site links containing XSS exploits, since browser anti-XSS defenses typically do not operate on on-site links.</li></ul>",
    "remediationBackground": "Static analysis of code to identify vulnerabilities of this kind may lead to false positives that are not actually exploitable. You should review the highlighted code and related execution paths to determine whether the application is indeed vulnerable, or whether mitigations are in place that would prevent exploitation.<br><br>The most effective way to avoid DOM-based link manipulation vulnerabilities is not to dynamically set the target URLs of links or forms using data that originated from any untrusted source. If the desired functionality of the application means that this behavior is unavoidable, then defenses must be implemented within the client-side code to prevent malicious data from introducing an arbitrary URL as a link target. In general, this is best achieved by using a whitelist of URLs that are permitted link targets, and strictly validating the target against this list before setting the link target.",
    "issueDetail": "The application may be vulnerable to DOM-based link manipulation. Data is read from <b>the 'baseURI' property of a DOM element</b> and written to <b>the 'href' property of a DOM element</b> via the following statement:<ul><li>e.href=document.baseURI,d.appendChild(e)</li></ul>",
    "requestResponses": [
        {
            "request": {
                "host": "localhost",
                "port": 9999,
                "protocol": "http",
                "url": "http://localhost:9999/dancasttro/login-flip/bower_components/platform/platform.js",
                "path": "/dancasttro/login-flip/bower_components/platform/platform.js",
                "httpVersion": "HTTP/1.1",
                "method": "GET",
                "headers": {
                    "Host": "localhost:9999"
                },
                "body": "",
                "raw": "R0VUIC9kYW5jYXN0dHJvL2xvZ2luLWZsaXAvYm93ZXJfY29tcG9uZW50cy9wbGF0Zm9ybS9wbGF0Zm9ybS5qcyBIVFRQLzEuMQ0KSG9zdDogbG9jYWxob3N0Ojk5OTkNCg0K",
                "inScope": true,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "request"
            },
            "response": {
                "statusCode": 200,
                "raw": "SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTU1MTU5DQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpEYXRlOiBGcmksIDA3IE5vdiAyMDE0IDA5OjA0OjQwIEdNVA0KTGFzdC1Nb2RpZmllZDogRnJpLCAwNyBOb3YgMjAxNCAwOTowNDo0MCBHTVQNCg0KLyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0CiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiAqLwovLyBAdmVyc2lvbjogMC4zLjIKCndpbmRvdy5QbGF0Zm9ybT13aW5kb3cuUGxhdGZvcm18fHt9LHdpbmRvdy5sb2dGbGFncz13aW5kb3cubG9nRmxhZ3N8fHt9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuZmxhZ3N8fHt9O2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCI9IiksYVswXSYmKGJbYVswXV09YVsxXXx8ITApfSk7dmFyIGM9ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9InBsYXRmb3JtLmpzIl0nKTtpZihjKWZvcih2YXIgZCxlPWMuYXR0cmlidXRlcyxmPTA7ZjxlLmxlbmd0aDtmKyspZD1lW2ZdLCJzcmMiIT09ZC5uYW1lJiYoYltkLm5hbWVdPWQudmFsdWV8fCEwKTtiLmxvZyYmYi5sb2cuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3dpbmRvdy5sb2dGbGFnc1thXT0hMH0pLGIuc2hhZG93PWIuc2hhZG93fHxiLnNoYWRvd2RvbXx8Yi5wb2x5ZmlsbCxiLnNoYWRvdz0ibmF0aXZlIj09PWIuc2hhZG93PyExOmIuc2hhZG93fHwhSFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYi5zaGFkb3cmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCIpLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oInBsYXRmb3JtLmpzIGlzIG5vdCB0aGUgZmlyc3Qgc2NyaXB0IG9uIHRoZSBwYWdlLiBTZWUgaHR0cDovL3d3dy5wb2x5bWVyLXByb2plY3Qub3JnL2RvY3Mvc3RhcnQvcGxhdGZvcm0uaHRtbCNzZXR1cCBmb3IgZGV0YWlscy4iKSxiLnJlZ2lzdGVyJiYod2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuZmxhZ3MucmVnaXN0ZXI9Yi5yZWdpc3RlciksYi5pbXBvcnRzJiYod2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSx3aW5kb3cuSFRNTEltcG9ydHMuZmxhZ3MuaW1wb3J0cz1iLmltcG9ydHMpLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLCJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihnbG9iYWwpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkZXRlY3RPYmplY3RPYnNlcnZlKCl7ZnVuY3Rpb24gYShhKXtiPWF9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgQXJyYXkub2JzZXJ2ZSlyZXR1cm4hMTt2YXIgYj1bXSxjPXt9LGQ9W107cmV0dXJuIE9iamVjdC5vYnNlcnZlKGMsYSksQXJyYXkub2JzZXJ2ZShkLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsZC5wdXNoKDEsMiksZC5sZW5ndGg9MCxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksNSE9PWIubGVuZ3RoPyExOiJhZGQiIT1iWzBdLnR5cGV8fCJ1cGRhdGUiIT1iWzFdLnR5cGV8fCJkZWxldGUiIT1iWzJdLnR5cGV8fCJzcGxpY2UiIT1iWzNdLnR5cGV8fCJzcGxpY2UiIT1iWzRdLnR5cGU/ITE6KE9iamVjdC51bm9ic2VydmUoYyxhKSxBcnJheS51bm9ic2VydmUoZCxhKSwhMCl9ZnVuY3Rpb24gZGV0ZWN0RXZhbCgpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigiIiwicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gaXNJbmRleChhKXtyZXR1cm4rYT09PWE+Pj4wfWZ1bmN0aW9uIHRvTnVtYmVyKGEpe3JldHVybithfWZ1bmN0aW9uIGlzT2JqZWN0KGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGFyZVNhbWVWYWx1ZShhLGIpe3JldHVybiBhPT09Yj8wIT09YXx8MS9hPT09MS9iOm51bWJlcklzTmFOKGEpJiZudW1iZXJJc05hTihiKT8hMDphIT09YSYmYiE9PWJ9ZnVuY3Rpb24gZ2V0UGF0aENoYXJUeXBlKGEpe2lmKHZvaWQgMD09PWEpcmV0dXJuImVvZiI7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3N3aXRjaChiKXtjYXNlIDkxOmNhc2UgOTM6Y2FzZSA0NjpjYXNlIDM0OmNhc2UgMzk6Y2FzZSA0ODpyZXR1cm4gYTtjYXNlIDk1OmNhc2UgMzY6cmV0dXJuImlkZW50IjtjYXNlIDMyOmNhc2UgOTpjYXNlIDEwOmNhc2UgMTM6Y2FzZSAxNjA6Y2FzZSA2NTI3OTpjYXNlIDgyMzI6Y2FzZSA4MjMzOnJldHVybiJ3cyJ9cmV0dXJuIGI+PTk3JiYxMjI+PWJ8fGI+PTY1JiY5MD49Yj8iaWRlbnQiOmI+PTQ5JiY1Nz49Yj8ibnVtYmVyIjoiZWxzZSJ9ZnVuY3Rpb24gbm9vcCgpe31mdW5jdGlvbiBwYXJzZVBhdGgoYSl7ZnVuY3Rpb24gYigpe2lmKCEoaz49YS5sZW5ndGgpKXt2YXIgYj1hW2srMV07cmV0dXJuImluU2luZ2xlUXVvdGUiPT1sJiYiJyI9PWJ8fCJpbkRvdWJsZVF1b3RlIj09bCYmJyInPT1iPyhrKyssZD1iLG0uYXBwZW5kKCksITApOnZvaWQgMH19Zm9yKHZhciBjLGQsZSxmLGcsaCxpLGo9W10saz0tMSxsPSJiZWZvcmVQYXRoIixtPXtwdXNoOmZ1bmN0aW9uKCl7dm9pZCAwIT09ZSYmKGoucHVzaChlKSxlPXZvaWQgMCl9LGFwcGVuZDpmdW5jdGlvbigpe3ZvaWQgMD09PWU/ZT1kOmUrPWR9fTtsOylpZihrKyssYz1hW2tdLCJcXCIhPWN8fCFiKGwpKXtpZihmPWdldFBhdGhDaGFyVHlwZShjKSxpPXBhdGhTdGF0ZU1hY2hpbmVbbF0sZz1pW2ZdfHxpWyJlbHNlIl18fCJlcnJvciIsImVycm9yIj09ZylyZXR1cm47aWYobD1nWzBdLGg9bVtnWzFdXXx8bm9vcCxkPXZvaWQgMD09PWdbMl0/YzpnWzJdLGgoKSwiYWZ0ZXJQYXRoIj09PWwpcmV0dXJuIGp9fWZ1bmN0aW9uIGlzSWRlbnQoYSl7cmV0dXJuIGlkZW50UmVnRXhwLnRlc3QoYSl9ZnVuY3Rpb24gUGF0aChhLGIpe2lmKGIhPT1jb25zdHJ1Y3RvcklzUHJpdmF0ZSl0aHJvdyBFcnJvcigiVXNlIFBhdGguZ2V0IHRvIHJldHJpZXZlIHBhdGggb2JqZWN0cyIpO2EubGVuZ3RoJiZBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLGEuc2xpY2UoKSksaGFzRXZhbCYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSl9ZnVuY3Rpb24gZ2V0UGF0aChhKXtpZihhIGluc3RhbmNlb2YgUGF0aClyZXR1cm4gYTtpZigobnVsbD09YXx8MD09YS5sZW5ndGgpJiYoYT0iIiksInN0cmluZyIhPXR5cGVvZiBhKXtpZihpc0luZGV4KGEubGVuZ3RoKSlyZXR1cm4gbmV3IFBhdGgoYSxjb25zdHJ1Y3RvcklzUHJpdmF0ZSk7YT1TdHJpbmcoYSl9dmFyIGI9cGF0aENhY2hlW2FdO2lmKGIpcmV0dXJuIGI7dmFyIGM9cGFyc2VQYXRoKGEpO2lmKCFjKXJldHVybiBpbnZhbGlkUGF0aDt2YXIgYj1uZXcgUGF0aChjLGNvbnN0cnVjdG9ySXNQcml2YXRlKTtyZXR1cm4gcGF0aENhY2hlW2FdPWIsYn1mdW5jdGlvbiBmb3JtYXRBY2Nlc3NvcihhKXtyZXR1cm4gaXNJbmRleChhKT8iWyIrYSsiXSI6J1siJythLnJlcGxhY2UoLyIvZywnXFwiJykrJyJdJ31mdW5jdGlvbiBkaXJ0eUNoZWNrKGEpe2Zvcih2YXIgYj0wO01BWF9ESVJUWV9DSEVDS19DWUNMRVM+YiYmYS5jaGVja18oKTspYisrO3JldHVybiBnbG9iYWwudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihnbG9iYWwuZGlydHlDaGVja0N5Y2xlQ291bnQ9YiksYj4wfWZ1bmN0aW9uIG9iamVjdElzRW1wdHkoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZGlmZklzRW1wdHkoYSl7cmV0dXJuIG9iamVjdElzRW1wdHkoYS5hZGRlZCkmJm9iamVjdElzRW1wdHkoYS5yZW1vdmVkKSYmb2JqZWN0SXNFbXB0eShhLmNoYW5nZWQpfWZ1bmN0aW9uIGRpZmZPYmplY3RGcm9tT2xkT2JqZWN0KGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIHJ1bkVPTVRhc2tzKCl7aWYoIWVvbVRhc2tzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGVvbVRhc2tzLmxlbmd0aDthKyspZW9tVGFza3NbYV0oKTtyZXR1cm4gZW9tVGFza3MubGVuZ3RoPTAsITB9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRPYmplY3QoKXtmdW5jdGlvbiBhKGEpe2ImJmIuc3RhdGVfPT09T1BFTkVEJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcigiT2JzZXJ2ZWRPYmplY3QgaW4gdXNlIik7ZXx8T2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGI9YyxlPSExfSxvYnNlcnZlOmZ1bmN0aW9uKGIsZCl7Yz1iLGQ/QXJyYXkub2JzZXJ2ZShjLGEpOk9iamVjdC5vYnNlcnZlKGMsYSl9LGRlbGl2ZXI6ZnVuY3Rpb24oYil7ZD1iLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxkPSExfSxjbG9zZTpmdW5jdGlvbigpe2I9dm9pZCAwLE9iamVjdC51bm9ic2VydmUoYyxhKSxvYnNlcnZlZE9iamVjdENhY2hlLnB1c2godGhpcyl9fX1mdW5jdGlvbiBnZXRPYnNlcnZlZE9iamVjdChhLGIsYyl7dmFyIGQ9b2JzZXJ2ZWRPYmplY3RDYWNoZS5wb3AoKXx8bmV3T2JzZXJ2ZWRPYmplY3QoKTtyZXR1cm4gZC5vcGVuKGEpLGQub2JzZXJ2ZShiLGMpLGR9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRTZXQoKXtmdW5jdGlvbiBhKGIsZil7YiYmKGI9PT1kJiYoZVtmXT0hMCksaC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixjKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYiksZikpfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoYy5vYmplY3QhPT1kfHxlW2MubmFtZV18fCJzZXRQcm90b3R5cGUiPT09Yy50eXBlKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGMoYyl7aWYoIWIoYykpe2Zvcih2YXIgZCxlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1PUEVORUQmJmQuaXRlcmF0ZU9iamVjdHNfKGEpO2Zvcih2YXIgZT0wO2U8Zy5sZW5ndGg7ZSsrKWQ9Z1tlXSxkLnN0YXRlXz09T1BFTkVEJiZkLmNoZWNrXygpfX12YXIgZCxlLGY9MCxnPVtdLGg9W10saT17b2JqZWN0OnZvaWQgMCxvYmplY3RzOmgsb3BlbjpmdW5jdGlvbihiLGMpe2R8fChkPWMsZT17fSksZy5wdXNoKGIpLGYrKyxiLml0ZXJhdGVPYmplY3RzXyhhKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZihmLS0sIShmPjApKXtmb3IodmFyIGE9MDthPGgubGVuZ3RoO2ErKylPYmplY3QudW5vYnNlcnZlKGhbYV0sYyksT2JzZXJ2ZXIudW5vYnNlcnZlZENvdW50Kys7Zy5sZW5ndGg9MCxoLmxlbmd0aD0wLGQ9dm9pZCAwLGU9dm9pZCAwLG9ic2VydmVkU2V0Q2FjaGUucHVzaCh0aGlzKX19fTtyZXR1cm4gaX1mdW5jdGlvbiBnZXRPYnNlcnZlZFNldChhLGIpe3JldHVybiBsYXN0T2JzZXJ2ZWRTZXQmJmxhc3RPYnNlcnZlZFNldC5vYmplY3Q9PT1ifHwobGFzdE9ic2VydmVkU2V0PW9ic2VydmVkU2V0Q2FjaGUucG9wKCl8fG5ld09ic2VydmVkU2V0KCksbGFzdE9ic2VydmVkU2V0Lm9iamVjdD1iKSxsYXN0T2JzZXJ2ZWRTZXQub3BlbihhLGIpLGxhc3RPYnNlcnZlZFNldH1mdW5jdGlvbiBPYnNlcnZlcigpe3RoaXMuc3RhdGVfPVVOT1BFTkVELHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmV4dE9ic2VydmVySWQrK31mdW5jdGlvbiBhZGRUb0FsbChhKXtPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQrKyxjb2xsZWN0T2JzZXJ2ZXJzJiZhbGxPYnNlcnZlcnMucHVzaChhKX1mdW5jdGlvbiByZW1vdmVGcm9tQWxsKCl7T2JzZXJ2ZXIuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gT2JqZWN0T2JzZXJ2ZXIoYSl7T2JzZXJ2ZXIuY2FsbCh0aGlzKSx0aGlzLnZhbHVlXz1hLHRoaXMub2xkT2JqZWN0Xz12b2lkIDB9ZnVuY3Rpb24gQXJyYXlPYnNlcnZlcihhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhbiBBcnJheSIpO09iamVjdE9ic2VydmVyLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBQYXRoT2JzZXJ2ZXIoYSxiKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89Z2V0UGF0aChiKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDB9ZnVuY3Rpb24gQ29tcG91bmRPYnNlcnZlcihhKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl89YSx0aGlzLnZhbHVlXz1bXSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDAsdGhpcy5vYnNlcnZlZF89W119ZnVuY3Rpb24gaWRlbnRGbihhKXtyZXR1cm4gYX1mdW5jdGlvbiBPYnNlcnZlclRyYW5zZm9ybShhLGIsYyxkKXt0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz1hLHRoaXMuZ2V0VmFsdWVGbl89Ynx8aWRlbnRGbix0aGlzLnNldFZhbHVlRm5fPWN8fGlkZW50Rm4sdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfPWR9ZnVuY3Rpb24gbm90aWZ5KGEsYixjLGQpe2lmKCFhcmVTYW1lVmFsdWUoYyxkKSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBhLnByb3BlcnR5Q2hhbmdlZF8mJmEucHJvcGVydHlDaGFuZ2VkXyhiLGMsZCksaGFzT2JzZXJ2ZSkpe3ZhciBlPWEubm90aWZpZXJfO2V8fChlPWEubm90aWZpZXJfPU9iamVjdC5nZXROb3RpZmllcihhKSksdXBkYXRlUmVjb3JkLm9iamVjdD1hLHVwZGF0ZVJlY29yZC5uYW1lPWIsdXBkYXRlUmVjb3JkLm9sZFZhbHVlPWQsZS5ub3RpZnkodXBkYXRlUmVjb3JkKX19ZnVuY3Rpb24gZGlmZk9iamVjdEZyb21DaGFuZ2VSZWNvcmRzKGEsYixjKXtmb3IodmFyIGQ9e30sZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07ZXhwZWN0ZWRSZWNvcmRUeXBlc1tnLnR5cGVdPyhnLm5hbWUgaW4gY3x8KGNbZy5uYW1lXT1nLm9sZFZhbHVlKSwidXBkYXRlIiE9Zy50eXBlJiYoImFkZCIhPWcudHlwZT9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gbmV3U3BsaWNlKGEsYixjKXtyZXR1cm57aW5kZXg6YSxyZW1vdmVkOmIsYWRkZWRDb3VudDpjfX1mdW5jdGlvbiBBcnJheVNwbGljZSgpe31mdW5jdGlvbiBjYWxjU3BsaWNlcyhhLGIsYyxkLGUsZil7cmV0dXJuIGFycmF5U3BsaWNlLmNhbGNTcGxpY2VzKGEsYixjLGQsZSxmKX1mdW5jdGlvbiBpbnRlcnNlY3QoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gbWVyZ2VTcGxpY2UoYSxiLGMsZCl7Zm9yKHZhciBlPW5ld1NwbGljZShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPWludGVyc2VjdChlLmluZGV4LGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aCxpLmluZGV4LGkuaW5kZXgraS5hZGRlZENvdW50KTtpZihqPj0wKXthLnNwbGljZShoLDEpLGgtLSxnLT1pLmFkZGVkQ291bnQtaS5yZW1vdmVkLmxlbmd0aCxlLmFkZGVkQ291bnQrPWkuYWRkZWRDb3VudC1qO3ZhciBrPWUucmVtb3ZlZC5sZW5ndGgraS5yZW1vdmVkLmxlbmd0aC1qO2lmKGUuYWRkZWRDb3VudHx8ayl7dmFyIGM9aS5yZW1vdmVkO2lmKGUuaW5kZXg8aS5pbmRleCl7dmFyIGw9ZS5yZW1vdmVkLnNsaWNlKDAsaS5pbmRleC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGMpLGM9bH1pZihlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGg+aS5pbmRleCtpLmFkZGVkQ291bnQpe3ZhciBtPWUucmVtb3ZlZC5zbGljZShpLmluZGV4K2kuYWRkZWRDb3VudC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjLG0pfWUucmVtb3ZlZD1jLGkuaW5kZXg8ZS5pbmRleCYmKGUuaW5kZXg9aS5pbmRleCl9ZWxzZSBmPSEwfWVsc2UgaWYoZS5pbmRleDxpLmluZGV4KXtmPSEwLGEuc3BsaWNlKGgsMCxlKSxoKys7dmFyIG49ZS5hZGRlZENvdW50LWUucmVtb3ZlZC5sZW5ndGg7aS5pbmRleCs9bixnKz1ufX19Znx8YS5wdXNoKGUpfWZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxTcGxpY2VzKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtzd2l0Y2goZS50eXBlKXtjYXNlInNwbGljZSI6bWVyZ2VTcGxpY2UoYyxlLmluZGV4LGUucmVtb3ZlZC5zbGljZSgpLGUuYWRkZWRDb3VudCk7YnJlYWs7Y2FzZSJhZGQiOmNhc2UidXBkYXRlIjpjYXNlImRlbGV0ZSI6aWYoIWlzSW5kZXgoZS5uYW1lKSljb250aW51ZTt2YXIgZj10b051bWJlcihlLm5hbWUpO2lmKDA+Ziljb250aW51ZTttZXJnZVNwbGljZShjLGYsW2Uub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShlKSl9fXJldHVybiBjfWZ1bmN0aW9uIHByb2plY3RBcnJheVNwbGljZXMoYSxiKXt2YXIgYz1bXTtyZXR1cm4gY3JlYXRlSW5pdGlhbFNwbGljZXMoYSxiKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiAxPT1iLmFkZGVkQ291bnQmJjE9PWIucmVtb3ZlZC5sZW5ndGg/dm9pZChiLnJlbW92ZWRbMF0hPT1hW2IuaW5kZXhdJiZjLnB1c2goYikpOnZvaWQoYz1jLmNvbmNhdChjYWxjU3BsaWNlcyhhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpKX0pLGN9dmFyIGhhc09ic2VydmU9ZGV0ZWN0T2JqZWN0T2JzZXJ2ZSgpLGhhc0V2YWw9ZGV0ZWN0RXZhbCgpLG51bWJlcklzTmFOPWdsb2JhbC5OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGEpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYSYmZ2xvYmFsLmlzTmFOKGEpfSxjcmVhdGVPYmplY3Q9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LGlkZW50U3RhcnQ9IlskX2EtekEtWl0iLGlkZW50UGFydD0iWyRfYS16QS1aMC05XSIsaWRlbnRSZWdFeHA9bmV3IFJlZ0V4cCgiXiIraWRlbnRTdGFydCsiKyIraWRlbnRQYXJ0KyIqJCIpLHBhdGhTdGF0ZU1hY2hpbmU9e2JlZm9yZVBhdGg6e3dzOlsiYmVmb3JlUGF0aCJdLGlkZW50OlsiaW5JZGVudCIsImFwcGVuZCJdLCJbIjpbImJlZm9yZUVsZW1lbnQiXSxlb2Y6WyJhZnRlclBhdGgiXX0saW5QYXRoOnt3czpbImluUGF0aCJdLCIuIjpbImJlZm9yZUlkZW50Il0sIlsiOlsiYmVmb3JlRWxlbWVudCJdLGVvZjpbImFmdGVyUGF0aCJdfSxiZWZvcmVJZGVudDp7d3M6WyJiZWZvcmVJZGVudCJdLGlkZW50OlsiaW5JZGVudCIsImFwcGVuZCJdfSxpbklkZW50OntpZGVudDpbImluSWRlbnQiLCJhcHBlbmQiXSwwOlsiaW5JZGVudCIsImFwcGVuZCJdLG51bWJlcjpbImluSWRlbnQiLCJhcHBlbmQiXSx3czpbImluUGF0aCIsInB1c2giXSwiLiI6WyJiZWZvcmVJZGVudCIsInB1c2giXSwiWyI6WyJiZWZvcmVFbGVtZW50IiwicHVzaCJdLGVvZjpbImFmdGVyUGF0aCIsInB1c2giXX0sYmVmb3JlRWxlbWVudDp7d3M6WyJiZWZvcmVFbGVtZW50Il0sMDpbImFmdGVyWmVybyIsImFwcGVuZCJdLG51bWJlcjpbImluSW5kZXgiLCJhcHBlbmQiXSwiJyI6WyJpblNpbmdsZVF1b3RlIiwiYXBwZW5kIiwiIl0sJyInOlsiaW5Eb3VibGVRdW90ZSIsImFwcGVuZCIsIiJdfSxhZnRlclplcm86e3dzOlsiYWZ0ZXJFbGVtZW50IiwicHVzaCJdLCJdIjpbImluUGF0aCIsInB1c2giXX0saW5JbmRleDp7MDpbImluSW5kZXgiLCJhcHBlbmQiXSxudW1iZXI6WyJpbkluZGV4IiwiYXBwZW5kIl0sd3M6WyJhZnRlckVsZW1lbnQiXSwiXSI6WyJpblBhdGgiLCJwdXNoIl19LGluU2luZ2xlUXVvdGU6eyInIjpbImFmdGVyRWxlbWVudCJdLGVvZjpbImVycm9yIl0sImVsc2UiOlsiaW5TaW5nbGVRdW90ZSIsImFwcGVuZCJdfSxpbkRvdWJsZVF1b3RlOnsnIic6WyJhZnRlckVsZW1lbnQiXSxlb2Y6WyJlcnJvciJdLCJlbHNlIjpbImluRG91YmxlUXVvdGUiLCJhcHBlbmQiXX0sYWZ0ZXJFbGVtZW50Ont3czpbImFmdGVyRWxlbWVudCJdLCJdIjpbImluUGF0aCIsInB1c2giXX19LGNvbnN0cnVjdG9ySXNQcml2YXRlPXt9LHBhdGhDYWNoZT17fTtQYXRoLmdldD1nZXRQYXRoLFBhdGgucHJvdG90eXBlPWNyZWF0ZU9iamVjdCh7X19wcm90b19fOltdLHZhbGlkOiEwLHRvU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPSIiLGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpc1tiXTthKz1pc0lkZW50KGMpP2I/Ii4iK2M6Yzpmb3JtYXRBY2Nlc3NvcihjKX1yZXR1cm4gYX0sZ2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5sZW5ndGg7YisrKXtpZihudWxsPT1hKXJldHVybjthPWFbdGhpc1tiXV19cmV0dXJuIGF9LGl0ZXJhdGVPYmplY3RzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspe2lmKGMmJihhPWFbdGhpc1tjLTFdXSksIWlzT2JqZWN0KGEpKXJldHVybjtiKGEsdGhpc1swXSl9fSxjb21waWxlZEdldFZhbHVlRnJvbUZuOmZ1bmN0aW9uKCl7dmFyIGE9IiIsYj0ib2JqIjthKz0iaWYgKG9iaiAhPSBudWxsIjtmb3IodmFyIGMsZD0wO2Q8dGhpcy5sZW5ndGgtMTtkKyspYz10aGlzW2RdLGIrPWlzSWRlbnQoYyk/Ii4iK2M6Zm9ybWF0QWNjZXNzb3IoYyksYSs9IiAmJlxuICAgICAiK2IrIiAhPSBudWxsIjthKz0iKVxuIjt2YXIgYz10aGlzW2RdO3JldHVybiBiKz1pc0lkZW50KGMpPyIuIitjOmZvcm1hdEFjY2Vzc29yKGMpLGErPSIgIHJldHVybiAiK2IrIjtcbmVsc2VcbiAgcmV0dXJuIHVuZGVmaW5lZDsiLG5ldyBGdW5jdGlvbigib2JqIixhKX0sc2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGgtMTtjKyspe2lmKCFpc09iamVjdChhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGlzT2JqZWN0KGEpPyhhW3RoaXNbY11dPWIsITApOiExfX0pO3ZhciBpbnZhbGlkUGF0aD1uZXcgUGF0aCgiIixjb25zdHJ1Y3RvcklzUHJpdmF0ZSk7aW52YWxpZFBhdGgudmFsaWQ9ITEsaW52YWxpZFBhdGguZ2V0VmFsdWVGcm9tPWludmFsaWRQYXRoLnNldFZhbHVlRnJvbT1mdW5jdGlvbigpe307dmFyIE1BWF9ESVJUWV9DSEVDS19DWUNMRVM9MWUzLGVvbVRhc2tzPVtdLHJ1bkVPTT1oYXNPYnNlcnZlP2Z1bmN0aW9uKCl7dmFyIGE9e3BpbmdQb25nOiEwfSxiPSExO3JldHVybiBPYmplY3Qub2JzZXJ2ZShhLGZ1bmN0aW9uKCl7cnVuRU9NVGFza3MoKSxiPSExfSksZnVuY3Rpb24oYyl7ZW9tVGFza3MucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZW9tVGFza3MucHVzaChhKX19KCksb2JzZXJ2ZWRPYmplY3RDYWNoZT1bXSxvYnNlcnZlZFNldENhY2hlPVtdLGxhc3RPYnNlcnZlZFNldCxVTk9QRU5FRD0wLE9QRU5FRD0xLENMT1NFRD0yLFJFU0VUVElORz0zLG5leHRPYnNlcnZlcklkPTE7T2JzZXJ2ZXIucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gYWRkVG9BbGwodGhpcyksdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLmNvbm5lY3RfKCksdGhpcy5zdGF0ZV89T1BFTkVELHRoaXMudmFsdWVffSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJihyZW1vdmVGcm9tQWxsKHRoaXMpLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5zdGF0ZV89Q0xPU0VEKX0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJmRpcnR5Q2hlY2sodGhpcyl9LHJlcG9ydF86ZnVuY3Rpb24oYSl7dHJ5e3RoaXMuY2FsbGJhY2tfLmFwcGx5KHRoaXMudGFyZ2V0XyxhKX1jYXRjaChiKXtPYnNlcnZlci5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBjb2xsZWN0T2JzZXJ2ZXJzPSFoYXNPYnNlcnZlLGFsbE9ic2VydmVycztPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQ9MCxjb2xsZWN0T2JzZXJ2ZXJzJiYoYWxsT2JzZXJ2ZXJzPVtdKTt2YXIgcnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQ9ITEsaGFzRGVidWdGb3JjZUZ1bGxEZWxpdmVyeT1oYXNPYnNlcnZlJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gZXZhbCgiJVJ1bk1pY3JvdGFza3MoKSIpLCEwfWNhdGNoKGV4KXtyZXR1cm4hMX19KCk7Z2xvYmFsLlBsYXRmb3JtPWdsb2JhbC5QbGF0Zm9ybXx8e30sZ2xvYmFsLlBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50PWZ1bmN0aW9uKCl7aWYoIXJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50KXtpZihoYXNEZWJ1Z0ZvcmNlRnVsbERlbGl2ZXJ5KXJldHVybiB2b2lkIGV2YWwoIiVSdW5NaWNyb3Rhc2tzKCkiKTtpZihjb2xsZWN0T2JzZXJ2ZXJzKXtydW5uaW5nTWljcm90YXNrQ2hlY2twb2ludD0hMDt2YXIgY3ljbGVzPTAsYW55Q2hhbmdlZCx0b0NoZWNrO2Rve2N5Y2xlcysrLHRvQ2hlY2s9YWxsT2JzZXJ2ZXJzLGFsbE9ic2VydmVycz1bXSxhbnlDaGFuZ2VkPSExO2Zvcih2YXIgaT0wO2k8dG9DaGVjay5sZW5ndGg7aSsrKXt2YXIgb2JzZXJ2ZXI9dG9DaGVja1tpXTtvYnNlcnZlci5zdGF0ZV89PU9QRU5FRCYmKG9ic2VydmVyLmNoZWNrXygpJiYoYW55Q2hhbmdlZD0hMCksYWxsT2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpKX1ydW5FT01UYXNrcygpJiYoYW55Q2hhbmdlZD0hMCl9d2hpbGUoTUFYX0RJUlRZX0NIRUNLX0NZQ0xFUz5jeWNsZXMmJmFueUNoYW5nZWQpO2dsb2JhbC50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGdsb2JhbC5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jeWNsZXMpLHJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50PSExfX19LGNvbGxlY3RPYnNlcnZlcnMmJihnbG9iYWwuUGxhdGZvcm0uY2xlYXJPYnNlcnZlcnM9ZnVuY3Rpb24oKXthbGxPYnNlcnZlcnM9W119KSxPYmplY3RPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe2hhc09ic2VydmU/dGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRPYmplY3QodGhpcyx0aGlzLnZhbHVlXyx0aGlzLmFycmF5T2JzZXJ2ZSk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyl9LGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkuaXNBcnJheShhKT9bXTp7fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJihiLmxlbmd0aD1hLmxlbmd0aCksYn0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoaGFzT2JzZXJ2ZSl7aWYoIWEpcmV0dXJuITE7Yz17fSxiPWRpZmZPYmplY3RGcm9tQ2hhbmdlUmVjb3Jkcyh0aGlzLnZhbHVlXyxhLGMpfWVsc2UgYz10aGlzLm9sZE9iamVjdF8sYj1kaWZmT2JqZWN0RnJvbU9sZE9iamVjdCh0aGlzLnZhbHVlXyx0aGlzLm9sZE9iamVjdF8pO3JldHVybiBkaWZmSXNFbXB0eShiKT8hMTooaGFzT2JzZXJ2ZXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2IuYWRkZWR8fHt9LGIucmVtb3ZlZHx8e30sYi5jaGFuZ2VkfHx7fSxmdW5jdGlvbihhKXtyZXR1cm4gY1thXX1dKSwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZT8odGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UoKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApOnRoaXMub2xkT2JqZWN0Xz12b2lkIDB9LGRlbGl2ZXI6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09T1BFTkVEJiYoaGFzT2JzZXJ2ZT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTpkaXJ0eUNoZWNrKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSksQXJyYXlPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JqZWN0T2JzZXJ2ZXIucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYjtpZihoYXNPYnNlcnZlKXtpZighYSlyZXR1cm4hMTtiPXByb2plY3RBcnJheVNwbGljZXModGhpcy52YWx1ZV8sYSl9ZWxzZSBiPWNhbGNTcGxpY2VzKHRoaXMudmFsdWVfLDAsdGhpcy52YWx1ZV8ubGVuZ3RoLHRoaXMub2xkT2JqZWN0XywwLHRoaXMub2xkT2JqZWN0Xy5sZW5ndGgpO3JldHVybiBiJiZiLmxlbmd0aD8oaGFzT2JzZXJ2ZXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2JdKSwhMCk6ITF9fSksQXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXM9ZnVuY3Rpb24oYSxiLGMpe2MuZm9yRWFjaChmdW5jdGlvbihjKXtmb3IodmFyIGQ9W2MuaW5kZXgsYy5yZW1vdmVkLmxlbmd0aF0sZT1jLmluZGV4O2U8Yy5pbmRleCtjLmFkZGVkQ291bnQ7KWQucHVzaChiW2VdKSxlKys7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShhLGQpfSl9LFBhdGhPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGdldCBwYXRoKCl7cmV0dXJuIHRoaXMucGF0aF99LGNvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZSYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPWdldE9ic2VydmVkU2V0KHRoaXMsdGhpcy5vYmplY3RfKSksdGhpcy5jaGVja18odm9pZCAwLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7dGhpcy5wYXRoXy5pdGVyYXRlT2JqZWN0cyh0aGlzLm9iamVjdF8sYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmFsdWVfO3JldHVybiB0aGlzLnZhbHVlXz10aGlzLnBhdGhfLmdldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8pLGJ8fGFyZVNhbWVWYWx1ZSh0aGlzLnZhbHVlXyxjKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjLHRoaXNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxhKX19KTt2YXIgb2JzZXJ2ZXJTZW50aW5lbD17fTtDb21wb3VuZE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtpZihoYXNPYnNlcnZlKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1vYnNlcnZlclNlbnRpbmVsKXtiPSEwO2JyZWFrfWImJih0aGlzLmRpcmVjdE9ic2VydmVyXz1nZXRPYnNlcnZlZFNldCh0aGlzLGEpKX10aGlzLmNoZWNrXyh2b2lkIDAsIXRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2ErPTIpdGhpcy5vYnNlcnZlZF9bYV09PT1vYnNlcnZlclNlbnRpbmVsJiZ0aGlzLm9ic2VydmVkX1thKzFdLmNsb3NlKCk7dGhpcy5vYnNlcnZlZF8ubGVuZ3RoPTAsdGhpcy52YWx1ZV8ubGVuZ3RoPTAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxhZGRQYXRoOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIHBhdGhzIG9uY2Ugc3RhcnRlZC4iKTt2YXIgYj1nZXRQYXRoKGIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2goYSxiKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYz10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2NdPWIuZ2V0VmFsdWVGcm9tKGEpfX0sYWRkT2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7aWYodGhpcy5vYnNlcnZlZF8ucHVzaChvYnNlcnZlclNlbnRpbmVsLGEpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pe3ZhciBiPXRoaXMub2JzZXJ2ZWRfLmxlbmd0aC8yLTE7dGhpcy52YWx1ZV9bYl09YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKX19LHN0YXJ0UmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9T1BFTkVEKXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89UkVTRVRUSU5HLHRoaXMuZGlzY29ubmVjdF8oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0Iik7cmV0dXJuIHRoaXMuc3RhdGVfPU9QRU5FRCx0aGlzLmNvbm5lY3RfKCksdGhpcy52YWx1ZV99LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpYj10aGlzLm9ic2VydmVkX1tjXSxiIT09b2JzZXJ2ZXJTZW50aW5lbCYmdGhpcy5vYnNlcnZlZF9bYysxXS5pdGVyYXRlT2JqZWN0cyhiLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wO2Q8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2QrPTIpe3ZhciBlLGY9dGhpcy5vYnNlcnZlZF9bZF0sZz10aGlzLm9ic2VydmVkX1tkKzFdO2lmKGY9PT1vYnNlcnZlclNlbnRpbmVsKXt2YXIgaD1nO2U9dGhpcy5zdGF0ZV89PT1VTk9QRU5FRD9oLm9wZW4odGhpcy5kZWxpdmVyLHRoaXMpOmguZGlzY2FyZENoYW5nZXMoKX1lbHNlIGU9Zy5nZXRWYWx1ZUZyb20oZik7Yj90aGlzLnZhbHVlX1tkLzJdPWU6YXJlU2FtZVZhbHVlKGUsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09ZSl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxPYnNlcnZlclRyYW5zZm9ybS5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8ub3Blbih0aGlzLm9ic2VydmVkQ2FsbGJhY2tfLHRoaXMpKSx0aGlzLnZhbHVlX30sb2JzZXJ2ZWRDYWxsYmFja186ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmdldFZhbHVlRm5fKGEpLCFhcmVTYW1lVmFsdWUoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIGV4cGVjdGVkUmVjb3JkVHlwZXM9e2FkZDohMCx1cGRhdGU6ITAsImRlbGV0ZSI6ITB9LHVwZGF0ZVJlY29yZD17b2JqZWN0OnZvaWQgMCx0eXBlOiJ1cGRhdGUiLG5hbWU6dm9pZCAwLG9sZFZhbHVlOnZvaWQgMH07T2JzZXJ2ZXIuY3JlYXRlQmluZGFibGVQcm90b3R5cGVBY2Nlc3Nvcj1mdW5jdGlvbihhLGIpe3ZhciBjPWIrIl8iLGQ9YisiT2JzZXJ2YWJsZV8iO2FbY109YVtiXSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzW2RdO3JldHVybiBhJiZhLmRlbGl2ZXIoKSx0aGlzW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpc1tkXTtpZihlKXJldHVybiB2b2lkIGUuc2V0VmFsdWUoYSk7dmFyIGY9dGhpc1tjXTtyZXR1cm4gdGhpc1tjXT1hLG5vdGlmeSh0aGlzLGIsYSxmKSxhfSxjb25maWd1cmFibGU6ITB9KX0sT2JzZXJ2ZXIuYmluZFRvSW5zdGFuY2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YisiXyIsZj1iKyJPYnNlcnZhYmxlXyI7YVtmXT1jO3ZhciBnPWFbZV0saD1jLm9wZW4oZnVuY3Rpb24oYyxkKXthW2VdPWMsbm90aWZ5KGEsYixjLGQpfSk7aWYoZCYmIWFyZVNhbWVWYWx1ZShnLGgpKXt2YXIgaT1kKGcsaCk7YXJlU2FtZVZhbHVlKGgsaSl8fChoPWksYy5zZXRWYWx1ZSYmYy5zZXRWYWx1ZShoKSl9cmV0dXJuIGFbZV09aCxub3RpZnkoYSxiLGgsZykse2Nsb3NlOmZ1bmN0aW9uKCl7Yy5jbG9zZSgpLGFbZl09dm9pZCAwfX19O3ZhciBFRElUX0xFQVZFPTAsRURJVF9VUERBVEU9MSxFRElUX0FERD0yLEVESVRfREVMRVRFPTM7QXJyYXlTcGxpY2UucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWYtZSsxLGg9Yy1iKzEsaT1uZXcgQXJyYXkoZyksaj0wO2c+ajtqKyspaVtqXT1uZXcgQXJyYXkoaCksaVtqXVswXT1qO2Zvcih2YXIgaz0wO2g+aztrKyspaVswXVtrXT1rO2Zvcih2YXIgaj0xO2c+ajtqKyspZm9yKHZhciBrPTE7aD5rO2srKylpZih0aGlzLmVxdWFscyhhW2Iray0xXSxkW2Urai0xXSkpaVtqXVtrXT1pW2otMV1bay0xXTtlbHNle3ZhciBsPWlbai0xXVtrXSsxLG09aVtqXVtrLTFdKzE7aVtqXVtrXT1tPmw/bDptfXJldHVybiBpfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsYz1hWzBdLmxlbmd0aC0xLGQ9YVtiXVtjXSxlPVtdO2I+MHx8Yz4wOylpZigwIT1iKWlmKDAhPWMpe3ZhciBmLGc9YVtiLTFdW2MtMV0saD1hW2ItMV1bY10saT1hW2JdW2MtMV07Zj1pPmg/Zz5oP2g6ZzpnPmk/aTpnLGY9PWc/KGc9PWQ/ZS5wdXNoKEVESVRfTEVBVkUpOihlLnB1c2goRURJVF9VUERBVEUpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKEVESVRfREVMRVRFKSxiLS0sZD1oKTooZS5wdXNoKEVESVRfQUREKSxjLS0sZD1pKX1lbHNlIGUucHVzaChFRElUX0RFTEVURSksYi0tO2Vsc2UgZS5wdXNoKEVESVRfQUREKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9LGNhbGNTcGxpY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXRoaXMuc2hhcmVkUHJlZml4KGEsZCxpKSksYz09YS5sZW5ndGgmJmY9PWQubGVuZ3RoJiYoaD10aGlzLnNoYXJlZFN1ZmZpeChhLGQsaS1nKSksYis9ZyxlKz1nLGMtPWgsZi09aCxjLWI9PTAmJmYtZT09MClyZXR1cm5bXTtpZihiPT1jKXtmb3IodmFyIGo9bmV3U3BsaWNlKGIsW10sMCk7Zj5lOylqLnJlbW92ZWQucHVzaChkW2UrK10pO3JldHVybltqXX1pZihlPT1mKXJldHVybltuZXdTcGxpY2UoYixbXSxjLWIpXTtmb3IodmFyIGs9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhhLGIsYyxkLGUsZikpLGo9dm9pZCAwLGw9W10sbT1iLG49ZSxvPTA7bzxrLmxlbmd0aDtvKyspc3dpdGNoKGtbb10pe2Nhc2UgRURJVF9MRUFWRTpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgRURJVF9VUERBVEU6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKyxqLnJlbW92ZWQucHVzaChkW25dKSxuKys7YnJlYWs7Y2FzZSBFRElUX0FERDpqfHwoaj1uZXdTcGxpY2UobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrO2JyZWFrO2Nhc2UgRURJVF9ERUxFVEU6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9LHNoYXJlZFByZWZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZighdGhpcy5lcXVhbHMoYVtkXSxiW2RdKSlyZXR1cm4gZDtyZXR1cm4gY30sc2hhcmVkU3VmZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZ0aGlzLmVxdWFscyhhWy0tZF0sYlstLWVdKTspZisrO3JldHVybiBmfSxjYWxjdWxhdGVTcGxpY2VzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsY1NwbGljZXMoYSwwLGEubGVuZ3RoLGIsMCxiLmxlbmd0aCl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn19O3ZhciBhcnJheVNwbGljZT1uZXcgQXJyYXlTcGxpY2U7Z2xvYmFsLk9ic2VydmVyPU9ic2VydmVyLGdsb2JhbC5PYnNlcnZlci5ydW5FT01fPXJ1bkVPTSxnbG9iYWwuT2JzZXJ2ZXIub2JzZXJ2ZXJTZW50aW5lbF89b2JzZXJ2ZXJTZW50aW5lbCxnbG9iYWwuT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZT1oYXNPYnNlcnZlLGdsb2JhbC5BcnJheU9ic2VydmVyPUFycmF5T2JzZXJ2ZXIsZ2xvYmFsLkFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcz1mdW5jdGlvbihhLGIpe3JldHVybiBhcnJheVNwbGljZS5jYWxjdWxhdGVTcGxpY2VzKGEsYil9LGdsb2JhbC5BcnJheVNwbGljZT1BcnJheVNwbGljZSxnbG9iYWwuT2JqZWN0T2JzZXJ2ZXI9T2JqZWN0T2JzZXJ2ZXIsZ2xvYmFsLlBhdGhPYnNlcnZlcj1QYXRoT2JzZXJ2ZXIsZ2xvYmFsLkNvbXBvdW5kT2JzZXJ2ZXI9Q29tcG91bmRPYnNlcnZlcixnbG9iYWwuUGF0aD1QYXRoLGdsb2JhbC5PYnNlcnZlclRyYW5zZm9ybT1PYnNlcnZlclRyYW5zZm9ybX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSxQbGF0Zm9ybS5mbGFncy5zaGFkb3c/KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gYyhhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPUwoYiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO0soYSxlLE0oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1MKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtzd2l0Y2goZSl7Y2FzZSJhcmd1bWVudHMiOmNhc2UiY2FsbGVyIjpjYXNlImxlbmd0aCI6Y2FzZSJuYW1lIjpjYXNlInByb3RvdHlwZSI6Y2FzZSJ0b1N0cmluZyI6Y29udGludWV9SyhhLGUsTShiLGUpKX1yZXR1cm4gYX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZyhhLGIsYyl7Ti52YWx1ZT1jLEsoYSxiLE4pfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPUcuZ2V0KGIpO2lmKGMpcmV0dXJuIGM7dmFyIGQ9aChiKSxlPXYoZCk7cmV0dXJuIHMoYixlLGEpLGV9ZnVuY3Rpb24gaShhLGIpe3EoYSxiLCEwKX1mdW5jdGlvbiBqKGEsYil7cShiLGEsITEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuL15vblthLXpdKyQvLnRlc3QoYSl9ZnVuY3Rpb24gbChhKXtyZXR1cm4vXlx3W2EtekEtWl8wLTldKiQvLnRlc3QoYSl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gSiYmbChhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLmltcGwuIithKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV19fWZ1bmN0aW9uIG4oYSl7cmV0dXJuIEomJmwoYSk/bmV3IEZ1bmN0aW9uKCJ2IiwidGhpcy5pbXBsLiIrYSsiID0gdiIpOmZ1bmN0aW9uKGIpe3RoaXMuaW1wbFthXT1ifX1mdW5jdGlvbiBvKGEpe3JldHVybiBKJiZsKGEpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuaW1wbC4iK2ErIi5hcHBseSh0aGlzLmltcGwsIGFyZ3VtZW50cykiKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHAoYSxiKXt0cnl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKX1jYXRjaChjKXtyZXR1cm4gUH19ZnVuY3Rpb24gcShiLGMsZCl7Zm9yKHZhciBlPUwoYiksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdO2lmKCJwb2x5bWVyQmxhY2tMaXN0XyIhPT1nJiYhKGcgaW4gY3x8Yi5wb2x5bWVyQmxhY2tMaXN0XyYmYi5wb2x5bWVyQmxhY2tMaXN0X1tnXSkpe08mJmIuX19sb29rdXBHZXR0ZXJfXyhnKTt2YXIgaCxpLGo9cChiLGcpO2lmKGQmJiJmdW5jdGlvbiI9PXR5cGVvZiBqLnZhbHVlKWNbZ109byhnKTtlbHNle3ZhciBsPWsoZyk7aD1sP2EuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyKGcpOm0oZyksKGoud3JpdGFibGV8fGouc2V0KSYmKGk9bD9hLmdldEV2ZW50SGFuZGxlclNldHRlcihnKTpuKGcpKSxLKGMsZyx7Z2V0Omgsc2V0OmksY29uZmlndXJhYmxlOmouY29uZmlndXJhYmxlLGVudW1lcmFibGU6ai5lbnVtZXJhYmxlfSl9fX19ZnVuY3Rpb24gcihhLGIsYyl7dmFyIGQ9YS5wcm90b3R5cGU7cyhkLGIsYyksZShiLGEpfWZ1bmN0aW9uIHMoYSxiLGQpe3ZhciBlPWIucHJvdG90eXBlO2Modm9pZCAwPT09Ry5nZXQoYSkpLEcuc2V0KGEsYiksSC5zZXQoZSxhKSxpKGEsZSksZCYmaihlLGQpLGcoZSwiY29uc3RydWN0b3IiLGIpLGIucHJvdG90eXBlPWV9ZnVuY3Rpb24gdChhLGIpe3JldHVybiBHLmdldChiLnByb3RvdHlwZSk9PT1hfWZ1bmN0aW9uIHUoYSl7dmFyIGI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGM9aChiKSxkPXYoYyk7cmV0dXJuIHMoYixkLGEpLGR9ZnVuY3Rpb24gdihhKXtmdW5jdGlvbiBiKGIpe2EuY2FsbCh0aGlzLGIpfXZhciBjPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpO3JldHVybiBjLmNvbnN0cnVjdG9yPWIsYi5wcm90b3R5cGU9YyxifWZ1bmN0aW9uIHcoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBJLkV2ZW50VGFyZ2V0fHxhIGluc3RhbmNlb2YgSS5FdmVudHx8YSBpbnN0YW5jZW9mIEkuUmFuZ2V8fGEgaW5zdGFuY2VvZiBJLkRPTUltcGxlbWVudGF0aW9ufHxhIGluc3RhbmNlb2YgSS5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8fEkuV2ViR0xSZW5kZXJpbmdDb250ZXh0JiZhIGluc3RhbmNlb2YgSS5XZWJHTFJlbmRlcmluZ0NvbnRleHR9ZnVuY3Rpb24geChhKXtyZXR1cm4gUiYmYSBpbnN0YW5jZW9mIFJ8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFV8fGEgaW5zdGFuY2VvZiBWfHxhIGluc3RhbmNlb2YgUXx8YSBpbnN0YW5jZW9mIFd8fFgmJmEgaW5zdGFuY2VvZiBYfHxZJiZhIGluc3RhbmNlb2YgWX1mdW5jdGlvbiB5KGEpe3JldHVybiBudWxsPT09YT9udWxsOihjKHgoYSkpLGEucG9seW1lcldyYXBwZXJffHwoYS5wb2x5bWVyV3JhcHBlcl89bmV3KGgoYSkpKGEpKSl9ZnVuY3Rpb24geihhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYyh3KGEpKSxhLmltcGwpfWZ1bmN0aW9uIEEoYSl7cmV0dXJuIGEmJncoYSk/eihhKTphfWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGEmJiF3KGEpP3koYSk6YX1mdW5jdGlvbiBDKGEsYil7bnVsbCE9PWImJihjKHgoYSkpLGModm9pZCAwPT09Ynx8dyhiKSksYS5wb2x5bWVyV3JhcHBlcl89Yil9ZnVuY3Rpb24gRChhLGIsYyl7Wi5nZXQ9YyxLKGEucHJvdG90eXBlLGIsWil9ZnVuY3Rpb24gRShhLGIpe0QoYSxiLGZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcy5pbXBsW2JdKX0pfWZ1bmN0aW9uIEYoYSxiKXthLmZvckVhY2goZnVuY3Rpb24oYSl7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7dmFyIGE9Qih0aGlzKTtyZXR1cm4gYVtiXS5hcHBseShhLGFyZ3VtZW50cyl9fSl9KX12YXIgRz1uZXcgV2Vha01hcCxIPW5ldyBXZWFrTWFwLEk9T2JqZWN0LmNyZWF0ZShudWxsKSxKPWIoKSxLPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxMPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLE09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixOPXt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O0wod2luZG93KTt2YXIgTz0vRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxQPXtnZXQ6ZnVuY3Rpb24oKXt9LHNldDpmdW5jdGlvbigpe30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9LFE9d2luZG93LkRPTUltcGxlbWVudGF0aW9uLFI9d2luZG93LkV2ZW50VGFyZ2V0LFM9d2luZG93LkV2ZW50LFQ9d2luZG93Lk5vZGUsVT13aW5kb3cuV2luZG93LFY9d2luZG93LlJhbmdlLFc9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxYPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQsWT13aW5kb3cuU1ZHRWxlbWVudEluc3RhbmNlLFo9e2dldDp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9O2EuYXNzZXJ0PWMsYS5jb25zdHJ1Y3RvclRhYmxlPUcsYS5kZWZpbmVHZXR0ZXI9RCxhLmRlZmluZVdyYXBHZXR0ZXI9RSxhLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyPUYsYS5pc1dyYXBwZXI9dyxhLmlzV3JhcHBlckZvcj10LGEubWl4aW49ZCxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlPUgsYS5vbmVPZj1mLGEucmVnaXN0ZXJPYmplY3Q9dSxhLnJlZ2lzdGVyV3JhcHBlcj1yLGEucmV3cmFwPUMsYS51bndyYXA9eixhLnVud3JhcElmTmVlZGVkPUEsYS53cmFwPXksYS53cmFwSWZOZWVkZWQ9QixhLndyYXBwZXJzPUl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtnPSExO3ZhciBhPWYuc2xpY2UoMCk7Zj1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl9ZnVuY3Rpb24gYyhhKXtmLnB1c2goYSksZ3x8KGc9ITAsZChiLDApKX12YXIgZCxlPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyLGY9W10sZz0hMTtpZihlKXt2YXIgaD0xLGk9bmV3IGUoYiksaj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShoKTtpLm9ic2VydmUoaix7Y2hhcmFjdGVyRGF0YTohMH0pLGQ9ZnVuY3Rpb24oKXtoPShoKzEpJTIsai5kYXRhPWh9fWVsc2UgZD13aW5kb3cuc2V0SW1tZWRpYXRlfHx3aW5kb3cuc2V0VGltZW91dDthLnNldEVuZE9mTWljcm90YXNrPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtwfHwoayhjKSxwPSEwKX1mdW5jdGlvbiBjKCl7cD0hMTtkbyBmb3IodmFyIGE9by5zbGljZSgpLGI9ITEsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLGU9ZC50YWtlUmVjb3JkcygpO2YoZCksZS5sZW5ndGgmJihkLmNhbGxiYWNrXyhlLGQpLGI9ITApfXdoaWxlKGIpfWZ1bmN0aW9uIGQoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnJlbW92ZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBlKGEsYil7Zm9yKDthO2E9YS5wYXJlbnROb2RlKXt2YXIgYz1uLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2Uub3B0aW9ucy5zdWJ0cmVlJiZlLmFkZFRyYW5zaWVudE9ic2VydmVyKGIpfX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPGEubm9kZXNfLmxlbmd0aDtiKyspe3ZhciBjPWEubm9kZXNfW2JdLGQ9bi5nZXQoYyk7aWYoIWQpcmV0dXJuO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2Yub2JzZXJ2ZXI9PT1hJiZmLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfX19ZnVuY3Rpb24gZyhhLGMsZSl7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCksZz1PYmplY3QuY3JlYXRlKG51bGwpLGg9YTtoO2g9aC5wYXJlbnROb2RlKXt2YXIgaT1uLmdldChoKTtpZihpKWZvcih2YXIgaj0wO2o8aS5sZW5ndGg7aisrKXt2YXIgaz1pW2pdLGw9ay5vcHRpb25zO2lmKChoPT09YXx8bC5zdWJ0cmVlKSYmISgiYXR0cmlidXRlcyI9PT1jJiYhbC5hdHRyaWJ1dGVzfHwiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZUZpbHRlciYmKG51bGwhPT1lLm5hbWVzcGFjZXx8LTE9PT1sLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGUubmFtZSkpfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiYhbC5jaGFyYWN0ZXJEYXRhfHwiY2hpbGRMaXN0Ij09PWMmJiFsLmNoaWxkTGlzdCkpe3ZhciBtPWsub2JzZXJ2ZXI7ZlttLnVpZF9dPW0sKCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlT2xkVmFsdWV8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJmwuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKSYmKGdbbS51aWRfXT1lLm9sZFZhbHVlKX19fXZhciBvPSExO2Zvcih2YXIgcCBpbiBmKXt2YXIgbT1mW3BdLHE9bmV3IGQoYyxhKTsibmFtZSJpbiBlJiYibmFtZXNwYWNlImluIGUmJihxLmF0dHJpYnV0ZU5hbWU9ZS5uYW1lLHEuYXR0cmlidXRlTmFtZXNwYWNlPWUubmFtZXNwYWNlKSxlLmFkZGVkTm9kZXMmJihxLmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzKSxlLnJlbW92ZWROb2RlcyYmKHEucmVtb3ZlZE5vZGVzPWUucmVtb3ZlZE5vZGVzKSxlLnByZXZpb3VzU2libGluZyYmKHEucHJldmlvdXNTaWJsaW5nPWUucHJldmlvdXNTaWJsaW5nKSxlLm5leHRTaWJsaW5nJiYocS5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nKSx2b2lkIDAhPT1nW3BdJiYocS5vbGRWYWx1ZT1nW3BdKSxtLnJlY29yZHNfLnB1c2gocSksbz0hMH1vJiZiKCl9ZnVuY3Rpb24gaChhKXtpZih0aGlzLmNoaWxkTGlzdD0hIWEuY2hpbGRMaXN0LHRoaXMuc3VidHJlZT0hIWEuc3VidHJlZSx0aGlzLmF0dHJpYnV0ZXM9ImF0dHJpYnV0ZXMiaW4gYXx8ISgiYXR0cmlidXRlT2xkVmFsdWUiaW4gYXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKT8hIWEuYXR0cmlidXRlczohMCx0aGlzLmNoYXJhY3RlckRhdGE9ImNoYXJhY3RlckRhdGFPbGRWYWx1ZSJpbiBhJiYhKCJjaGFyYWN0ZXJEYXRhImluIGEpPyEwOiEhYS5jaGFyYWN0ZXJEYXRhLCF0aGlzLmF0dHJpYnV0ZXMmJihhLmF0dHJpYnV0ZU9sZFZhbHVlfHwiYXR0cmlidXRlRmlsdGVyImluIGEpfHwhdGhpcy5jaGFyYWN0ZXJEYXRhJiZhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl0aHJvdyBuZXcgVHlwZUVycm9yO2lmKHRoaXMuY2hhcmFjdGVyRGF0YT0hIWEuY2hhcmFjdGVyRGF0YSx0aGlzLmF0dHJpYnV0ZU9sZFZhbHVlPSEhYS5hdHRyaWJ1dGVPbGRWYWx1ZSx0aGlzLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT0hIWEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlLCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSl7aWYobnVsbD09YS5hdHRyaWJ1dGVGaWx0ZXJ8fCJvYmplY3QiIT10eXBlb2YgYS5hdHRyaWJ1dGVGaWx0ZXIpdGhyb3cgbmV3IFR5cGVFcnJvcjt0aGlzLmF0dHJpYnV0ZUZpbHRlcj1xLmNhbGwoYS5hdHRyaWJ1dGVGaWx0ZXIpfWVsc2UgdGhpcy5hdHRyaWJ1dGVGaWx0ZXI9bnVsbH1mdW5jdGlvbiBpKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89KytyLG8ucHVzaCh0aGlzKX1mdW5jdGlvbiBqKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIGs9YS5zZXRFbmRPZk1pY3JvdGFzayxsPWEud3JhcElmTmVlZGVkLG09YS53cmFwcGVycyxuPW5ldyBXZWFrTWFwLG89W10scD0hMSxxPUFycmF5LnByb3RvdHlwZS5zbGljZSxyPTA7aS5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXthPWwoYSk7dmFyIGMsZD1uZXcgaChiKSxlPW4uZ2V0KGEpO2V8fG4uc2V0KGEsZT1bXSk7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspZVtmXS5vYnNlcnZlcj09PXRoaXMmJihjPWVbZl0sYy5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKSxjLm9wdGlvbnM9ZCk7Y3x8KGM9bmV3IGoodGhpcyxhLGQpLGUucHVzaChjKSx0aGlzLm5vZGVzXy5wdXNoKGEpKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW4uZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19LGoucHJvdG90eXBlPXthZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPW4uZ2V0KGEpO2J8fG4uc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylmb3IodmFyIGM9YVtiXSxkPW4uZ2V0KGMpLGU9MDtlPGQubGVuZ3RoO2UrKylpZihkW2VdPT09dGhpcyl7ZC5zcGxpY2UoZSwxKTticmVha319fSxhLmVucXVldWVNdXRhdGlvbj1nLGEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnM9ZSxhLndyYXBwZXJzLk11dGF0aW9uT2JzZXJ2ZXI9aSxhLndyYXBwZXJzLk11dGF0aW9uUmVjb3JkPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXt0aGlzLnJvb3Q9YSx0aGlzLnBhcmVudD1ifWZ1bmN0aW9uIGMoYSxiKXtpZihhLnRyZWVTY29wZV8hPT1iKXthLnRyZWVTY29wZV89Yjtmb3IodmFyIGQ9YS5zaGFkb3dSb290O2Q7ZD1kLm9sZGVyU2hhZG93Um9vdClkLnRyZWVTY29wZV8ucGFyZW50PWI7Zm9yKHZhciBlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljKGUsYil9fWZ1bmN0aW9uIGQoYyl7aWYoYyBpbnN0YW5jZW9mIGEud3JhcHBlcnMuV2luZG93LGMudHJlZVNjb3BlXylyZXR1cm4gYy50cmVlU2NvcGVfO3ZhciBlLGY9Yy5wYXJlbnROb2RlO3JldHVybiBlPWY/ZChmKTpuZXcgYihjLG51bGwpLGMudHJlZVNjb3BlXz1lfWIucHJvdG90eXBlPXtnZXQgcmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5yb290IGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290P2EuZ2V0UmVuZGVyZXJGb3JIb3N0KHRoaXMucm9vdC5ob3N0KTpudWxsfSxjb250YWluczpmdW5jdGlvbihhKXtmb3IoO2E7YT1hLnBhcmVudClpZihhPT09dGhpcylyZXR1cm4hMDtyZXR1cm4hMX19LGEuVHJlZVNjb3BlPWIsYS5nZXRUcmVlU2NvcGU9ZCxhLnNldFRyZWVTY29wZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIEwoYSkucm9vdH1mdW5jdGlvbiBkKGEsZCl7dmFyIGg9W10saT1hO2ZvcihoLnB1c2goaSk7aTspe3ZhciBqPWcoaSk7aWYoaiYmai5sZW5ndGg+MCl7Zm9yKHZhciBrPTA7azxqLmxlbmd0aDtrKyspe3ZhciBtPWpba107aWYoZihtKSl7dmFyIG49YyhtKSxvPW4ub2xkZXJTaGFkb3dSb290O28mJmgucHVzaChvKX1oLnB1c2gobSl9aT1qW2oubGVuZ3RoLTFdfWVsc2UgaWYoYihpKSl7aWYobChhLGkpJiZlKGQpKWJyZWFrO2k9aS5ob3N0LGgucHVzaChpKX1lbHNlIGk9aS5wYXJlbnROb2RlLGkmJmgucHVzaChpKX1yZXR1cm4gaH1mdW5jdGlvbiBlKGEpe2lmKCFhKXJldHVybiExO3N3aXRjaChhLnR5cGUpe2Nhc2UiYWJvcnQiOmNhc2UiZXJyb3IiOmNhc2Uic2VsZWN0IjpjYXNlImNoYW5nZSI6Y2FzZSJsb2FkIjpjYXNlInJlc2V0IjpjYXNlInJlc2l6ZSI6Y2FzZSJzY3JvbGwiOmNhc2Uic2VsZWN0c3RhcnQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MU2hhZG93RWxlbWVudH1mdW5jdGlvbiBnKGIpe3JldHVybiBhLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzKGIpfWZ1bmN0aW9uIGgoYSxiKXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIGI7YiBpbnN0YW5jZW9mIFEuV2luZG93JiYoYj1iLmRvY3VtZW50KTtmb3IodmFyIGM9TChiKSxkPWFbMF0sZT1MKGQpLGY9aihjLGUpLGc9MDtnPGEubGVuZ3RoO2crKyl7dmFyIGg9YVtnXTsKaWYoTChoKT09PWYpcmV0dXJuIGh9cmV0dXJuIGFbYS5sZW5ndGgtMV19ZnVuY3Rpb24gaShhKXtmb3IodmFyIGI9W107YTthPWEucGFyZW50KWIucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBqKGEsYil7Zm9yKHZhciBjPWkoYSksZD1pKGIpLGU9bnVsbDtjLmxlbmd0aD4wJiZkLmxlbmd0aD4wOyl7dmFyIGY9Yy5wb3AoKSxnPWQucG9wKCk7aWYoZiE9PWcpYnJlYWs7ZT1mfXJldHVybiBlfWZ1bmN0aW9uIGsoYSxiLGMpe2IgaW5zdGFuY2VvZiBRLldpbmRvdyYmKGI9Yi5kb2N1bWVudCk7dmFyIGUsZj1MKGIpLGc9TChjKSxoPWQoYyxhKSxlPWooZixnKTtlfHwoZT1nLnJvb3QpO2Zvcih2YXIgaT1lO2k7aT1pLnBhcmVudClmb3IodmFyIGs9MDtrPGgubGVuZ3RoO2srKyl7dmFyIGw9aFtrXTtpZihMKGwpPT09aSlyZXR1cm4gbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGEsYil7cmV0dXJuIEwoYSk9PT1MKGIpfWZ1bmN0aW9uIG0oYSl7aWYoIVMuZ2V0KGEpJiYoUy5zZXQoYSwhMCksbihQKGEpLFAoYS50YXJnZXQpKSxKKSl7dmFyIGI9Sjt0aHJvdyBKPW51bGwsYn19ZnVuY3Rpb24gbihiLGMpe2lmKFQuZ2V0KGIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFN0YXRlRXJyb3IiKTtULnNldChiLCEwKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZSxmLGcsaD1iLnR5cGU7aWYoImxvYWQiPT09aCYmIWIuYnViYmxlcyl7dmFyIGk9YztpIGluc3RhbmNlb2YgUS5Eb2N1bWVudCYmKGc9aS5kZWZhdWx0VmlldykmJihmPWksZT1bXSl9aWYoIWUpaWYoYyBpbnN0YW5jZW9mIFEuV2luZG93KWc9YyxlPVtdO2Vsc2UgaWYoZT1kKGMsYiksImxvYWQiIT09Yi50eXBlKXt2YXIgaT1lW2UubGVuZ3RoLTFdO2kgaW5zdGFuY2VvZiBRLkRvY3VtZW50JiYoZz1pLmRlZmF1bHRWaWV3KX1yZXR1cm4gXy5zZXQoYixlKSxvKGIsZSxnLGYpJiZwKGIsZSxnLGYpJiZxKGIsZSxnLGYpLFguc2V0KGIsYWIpLFYuZGVsZXRlKGIsbnVsbCksVC5kZWxldGUoYiksYi5kZWZhdWx0UHJldmVudGVkfWZ1bmN0aW9uIG8oYSxiLGMsZCl7dmFyIGU9YmI7aWYoYyYmIXIoYyxhLGUsYixkKSlyZXR1cm4hMTtmb3IodmFyIGY9Yi5sZW5ndGgtMTtmPjA7Zi0tKWlmKCFyKGJbZl0sYSxlLGIsZCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcChhLGIsYyxkKXt2YXIgZT1jYixmPWJbMF18fGM7cmV0dXJuIHIoZixhLGUsYixkKX1mdW5jdGlvbiBxKGEsYixjLGQpe2Zvcih2YXIgZT1kYixmPTE7ZjxiLmxlbmd0aDtmKyspaWYoIXIoYltmXSxhLGUsYixkKSlyZXR1cm47YyYmYi5sZW5ndGg+MCYmcihjLGEsZSxiLGQpfWZ1bmN0aW9uIHIoYSxiLGMsZCxlKXt2YXIgZj1SLmdldChhKTtpZighZilyZXR1cm4hMDt2YXIgZz1lfHxoKGQsYSk7aWYoZz09PWEpe2lmKGM9PT1iYilyZXR1cm4hMDtjPT09ZGImJihjPWNiKX1lbHNlIGlmKGM9PT1kYiYmIWIuYnViYmxlcylyZXR1cm4hMDtpZigicmVsYXRlZFRhcmdldCJpbiBiKXt2YXIgaT1PKGIpLGo9aS5yZWxhdGVkVGFyZ2V0O2lmKGope2lmKGogaW5zdGFuY2VvZiBPYmplY3QmJmouYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGw9UChqKSxtPWsoYixhLGwpO2lmKG09PT1nKXJldHVybiEwfWVsc2UgbT1udWxsO1cuc2V0KGIsbSl9fVguc2V0KGIsYyk7dmFyIG49Yi50eXBlLG89ITE7VS5zZXQoYixnKSxWLnNldChiLGEpO2Zvcih2YXIgcD0wLHE9Zi5sZW5ndGg7cT5wO3ArKyl7dmFyIHI9ZltwXTtpZihyLnJlbW92ZWQpbz0hMDtlbHNlIGlmKCEoci50eXBlIT09bnx8IXIuY2FwdHVyZSYmYz09PWJifHxyLmNhcHR1cmUmJmM9PT1kYikpdHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByLmhhbmRsZXI/ci5oYW5kbGVyLmNhbGwoYSxiKTpyLmhhbmRsZXIuaGFuZGxlRXZlbnQoYiksWi5nZXQoYikpcmV0dXJuITF9Y2F0Y2gocyl7Snx8KEo9cyl9fWlmKG8pe3ZhciB0PWYuc2xpY2UoKTtmLmxlbmd0aD0wO2Zvcih2YXIgcD0wO3A8dC5sZW5ndGg7cCsrKXRbcF0ucmVtb3ZlZHx8Zi5wdXNoKHRbcF0pfXJldHVybiFZLmdldChiKX1mdW5jdGlvbiBzKGEsYixjKXt0aGlzLnR5cGU9YSx0aGlzLmhhbmRsZXI9Yix0aGlzLmNhcHR1cmU9Qm9vbGVhbihjKX1mdW5jdGlvbiB0KGEsYil7aWYoIShhIGluc3RhbmNlb2YgZWIpKXJldHVybiBQKHgoZWIsIkV2ZW50IixhLGIpKTt2YXIgYz1hO3JldHVybiBwYnx8ImJlZm9yZXVubG9hZCIhPT1jLnR5cGU/dm9pZCh0aGlzLmltcGw9Yyk6bmV3IHkoYyl9ZnVuY3Rpb24gdShhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6TyhhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24gdihhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6UCh4KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTShlLnByb3RvdHlwZSxjKSxkKXRyeXtOKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtOKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24gdyhhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1PKGFyZ3VtZW50c1tiXSk7dmFyIGM9Tyh0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geChhLGIsYyxkKXtpZihuYilyZXR1cm4gbmV3IGEoYyx1KGQpKTt2YXIgZT1PKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPW1iW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9TyhiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIHkoYSl7dC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24geihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEEoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEIoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gQyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxPKGEpfWZ1bmN0aW9uIEQoYSxiKXt2YXIgYz1SLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRShhLGIpe2Zvcih2YXIgYz1PKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRChQKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEYoYSl7SyhhLHJiKX1mdW5jdGlvbiBHKGIsYyxlLGYpe2EucmVuZGVyQWxsUGVuZGluZygpO3ZhciBnPVAoc2IuY2FsbChjLmltcGwsZSxmKSk7aWYoIWcpcmV0dXJuIG51bGw7dmFyIGk9ZChnLG51bGwpLGo9aS5sYXN0SW5kZXhPZihiKTtyZXR1cm4tMT09aj9udWxsOihpPWkuc2xpY2UoMCxqKSxoKGksYikpfWZ1bmN0aW9uIEgoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9JC5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEkoYSl7dmFyIGI9YS5zbGljZSgyKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9JC5nZXQodGhpcyk7ZHx8KGQ9T2JqZWN0LmNyZWF0ZShudWxsKSwkLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIGMpe3ZhciBmPWZ1bmN0aW9uKGIpe3ZhciBkPWMuY2FsbCh0aGlzLGIpO2Q9PT0hMT9iLnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWEmJiJzdHJpbmciPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBKLEs9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixMPWEuZ2V0VHJlZVNjb3BlLE09YS5taXhpbixOPWEucmVnaXN0ZXJXcmFwcGVyLE89YS51bndyYXAsUD1hLndyYXAsUT1hLndyYXBwZXJzLFI9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxTPW5ldyBXZWFrTWFwLFQ9bmV3IFdlYWtNYXAsVT1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsWD1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLFo9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwLGFiPTAsYmI9MSxjYj0yLGRiPTM7cy5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYW5kbGVyPT09YS5oYW5kbGVyJiZ0aGlzLnR5cGU9PT1hLnR5cGUmJnRoaXMuY2FwdHVyZT09PWEuY2FwdHVyZX0sZ2V0IHJlbW92ZWQoKXtyZXR1cm4gbnVsbD09PXRoaXMuaGFuZGxlcn0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyPW51bGx9fTt2YXIgZWI9d2luZG93LkV2ZW50O2ViLnByb3RvdHlwZS5wb2x5bWVyQmxhY2tMaXN0Xz17cmV0dXJuVmFsdWU6ITAsa2V5TG9jYXRpb246ITB9LHQucHJvdG90eXBlPXtnZXQgdGFyZ2V0KCl7cmV0dXJuIFUuZ2V0KHRoaXMpfSxnZXQgY3VycmVudFRhcmdldCgpe3JldHVybiBWLmdldCh0aGlzKX0sZ2V0IGV2ZW50UGhhc2UoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBwYXRoKCl7dmFyIGE9Xy5nZXQodGhpcyk7cmV0dXJuIGE/YS5zbGljZSgpOltdfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7WS5zZXQodGhpcywhMCksWi5zZXQodGhpcywhMCl9fSxOKGViLHQsZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IikpO3ZhciBmYj12KCJVSUV2ZW50Iix0KSxnYj12KCJDdXN0b21FdmVudCIsdCksaGI9e2dldCByZWxhdGVkVGFyZ2V0KCl7dmFyIGE9Vy5nZXQodGhpcyk7cmV0dXJuIHZvaWQgMCE9PWE/YTpQKE8odGhpcykucmVsYXRlZFRhcmdldCl9fSxpYj1NKHtpbml0TW91c2VFdmVudDp3KCJpbml0TW91c2VFdmVudCIsMTQpfSxoYiksamI9TSh7aW5pdEZvY3VzRXZlbnQ6dygiaW5pdEZvY3VzRXZlbnQiLDUpfSxoYiksa2I9digiTW91c2VFdmVudCIsZmIsaWIpLGxiPXYoIkZvY3VzRXZlbnQiLGZiLGpiKSxtYj1PYmplY3QuY3JlYXRlKG51bGwpLG5iPWZ1bmN0aW9uKCl7dHJ5e25ldyB3aW5kb3cuRm9jdXNFdmVudCgiZm9jdXMiKX1jYXRjaChhKXtyZXR1cm4hMX1yZXR1cm4hMH0oKTtpZighbmIpe3ZhciBvYj1mdW5jdGlvbihhLGIsYyl7aWYoYyl7dmFyIGQ9bWJbY107Yj1NKE0oe30sZCksYil9bWJbYV09Yn07b2IoIkV2ZW50Iix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExfSksb2IoIkN1c3RvbUV2ZW50Iix7ZGV0YWlsOm51bGx9LCJFdmVudCIpLG9iKCJVSUV2ZW50Iix7dmlldzpudWxsLGRldGFpbDowfSwiRXZlbnQiKSxvYigiTW91c2VFdmVudCIse3NjcmVlblg6MCxzY3JlZW5ZOjAsY2xpZW50WDowLGNsaWVudFk6MCxjdHJsS2V5OiExLGFsdEtleTohMSxzaGlmdEtleTohMSxtZXRhS2V5OiExLGJ1dHRvbjowLHJlbGF0ZWRUYXJnZXQ6bnVsbH0sIlVJRXZlbnQiKSxvYigiRm9jdXNFdmVudCIse3JlbGF0ZWRUYXJnZXQ6bnVsbH0sIlVJRXZlbnQiKX12YXIgcGI9d2luZG93LkJlZm9yZVVubG9hZEV2ZW50O3kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLE0oeS5wcm90b3R5cGUse2dldCByZXR1cm5WYWx1ZSgpe3JldHVybiB0aGlzLmltcGwucmV0dXJuVmFsdWV9LHNldCByZXR1cm5WYWx1ZShhKXt0aGlzLmltcGwucmV0dXJuVmFsdWU9YX19KSxwYiYmTihwYix5KTt2YXIgcWI9d2luZG93LkV2ZW50VGFyZ2V0LHJiPVsiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50Il07W05vZGUsV2luZG93XS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEucHJvdG90eXBlO3JiLmZvckVhY2goZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsYSsiXyIse3ZhbHVlOmJbYV19KX0pfSksQi5wcm90b3R5cGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2lmKHooYikmJiFBKGEpKXt2YXIgZD1uZXcgcyhhLGIsYyksZT1SLmdldCh0aGlzKTtpZihlKXtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKylpZihkLmVxdWFscyhlW2ZdKSlyZXR1cm59ZWxzZSBlPVtdLFIuc2V0KHRoaXMsZSk7ZS5wdXNoKGQpO3ZhciBnPUModGhpcyk7Zy5hZGRFdmVudExpc3RlbmVyXyhhLG0sITApfX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7Yz1Cb29sZWFuKGMpO3ZhciBkPVIuZ2V0KHRoaXMpO2lmKGQpe2Zvcih2YXIgZT0wLGY9ITEsZz0wO2c8ZC5sZW5ndGg7ZysrKWRbZ10udHlwZT09PWEmJmRbZ10uY2FwdHVyZT09PWMmJihlKyssZFtnXS5oYW5kbGVyPT09YiYmKGY9ITAsZFtnXS5yZW1vdmUoKSkpO2lmKGYmJjE9PT1lKXt2YXIgaD1DKHRoaXMpO2gucmVtb3ZlRXZlbnRMaXN0ZW5lcl8oYSxtLCEwKX19fSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGIpe3ZhciBjPU8oYiksZD1jLnR5cGU7Uy5zZXQoYywhMSksYS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGU7RSh0aGlzLGQpfHwoZT1mdW5jdGlvbigpe30sdGhpcy5hZGRFdmVudExpc3RlbmVyKGQsZSwhMCkpO3RyeXtyZXR1cm4gTyh0aGlzKS5kaXNwYXRjaEV2ZW50XyhjKX1maW5hbGx5e2UmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLGUsITApfX19LHFiJiZOKHFiLEIpO3ZhciBzYj1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50O2EuZWxlbWVudEZyb21Qb2ludD1HLGEuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyPUgsYS5nZXRFdmVudEhhbmRsZXJTZXR0ZXI9SSxhLndyYXBFdmVudFRhcmdldE1ldGhvZHM9RixhLndyYXBwZXJzLkJlZm9yZVVubG9hZEV2ZW50PXksYS53cmFwcGVycy5DdXN0b21FdmVudD1nYixhLndyYXBwZXJzLkV2ZW50PXQsYS53cmFwcGVycy5FdmVudFRhcmdldD1CLGEud3JhcHBlcnMuRm9jdXNFdmVudD1sYixhLndyYXBwZXJzLk1vdXNlRXZlbnQ9a2IsYS53cmFwcGVycy5VSUV2ZW50PWZifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYixvKX1mdW5jdGlvbiBjKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGQoKXt0aGlzLmxlbmd0aD0wLGIodGhpcywibGVuZ3RoIil9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9bmV3IGQsZT0wO2U8YS5sZW5ndGg7ZSsrKWJbZV09bmV3IGMoYVtlXSk7cmV0dXJuIGIubGVuZ3RoPWUsYn1mdW5jdGlvbiBmKGEpe2cuY2FsbCh0aGlzLGEpfXZhciBnPWEud3JhcHBlcnMuVUlFdmVudCxoPWEubWl4aW4saT1hLnJlZ2lzdGVyV3JhcHBlcixqPWEudW53cmFwLGs9YS53cmFwLGw9d2luZG93LlRvdWNoRXZlbnQ7aWYobCl7dmFyIG07dHJ5e209ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIlRvdWNoRXZlbnQiKX1jYXRjaChuKXtyZXR1cm59dmFyIG89e2VudW1lcmFibGU6ITF9O2MucHJvdG90eXBlPXtnZXQgdGFyZ2V0KCl7cmV0dXJuIGsodGhpcy5pbXBsLnRhcmdldCl9fTt2YXIgcD17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0Om51bGx9O1siY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBhZ2VYIiwicGFnZVkiLCJpZGVudGlmaWVyIiwid2Via2l0UmFkaXVzWCIsIndlYmtpdFJhZGl1c1kiLCJ3ZWJraXRSb3RhdGlvbkFuZ2xlIiwid2Via2l0Rm9yY2UiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3AuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLGEscCl9KSxkLnByb3RvdHlwZT17aXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1thXX19LGYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZy5wcm90b3R5cGUpLGgoZi5wcm90b3R5cGUse2dldCB0b3VjaGVzKCl7cmV0dXJuIGUoaih0aGlzKS50b3VjaGVzKX0sZ2V0IHRhcmdldFRvdWNoZXMoKXtyZXR1cm4gZShqKHRoaXMpLnRhcmdldFRvdWNoZXMpfSxnZXQgY2hhbmdlZFRvdWNoZXMoKXtyZXR1cm4gZShqKHRoaXMpLmNoYW5nZWRUb3VjaGVzKX0saW5pdFRvdWNoRXZlbnQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfX0pLGkobCxmLG0pLGEud3JhcHBlcnMuVG91Y2g9YyxhLndyYXBwZXJzLlRvdWNoRXZlbnQ9ZixhLndyYXBwZXJzLlRvdWNoTGlzdD1kfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIsZyl9ZnVuY3Rpb24gYygpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBkKGEpe2lmKG51bGw9PWEpcmV0dXJuIGE7Zm9yKHZhciBiPW5ldyBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYltkXT1mKGFbZF0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZShhLGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19dmFyIGY9YS53cmFwLGc9e2VudW1lcmFibGU6ITF9O2MucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sYihjLnByb3RvdHlwZSwiaXRlbSIpLGEud3JhcHBlcnMuTm9kZUxpc3Q9YyxhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZD1lLGEud3JhcE5vZGVMaXN0PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Eud3JhcEhUTUxDb2xsZWN0aW9uPWEud3JhcE5vZGVMaXN0LGEud3JhcHBlcnMuSFRNTENvbGxlY3Rpb249YS53cmFwcGVycy5Ob2RlTGlzdH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtBKGEgaW5zdGFuY2VvZiB3KX1mdW5jdGlvbiBjKGEpe3ZhciBiPW5ldyB5O3JldHVybiBiWzBdPWEsYi5sZW5ndGg9MSxifWZ1bmN0aW9uIGQoYSxiLGMpe0MoYiwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmMscHJldmlvdXNTaWJsaW5nOmEucHJldmlvdXNTaWJsaW5nLG5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmd9KX1mdW5jdGlvbiBlKGEsYil7QyhhLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6Yn0pfWZ1bmN0aW9uIGYoYSxiLGQsZSl7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpe3ZhciBmPWgoYSk7Tz0hMDtmb3IodmFyIGc9Zi5sZW5ndGgtMTtnPj0wO2ctLSlhLnJlbW92ZUNoaWxkKGZbZ10pLGZbZ10ucGFyZW50Tm9kZV89YjtPPSExO2Zvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKWZbZ10ucHJldmlvdXNTaWJsaW5nXz1mW2ctMV18fGQsZltnXS5uZXh0U2libGluZ189ZltnKzFdfHxlO3JldHVybiBkJiYoZC5uZXh0U2libGluZ189ZlswXSksZSYmKGUucHJldmlvdXNTaWJsaW5nXz1mW2YubGVuZ3RoLTFdKSxmfXZhciBmPWMoYSksaT1hLnBhcmVudE5vZGU7cmV0dXJuIGkmJmkucmVtb3ZlQ2hpbGQoYSksYS5wYXJlbnROb2RlXz1iLGEucHJldmlvdXNTaWJsaW5nXz1kLGEubmV4dFNpYmxpbmdfPWUsZCYmKGQubmV4dFNpYmxpbmdfPWEpLGUmJihlLnByZXZpb3VzU2libGluZ189YSksZn1mdW5jdGlvbiBnKGEpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXJldHVybiBoKGEpO3ZhciBiPWMoYSksZT1hLnBhcmVudE5vZGU7cmV0dXJuIGUmJmQoYSxlLGIpLGJ9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9bmV3IHksYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBiLmxlbmd0aD1jLGUoYSxiKSxifWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gaihhLGIpe0koYSxiKSxhLm5vZGVJc0luc2VydGVkXygpfWZ1bmN0aW9uIGsoYSxiKXtmb3IodmFyIGM9RChiKSxkPTA7ZDxhLmxlbmd0aDtkKyspaihhW2RdLGMpfWZ1bmN0aW9uIGwoYSl7SShhLG5ldyB6KGEsbnVsbCkpfWZ1bmN0aW9uIG0oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspbChhW2JdKX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9YS5ub2RlVHlwZT09PXcuRE9DVU1FTlRfTk9ERT9hOmEub3duZXJEb2N1bWVudDtjIT09Yi5vd25lckRvY3VtZW50JiZjLmFkb3B0Tm9kZShiKX1mdW5jdGlvbiBvKGIsYyl7aWYoYy5sZW5ndGgpe3ZhciBkPWIub3duZXJEb2N1bWVudDtpZihkIT09Y1swXS5vd25lckRvY3VtZW50KWZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWEuYWRvcHROb2RlTm9SZW1vdmUoY1tlXSxkKX19ZnVuY3Rpb24gcChhLGIpe28oYSxiKTt2YXIgYz1iLmxlbmd0aDtpZigxPT09YylyZXR1cm4gSihiWzBdKTtmb3IodmFyIGQ9SihhLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxlPTA7Yz5lO2UrKylkLmFwcGVuZENoaWxkKEooYltlXSkpO3JldHVybiBkfWZ1bmN0aW9uIHEoYSl7aWYodm9pZCAwIT09YS5maXJzdENoaWxkXylmb3IodmFyIGI9YS5maXJzdENoaWxkXztiOyl7dmFyIGM9YjtiPWIubmV4dFNpYmxpbmdfLGMucGFyZW50Tm9kZV89Yy5wcmV2aW91c1NpYmxpbmdfPWMubmV4dFNpYmxpbmdfPXZvaWQgMH1hLmZpcnN0Q2hpbGRfPWEubGFzdENoaWxkXz12b2lkIDB9ZnVuY3Rpb24gcihhKXtpZihhLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpKXtmb3IodmFyIGI9YS5maXJzdENoaWxkO2I7KXtBKGIucGFyZW50Tm9kZT09PWEpO3ZhciBjPWIubmV4dFNpYmxpbmcsZD1KKGIpLGU9ZC5wYXJlbnROb2RlO2UmJlYuY2FsbChlLGQpLGIucHJldmlvdXNTaWJsaW5nXz1iLm5leHRTaWJsaW5nXz1iLnBhcmVudE5vZGVfPW51bGwsYj1jfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPW51bGx9ZWxzZSBmb3IodmFyIGMsZj1KKGEpLGc9Zi5maXJzdENoaWxkO2c7KWM9Zy5uZXh0U2libGluZyxWLmNhbGwoZixnKSxnPWN9ZnVuY3Rpb24gcyhhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9ZnVuY3Rpb24gdChhKXtmb3IodmFyIGIsYz0wO2M8YS5sZW5ndGg7YysrKWI9YVtjXSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9ZnVuY3Rpb24gdShhLGIsYyl7dmFyIGQ7aWYoZD1MKGM/UC5jYWxsKGMsYS5pbXBsLCExKTpRLmNhbGwoYS5pbXBsLCExKSksYil7Zm9yKHZhciBlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylkLmFwcGVuZENoaWxkKHUoZSwhMCxjKSk7aWYoYSBpbnN0YW5jZW9mIE4uSFRNTFRlbXBsYXRlRWxlbWVudClmb3IodmFyIGY9ZC5jb250ZW50LGU9YS5jb250ZW50LmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZi5hcHBlbmRDaGlsZCh1KGUsITAsYykpfXJldHVybiBkfWZ1bmN0aW9uIHYoYSxiKXtpZighYnx8RChhKSE9PUQoYikpcmV0dXJuITE7Zm9yKHZhciBjPWI7YztjPWMucGFyZW50Tm9kZSlpZihjPT09YSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB3KGEpe0EoYSBpbnN0YW5jZW9mIFIpLHguY2FsbCh0aGlzLGEpLHRoaXMucGFyZW50Tm9kZV89dm9pZCAwLHRoaXMuZmlyc3RDaGlsZF89dm9pZCAwLHRoaXMubGFzdENoaWxkXz12b2lkIDAsdGhpcy5uZXh0U2libGluZ189dm9pZCAwLHRoaXMucHJldmlvdXNTaWJsaW5nXz12b2lkIDAsdGhpcy50cmVlU2NvcGVfPXZvaWQgMH12YXIgeD1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LHk9YS53cmFwcGVycy5Ob2RlTGlzdCx6PWEuVHJlZVNjb3BlLEE9YS5hc3NlcnQsQj1hLmRlZmluZVdyYXBHZXR0ZXIsQz1hLmVucXVldWVNdXRhdGlvbixEPWEuZ2V0VHJlZVNjb3BlLEU9YS5pc1dyYXBwZXIsRj1hLm1peGluLEc9YS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycyxIPWEucmVnaXN0ZXJXcmFwcGVyLEk9YS5zZXRUcmVlU2NvcGUsSj1hLnVud3JhcCxLPWEudW53cmFwSWZOZWVkZWQsTD1hLndyYXAsTT1hLndyYXBJZk5lZWRlZCxOPWEud3JhcHBlcnMsTz0hMSxQPWRvY3VtZW50LmltcG9ydE5vZGUsUT13aW5kb3cuTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLFI9d2luZG93Lk5vZGUsUz13aW5kb3cuRG9jdW1lbnRGcmFnbWVudCxUPShSLnByb3RvdHlwZS5hcHBlbmRDaGlsZCxSLnByb3RvdHlwZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksVT1SLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUsVj1SLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxXPVIucHJvdG90eXBlLnJlcGxhY2VDaGlsZCxYPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFk9WD9mdW5jdGlvbihhLGIpe3RyeXtWLmNhbGwoYSxiKX1jYXRjaChjKXtpZighKGEgaW5zdGFuY2VvZiBTKSl0aHJvdyBjfX06ZnVuY3Rpb24oYSxiKXtWLmNhbGwoYSxiKX07dy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksRih3LnByb3RvdHlwZSx7YXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGEsbnVsbCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhLGMpe2IoYSk7dmFyIGQ7Yz9FKGMpP2Q9SihjKTooZD1jLGM9TChkKSk6KGM9bnVsbCxkPW51bGwpLGMmJkEoYy5wYXJlbnROb2RlPT09dGhpcyk7dmFyIGUsaD1jP2MucHJldmlvdXNTaWJsaW5nOnRoaXMubGFzdENoaWxkLGk9IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFzKGEpO2lmKGU9aT9nKGEpOmYoYSx0aGlzLGgsYyksaSluKHRoaXMsYSkscSh0aGlzKSxVLmNhbGwodGhpcy5pbXBsLEooYSksZCk7ZWxzZXtofHwodGhpcy5maXJzdENoaWxkXz1lWzBdKSxjfHwodGhpcy5sYXN0Q2hpbGRfPWVbZS5sZW5ndGgtMV0sdm9pZCAwPT09dGhpcy5maXJzdENoaWxkXyYmKHRoaXMuZmlyc3RDaGlsZF89dGhpcy5maXJzdENoaWxkKSk7dmFyIGo9ZD9kLnBhcmVudE5vZGU6dGhpcy5pbXBsO2o/VS5jYWxsKGoscCh0aGlzLGUpLGQpOm8odGhpcyxlKX1yZXR1cm4gQyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmUsbmV4dFNpYmxpbmc6YyxwcmV2aW91c1NpYmxpbmc6aH0pLGsoZSx0aGlzKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKX12YXIgZj1KKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlkoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxZKHRoaXMuaW1wbCxmKTtyZXR1cm4gT3x8Qyh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRyh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoRShkKT9lPUooZCk6KGU9ZCxkPUwoZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxXLmNhbGwodGhpcy5pbXBsLEooYSksZSkpOih0aGlzLmZpcnN0Q2hpbGQ9PT1kJiYodGhpcy5maXJzdENoaWxkXz1oWzBdKSx0aGlzLmxhc3RDaGlsZD09PWQmJih0aGlzLmxhc3RDaGlsZF89aFtoLmxlbmd0aC0xXSksZC5wcmV2aW91c1NpYmxpbmdfPWQubmV4dFNpYmxpbmdfPWQucGFyZW50Tm9kZV89dm9pZCAwLGUucGFyZW50Tm9kZSYmVy5jYWxsKGUucGFyZW50Tm9kZSxwKHRoaXMsaCksZSkpLEModGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCx0aGlzKSxkfSxub2RlSXNJbnNlcnRlZF86ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZUlzSW5zZXJ0ZWRfKCl9LGhhc0NoaWxkTm9kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZmlyc3RDaGlsZH0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wYXJlbnROb2RlXz90aGlzLnBhcmVudE5vZGVfOkwodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgZmlyc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmZpcnN0Q2hpbGRfP3RoaXMuZmlyc3RDaGlsZF86TCh0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpMKHRoaXMuaW1wbC5sYXN0Q2hpbGQpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5uZXh0U2libGluZ18/dGhpcy5uZXh0U2libGluZ186TCh0aGlzLmltcGwubmV4dFNpYmxpbmcpfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucHJldmlvdXNTaWJsaW5nXz90aGlzLnByZXZpb3VzU2libGluZ186TCh0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEubm9kZVR5cGUhPT13LkVMRU1FTlRfTk9ERTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgYT0iIixiPXRoaXMuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyliLm5vZGVUeXBlIT13LkNPTU1FTlRfTk9ERSYmKGErPWIudGV4dENvbnRlbnQpO3JldHVybiBhfSxzZXQgdGV4dENvbnRlbnQoYSl7dmFyIGI9aSh0aGlzLmNoaWxkTm9kZXMpO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2lmKHIodGhpcyksIiIhPT1hKXt2YXIgYz10aGlzLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKTt0aGlzLmFwcGVuZENoaWxkKGMpfX1lbHNlIHEodGhpcyksdGhpcy5pbXBsLnRleHRDb250ZW50PWE7dmFyIGQ9aSh0aGlzLmNoaWxkTm9kZXMpO0ModGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpkLHJlbW92ZWROb2RlczpifSksbShiKSxrKGQsdGhpcyl9LGdldCBjaGlsZE5vZGVzKCl7Zm9yKHZhciBhPW5ldyB5LGI9MCxjPXRoaXMuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxjbG9uZU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHUodGhpcyxhKX0sY29udGFpbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIHYodGhpcyxNKGEpKX0sY29tcGFyZURvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIFQuY2FsbCh0aGlzLmltcGwsSyhhKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9aSh0aGlzLmNoaWxkTm9kZXMpLGQ9W10sZT0iIixmPTA7ZjxjLmxlbmd0aDtmKyspYj1jW2ZdLGIubm9kZVR5cGU9PT13LlRFWFRfTk9ERT9hfHxiLmRhdGEubGVuZ3RoP2E/KGUrPWIuZGF0YSxkLnB1c2goYikpOmE9Yjp0aGlzLnJlbW92ZU5vZGUoYik6KGEmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLHQoZCkpLGQ9W10sZT0iIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSksQih3LCJvd25lckRvY3VtZW50IiksSChSLHcsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx3LnByb3RvdHlwZT1GKE9iamVjdC5jcmVhdGUoeC5wcm90b3R5cGUpLHcucHJvdG90eXBlKSxhLmNsb25lTm9kZT11LGEubm9kZVdhc0FkZGVkPWosYS5ub2RlV2FzUmVtb3ZlZD1sLGEubm9kZXNXZXJlQWRkZWQ9ayxhLm5vZGVzV2VyZVJlbW92ZWQ9bSxhLnNuYXBzaG90Tm9kZUxpc3Q9aSxhLndyYXBwZXJzLk5vZGU9d30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGMpe2Zvcih2YXIgZCxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhjKSlyZXR1cm4gZTtpZihkPWIoZSxjKSlyZXR1cm4gZDtlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtyZXR1cm4gYS5tYXRjaGVzKGIpfWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPWEubG9jYWxOYW1lO3JldHVybiBkPT09Ynx8ZD09PWMmJmEubmFtZXNwYWNlVVJJPT09bH1mdW5jdGlvbiBlKCl7cmV0dXJuITB9ZnVuY3Rpb24gZihhLGIpe3JldHVybiBhLmxvY2FsTmFtZT09PWJ9ZnVuY3Rpb24gZyhhLGIpe3JldHVybiBhLm5hbWVzcGFjZVVSST09PWJ9ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJuIGEubmFtZXNwYWNlVVJJPT09YiYmYS5sb2NhbE5hbWU9PT1jfWZ1bmN0aW9uIGkoYSxiLGMsZCxlKXtmb3IodmFyIGY9YS5maXJzdEVsZW1lbnRDaGlsZDtmOyljKGYsZCxlKSYmKGJbYi5sZW5ndGgrK109ZiksaShmLGIsYyxkLGUpLGY9Zi5uZXh0RWxlbWVudFNpYmxpbmc7cmV0dXJuIGJ9dmFyIGo9YS53cmFwcGVycy5IVE1MQ29sbGVjdGlvbixrPWEud3JhcHBlcnMuTm9kZUxpc3QsbD0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsbT17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBpKHRoaXMsbmV3IGssYyxhKX19LG49e2dldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBqO3JldHVybiIqIj09PWE/aSh0aGlzLGIsZSk6aSh0aGlzLGIsZCxhLGEudG9Mb3dlckNhc2UoKSl9LGdldEVsZW1lbnRzQnlDbGFzc05hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbCgiLiIrYSl9LGdldEVsZW1lbnRzQnlUYWdOYW1lTlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgajtpZigiIj09PWEpYT1udWxsO2Vsc2UgaWYoIioiPT09YSlyZXR1cm4iKiI9PT1iP2kodGhpcyxjLGUpOmkodGhpcyxjLGYsYik7cmV0dXJuIioiPT09Yj9pKHRoaXMsYyxnLGEpOmkodGhpcyxjLGgsYSxiKX19O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1uLGEuU2VsZWN0b3JzSW50ZXJmYWNlPW19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXZhciBkPWEud3JhcHBlcnMuTm9kZUxpc3QsZT17Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGIodGhpcy5maXJzdENoaWxkKX0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYyh0aGlzLmxhc3RDaGlsZCl9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe2Zvcih2YXIgYT0wLGI9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYSsrO3JldHVybiBhfSxnZXQgY2hpbGRyZW4oKXtmb3IodmFyIGE9bmV3IGQsYj0wLGM9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYVtiKytdPWM7cmV0dXJuIGEubGVuZ3RoPWIsYX0scmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEucmVtb3ZlQ2hpbGQodGhpcyl9fSxmPXtnZXQgbmV4dEVsZW1lbnRTaWJsaW5nKCl7cmV0dXJuIGIodGhpcy5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c0VsZW1lbnRTaWJsaW5nKCl7cmV0dXJuIGModGhpcy5wcmV2aW91c1NpYmxpbmcpfX07YS5DaGlsZE5vZGVJbnRlcmZhY2U9ZixhLlBhcmVudE5vZGVJbnRlcmZhY2U9ZX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX12YXIgYz1hLkNoaWxkTm9kZUludGVyZmFjZSxkPWEud3JhcHBlcnMuTm9kZSxlPWEuZW5xdWV1ZU11dGF0aW9uLGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9d2luZG93LkNoYXJhY3RlckRhdGE7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZihiLnByb3RvdHlwZSx7Z2V0IHRleHRDb250ZW50KCl7cmV0dXJuIHRoaXMuZGF0YX0sc2V0IHRleHRDb250ZW50KGEpe3RoaXMuZGF0YT1hfSxnZXQgZGF0YSgpe3JldHVybiB0aGlzLmltcGwuZGF0YX0sc2V0IGRhdGEoYSl7dmFyIGI9dGhpcy5pbXBsLmRhdGE7ZSh0aGlzLCJjaGFyYWN0ZXJEYXRhIix7b2xkVmFsdWU6Yn0pLHRoaXMuaW1wbC5kYXRhPWF9fSksZihiLnByb3RvdHlwZSxjKSxnKGgsYixkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuQ2hhcmFjdGVyRGF0YT1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhPj4+MH1mdW5jdGlvbiBjKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBkPWEud3JhcHBlcnMuQ2hhcmFjdGVyRGF0YSxlPShhLmVucXVldWVNdXRhdGlvbixhLm1peGluKSxmPWEucmVnaXN0ZXJXcmFwcGVyLGc9d2luZG93LlRleHQ7Yy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShjLnByb3RvdHlwZSx7c3BsaXRUZXh0OmZ1bmN0aW9uKGEpe2E9YihhKTt2YXIgYz10aGlzLmRhdGE7aWYoYT5jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkluZGV4U2l6ZUVycm9yIik7dmFyIGQ9Yy5zbGljZSgwLGEpLGU9Yy5zbGljZShhKTt0aGlzLmRhdGE9ZDt2YXIgZj10aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIHRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLHRoaXMubmV4dFNpYmxpbmcpLGZ9fSksZihnLGMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSxhLndyYXBwZXJzLlRleHQ9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXthLmludmFsaWRhdGVSZW5kZXJlckJhc2VkT25BdHRyaWJ1dGUoYiwiY2xhc3MiKX1mdW5jdGlvbiBjKGEsYil7dGhpcy5pbXBsPWEsdGhpcy5vd25lckVsZW1lbnRfPWJ9Yy5wcm90b3R5cGU9e2dldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5pbXBsLmxlbmd0aH0saXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbXBsLml0ZW0oYSl9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmltcGwuY29udGFpbnMoYSl9LGFkZDpmdW5jdGlvbigpe3RoaXMuaW1wbC5hZGQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyksYih0aGlzLm93bmVyRWxlbWVudF8pfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmltcGwucmVtb3ZlLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpLGIodGhpcy5vd25lckVsZW1lbnRfKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLnRvZ2dsZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKTtyZXR1cm4gYih0aGlzLm93bmVyRWxlbWVudF8pLGF9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sYS53cmFwcGVycy5ET01Ub2tlbkxpc3Q9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWIucGFyZW50Tm9kZTtpZihkJiZkLnNoYWRvd1Jvb3Qpe3ZhciBlPWEuZ2V0UmVuZGVyZXJGb3JIb3N0KGQpO2UuZGVwZW5kc09uQXR0cmlidXRlKGMpJiZlLmludmFsaWRhdGUoKX19ZnVuY3Rpb24gYyhhLGIsYyl7ayhhLCJhdHRyaWJ1dGVzIix7bmFtZTpiLG5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOmN9KX1mdW5jdGlvbiBkKGEpe2cuY2FsbCh0aGlzLGEpfXZhciBlPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGY9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGc9YS53cmFwcGVycy5Ob2RlLGg9YS53cmFwcGVycy5ET01Ub2tlbkxpc3QsaT1hLlBhcmVudE5vZGVJbnRlcmZhY2Usaj1hLlNlbGVjdG9yc0ludGVyZmFjZSxrPShhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZCxhLmVucXVldWVNdXRhdGlvbiksbD1hLm1peGluLG09KGEub25lT2YsYS5yZWdpc3RlcldyYXBwZXIpLG49YS51bndyYXAsbz1hLndyYXBwZXJzLHA9d2luZG93LkVsZW1lbnQscT1bIm1hdGNoZXMiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciJdLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gcC5wcm90b3R5cGVbYV19KSxyPXFbMF0scz1wLnByb3RvdHlwZVtyXSx0PW5ldyBXZWFrTWFwO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZy5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgby5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gcy5jYWxsKHRoaXMuaW1wbCxhKX0sZ2V0IGNsYXNzTGlzdCgpe3ZhciBhPXQuZ2V0KHRoaXMpO3JldHVybiBhfHx0LnNldCh0aGlzLGE9bmV3IGgobih0aGlzKS5jbGFzc0xpc3QsdGhpcykpLGF9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gbih0aGlzKS5jbGFzc05hbWV9LHNldCBjbGFzc05hbWUoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixhKX0sZ2V0IGlkKCl7cmV0dXJuIG4odGhpcykuaWR9LHNldCBpZChhKXt0aGlzLnNldEF0dHJpYnV0ZSgiaWQiLGEpfX0pLHEuZm9yRWFjaChmdW5jdGlvbihhKXsibWF0Y2hlcyIhPT1hJiYoZC5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhhKX0pfSkscC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKGQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksbChkLnByb3RvdHlwZSxlKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsaSksbChkLnByb3RvdHlwZSxqKSxtKHAsZCxkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnVsbCwieCIpKSxhLmludmFsaWRhdGVSZW5kZXJlckJhc2VkT25BdHRyaWJ1dGU9YixhLm1hdGNoZXNOYW1lcz1xLGEud3JhcHBlcnMuRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3N3aXRjaChhKXtjYXNlIiYiOnJldHVybiImYW1wOyI7Y2FzZSI8IjpyZXR1cm4iJmx0OyI7Y2FzZSI+IjpyZXR1cm4iJmd0OyI7Y2FzZSciJzpyZXR1cm4iJnF1b3Q7IjtjYXNlIlx4YTAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoeixiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixCW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkNbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9IiIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fCJkaXYiO2EudGV4dENvbnRlbnQ9IiI7dmFyIGU9dyhhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeChmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9dyhhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9dyhkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB4KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXX19ZnVuY3Rpb24gbChhKXtwKGksYSxrKGEpKX1mdW5jdGlvbiBtKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHtnZXQ6ayhiKSxzZXQ6ZnVuY3Rpb24oYyl7YS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdPWN9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9ZnVuY3Rpb24gbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBvPWEud3JhcHBlcnMuRWxlbWVudCxwPWEuZGVmaW5lR2V0dGVyLHE9YS5lbnF1ZXVlTXV0YXRpb24scj1hLm1peGluLHM9YS5ub2Rlc1dlcmVBZGRlZCx0PWEubm9kZXNXZXJlUmVtb3ZlZCx1PWEucmVnaXN0ZXJXcmFwcGVyLHY9YS5zbmFwc2hvdE5vZGVMaXN0LHc9YS51bndyYXAseD1hLndyYXAseT1hLndyYXBwZXJzLHo9L1smXHUwMEEwIl0vZyxBPS9bJlx1MDBBMDw+XS9nLEI9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEM9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksRD0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxFPXdpbmRvdy5IVE1MRWxlbWVudCxGPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihEJiZDW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB5LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRiYmdGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp0aGlzLmltcGwuaW5uZXJIVE1MPWE7dmFyIGM9dih0aGlzLmNoaWxkTm9kZXMpO3EodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpjLHJlbW92ZWROb2RlczpifSksdChiKSxzKGMsdGhpcyl9LGdldCBvdXRlckhUTUwoKXtyZXR1cm4gZih0aGlzLHRoaXMucGFyZW50Tm9kZSl9LHNldCBvdXRlckhUTUwoYSl7dmFyIGI9dGhpcy5wYXJlbnROb2RlO2lmKGIpe2IuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk7dmFyIGM9aihiLGEpO2IucmVwbGFjZUNoaWxkKGMsdGhpcyl9fSxpbnNlcnRBZGphY2VudEhUTUw6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO3N3aXRjaChTdHJpbmcoYSkudG9Mb3dlckNhc2UoKSl7Y2FzZSJiZWZvcmViZWdpbiI6Yz10aGlzLnBhcmVudE5vZGUsZD10aGlzO2JyZWFrO2Nhc2UiYWZ0ZXJlbmQiOmM9dGhpcy5wYXJlbnROb2RlLGQ9dGhpcy5uZXh0U2libGluZzticmVhaztjYXNlImFmdGVyYmVnaW4iOmM9dGhpcyxkPXRoaXMuZmlyc3RDaGlsZDticmVhaztjYXNlImJlZm9yZWVuZCI6Yz10aGlzLGQ9bnVsbDticmVhaztkZWZhdWx0OnJldHVybn12YXIgZT1qKGMsYik7Yy5pbnNlcnRCZWZvcmUoZSxkKX19KSxbImNsaWVudEhlaWdodCIsImNsaWVudExlZnQiLCJjbGllbnRUb3AiLCJjbGllbnRXaWR0aCIsIm9mZnNldEhlaWdodCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRXaWR0aCIsInNjcm9sbEhlaWdodCIsInNjcm9sbFdpZHRoIl0uZm9yRWFjaChsKSxbInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiXS5mb3JFYWNoKG0pLFsiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0Q2xpZW50UmVjdHMiLCJzY3JvbGxJbnRvVmlldyJdLmZvckVhY2gobiksdShFLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYiIpKSxhLndyYXBwZXJzLkhUTUxFbGVtZW50PWksYS5nZXRJbm5lckhUTUw9ZyxhLnNldElubmVySFRNTD1ofSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLndyYXAsZz13aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0Q29udGV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5nZXRDb250ZXh0LmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpO3JldHVybiBhJiZmKGEpfX0pLGUoZyxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpKSxhLndyYXBwZXJzLkhUTUxDYW52YXNFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPXdpbmRvdy5IVE1MQ29udGVudEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IHNlbGVjdCgpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgic2VsZWN0Iil9LHNldCBzZWxlY3QoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoInNlbGVjdCIsYSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGIpe2MucHJvdG90eXBlLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsYSxiKSwic2VsZWN0Ij09PVN0cmluZyhhKS50b0xvd2VyQ2FzZSgpJiZ0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcighMCl9fSksZiYmZShmLGIpLGEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhLGIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGMpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBlPWYoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpO2QuY2FsbCh0aGlzLGUpLGcoZSx0aGlzKSx2b2lkIDAhPT1hJiYoZS53aWR0aD1hKSx2b2lkIDAhPT1iJiYoZS5oZWlnaHQ9Yil9dmFyIGQ9YS53cmFwcGVycy5IVE1MRWxlbWVudCxlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLnJld3JhcCxoPXdpbmRvdy5IVE1MSW1hZ2VFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxJbWFnZUVsZW1lbnQ9YixhLndyYXBwZXJzLkltYWdlPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPShhLm1peGluLGEud3JhcHBlcnMuTm9kZUxpc3QsYS5yZWdpc3RlcldyYXBwZXIpLGU9d2luZG93LkhUTUxTaGFkb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGUmJmQoZSxiKSxhLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7aWYoIWEuZGVmYXVsdFZpZXcpcmV0dXJuIGE7dmFyIGI9ay5nZXQoYSk7aWYoIWIpe2ZvcihiPWEuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTtiLmxhc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmxhc3RDaGlsZCk7ay5zZXQoYSxiKX1yZXR1cm4gYn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYyxkPWIoYS5vd25lckRvY3VtZW50KSxlPWgoZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2M9YS5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGMpO3JldHVybiBlfWZ1bmN0aW9uIGQoYSl7aWYoZS5jYWxsKHRoaXMsYSksIWwpe3ZhciBiPWMoYSk7ai5zZXQodGhpcyxpKGIpKX19dmFyIGU9YS53cmFwcGVycy5IVE1MRWxlbWVudCxmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPWEudW53cmFwLGk9YS53cmFwLGo9bmV3IFdlYWtNYXAsaz1uZXcgV2Vha01hcCxsPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLGYoZC5wcm90b3R5cGUse2dldCBjb250ZW50KCl7cmV0dXJuIGw/aSh0aGlzLmltcGwuY29udGVudCk6ai5nZXQodGhpcyl9fSksbCYmZyhsLGQpLGEud3JhcHBlcnMuSFRNTFRlbXBsYXRlRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLnJlZ2lzdGVyV3JhcHBlcixlPXdpbmRvdy5IVE1MTWVkaWFFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoZSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpLGEud3JhcHBlcnMuSFRNTE1lZGlhRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGMoYSl7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGI9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKTtkLmNhbGwodGhpcyxiKSxnKGIsdGhpcyksYi5zZXRBdHRyaWJ1dGUoInByZWxvYWQiLCJhdXRvIiksdm9pZCAwIT09YSYmYi5zZXRBdHRyaWJ1dGUoInNyYyIsYSl9dmFyIGQ9YS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxBdWRpb0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MQXVkaW9FbGVtZW50PWIsYS53cmFwcGVycy5BdWRpbz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhLnJlcGxhY2UoL1xzKy9nLCIgIikudHJpbSgpfWZ1bmN0aW9uIGMoYSl7ZS5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZChhLGIsYyxmKXtpZighKHRoaXMgaW5zdGFuY2VvZiBkKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgZz1pKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtlLmNhbGwodGhpcyxnKSxoKGcsdGhpcyksdm9pZCAwIT09YSYmKGcudGV4dD1hKSx2b2lkIDAhPT1iJiZnLnNldEF0dHJpYnV0ZSgidmFsdWUiLGIpLGM9PT0hMCYmZy5zZXRBdHRyaWJ1dGUoInNlbGVjdGVkIiwiIiksZy5zZWxlY3RlZD1mPT09ITB9dmFyIGU9YS53cmFwcGVycy5IVE1MRWxlbWVudCxmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPWEucmV3cmFwLGk9YS51bndyYXAsaj1hLndyYXAsaz13aW5kb3cuSFRNTE9wdGlvbkVsZW1lbnQ7Yy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihjLnByb3RvdHlwZSx7Z2V0IHRleHQoKXtyZXR1cm4gYih0aGlzLnRleHRDb250ZW50KX0sc2V0IHRleHQoYSl7dGhpcy50ZXh0Q29udGVudD1iKFN0cmluZyhhKSl9LGdldCBmb3JtKCl7cmV0dXJuIGooaSh0aGlzKS5mb3JtKX19KSxnKGssYyxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksZC5wcm90b3R5cGU9Yy5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MT3B0aW9uRWxlbWVudD1jLGEud3JhcHBlcnMuT3B0aW9uPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS53cmFwLGg9d2luZG93LkhUTUxTZWxlY3RFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2FkZDpmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgYiYmKGI9ZihiKSksZih0aGlzKS5hZGQoZihhKSxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3ZvaWQgYy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk6KCJvYmplY3QiPT10eXBlb2YgYSYmKGE9ZihhKSksdm9pZCBmKHRoaXMpLnJlbW92ZShhKSl9LGdldCBmb3JtKCl7cmV0dXJuIGcoZih0aGlzKS5mb3JtKX19KSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSksYS53cmFwcGVycy5IVE1MU2VsZWN0RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEud3JhcCxoPWEud3JhcEhUTUxDb2xsZWN0aW9uLGk9d2luZG93LkhUTUxUYWJsZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNhcHRpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNhcHRpb24pfSxjcmVhdGVDYXB0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVDYXB0aW9uKCkpfSxnZXQgdEhlYWQoKXtyZXR1cm4gZyhmKHRoaXMpLnRIZWFkKX0sY3JlYXRlVEhlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRIZWFkKCkpfSxjcmVhdGVURm9vdDpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEZvb3QoKSl9LGdldCB0Rm9vdCgpe3JldHVybiBnKGYodGhpcykudEZvb3QpfSxnZXQgdEJvZGllcygpe3JldHVybiBoKGYodGhpcykudEJvZGllcyl9LGNyZWF0ZVRCb2R5OmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVUQm9keSgpKX0sZ2V0IHJvd3MoKXtyZXR1cm4gaChmKHRoaXMpLnJvd3MpfSxpbnNlcnRSb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGcoZih0aGlzKS5pbnNlcnRSb3coYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLndyYXBIVE1MQ29sbGVjdGlvbixnPWEudW53cmFwLGg9YS53cmFwLGk9d2luZG93LkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCByb3dzKCl7cmV0dXJuIGYoZyh0aGlzKS5yb3dzKX0saW5zZXJ0Um93OmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Um93KGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIpKSxhLndyYXBwZXJzLkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlUm93RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2VsbHMoKXtyZXR1cm4gZihnKHRoaXMpLmNlbGxzKX0saW5zZXJ0Q2VsbDpmdW5jdGlvbihhKXtyZXR1cm4gaChnKHRoaXMpLmluc2VydENlbGwoYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlUm93RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3N3aXRjaChhLmxvY2FsTmFtZSl7Y2FzZSJjb250ZW50IjpyZXR1cm4gbmV3IGMoYSk7Y2FzZSJzaGFkb3ciOnJldHVybiBuZXcgZShhKTtjYXNlInRlbXBsYXRlIjpyZXR1cm4gbmV3IGYoYSl9ZC5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQsZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxmPWEud3JhcHBlcnMuSFRNTFRlbXBsYXRlRWxlbWVudCxnPShhLm1peGluLGEucmVnaXN0ZXJXcmFwcGVyKSxoPXdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQ7CmIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGcoaCxiKSxhLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLndyYXBwZXJzLkVsZW1lbnQsYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5yZWdpc3Rlck9iamVjdCxlPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZSwidGl0bGUiKSxnPWQoZiksaD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZy5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2lmKCEoImNsYXNzTGlzdCJpbiBmKSl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLnByb3RvdHlwZSwiY2xhc3NMaXN0Iik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLCJjbGFzc0xpc3QiLGkpLGRlbGV0ZSBiLnByb3RvdHlwZS5jbGFzc0xpc3R9YS53cmFwcGVycy5TVkdFbGVtZW50PWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7bS5jYWxsKHRoaXMsYSl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLndyYXAsZz13aW5kb3cuU1ZHVXNlRWxlbWVudCxoPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsaT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJnIikpLGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsInVzZSIpLGs9aS5jb25zdHJ1Y3RvcixsPU9iamVjdC5nZXRQcm90b3R5cGVPZihrLnByb3RvdHlwZSksbT1sLmNvbnN0cnVjdG9yO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobCksImluc3RhbmNlUm9vdCJpbiBqJiZjKGIucHJvdG90eXBlLHtnZXQgaW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5pbnN0YW5jZVJvb3QpfSxnZXQgYW5pbWF0ZWRJbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmFuaW1hdGVkSW5zdGFuY2VSb290KX19KSxkKGcsYixqKSxhLndyYXBwZXJzLlNWR1VzZUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTtnJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNvcnJlc3BvbmRpbmdFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdFbGVtZW50KX0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KX0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiBmKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwubmV4dFNpYmxpbmcpfX0pLGUoZyxiKSxhLndyYXBwZXJzLlNWR0VsZW1lbnRJbnN0YW5jZT1iKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEudW53cmFwSWZOZWVkZWQsZz1hLndyYXAsaD13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gZyh0aGlzLmltcGwuY2FudmFzKX0sZHJhd0ltYWdlOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzBdPWYoYXJndW1lbnRzWzBdKSx0aGlzLmltcGwuZHJhd0ltYWdlLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjcmVhdGVQYXR0ZXJuOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1lKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmNyZWF0ZVBhdHRlcm4uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSksZChoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSksYS53cmFwcGVycy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihnKXtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNhbnZhcyl9LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNV09ZShhcmd1bWVudHNbNV0pLHRoaXMuaW1wbC50ZXhJbWFnZTJELmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWUoYXJndW1lbnRzWzZdKSx0aGlzLmltcGwudGV4U3ViSW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19KTt2YXIgaD0vV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP3tkcmF3aW5nQnVmZmVySGVpZ2h0Om51bGwsZHJhd2luZ0J1ZmZlcldpZHRoOm51bGx9Ont9O2QoZyxiLGgpLGEud3JhcHBlcnMuV2ViR0xSZW5kZXJpbmdDb250ZXh0PWJ9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3RoaXMuaW1wbD1hfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LlJhbmdlO2IucHJvdG90eXBlPXtnZXQgc3RhcnRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5jb21tb25BbmNlc3RvckNvbnRhaW5lcil9LHNldFN0YXJ0OmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldFN0YXJ0KGUoYSksYil9LHNldEVuZDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRFbmQoZShhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QmVmb3JlKGUoYSkpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEFmdGVyKGUoYSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEJlZm9yZShlKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEFmdGVyKGUoYSkpfSxzZWxlY3ROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlKGUoYSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGVDb250ZW50cyhlKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlQm91bmRhcnlQb2ludHMoYSxkKGIpKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmV4dHJhY3RDb250ZW50cygpKX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5pbnNlcnROb2RlKGUoYSkpfSxzdXJyb3VuZENvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zdXJyb3VuZENvbnRlbnRzKGUoYSkpfSxjbG9uZVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5pc1BvaW50SW5SYW5nZShlKGEpLGIpfSxjb21wYXJlUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVQb2ludChlKGEpLGIpfSxpbnRlcnNlY3RzTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbXBsLmludGVyc2VjdHNOb2RlKGUoYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGwudG9TdHJpbmcoKX19LGcucHJvdG90eXBlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCYmKGIucHJvdG90eXBlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gZih0aGlzLmltcGwuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGEpKX0pLGMod2luZG93LlJhbmdlLGIsZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSksYS53cmFwcGVycy5SYW5nZT1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsYz1hLlBhcmVudE5vZGVJbnRlcmZhY2UsZD1hLlNlbGVjdG9yc0ludGVyZmFjZSxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyT2JqZWN0LGc9Zihkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2UoZy5wcm90b3R5cGUsYyksZShnLnByb3RvdHlwZSxkKSxlKGcucHJvdG90eXBlLGIpO3ZhciBoPWYoZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIikpO2Eud3JhcHBlcnMuQ29tbWVudD1oLGEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudD1nfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWsoYS5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjLmNhbGwodGhpcyxiKSxpKGIsdGhpcyk7dmFyIGU9YS5zaGFkb3dSb290O20uc2V0KHRoaXMsZSksdGhpcy50cmVlU2NvcGVfPW5ldyBkKHRoaXMsZyhlfHxhKSksbC5zZXQodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQsZD1hLlRyZWVTY29wZSxlPWEuZWxlbWVudEZyb21Qb2ludCxmPWEuZ2V0SW5uZXJIVE1MLGc9YS5nZXRUcmVlU2NvcGUsaD1hLm1peGluLGk9YS5yZXdyYXAsaj1hLnNldElubmVySFRNTCxrPWEudW53cmFwLGw9bmV3IFdlYWtNYXAsbT1uZXcgV2Vha01hcCxuPS9bIFx0XG5cclxmXS87Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksaChiLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBmKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2oodGhpcyxhKSx0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxnZXQgb2xkZXJTaGFkb3dSb290KCl7cmV0dXJuIG0uZ2V0KHRoaXMpfHxudWxsfSxnZXQgaG9zdCgpe3JldHVybiBsLmdldCh0aGlzKXx8bnVsbH0saW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGwuZ2V0KHRoaXMpLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcyx0aGlzLm93bmVyRG9jdW1lbnQsYSxiKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4udGVzdChhKT9udWxsOnRoaXMucXVlcnlTZWxlY3RvcignW2lkPSInK2ErJyJdJyl9fSksYS53cmFwcGVycy5TaGFkb3dSb290PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7YS5wcmV2aW91c1NpYmxpbmdfPWEucHJldmlvdXNTaWJsaW5nLGEubmV4dFNpYmxpbmdfPWEubmV4dFNpYmxpbmcsYS5wYXJlbnROb2RlXz1hLnBhcmVudE5vZGV9ZnVuY3Rpb24gYyhhLGMsZSl7dmFyIGY9RyhhKSxnPUcoYyksaD1lP0coZSk6bnVsbDtpZihkKGMpLGIoYyksZSlhLmZpcnN0Q2hpbGQ9PT1lJiYoYS5maXJzdENoaWxkXz1lKSxlLnByZXZpb3VzU2libGluZ189ZS5wcmV2aW91c1NpYmxpbmc7ZWxzZXthLmxhc3RDaGlsZF89YS5sYXN0Q2hpbGQsYS5sYXN0Q2hpbGQ9PT1hLmZpcnN0Q2hpbGQmJihhLmZpcnN0Q2hpbGRfPWEuZmlyc3RDaGlsZCk7dmFyIGk9SChmLmxhc3RDaGlsZCk7aSYmKGkubmV4dFNpYmxpbmdfPWkubmV4dFNpYmxpbmcpfWYuaW5zZXJ0QmVmb3JlKGcsaCl9ZnVuY3Rpb24gZChhKXt2YXIgYz1HKGEpLGQ9Yy5wYXJlbnROb2RlO2lmKGQpe3ZhciBlPUgoZCk7YihhKSxhLnByZXZpb3VzU2libGluZyYmKGEucHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nXz1hKSxhLm5leHRTaWJsaW5nJiYoYS5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmdfPWEpLGUubGFzdENoaWxkPT09YSYmKGUubGFzdENoaWxkXz1hKSxlLmZpcnN0Q2hpbGQ9PT1hJiYoZS5maXJzdENoaWxkXz1hKSxkLnJlbW92ZUNoaWxkKGMpfX1mdW5jdGlvbiBlKGEpe0kuc2V0KGEsW10pfWZ1bmN0aW9uIGYoYSl7dmFyIGI9SS5nZXQoYSk7cmV0dXJuIGJ8fEkuc2V0KGEsYj1bXSksYn1mdW5jdGlvbiBnKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gaCgpe2Zvcih2YXIgYT0wO2E8TS5sZW5ndGg7YSsrKXt2YXIgYj1NW2FdLGM9Yi5wYXJlbnRSZW5kZXJlcjtjJiZjLmRpcnR5fHxiLnJlbmRlcigpfU09W119ZnVuY3Rpb24gaSgpe3k9bnVsbCxoKCl9ZnVuY3Rpb24gaihhKXt2YXIgYj1LLmdldChhKTtyZXR1cm4gYnx8KGI9bmV3IG4oYSksSy5zZXQoYSxiKSksYn1mdW5jdGlvbiBrKGEpe3ZhciBiPUUoYSkucm9vdDtyZXR1cm4gYiBpbnN0YW5jZW9mIEQ/YjpudWxsfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIGooYS5ob3N0KX1mdW5jdGlvbiBtKGEpe3RoaXMuc2tpcD0hMSx0aGlzLm5vZGU9YSx0aGlzLmNoaWxkTm9kZXM9W119ZnVuY3Rpb24gbihhKXt0aGlzLmhvc3Q9YSx0aGlzLmRpcnR5PSExLHRoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKSx0aGlzLmFzc29jaWF0ZU5vZGUoYSl9ZnVuY3Rpb24gbyhhKXtmb3IodmFyIGI9W10sYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpdihjKT9iLnB1c2guYXBwbHkoYixmKGMpKTpiLnB1c2goYyk7cmV0dXJuIGJ9ZnVuY3Rpb24gcChhKXtpZihhIGluc3RhbmNlb2YgQilyZXR1cm4gYTtpZihhIGluc3RhbmNlb2YgQSlyZXR1cm4gbnVsbDtmb3IodmFyIGI9YS5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKXt2YXIgYz1wKGIpO2lmKGMpcmV0dXJuIGN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcShhLGIpe2YoYikucHVzaChhKTt2YXIgYz1KLmdldChhKTtjP2MucHVzaChiKTpKLnNldChhLFtiXSl9ZnVuY3Rpb24gcihhKXtyZXR1cm4gSi5nZXQoYSl9ZnVuY3Rpb24gcyhhKXtKLnNldChhLHZvaWQgMCl9ZnVuY3Rpb24gdChhLGIpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKTtpZighYylyZXR1cm4hMDtpZihjPWMudHJpbSgpLCFjKXJldHVybiEwO2lmKCEoYSBpbnN0YW5jZW9mIHopKXJldHVybiExO2lmKCFPLnRlc3QoYykpcmV0dXJuITE7dHJ5e3JldHVybiBhLm1hdGNoZXMoYyl9Y2F0Y2goZCl7cmV0dXJuITF9fWZ1bmN0aW9uIHUoYSxiKXt2YXIgYz1yKGIpO3JldHVybiBjJiZjW2MubGVuZ3RoLTFdPT09YX1mdW5jdGlvbiB2KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQXx8YSBpbnN0YW5jZW9mIEJ9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYS5zaGFkb3dSb290fWZ1bmN0aW9uIHgoYSl7Zm9yKHZhciBiPVtdLGM9YS5zaGFkb3dSb290O2M7Yz1jLm9sZGVyU2hhZG93Um9vdCliLnB1c2goYyk7cmV0dXJuIGJ9dmFyIHksej1hLndyYXBwZXJzLkVsZW1lbnQsQT1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxCPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsQz1hLndyYXBwZXJzLk5vZGUsRD1hLndyYXBwZXJzLlNoYWRvd1Jvb3QsRT0oYS5hc3NlcnQsYS5nZXRUcmVlU2NvcGUpLEY9KGEubWl4aW4sYS5vbmVPZiksRz1hLnVud3JhcCxIPWEud3JhcCxJPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsSz1uZXcgV2Vha01hcCxMPUYod2luZG93LFsicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCJdKSxNPVtdLE49bmV3IEFycmF5U3BsaWNlO04uZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEcoYS5ub2RlKT09PWJ9LG0ucHJvdG90eXBlPXthcHBlbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG0oYSk7cmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGIpLGJ9LHN5bmM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc2tpcCl7Zm9yKHZhciBiPXRoaXMubm9kZSxlPXRoaXMuY2hpbGROb2RlcyxmPWcoRyhiKSksaD1hfHxuZXcgV2Vha01hcCxpPU4uY2FsY3VsYXRlU3BsaWNlcyhlLGYpLGo9MCxrPTAsbD0wLG09MDttPGkubGVuZ3RoO20rKyl7Zm9yKHZhciBuPWlbbV07bDxuLmluZGV4O2wrKylrKyssZVtqKytdLnN5bmMoaCk7Zm9yKHZhciBvPW4ucmVtb3ZlZC5sZW5ndGgscD0wO28+cDtwKyspe3ZhciBxPUgoZltrKytdKTtoLmdldChxKXx8ZChxKX1mb3IodmFyIHI9bi5hZGRlZENvdW50LHM9ZltrXSYmSChmW2tdKSxwPTA7cj5wO3ArKyl7dmFyIHQ9ZVtqKytdLHU9dC5ub2RlO2MoYix1LHMpLGguc2V0KHUsITApLHQuc3luYyhoKX1sKz1yfWZvcih2YXIgbT1sO208ZS5sZW5ndGg7bSsrKWVbbV0uc3luYyhoKX19fSxuLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlydHkpe3RoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKTt2YXIgYj10aGlzLmhvc3Q7dGhpcy5kaXN0cmlidXRpb24oYik7dmFyIGM9YXx8bmV3IG0oYik7dGhpcy5idWlsZFJlbmRlclRyZWUoYyxiKTt2YXIgZD0hYTtkJiZjLnN5bmMoKSx0aGlzLmRpcnR5PSExfX0sZ2V0IHBhcmVudFJlbmRlcmVyKCl7cmV0dXJuIEUodGhpcy5ob3N0KS5yZW5kZXJlcn0saW52YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmRpcnR5KXtpZih0aGlzLmRpcnR5PSEwLE0ucHVzaCh0aGlzKSx5KXJldHVybjt5PXdpbmRvd1tMXShpLDApfX0sZGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGEpe3RoaXMucmVzZXRBbGwoYSksdGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGEpfSxyZXNldEFsbDpmdW5jdGlvbihhKXt2KGEpP2UoYSk6cyhhKTtmb3IodmFyIGI9YS5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKXRoaXMucmVzZXRBbGwoYik7YS5zaGFkb3dSb290JiZ0aGlzLnJlc2V0QWxsKGEuc2hhZG93Um9vdCksYS5vbGRlclNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5vbGRlclNoYWRvd1Jvb3QpfSxkaXN0cmlidXRpb25SZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe2lmKHcoYSkpe2Zvcih2YXIgYj1hLGM9byhiKSxkPXgoYiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXRoaXMucG9vbERpc3RyaWJ1dGlvbihkW2VdLGMpO2Zvcih2YXIgZT1kLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgZj1kW2VdLGc9cChmKTtpZihnKXt2YXIgaD1mLm9sZGVyU2hhZG93Um9vdDtoJiYoYz1vKGgpKTtmb3IodmFyIGk9MDtpPGMubGVuZ3RoO2krKylxKGNbaV0sZyl9dGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGYpfX1mb3IodmFyIGo9YS5maXJzdENoaWxkO2o7aj1qLm5leHRTaWJsaW5nKXRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihqKX0scG9vbERpc3RyaWJ1dGlvbjpmdW5jdGlvbihhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIEIpKWlmKGEgaW5zdGFuY2VvZiBBKXt2YXIgYz1hO3RoaXMudXBkYXRlRGVwZW5kZW50QXR0cmlidXRlcyhjLmdldEF0dHJpYnV0ZSgic2VsZWN0IikpO2Zvcih2YXIgZD0hMSxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBhPWJbZV07YSYmdChhLGMpJiYocShhLGMpLGJbZV09dm9pZCAwLGQ9ITApfWlmKCFkKWZvcih2YXIgZj1jLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpcShmLGMpfWVsc2UgZm9yKHZhciBmPWEuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZyl0aGlzLnBvb2xEaXN0cmlidXRpb24oZixiKX0sYnVpbGRSZW5kZXJUcmVlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuY29tcG9zZShiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZj1hLmFwcGVuZChlKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShmLGUpfWlmKHcoYikpe3ZhciBnPWooYik7Zy5kaXJ0eT0hMX19LGNvbXBvc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9YS5zaGFkb3dSb290fHxhLGQ9Yy5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWlmKHYoZCkpe3RoaXMuYXNzb2NpYXRlTm9kZShjKTtmb3IodmFyIGU9ZihkKSxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBoPWVbZ107dShkLGgpJiZiLnB1c2goaCl9fWVsc2UgYi5wdXNoKGQpO3JldHVybiBifSxpbnZhbGlkYXRlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMuYXR0cmlidXRlcz1PYmplY3QuY3JlYXRlKG51bGwpfSx1cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlczsvXC5cdysvLnRlc3QoYSkmJihiWyJjbGFzcyJdPSEwKSwvI1x3Ky8udGVzdChhKSYmKGIuaWQ9ITApLGEucmVwbGFjZSgvXFtccyooW15ccz1cfH5cXV0rKS9nLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pfX0sZGVwZW5kc09uQXR0cmlidXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbYV19LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oYSl7YS5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319O3ZhciBPPS9eWyouI1thLXpBLVpffF0vO0MucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfO3JldHVybiBhPyhhLmludmFsaWRhdGUoKSwhMCk6ITF9LEEucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9Qi5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1mdW5jdGlvbigpe3JldHVybiBoKCksZih0aGlzKX0sei5wcm90b3R5cGUuZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm4gaCgpLHIodGhpcyl8fFtdfSxBLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89Qi5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPWZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYSxiPWsodGhpcyk7YiYmKGE9bChiKSksdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89YSxhJiZhLmludmFsaWRhdGUoKX0sYS5nZXRSZW5kZXJlckZvckhvc3Q9aixhLmdldFNoYWRvd1RyZWVzPXgsYS5yZW5kZXJBbGxQZW5kaW5nPWgsYS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1yLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pfX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5hc3NlcnQsZT1hLm1peGluLGY9YS5yZWdpc3RlcldyYXBwZXIsZz1hLnVud3JhcCxoPWEud3JhcCxpPVsiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MRmllbGRTZXRFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxLZXlnZW5FbGVtZW50IiwiSFRNTExhYmVsRWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MT3V0cHV0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiXTtpLmZvckVhY2goYil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9e3ZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwO3dpbmRvdy5TZWxlY3Rpb259Yi5wcm90b3R5cGU9e2dldCBhbmNob3JOb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLmFuY2hvck5vZGUpfSxnZXQgZm9jdXNOb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZvY3VzTm9kZSl9LGFkZFJhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5hZGRSYW5nZShkKGEpKX0sY29sbGFwc2U6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuY29sbGFwc2UoZShhKSxiKX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb250YWluc05vZGUoZShhKSxiKX0sZXh0ZW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLmV4dGVuZChlKGEpLGIpfSxnZXRSYW5nZUF0OmZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5nZXRSYW5nZUF0KGEpKX0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnJlbW92ZVJhbmdlKGQoYSkpfSxzZWxlY3RBbGxDaGlsZHJlbjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0QWxsQ2hpbGRyZW4oZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sYyh3aW5kb3cuU2VsZWN0aW9uLGIsd2luZG93LmdldFNlbGVjdGlvbigpKSxhLndyYXBwZXJzLlNlbGVjdGlvbj1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2suY2FsbCh0aGlzLGEpLHRoaXMudHJlZVNjb3BlXz1uZXcgcCh0aGlzLG51bGwpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9ZG9jdW1lbnRbYV07Yi5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gQShjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gZChhLGIpe0QuY2FsbChiLmltcGwseihhKSksZShhLGIpfWZ1bmN0aW9uIGUoYSxiKXthLnNoYWRvd1Jvb3QmJmIuYWRvcHROb2RlKGEuc2hhZG93Um9vdCksYSBpbnN0YW5jZW9mIG8mJmYoYSxiKTtmb3IodmFyIGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWUoYyxiKX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9YS5vbGRlclNoYWRvd1Jvb3Q7YyYmYi5hZG9wdE5vZGUoYyl9ZnVuY3Rpb24gZyhhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gQShjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gaShhLGIpe3ZhciBjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uW2JdO2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fXZhciBqPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxrPWEud3JhcHBlcnMuTm9kZSxsPWEuUGFyZW50Tm9kZUludGVyZmFjZSxtPWEud3JhcHBlcnMuU2VsZWN0aW9uLG49YS5TZWxlY3RvcnNJbnRlcmZhY2Usbz1hLndyYXBwZXJzLlNoYWRvd1Jvb3QscD1hLlRyZWVTY29wZSxxPWEuY2xvbmVOb2RlLHI9YS5kZWZpbmVXcmFwR2V0dGVyLHM9YS5lbGVtZW50RnJvbVBvaW50LHQ9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix1PWEubWF0Y2hlc05hbWVzLHY9YS5taXhpbix3PWEucmVnaXN0ZXJXcmFwcGVyLHg9YS5yZW5kZXJBbGxQZW5kaW5nLHk9YS5yZXdyYXAsej1hLnVud3JhcCxBPWEud3JhcCxCPWEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcyxDPShhLndyYXBOb2RlTGlzdCxuZXcgV2Vha01hcCk7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSkscihiLCJkb2N1bWVudEVsZW1lbnQiKSxyKGIsImJvZHkiKSxyKGIsImhlYWQiKSxbImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJnZXRFbGVtZW50QnlJZCJdLmZvckVhY2goYyk7dmFyIEQ9ZG9jdW1lbnQuYWRvcHROb2RlLEU9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uO2lmKHYoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcyh0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybiBxKGEsYix0aGlzLmltcGwpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4geCgpLG5ldyBtKEUuY2FsbCh6KHRoaXMpKSl9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgRj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkKHRoaXMuaW1wbD1hKTpmP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZixiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpfXZhciBlLGY7aWYodm9pZCAwIT09YyYmKGU9Yy5wcm90b3R5cGUsZj1jLmV4dGVuZHMpLGV8fChlPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKSksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoZSkpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgZyxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKSxpPVtdO2gmJiEoZz1hLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChoKSk7KWkucHVzaChoKSxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihoKTtpZighZyl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBqPU9iamVjdC5jcmVhdGUoZyksaz1pLmxlbmd0aC0xO2s+PTA7ay0tKWo9T2JqZWN0LmNyZWF0ZShqKTtbImNyZWF0ZWRDYWxsYmFjayIsImF0dGFjaGVkQ2FsbGJhY2siLCJkZXRhY2hlZENhbGxiYWNrIiwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1lW2FdO2ImJihqW2FdPWZ1bmN0aW9uKCl7QSh0aGlzKWluc3RhbmNlb2YgZHx8eSh0aGlzKSxiLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKX0pfSk7dmFyIGw9e3Byb3RvdHlwZTpqfTtmJiYobC5leHRlbmRzPWYpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGosZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxqKTtGLmNhbGwoeih0aGlzKSxiLGwpO3JldHVybiBkfSx0KFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsicmVnaXN0ZXJFbGVtZW50Il0pfXQoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sWyJhcHBlbmRDaGlsZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiY29udGFpbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VDaGlsZCJdLmNvbmNhdCh1KSksdChbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbImFkb3B0Tm9kZSIsImltcG9ydE5vZGUiLCJjb250YWlucyIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3Rpb24iXSksdihiLnByb3RvdHlwZSxqKSx2KGIucHJvdG90eXBlLGwpLHYoYi5wcm90b3R5cGUsbiksdihiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9Qy5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyh6KHRoaXMpLmltcGxlbWVudGF0aW9uKSxDLnNldCh0aGlzLGEpLGEpfSxnZXQgZGVmYXVsdFZpZXcoKXtyZXR1cm4gQSh6KHRoaXMpLmRlZmF1bHRWaWV3KX19KSx3KHdpbmRvdy5Eb2N1bWVudCxiLGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJncod2luZG93LkhUTUxEb2N1bWVudCxiKSxCKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSksaChnLCJjcmVhdGVEb2N1bWVudFR5cGUiKSxoKGcsImNyZWF0ZURvY3VtZW50IiksaChnLCJjcmVhdGVIVE1MRG9jdW1lbnQiKSxpKGcsImhhc0ZlYXR1cmUiKSx3KHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixnKSx0KFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFsiY3JlYXRlRG9jdW1lbnRUeXBlIiwiY3JlYXRlRG9jdW1lbnQiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoYXNGZWF0dXJlIl0pLGEuYWRvcHROb2RlTm9SZW1vdmU9ZCxhLndyYXBwZXJzLkRPTUltcGxlbWVudGF0aW9uPWcsYS53cmFwcGVycy5Eb2N1bWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLndyYXBwZXJzLlNlbGVjdGlvbixlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEucmVuZGVyQWxsUGVuZGluZyxoPWEudW53cmFwLGk9YS51bndyYXBJZk5lZWRlZCxqPWEud3JhcCxrPXdpbmRvdy5XaW5kb3csbD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxtPXdpbmRvdy5nZXRTZWxlY3Rpb247Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksay5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpKGEpLGIpfSxrLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXRTZWxlY3Rpb24sWyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2sucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7dmFyIGI9aih0aGlzfHx3aW5kb3cpO3JldHVybiBiW2FdLmFwcGx5KGIsYXJndW1lbnRzKX0sZGVsZXRlIHdpbmRvd1thXX0pLGUoYi5wcm90b3R5cGUse2dldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZygpLGwuY2FsbChoKHRoaXMpLGkoYSksYil9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKCksbmV3IGQobS5jYWxsKGgodGhpcykpKX0sZ2V0IGRvY3VtZW50KCl7cmV0dXJuIGooaCh0aGlzKS5kb2N1bWVudCl9fSksZihrLGIsd2luZG93KSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnVud3JhcCxjPXdpbmRvdy5EYXRhVHJhbnNmZXJ8fHdpbmRvdy5DbGlwYm9hcmQsZD1jLnByb3RvdHlwZS5zZXREcmFnSW1hZ2U7Yy5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGEsYyxlKXtkLmNhbGwodGhpcyxiKGEpLGMsZSl9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29udGVudDoiSFRNTENvbnRlbnRFbGVtZW50IixkYXRhOiJIVE1MRGF0YUVsZW1lbnQiLGRhdGFsaXN0OiJIVE1MRGF0YUxpc3RFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixoZWFkOiJIVE1MSGVhZEVsZW1lbnQiLGhyOiJIVE1MSFJFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGtleWdlbjoiSFRNTEtleWdlbkVsZW1lbnQiLGxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJxdWVlOiJIVE1MTWFycXVlZUVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWVudWl0ZW06IkhUTUxNZW51SXRlbUVsZW1lbnQiLG1ldGE6IkhUTUxNZXRhRWxlbWVudCIsbWV0ZXI6IkhUTUxNZXRlckVsZW1lbnQiLG9iamVjdDoiSFRNTE9iamVjdEVsZW1lbnQiLG9sOiJIVE1MT0xpc3RFbGVtZW50IixvcHRncm91cDoiSFRNTE9wdEdyb3VwRWxlbWVudCIsb3B0aW9uOiJIVE1MT3B0aW9uRWxlbWVudCIsb3V0cHV0OiJIVE1MT3V0cHV0RWxlbWVudCIscDoiSFRNTFBhcmFncmFwaEVsZW1lbnQiLHBhcmFtOiJIVE1MUGFyYW1FbGVtZW50IixwcmU6IkhUTUxQcmVFbGVtZW50Iixwcm9ncmVzczoiSFRNTFByb2dyZXNzRWxlbWVudCIscToiSFRNTFF1b3RlRWxlbWVudCIsc2NyaXB0OiJIVE1MU2NyaXB0RWxlbWVudCIsc2VsZWN0OiJIVE1MU2VsZWN0RWxlbWVudCIsc2hhZG93OiJIVE1MU2hhZG93RWxlbWVudCIsc291cmNlOiJIVE1MU291cmNlRWxlbWVudCIsc3BhbjoiSFRNTFNwYW5FbGVtZW50IixzdHlsZToiSFRNTFN0eWxlRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGVtcGxhdGU6IkhUTUxUZW1wbGF0ZUVsZW1lbnQiLHRleHRhcmVhOiJIVE1MVGV4dEFyZWFFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGwsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIixiKTtyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZSgpe3YuaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2KTt2YXIgYT12LmNvbnRlbnREb2N1bWVudCxiPWEuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3YuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpLGEodi5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodil9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goIkBpbXBvcnQiKSYmeCl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9Zy5zaGVldC5jc3NSdWxlcyxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsIiIpLGQuc2V0QXR0cmlidXRlKHosIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB3fHwodz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHcuc2V0QXR0cmlidXRlKHosIiIpLHdbel09ITApLHd9dmFyIGs9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPXRoaXMucHJlcGFyZVJvb3QoYSxjLGQpLGY9dGhpcy5pc1R5cGVFeHRlbnNpb24oZCksZz10aGlzLm1ha2VTY29wZVNlbGVjdG9yKGMsZiksaD1iKGUsITApO2g9dGhpcy5zY29wZUNzc1RleHQoaCxnKSxhJiYoYS5zaGltbWVkU3R5bGU9aCksdGhpcy5hZGRDc3NUb0RvY3VtZW50KGgsYyl9LHNoaW1TdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNoaW1Dc3NUZXh0KGEudGV4dENvbnRlbnQsYil9LHNoaW1Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5pbnNlcnREaXJlY3RpdmVzKGEpLHRoaXMuc2NvcGVDc3NUZXh0KGEsYil9LG1ha2VTY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yj8iW2lzPSIrYSsiXSI6YToiIn0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmluZGV4T2YoIi0iKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RlclJvb3QoYSxiLGMpO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoZC5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoYSxkLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYiksZC5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2U+ZCYmKGM9YltkXSk7ZCsrKWMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdHJ5W2JdPXtyb290OmEsbmFtZTpiLGV4dGVuZHNOYW1lOmN9LGU9dGhpcy5maW5kU3R5bGVzKGEpO2Qucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIGYmJihkLnNjb3BlU3R5bGVzPWYuc2NvcGVTdHlsZXMuY29uY2F0KGQuc2NvcGVTdHlsZXMpKSxkfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybltdO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGIsZnVuY3Rpb24oYSl7cmV0dXJuIWEuaGFzQXR0cmlidXRlKEEpfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oYSxiKXthJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxmdW5jdGlvbihhKXthLnNldEF0dHJpYnV0ZShiLCIiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpLGZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLmNvbnRlbnQsYil9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UobSxmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTIpKyJ7In0pLGEucmVwbGFjZShuLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrIiB7In0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMSl9KSxhLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnJlcGxhY2UoYiwiIikucmVwbGFjZShjLCIiKTtyZXR1cm4gZCtlfSl9LHNjb3BlQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChhKTtpZihhPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0Q29udGV4dChhKSxhPXRoaXMuY29udmVydENvbWJpbmF0b3JzKGEpLGIpe3ZhciBhLGQ9dGhpcztnKGEsZnVuY3Rpb24oYyl7YT1kLnNjb3BlUnVsZXMoYyxiKX0pfXJldHVybiBhPWErIlxuIitjLGEudHJpbSgpfSxleHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPSIiO2I9cS5leGVjKGEpOyljKz1iWzFdLnNsaWNlKDAsLTEpKyJcblxuIjtmb3IoO2I9ci5leGVjKGEpOyljKz1iWzBdLnJlcGxhY2UoYlsyXSwiIikucmVwbGFjZShiWzFdLGJbM10pKyJcblxuIjtyZXR1cm4gY30sY29udmVydENvbG9uSG9zdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0UmUsdGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25Ib3N0Q29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0Q29udGV4dFJlLHRoaXMuY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvblJ1bGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsZCxlKXtpZihiPXBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixkKXtmb3IodmFyIGYsZz1kLnNwbGl0KCIsIiksaD1bXSxpPTAsaj1nLmxlbmd0aDtqPmkmJihmPWdbaV0pO2krKylmPWYudHJpbSgpLGgucHVzaChjKGIsZixlKSk7cmV0dXJuIGguam9pbigiLCIpfXJldHVybiBiK2V9KX0sY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIubWF0Y2gocyk/dGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIoYSxiLGMpOmErYitjKyIsICIrYisiICIrYStjfSxjb2xvbkhvc3RQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhK2IucmVwbGFjZShzLCIiKStjfSxjb252ZXJ0Q29tYmluYXRvcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjxjb21iaW5hdG9yc1JlLmxlbmd0aDtiKyspYT1hLnJlcGxhY2UoY29tYmluYXRvcnNSZVtiXSwiICIpO3JldHVybiBhfSxzY29wZVJ1bGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9IiI7cmV0dXJuIGEmJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnNlbGVjdG9yVGV4dCYmYS5zdHlsZSYmYS5zdHlsZS5jc3NUZXh0PyhjKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYix0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsYys9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLnR5cGU9PT1DU1NSdWxlLk1FRElBX1JVTEU/KGMrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsYys9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYiksYys9IlxufVxuXG4iKTphLmNzc1RleHQmJihjKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksY30sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1hLnNwbGl0KCIsIik7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihhKXthPWEudHJpbSgpLHRoaXMuc2VsZWN0b3JOZWVkc1Njb3BpbmcoYSxiKSYmKGE9YyYmIWEubWF0Y2gocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yKT90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTZWxlY3RvclNjb3BlKGEsYikpLGQucHVzaChhKX0sdGhpcyksZC5qb2luKCIsICIpfSxzZWxlY3Rvck5lZWRzU2NvcGluZzpmdW5jdGlvbihhLGIpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuITA7dmFyIGM9dGhpcy5tYWtlU2NvcGVNYXRjaGVyKGIpO3JldHVybiFhLm1hdGNoKGMpfSxtYWtlU2NvcGVNYXRjaGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZSgvXFsvZywiXFxbIikucmVwbGFjZSgvXFsvZywiXFxdIiksbmV3IFJlZ0V4cCgiXigiK2ErIikiK3NlbGVjdG9yUmVTdWZmaXgsIm0iKX0sYXBwbHlTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LmlzQXJyYXkoYik/dGhpcy5hcHBseVNlbGVjdG9yU2NvcGVMaXN0KGEsYik6dGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxiKX0sYXBwbHlTZWxlY3RvclNjb3BlTGlzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPVtdLGU9MDtjPWJbZV07ZSsrKWQucHVzaCh0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGMpKTtyZXR1cm4gZC5qb2luKCIsICIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5tYXRjaChwb2x5ZmlsbEhvc3RSZSk/KGE9YS5yZXBsYWNlKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixiKSxhLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsYisiICIpKTpiKyIgIithfSxhcHBseVN0cmljdFNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtiPWIucmVwbGFjZSgvXFtpcz0oW15cXV0qKVxdL2csIiQxIik7dmFyIGM9WyIgIiwiPiIsIisiLCJ+Il0sZD1hLGU9IlsiK2IrIl0iO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsIiIpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShjb2xvbkhvc3RDb250ZXh0UmUsdCkucmVwbGFjZShjb2xvbkhvc3RSZSxzKX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGUuY3NzVGV4dDthLnN0eWxlLmNvbnRlbnQmJiFhLnN0eWxlLmNvbnRlbnQubWF0Y2goL1snIl0rfGF0dHIvKSYmKGI9Yi5yZXBsYWNlKC9jb250ZW50OlteO10qOy9nLCJjb250ZW50OiAnIithLnN0eWxlLmNvbnRlbnQrIic7IikpO3ZhciBjPWEuc3R5bGU7Zm9yKHZhciBkIGluIGMpImluaXRpYWwiPT09Y1tkXSYmKGIrPWQrIjogaW5pdGlhbDsgIik7cmV0dXJuIGJ9LHJlcGxhY2VUZXh0SW5TdHlsZXM6ZnVuY3Rpb24oYSxiKXthJiZiJiYoYSBpbnN0YW5jZW9mIEFycmF5fHwoYT1bYV0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnRleHRDb250ZW50PWIuY2FsbCh0aGlzLGEudGV4dENvbnRlbnQpfSx0aGlzKSl9LGFkZENzc1RvRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiKXthLm1hdGNoKCJAaW1wb3J0Iik/aShhLGIpOmgoYSl9fSxsPS9cL1wqW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8vZ2ltLG09L1wvXCpccypAcG9seWZpbGwgKFteKl0qXCorKFteLypdW14qXSpcKispKlwvKShbXntdKj8pey9naW0sbj0vcG9seWZpbGwtbmV4dC1zZWxlY3RvcltefV0qY29udGVudFw6W1xzXSonKFteJ10qKSdbXn1dKn0oW157XSo/KXsvZ2ltLG89L1wvXCpcc0Bwb2x5ZmlsbC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scD0vKHBvbHlmaWxsLXJ1bGUpW159XSooY29udGVudFw6W1xzXSonKFteJ10qKSdbXjtdKjspW159XSp9L2dpbSxxPS9cL1wqXHNAcG9seWZpbGwtdW5zY29wZWQtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHI9Lyhwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKVtefV0qKGNvbnRlbnRcOltcc10qJyhbXiddKiknW147XSo7KVtefV0qfS9naW0scz0iLXNoYWRvd2Nzc2hvc3QiLHQ9Ii1zaGFkb3djc3Njb250ZXh0Iix1PSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrcyt1LCJnaW0iKSxjc3NDb2xvbkhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCgiKCIrdCt1LCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPXMrIi1uby1jb21iaW5hdG9yIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKHMsImdpbSIpLHBvbHlmaWxsSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKHQsImdpbSIpLGNvbWJpbmF0b3JzUmU9Wy9cXlxeL2csL1xeL2csL1wvc2hhZG93XC8vZywvXC9zaGFkb3ctZGVlcFwvL2csLzo6c2hhZG93L2csL1wvZGVlcFwvL2ddO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3Yuc3R5bGUuZGlzcGxheT0ibm9uZSI7dmFyIHcseD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCJDaHJvbWUiKSx5PSJzaGltLXNoYWRvd2RvbSIsej0ic2hpbS1zaGFkb3dkb20tY3NzIixBPSJuby1zaGltIjtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe2goInN0eWxlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4iKTt2YXIgQj13cmFwKGRvY3VtZW50KSxDPUIucXVlcnlTZWxlY3RvcigiaGVhZCIpO0MuaW5zZXJ0QmVmb3JlKGooKSxDLmNoaWxkTm9kZXNbMF0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7dmFyIGI9YS51cmxSZXNvbHZlcjtpZih3aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy51c2VOYXRpdmUpe3ZhciBjPSJsaW5rW3JlbD1zdHlsZXNoZWV0XVsiK3krIl0iLGQ9InN0eWxlWyIreSsiXSI7SFRNTEltcG9ydHMuaW1wb3J0ZXIuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzKz0iLCIrYyxIVE1MSW1wb3J0cy5pbXBvcnRlci5pbXBvcnRzUHJlbG9hZFNlbGVjdG9ycys9IiwiK2MsSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzPVtIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnMsYyxkXS5qb2luKCIsIik7dmFyIGU9SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYztIVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljPWZ1bmN0aW9uKGEpe2lmKCFhW3pdKXt2YXIgYz1hLl9faW1wb3J0RWxlbWVudHx8YTtpZighYy5oYXNBdHRyaWJ1dGUoeSkpcmV0dXJuIHZvaWQgZS5jYWxsKHRoaXMsYSk7YS5fX3Jlc291cmNlPyhjPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGMudGV4dENvbnRlbnQ9Yi5yZXNvbHZlQ3NzVGV4dChhLl9fcmVzb3VyY2UsYS5ocmVmKSk6Yi5yZXNvbHZlU3R5bGUoYyksYy50ZXh0Q29udGVudD1rLnNoaW1TdHlsZShjKSxjLnJlbW92ZUF0dHJpYnV0ZSh5LCIiKSxjLnNldEF0dHJpYnV0ZSh6LCIiKSxjW3pdPSEwLGMucGFyZW50Tm9kZSE9PUMmJihhLnBhcmVudE5vZGU9PT1DP0MucmVwbGFjZUNoaWxkKGMsYSk6Qy5hcHBlbmRDaGlsZChjKSksYy5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSksdGhpcy5wYXJzZU5leHQoKX19O3ZhciBmPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJzdHlsZXNoZWV0Ij09PWEucmVsJiZhLmhhc0F0dHJpYnV0ZSh5KT9hLl9fcmVzb3VyY2U6Zi5jYWxsKHRoaXMsYSl9fX0pfWEuU2hhZG93Q1NTPWt9KHdpbmRvdy5QbGF0Zm9ybSkpOiFmdW5jdGlvbigpe3dpbmRvdy53cmFwPXdpbmRvdy51bndyYXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aWYoQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlPT09ITEpe3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn19fSksUGxhdGZvcm0udGVtcGxhdGVDb250ZW50PWZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYSksIWEuY29udGVudCYmIWEuX2NvbnRlbnQpe2Zvcih2YXIgYj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7YS5maXJzdENoaWxkOyliLmFwcGVuZENoaWxkKGEuZmlyc3RDaGlsZCk7YS5fY29udGVudD1ifXJldHVybiBhLmNvbnRlbnR8fGEuX2NvbnRlbnR9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiB2b2lkIDAhPT1tW2FdfWZ1bmN0aW9uIGMoKXtoLmNhbGwodGhpcyksdGhpcy5faXNJbnZhbGlkPSEwfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIiI9PWEmJmMuY2FsbCh0aGlzKSxhLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDYzLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBnKGEsZyxoKXtmdW5jdGlvbiBpKGEpe3QucHVzaChhKX12YXIgaj1nfHwic2NoZW1lIHN0YXJ0IixrPTAsbD0iIixyPSExLHM9ITEsdD1bXTthOmZvcig7KGFbay0xXSE9b3x8MD09aykmJiF0aGlzLl9pc0ludmFsaWQ7KXt2YXIgdT1hW2tdO3N3aXRjaChqKXtjYXNlInNjaGVtZSBzdGFydCI6aWYoIXV8fCFwLnRlc3QodSkpe2lmKGcpe2koIkludmFsaWQgc2NoZW1lLiIpO2JyZWFrIGF9bD0iIixqPSJubyBzY2hlbWUiO2NvbnRpbnVlfWwrPXUudG9Mb3dlckNhc2UoKSxqPSJzY2hlbWUiO2JyZWFrO2Nhc2Uic2NoZW1lIjppZih1JiZxLnRlc3QodSkpbCs9dS50b0xvd2VyQ2FzZSgpO2Vsc2V7aWYoIjoiIT11KXtpZihnKXtpZihvPT11KWJyZWFrIGE7aSgiQ29kZSBwb2ludCBub3QgYWxsb3dlZCBpbiBzY2hlbWU6ICIrdSk7YnJlYWsgYX1sPSIiLGs9MCxqPSJubyBzY2hlbWUiO2NvbnRpbnVlfWlmKHRoaXMuX3NjaGVtZT1sLGw9IiIsZylicmVhayBhO2IodGhpcy5fc2NoZW1lKSYmKHRoaXMuX2lzUmVsYXRpdmU9ITApLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIjp0aGlzLl9pc1JlbGF0aXZlJiZoJiZoLl9zY2hlbWU9PXRoaXMuX3NjaGVtZT8icmVsYXRpdmUgb3IgYXV0aG9yaXR5Ijp0aGlzLl9pc1JlbGF0aXZlPyJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOiJzY2hlbWUgZGF0YSJ9YnJlYWs7Y2FzZSJzY2hlbWUgZGF0YSI6Ij8iPT11PyhxdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXU/KHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpOm8hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX3NjaGVtZURhdGErPWUodSkpO2JyZWFrO2Nhc2Uibm8gc2NoZW1lIjppZihoJiZiKGguX3NjaGVtZSkpe2o9InJlbGF0aXZlIjtjb250aW51ZX1pKCJNaXNzaW5nIHNjaGVtZS4iKSxjLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOmlmKCIvIiE9dXx8Ii8iIT1hW2srMV0pe2koIkV4cGVjdGVkIC8sIGdvdDogIit1KSxqPSJyZWxhdGl2ZSI7Y29udGludWV9aj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjticmVhaztjYXNlInJlbGF0aXZlIjppZih0aGlzLl9pc1JlbGF0aXZlPSEwLCJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5fc2NoZW1lPWguX3NjaGVtZSksbz09dSl7dGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT1oLl9xdWVyeTticmVhayBhfWlmKCIvIj09dXx8IlxcIj09dSkiXFwiPT11JiZpKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaj0icmVsYXRpdmUgc2xhc2giO2Vsc2UgaWYoIj8iPT11KXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9Ij8iLGo9InF1ZXJ5IjtlbHNle2lmKCIjIiE9dSl7dmFyIHY9YVtrKzFdLHc9YVtrKzJdOygiZmlsZSIhPXRoaXMuX3NjaGVtZXx8IXAudGVzdCh1KXx8IjoiIT12JiYifCIhPXZ8fG8hPXcmJiIvIiE9dyYmIlxcIiE9dyYmIj8iIT13JiYiIyIhPXcpJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9wYXRoLnBvcCgpKSxqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX10aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5LHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIKfWJyZWFrO2Nhc2UicmVsYXRpdmUgc2xhc2giOmlmKCIvIiE9dSYmIlxcIiE9dSl7ImZpbGUiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0KSxqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iXFwiPT11JiZpKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaj0iZmlsZSI9PXRoaXMuX3NjaGVtZT8iZmlsZSBob3N0IjoiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjticmVhaztjYXNlImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6aWYoIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KSxqPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2NvbnRpbnVlfWo9ImF1dGhvcml0eSBzZWNvbmQgc2xhc2giO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IHNlY29uZCBzbGFzaCI6aWYoaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIiwiLyIhPXUpe2koIkV4cGVjdGVkICcvJywgZ290OiAiK3UpO2NvbnRpbnVlfWJyZWFrO2Nhc2UiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjppZigiLyIhPXUmJiJcXCIhPXUpe2o9ImF1dGhvcml0eSI7Y29udGludWV9aSgiRXhwZWN0ZWQgYXV0aG9yaXR5LCBnb3Q6ICIrdSk7YnJlYWs7Y2FzZSJhdXRob3JpdHkiOmlmKCJAIj09dSl7ciYmKGkoIkAgYWxyZWFkeSBzZWVuLiIpLGwrPSIlNDAiKSxyPSEwO2Zvcih2YXIgeD0wO3g8bC5sZW5ndGg7eCsrKXt2YXIgeT1sW3hdO2lmKCIJIiE9eSYmIlxuIiE9eSYmIlxyIiE9eSlpZigiOiIhPXl8fG51bGwhPT10aGlzLl9wYXNzd29yZCl7dmFyIHo9ZSh5KTtudWxsIT09dGhpcy5fcGFzc3dvcmQ/dGhpcy5fcGFzc3dvcmQrPXo6dGhpcy5fdXNlcm5hbWUrPXp9ZWxzZSB0aGlzLl9wYXNzd29yZD0iIjtlbHNlIGkoIkludmFsaWQgd2hpdGVzcGFjZSBpbiBhdXRob3JpdHkuIil9bD0iIn1lbHNle2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpe2stPWwubGVuZ3RoLGw9IiIsaj0iaG9zdCI7Y29udGludWV9bCs9dX1icmVhaztjYXNlImZpbGUgaG9zdCI6aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dSl7MiE9bC5sZW5ndGh8fCFwLnRlc3QobFswXSl8fCI6IiE9bFsxXSYmInwiIT1sWzFdPzA9PWwubGVuZ3RoP2o9InJlbGF0aXZlIHBhdGggc3RhcnQiOih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIpOmo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfSIJIj09dXx8IlxuIj09dXx8IlxyIj09dT9pKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gZmlsZSBob3N0LiIpOmwrPXU7YnJlYWs7Y2FzZSJob3N0IjpjYXNlImhvc3RuYW1lIjppZigiOiIhPXV8fHMpe2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpe2lmKHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IixnKWJyZWFrIGE7Y29udGludWV9IgkiIT11JiYiXG4iIT11JiYiXHIiIT11PygiWyI9PXU/cz0hMDoiXSI9PXUmJihzPSExKSxsKz11KTppKCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gaG9zdC9ob3N0bmFtZTogIit1KX1lbHNlIGlmKHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJwb3J0IiwiaG9zdG5hbWUiPT1nKWJyZWFrIGE7YnJlYWs7Y2FzZSJwb3J0IjppZigvWzAtOV0vLnRlc3QodSkpbCs9dTtlbHNle2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXV8fGcpe2lmKCIiIT1sKXt2YXIgQT1wYXJzZUludChsLDEwKTtBIT1tW3RoaXMuX3NjaGVtZV0mJih0aGlzLl9wb3J0PUErIiIpLGw9IiJ9aWYoZylicmVhayBhO2o9InJlbGF0aXZlIHBhdGggc3RhcnQiO2NvbnRpbnVlfSIJIj09dXx8IlxuIj09dXx8IlxyIj09dT9pKCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gcG9ydDogIit1KTpjLmNhbGwodGhpcyl9YnJlYWs7Y2FzZSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjppZigiXFwiPT11JiZpKCInXFwnIG5vdCBhbGxvd2VkIGluIHBhdGguIiksaj0icmVsYXRpdmUgcGF0aCIsIi8iIT11JiYiXFwiIT11KWNvbnRpbnVlO2JyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCI6aWYobyE9dSYmIi8iIT11JiYiXFwiIT11JiYoZ3x8Ij8iIT11JiYiIyIhPXUpKSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKGwrPWUodSkpO2Vsc2V7IlxcIj09dSYmaSgiXFwgbm90IGFsbG93ZWQgaW4gcmVsYXRpdmUgcGF0aC4iKTt2YXIgQjsoQj1uW2wudG9Mb3dlckNhc2UoKV0pJiYobD1CKSwiLi4iPT1sPyh0aGlzLl9wYXRoLnBvcCgpLCIvIiE9dSYmIlxcIiE9dSYmdGhpcy5fcGF0aC5wdXNoKCIiKSk6Ii4iPT1sJiYiLyIhPXUmJiJcXCIhPXU/dGhpcy5fcGF0aC5wdXNoKCIiKToiLiIhPWwmJigiZmlsZSI9PXRoaXMuX3NjaGVtZSYmMD09dGhpcy5fcGF0aC5sZW5ndGgmJjI9PWwubGVuZ3RoJiZwLnRlc3QobFswXSkmJiJ8Ij09bFsxXSYmKGw9bFswXSsiOiIpLHRoaXMuX3BhdGgucHVzaChsKSksbD0iIiwiPyI9PXU/KHRoaXMuX3F1ZXJ5PSI/IixqPSJxdWVyeSIpOiIjIj09dSYmKHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpfWJyZWFrO2Nhc2UicXVlcnkiOmd8fCIjIiE9dT9vIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9xdWVyeSs9Zih1KSk6KHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpO2JyZWFrO2Nhc2UiZnJhZ21lbnQiOm8hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX2ZyYWdtZW50Kz11KX1rKyt9fWZ1bmN0aW9uIGgoKXt0aGlzLl9zY2hlbWU9IiIsdGhpcy5fc2NoZW1lRGF0YT0iIix0aGlzLl91c2VybmFtZT0iIix0aGlzLl9wYXNzd29yZD1udWxsLHRoaXMuX2hvc3Q9IiIsdGhpcy5fcG9ydD0iIix0aGlzLl9wYXRoPVtdLHRoaXMuX3F1ZXJ5PSIiLHRoaXMuX2ZyYWdtZW50PSIiLHRoaXMuX2lzSW52YWxpZD0hMSx0aGlzLl9pc1JlbGF0aXZlPSExfWZ1bmN0aW9uIGkoYSxiKXt2b2lkIDA9PT1ifHxiIGluc3RhbmNlb2YgaXx8KGI9bmV3IGkoU3RyaW5nKGIpKSksdGhpcy5fdXJsPWEsaC5jYWxsKHRoaXMpO3ZhciBjPWEucmVwbGFjZSgvXlsgXHRcclxuXGZdK3xbIFx0XHJcblxmXSskL2csIiIpO2cuY2FsbCh0aGlzLGMsbnVsbCxiKX12YXIgaj0hMTtpZighYS5mb3JjZUpVUkwpdHJ5e3ZhciBrPW5ldyBVUkwoImIiLCJodHRwOi8vYSIpO2o9Imh0dHA6Ly9hL2IiPT09ay5ocmVmfWNhdGNoKGwpe31pZighail7dmFyIG09T2JqZWN0LmNyZWF0ZShudWxsKTttLmZ0cD0yMSxtLmZpbGU9MCxtLmdvcGhlcj03MCxtLmh0dHA9ODAsbS5odHRwcz00NDMsbS53cz04MCxtLndzcz00NDM7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtuWyIlMmUiXT0iLiIsblsiLiUyZSJdPSIuLiIsblsiJTJlLiJdPSIuLiIsblsiJTJlJTJlIl09Ii4uIjt2YXIgbz12b2lkIDAscD0vW2EtekEtWl0vLHE9L1thLXpBLVowLTlcK1wtXC5dLztpLnByb3RvdHlwZT17Z2V0IGhyZWYoKXtpZih0aGlzLl9pc0ludmFsaWQpcmV0dXJuIHRoaXMuX3VybDt2YXIgYT0iIjtyZXR1cm4oIiIhPXRoaXMuX3VzZXJuYW1lfHxudWxsIT10aGlzLl9wYXNzd29yZCkmJihhPXRoaXMuX3VzZXJuYW1lKyhudWxsIT10aGlzLl9wYXNzd29yZD8iOiIrdGhpcy5fcGFzc3dvcmQ6IiIpKyJAIiksdGhpcy5wcm90b2NvbCsodGhpcy5faXNSZWxhdGl2ZT8iLy8iK2ErdGhpcy5ob3N0OiIiKSt0aGlzLnBhdGhuYW1lK3RoaXMuX3F1ZXJ5K3RoaXMuX2ZyYWdtZW50fSxzZXQgaHJlZihhKXtoLmNhbGwodGhpcyksZy5jYWxsKHRoaXMsYSl9LGdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzLl9zY2hlbWUrIjoifSxzZXQgcHJvdG9jb2woYSl7dGhpcy5faXNJbnZhbGlkfHxnLmNhbGwodGhpcyxhKyI6Iiwic2NoZW1lIHN0YXJ0Iil9LGdldCBob3N0KCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD8iIjp0aGlzLl9wb3J0P3RoaXMuX2hvc3QrIjoiK3RoaXMuX3BvcnQ6dGhpcy5faG9zdH0sc2V0IGhvc3QoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmZy5jYWxsKHRoaXMsYSwiaG9zdCIpfSxnZXQgaG9zdG5hbWUoKXtyZXR1cm4gdGhpcy5faG9zdH0sc2V0IGhvc3RuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3RuYW1lIil9LGdldCBwb3J0KCl7cmV0dXJuIHRoaXMuX3BvcnR9LHNldCBwb3J0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsInBvcnQiKX0sZ2V0IHBhdGhuYW1lKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD8iIjp0aGlzLl9pc1JlbGF0aXZlPyIvIit0aGlzLl9wYXRoLmpvaW4oIi8iKTp0aGlzLl9zY2hlbWVEYXRhfSxzZXQgcGF0aG5hbWUoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3BhdGg9W10sZy5jYWxsKHRoaXMsYSwicmVsYXRpdmUgcGF0aCBzdGFydCIpKX0sZ2V0IHNlYXJjaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9xdWVyeXx8Ij8iPT10aGlzLl9xdWVyeT8iIjp0aGlzLl9xdWVyeX0sc2V0IHNlYXJjaChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiYodGhpcy5fcXVlcnk9Ij8iLCI/Ij09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwicXVlcnkiKSl9LGdldCBoYXNoKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZHx8IXRoaXMuX2ZyYWdtZW50fHwiIyI9PXRoaXMuX2ZyYWdtZW50PyIiOnRoaXMuX2ZyYWdtZW50fSxzZXQgaGFzaChhKXt0aGlzLl9pc0ludmFsaWR8fCh0aGlzLl9mcmFnbWVudD0iIyIsIiMiPT1hWzBdJiYoYT1hLnNsaWNlKDEpKSxnLmNhbGwodGhpcyxhLCJmcmFnbWVudCIpKX19LGEuVVJMPWl9fSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPWF8fHt9LGQ9MTtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT1hcmd1bWVudHNbZF07dHJ5e2Zvcih2YXIgZiBpbiBlKWMoZixlLGIpfWNhdGNoKGcpe319cmV0dXJuIGJ9ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGU9ZChiLGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGEsZSl9ZnVuY3Rpb24gZChhLGIpe2lmKGEpe3ZhciBjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKTtyZXR1cm4gY3x8ZChPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYil9fUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7cmV0dXJuIGQucHVzaC5hcHBseShkLGFyZ3VtZW50cyksYi5hcHBseShhLGQpfX0pLGEubWl4aW49Yn0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9InN0cmluZyI9PXR5cGVvZiBhP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSk6YS5jbG9uZU5vZGUoITApO2lmKGQuaW5uZXJIVE1MPWIsYylmb3IodmFyIGUgaW4gYylkLnNldEF0dHJpYnV0ZShlLGNbZV0pO3JldHVybiBkfXZhciBjPURPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkLGQ9RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5yZW1vdmU7RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWMuY2FsbCh0aGlzLGFyZ3VtZW50c1thXSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKylkLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihhLGIpezE9PWFyZ3VtZW50cy5sZW5ndGgmJihiPSF0aGlzLmNvbnRhaW5zKGEpKSxiP3RoaXMuYWRkKGEpOnRoaXMucmVtb3ZlKGEpfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnN3aXRjaD1mdW5jdGlvbihhLGIpe2EmJnRoaXMucmVtb3ZlKGEpLGImJnRoaXMuYWRkKGIpfTt2YXIgZT1mdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzKX0sZj13aW5kb3cuTmFtZWROb2RlTWFwfHx3aW5kb3cuTW96TmFtZWRBdHRyTWFwfHx7fTtpZihOb2RlTGlzdC5wcm90b3R5cGUuYXJyYXk9ZSxmLnByb3RvdHlwZS5hcnJheT1lLEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5hcnJheT1lLCF3aW5kb3cucGVyZm9ybWFuY2Upe3ZhciBnPURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1nfX19d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhKGZ1bmN0aW9uKCl7YihwZXJmb3JtYW5jZS5ub3coKSl9KX06ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGEsMWUzLzYwKX19KCkpLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX0oKSk7dmFyIGg9W10saT1mdW5jdGlvbigpe2gucHVzaChhcmd1bWVudHMpfTt3aW5kb3cuUG9seW1lcj1pLGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXt0aHJvdyJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZSJ9LGh9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3dpbmRvdy5Qb2x5bWVyPT09aSYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9ImltcG9ydCIgaHJlZj0iY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbCI+Jyl9KX0pLGEuY3JlYXRlRE9NPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7YS50ZW1wbGF0ZUNvbnRlbnQ9YS50ZW1wbGF0ZUNvbnRlbnR8fGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnR9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2E9YXx8KHdpbmRvdy5JbnNwZWN0b3I9e30pO3ZhciBiO3dpbmRvdy5zaW5zcGVjdD1mdW5jdGlvbihhLGQpe2J8fChiPXdpbmRvdy5vcGVuKCIiLCJTaGFkb3dET00gSW5zcGVjdG9yIixudWxsLCEwKSxiLmRvY3VtZW50LndyaXRlKGMpLGIuYXBpPXtzaGFkb3dpemU6c2hhZG93aXplfSksZihhfHx3cmFwKGRvY3VtZW50LmJvZHkpLGQpfTt2YXIgYz1bIjwhRE9DVFlQRSBodG1sPiIsIjxodG1sPiIsIiAgPGhlYWQ+IiwiICAgIDx0aXRsZT5TaGFkb3dET00gSW5zcGVjdG9yPC90aXRsZT4iLCIgICAgPHN0eWxlPiIsIiAgICAgIGJvZHkgeyIsIiAgICAgIH0iLCIgICAgICBwcmUgeyIsJyAgICAgICAgZm9udDogOXB0ICJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZTsnLCIgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTsiLCIgICAgICB9IiwiICAgICAgdGFnIHsiLCIgICAgICAgIGNvbG9yOiBwdXJwbGU7IiwiICAgICAgfSIsIiAgICAgIHVsIHsiLCIgICAgICAgICBtYXJnaW46IDA7IiwiICAgICAgICAgcGFkZGluZzogMDsiLCIgICAgICAgICBsaXN0LXN0eWxlOiBub25lOyIsIiAgICAgIH0iLCIgICAgICBsaSB7IiwiICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyIsIiAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7IiwiICAgICAgICAgcGFkZGluZzogNHB4IDZweDsiLCIgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IiwiICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7IiwiICAgICAgfSIsIiAgICA8L3N0eWxlPiIsIiAgPC9oZWFkPiIsIiAgPGJvZHk+IiwnICAgIDx1bCBpZD0iY3J1bWJzIj4nLCIgICAgPC91bD4iLCcgICAgPGRpdiBpZD0idHJlZSI+PC9kaXY+JywiICA8L2JvZHk+IiwiPC9odG1sPiJdLmpvaW4oIlxuIiksZD1bXSxlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5kb2N1bWVudCxjPWEucXVlcnlTZWxlY3RvcigiI2NydW1icyIpO2MudGV4dENvbnRlbnQ9IiI7Zm9yKHZhciBlLGc9MDtlPWRbZ107ZysrKXt2YXIgaD1hLmNyZWF0ZUVsZW1lbnQoImEiKTtoLmhyZWY9IiMiLGgudGV4dENvbnRlbnQ9ZS5sb2NhbE5hbWUsaC5pZHg9ZyxoLm9uY2xpY2s9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiO2QubGVuZ3RoPnRoaXMuaWR4OyliPWQucG9wKCk7ZihiLnNoYWRvd3x8YixiKSxhLnByZXZlbnREZWZhdWx0KCl9LGMuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KCJsaSIpKS5hcHBlbmRDaGlsZChoKX19LGY9ZnVuY3Rpb24oYSxjKXt2YXIgZj1iLmRvY3VtZW50O2s9W107dmFyIGc9Y3x8YTtkLnB1c2goZyksZSgpLGYuYm9keS5xdWVyeVNlbGVjdG9yKCIjdHJlZSIpLmlubmVySFRNTD0iPHByZT4iK2ooYSxhLmNoaWxkTm9kZXMpKyI8L3ByZT4ifSxnPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksaD17U1RZTEU6MSxTQ1JJUFQ6MSwiI2NvbW1lbnQiOjEsVEVNUExBVEU6MX0saT1mdW5jdGlvbihhKXtyZXR1cm4gaFthLm5vZGVOYW1lXX0saj1mdW5jdGlvbihhLGIsYyl7aWYoaShhKSlyZXR1cm4iIjt2YXIgZD1jfHwiIjtpZihhLmxvY2FsTmFtZXx8MTE9PWEubm9kZVR5cGUpe3ZhciBlPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiLGY9ZCtsKGEpOyJjb250ZW50Ij09ZSYmKGI9YS5nZXREaXN0cmlidXRlZE5vZGVzKCkpLGYrPSI8YnIvPiI7dmFyIGg9ZCsiJm5ic3A7Jm5ic3A7IjtnKGIsZnVuY3Rpb24oYSl7Zis9aihhLGEuY2hpbGROb2RlcyxoKX0pLGYrPWQse2JyOjF9W2VdfHwoZis9Ijx0YWc+Jmx0Oy8iK2UrIiZndDs8L3RhZz4iLGYrPSI8YnIvPiIpfWVsc2V7dmFyIGs9YS50ZXh0Q29udGVudC50cmltKCk7Zj1rP2QrJyInK2srJyI8YnIvPic6IiJ9cmV0dXJuIGZ9LGs9W10sbD1mdW5jdGlvbihhKXt2YXIgYj0iPHRhZz4mbHQ7IixjPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiO3JldHVybiBhLndlYmtpdFNoYWRvd1Jvb3R8fGEuc2hhZG93Um9vdD8oYis9JyA8YnV0dG9uIGlkeD0iJytrLmxlbmd0aCsnIiBvbmNsaWNrPSJhcGkuc2hhZG93aXplLmNhbGwodGhpcykiPicrYysiPC9idXR0b24+IixrLnB1c2goYSkpOmIrPWN8fCJzaGFkb3ctcm9vdCIsYS5hdHRyaWJ1dGVzJiZnKGEuYXR0cmlidXRlcyxmdW5jdGlvbihhKXtiKz0iICIrYS5uYW1lKyhhLnZhbHVlPyc9IicrYS52YWx1ZSsnIic6IiIpfSksYis9IiZndDs8L3RhZz4ifTtzaGFkb3dpemU9ZnVuY3Rpb24oKXt2YXIgYT1OdW1iZXIodGhpcy5hdHRyaWJ1dGVzLmlkeC52YWx1ZSksYj1rW2FdO2I/ZihiLndlYmtpdFNoYWRvd1Jvb3R8fGIuc2hhZG93Um9vdCxiKTooY29uc29sZS5sb2coImJhZCBzaGFkb3dpemUgbm9kZSIpLGNvbnNvbGUuZGlyKHRoaXMpKX0sYS5vdXRwdXQ9an0od2luZG93Lkluc3BlY3RvciksZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2EudGV4dENvbnRlbnQ9ImJvZHkge3RyYW5zaXRpb246IG9wYWNpdHkgZWFzZS1pbiAwLjJzOyB9IFxuYm9keVt1bnJlc29sdmVkXSB7b3BhY2l0eTogMDsgZGlzcGxheTogYmxvY2s7IG92ZXJmbG93OiBoaWRkZW47IH0gXG4iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9Ynx8W10sYi5tYXB8fChiPVtiXSksYS5hcHBseSh0aGlzLGIubWFwKGQpKX1mdW5jdGlvbiBjKGEsYyxkKXt2YXIgZTtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybjtjYXNlIDE6ZT1udWxsO2JyZWFrO2Nhc2UgMjplPWMuYXBwbHkodGhpcyk7YnJlYWs7ZGVmYXVsdDplPWIoZCxjKX1mW2FdPWV9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZlthXX1mdW5jdGlvbiBlKGEsYyl7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe2IoYyxhKX0pfXZhciBmPXt9O2EubWFyc2hhbD1kLGEubW9kdWxhcml6ZT1jLGEudXNpbmc9ZX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2YudGV4dENvbnRlbnQ9ZCsrLGUucHVzaChhKX1mdW5jdGlvbiBjKCl7Zm9yKDtlLmxlbmd0aDspZS5zaGlmdCgpKCl9dmFyIGQ9MCxlPVtdLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8SnNNdXRhdGlvbk9ic2VydmVyKShjKS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxhLmVuZE9mTWljcm90YXNrPWJ9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkLGUpe3JldHVybiBhLnJlcGxhY2UoZSxmdW5jdGlvbihhLGUsZixnKXt2YXIgaD1mLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGg9YyhiLGgsZCksZSsiJyIraCsiJyIrZ30pfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKGImJiIvIj09PWJbMF0pcmV0dXJuIGI7dmFyIGU9bmV3IFVSTChiLGEpO3JldHVybiBjP2UuaHJlZjpkKGUuaHJlZil9ZnVuY3Rpb24gZChhKXt2YXIgYj1uZXcgVVJMKGRvY3VtZW50LmJhc2VVUkkpLGM9bmV3IFVSTChhLGIpO3JldHVybiBjLmhvc3Q9PT1iLmhvc3QmJmMucG9ydD09PWIucG9ydCYmYy5wcm90b2NvbD09PWIucHJvdG9jb2w/ZShiLGMpOmF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1hLnBhdGhuYW1lLGQ9Yi5wYXRobmFtZSxlPWMuc3BsaXQoIi8iKSxmPWQuc3BsaXQoIi8iKTtlLmxlbmd0aCYmZVswXT09PWZbMF07KWUuc2hpZnQoKSxmLnNoaWZ0KCk7Zm9yKHZhciBnPTAsaD1lLmxlbmd0aC0xO2g+ZztnKyspZi51bnNoaWZ0KCIuLiIpO3JldHVybiBmLmpvaW4oIi8iKStiLnNlYXJjaCtiLmhhc2h9dmFyIGY9e3Jlc29sdmVEb206ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLHRoaXMucmVzb2x2ZUF0dHJpYnV0ZXMoYSxiKSx0aGlzLnJlc29sdmVTdHlsZXMoYSxiKTt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspZC5jb250ZW50JiZ0aGlzLnJlc29sdmVEb20oZC5jb250ZW50LGIpfSxyZXNvbHZlVGVtcGxhdGU6ZnVuY3Rpb24oYSl7dGhpcy5yZXNvbHZlRG9tKGEuY29udGVudCxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSl9LHJlc29sdmVTdHlsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspdGhpcy5yZXNvbHZlU3R5bGUoZCxiKX0scmVzb2x2ZVN0eWxlOmZ1bmN0aW9uKGEsYil7Yj1ifHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxhLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhPWIoYSxjLGQsZyksYihhLGMsZCxoKX0scmVzb2x2ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXthLmhhc0F0dHJpYnV0ZXMmJmEuaGFzQXR0cmlidXRlcygpJiZ0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhhLGIpO3ZhciBjPWEmJmEucXVlcnlTZWxlY3RvckFsbChqKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhkLGIpfSxyZXNvbHZlRWxlbWVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxkKXtkPWR8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgZixoPWEuYXR0cmlidXRlc1tlXSxpPWgmJmgudmFsdWU7aSYmaS5zZWFyY2goayk8MCYmKGY9InN0eWxlIj09PWU/YihpLGQsZyk6YyhkLGkpLGgudmFsdWU9Zil9KX19LGc9Lyh1cmxcKCkoW14pXSopKFwpKS9nLGg9LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLGk9WyJocmVmIiwic3JjIiwiYWN0aW9uIiwic3R5bGUiXSxqPSJbIitpLmpvaW4oIl0sWyIpKyJdIixrPSJ7ey4qfX0iO2EudXJsUmVzb2x2ZXI9Zn0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dS5wdXNoKGEpLHR8fCh0PSEwLHEoZCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKXx8YX1mdW5jdGlvbiBkKCl7dD0hMTt2YXIgYT11O3U9W10sYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudWlkXy1iLnVpZF99KTt2YXIgYj0hMTthLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGM9YS50YWtlUmVjb3JkcygpO2UoYSksYy5sZW5ndGgmJihhLmNhbGxiYWNrXyhjLGEpLGI9ITApfSksYiYmZCgpfWZ1bmN0aW9uIGUoYSl7YS5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1wLmdldChiKTtjJiZjLmZvckVhY2goZnVuY3Rpb24oYil7Yi5vYnNlcnZlcj09PWEmJmIucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9KX0pfWZ1bmN0aW9uIGYoYSxiKXtmb3IodmFyIGM9YTtjO2M9Yy5wYXJlbnROb2RlKXt2YXIgZD1wLmdldChjKTtpZihkKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLGc9Zi5vcHRpb25zO2lmKGM9PT1hfHxnLnN1YnRyZWUpe3ZhciBoPWIoZyk7aCYmZi5lbnF1ZXVlKGgpfX19fWZ1bmN0aW9uIGcoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Z9ZnVuY3Rpb24gaChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPVtdLHRoaXMucmVtb3ZlZE5vZGVzPVtdLHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGkoYSl7dmFyIGI9bmV3IGgoYS50eXBlLGEudGFyZ2V0KTtyZXR1cm4gYi5hZGRlZE5vZGVzPWEuYWRkZWROb2Rlcy5zbGljZSgpLGIucmVtb3ZlZE5vZGVzPWEucmVtb3ZlZE5vZGVzLnNsaWNlKCksYi5wcmV2aW91c1NpYmxpbmc9YS5wcmV2aW91c1NpYmxpbmcsYi5uZXh0U2libGluZz1hLm5leHRTaWJsaW5nLGIuYXR0cmlidXRlTmFtZT1hLmF0dHJpYnV0ZU5hbWUsYi5hdHRyaWJ1dGVOYW1lc3BhY2U9YS5hdHRyaWJ1dGVOYW1lc3BhY2UsYi5vbGRWYWx1ZT1hLm9sZFZhbHVlLGJ9ZnVuY3Rpb24gaihhLGIpe3JldHVybiB3PW5ldyBoKGEsYil9ZnVuY3Rpb24gayhhKXtyZXR1cm4geD94Oih4PWkodykseC5vbGRWYWx1ZT1hLHgpfWZ1bmN0aW9uIGwoKXt3PXg9dm9pZCAwfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIGE9PT14fHxhPT09d31mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iP2E6eCYmbShhKT94Om51bGx9ZnVuY3Rpb24gbyhhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBwPW5ldyBXZWFrTWFwLHE9d2luZG93Lm1zU2V0SW1tZWRpYXRlO2lmKCFxKXt2YXIgcj1bXSxzPVN0cmluZyhNYXRoLnJhbmRvbSgpKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhPT09cyl7dmFyIGI9cjtyPVtdLGIuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX19KSxxPWZ1bmN0aW9uKGEpe3IucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UocywiKiIpfX12YXIgdD0hMSx1PVtdLHY9MDtnLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2lmKGE9YyhhKSwhYi5jaGlsZExpc3QmJiFiLmF0dHJpYnV0ZXMmJiFiLmNoYXJhY3RlckRhdGF8fGIuYXR0cmlidXRlT2xkVmFsdWUmJiFiLmF0dHJpYnV0ZXN8fGIuYXR0cmlidXRlRmlsdGVyJiZiLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJiFiLmF0dHJpYnV0ZXN8fGIuY2hhcmFjdGVyRGF0YU9sZFZhbHVlJiYhYi5jaGFyYWN0ZXJEYXRhKXRocm93IG5ldyBTeW50YXhFcnJvcjt2YXIgZD1wLmdldChhKTtkfHxwLnNldChhLGQ9W10pO2Zvcih2YXIgZSxmPTA7ZjxkLmxlbmd0aDtmKyspaWYoZFtmXS5vYnNlcnZlcj09PXRoaXMpe2U9ZFtmXSxlLnJlbW92ZUxpc3RlbmVycygpLGUub3B0aW9ucz1iO2JyZWFrfWV8fChlPW5ldyBvKHRoaXMsYSxiKSxkLnB1c2goZSksdGhpcy5ub2Rlc18ucHVzaChhKSksZS5hZGRMaXN0ZW5lcnMoKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7ZC5yZW1vdmVMaXN0ZW5lcnMoKSxiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX07dmFyIHcseDtvLnByb3RvdHlwZT17ZW5xdWV1ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLm9ic2VydmVyLnJlY29yZHNfLGQ9Yy5sZW5ndGg7aWYoYy5sZW5ndGg+MCl7dmFyIGU9Y1tkLTFdLGY9bihlLGEpO2lmKGYpcmV0dXJuIHZvaWQoY1tkLTFdPWYpfWVsc2UgYih0aGlzLm9ic2VydmVyKTtjW2RdPWF9LGFkZExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuYWRkTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LGFkZExpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5hZGRFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0scmVtb3ZlTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxhZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMuYWRkTGlzdGVuZXJzXyhhKSx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1wLmdldChhKTtifHxwLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyhhKTtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY109PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX0sdGhpcyl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe3N3aXRjaChhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEudHlwZSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOnZhciBiPWEuYXR0ck5hbWUsYz1hLnJlbGF0ZWROb2RlLm5hbWVzcGFjZVVSSSxkPWEudGFyZ2V0LGU9bmV3IGooImF0dHJpYnV0ZXMiLGQpO2UuYXR0cmlidXRlTmFtZT1iLGUuYXR0cmlidXRlTmFtZXNwYWNlPWM7dmFyIGc9YS5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOmEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4hYS5hdHRyaWJ1dGVzfHxhLmF0dHJpYnV0ZUZpbHRlciYmYS5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYikmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihjKT92b2lkIDA6YS5hdHRyaWJ1dGVPbGRWYWx1ZT9rKGcpOmV9KTticmVhaztjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6dmFyIGQ9YS50YXJnZXQsZT1qKCJjaGFyYWN0ZXJEYXRhIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlIkRPTU5vZGVSZW1vdmVkIjp0aGlzLmFkZFRyYW5zaWVudE9ic2VydmVyKGEudGFyZ2V0KTtjYXNlIkRPTU5vZGVJbnNlcnRlZCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDsiRE9NTm9kZUluc2VydGVkIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooImNoaWxkTGlzdCIsZCk7ZS5hZGRlZE5vZGVzPWgsZS5yZW1vdmVkTm9kZXM9aSxlLnByZXZpb3VzU2libGluZz1uLGUubmV4dFNpYmxpbmc9byxmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hpbGRMaXN0P2U6dm9pZCAwfSl9bCgpfX0sYS5Kc011dGF0aW9uT2JzZXJ2ZXI9ZyxhLk11dGF0aW9uT2JzZXJ2ZXJ8fChhLk11dGF0aW9uT2JzZXJ2ZXI9Zyl9KHRoaXMpLHdpbmRvdy5IVE1MSW1wb3J0cz13aW5kb3cuSFRNTEltcG9ydHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7dmFyIGI9KGEucGF0aCxhLnhociksYz1hLmZsYWdzLGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhY2hlPXt9LHRoaXMub25sb2FkPWEsdGhpcy5vbmNvbXBsZXRlPWIsdGhpcy5pbmZsaWdodD0wLHRoaXMucGVuZGluZz17fX07ZC5wcm90b3R5cGU9e2FkZE5vZGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrPWEubGVuZ3RoO2Zvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtkPmMmJihiPWFbY10pO2MrKyl0aGlzLnJlcXVpcmUoYik7dGhpcy5jaGVja0RvbmUoKX0sYWRkTm9kZTpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0KyssdGhpcy5yZXF1aXJlKGEpLHRoaXMuY2hlY2tEb25lKCl9LHJlcXVpcmU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcmN8fGEuaHJlZjthLl9fbm9kZVVybD1iLHRoaXMuZGVkdXBlKGIsYSl8fHRoaXMuZmV0Y2goYixhKX0sZGVkdXBlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5wZW5kaW5nW2FdKXJldHVybiB0aGlzLnBlbmRpbmdbYV0ucHVzaChiKSwhMDtyZXR1cm4gdGhpcy5jYWNoZVthXT8odGhpcy5vbmxvYWQoYSxiLHRoaXMuY2FjaGVbYV0pLHRoaXMudGFpbCgpLCEwKToodGhpcy5wZW5kaW5nW2FdPVtiXSwhMSl9LGZldGNoOmZ1bmN0aW9uKGEsZCl7aWYoYy5sb2FkJiZjb25zb2xlLmxvZygiZmV0Y2giLGEsZCksYS5tYXRjaCgvXmRhdGE6Lykpe3ZhciBlPWEuc3BsaXQoIiwiKSxmPWVbMF0sZz1lWzFdO2c9Zi5pbmRleE9mKCI7YmFzZTY0Iik+LTE/YXRvYihnKTpkZWNvZGVVUklDb21wb25lbnQoZyksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMucmVjZWl2ZShhLGQsbnVsbCxnKX0uYmluZCh0aGlzKSwwKX1lbHNle3ZhciBoPWZ1bmN0aW9uKGIsYyxlKXt0aGlzLnJlY2VpdmUoYSxkLGIsYyxlKX0uYmluZCh0aGlzKTtiLmxvYWQoYSxoKX19LHJlY2VpdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmNhY2hlW2FdPWQ7dmFyIGY9dGhpcy5wZW5kaW5nW2FdO2UmJmUhPT1hJiYodGhpcy5jYWNoZVtlXT1kLGY9Zi5jb25jYXQodGhpcy5wZW5kaW5nW2VdKSk7Zm9yKHZhciBnLGg9MCxpPWYubGVuZ3RoO2k+aCYmKGc9ZltoXSk7aCsrKXRoaXMub25sb2FkKGV8fGEsZyxkKSx0aGlzLnRhaWwoKTt0aGlzLnBlbmRpbmdbYV09bnVsbCxlJiZlIT09YSYmKHRoaXMucGVuZGluZ1tlXT1udWxsKX0sdGFpbDpmdW5jdGlvbigpey0tdGhpcy5pbmZsaWdodCx0aGlzLmNoZWNrRG9uZSgpfSxjaGVja0RvbmU6ZnVuY3Rpb24oKXt0aGlzLmluZmxpZ2h0fHx0aGlzLm9uY29tcGxldGUoKX19LGI9Ynx8e2FzeW5jOiEwLG9rOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0YXR1cz49MjAwJiZhLnN0YXR1czwzMDB8fDMwND09PWEuc3RhdHVzfHwwPT09YS5zdGF0dXN9LGxvYWQ6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4oYS5mbGFncy5kZWJ1Z3x8YS5mbGFncy5idXN0KSYmKGMrPSI/IitNYXRoLnJhbmRvbSgpKSxmLm9wZW4oIkdFVCIsYyxiLmFzeW5jKSxmLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7aWYoND09PWYucmVhZHlTdGF0ZSl7dmFyIGE9Zi5nZXRSZXNwb25zZUhlYWRlcigiTG9jYXRpb24iKSxjPW51bGw7aWYoYSl2YXIgYz0iLyI9PT1hLnN1YnN0cigwLDEpP2xvY2F0aW9uLm9yaWdpbithOmM7ZC5jYWxsKGUsIWIub2soZikmJmYsZi5yZXNwb25zZXx8Zi5yZXNwb25zZVRleHQsYyl9fSksZi5zZW5kKCksZn0sbG9hZERvY3VtZW50OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmxvYWQoYSxiLGMpLnJlc3BvbnNlVHlwZT0iZG9jdW1lbnQifX0sYS54aHI9YixhLkxvYWRlcj1kfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEucmVsPT09Z31mdW5jdGlvbiBjKGEpe3ZhciBiLGM9ZChhKTt0cnl7Yj1idG9hKGMpfWNhdGNoKGUpe2I9YnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYykpKSxjb25zb2xlLndhcm4oIlNjcmlwdCBjb250YWluZWQgbm9uLWxhdGluIGNoYXJhY3RlcnMgdGhhdCB3ZXJlIGZvcmNlZCB0byBsYXRpbi4gU29tZSBjaGFyYWN0ZXJzIG1heSBiZSB3cm9uZy4iLGEpfXJldHVybiJkYXRhOnRleHQvamF2YXNjcmlwdDtiYXNlNjQsIitifWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudGV4dENvbnRlbnQrZShhKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuX19ub2RlVXJsO2lmKCFiKXtiPWEub3duZXJEb2N1bWVudC5iYXNlVVJJO3ZhciBjPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGQ9YS50ZXh0Q29udGVudC5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7Yz1kJiZkWzFdfHxjLGIrPSIvIitjKyIuanMifXJldHVybiJcbi8vIyBzb3VyY2VVUkw9IitiKyJcbiJ9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLnRleHRDb250ZW50LG4ucmVzb2x2ZVVybHNJblN0eWxlKGIpLGJ9dmFyIGc9ImltcG9ydCIsaD1hLmZsYWdzLGk9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksaj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaz17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrZysiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrZysiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoaC5wYXJzZSYmY29uc29sZS5sb2coIlslc10gaXMgYWxyZWFkeSBwYXJzZWQiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oYSl7aC5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGEpLHRoaXMucGFyc2luZ0VsZW1lbnQ9YX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXthLl9faW1wb3J0UGFyc2VkPSEwLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITApLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxoLnBhcnNlJiZjb25zb2xlLmxvZygiY29tcGxldGVkIixhKX0saW52YWxpZGF0ZVBhcnNlOmZ1bmN0aW9uKGEpe2EmJmEuX19pbXBvcnRMaW5rJiYoYS5fX2ltcG9ydFBhcnNlZD1hLl9faW1wb3J0TGluay5fX2ltcG9ydFBhcnNlZD0hMSx0aGlzLnBhcnNlU29vbigpKX0scGFyc2VTb29uOmZ1bmN0aW9uKCl7dGhpcy5fcGFyc2VTb29uJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9wYXJzZURlbGF5KTt2YXIgYT10aGlzO3RoaXMuX3BhcnNlU29vbj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXthLnBhcnNlTmV4dCgpfSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2lmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rJiZIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayhhKSxhLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZT9uZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KCJlcnJvciIse2J1YmJsZXM6ITF9KSksYS5fX3BlbmRpbmcpZm9yKHZhciBiO2EuX19wZW5kaW5nLmxlbmd0aDspYj1hLl9fcGVuZGluZy5zaGlmdCgpLGImJmIoe3RhcmdldDphfSk7dGhpcy5wYXJzZU5leHQoKX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSk/dGhpcy5wYXJzZUltcG9ydChhKTooYS5ocmVmPWEuaHJlZix0aGlzLnBhcnNlR2VuZXJpYyhhKSl9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YTthPWYoYSksYS5fX2ltcG9ydEVsZW1lbnQ9Yix0aGlzLnBhcnNlR2VuZXJpYyhhKX0scGFyc2VHZW5lcmljOmZ1bmN0aW9uKGEpe3RoaXMudHJhY2tFbGVtZW50KGEpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYSl9LHRyYWNrRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1mdW5jdGlvbihkKXtiJiZiKGQpLGMubWFya1BhcnNpbmdDb21wbGV0ZShhKSxjLnBhcnNlTmV4dCgpfTtpZihhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpLGkmJiJzdHlsZSI9PT1hLmxvY2FsTmFtZSl7dmFyIGU9ITE7aWYoLTE9PWEudGV4dENvbnRlbnQuaW5kZXhPZigiQGltcG9ydCIpKWU9ITA7ZWxzZSBpZihhLnNoZWV0KXtlPSEwO2Zvcih2YXIgZixnPWEuc2hlZXQuY3NzUnVsZXMsaD1nP2cubGVuZ3RoOjAsaj0wO2g+aiYmKGY9Z1tqXSk7aisrKWYudHlwZT09PUNTU1J1bGUuSU1QT1JUX1JVTEUmJihlPWUmJkJvb2xlYW4oZi5zdHlsZVNoZWV0KSl9ZSYmYS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgibG9hZCIse2J1YmJsZXM6ITF9KSl9fSxwYXJzZVNjcmlwdDpmdW5jdGlvbihiKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtkLl9faW1wb3J0RWxlbWVudD1iLGQuc3JjPWIuc3JjP2Iuc3JjOmMoYiksYS5jdXJyZW50U2NyaXB0PWIsdGhpcy50cmFja0VsZW1lbnQoZCxmdW5jdGlvbigpe2QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxhLmN1cnJlbnRTY3JpcHQ9bnVsbH0pLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9LG5leHRUb1BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucGFyc2luZ0VsZW1lbnQmJnRoaXMubmV4dFRvUGFyc2VJbkRvYyhqKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZCxlPWEucXVlcnlTZWxlY3RvckFsbCh0aGlzLnBhcnNlU2VsZWN0b3JzRm9yTm9kZShhKSksZj0wLGc9ZS5sZW5ndGg7Zz5mJiYoZD1lW2ZdKTtmKyspaWYoIXRoaXMuaXNQYXJzZWQoZCkpcmV0dXJuIHRoaXMuaGFzUmVzb3VyY2UoZCk/YihkKT90aGlzLm5leHRUb1BhcnNlSW5Eb2MoZC5pbXBvcnQsZCk6ZDp2b2lkIDA7cmV0dXJuIGN9LHBhcnNlU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1qP3RoaXMuZG9jdW1lbnRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzU2VsZWN0b3JzfSxpc1BhcnNlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fX2ltcG9ydFBhcnNlZH0saGFzUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSkmJiFhLmltcG9ydD8hMTohMH19LGw9Lyh1cmxcKCkoW14pXSopKFwpKS9nLG09LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLG49e3Jlc29sdmVVcmxzSW5TdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQsYz1iLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixsKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixtKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrIiciK2YrIiciK2V9KX19O2EucGFyc2VyPWssYS5wYXRoPW4sYS5pc0lFPWl9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjKGEscSl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KHEpKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibWV0YSIpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsInV0Zi04IiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY31mdW5jdGlvbiBlKGEsYil7Yj1ifHxyLGcoZnVuY3Rpb24oKXtoKGEsYil9LGIpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuImNvbXBsZXRlIj09PWEucmVhZHlTdGF0ZXx8YS5yZWFkeVN0YXRlPT09eX1mdW5jdGlvbiBnKGEsYil7aWYoZihiKSlhJiZhKCk7ZWxzZXt2YXIgYz1mdW5jdGlvbigpeygiY29tcGxldGUiPT09Yi5yZWFkeVN0YXRlfHxiLnJlYWR5U3RhdGU9PT15KSYmKGIucmVtb3ZlRXZlbnRMaXN0ZW5lcih6LGMpLGcoYSxiKSl9O2IuYWRkRXZlbnRMaXN0ZW5lcih6LGMpfX1mdW5jdGlvbiBoKGEsYil7ZnVuY3Rpb24gYygpe2Y9PWcmJmEmJmEoKX1mdW5jdGlvbiBkKCl7ZisrLGMoKX12YXIgZT1iLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPWltcG9ydF0iKSxmPTAsZz1lLmxlbmd0aDtpZihnKWZvcih2YXIgaCxqPTA7Zz5qJiYoaD1lW2pdKTtqKyspaShoKT9kLmNhbGwoaCk6KGguYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksaC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCkpO2Vsc2UgYygpfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIG8/YS5pbXBvcnQmJiJsb2FkaW5nIiE9PWEuaW1wb3J0LnJlYWR5U3RhdGV8fGEuX19sb2FkZWQ6YS5fX2ltcG9ydFBhcnNlZH1mdW5jdGlvbiBqKGEpe2Zvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtkPmMmJihiPWFbY10pO2MrKylrKGIpJiZsKGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJpbXBvcnQiPT09YS5yZWx9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLmltcG9ydDtiP20oe3RhcmdldDphfSk6KGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsbSksYS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsbSkpfWZ1bmN0aW9uIG0oYSl7YS50YXJnZXQuX19sb2FkZWQ9ITB9dmFyIG49ImltcG9ydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIiksbz1uLHA9YS5mbGFncyxxPSJpbXBvcnQiLHI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP1NoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7aWYobyl2YXIgcz17fTtlbHNlIHZhciB0PShhLnhocixhLkxvYWRlciksdT1hLnBhcnNlcixzPXtkb2N1bWVudHM6e30sZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOiJsaW5rW3JlbD0iK3ErIl0iLGltcG9ydHNQcmVsb2FkU2VsZWN0b3JzOlsibGlua1tyZWw9IitxKyJdIl0uam9pbigiLCIpLGxvYWROb2RlOmZ1bmN0aW9uKGEpe3YuYWRkTm9kZShhKX0sbG9hZFN1YnRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXJzaGFsTm9kZXMoYSk7di5hZGROb2RlcyhiKX0sbWFyc2hhbE5vZGVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9LGxvYWRTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PXI/dGhpcy5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzUHJlbG9hZFNlbGVjdG9yc30sbG9hZGVkOmZ1bmN0aW9uKGEsYyxlKXtpZihwLmxvYWQmJmNvbnNvbGUubG9nKCJsb2FkZWQiLGEsYyksYy5fX3Jlc291cmNlPWUsYihjKSl7dmFyIGY9dGhpcy5kb2N1bWVudHNbYV07Znx8KGY9ZChlLGEpLGYuX19pbXBvcnRMaW5rPWMsdGhpcy5ib290RG9jdW1lbnQoZiksdGhpcy5kb2N1bWVudHNbYV09ZiksYy5pbXBvcnQ9Zn11LnBhcnNlTmV4dCgpfSxib290RG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkU3VidHJlZShhKSx0aGlzLm9ic2VydmUoYSksdS5wYXJzZU5leHQoKX0sbG9hZGVkQWxsOmZ1bmN0aW9uKCl7dS5wYXJzZU5leHQoKX19LHY9bmV3IHQocy5sb2FkZWQuYmluZChzKSxzLmxvYWRlZEFsbC5iaW5kKHMpKTt2YXIgdz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhUTUxJbXBvcnRzLmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LmN1cnJlbnRTY3JpcHR9LGNvbmZpZ3VyYWJsZTohMH07aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIsdyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9jdXJyZW50U2NyaXB0Iix3KSwhZG9jdW1lbnQuYmFzZVVSSSl7dmFyIHg9e2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLHgpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJiYXNlVVJJIix4KX12YXIgeT1IVE1MSW1wb3J0cy5pc0lFPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIix6PSJyZWFkeXN0YXRlY2hhbmdlIjtvJiZuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wLGQ9YS5sZW5ndGg7ZD5jJiYoYj1hW2NdKTtjKyspYi5hZGRlZE5vZGVzJiZqKGIuYWRkZWROb2Rlcyl9KS5vYnNlcnZlKGRvY3VtZW50LmhlYWQse2NoaWxkTGlzdDohMH0pLGEuaGFzTmF0aXZlPW4sYS51c2VOYXRpdmU9byxhLmltcG9ydGVyPXMsYS53aGVuSW1wb3J0c1JlYWR5PWUsYS5JTVBPUlRfTElOS19UWVBFPXEsYS5pc0ltcG9ydExvYWRlZD1pLGEuaW1wb3J0TG9hZGVyPXZ9KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGIsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYj1hW2RdKTtkKyspImNoaWxkTGlzdCI9PT1iLnR5cGUmJmIuYWRkZWROb2Rlcy5sZW5ndGgmJmMoYi5hZGRlZE5vZGVzKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYixlLGg9MCxpPWEubGVuZ3RoO2k+aCYmKGU9YVtoXSk7aCsrKWI9Ynx8ZS5vd25lckRvY3VtZW50LGQoZSkmJmYubG9hZE5vZGUoZSksZS5jaGlsZHJlbiYmZS5jaGlsZHJlbi5sZW5ndGgmJmMoZS5jaGlsZHJlbik7YiYmZy5pbnZhbGlkYXRlUGFyc2UoYil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gMT09PWEubm9kZVR5cGUmJmguY2FsbChhLGYubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfWZ1bmN0aW9uIGUoYSl7aS5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9dmFyIGY9KGEuSU1QT1JUX0xJTktfVFlQRSxhLmltcG9ydGVyKSxnPWEucGFyc2VyLGg9SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvcixpPW5ldyBNdXRhdGlvbk9ic2VydmVyKGIpO2Eub2JzZXJ2ZT1lLGYub2JzZXJ2ZT1lfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7SFRNTEltcG9ydHMuaW1wb3J0ZXIuYm9vdERvY3VtZW50KGIpfSJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBjLmluaXRFdmVudChhLGIuYnViYmxlcz09PSExPyExOiEwLGIuY2FuY2VsYWJsZT09PSExPyExOiEwLGIuZGV0YWlsKSxjfSk7dmFyIGI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksYi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksSFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2EoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXt2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2lmKCFlKWZvcihlPWEuZmlyc3RDaGlsZDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5uZXh0U2libGluZztmb3IoO2U7KWMoZSxkKSE9PSEwJiZiKGUsYyxkKSxlPWUubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5zaGFkb3dSb290O2M7KWQoYyxiKSxjPWMub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIGQoYSxkKXtiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCBjKGEsZCl9KSxjKGEsZCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaChhKT8oaShhKSwhMCk6dm9pZCBsKGEpfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBBLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHIoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihFLnB1c2goYSksIUQpe0Q9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0Q9ITE7Zm9yKHZhciBhLGI9RSxjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7RT1bXX1mdW5jdGlvbiBsKGEpe0M/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQS5kb20pJiYoQS5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHIoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9BLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJihBLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXtDP2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkEuZG9tKSYmKEEuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9BLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLGM9cShkb2N1bWVudCk7Yjspe2lmKGI9PWMpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gcyhhKXtpZihhLnNoYWRvd1Jvb3QmJiFhLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtBLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEEuZG9tKXt2YXIgYj1hWzBdO2lmKGImJiJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcyl7Zm9yKHZhciBjPWIuYWRkZWROb2Rlc1swXTtjJiZjIT09ZG9jdW1lbnQmJiFjLmhvc3Q7KWM9Yy5wYXJlbnROb2RlO3ZhciBkPWMmJihjLlVSTHx8Yy5fVVJMfHxjLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWUpfHwiIjtkPWQuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGEubGVuZ3RoLGR8fCIiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7ImNoaWxkTGlzdCI9PT1hLnR5cGUmJihHKGEuYWRkZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmZyhhKX0pLEcoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJm4oYSl9KSl9KSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHYoKXt1KEYudGFrZVJlY29yZHMoKSksaygpfWZ1bmN0aW9uIHcoYSl7Ri5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24geChhKXt3KGEpfWZ1bmN0aW9uIHkoYSl7QS5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixhLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7YT1xKGEpO2Zvcih2YXIgYixjPWEucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9IitCKyJdIiksZD0wLGU9Yy5sZW5ndGg7ZT5kJiYoYj1jW2RdKTtkKyspYi5pbXBvcnQmJmIuaW1wb3J0Ll9fcGFyc2VkJiZ6KGIuaW1wb3J0KTt5KGEpfXZhciBBPXdpbmRvdy5sb2dGbGFnc3x8e30sQj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsQz0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPUM7dmFyIEQ9ITEsRT1bXSxGPW5ldyBNdXRhdGlvbk9ic2VydmVyKHUpLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLklNUE9SVF9MSU5LX1RZUEU9QixhLndhdGNoU2hhZG93PXMsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXosYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEuaW5zZXJ0ZWROb2RlPWksYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD15LGEudGFrZVJlY29yZHM9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsZyl7dmFyIGg9Z3x8e307aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50IGBuYW1lYCBtdXN0IG5vdCBiZSBlbXB0eSIpO2lmKGIuaW5kZXhPZigiLSIpPDApdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50ICgnbmFtZScpIG11c3QgY29udGFpbiBhIGRhc2ggKCctJykuIEFyZ3VtZW50IHByb3ZpZGVkIHdhcyAnIitTdHJpbmcoYikrIicuIik7aWYoYyhiKSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBleGVjdXRlICdyZWdpc3RlckVsZW1lbnQnIG9uICdEb2N1bWVudCc6IFJlZ2lzdHJhdGlvbiBmYWlsZWQgZm9yIHR5cGUgJyIrU3RyaW5nKGIpKyInLiBUaGUgdHlwZSBuYW1lIGlzIGludmFsaWQuIik7aWYobihiKSl0aHJvdyBuZXcgRXJyb3IoIkR1cGxpY2F0ZURlZmluaXRpb25FcnJvcjogYSB0eXBlIHdpdGggbmFtZSAnIitTdHJpbmcoYikrIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkIik7aWYoIWgucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcigiT3B0aW9ucyBtaXNzaW5nIHJlcXVpcmVkIHByb3RvdHlwZSBwcm9wZXJ0eSIpO3JldHVybiBoLl9fbmFtZT1iLnRvTG93ZXJDYXNlKCksaC5saWZlY3ljbGU9aC5saWZlY3ljbGV8fHt9LGguYW5jZXN0cnk9ZChoLmV4dGVuZHMpLGUoaCksZihoKSxsKGgucHJvdG90eXBlKSxvKGguX19uYW1lLGgpLGguY3Rvcj1wKGgpLGguY3Rvci5wcm90b3R5cGU9aC5wcm90b3R5cGUsaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aC5jdG9yLGEucmVhZHkmJmEudXBncmFkZURvY3VtZW50VHJlZShkb2N1bWVudCksaC5jdG9yCn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj0wO2I8eS5sZW5ndGg7YisrKWlmKGE9PT15W2JdKXJldHVybiEwfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bihhKTtyZXR1cm4gYj9kKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZShhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLl9fbmFtZSxjJiYoYS5pcz1hLl9fbmFtZSl9ZnVuY3Rpb24gZihhKXtpZighT2JqZWN0Ll9fcHJvdG9fXyl7dmFyIGI9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGEuaXMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS50YWcpLGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpO2Q9PT1hLnByb3RvdHlwZSYmKGI9ZCl9Zm9yKHZhciBlLGY9YS5wcm90b3R5cGU7ZiYmZiE9PWI7KWU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGYpLGYuX19wcm90b19fPWUsZj1lO2EubmF0aXZlPWJ9fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGgoQihhLnRhZyksYSl9ZnVuY3Rpb24gaChiLGMpe3JldHVybiBjLmlzJiZiLnNldEF0dHJpYnV0ZSgiaXMiLGMuaXMpLGIucmVtb3ZlQXR0cmlidXRlKCJ1bnJlc29sdmVkIiksaShiLGMpLGIuX191cGdyYWRlZF9fPSEwLGsoYiksYS5pbnNlcnRlZE5vZGUoYiksYS51cGdyYWRlU3VidHJlZShiKSxifWZ1bmN0aW9uIGkoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihqKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBqKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTEVsZW1lbnQucHJvdG90eXBlOyl7Zm9yKHZhciBmLGc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSksaD0wO2Y9Z1toXTtoKyspZFtmXXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGYsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGYpKSxkW2ZdPTEpO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfX1mdW5jdGlvbiBrKGEpe2EuY3JlYXRlZENhbGxiYWNrJiZhLmNyZWF0ZWRDYWxsYmFjaygpfWZ1bmN0aW9uIGwoYSl7aWYoIWEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkKXt2YXIgYj1hLnNldEF0dHJpYnV0ZTthLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihhLGMpe20uY2FsbCh0aGlzLGEsYyxiKX07dmFyIGM9YS5yZW1vdmVBdHRyaWJ1dGU7YS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7bS5jYWxsKHRoaXMsYSxudWxsLGMpfSxhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZD0hMH19ZnVuY3Rpb24gbShhLGIsYyl7YT1hLnRvTG93ZXJDYXNlKCk7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJmUhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQsZSl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYT96W2EudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIG8oYSxiKXt6W2FdPWJ9ZnVuY3Rpb24gcChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZyhhKX19ZnVuY3Rpb24gcShhLGIsYyl7cmV0dXJuIGE9PT1BP3IoYixjKTpDKGEsYil9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPW4oYnx8YSk7aWYoYyl7aWYoYT09Yy50YWcmJmI9PWMuaXMpcmV0dXJuIG5ldyBjLmN0b3I7aWYoIWImJiFjLmlzKXJldHVybiBuZXcgYy5jdG9yfWlmKGIpe3ZhciBkPXIoYSk7cmV0dXJuIGQuc2V0QXR0cmlidXRlKCJpcyIsYiksZH12YXIgZD1CKGEpO3JldHVybiBhLmluZGV4T2YoIi0iKT49MCYmaShkLEhUTUxFbGVtZW50KSxkfWZ1bmN0aW9uIHMoYSl7aWYoIWEuX191cGdyYWRlZF9fJiZhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJpcyIpLGM9bihifHxhLmxvY2FsTmFtZSk7aWYoYyl7aWYoYiYmYy50YWc9PWEubG9jYWxOYW1lKXJldHVybiBoKGEsYyk7aWYoIWImJiFjLmV4dGVuZHMpcmV0dXJuIGgoYSxjKX19fWZ1bmN0aW9uIHQoYil7dmFyIGM9RC5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KTt2YXIgdT1hLmZsYWdzLHY9Qm9vbGVhbihkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpLHc9IXUucmVnaXN0ZXImJnYmJiF3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJighd2luZG93LkhUTUxJbXBvcnRzfHxIVE1MSW1wb3J0cy51c2VOYXRpdmUpO2lmKHcpe3ZhciB4PWZ1bmN0aW9uKCl7fTthLnJlZ2lzdHJ5PXt9LGEudXBncmFkZUVsZW1lbnQ9eCxhLndhdGNoU2hhZG93PXgsYS51cGdyYWRlPXgsYS51cGdyYWRlQWxsPXgsYS51cGdyYWRlU3VidHJlZT14LGEub2JzZXJ2ZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudFRyZWU9eCxhLnRha2VSZWNvcmRzPXgsYS5yZXNlcnZlZFRhZ0xpc3Q9W119ZWxzZXt2YXIgeT1bImFubm90YXRpb24teG1sIiwiY29sb3ItcHJvZmlsZSIsImZvbnQtZmFjZSIsImZvbnQtZmFjZS1zcmMiLCJmb250LWZhY2UtdXJpIiwiZm9udC1mYWNlLWZvcm1hdCIsImZvbnQtZmFjZS1uYW1lIiwibWlzc2luZy1nbHlwaCJdLHo9e30sQT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsQj1kb2N1bWVudC5jcmVhdGVFbGVtZW50LmJpbmQoZG9jdW1lbnQpLEM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TLmJpbmQoZG9jdW1lbnQpLEQ9Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlO2RvY3VtZW50LnJlZ2lzdGVyRWxlbWVudD1iLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ9cixkb2N1bWVudC5jcmVhdGVFbGVtZW50TlM9cSxOb2RlLnByb3RvdHlwZS5jbG9uZU5vZGU9dCxhLnJlZ2lzdHJ5PXosYS51cGdyYWRlPXN9dmFyIEU7RT1PYmplY3QuX19wcm90b19ffHx3P2Z1bmN0aW9uKGEsYil7cmV0dXJuIGEgaW5zdGFuY2VvZiBifTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hO2M7KXtpZihjPT09Yi5wcm90b3R5cGUpcmV0dXJuITA7Yz1jLl9fcHJvdG9fX31yZXR1cm4hMX0sYS5pbnN0YW5jZW9mPUUsYS5yZXNlcnZlZFRhZ0xpc3Q9eSxkb2N1bWVudC5yZWdpc3Rlcj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQsYS5oYXNOYXRpdmU9dixhLnVzZU5hdGl2ZT13fSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWN9dmFyIGM9YS5JTVBPUlRfTElOS19UWVBFLGQ9e3NlbGVjdG9yczpbImxpbmtbcmVsPSIrYysiXSJdLG1hcDp7bGluazoicGFyc2VMaW5rIn0scGFyc2U6ZnVuY3Rpb24oYSl7aWYoIWEuX19wYXJzZWQpe2EuX19wYXJzZWQ9ITA7dmFyIGI9YS5xdWVyeVNlbGVjdG9yQWxsKGQuc2VsZWN0b3JzKTtlKGIsZnVuY3Rpb24oYSl7ZFtkLm1hcFthLmxvY2FsTmFtZV1dKGEpfSksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGEpLEN1c3RvbUVsZW1lbnRzLm9ic2VydmVEb2N1bWVudChhKX19LHBhcnNlTGluazpmdW5jdGlvbihhKXtiKGEpJiZ0aGlzLnBhcnNlSW1wb3J0KGEpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXthLmltcG9ydCYmZC5wYXJzZShhLmltcG9ydCl9fSxlPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5wYXJzZXI9ZCxhLklNUE9SVF9MSU5LX1RZUEU9Y30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZG9jdW1lbnQpO3ZhciBhPXdpbmRvdy5QbGF0Zm9ybSYmUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s/UGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s6c2V0VGltZW91dDthKGZ1bmN0aW9uKCl7Q3VzdG9tRWxlbWVudHMucmVhZHk9ITAsQ3VzdG9tRWxlbWVudHMucmVhZHlUaW1lPURhdGUubm93KCksd2luZG93LkhUTUxJbXBvcnRzJiYoQ3VzdG9tRWxlbWVudHMuZWxhcHNlZD1DdXN0b21FbGVtZW50cy5yZWFkeVRpbWUtSFRNTEltcG9ydHMucmVhZHlUaW1lKSxkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiV2ViQ29tcG9uZW50c1JlYWR5Iix7YnViYmxlczohMH0pKSx3aW5kb3cuSFRNTEltcG9ydHMmJihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vaz1mdW5jdGlvbihhKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoYS5pbXBvcnQpfSl9KX1pZigiZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7cmV0dXJuIGIuaW5pdEV2ZW50KGEsITAsITApLGJ9KSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8YS5mbGFncy5lYWdlciliKCk7ZWxzZSBpZigiaW50ZXJhY3RpdmUiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8d2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cuSFRNTEltcG9ydHMmJiF3aW5kb3cuSFRNTEltcG9ydHMucmVhZHkpe3ZhciBjPXdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnJlYWR5PyJIVE1MSW1wb3J0c0xvYWRlZCI6IkRPTUNvbnRlbnRMb2FkZWQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGMsYil9ZWxzZSBiKCl9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oKXtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBhPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sYj17fTthLmZvckVhY2goZnVuY3Rpb24oYSl7YlthXT1DdXN0b21FbGVtZW50c1thXX0pLGEuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihjKXtyZXR1cm4gYlthXSh3cmFwKGMpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5tYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLnJlcXVlc3RzPTAsdGhpcy5yZWdleD1hfXZhciBjPWEuZW5kT2ZNaWNyb3Rhc2s7Yi5wcm90b3R5cGU9e2V4dHJhY3RVcmxzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1bXTtjPXRoaXMucmVnZXguZXhlYyhhKTspZD1uZXcgVVJMKGNbMV0sYiksZS5wdXNoKHttYXRjaGVkOmNbMF0sdXJsOmQuaHJlZn0pO3JldHVybiBlfSxwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmV4dHJhY3RVcmxzKGEsYiksZT1jLmJpbmQobnVsbCx0aGlzLm1hcCk7dGhpcy5mZXRjaChkLGUpfSxmZXRjaDpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoO2lmKCFjKXJldHVybiBiKCk7Zm9yKHZhciBkLGUsZixnPWZ1bmN0aW9uKCl7MD09PS0tYyYmYigpfSxoPTA7Yz5oO2grKylkPWFbaF0sZj1kLnVybCxlPXRoaXMuY2FjaGVbZl0sZXx8KGU9dGhpcy54aHIoZiksZS5tYXRjaD1kLHRoaXMuY2FjaGVbZl09ZSksZS53YWl0KGcpfSxoYW5kbGVYaHI6ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCxjPWIudXJsLGQ9YS5yZXNwb25zZXx8YS5yZXNwb25zZVRleHR8fCIiO3RoaXMubWFwW2NdPWQsdGhpcy5mZXRjaCh0aGlzLmV4dHJhY3RVcmxzKGQsYyksYS5yZXNvbHZlKX0seGhyOmZ1bmN0aW9uKGEpe3RoaXMucmVxdWVzdHMrKzt2YXIgYj1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGIub3BlbigiR0VUIixhLCEwKSxiLnNlbmQoKSxiLm9uZXJyb3I9Yi5vbmxvYWQ9dGhpcy5oYW5kbGVYaHIuYmluZCh0aGlzLGIpLGIucGVuZGluZz1bXSxiLnJlc29sdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5wZW5kaW5nLGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdKCk7Yi5wZW5kaW5nPW51bGx9LGIud2FpdD1mdW5jdGlvbihhKXtiLnBlbmRpbmc/Yi5wZW5kaW5nLnB1c2goYSk6YyhhKX0sYn19LGEuTG9hZGVyPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RoaXMubG9hZGVyPW5ldyBkKHRoaXMucmVnZXgpfXZhciBjPWEudXJsUmVzb2x2ZXIsZD1hLkxvYWRlcjtiLnByb3RvdHlwZT17cmVnZXg6L0BpbXBvcnRccysoPzp1cmwpP1siJ1woXSooW14nIlwpXSopWyciXCldKjsvZyxyZXNvbHZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtjKHRoaXMuZmxhdHRlbihhLGIsZCkpfS5iaW5kKHRoaXMpO3RoaXMubG9hZGVyLnByb2Nlc3MoYSxiLGQpfSxyZXNvbHZlTm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS50ZXh0Q29udGVudCxlPWZ1bmN0aW9uKGIpe2EudGV4dENvbnRlbnQ9YixjKGEpfTt0aGlzLnJlc29sdmUoZCxiLGUpfSxmbGF0dGVuOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGUsZixnLGg9dGhpcy5sb2FkZXIuZXh0cmFjdFVybHMoYSxiKSxpPTA7aTxoLmxlbmd0aDtpKyspZT1oW2ldLGY9ZS51cmwsZz1jLnJlc29sdmVDc3NUZXh0KGRbZl0sZiwhMCksZz10aGlzLmZsYXR0ZW4oZyxiLGQpLGE9YS5yZXBsYWNlKGUubWF0Y2hlZCxnKTtyZXR1cm4gYX0sbG9hZFN0eWxlczpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2YrKyxmPT09ZyYmYyYmYygpfWZvcih2YXIgZSxmPTAsZz1hLmxlbmd0aCxoPTA7Zz5oJiYoZT1hW2hdKTtoKyspdGhpcy5yZXNvbHZlTm9kZShlLGIsZCl9fTt2YXIgZT1uZXcgYjthLnN0eWxlUmVzb2x2ZXI9ZX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe2Zvcig7YS5wYXJlbnROb2RlOylhPWEucGFyZW50Tm9kZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRFbGVtZW50QnlJZD9hOm51bGx9ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9YS5iaW5kaW5nc187cmV0dXJuIGR8fChkPWEuYmluZGluZ3NfPXt9KSxkW2JdJiZjW2JdLmNsb3NlKCksZFtiXT1jfWZ1bmN0aW9uIGMoYSxiLGMpe3JldHVybiBjfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIG51bGw9PWE/IiI6YX1mdW5jdGlvbiBlKGEsYil7YS5kYXRhPWQoYil9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGUoYSxiKX19ZnVuY3Rpb24gZyhhLGIsYyxlKXtyZXR1cm4gYz92b2lkKGU/YS5zZXRBdHRyaWJ1dGUoYiwiIik6YS5yZW1vdmVBdHRyaWJ1dGUoYikpOnZvaWQgYS5zZXRBdHRyaWJ1dGUoYixkKGUpKX1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7ZyhhLGIsYyxkKX19ZnVuY3Rpb24gaShhKXtzd2l0Y2goYS50eXBlKXtjYXNlImNoZWNrYm94IjpyZXR1cm4gdTtjYXNlInJhZGlvIjpjYXNlInNlbGVjdC1tdWx0aXBsZSI6Y2FzZSJzZWxlY3Qtb25lIjpyZXR1cm4iY2hhbmdlIjtjYXNlInJhbmdlIjppZigvVHJpZGVudHxNU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXJldHVybiJjaGFuZ2UiO2RlZmF1bHQ6cmV0dXJuImlucHV0In19ZnVuY3Rpb24gaihhLGIsYyxlKXthW2JdPShlfHxkKShjKX1mdW5jdGlvbiBrKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGooYSxiLGQsYyl9fWZ1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gbShhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Yy5zZXRWYWx1ZShhW2JdKSxjLmRpc2NhcmRDaGFuZ2VzKCksKGR8fGwpKGEpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9dmFyIGY9aShhKTtyZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKGYsZSkse2Nsb3NlOmZ1bmN0aW9uKCl7YS5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSksYy5jbG9zZSgpfSxvYnNlcnZhYmxlXzpjfX1mdW5jdGlvbiBuKGEpe3JldHVybiBCb29sZWFuKGEpfWZ1bmN0aW9uIG8oYil7aWYoYi5mb3JtKXJldHVybiBzKGIuZm9ybS5lbGVtZW50cyxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIklOUFVUIj09YS50YWdOYW1lJiYicmFkaW8iPT1hLnR5cGUmJmEubmFtZT09Yi5uYW1lfSk7dmFyIGM9YShiKTtpZighYylyZXR1cm5bXTt2YXIgZD1jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl1bbmFtZT0iJytiLm5hbWUrJyJdJyk7cmV0dXJuIHMoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIWEuZm9ybX0pfWZ1bmN0aW9uIHAoYSl7IklOUFVUIj09PWEudGFnTmFtZSYmInJhZGlvIj09PWEudHlwZSYmbyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEuYmluZGluZ3NfLmNoZWNrZWQ7YiYmYi5vYnNlcnZhYmxlXy5zZXRWYWx1ZSghMSl9KX1mdW5jdGlvbiBxKGEsYil7dmFyIGMsZSxmLGc9YS5wYXJlbnROb2RlO2cgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCYmZy5iaW5kaW5nc18mJmcuYmluZGluZ3NfLnZhbHVlJiYoYz1nLGU9Yy5iaW5kaW5nc18udmFsdWUsZj1jLnZhbHVlKSxhLnZhbHVlPWQoYiksYyYmYy52YWx1ZSE9ZiYmKGUub2JzZXJ2YWJsZV8uc2V0VmFsdWUoYy52YWx1ZSksZS5vYnNlcnZhYmxlXy5kaXNjYXJkQ2hhbmdlcygpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCkpfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3EoYSxiKX19dmFyIHM9QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZpbHRlcik7Tm9kZS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIpe2NvbnNvbGUuZXJyb3IoIlVuaGFuZGxlZCBiaW5kaW5nIHRvIE5vZGU6ICIsdGhpcyxhLGIpfSxOb2RlLnByb3RvdHlwZS5iaW5kRmluaXNoZWQ9ZnVuY3Rpb24oKXt9O3ZhciB0PWM7T2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtLCJlbmFibGVCaW5kaW5nc1JlZmxlY3Rpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdD09PWJ9LHNldDpmdW5jdGlvbihhKXtyZXR1cm4gdD1hP2I6YyxhfSxjb25maWd1cmFibGU6ITB9KSxUZXh0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZigidGV4dENvbnRlbnQiIT09YSlyZXR1cm4gTm9kZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKGMpcmV0dXJuIGUodGhpcyxiKTt2YXIgZD1iO3JldHVybiBlKHRoaXMsZC5vcGVuKGYodGhpcykpKSx0KHRoaXMsYSxkKX0sRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Ij8iPT1hW2EubGVuZ3RoLTFdO2lmKGQmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGMpcmV0dXJuIGcodGhpcyxhLGQsYik7dmFyIGU9YjtyZXR1cm4gZyh0aGlzLGEsZCxlLm9wZW4oaCh0aGlzLGEsZCkpKSx0KHRoaXMsYSxlKX07dmFyIHU7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLHU9MT09ZD8iY2hhbmdlIjpjfSgpLEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGUpe2lmKCJ2YWx1ZSIhPT1hJiYiY2hlY2tlZCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxjLGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBmPSJjaGVja2VkIj09YT9uOmQsZz0iY2hlY2tlZCI9PWE/cDpsO2lmKGUpcmV0dXJuIGoodGhpcyxhLGMsZik7dmFyIGg9YyxpPW0odGhpcyxhLGgsZyk7cmV0dXJuIGoodGhpcyxhLGgub3BlbihrKHRoaXMsYSxmKSksZiksYih0aGlzLGEsaSl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJ2YWx1ZSIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGMpcmV0dXJuIGoodGhpcywidmFsdWUiLGIpO3ZhciBlPWIsZj1tKHRoaXMsInZhbHVlIixlKTtyZXR1cm4gaih0aGlzLCJ2YWx1ZSIsZS5vcGVuKGsodGhpcywidmFsdWUiLGQpKSksdCh0aGlzLGEsZil9LEhUTUxPcHRpb25FbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZigidmFsdWUiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTtpZih0aGlzLnJlbW92ZUF0dHJpYnV0ZSgidmFsdWUiKSxjKXJldHVybiBxKHRoaXMsYik7dmFyIGQ9YixlPW0odGhpcywidmFsdWUiLGQpO3JldHVybiBxKHRoaXMsZC5vcGVuKHIodGhpcykpKSx0KHRoaXMsYSxlKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe2lmKCJzZWxlY3RlZGluZGV4Ij09PWEmJihhPSJzZWxlY3RlZEluZGV4IiksInNlbGVjdGVkSW5kZXgiIT09YSYmInZhbHVlIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZCk7aWYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksZClyZXR1cm4gaih0aGlzLGEsYyk7dmFyIGU9YyxmPW0odGhpcyxhLGUpO3JldHVybiBqKHRoaXMsYSxlLm9wZW4oayh0aGlzLGEpKSksYih0aGlzLGEsZil9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYjtiPWEucGFyZW50Tm9kZTspYT1iO3JldHVybiBhfWZ1bmN0aW9uIGQoYSxiKXtpZihiKXtmb3IodmFyIGQsZT0iIyIrYjshZCYmKGE9YyhhKSxhLnByb3RvQ29udGVudF8/ZD1hLnByb3RvQ29udGVudF8ucXVlcnlTZWxlY3RvcihlKTphLmdldEVsZW1lbnRCeUlkJiYoZD1hLmdldEVsZW1lbnRCeUlkKGIpKSwhZCYmYS50ZW1wbGF0ZUNyZWF0b3JfKTspYT1hLnRlbXBsYXRlQ3JlYXRvcl87cmV0dXJuIGR9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuInRlbXBsYXRlIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBmKGEpe3JldHVybiJURU1QTEFURSI9PWEudGFnTmFtZSYmImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBnKGEpe3JldHVybiBCb29sZWFuKExbYS50YWdOYW1lXSYmYS5oYXNBdHRyaWJ1dGUoInRlbXBsYXRlIikpfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIHZvaWQgMD09PWEuaXNUZW1wbGF0ZV8mJihhLmlzVGVtcGxhdGVfPSJURU1QTEFURSI9PWEudGFnTmFtZXx8ZyhhKSksYS5pc1RlbXBsYXRlX31mdW5jdGlvbiBpKGEsYil7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKE4pO2goYSkmJmIoYSksRyhjLGIpfWZ1bmN0aW9uIGooYSl7ZnVuY3Rpb24gYihhKXtIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGEpfHxqKGEuY29udGVudCl9aShhLGIpfWZ1bmN0aW9uIGsoYSxiKXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpKX0pfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLmRlZmF1bHRWaWV3KXJldHVybiBiO3ZhciBjPWIudGVtcGxhdGVDb250ZW50c093bmVyXztpZighYyl7Zm9yKGM9Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2MubGFzdENoaWxkOyljLnJlbW92ZUNoaWxkKGMubGFzdENoaWxkKTtiLnRlbXBsYXRlQ29udGVudHNPd25lcl89Y31yZXR1cm4gY31mdW5jdGlvbiBtKGEpe2lmKCFhLnN0YWdpbmdEb2N1bWVudF8pe3ZhciBiPWEub3duZXJEb2N1bWVudDtpZighYi5zdGFnaW5nRG9jdW1lbnRfKXtiLnN0YWdpbmdEb2N1bWVudF89Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGIuc3RhZ2luZ0RvY3VtZW50Xy5pc1N0YWdpbmdEb2N1bWVudD0hMDt2YXIgYz1iLnN0YWdpbmdEb2N1bWVudF8uY3JlYXRlRWxlbWVudCgiYmFzZSIpO2MuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGIuc3RhZ2luZ0RvY3VtZW50Xy5oZWFkLmFwcGVuZENoaWxkKGMpLGIuc3RhZ2luZ0RvY3VtZW50Xy5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50X31hLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffXJldHVybiBhLnN0YWdpbmdEb2N1bWVudF99ZnVuY3Rpb24gbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtLW2UubmFtZV0mJigidGVtcGxhdGUiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKX1yZXR1cm4gYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGJ9ZnVuY3Rpb24gcChhLGIsYyl7dmFyIGQ9YS5jb250ZW50O2lmKGMpcmV0dXJuIHZvaWQgZC5hcHBlbmRDaGlsZChiKTtmb3IodmFyIGU7ZT1iLmZpcnN0Q2hpbGQ7KWQuYXBwZW5kQ2hpbGQoZSl9ZnVuY3Rpb24gcShhKXtQP2EuX19wcm90b19fPUhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlOmsoYSxIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSl9ZnVuY3Rpb24gcihhKXthLnNldE1vZGVsRm5ffHwoYS5zZXRNb2RlbEZuXz1mdW5jdGlvbigpe2Euc2V0TW9kZWxGblNjaGVkdWxlZF89ITE7dmFyIGI9eihhLGEuZGVsZWdhdGVfJiZhLmRlbGVnYXRlXy5wcmVwYXJlQmluZGluZyk7dyhhLGIsYS5tb2RlbF8pfSksYS5zZXRNb2RlbEZuU2NoZWR1bGVkX3x8KGEuc2V0TW9kZWxGblNjaGVkdWxlZF89ITAsT2JzZXJ2ZXIucnVuRU9NXyhhLnNldE1vZGVsRm5fKSl9ZnVuY3Rpb24gcyhhLGIsYyxkKXtpZihhJiZhLmxlbmd0aCl7Zm9yKHZhciBlLGY9YS5sZW5ndGgsZz0wLGg9MCxpPTAsaj0hMDtmPmg7KXt2YXIgZz1hLmluZGV4T2YoInt7IixoKSxrPWEuaW5kZXhPZigiW1siLGgpLGw9ITEsbT0ifX0iO2lmKGs+PTAmJigwPmd8fGc+aykmJihnPWssbD0hMCxtPSJdXSIpLGk9MD5nPy0xOmEuaW5kZXhPZihtLGcrMiksMD5pKXtpZighZSlyZXR1cm47ZS5wdXNoKGEuc2xpY2UoaCkpO2JyZWFrfWU9ZXx8W10sZS5wdXNoKGEuc2xpY2UoaCxnKSk7dmFyIG49YS5zbGljZShnKzIsaSkudHJpbSgpO2UucHVzaChsKSxqPWomJmw7dmFyIG89ZCYmZChuLGIsYyk7ZS5wdXNoKG51bGw9PW8/UGF0aC5nZXQobik6bnVsbCksZS5wdXNoKG8pLGg9aSsyfXJldHVybiBoPT09ZiYmZS5wdXNoKCIiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmIiI9PWVbMF0mJiIiPT1lWzRdLGUub25seU9uZVRpbWU9aixlLmNvbWJpbmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWVbMF0sYz0xO2M8ZS5sZW5ndGg7Yys9NCl7dmFyIGQ9ZS5oYXNPbmVQYXRoP2E6YVsoYy0xKS80XTt2b2lkIDAhPT1kJiYoYis9ZCksYis9ZVtjKzNdfXJldHVybiBifSxlfX1mdW5jdGlvbiB0KGEsYixjLGQpe2lmKGIuaGFzT25lUGF0aCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITApOmJbMl0uZ2V0VmFsdWVGcm9tKGQpO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOmIuY29tYmluYXRvcihmKX1mb3IodmFyIGc9W10saD0xO2g8Yi5sZW5ndGg7aCs9NCl7dmFyIGU9YltoKzJdO2dbKGgtMSkvNF09ZT9lKGQsYyk6YltoKzFdLmdldFZhbHVlRnJvbShkKX1yZXR1cm4gYi5jb21iaW5hdG9yKGcpfWZ1bmN0aW9uIHUoYSxiLGMsZCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITEpOm5ldyBQYXRoT2JzZXJ2ZXIoZCxiWzJdKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHYoYSxiLGMsZCl7aWYoYi5vbmx5T25lVGltZSlyZXR1cm4gdChhLGIsYyxkKTtpZihiLmhhc09uZVBhdGgpcmV0dXJuIHUoYSxiLGMsZCk7Zm9yKHZhciBlPW5ldyBDb21wb3VuZE9ic2VydmVyLGY9MTtmPGIubGVuZ3RoO2YrPTQpe3ZhciBnPWJbZl0saD1iW2YrMl07aWYoaCl7dmFyIGk9aChkLGMsZyk7Zz9lLmFkZFBhdGgoaSk6ZS5hZGRPYnNlcnZlcihpKX1lbHNle3ZhciBqPWJbZisxXTtnP2UuYWRkUGF0aChqLmdldFZhbHVlRnJvbShkKSk6ZS5hZGRQYXRoKGQsail9fXJldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZSxiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHcoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKXt2YXIgZj1iW2VdLGc9YltlKzFdLGg9dihmLGcsYSxjKSxpPWEuYmluZChmLGgsZy5vbmx5T25lVGltZSk7aSYmZCYmZC5wdXNoKGkpfWlmKGEuYmluZEZpbmlzaGVkKCksYi5pc1RlbXBsYXRlKXthLm1vZGVsXz1jO3ZhciBqPWEucHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXyhiKTtkJiZqJiZkLnB1c2goail9fWZ1bmN0aW9uIHgoYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlKGIpO3JldHVybiBzKCIiPT1kPyJ7e319IjpkLGIsYSxjKX1mdW5jdGlvbiB5KGEsYyl7YihhKTtmb3IodmFyIGQ9W10sZT0wO2U8YS5hdHRyaWJ1dGVzLmxlbmd0aDtlKyspe2Zvcih2YXIgZj1hLmF0dHJpYnV0ZXNbZV0sZz1mLm5hbWUsaT1mLnZhbHVlOyJfIj09PWdbMF07KWc9Zy5zdWJzdHJpbmcoMSk7aWYoIWgoYSl8fGchPT1KJiZnIT09SCYmZyE9PUkpe3ZhciBqPXMoaSxnLGEsYyk7aiYmZC5wdXNoKGcsail9fXJldHVybiBoKGEpJiYoZC5pc1RlbXBsYXRlPSEwLGQuaWY9eChhLEosYyksZC5iaW5kPXgoYSxILGMpLGQucmVwZWF0PXgoYSxJLGMpLCFkLmlmfHxkLmJpbmR8fGQucmVwZWF0fHwoZC5iaW5kPXMoInt7fX0iLEgsYSxjKSkpLGR9ZnVuY3Rpb24geihhLGIpe2lmKGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4geShhLGIpO2lmKGEubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIGM9cyhhLmRhdGEsInRleHRDb250ZW50IixhLGIpO2lmKGMpcmV0dXJuWyJ0ZXh0Q29udGVudCIsY119cmV0dXJuW119ZnVuY3Rpb24gQShhLGIsYyxkLGUsZixnKXtmb3IodmFyIGg9Yi5hcHBlbmRDaGlsZChjLmltcG9ydE5vZGUoYSwhMSkpLGk9MCxqPWEuZmlyc3RDaGlsZDtqO2o9ai5uZXh0U2libGluZylBKGosaCxjLGQuY2hpbGRyZW5baSsrXSxlLGYsZyk7cmV0dXJuIGQuaXNUZW1wbGF0ZSYmKEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoaCxhKSxmJiZoLnNldERlbGVnYXRlXyhmKSksdyhoLGQsZSxnKSxofWZ1bmN0aW9uIEIoYSxiKXt2YXIgYz16KGEsYik7Yy5jaGlsZHJlbj17fTtmb3IodmFyIGQ9MCxlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljLmNoaWxkcmVuW2QrK109QihlLGIpO3JldHVybiBjfWZ1bmN0aW9uIEMoYSl7dmFyIGI9YS5pZF87cmV0dXJuIGJ8fChiPWEuaWRfPVMrKyksYn1mdW5jdGlvbiBEKGEsYil7dmFyIGM9QyhhKTtpZihiKXt2YXIgZD1iLmJpbmRpbmdNYXBzW2NdO3JldHVybiBkfHwoZD1iLmJpbmRpbmdNYXBzW2NdPUIoYSxiLnByZXBhcmVCaW5kaW5nKXx8W10pLGR9dmFyIGQ9YS5iaW5kaW5nTWFwXztyZXR1cm4gZHx8KGQ9YS5iaW5kaW5nTWFwXz1CKGEsdm9pZCAwKXx8W10pLGR9ZnVuY3Rpb24gRShhKXt0aGlzLmNsb3NlZD0hMSx0aGlzLnRlbXBsYXRlRWxlbWVudF89YSx0aGlzLmluc3RhbmNlcz1bXSx0aGlzLmRlcHM9dm9pZCAwLHRoaXMuaXRlcmF0ZWRWYWx1ZT1bXSx0aGlzLnByZXNlbnRWYWx1ZT12b2lkIDAsdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMH12YXIgRixHPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5NYXAmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLk1hcC5wcm90b3R5cGUuZm9yRWFjaD9GPWEuTWFwOihGPWZ1bmN0aW9uKCl7dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfSxGLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7MD5jPyh0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKTp0aGlzLnZhbHVlc1tjXT1ifSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7aWYoISgwPmIpKXJldHVybiB0aGlzLnZhbHVlc1tiXX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7cmV0dXJuIDA+Yj8hMToodGhpcy5rZXlzLnNwbGljZShiLDEpLHRoaXMudmFsdWVzLnNwbGljZShiLDEpLCEwKX0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5rZXlzLmxlbmd0aDtjKyspYS5jYWxsKGJ8fHRoaXMsdGhpcy52YWx1ZXNbY10sdGhpcy5rZXlzW2NdLHRoaXMpfX0pOyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KTt2YXIgSD0iYmluZCIsST0icmVwZWF0IixKPSJpZiIsSz17dGVtcGxhdGU6ITAscmVwZWF0OiEwLGJpbmQ6ITAscmVmOiEwfSxMPXtUSEVBRDohMCxUQk9EWTohMCxURk9PVDohMCxUSDohMCxUUjohMCxURDohMCxDT0xHUk9VUDohMCxDT0w6ITAsQ0FQVElPTjohMCxPUFRJT046ITAsT1BUR1JPVVA6ITB9LE09InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MVGVtcGxhdGVFbGVtZW50O00mJiFmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIiksYj1hLmNvbnRlbnQub3duZXJEb2N1bWVudCxjPWIuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJodG1sIikpLGQ9Yy5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImhlYWQiKSksZT1iLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtlLmhyZWY9ZG9jdW1lbnQuYmFzZVVSSSxkLmFwcGVuZENoaWxkKGUpfSgpO3ZhciBOPSJ0ZW1wbGF0ZSwgIitPYmplY3Qua2V5cyhMKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKSsiW3RlbXBsYXRlXSJ9KS5qb2luKCIsICIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aihkb2N1bWVudCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX0sITEpLE18fChhLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKX0pO3ZhciBPLFA9Il9fcHJvdG9fXyJpbnt9OyJmdW5jdGlvbiI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyJiYoTz1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnRhcmdldC5yZWZDaGFuZ2VkXygpfSkpLEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGU9ZnVuY3Rpb24oYSxjKXtpZihhLnRlbXBsYXRlSXNEZWNvcmF0ZWRfKXJldHVybiExO3ZhciBkPWE7ZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMDt2YXIgaD1mKGQpJiZNLGk9aCxrPSFoLG09ITE7aWYoaHx8KGcoZCk/KGIoIWMpLGQ9bihhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGg9TSxtPSEwKTplKGQpJiYoZD1vKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1NKSksIWgpe3EoZCk7dmFyIHI9bChkKTtkLmNvbnRlbnRfPXIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpfXJldHVybiBjP2QuaW5zdGFuY2VSZWZfPWM6az9wKGQsYSxtKTppJiZqKGQuY29udGVudCksITB9LEhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwPWo7dmFyIFE9YS5IVE1MVW5rbm93bkVsZW1lbnR8fEhUTUxFbGVtZW50LFI9e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRffSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH07TXx8KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUS5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSwiY29udGVudCIsUikpLGsoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUse2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe2lmKCJyZWYiIT1hKXJldHVybiBFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7dmFyIGQ9dGhpcyxlPWM/YjpiLm9wZW4oZnVuY3Rpb24oYSl7ZC5zZXRBdHRyaWJ1dGUoInJlZiIsYSksZC5yZWZDaGFuZ2VkXygpfSk7cmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKCJyZWYiLGUpLHRoaXMucmVmQ2hhbmdlZF8oKSxjP3ZvaWQgMDoodGhpcy5iaW5kaW5nc18/dGhpcy5iaW5kaW5nc18ucmVmPWI6dGhpcy5iaW5kaW5nc189e3JlZjpifSxiKX0scHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEUodGhpcykpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZURlcGVuZGVuY2llcyhhLHRoaXMubW9kZWxfKSxPJiZPLm9ic2VydmUodGhpcyx7YXR0cmlidXRlczohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJyZWYiXX0pLHRoaXMuaXRlcmF0b3JfKTp2b2lkKHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApKX0sY3JlYXRlSW5zdGFuY2U6ZnVuY3Rpb24oYSxiLGMpe2I/Yz10aGlzLm5ld0RlbGVnYXRlXyhiKTpjfHwoYz10aGlzLmRlbGVnYXRlXyksdGhpcy5yZWZDb250ZW50X3x8KHRoaXMucmVmQ29udGVudF89dGhpcy5yZWZfLmNvbnRlbnQpO3ZhciBkPXRoaXMucmVmQ29udGVudF87aWYobnVsbD09PWQuZmlyc3RDaGlsZClyZXR1cm4gVDt2YXIgZT1EKGQsYyksZj1tKHRoaXMpLGc9Zi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zy50ZW1wbGF0ZUNyZWF0b3JfPXRoaXMsZy5wcm90b0NvbnRlbnRfPWQsZy5iaW5kaW5nc189W10sZy50ZXJtaW5hdG9yXz1udWxsO2Zvcih2YXIgaD1nLnRlbXBsYXRlSW5zdGFuY2VfPXtmaXJzdE5vZGU6bnVsbCxsYXN0Tm9kZTpudWxsLG1vZGVsOmF9LGk9MCxqPSExLGs9ZC5maXJzdENoaWxkO2s7az1rLm5leHRTaWJsaW5nKXtudWxsPT09ay5uZXh0U2libGluZyYmKGo9ITApO3ZhciBsPUEoayxnLGYsZS5jaGlsZHJlbltpKytdLGEsYyxnLmJpbmRpbmdzXyk7bC50ZW1wbGF0ZUluc3RhbmNlXz1oLGomJihnLnRlcm1pbmF0b3JfPWwpfXJldHVybiBoLmZpcnN0Tm9kZT1nLmZpcnN0Q2hpbGQsaC5sYXN0Tm9kZT1nLmxhc3RDaGlsZCxnLnRlbXBsYXRlQ3JlYXRvcl89dm9pZCAwLGcucHJvdG9Db250ZW50Xz12b2lkIDAsZ30sZ2V0IG1vZGVsKCl7cmV0dXJuIHRoaXMubW9kZWxffSxzZXQgbW9kZWwoYSl7dGhpcy5tb2RlbF89YSxyKHRoaXMpfSxnZXQgYmluZGluZ0RlbGVnYXRlKCl7cmV0dXJuIHRoaXMuZGVsZWdhdGVfJiZ0aGlzLmRlbGVnYXRlXy5yYXd9LHJlZkNoYW5nZWRfOmZ1bmN0aW9uKCl7dGhpcy5pdGVyYXRvcl8mJnRoaXMucmVmQ29udGVudF8hPT10aGlzLnJlZl8uY29udGVudCYmKHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbF89dm9pZCAwLHRoaXMuZGVsZWdhdGVfPXZvaWQgMCx0aGlzLmJpbmRpbmdzXyYmdGhpcy5iaW5kaW5nc18ucmVmJiZ0aGlzLmJpbmRpbmdzXy5yZWYuY2xvc2UoKSx0aGlzLnJlZkNvbnRlbnRfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLmNsb3NlKCksdGhpcy5pdGVyYXRvcl89dm9pZCAwKX0sc2V0RGVsZWdhdGVfOmZ1bmN0aW9uKGEpe3RoaXMuZGVsZWdhdGVfPWEsdGhpcy5iaW5kaW5nTWFwXz12b2lkIDAsdGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXz12b2lkIDAsdGhpcy5pdGVyYXRvcl8uaW5zdGFuY2VNb2RlbEZuXz12b2lkIDApfSxuZXdEZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hJiZhW2JdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBjKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX19aWYoYSlyZXR1cm57YmluZGluZ01hcHM6e30scmF3OmEscHJlcGFyZUJpbmRpbmc6YigicHJlcGFyZUJpbmRpbmciKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKCJwcmVwYXJlSW5zdGFuY2VNb2RlbCIpLHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpiKCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQiKX19LHNldCBiaW5kaW5nRGVsZWdhdGUoYSl7aWYodGhpcy5kZWxlZ2F0ZV8pdGhyb3cgRXJyb3IoIlRlbXBsYXRlIG11c3QgYmUgY2xlYXJlZCBiZWZvcmUgYSBuZXcgYmluZGluZ0RlbGVnYXRlIGNhbiBiZSBhc3NpZ25lZCIpO3RoaXMuc2V0RGVsZWdhdGVfKHRoaXMubmV3RGVsZWdhdGVfKGEpKX0sZ2V0IHJlZl8oKXt2YXIgYT1kKHRoaXMsdGhpcy5nZXRBdHRyaWJ1dGUoInJlZiIpKTtpZihhfHwoYT10aGlzLmluc3RhbmNlUmVmXyksIWEpcmV0dXJuIHRoaXM7dmFyIGI9YS5yZWZfO3JldHVybiBiP2I6YX19KTt2YXIgUz0xO09iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwidGVtcGxhdGVJbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGVtcGxhdGVJbnN0YW5jZV87cmV0dXJuIGE/YTp0aGlzLnBhcmVudE5vZGU/dGhpcy5wYXJlbnROb2RlLnRlbXBsYXRlSW5zdGFuY2U6dm9pZCAwfX0pO3ZhciBUPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtULmJpbmRpbmdzXz1bXSxULnRlcm1pbmF0b3JfPW51bGwsRS5wcm90b3R5cGU9e2Nsb3NlRGVwczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGVwczthJiYoYS5pZk9uZVRpbWU9PT0hMSYmYS5pZlZhbHVlLmNsb3NlKCksYS5vbmVUaW1lPT09ITEmJmEudmFsdWUuY2xvc2UoKSl9LHVwZGF0ZURlcGVuZGVuY2llczpmdW5jdGlvbihhLGIpe3RoaXMuY2xvc2VEZXBzKCk7dmFyIGM9dGhpcy5kZXBzPXt9LGQ9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfO2lmKGEuaWYpe2lmKGMuaGFzSWY9ITAsYy5pZk9uZVRpbWU9YS5pZi5vbmx5T25lVGltZSxjLmlmVmFsdWU9dihKLGEuaWYsZCxiKSxjLmlmT25lVGltZSYmIWMuaWZWYWx1ZSlyZXR1cm4gdm9pZCB0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKTtjLmlmT25lVGltZXx8Yy5pZlZhbHVlLm9wZW4odGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlLHRoaXMpfWEucmVwZWF0PyhjLnJlcGVhdD0hMCxjLm9uZVRpbWU9YS5yZXBlYXQub25seU9uZVRpbWUsYy52YWx1ZT12KEksYS5yZXBlYXQsZCxiKSk6KGMucmVwZWF0PSExLGMub25lVGltZT1hLmJpbmQub25seU9uZVRpbWUsYy52YWx1ZT12KEgsYS5iaW5kLGQsYikpLGMub25lVGltZXx8Yy52YWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKSx0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKX0sdXBkYXRlSXRlcmF0ZWRWYWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZGVwcy5oYXNJZil7dmFyIGE9dGhpcy5kZXBzLmlmVmFsdWU7aWYodGhpcy5kZXBzLmlmT25lVGltZXx8KGE9YS5kaXNjYXJkQ2hhbmdlcygpKSwhYSlyZXR1cm4gdm9pZCB0aGlzLnZhbHVlQ2hhbmdlZCgpfXZhciBiPXRoaXMuZGVwcy52YWx1ZTt0aGlzLmRlcHMub25lVGltZXx8KGI9Yi5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLmRlcHMucmVwZWF0fHwoYj1bYl0pO3ZhciBjPXRoaXMuZGVwcy5yZXBlYXQmJiF0aGlzLmRlcHMub25lVGltZSYmQXJyYXkuaXNBcnJheShiKTt0aGlzLnZhbHVlQ2hhbmdlZChiLGMpfSx2YWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSxiKXtBcnJheS5pc0FycmF5KGEpfHwoYT1bXSksYSE9PXRoaXMuaXRlcmF0ZWRWYWx1ZSYmKHRoaXMudW5vYnNlcnZlKCksdGhpcy5wcmVzZW50VmFsdWU9YSxiJiYodGhpcy5hcnJheU9ic2VydmVyPW5ldyBBcnJheU9ic2VydmVyKHRoaXMucHJlc2VudFZhbHVlKSx0aGlzLmFycmF5T2JzZXJ2ZXIub3Blbih0aGlzLmhhbmRsZVNwbGljZXMsdGhpcykpLHRoaXMuaGFuZGxlU3BsaWNlcyhBcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXModGhpcy5wcmVzZW50VmFsdWUsdGhpcy5pdGVyYXRlZFZhbHVlKSkpfSxnZXRMYXN0SW5zdGFuY2VOb2RlOmZ1bmN0aW9uKGEpe2lmKC0xPT1hKXJldHVybiB0aGlzLnRlbXBsYXRlRWxlbWVudF87dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV0sYz1iLnRlcm1pbmF0b3JfO2lmKCFjKXJldHVybiB0aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKTtpZihjLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fHRoaXMudGVtcGxhdGVFbGVtZW50Xz09PWMpcmV0dXJuIGM7dmFyIGQ9Yy5pdGVyYXRvcl87cmV0dXJuIGQ/ZC5nZXRMYXN0VGVtcGxhdGVOb2RlKCk6Y30sZ2V0TGFzdFRlbXBsYXRlTm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExhc3RJbnN0YW5jZU5vZGUodGhpcy5pbnN0YW5jZXMubGVuZ3RoLTEpfSxpbnNlcnRJbnN0YW5jZUF0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKGEtMSksZD10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZTt0aGlzLmluc3RhbmNlcy5zcGxpY2UoYSwwLGIpLGQuaW5zZXJ0QmVmb3JlKGIsYy5uZXh0U2libGluZyl9LGV4dHJhY3RJbnN0YW5jZUF0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKSxjPXRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhKSxkPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlLGU9dGhpcy5pbnN0YW5jZXMuc3BsaWNlKGEsMSlbMF07YyE9PWI7KXt2YXIgZj1iLm5leHRTaWJsaW5nO2Y9PWMmJihjPWIpLGUuYXBwZW5kQ2hpbGQoZC5yZW1vdmVDaGlsZChmKSl9cmV0dXJuIGV9LGdldERlbGVnYXRlRm46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YSYmYSh0aGlzLnRlbXBsYXRlRWxlbWVudF8pLCJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6bnVsbH0saGFuZGxlU3BsaWNlczpmdW5jdGlvbihhKXtpZighdGhpcy5jbG9zZWQmJmEubGVuZ3RoKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZSlyZXR1cm4gdm9pZCB0aGlzLmNsb3NlKCk7QXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXModGhpcy5pdGVyYXRlZFZhbHVlLHRoaXMucHJlc2VudFZhbHVlLGEpO3ZhciBjPWIuZGVsZWdhdGVfO3ZvaWQgMD09PXRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKHRoaXMuaW5zdGFuY2VNb2RlbEZuXz10aGlzLmdldERlbGVnYXRlRm4oYyYmYy5wcmVwYXJlSW5zdGFuY2VNb2RlbCkpLHZvaWQgMD09PXRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8mJih0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCkpO2Zvcih2YXIgZD1uZXcgRixlPTAsZj0wO2Y8YS5sZW5ndGg7ZisrKXtmb3IodmFyIGc9YVtmXSxoPWcucmVtb3ZlZCxpPTA7aTxoLmxlbmd0aDtpKyspe3ZhciBqPWhbaV0saz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGcuaW5kZXgrZSk7ayE9PVQmJmQuc2V0KGosayl9ZS09Zy5hZGRlZENvdW50fWZvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWZvcih2YXIgZz1hW2ZdLGw9Zy5pbmRleDtsPGcuaW5kZXgrZy5hZGRlZENvdW50O2wrKyl7dmFyIGo9dGhpcy5pdGVyYXRlZFZhbHVlW2xdLGs9ZC5nZXQoaik7az9kLmRlbGV0ZShqKToodGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYoaj10aGlzLmluc3RhbmNlTW9kZWxGbl8oaikpLGs9dm9pZCAwPT09aj9UOmIuY3JlYXRlSW5zdGFuY2Uoaix2b2lkIDAsYykpLHRoaXMuaW5zZXJ0SW5zdGFuY2VBdChsLGspfWQuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyhhKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV07YiE9PVQmJnRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8oYi50ZW1wbGF0ZUluc3RhbmNlXyxhKX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLmluc3RhbmNlcy5sZW5ndGg7Zj5iOyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrfSxjbG9zZUluc3RhbmNlQmluZGluZ3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuYmluZGluZ3NfLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmNsb3NlKCl9LHVub2JzZXJ2ZTpmdW5jdGlvbigpe3RoaXMuYXJyYXlPYnNlcnZlciYmKHRoaXMuYXJyYXlPYnNlcnZlci5jbG9zZSgpLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy51bm9ic2VydmUoKTtmb3IodmFyIGE9MDthPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDthKyspdGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3ModGhpcy5pbnN0YW5jZXNbYV0pO3RoaXMuaW5zdGFuY2VzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZXx8KGU9ITAsYS5lbmRPZk1pY3JvdGFzayhmdW5jdGlvbigpe2U9ITEsbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cCgiUGxhdGZvcm0uZmx1c2goKSIpLGEucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSxsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwRW5kKCl9KSl9dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnRleHRDb250ZW50PSJ0ZW1wbGF0ZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLyogaW5qZWN0ZWQgYnkgcGxhdGZvcm0uanMgKi8iO3ZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtkLmluc2VydEJlZm9yZShjLGQuZmlyc3RDaGlsZCk7dmFyIGU7aWYoT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZSliPWZ1bmN0aW9uKCl7fTtlbHNle3ZhciBmPTEyNTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiV2ViQ29tcG9uZW50c1JlYWR5IixmdW5jdGlvbigpe2IoKSxhLmZsdXNoUG9sbD1zZXRJbnRlcnZhbChiLGYpfSl9aWYod2luZG93LkN1c3RvbUVsZW1lbnRzJiYhQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlKXt2YXIgZz1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZTtEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPWcuY2FsbCh0aGlzLGEsYik7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVBbGwoYyksY319YS5mbHVzaD1ifSh3aW5kb3cuUGxhdGZvcm0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybS5qcy5tYXA=",
                "body": "LyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQKICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0CiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvCiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0CiAqLwovLyBAdmVyc2lvbjogMC4zLjIKCndpbmRvdy5QbGF0Zm9ybT13aW5kb3cuUGxhdGZvcm18fHt9LHdpbmRvdy5sb2dGbGFncz13aW5kb3cubG9nRmxhZ3N8fHt9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuZmxhZ3N8fHt9O2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgiJiIpLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCI9IiksYVswXSYmKGJbYVswXV09YVsxXXx8ITApfSk7dmFyIGM9ZG9jdW1lbnQuY3VycmVudFNjcmlwdHx8ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9InBsYXRmb3JtLmpzIl0nKTtpZihjKWZvcih2YXIgZCxlPWMuYXR0cmlidXRlcyxmPTA7ZjxlLmxlbmd0aDtmKyspZD1lW2ZdLCJzcmMiIT09ZC5uYW1lJiYoYltkLm5hbWVdPWQudmFsdWV8fCEwKTtiLmxvZyYmYi5sb2cuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3dpbmRvdy5sb2dGbGFnc1thXT0hMH0pLGIuc2hhZG93PWIuc2hhZG93fHxiLnNoYWRvd2RvbXx8Yi5wb2x5ZmlsbCxiLnNoYWRvdz0ibmF0aXZlIj09PWIuc2hhZG93PyExOmIuc2hhZG93fHwhSFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYi5zaGFkb3cmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCIpLmxlbmd0aD4xJiZjb25zb2xlLndhcm4oInBsYXRmb3JtLmpzIGlzIG5vdCB0aGUgZmlyc3Qgc2NyaXB0IG9uIHRoZSBwYWdlLiBTZWUgaHR0cDovL3d3dy5wb2x5bWVyLXByb2plY3Qub3JnL2RvY3Mvc3RhcnQvcGxhdGZvcm0uaHRtbCNzZXR1cCBmb3IgZGV0YWlscy4iKSxiLnJlZ2lzdGVyJiYod2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuZmxhZ3MucmVnaXN0ZXI9Yi5yZWdpc3RlciksYi5pbXBvcnRzJiYod2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSx3aW5kb3cuSFRNTEltcG9ydHMuZmxhZ3MuaW1wb3J0cz1iLmltcG9ydHMpLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLCJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmIWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9RGF0ZS5ub3coKSUxZTksYz1mdW5jdGlvbigpe3RoaXMubmFtZT0iX19zdCIrKDFlOSpNYXRoLnJhbmRvbSgpPj4+MCkrKGIrKyArIl9fIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07ZCYmZFswXT09PWI/ZFsxXT1jOmEoYix0aGlzLm5hbWUse3ZhbHVlOltiLGNdLHdyaXRhYmxlOiEwfSl9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dGhpcy5zZXQoYSx2b2lkIDApfX0sd2luZG93LldlYWtNYXA9Y30oKSxmdW5jdGlvbihnbG9iYWwpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBkZXRlY3RPYmplY3RPYnNlcnZlKCl7ZnVuY3Rpb24gYShhKXtiPWF9aWYoImZ1bmN0aW9uIiE9dHlwZW9mIE9iamVjdC5vYnNlcnZlfHwiZnVuY3Rpb24iIT10eXBlb2YgQXJyYXkub2JzZXJ2ZSlyZXR1cm4hMTt2YXIgYj1bXSxjPXt9LGQ9W107cmV0dXJuIE9iamVjdC5vYnNlcnZlKGMsYSksQXJyYXkub2JzZXJ2ZShkLGEpLGMuaWQ9MSxjLmlkPTIsZGVsZXRlIGMuaWQsZC5wdXNoKDEsMiksZC5sZW5ndGg9MCxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksNSE9PWIubGVuZ3RoPyExOiJhZGQiIT1iWzBdLnR5cGV8fCJ1cGRhdGUiIT1iWzFdLnR5cGV8fCJkZWxldGUiIT1iWzJdLnR5cGV8fCJzcGxpY2UiIT1iWzNdLnR5cGV8fCJzcGxpY2UiIT1iWzRdLnR5cGU/ITE6KE9iamVjdC51bm9ic2VydmUoYyxhKSxBcnJheS51bm9ic2VydmUoZCxhKSwhMCl9ZnVuY3Rpb24gZGV0ZWN0RXZhbCgpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigiIiwicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gaXNJbmRleChhKXtyZXR1cm4rYT09PWE+Pj4wfWZ1bmN0aW9uIHRvTnVtYmVyKGEpe3JldHVybithfWZ1bmN0aW9uIGlzT2JqZWN0KGEpe3JldHVybiBhPT09T2JqZWN0KGEpfWZ1bmN0aW9uIGFyZVNhbWVWYWx1ZShhLGIpe3JldHVybiBhPT09Yj8wIT09YXx8MS9hPT09MS9iOm51bWJlcklzTmFOKGEpJiZudW1iZXJJc05hTihiKT8hMDphIT09YSYmYiE9PWJ9ZnVuY3Rpb24gZ2V0UGF0aENoYXJUeXBlKGEpe2lmKHZvaWQgMD09PWEpcmV0dXJuImVvZiI7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3N3aXRjaChiKXtjYXNlIDkxOmNhc2UgOTM6Y2FzZSA0NjpjYXNlIDM0OmNhc2UgMzk6Y2FzZSA0ODpyZXR1cm4gYTtjYXNlIDk1OmNhc2UgMzY6cmV0dXJuImlkZW50IjtjYXNlIDMyOmNhc2UgOTpjYXNlIDEwOmNhc2UgMTM6Y2FzZSAxNjA6Y2FzZSA2NTI3OTpjYXNlIDgyMzI6Y2FzZSA4MjMzOnJldHVybiJ3cyJ9cmV0dXJuIGI+PTk3JiYxMjI+PWJ8fGI+PTY1JiY5MD49Yj8iaWRlbnQiOmI+PTQ5JiY1Nz49Yj8ibnVtYmVyIjoiZWxzZSJ9ZnVuY3Rpb24gbm9vcCgpe31mdW5jdGlvbiBwYXJzZVBhdGgoYSl7ZnVuY3Rpb24gYigpe2lmKCEoaz49YS5sZW5ndGgpKXt2YXIgYj1hW2srMV07cmV0dXJuImluU2luZ2xlUXVvdGUiPT1sJiYiJyI9PWJ8fCJpbkRvdWJsZVF1b3RlIj09bCYmJyInPT1iPyhrKyssZD1iLG0uYXBwZW5kKCksITApOnZvaWQgMH19Zm9yKHZhciBjLGQsZSxmLGcsaCxpLGo9W10saz0tMSxsPSJiZWZvcmVQYXRoIixtPXtwdXNoOmZ1bmN0aW9uKCl7dm9pZCAwIT09ZSYmKGoucHVzaChlKSxlPXZvaWQgMCl9LGFwcGVuZDpmdW5jdGlvbigpe3ZvaWQgMD09PWU/ZT1kOmUrPWR9fTtsOylpZihrKyssYz1hW2tdLCJcXCIhPWN8fCFiKGwpKXtpZihmPWdldFBhdGhDaGFyVHlwZShjKSxpPXBhdGhTdGF0ZU1hY2hpbmVbbF0sZz1pW2ZdfHxpWyJlbHNlIl18fCJlcnJvciIsImVycm9yIj09ZylyZXR1cm47aWYobD1nWzBdLGg9bVtnWzFdXXx8bm9vcCxkPXZvaWQgMD09PWdbMl0/YzpnWzJdLGgoKSwiYWZ0ZXJQYXRoIj09PWwpcmV0dXJuIGp9fWZ1bmN0aW9uIGlzSWRlbnQoYSl7cmV0dXJuIGlkZW50UmVnRXhwLnRlc3QoYSl9ZnVuY3Rpb24gUGF0aChhLGIpe2lmKGIhPT1jb25zdHJ1Y3RvcklzUHJpdmF0ZSl0aHJvdyBFcnJvcigiVXNlIFBhdGguZ2V0IHRvIHJldHJpZXZlIHBhdGggb2JqZWN0cyIpO2EubGVuZ3RoJiZBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLGEuc2xpY2UoKSksaGFzRXZhbCYmdGhpcy5sZW5ndGgmJih0aGlzLmdldFZhbHVlRnJvbT10aGlzLmNvbXBpbGVkR2V0VmFsdWVGcm9tRm4oKSl9ZnVuY3Rpb24gZ2V0UGF0aChhKXtpZihhIGluc3RhbmNlb2YgUGF0aClyZXR1cm4gYTtpZigobnVsbD09YXx8MD09YS5sZW5ndGgpJiYoYT0iIiksInN0cmluZyIhPXR5cGVvZiBhKXtpZihpc0luZGV4KGEubGVuZ3RoKSlyZXR1cm4gbmV3IFBhdGgoYSxjb25zdHJ1Y3RvcklzUHJpdmF0ZSk7YT1TdHJpbmcoYSl9dmFyIGI9cGF0aENhY2hlW2FdO2lmKGIpcmV0dXJuIGI7dmFyIGM9cGFyc2VQYXRoKGEpO2lmKCFjKXJldHVybiBpbnZhbGlkUGF0aDt2YXIgYj1uZXcgUGF0aChjLGNvbnN0cnVjdG9ySXNQcml2YXRlKTtyZXR1cm4gcGF0aENhY2hlW2FdPWIsYn1mdW5jdGlvbiBmb3JtYXRBY2Nlc3NvcihhKXtyZXR1cm4gaXNJbmRleChhKT8iWyIrYSsiXSI6J1siJythLnJlcGxhY2UoLyIvZywnXFwiJykrJyJdJ31mdW5jdGlvbiBkaXJ0eUNoZWNrKGEpe2Zvcih2YXIgYj0wO01BWF9ESVJUWV9DSEVDS19DWUNMRVM+YiYmYS5jaGVja18oKTspYisrO3JldHVybiBnbG9iYWwudGVzdGluZ0V4cG9zZUN5Y2xlQ291bnQmJihnbG9iYWwuZGlydHlDaGVja0N5Y2xlQ291bnQ9YiksYj4wfWZ1bmN0aW9uIG9iamVjdElzRW1wdHkoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZGlmZklzRW1wdHkoYSl7cmV0dXJuIG9iamVjdElzRW1wdHkoYS5hZGRlZCkmJm9iamVjdElzRW1wdHkoYS5yZW1vdmVkKSYmb2JqZWN0SXNFbXB0eShhLmNoYW5nZWQpfWZ1bmN0aW9uIGRpZmZPYmplY3RGcm9tT2xkT2JqZWN0KGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIHJ1bkVPTVRhc2tzKCl7aWYoIWVvbVRhc2tzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGVvbVRhc2tzLmxlbmd0aDthKyspZW9tVGFza3NbYV0oKTtyZXR1cm4gZW9tVGFza3MubGVuZ3RoPTAsITB9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRPYmplY3QoKXtmdW5jdGlvbiBhKGEpe2ImJmIuc3RhdGVfPT09T1BFTkVEJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcigiT2JzZXJ2ZWRPYmplY3QgaW4gdXNlIik7ZXx8T2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGI9YyxlPSExfSxvYnNlcnZlOmZ1bmN0aW9uKGIsZCl7Yz1iLGQ/QXJyYXkub2JzZXJ2ZShjLGEpOk9iamVjdC5vYnNlcnZlKGMsYSl9LGRlbGl2ZXI6ZnVuY3Rpb24oYil7ZD1iLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSxkPSExfSxjbG9zZTpmdW5jdGlvbigpe2I9dm9pZCAwLE9iamVjdC51bm9ic2VydmUoYyxhKSxvYnNlcnZlZE9iamVjdENhY2hlLnB1c2godGhpcyl9fX1mdW5jdGlvbiBnZXRPYnNlcnZlZE9iamVjdChhLGIsYyl7dmFyIGQ9b2JzZXJ2ZWRPYmplY3RDYWNoZS5wb3AoKXx8bmV3T2JzZXJ2ZWRPYmplY3QoKTtyZXR1cm4gZC5vcGVuKGEpLGQub2JzZXJ2ZShiLGMpLGR9ZnVuY3Rpb24gbmV3T2JzZXJ2ZWRTZXQoKXtmdW5jdGlvbiBhKGIsZil7YiYmKGI9PT1kJiYoZVtmXT0hMCksaC5pbmRleE9mKGIpPDAmJihoLnB1c2goYiksT2JqZWN0Lm9ic2VydmUoYixjKSksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YoYiksZikpfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoYy5vYmplY3QhPT1kfHxlW2MubmFtZV18fCJzZXRQcm90b3R5cGUiPT09Yy50eXBlKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGMoYyl7aWYoIWIoYykpe2Zvcih2YXIgZCxlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1PUEVORUQmJmQuaXRlcmF0ZU9iamVjdHNfKGEpO2Zvcih2YXIgZT0wO2U8Zy5sZW5ndGg7ZSsrKWQ9Z1tlXSxkLnN0YXRlXz09T1BFTkVEJiZkLmNoZWNrXygpfX12YXIgZCxlLGY9MCxnPVtdLGg9W10saT17b2JqZWN0OnZvaWQgMCxvYmplY3RzOmgsb3BlbjpmdW5jdGlvbihiLGMpe2R8fChkPWMsZT17fSksZy5wdXNoKGIpLGYrKyxiLml0ZXJhdGVPYmplY3RzXyhhKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZihmLS0sIShmPjApKXtmb3IodmFyIGE9MDthPGgubGVuZ3RoO2ErKylPYmplY3QudW5vYnNlcnZlKGhbYV0sYyksT2JzZXJ2ZXIudW5vYnNlcnZlZENvdW50Kys7Zy5sZW5ndGg9MCxoLmxlbmd0aD0wLGQ9dm9pZCAwLGU9dm9pZCAwLG9ic2VydmVkU2V0Q2FjaGUucHVzaCh0aGlzKX19fTtyZXR1cm4gaX1mdW5jdGlvbiBnZXRPYnNlcnZlZFNldChhLGIpe3JldHVybiBsYXN0T2JzZXJ2ZWRTZXQmJmxhc3RPYnNlcnZlZFNldC5vYmplY3Q9PT1ifHwobGFzdE9ic2VydmVkU2V0PW9ic2VydmVkU2V0Q2FjaGUucG9wKCl8fG5ld09ic2VydmVkU2V0KCksbGFzdE9ic2VydmVkU2V0Lm9iamVjdD1iKSxsYXN0T2JzZXJ2ZWRTZXQub3BlbihhLGIpLGxhc3RPYnNlcnZlZFNldH1mdW5jdGlvbiBPYnNlcnZlcigpe3RoaXMuc3RhdGVfPVVOT1BFTkVELHRoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5pZF89bmV4dE9ic2VydmVySWQrK31mdW5jdGlvbiBhZGRUb0FsbChhKXtPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQrKyxjb2xsZWN0T2JzZXJ2ZXJzJiZhbGxPYnNlcnZlcnMucHVzaChhKX1mdW5jdGlvbiByZW1vdmVGcm9tQWxsKCl7T2JzZXJ2ZXIuX2FsbE9ic2VydmVyc0NvdW50LS19ZnVuY3Rpb24gT2JqZWN0T2JzZXJ2ZXIoYSl7T2JzZXJ2ZXIuY2FsbCh0aGlzKSx0aGlzLnZhbHVlXz1hLHRoaXMub2xkT2JqZWN0Xz12b2lkIDB9ZnVuY3Rpb24gQXJyYXlPYnNlcnZlcihhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcigiUHJvdmlkZWQgb2JqZWN0IGlzIG5vdCBhbiBBcnJheSIpO09iamVjdE9ic2VydmVyLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBQYXRoT2JzZXJ2ZXIoYSxiKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMub2JqZWN0Xz1hLHRoaXMucGF0aF89Z2V0UGF0aChiKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDB9ZnVuY3Rpb24gQ29tcG91bmRPYnNlcnZlcihhKXtPYnNlcnZlci5jYWxsKHRoaXMpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl89YSx0aGlzLnZhbHVlXz1bXSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDAsdGhpcy5vYnNlcnZlZF89W119ZnVuY3Rpb24gaWRlbnRGbihhKXtyZXR1cm4gYX1mdW5jdGlvbiBPYnNlcnZlclRyYW5zZm9ybShhLGIsYyxkKXt0aGlzLmNhbGxiYWNrXz12b2lkIDAsdGhpcy50YXJnZXRfPXZvaWQgMCx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz1hLHRoaXMuZ2V0VmFsdWVGbl89Ynx8aWRlbnRGbix0aGlzLnNldFZhbHVlRm5fPWN8fGlkZW50Rm4sdGhpcy5kb250UGFzc1Rocm91Z2hTZXRfPWR9ZnVuY3Rpb24gbm90aWZ5KGEsYixjLGQpe2lmKCFhcmVTYW1lVmFsdWUoYyxkKSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBhLnByb3BlcnR5Q2hhbmdlZF8mJmEucHJvcGVydHlDaGFuZ2VkXyhiLGMsZCksaGFzT2JzZXJ2ZSkpe3ZhciBlPWEubm90aWZpZXJfO2V8fChlPWEubm90aWZpZXJfPU9iamVjdC5nZXROb3RpZmllcihhKSksdXBkYXRlUmVjb3JkLm9iamVjdD1hLHVwZGF0ZVJlY29yZC5uYW1lPWIsdXBkYXRlUmVjb3JkLm9sZFZhbHVlPWQsZS5ub3RpZnkodXBkYXRlUmVjb3JkKX19ZnVuY3Rpb24gZGlmZk9iamVjdEZyb21DaGFuZ2VSZWNvcmRzKGEsYixjKXtmb3IodmFyIGQ9e30sZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07ZXhwZWN0ZWRSZWNvcmRUeXBlc1tnLnR5cGVdPyhnLm5hbWUgaW4gY3x8KGNbZy5uYW1lXT1nLm9sZFZhbHVlKSwidXBkYXRlIiE9Zy50eXBlJiYoImFkZCIhPWcudHlwZT9nLm5hbWUgaW4gZD8oZGVsZXRlIGRbZy5uYW1lXSxkZWxldGUgY1tnLm5hbWVdKTplW2cubmFtZV09ITA6Zy5uYW1lIGluIGU/ZGVsZXRlIGVbZy5uYW1lXTpkW2cubmFtZV09ITApKTooY29uc29sZS5lcnJvcigiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogIitnLnR5cGUpLGNvbnNvbGUuZXJyb3IoZykpfWZvcih2YXIgaCBpbiBkKWRbaF09YVtoXTtmb3IodmFyIGggaW4gZSllW2hdPXZvaWQgMDt2YXIgaT17fTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZHx8aCBpbiBlKSl7dmFyIGo9YVtoXTtjW2hdIT09aiYmKGlbaF09ail9cmV0dXJue2FkZGVkOmQscmVtb3ZlZDplLGNoYW5nZWQ6aX19ZnVuY3Rpb24gbmV3U3BsaWNlKGEsYixjKXtyZXR1cm57aW5kZXg6YSxyZW1vdmVkOmIsYWRkZWRDb3VudDpjfX1mdW5jdGlvbiBBcnJheVNwbGljZSgpe31mdW5jdGlvbiBjYWxjU3BsaWNlcyhhLGIsYyxkLGUsZil7cmV0dXJuIGFycmF5U3BsaWNlLmNhbGNTcGxpY2VzKGEsYixjLGQsZSxmKX1mdW5jdGlvbiBpbnRlcnNlY3QoYSxiLGMsZCl7cmV0dXJuIGM+Ynx8YT5kPy0xOmI9PWN8fGQ9PWE/MDpjPmE/ZD5iP2ItYzpkLWM6Yj5kP2QtYTpiLWF9ZnVuY3Rpb24gbWVyZ2VTcGxpY2UoYSxiLGMsZCl7Zm9yKHZhciBlPW5ld1NwbGljZShiLGMsZCksZj0hMSxnPTAsaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaT1hW2hdO2lmKGkuaW5kZXgrPWcsIWYpe3ZhciBqPWludGVyc2VjdChlLmluZGV4LGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aCxpLmluZGV4LGkuaW5kZXgraS5hZGRlZENvdW50KTtpZihqPj0wKXthLnNwbGljZShoLDEpLGgtLSxnLT1pLmFkZGVkQ291bnQtaS5yZW1vdmVkLmxlbmd0aCxlLmFkZGVkQ291bnQrPWkuYWRkZWRDb3VudC1qO3ZhciBrPWUucmVtb3ZlZC5sZW5ndGgraS5yZW1vdmVkLmxlbmd0aC1qO2lmKGUuYWRkZWRDb3VudHx8ayl7dmFyIGM9aS5yZW1vdmVkO2lmKGUuaW5kZXg8aS5pbmRleCl7dmFyIGw9ZS5yZW1vdmVkLnNsaWNlKDAsaS5pbmRleC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsLGMpLGM9bH1pZihlLmluZGV4K2UucmVtb3ZlZC5sZW5ndGg+aS5pbmRleCtpLmFkZGVkQ291bnQpe3ZhciBtPWUucmVtb3ZlZC5zbGljZShpLmluZGV4K2kuYWRkZWRDb3VudC1lLmluZGV4KTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjLG0pfWUucmVtb3ZlZD1jLGkuaW5kZXg8ZS5pbmRleCYmKGUuaW5kZXg9aS5pbmRleCl9ZWxzZSBmPSEwfWVsc2UgaWYoZS5pbmRleDxpLmluZGV4KXtmPSEwLGEuc3BsaWNlKGgsMCxlKSxoKys7dmFyIG49ZS5hZGRlZENvdW50LWUucmVtb3ZlZC5sZW5ndGg7aS5pbmRleCs9bixnKz1ufX19Znx8YS5wdXNoKGUpfWZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxTcGxpY2VzKGEsYil7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtzd2l0Y2goZS50eXBlKXtjYXNlInNwbGljZSI6bWVyZ2VTcGxpY2UoYyxlLmluZGV4LGUucmVtb3ZlZC5zbGljZSgpLGUuYWRkZWRDb3VudCk7YnJlYWs7Y2FzZSJhZGQiOmNhc2UidXBkYXRlIjpjYXNlImRlbGV0ZSI6aWYoIWlzSW5kZXgoZS5uYW1lKSljb250aW51ZTt2YXIgZj10b051bWJlcihlLm5hbWUpO2lmKDA+Ziljb250aW51ZTttZXJnZVNwbGljZShjLGYsW2Uub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiVW5leHBlY3RlZCByZWNvcmQgdHlwZTogIitKU09OLnN0cmluZ2lmeShlKSl9fXJldHVybiBjfWZ1bmN0aW9uIHByb2plY3RBcnJheVNwbGljZXMoYSxiKXt2YXIgYz1bXTtyZXR1cm4gY3JlYXRlSW5pdGlhbFNwbGljZXMoYSxiKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3JldHVybiAxPT1iLmFkZGVkQ291bnQmJjE9PWIucmVtb3ZlZC5sZW5ndGg/dm9pZChiLnJlbW92ZWRbMF0hPT1hW2IuaW5kZXhdJiZjLnB1c2goYikpOnZvaWQoYz1jLmNvbmNhdChjYWxjU3BsaWNlcyhhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpKX0pLGN9dmFyIGhhc09ic2VydmU9ZGV0ZWN0T2JqZWN0T2JzZXJ2ZSgpLGhhc0V2YWw9ZGV0ZWN0RXZhbCgpLG51bWJlcklzTmFOPWdsb2JhbC5OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGEpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYSYmZ2xvYmFsLmlzTmFOKGEpfSxjcmVhdGVPYmplY3Q9Il9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGEpe3JldHVybiBhfTpmdW5jdGlvbihhKXt2YXIgYj1hLl9fcHJvdG9fXztpZighYilyZXR1cm4gYTt2YXIgYz1PYmplY3QuY3JlYXRlKGIpO3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpKX0pLGN9LGlkZW50U3RhcnQ9IlskX2EtekEtWl0iLGlkZW50UGFydD0iWyRfYS16QS1aMC05XSIsaWRlbnRSZWdFeHA9bmV3IFJlZ0V4cCgiXiIraWRlbnRTdGFydCsiKyIraWRlbnRQYXJ0KyIqJCIpLHBhdGhTdGF0ZU1hY2hpbmU9e2JlZm9yZVBhdGg6e3dzOlsiYmVmb3JlUGF0aCJdLGlkZW50OlsiaW5JZGVudCIsImFwcGVuZCJdLCJbIjpbImJlZm9yZUVsZW1lbnQiXSxlb2Y6WyJhZnRlclBhdGgiXX0saW5QYXRoOnt3czpbImluUGF0aCJdLCIuIjpbImJlZm9yZUlkZW50Il0sIlsiOlsiYmVmb3JlRWxlbWVudCJdLGVvZjpbImFmdGVyUGF0aCJdfSxiZWZvcmVJZGVudDp7d3M6WyJiZWZvcmVJZGVudCJdLGlkZW50OlsiaW5JZGVudCIsImFwcGVuZCJdfSxpbklkZW50OntpZGVudDpbImluSWRlbnQiLCJhcHBlbmQiXSwwOlsiaW5JZGVudCIsImFwcGVuZCJdLG51bWJlcjpbImluSWRlbnQiLCJhcHBlbmQiXSx3czpbImluUGF0aCIsInB1c2giXSwiLiI6WyJiZWZvcmVJZGVudCIsInB1c2giXSwiWyI6WyJiZWZvcmVFbGVtZW50IiwicHVzaCJdLGVvZjpbImFmdGVyUGF0aCIsInB1c2giXX0sYmVmb3JlRWxlbWVudDp7d3M6WyJiZWZvcmVFbGVtZW50Il0sMDpbImFmdGVyWmVybyIsImFwcGVuZCJdLG51bWJlcjpbImluSW5kZXgiLCJhcHBlbmQiXSwiJyI6WyJpblNpbmdsZVF1b3RlIiwiYXBwZW5kIiwiIl0sJyInOlsiaW5Eb3VibGVRdW90ZSIsImFwcGVuZCIsIiJdfSxhZnRlclplcm86e3dzOlsiYWZ0ZXJFbGVtZW50IiwicHVzaCJdLCJdIjpbImluUGF0aCIsInB1c2giXX0saW5JbmRleDp7MDpbImluSW5kZXgiLCJhcHBlbmQiXSxudW1iZXI6WyJpbkluZGV4IiwiYXBwZW5kIl0sd3M6WyJhZnRlckVsZW1lbnQiXSwiXSI6WyJpblBhdGgiLCJwdXNoIl19LGluU2luZ2xlUXVvdGU6eyInIjpbImFmdGVyRWxlbWVudCJdLGVvZjpbImVycm9yIl0sImVsc2UiOlsiaW5TaW5nbGVRdW90ZSIsImFwcGVuZCJdfSxpbkRvdWJsZVF1b3RlOnsnIic6WyJhZnRlckVsZW1lbnQiXSxlb2Y6WyJlcnJvciJdLCJlbHNlIjpbImluRG91YmxlUXVvdGUiLCJhcHBlbmQiXX0sYWZ0ZXJFbGVtZW50Ont3czpbImFmdGVyRWxlbWVudCJdLCJdIjpbImluUGF0aCIsInB1c2giXX19LGNvbnN0cnVjdG9ySXNQcml2YXRlPXt9LHBhdGhDYWNoZT17fTtQYXRoLmdldD1nZXRQYXRoLFBhdGgucHJvdG90eXBlPWNyZWF0ZU9iamVjdCh7X19wcm90b19fOltdLHZhbGlkOiEwLHRvU3RyaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPSIiLGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpc1tiXTthKz1pc0lkZW50KGMpP2I/Ii4iK2M6Yzpmb3JtYXRBY2Nlc3NvcihjKX1yZXR1cm4gYX0sZ2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5sZW5ndGg7YisrKXtpZihudWxsPT1hKXJldHVybjthPWFbdGhpc1tiXV19cmV0dXJuIGF9LGl0ZXJhdGVPYmplY3RzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspe2lmKGMmJihhPWFbdGhpc1tjLTFdXSksIWlzT2JqZWN0KGEpKXJldHVybjtiKGEsdGhpc1swXSl9fSxjb21waWxlZEdldFZhbHVlRnJvbUZuOmZ1bmN0aW9uKCl7dmFyIGE9IiIsYj0ib2JqIjthKz0iaWYgKG9iaiAhPSBudWxsIjtmb3IodmFyIGMsZD0wO2Q8dGhpcy5sZW5ndGgtMTtkKyspYz10aGlzW2RdLGIrPWlzSWRlbnQoYyk/Ii4iK2M6Zm9ybWF0QWNjZXNzb3IoYyksYSs9IiAmJlxuICAgICAiK2IrIiAhPSBudWxsIjthKz0iKVxuIjt2YXIgYz10aGlzW2RdO3JldHVybiBiKz1pc0lkZW50KGMpPyIuIitjOmZvcm1hdEFjY2Vzc29yKGMpLGErPSIgIHJldHVybiAiK2IrIjtcbmVsc2VcbiAgcmV0dXJuIHVuZGVmaW5lZDsiLG5ldyBGdW5jdGlvbigib2JqIixhKX0sc2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGgtMTtjKyspe2lmKCFpc09iamVjdChhKSlyZXR1cm4hMTthPWFbdGhpc1tjXV19cmV0dXJuIGlzT2JqZWN0KGEpPyhhW3RoaXNbY11dPWIsITApOiExfX0pO3ZhciBpbnZhbGlkUGF0aD1uZXcgUGF0aCgiIixjb25zdHJ1Y3RvcklzUHJpdmF0ZSk7aW52YWxpZFBhdGgudmFsaWQ9ITEsaW52YWxpZFBhdGguZ2V0VmFsdWVGcm9tPWludmFsaWRQYXRoLnNldFZhbHVlRnJvbT1mdW5jdGlvbigpe307dmFyIE1BWF9ESVJUWV9DSEVDS19DWUNMRVM9MWUzLGVvbVRhc2tzPVtdLHJ1bkVPTT1oYXNPYnNlcnZlP2Z1bmN0aW9uKCl7dmFyIGE9e3BpbmdQb25nOiEwfSxiPSExO3JldHVybiBPYmplY3Qub2JzZXJ2ZShhLGZ1bmN0aW9uKCl7cnVuRU9NVGFza3MoKSxiPSExfSksZnVuY3Rpb24oYyl7ZW9tVGFza3MucHVzaChjKSxifHwoYj0hMCxhLnBpbmdQb25nPSFhLnBpbmdQb25nKX19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7ZW9tVGFza3MucHVzaChhKX19KCksb2JzZXJ2ZWRPYmplY3RDYWNoZT1bXSxvYnNlcnZlZFNldENhY2hlPVtdLGxhc3RPYnNlcnZlZFNldCxVTk9QRU5FRD0wLE9QRU5FRD0xLENMT1NFRD0yLFJFU0VUVElORz0zLG5leHRPYnNlcnZlcklkPTE7T2JzZXJ2ZXIucHJvdG90eXBlPXtvcGVuOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEKXRocm93IEVycm9yKCJPYnNlcnZlciBoYXMgYWxyZWFkeSBiZWVuIG9wZW5lZC4iKTtyZXR1cm4gYWRkVG9BbGwodGhpcyksdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLmNvbm5lY3RfKCksdGhpcy5zdGF0ZV89T1BFTkVELHRoaXMudmFsdWVffSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJihyZW1vdmVGcm9tQWxsKHRoaXMpLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5zdGF0ZV89Q0xPU0VEKX0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1PUEVORUQmJmRpcnR5Q2hlY2sodGhpcyl9LHJlcG9ydF86ZnVuY3Rpb24oYSl7dHJ5e3RoaXMuY2FsbGJhY2tfLmFwcGx5KHRoaXMudGFyZ2V0XyxhKX1jYXRjaChiKXtPYnNlcnZlci5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKCJFeGNlcHRpb24gY2F1Z2h0IGR1cmluZyBvYnNlcnZlciBjYWxsYmFjazogIisoYi5zdGFja3x8YikpfX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja18odm9pZCAwLCEwKSx0aGlzLnZhbHVlX319O3ZhciBjb2xsZWN0T2JzZXJ2ZXJzPSFoYXNPYnNlcnZlLGFsbE9ic2VydmVycztPYnNlcnZlci5fYWxsT2JzZXJ2ZXJzQ291bnQ9MCxjb2xsZWN0T2JzZXJ2ZXJzJiYoYWxsT2JzZXJ2ZXJzPVtdKTt2YXIgcnVubmluZ01pY3JvdGFza0NoZWNrcG9pbnQ9ITEsaGFzRGVidWdGb3JjZUZ1bGxEZWxpdmVyeT1oYXNPYnNlcnZlJiZmdW5jdGlvbigpe3RyeXtyZXR1cm4gZXZhbCgiJVJ1bk1pY3JvdGFza3MoKSIpLCEwfWNhdGNoKGV4KXtyZXR1cm4hMX19KCk7Z2xvYmFsLlBsYXRmb3JtPWdsb2JhbC5QbGF0Zm9ybXx8e30sZ2xvYmFsLlBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50PWZ1bmN0aW9uKCl7aWYoIXJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50KXtpZihoYXNEZWJ1Z0ZvcmNlRnVsbERlbGl2ZXJ5KXJldHVybiB2b2lkIGV2YWwoIiVSdW5NaWNyb3Rhc2tzKCkiKTtpZihjb2xsZWN0T2JzZXJ2ZXJzKXtydW5uaW5nTWljcm90YXNrQ2hlY2twb2ludD0hMDt2YXIgY3ljbGVzPTAsYW55Q2hhbmdlZCx0b0NoZWNrO2Rve2N5Y2xlcysrLHRvQ2hlY2s9YWxsT2JzZXJ2ZXJzLGFsbE9ic2VydmVycz1bXSxhbnlDaGFuZ2VkPSExO2Zvcih2YXIgaT0wO2k8dG9DaGVjay5sZW5ndGg7aSsrKXt2YXIgb2JzZXJ2ZXI9dG9DaGVja1tpXTtvYnNlcnZlci5zdGF0ZV89PU9QRU5FRCYmKG9ic2VydmVyLmNoZWNrXygpJiYoYW55Q2hhbmdlZD0hMCksYWxsT2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpKX1ydW5FT01UYXNrcygpJiYoYW55Q2hhbmdlZD0hMCl9d2hpbGUoTUFYX0RJUlRZX0NIRUNLX0NZQ0xFUz5jeWNsZXMmJmFueUNoYW5nZWQpO2dsb2JhbC50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCYmKGdsb2JhbC5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jeWNsZXMpLHJ1bm5pbmdNaWNyb3Rhc2tDaGVja3BvaW50PSExfX19LGNvbGxlY3RPYnNlcnZlcnMmJihnbG9iYWwuUGxhdGZvcm0uY2xlYXJPYnNlcnZlcnM9ZnVuY3Rpb24oKXthbGxPYnNlcnZlcnM9W119KSxPYmplY3RPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMSxjb25uZWN0XzpmdW5jdGlvbigpe2hhc09ic2VydmU/dGhpcy5kaXJlY3RPYnNlcnZlcl89Z2V0T2JzZXJ2ZWRPYmplY3QodGhpcyx0aGlzLnZhbHVlXyx0aGlzLmFycmF5T2JzZXJ2ZSk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyl9LGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkuaXNBcnJheShhKT9bXTp7fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJihiLmxlbmd0aD1hLmxlbmd0aCksYn0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoaGFzT2JzZXJ2ZSl7aWYoIWEpcmV0dXJuITE7Yz17fSxiPWRpZmZPYmplY3RGcm9tQ2hhbmdlUmVjb3Jkcyh0aGlzLnZhbHVlXyxhLGMpfWVsc2UgYz10aGlzLm9sZE9iamVjdF8sYj1kaWZmT2JqZWN0RnJvbU9sZE9iamVjdCh0aGlzLnZhbHVlXyx0aGlzLm9sZE9iamVjdF8pO3JldHVybiBkaWZmSXNFbXB0eShiKT8hMTooaGFzT2JzZXJ2ZXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2IuYWRkZWR8fHt9LGIucmVtb3ZlZHx8e30sYi5jaGFuZ2VkfHx7fSxmdW5jdGlvbihhKXtyZXR1cm4gY1thXX1dKSwhMCl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZT8odGhpcy5kaXJlY3RPYnNlcnZlcl8uY2xvc2UoKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApOnRoaXMub2xkT2JqZWN0Xz12b2lkIDB9LGRlbGl2ZXI6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09T1BFTkVEJiYoaGFzT2JzZXJ2ZT90aGlzLmRpcmVjdE9ic2VydmVyXy5kZWxpdmVyKCExKTpkaXJ0eUNoZWNrKHRoaXMpKX0sZGlzY2FyZENoYW5nZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJlY3RPYnNlcnZlcl8/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMCk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyksdGhpcy52YWx1ZV99fSksQXJyYXlPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JqZWN0T2JzZXJ2ZXIucHJvdG90eXBlLGFycmF5T2JzZXJ2ZTohMCxjb3B5T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKCl9LGNoZWNrXzpmdW5jdGlvbihhKXt2YXIgYjtpZihoYXNPYnNlcnZlKXtpZighYSlyZXR1cm4hMTtiPXByb2plY3RBcnJheVNwbGljZXModGhpcy52YWx1ZV8sYSl9ZWxzZSBiPWNhbGNTcGxpY2VzKHRoaXMudmFsdWVfLDAsdGhpcy52YWx1ZV8ubGVuZ3RoLHRoaXMub2xkT2JqZWN0XywwLHRoaXMub2xkT2JqZWN0Xy5sZW5ndGgpO3JldHVybiBiJiZiLmxlbmd0aD8oaGFzT2JzZXJ2ZXx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2JdKSwhMCk6ITF9fSksQXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXM9ZnVuY3Rpb24oYSxiLGMpe2MuZm9yRWFjaChmdW5jdGlvbihjKXtmb3IodmFyIGQ9W2MuaW5kZXgsYy5yZW1vdmVkLmxlbmd0aF0sZT1jLmluZGV4O2U8Yy5pbmRleCtjLmFkZGVkQ291bnQ7KWQucHVzaChiW2VdKSxlKys7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShhLGQpfSl9LFBhdGhPYnNlcnZlci5wcm90b3R5cGU9Y3JlYXRlT2JqZWN0KHtfX3Byb3RvX186T2JzZXJ2ZXIucHJvdG90eXBlLGdldCBwYXRoKCl7cmV0dXJuIHRoaXMucGF0aF99LGNvbm5lY3RfOmZ1bmN0aW9uKCl7aGFzT2JzZXJ2ZSYmKHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPWdldE9ic2VydmVkU2V0KHRoaXMsdGhpcy5vYmplY3RfKSksdGhpcy5jaGVja18odm9pZCAwLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7dGhpcy5wYXRoXy5pdGVyYXRlT2JqZWN0cyh0aGlzLm9iamVjdF8sYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmFsdWVfO3JldHVybiB0aGlzLnZhbHVlXz10aGlzLnBhdGhfLmdldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8pLGJ8fGFyZVNhbWVWYWx1ZSh0aGlzLnZhbHVlXyxjKT8hMToodGhpcy5yZXBvcnRfKFt0aGlzLnZhbHVlXyxjLHRoaXNdKSwhMCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMucGF0aF8mJnRoaXMucGF0aF8uc2V0VmFsdWVGcm9tKHRoaXMub2JqZWN0XyxhKX19KTt2YXIgb2JzZXJ2ZXJTZW50aW5lbD17fTtDb21wb3VuZE9ic2VydmVyLnByb3RvdHlwZT1jcmVhdGVPYmplY3Qoe19fcHJvdG9fXzpPYnNlcnZlci5wcm90b3R5cGUsY29ubmVjdF86ZnVuY3Rpb24oKXtpZihoYXNPYnNlcnZlKXtmb3IodmFyIGEsYj0hMSxjPTA7Yzx0aGlzLm9ic2VydmVkXy5sZW5ndGg7Yys9MilpZihhPXRoaXMub2JzZXJ2ZWRfW2NdLGEhPT1vYnNlcnZlclNlbnRpbmVsKXtiPSEwO2JyZWFrfWImJih0aGlzLmRpcmVjdE9ic2VydmVyXz1nZXRPYnNlcnZlZFNldCh0aGlzLGEpKX10aGlzLmNoZWNrXyh2b2lkIDAsIXRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pfSxkaXNjb25uZWN0XzpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2ErPTIpdGhpcy5vYnNlcnZlZF9bYV09PT1vYnNlcnZlclNlbnRpbmVsJiZ0aGlzLm9ic2VydmVkX1thKzFdLmNsb3NlKCk7dGhpcy5vYnNlcnZlZF8ubGVuZ3RoPTAsdGhpcy52YWx1ZV8ubGVuZ3RoPTAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxhZGRQYXRoOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIHBhdGhzIG9uY2Ugc3RhcnRlZC4iKTt2YXIgYj1nZXRQYXRoKGIpO2lmKHRoaXMub2JzZXJ2ZWRfLnB1c2goYSxiKSx0aGlzLnJlcG9ydENoYW5nZXNPbk9wZW5fKXt2YXIgYz10aGlzLm9ic2VydmVkXy5sZW5ndGgvMi0xO3RoaXMudmFsdWVfW2NdPWIuZ2V0VmFsdWVGcm9tKGEpfX0sYWRkT2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYodGhpcy5zdGF0ZV8hPVVOT1BFTkVEJiZ0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW5ub3QgYWRkIG9ic2VydmVycyBvbmNlIHN0YXJ0ZWQuIik7aWYodGhpcy5vYnNlcnZlZF8ucHVzaChvYnNlcnZlclNlbnRpbmVsLGEpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pe3ZhciBiPXRoaXMub2JzZXJ2ZWRfLmxlbmd0aC8yLTE7dGhpcy52YWx1ZV9bYl09YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKX19LHN0YXJ0UmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9T1BFTkVEKXRocm93IEVycm9yKCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuIik7dGhpcy5zdGF0ZV89UkVTRVRUSU5HLHRoaXMuZGlzY29ubmVjdF8oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9UkVTRVRUSU5HKXRocm93IEVycm9yKCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0Iik7cmV0dXJuIHRoaXMuc3RhdGVfPU9QRU5FRCx0aGlzLmNvbm5lY3RfKCksdGhpcy52YWx1ZV99LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpYj10aGlzLm9ic2VydmVkX1tjXSxiIT09b2JzZXJ2ZXJTZW50aW5lbCYmdGhpcy5vYnNlcnZlZF9bYysxXS5pdGVyYXRlT2JqZWN0cyhiLGEpfSxjaGVja186ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wO2Q8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2QrPTIpe3ZhciBlLGY9dGhpcy5vYnNlcnZlZF9bZF0sZz10aGlzLm9ic2VydmVkX1tkKzFdO2lmKGY9PT1vYnNlcnZlclNlbnRpbmVsKXt2YXIgaD1nO2U9dGhpcy5zdGF0ZV89PT1VTk9QRU5FRD9oLm9wZW4odGhpcy5kZWxpdmVyLHRoaXMpOmguZGlzY2FyZENoYW5nZXMoKX1lbHNlIGU9Zy5nZXRWYWx1ZUZyb20oZik7Yj90aGlzLnZhbHVlX1tkLzJdPWU6YXJlU2FtZVZhbHVlKGUsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09ZSl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxPYnNlcnZlclRyYW5zZm9ybS5wcm90b3R5cGU9e29wZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jYWxsYmFja189YSx0aGlzLnRhcmdldF89Yix0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8ub3Blbih0aGlzLm9ic2VydmVkQ2FsbGJhY2tfLHRoaXMpKSx0aGlzLnZhbHVlX30sb2JzZXJ2ZWRDYWxsYmFja186ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmdldFZhbHVlRm5fKGEpLCFhcmVTYW1lVmFsdWUoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIGV4cGVjdGVkUmVjb3JkVHlwZXM9e2FkZDohMCx1cGRhdGU6ITAsImRlbGV0ZSI6ITB9LHVwZGF0ZVJlY29yZD17b2JqZWN0OnZvaWQgMCx0eXBlOiJ1cGRhdGUiLG5hbWU6dm9pZCAwLG9sZFZhbHVlOnZvaWQgMH07T2JzZXJ2ZXIuY3JlYXRlQmluZGFibGVQcm90b3R5cGVBY2Nlc3Nvcj1mdW5jdGlvbihhLGIpe3ZhciBjPWIrIl8iLGQ9YisiT2JzZXJ2YWJsZV8iO2FbY109YVtiXSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzW2RdO3JldHVybiBhJiZhLmRlbGl2ZXIoKSx0aGlzW2NdfSxzZXQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpc1tkXTtpZihlKXJldHVybiB2b2lkIGUuc2V0VmFsdWUoYSk7dmFyIGY9dGhpc1tjXTtyZXR1cm4gdGhpc1tjXT1hLG5vdGlmeSh0aGlzLGIsYSxmKSxhfSxjb25maWd1cmFibGU6ITB9KX0sT2JzZXJ2ZXIuYmluZFRvSW5zdGFuY2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YisiXyIsZj1iKyJPYnNlcnZhYmxlXyI7YVtmXT1jO3ZhciBnPWFbZV0saD1jLm9wZW4oZnVuY3Rpb24oYyxkKXthW2VdPWMsbm90aWZ5KGEsYixjLGQpfSk7aWYoZCYmIWFyZVNhbWVWYWx1ZShnLGgpKXt2YXIgaT1kKGcsaCk7YXJlU2FtZVZhbHVlKGgsaSl8fChoPWksYy5zZXRWYWx1ZSYmYy5zZXRWYWx1ZShoKSl9cmV0dXJuIGFbZV09aCxub3RpZnkoYSxiLGgsZykse2Nsb3NlOmZ1bmN0aW9uKCl7Yy5jbG9zZSgpLGFbZl09dm9pZCAwfX19O3ZhciBFRElUX0xFQVZFPTAsRURJVF9VUERBVEU9MSxFRElUX0FERD0yLEVESVRfREVMRVRFPTM7QXJyYXlTcGxpY2UucHJvdG90eXBlPXtjYWxjRWRpdERpc3RhbmNlczpmdW5jdGlvbihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWYtZSsxLGg9Yy1iKzEsaT1uZXcgQXJyYXkoZyksaj0wO2c+ajtqKyspaVtqXT1uZXcgQXJyYXkoaCksaVtqXVswXT1qO2Zvcih2YXIgaz0wO2g+aztrKyspaVswXVtrXT1rO2Zvcih2YXIgaj0xO2c+ajtqKyspZm9yKHZhciBrPTE7aD5rO2srKylpZih0aGlzLmVxdWFscyhhW2Iray0xXSxkW2Urai0xXSkpaVtqXVtrXT1pW2otMV1bay0xXTtlbHNle3ZhciBsPWlbai0xXVtrXSsxLG09aVtqXVtrLTFdKzE7aVtqXVtrXT1tPmw/bDptfXJldHVybiBpfSxzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEubGVuZ3RoLTEsYz1hWzBdLmxlbmd0aC0xLGQ9YVtiXVtjXSxlPVtdO2I+MHx8Yz4wOylpZigwIT1iKWlmKDAhPWMpe3ZhciBmLGc9YVtiLTFdW2MtMV0saD1hW2ItMV1bY10saT1hW2JdW2MtMV07Zj1pPmg/Zz5oP2g6ZzpnPmk/aTpnLGY9PWc/KGc9PWQ/ZS5wdXNoKEVESVRfTEVBVkUpOihlLnB1c2goRURJVF9VUERBVEUpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKEVESVRfREVMRVRFKSxiLS0sZD1oKTooZS5wdXNoKEVESVRfQUREKSxjLS0sZD1pKX1lbHNlIGUucHVzaChFRElUX0RFTEVURSksYi0tO2Vsc2UgZS5wdXNoKEVESVRfQUREKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9LGNhbGNTcGxpY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXRoaXMuc2hhcmVkUHJlZml4KGEsZCxpKSksYz09YS5sZW5ndGgmJmY9PWQubGVuZ3RoJiYoaD10aGlzLnNoYXJlZFN1ZmZpeChhLGQsaS1nKSksYis9ZyxlKz1nLGMtPWgsZi09aCxjLWI9PTAmJmYtZT09MClyZXR1cm5bXTtpZihiPT1jKXtmb3IodmFyIGo9bmV3U3BsaWNlKGIsW10sMCk7Zj5lOylqLnJlbW92ZWQucHVzaChkW2UrK10pO3JldHVybltqXX1pZihlPT1mKXJldHVybltuZXdTcGxpY2UoYixbXSxjLWIpXTtmb3IodmFyIGs9dGhpcy5zcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXModGhpcy5jYWxjRWRpdERpc3RhbmNlcyhhLGIsYyxkLGUsZikpLGo9dm9pZCAwLGw9W10sbT1iLG49ZSxvPTA7bzxrLmxlbmd0aDtvKyspc3dpdGNoKGtbb10pe2Nhc2UgRURJVF9MRUFWRTpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgRURJVF9VUERBVEU6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGouYWRkZWRDb3VudCsrLG0rKyxqLnJlbW92ZWQucHVzaChkW25dKSxuKys7YnJlYWs7Y2FzZSBFRElUX0FERDpqfHwoaj1uZXdTcGxpY2UobSxbXSwwKSksai5hZGRlZENvdW50KyssbSsrO2JyZWFrO2Nhc2UgRURJVF9ERUxFVEU6anx8KGo9bmV3U3BsaWNlKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9LHNoYXJlZFByZWZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZighdGhpcy5lcXVhbHMoYVtkXSxiW2RdKSlyZXR1cm4gZDtyZXR1cm4gY30sc2hhcmVkU3VmZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZ0aGlzLmVxdWFscyhhWy0tZF0sYlstLWVdKTspZisrO3JldHVybiBmfSxjYWxjdWxhdGVTcGxpY2VzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsY1NwbGljZXMoYSwwLGEubGVuZ3RoLGIsMCxiLmxlbmd0aCl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn19O3ZhciBhcnJheVNwbGljZT1uZXcgQXJyYXlTcGxpY2U7Z2xvYmFsLk9ic2VydmVyPU9ic2VydmVyLGdsb2JhbC5PYnNlcnZlci5ydW5FT01fPXJ1bkVPTSxnbG9iYWwuT2JzZXJ2ZXIub2JzZXJ2ZXJTZW50aW5lbF89b2JzZXJ2ZXJTZW50aW5lbCxnbG9iYWwuT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZT1oYXNPYnNlcnZlLGdsb2JhbC5BcnJheU9ic2VydmVyPUFycmF5T2JzZXJ2ZXIsZ2xvYmFsLkFycmF5T2JzZXJ2ZXIuY2FsY3VsYXRlU3BsaWNlcz1mdW5jdGlvbihhLGIpe3JldHVybiBhcnJheVNwbGljZS5jYWxjdWxhdGVTcGxpY2VzKGEsYil9LGdsb2JhbC5BcnJheVNwbGljZT1BcnJheVNwbGljZSxnbG9iYWwuT2JqZWN0T2JzZXJ2ZXI9T2JqZWN0T2JzZXJ2ZXIsZ2xvYmFsLlBhdGhPYnNlcnZlcj1QYXRoT2JzZXJ2ZXIsZ2xvYmFsLkNvbXBvdW5kT2JzZXJ2ZXI9Q29tcG91bmRPYnNlcnZlcixnbG9iYWwuUGF0aD1QYXRoLGdsb2JhbC5PYnNlcnZlclRyYW5zZm9ybT1PYnNlcnZlclRyYW5zZm9ybX0oInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJmdsb2JhbCYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSxQbGF0Zm9ybS5mbGFncy5zaGFkb3c/KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD17fSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY2hyb21lJiZjaHJvbWUuYXBwJiZjaHJvbWUuYXBwLnJ1bnRpbWUpcmV0dXJuITE7dHJ5e3ZhciBhPW5ldyBGdW5jdGlvbigicmV0dXJuIHRydWU7Iik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gYyhhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPUwoYiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO0soYSxlLE0oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1MKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtzd2l0Y2goZSl7Y2FzZSJhcmd1bWVudHMiOmNhc2UiY2FsbGVyIjpjYXNlImxlbmd0aCI6Y2FzZSJuYW1lIjpjYXNlInByb3RvdHlwZSI6Y2FzZSJ0b1N0cmluZyI6Y29udGludWV9SyhhLGUsTShiLGUpKX1yZXR1cm4gYX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZyhhLGIsYyl7Ti52YWx1ZT1jLEsoYSxiLE4pfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPUcuZ2V0KGIpO2lmKGMpcmV0dXJuIGM7dmFyIGQ9aChiKSxlPXYoZCk7cmV0dXJuIHMoYixlLGEpLGV9ZnVuY3Rpb24gaShhLGIpe3EoYSxiLCEwKX1mdW5jdGlvbiBqKGEsYil7cShiLGEsITEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuL15vblthLXpdKyQvLnRlc3QoYSl9ZnVuY3Rpb24gbChhKXtyZXR1cm4vXlx3W2EtekEtWl8wLTldKiQvLnRlc3QoYSl9ZnVuY3Rpb24gbShhKXtyZXR1cm4gSiYmbChhKT9uZXcgRnVuY3Rpb24oInJldHVybiB0aGlzLmltcGwuIithKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV19fWZ1bmN0aW9uIG4oYSl7cmV0dXJuIEomJmwoYSk/bmV3IEZ1bmN0aW9uKCJ2IiwidGhpcy5pbXBsLiIrYSsiID0gdiIpOmZ1bmN0aW9uKGIpe3RoaXMuaW1wbFthXT1ifX1mdW5jdGlvbiBvKGEpe3JldHVybiBKJiZsKGEpP25ldyBGdW5jdGlvbigicmV0dXJuIHRoaXMuaW1wbC4iK2ErIi5hcHBseSh0aGlzLmltcGwsIGFyZ3VtZW50cykiKTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGxbYV0uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHAoYSxiKXt0cnl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKX1jYXRjaChjKXtyZXR1cm4gUH19ZnVuY3Rpb24gcShiLGMsZCl7Zm9yKHZhciBlPUwoYiksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdO2lmKCJwb2x5bWVyQmxhY2tMaXN0XyIhPT1nJiYhKGcgaW4gY3x8Yi5wb2x5bWVyQmxhY2tMaXN0XyYmYi5wb2x5bWVyQmxhY2tMaXN0X1tnXSkpe08mJmIuX19sb29rdXBHZXR0ZXJfXyhnKTt2YXIgaCxpLGo9cChiLGcpO2lmKGQmJiJmdW5jdGlvbiI9PXR5cGVvZiBqLnZhbHVlKWNbZ109byhnKTtlbHNle3ZhciBsPWsoZyk7aD1sP2EuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyKGcpOm0oZyksKGoud3JpdGFibGV8fGouc2V0KSYmKGk9bD9hLmdldEV2ZW50SGFuZGxlclNldHRlcihnKTpuKGcpKSxLKGMsZyx7Z2V0Omgsc2V0OmksY29uZmlndXJhYmxlOmouY29uZmlndXJhYmxlLGVudW1lcmFibGU6ai5lbnVtZXJhYmxlfSl9fX19ZnVuY3Rpb24gcihhLGIsYyl7dmFyIGQ9YS5wcm90b3R5cGU7cyhkLGIsYyksZShiLGEpfWZ1bmN0aW9uIHMoYSxiLGQpe3ZhciBlPWIucHJvdG90eXBlO2Modm9pZCAwPT09Ry5nZXQoYSkpLEcuc2V0KGEsYiksSC5zZXQoZSxhKSxpKGEsZSksZCYmaihlLGQpLGcoZSwiY29uc3RydWN0b3IiLGIpLGIucHJvdG90eXBlPWV9ZnVuY3Rpb24gdChhLGIpe3JldHVybiBHLmdldChiLnByb3RvdHlwZSk9PT1hfWZ1bmN0aW9uIHUoYSl7dmFyIGI9T2JqZWN0LmdldFByb3RvdHlwZU9mKGEpLGM9aChiKSxkPXYoYyk7cmV0dXJuIHMoYixkLGEpLGR9ZnVuY3Rpb24gdihhKXtmdW5jdGlvbiBiKGIpe2EuY2FsbCh0aGlzLGIpfXZhciBjPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGUpO3JldHVybiBjLmNvbnN0cnVjdG9yPWIsYi5wcm90b3R5cGU9YyxifWZ1bmN0aW9uIHcoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBJLkV2ZW50VGFyZ2V0fHxhIGluc3RhbmNlb2YgSS5FdmVudHx8YSBpbnN0YW5jZW9mIEkuUmFuZ2V8fGEgaW5zdGFuY2VvZiBJLkRPTUltcGxlbWVudGF0aW9ufHxhIGluc3RhbmNlb2YgSS5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8fEkuV2ViR0xSZW5kZXJpbmdDb250ZXh0JiZhIGluc3RhbmNlb2YgSS5XZWJHTFJlbmRlcmluZ0NvbnRleHR9ZnVuY3Rpb24geChhKXtyZXR1cm4gUiYmYSBpbnN0YW5jZW9mIFJ8fGEgaW5zdGFuY2VvZiBUfHxhIGluc3RhbmNlb2YgU3x8YSBpbnN0YW5jZW9mIFV8fGEgaW5zdGFuY2VvZiBWfHxhIGluc3RhbmNlb2YgUXx8YSBpbnN0YW5jZW9mIFd8fFgmJmEgaW5zdGFuY2VvZiBYfHxZJiZhIGluc3RhbmNlb2YgWX1mdW5jdGlvbiB5KGEpe3JldHVybiBudWxsPT09YT9udWxsOihjKHgoYSkpLGEucG9seW1lcldyYXBwZXJffHwoYS5wb2x5bWVyV3JhcHBlcl89bmV3KGgoYSkpKGEpKSl9ZnVuY3Rpb24geihhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYyh3KGEpKSxhLmltcGwpfWZ1bmN0aW9uIEEoYSl7cmV0dXJuIGEmJncoYSk/eihhKTphfWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGEmJiF3KGEpP3koYSk6YX1mdW5jdGlvbiBDKGEsYil7bnVsbCE9PWImJihjKHgoYSkpLGModm9pZCAwPT09Ynx8dyhiKSksYS5wb2x5bWVyV3JhcHBlcl89Yil9ZnVuY3Rpb24gRChhLGIsYyl7Wi5nZXQ9YyxLKGEucHJvdG90eXBlLGIsWil9ZnVuY3Rpb24gRShhLGIpe0QoYSxiLGZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcy5pbXBsW2JdKX0pfWZ1bmN0aW9uIEYoYSxiKXthLmZvckVhY2goZnVuY3Rpb24oYSl7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7dmFyIGE9Qih0aGlzKTtyZXR1cm4gYVtiXS5hcHBseShhLGFyZ3VtZW50cyl9fSl9KX12YXIgRz1uZXcgV2Vha01hcCxIPW5ldyBXZWFrTWFwLEk9T2JqZWN0LmNyZWF0ZShudWxsKSxKPWIoKSxLPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxMPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLE09T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixOPXt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O0wod2luZG93KTt2YXIgTz0vRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxQPXtnZXQ6ZnVuY3Rpb24oKXt9LHNldDpmdW5jdGlvbigpe30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9LFE9d2luZG93LkRPTUltcGxlbWVudGF0aW9uLFI9d2luZG93LkV2ZW50VGFyZ2V0LFM9d2luZG93LkV2ZW50LFQ9d2luZG93Lk5vZGUsVT13aW5kb3cuV2luZG93LFY9d2luZG93LlJhbmdlLFc9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxYPXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQsWT13aW5kb3cuU1ZHRWxlbWVudEluc3RhbmNlLFo9e2dldDp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9O2EuYXNzZXJ0PWMsYS5jb25zdHJ1Y3RvclRhYmxlPUcsYS5kZWZpbmVHZXR0ZXI9RCxhLmRlZmluZVdyYXBHZXR0ZXI9RSxhLmZvcndhcmRNZXRob2RzVG9XcmFwcGVyPUYsYS5pc1dyYXBwZXI9dyxhLmlzV3JhcHBlckZvcj10LGEubWl4aW49ZCxhLm5hdGl2ZVByb3RvdHlwZVRhYmxlPUgsYS5vbmVPZj1mLGEucmVnaXN0ZXJPYmplY3Q9dSxhLnJlZ2lzdGVyV3JhcHBlcj1yLGEucmV3cmFwPUMsYS51bndyYXA9eixhLnVud3JhcElmTmVlZGVkPUEsYS53cmFwPXksYS53cmFwSWZOZWVkZWQ9QixhLndyYXBwZXJzPUl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtnPSExO3ZhciBhPWYuc2xpY2UoMCk7Zj1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl9ZnVuY3Rpb24gYyhhKXtmLnB1c2goYSksZ3x8KGc9ITAsZChiLDApKX12YXIgZCxlPXdpbmRvdy5NdXRhdGlvbk9ic2VydmVyLGY9W10sZz0hMTtpZihlKXt2YXIgaD0xLGk9bmV3IGUoYiksaj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShoKTtpLm9ic2VydmUoaix7Y2hhcmFjdGVyRGF0YTohMH0pLGQ9ZnVuY3Rpb24oKXtoPShoKzEpJTIsai5kYXRhPWh9fWVsc2UgZD13aW5kb3cuc2V0SW1tZWRpYXRlfHx3aW5kb3cuc2V0VGltZW91dDthLnNldEVuZE9mTWljcm90YXNrPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoKXtwfHwoayhjKSxwPSEwKX1mdW5jdGlvbiBjKCl7cD0hMTtkbyBmb3IodmFyIGE9by5zbGljZSgpLGI9ITEsYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLGU9ZC50YWtlUmVjb3JkcygpO2YoZCksZS5sZW5ndGgmJihkLmNhbGxiYWNrXyhlLGQpLGI9ITApfXdoaWxlKGIpfWZ1bmN0aW9uIGQoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnJlbW92ZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBlKGEsYil7Zm9yKDthO2E9YS5wYXJlbnROb2RlKXt2YXIgYz1uLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2Uub3B0aW9ucy5zdWJ0cmVlJiZlLmFkZFRyYW5zaWVudE9ic2VydmVyKGIpfX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPGEubm9kZXNfLmxlbmd0aDtiKyspe3ZhciBjPWEubm9kZXNfW2JdLGQ9bi5nZXQoYyk7aWYoIWQpcmV0dXJuO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2Yub2JzZXJ2ZXI9PT1hJiZmLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfX19ZnVuY3Rpb24gZyhhLGMsZSl7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCksZz1PYmplY3QuY3JlYXRlKG51bGwpLGg9YTtoO2g9aC5wYXJlbnROb2RlKXt2YXIgaT1uLmdldChoKTtpZihpKWZvcih2YXIgaj0wO2o8aS5sZW5ndGg7aisrKXt2YXIgaz1pW2pdLGw9ay5vcHRpb25zO2lmKChoPT09YXx8bC5zdWJ0cmVlKSYmISgiYXR0cmlidXRlcyI9PT1jJiYhbC5hdHRyaWJ1dGVzfHwiYXR0cmlidXRlcyI9PT1jJiZsLmF0dHJpYnV0ZUZpbHRlciYmKG51bGwhPT1lLm5hbWVzcGFjZXx8LTE9PT1sLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGUubmFtZSkpfHwiY2hhcmFjdGVyRGF0YSI9PT1jJiYhbC5jaGFyYWN0ZXJEYXRhfHwiY2hpbGRMaXN0Ij09PWMmJiFsLmNoaWxkTGlzdCkpe3ZhciBtPWsub2JzZXJ2ZXI7ZlttLnVpZF9dPW0sKCJhdHRyaWJ1dGVzIj09PWMmJmwuYXR0cmlidXRlT2xkVmFsdWV8fCJjaGFyYWN0ZXJEYXRhIj09PWMmJmwuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKSYmKGdbbS51aWRfXT1lLm9sZFZhbHVlKX19fXZhciBvPSExO2Zvcih2YXIgcCBpbiBmKXt2YXIgbT1mW3BdLHE9bmV3IGQoYyxhKTsibmFtZSJpbiBlJiYibmFtZXNwYWNlImluIGUmJihxLmF0dHJpYnV0ZU5hbWU9ZS5uYW1lLHEuYXR0cmlidXRlTmFtZXNwYWNlPWUubmFtZXNwYWNlKSxlLmFkZGVkTm9kZXMmJihxLmFkZGVkTm9kZXM9ZS5hZGRlZE5vZGVzKSxlLnJlbW92ZWROb2RlcyYmKHEucmVtb3ZlZE5vZGVzPWUucmVtb3ZlZE5vZGVzKSxlLnByZXZpb3VzU2libGluZyYmKHEucHJldmlvdXNTaWJsaW5nPWUucHJldmlvdXNTaWJsaW5nKSxlLm5leHRTaWJsaW5nJiYocS5uZXh0U2libGluZz1lLm5leHRTaWJsaW5nKSx2b2lkIDAhPT1nW3BdJiYocS5vbGRWYWx1ZT1nW3BdKSxtLnJlY29yZHNfLnB1c2gocSksbz0hMH1vJiZiKCl9ZnVuY3Rpb24gaChhKXtpZih0aGlzLmNoaWxkTGlzdD0hIWEuY2hpbGRMaXN0LHRoaXMuc3VidHJlZT0hIWEuc3VidHJlZSx0aGlzLmF0dHJpYnV0ZXM9ImF0dHJpYnV0ZXMiaW4gYXx8ISgiYXR0cmlidXRlT2xkVmFsdWUiaW4gYXx8ImF0dHJpYnV0ZUZpbHRlciJpbiBhKT8hIWEuYXR0cmlidXRlczohMCx0aGlzLmNoYXJhY3RlckRhdGE9ImNoYXJhY3RlckRhdGFPbGRWYWx1ZSJpbiBhJiYhKCJjaGFyYWN0ZXJEYXRhImluIGEpPyEwOiEhYS5jaGFyYWN0ZXJEYXRhLCF0aGlzLmF0dHJpYnV0ZXMmJihhLmF0dHJpYnV0ZU9sZFZhbHVlfHwiYXR0cmlidXRlRmlsdGVyImluIGEpfHwhdGhpcy5jaGFyYWN0ZXJEYXRhJiZhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSl0aHJvdyBuZXcgVHlwZUVycm9yO2lmKHRoaXMuY2hhcmFjdGVyRGF0YT0hIWEuY2hhcmFjdGVyRGF0YSx0aGlzLmF0dHJpYnV0ZU9sZFZhbHVlPSEhYS5hdHRyaWJ1dGVPbGRWYWx1ZSx0aGlzLmNoYXJhY3RlckRhdGFPbGRWYWx1ZT0hIWEuY2hhcmFjdGVyRGF0YU9sZFZhbHVlLCJhdHRyaWJ1dGVGaWx0ZXIiaW4gYSl7aWYobnVsbD09YS5hdHRyaWJ1dGVGaWx0ZXJ8fCJvYmplY3QiIT10eXBlb2YgYS5hdHRyaWJ1dGVGaWx0ZXIpdGhyb3cgbmV3IFR5cGVFcnJvcjt0aGlzLmF0dHJpYnV0ZUZpbHRlcj1xLmNhbGwoYS5hdHRyaWJ1dGVGaWx0ZXIpfWVsc2UgdGhpcy5hdHRyaWJ1dGVGaWx0ZXI9bnVsbH1mdW5jdGlvbiBpKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89KytyLG8ucHVzaCh0aGlzKX1mdW5jdGlvbiBqKGEsYixjKXt0aGlzLm9ic2VydmVyPWEsdGhpcy50YXJnZXQ9Yix0aGlzLm9wdGlvbnM9Yyx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W119dmFyIGs9YS5zZXRFbmRPZk1pY3JvdGFzayxsPWEud3JhcElmTmVlZGVkLG09YS53cmFwcGVycyxuPW5ldyBXZWFrTWFwLG89W10scD0hMSxxPUFycmF5LnByb3RvdHlwZS5zbGljZSxyPTA7aS5wcm90b3R5cGU9e29ic2VydmU6ZnVuY3Rpb24oYSxiKXthPWwoYSk7dmFyIGMsZD1uZXcgaChiKSxlPW4uZ2V0KGEpO2V8fG4uc2V0KGEsZT1bXSk7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspZVtmXS5vYnNlcnZlcj09PXRoaXMmJihjPWVbZl0sYy5yZW1vdmVUcmFuc2llbnRPYnNlcnZlcnMoKSxjLm9wdGlvbnM9ZCk7Y3x8KGM9bmV3IGoodGhpcyxhLGQpLGUucHVzaChjKSx0aGlzLm5vZGVzXy5wdXNoKGEpKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW4uZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7Yi5zcGxpY2UoYywxKTticmVha319fSx0aGlzKSx0aGlzLnJlY29yZHNfPVtdfSx0YWtlUmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVjb3Jkc187cmV0dXJuIHRoaXMucmVjb3Jkc189W10sYX19LGoucHJvdG90eXBlPXthZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBiPW4uZ2V0KGEpO2J8fG4uc2V0KGEsYj1bXSksYi5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylmb3IodmFyIGM9YVtiXSxkPW4uZ2V0KGMpLGU9MDtlPGQubGVuZ3RoO2UrKylpZihkW2VdPT09dGhpcyl7ZC5zcGxpY2UoZSwxKTticmVha319fSxhLmVucXVldWVNdXRhdGlvbj1nLGEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnM9ZSxhLndyYXBwZXJzLk11dGF0aW9uT2JzZXJ2ZXI9aSxhLndyYXBwZXJzLk11dGF0aW9uUmVjb3JkPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSxiKXt0aGlzLnJvb3Q9YSx0aGlzLnBhcmVudD1ifWZ1bmN0aW9uIGMoYSxiKXtpZihhLnRyZWVTY29wZV8hPT1iKXthLnRyZWVTY29wZV89Yjtmb3IodmFyIGQ9YS5zaGFkb3dSb290O2Q7ZD1kLm9sZGVyU2hhZG93Um9vdClkLnRyZWVTY29wZV8ucGFyZW50PWI7Zm9yKHZhciBlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljKGUsYil9fWZ1bmN0aW9uIGQoYyl7aWYoYyBpbnN0YW5jZW9mIGEud3JhcHBlcnMuV2luZG93LGMudHJlZVNjb3BlXylyZXR1cm4gYy50cmVlU2NvcGVfO3ZhciBlLGY9Yy5wYXJlbnROb2RlO3JldHVybiBlPWY/ZChmKTpuZXcgYihjLG51bGwpLGMudHJlZVNjb3BlXz1lfWIucHJvdG90eXBlPXtnZXQgcmVuZGVyZXIoKXtyZXR1cm4gdGhpcy5yb290IGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290P2EuZ2V0UmVuZGVyZXJGb3JIb3N0KHRoaXMucm9vdC5ob3N0KTpudWxsfSxjb250YWluczpmdW5jdGlvbihhKXtmb3IoO2E7YT1hLnBhcmVudClpZihhPT09dGhpcylyZXR1cm4hMDtyZXR1cm4hMX19LGEuVHJlZVNjb3BlPWIsYS5nZXRUcmVlU2NvcGU9ZCxhLnNldFRyZWVTY29wZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhIGluc3RhbmNlb2YgUS5TaGFkb3dSb290fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIEwoYSkucm9vdH1mdW5jdGlvbiBkKGEsZCl7dmFyIGg9W10saT1hO2ZvcihoLnB1c2goaSk7aTspe3ZhciBqPWcoaSk7aWYoaiYmai5sZW5ndGg+MCl7Zm9yKHZhciBrPTA7azxqLmxlbmd0aDtrKyspe3ZhciBtPWpba107aWYoZihtKSl7dmFyIG49YyhtKSxvPW4ub2xkZXJTaGFkb3dSb290O28mJmgucHVzaChvKX1oLnB1c2gobSl9aT1qW2oubGVuZ3RoLTFdfWVsc2UgaWYoYihpKSl7aWYobChhLGkpJiZlKGQpKWJyZWFrO2k9aS5ob3N0LGgucHVzaChpKX1lbHNlIGk9aS5wYXJlbnROb2RlLGkmJmgucHVzaChpKX1yZXR1cm4gaH1mdW5jdGlvbiBlKGEpe2lmKCFhKXJldHVybiExO3N3aXRjaChhLnR5cGUpe2Nhc2UiYWJvcnQiOmNhc2UiZXJyb3IiOmNhc2Uic2VsZWN0IjpjYXNlImNoYW5nZSI6Y2FzZSJsb2FkIjpjYXNlInJlc2V0IjpjYXNlInJlc2l6ZSI6Y2FzZSJzY3JvbGwiOmNhc2Uic2VsZWN0c3RhcnQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBIVE1MU2hhZG93RWxlbWVudH1mdW5jdGlvbiBnKGIpe3JldHVybiBhLmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzKGIpfWZ1bmN0aW9uIGgoYSxiKXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIGI7YiBpbnN0YW5jZW9mIFEuV2luZG93JiYoYj1iLmRvY3VtZW50KTtmb3IodmFyIGM9TChiKSxkPWFbMF0sZT1MKGQpLGY9aihjLGUpLGc9MDtnPGEubGVuZ3RoO2crKyl7dmFyIGg9YVtnXTsKaWYoTChoKT09PWYpcmV0dXJuIGh9cmV0dXJuIGFbYS5sZW5ndGgtMV19ZnVuY3Rpb24gaShhKXtmb3IodmFyIGI9W107YTthPWEucGFyZW50KWIucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBqKGEsYil7Zm9yKHZhciBjPWkoYSksZD1pKGIpLGU9bnVsbDtjLmxlbmd0aD4wJiZkLmxlbmd0aD4wOyl7dmFyIGY9Yy5wb3AoKSxnPWQucG9wKCk7aWYoZiE9PWcpYnJlYWs7ZT1mfXJldHVybiBlfWZ1bmN0aW9uIGsoYSxiLGMpe2IgaW5zdGFuY2VvZiBRLldpbmRvdyYmKGI9Yi5kb2N1bWVudCk7dmFyIGUsZj1MKGIpLGc9TChjKSxoPWQoYyxhKSxlPWooZixnKTtlfHwoZT1nLnJvb3QpO2Zvcih2YXIgaT1lO2k7aT1pLnBhcmVudClmb3IodmFyIGs9MDtrPGgubGVuZ3RoO2srKyl7dmFyIGw9aFtrXTtpZihMKGwpPT09aSlyZXR1cm4gbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGEsYil7cmV0dXJuIEwoYSk9PT1MKGIpfWZ1bmN0aW9uIG0oYSl7aWYoIVMuZ2V0KGEpJiYoUy5zZXQoYSwhMCksbihQKGEpLFAoYS50YXJnZXQpKSxKKSl7dmFyIGI9Sjt0aHJvdyBKPW51bGwsYn19ZnVuY3Rpb24gbihiLGMpe2lmKFQuZ2V0KGIpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZFN0YXRlRXJyb3IiKTtULnNldChiLCEwKSxhLnJlbmRlckFsbFBlbmRpbmcoKTt2YXIgZSxmLGcsaD1iLnR5cGU7aWYoImxvYWQiPT09aCYmIWIuYnViYmxlcyl7dmFyIGk9YztpIGluc3RhbmNlb2YgUS5Eb2N1bWVudCYmKGc9aS5kZWZhdWx0VmlldykmJihmPWksZT1bXSl9aWYoIWUpaWYoYyBpbnN0YW5jZW9mIFEuV2luZG93KWc9YyxlPVtdO2Vsc2UgaWYoZT1kKGMsYiksImxvYWQiIT09Yi50eXBlKXt2YXIgaT1lW2UubGVuZ3RoLTFdO2kgaW5zdGFuY2VvZiBRLkRvY3VtZW50JiYoZz1pLmRlZmF1bHRWaWV3KX1yZXR1cm4gXy5zZXQoYixlKSxvKGIsZSxnLGYpJiZwKGIsZSxnLGYpJiZxKGIsZSxnLGYpLFguc2V0KGIsYWIpLFYuZGVsZXRlKGIsbnVsbCksVC5kZWxldGUoYiksYi5kZWZhdWx0UHJldmVudGVkfWZ1bmN0aW9uIG8oYSxiLGMsZCl7dmFyIGU9YmI7aWYoYyYmIXIoYyxhLGUsYixkKSlyZXR1cm4hMTtmb3IodmFyIGY9Yi5sZW5ndGgtMTtmPjA7Zi0tKWlmKCFyKGJbZl0sYSxlLGIsZCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gcChhLGIsYyxkKXt2YXIgZT1jYixmPWJbMF18fGM7cmV0dXJuIHIoZixhLGUsYixkKX1mdW5jdGlvbiBxKGEsYixjLGQpe2Zvcih2YXIgZT1kYixmPTE7ZjxiLmxlbmd0aDtmKyspaWYoIXIoYltmXSxhLGUsYixkKSlyZXR1cm47YyYmYi5sZW5ndGg+MCYmcihjLGEsZSxiLGQpfWZ1bmN0aW9uIHIoYSxiLGMsZCxlKXt2YXIgZj1SLmdldChhKTtpZighZilyZXR1cm4hMDt2YXIgZz1lfHxoKGQsYSk7aWYoZz09PWEpe2lmKGM9PT1iYilyZXR1cm4hMDtjPT09ZGImJihjPWNiKX1lbHNlIGlmKGM9PT1kYiYmIWIuYnViYmxlcylyZXR1cm4hMDtpZigicmVsYXRlZFRhcmdldCJpbiBiKXt2YXIgaT1PKGIpLGo9aS5yZWxhdGVkVGFyZ2V0O2lmKGope2lmKGogaW5zdGFuY2VvZiBPYmplY3QmJmouYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGw9UChqKSxtPWsoYixhLGwpO2lmKG09PT1nKXJldHVybiEwfWVsc2UgbT1udWxsO1cuc2V0KGIsbSl9fVguc2V0KGIsYyk7dmFyIG49Yi50eXBlLG89ITE7VS5zZXQoYixnKSxWLnNldChiLGEpO2Zvcih2YXIgcD0wLHE9Zi5sZW5ndGg7cT5wO3ArKyl7dmFyIHI9ZltwXTtpZihyLnJlbW92ZWQpbz0hMDtlbHNlIGlmKCEoci50eXBlIT09bnx8IXIuY2FwdHVyZSYmYz09PWJifHxyLmNhcHR1cmUmJmM9PT1kYikpdHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByLmhhbmRsZXI/ci5oYW5kbGVyLmNhbGwoYSxiKTpyLmhhbmRsZXIuaGFuZGxlRXZlbnQoYiksWi5nZXQoYikpcmV0dXJuITF9Y2F0Y2gocyl7Snx8KEo9cyl9fWlmKG8pe3ZhciB0PWYuc2xpY2UoKTtmLmxlbmd0aD0wO2Zvcih2YXIgcD0wO3A8dC5sZW5ndGg7cCsrKXRbcF0ucmVtb3ZlZHx8Zi5wdXNoKHRbcF0pfXJldHVybiFZLmdldChiKX1mdW5jdGlvbiBzKGEsYixjKXt0aGlzLnR5cGU9YSx0aGlzLmhhbmRsZXI9Yix0aGlzLmNhcHR1cmU9Qm9vbGVhbihjKX1mdW5jdGlvbiB0KGEsYil7aWYoIShhIGluc3RhbmNlb2YgZWIpKXJldHVybiBQKHgoZWIsIkV2ZW50IixhLGIpKTt2YXIgYz1hO3JldHVybiBwYnx8ImJlZm9yZXVubG9hZCIhPT1jLnR5cGU/dm9pZCh0aGlzLmltcGw9Yyk6bmV3IHkoYyl9ZnVuY3Rpb24gdShhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6TyhhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24gdihhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCh0aGlzLmltcGw9Yik6UCh4KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTShlLnByb3RvdHlwZSxjKSxkKXRyeXtOKGQsZSxuZXcgZCgidGVtcCIpKX1jYXRjaChmKXtOKGQsZSxkb2N1bWVudC5jcmVhdGVFdmVudChhKSl9cmV0dXJuIGV9ZnVuY3Rpb24gdyhhLGIpe3JldHVybiBmdW5jdGlvbigpe2FyZ3VtZW50c1tiXT1PKGFyZ3VtZW50c1tiXSk7dmFyIGM9Tyh0aGlzKTtjW2FdLmFwcGx5KGMsYXJndW1lbnRzKX19ZnVuY3Rpb24geChhLGIsYyxkKXtpZihuYilyZXR1cm4gbmV3IGEoYyx1KGQpKTt2YXIgZT1PKGRvY3VtZW50LmNyZWF0ZUV2ZW50KGIpKSxmPW1iW2JdLGc9W2NdO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWQmJmEgaW4gZD9kW2FdOmZbYV07InJlbGF0ZWRUYXJnZXQiPT09YSYmKGI9TyhiKSksZy5wdXNoKGIpfSksZVsiaW5pdCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIHkoYSl7dC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24geihhKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYT8hMDphJiZhLmhhbmRsZUV2ZW50fWZ1bmN0aW9uIEEoYSl7c3dpdGNoKGEpe2Nhc2UiRE9NQXR0ck1vZGlmaWVkIjpjYXNlIkRPTUF0dHJpYnV0ZU5hbWVDaGFuZ2VkIjpjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6Y2FzZSJET01FbGVtZW50TmFtZUNoYW5nZWQiOmNhc2UiRE9NTm9kZUluc2VydGVkIjpjYXNlIkRPTU5vZGVJbnNlcnRlZEludG9Eb2N1bWVudCI6Y2FzZSJET01Ob2RlUmVtb3ZlZCI6Y2FzZSJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudCI6Y2FzZSJET01TdWJ0cmVlTW9kaWZpZWQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEIoYSl7dGhpcy5pbXBsPWF9ZnVuY3Rpb24gQyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFEuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxPKGEpfWZ1bmN0aW9uIEQoYSxiKXt2YXIgYz1SLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRShhLGIpe2Zvcih2YXIgYz1PKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRChQKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEYoYSl7SyhhLHJiKX1mdW5jdGlvbiBHKGIsYyxlLGYpe2EucmVuZGVyQWxsUGVuZGluZygpO3ZhciBnPVAoc2IuY2FsbChjLmltcGwsZSxmKSk7aWYoIWcpcmV0dXJuIG51bGw7dmFyIGk9ZChnLG51bGwpLGo9aS5sYXN0SW5kZXhPZihiKTtyZXR1cm4tMT09aj9udWxsOihpPWkuc2xpY2UoMCxqKSxoKGksYikpfWZ1bmN0aW9uIEgoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9JC5nZXQodGhpcyk7cmV0dXJuIGImJmJbYV0mJmJbYV0udmFsdWV8fG51bGx9fWZ1bmN0aW9uIEkoYSl7dmFyIGI9YS5zbGljZSgyKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9JC5nZXQodGhpcyk7ZHx8KGQ9T2JqZWN0LmNyZWF0ZShudWxsKSwkLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksImZ1bmN0aW9uIj09dHlwZW9mIGMpe3ZhciBmPWZ1bmN0aW9uKGIpe3ZhciBkPWMuY2FsbCh0aGlzLGIpO2Q9PT0hMT9iLnByZXZlbnREZWZhdWx0KCk6Im9uYmVmb3JldW5sb2FkIj09PWEmJiJzdHJpbmciPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBKLEs9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixMPWEuZ2V0VHJlZVNjb3BlLE09YS5taXhpbixOPWEucmVnaXN0ZXJXcmFwcGVyLE89YS51bndyYXAsUD1hLndyYXAsUT1hLndyYXBwZXJzLFI9KG5ldyBXZWFrTWFwLG5ldyBXZWFrTWFwKSxTPW5ldyBXZWFrTWFwLFQ9bmV3IFdlYWtNYXAsVT1uZXcgV2Vha01hcCxWPW5ldyBXZWFrTWFwLFc9bmV3IFdlYWtNYXAsWD1uZXcgV2Vha01hcCxZPW5ldyBXZWFrTWFwLFo9bmV3IFdlYWtNYXAsJD1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwLGFiPTAsYmI9MSxjYj0yLGRiPTM7cy5wcm90b3R5cGU9e2VxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYW5kbGVyPT09YS5oYW5kbGVyJiZ0aGlzLnR5cGU9PT1hLnR5cGUmJnRoaXMuY2FwdHVyZT09PWEuY2FwdHVyZX0sZ2V0IHJlbW92ZWQoKXtyZXR1cm4gbnVsbD09PXRoaXMuaGFuZGxlcn0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyPW51bGx9fTt2YXIgZWI9d2luZG93LkV2ZW50O2ViLnByb3RvdHlwZS5wb2x5bWVyQmxhY2tMaXN0Xz17cmV0dXJuVmFsdWU6ITAsa2V5TG9jYXRpb246ITB9LHQucHJvdG90eXBlPXtnZXQgdGFyZ2V0KCl7cmV0dXJuIFUuZ2V0KHRoaXMpfSxnZXQgY3VycmVudFRhcmdldCgpe3JldHVybiBWLmdldCh0aGlzKX0sZ2V0IGV2ZW50UGhhc2UoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBwYXRoKCl7dmFyIGE9Xy5nZXQodGhpcyk7cmV0dXJuIGE/YS5zbGljZSgpOltdfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtZLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7WS5zZXQodGhpcywhMCksWi5zZXQodGhpcywhMCl9fSxOKGViLHQsZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50IikpO3ZhciBmYj12KCJVSUV2ZW50Iix0KSxnYj12KCJDdXN0b21FdmVudCIsdCksaGI9e2dldCByZWxhdGVkVGFyZ2V0KCl7dmFyIGE9Vy5nZXQodGhpcyk7cmV0dXJuIHZvaWQgMCE9PWE/YTpQKE8odGhpcykucmVsYXRlZFRhcmdldCl9fSxpYj1NKHtpbml0TW91c2VFdmVudDp3KCJpbml0TW91c2VFdmVudCIsMTQpfSxoYiksamI9TSh7aW5pdEZvY3VzRXZlbnQ6dygiaW5pdEZvY3VzRXZlbnQiLDUpfSxoYiksa2I9digiTW91c2VFdmVudCIsZmIsaWIpLGxiPXYoIkZvY3VzRXZlbnQiLGZiLGpiKSxtYj1PYmplY3QuY3JlYXRlKG51bGwpLG5iPWZ1bmN0aW9uKCl7dHJ5e25ldyB3aW5kb3cuRm9jdXNFdmVudCgiZm9jdXMiKX1jYXRjaChhKXtyZXR1cm4hMX1yZXR1cm4hMH0oKTtpZighbmIpe3ZhciBvYj1mdW5jdGlvbihhLGIsYyl7aWYoYyl7dmFyIGQ9bWJbY107Yj1NKE0oe30sZCksYil9bWJbYV09Yn07b2IoIkV2ZW50Iix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExfSksb2IoIkN1c3RvbUV2ZW50Iix7ZGV0YWlsOm51bGx9LCJFdmVudCIpLG9iKCJVSUV2ZW50Iix7dmlldzpudWxsLGRldGFpbDowfSwiRXZlbnQiKSxvYigiTW91c2VFdmVudCIse3NjcmVlblg6MCxzY3JlZW5ZOjAsY2xpZW50WDowLGNsaWVudFk6MCxjdHJsS2V5OiExLGFsdEtleTohMSxzaGlmdEtleTohMSxtZXRhS2V5OiExLGJ1dHRvbjowLHJlbGF0ZWRUYXJnZXQ6bnVsbH0sIlVJRXZlbnQiKSxvYigiRm9jdXNFdmVudCIse3JlbGF0ZWRUYXJnZXQ6bnVsbH0sIlVJRXZlbnQiKX12YXIgcGI9d2luZG93LkJlZm9yZVVubG9hZEV2ZW50O3kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLE0oeS5wcm90b3R5cGUse2dldCByZXR1cm5WYWx1ZSgpe3JldHVybiB0aGlzLmltcGwucmV0dXJuVmFsdWV9LHNldCByZXR1cm5WYWx1ZShhKXt0aGlzLmltcGwucmV0dXJuVmFsdWU9YX19KSxwYiYmTihwYix5KTt2YXIgcWI9d2luZG93LkV2ZW50VGFyZ2V0LHJiPVsiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50Il07W05vZGUsV2luZG93XS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEucHJvdG90eXBlO3JiLmZvckVhY2goZnVuY3Rpb24oYSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGIsYSsiXyIse3ZhbHVlOmJbYV19KX0pfSksQi5wcm90b3R5cGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2lmKHooYikmJiFBKGEpKXt2YXIgZD1uZXcgcyhhLGIsYyksZT1SLmdldCh0aGlzKTtpZihlKXtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKylpZihkLmVxdWFscyhlW2ZdKSlyZXR1cm59ZWxzZSBlPVtdLFIuc2V0KHRoaXMsZSk7ZS5wdXNoKGQpO3ZhciBnPUModGhpcyk7Zy5hZGRFdmVudExpc3RlbmVyXyhhLG0sITApfX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIsYyl7Yz1Cb29sZWFuKGMpO3ZhciBkPVIuZ2V0KHRoaXMpO2lmKGQpe2Zvcih2YXIgZT0wLGY9ITEsZz0wO2c8ZC5sZW5ndGg7ZysrKWRbZ10udHlwZT09PWEmJmRbZ10uY2FwdHVyZT09PWMmJihlKyssZFtnXS5oYW5kbGVyPT09YiYmKGY9ITAsZFtnXS5yZW1vdmUoKSkpO2lmKGYmJjE9PT1lKXt2YXIgaD1DKHRoaXMpO2gucmVtb3ZlRXZlbnRMaXN0ZW5lcl8oYSxtLCEwKX19fSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGIpe3ZhciBjPU8oYiksZD1jLnR5cGU7Uy5zZXQoYywhMSksYS5yZW5kZXJBbGxQZW5kaW5nKCk7dmFyIGU7RSh0aGlzLGQpfHwoZT1mdW5jdGlvbigpe30sdGhpcy5hZGRFdmVudExpc3RlbmVyKGQsZSwhMCkpO3RyeXtyZXR1cm4gTyh0aGlzKS5kaXNwYXRjaEV2ZW50XyhjKX1maW5hbGx5e2UmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLGUsITApfX19LHFiJiZOKHFiLEIpO3ZhciBzYj1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50O2EuZWxlbWVudEZyb21Qb2ludD1HLGEuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyPUgsYS5nZXRFdmVudEhhbmRsZXJTZXR0ZXI9SSxhLndyYXBFdmVudFRhcmdldE1ldGhvZHM9RixhLndyYXBwZXJzLkJlZm9yZVVubG9hZEV2ZW50PXksYS53cmFwcGVycy5DdXN0b21FdmVudD1nYixhLndyYXBwZXJzLkV2ZW50PXQsYS53cmFwcGVycy5FdmVudFRhcmdldD1CLGEud3JhcHBlcnMuRm9jdXNFdmVudD1sYixhLndyYXBwZXJzLk1vdXNlRXZlbnQ9a2IsYS53cmFwcGVycy5VSUV2ZW50PWZifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYixvKX1mdW5jdGlvbiBjKGEpe3RoaXMuaW1wbD1hfWZ1bmN0aW9uIGQoKXt0aGlzLmxlbmd0aD0wLGIodGhpcywibGVuZ3RoIil9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9bmV3IGQsZT0wO2U8YS5sZW5ndGg7ZSsrKWJbZV09bmV3IGMoYVtlXSk7cmV0dXJuIGIubGVuZ3RoPWUsYn1mdW5jdGlvbiBmKGEpe2cuY2FsbCh0aGlzLGEpfXZhciBnPWEud3JhcHBlcnMuVUlFdmVudCxoPWEubWl4aW4saT1hLnJlZ2lzdGVyV3JhcHBlcixqPWEudW53cmFwLGs9YS53cmFwLGw9d2luZG93LlRvdWNoRXZlbnQ7aWYobCl7dmFyIG07dHJ5e209ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIlRvdWNoRXZlbnQiKX1jYXRjaChuKXtyZXR1cm59dmFyIG89e2VudW1lcmFibGU6ITF9O2MucHJvdG90eXBlPXtnZXQgdGFyZ2V0KCl7cmV0dXJuIGsodGhpcy5pbXBsLnRhcmdldCl9fTt2YXIgcD17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0Om51bGx9O1siY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBhZ2VYIiwicGFnZVkiLCJpZGVudGlmaWVyIiwid2Via2l0UmFkaXVzWCIsIndlYmtpdFJhZGl1c1kiLCJ3ZWJraXRSb3RhdGlvbkFuZ2xlIiwid2Via2l0Rm9yY2UiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3AuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbFthXX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLGEscCl9KSxkLnByb3RvdHlwZT17aXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1thXX19LGYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZy5wcm90b3R5cGUpLGgoZi5wcm90b3R5cGUse2dldCB0b3VjaGVzKCl7cmV0dXJuIGUoaih0aGlzKS50b3VjaGVzKX0sZ2V0IHRhcmdldFRvdWNoZXMoKXtyZXR1cm4gZShqKHRoaXMpLnRhcmdldFRvdWNoZXMpfSxnZXQgY2hhbmdlZFRvdWNoZXMoKXtyZXR1cm4gZShqKHRoaXMpLmNoYW5nZWRUb3VjaGVzKX0saW5pdFRvdWNoRXZlbnQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCIpfX0pLGkobCxmLG0pLGEud3JhcHBlcnMuVG91Y2g9YyxhLndyYXBwZXJzLlRvdWNoRXZlbnQ9ZixhLndyYXBwZXJzLlRvdWNoTGlzdD1kfX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIsZyl9ZnVuY3Rpb24gYygpe3RoaXMubGVuZ3RoPTAsYih0aGlzLCJsZW5ndGgiKX1mdW5jdGlvbiBkKGEpe2lmKG51bGw9PWEpcmV0dXJuIGE7Zm9yKHZhciBiPW5ldyBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYltkXT1mKGFbZF0pO3JldHVybiBiLmxlbmd0aD1lLGJ9ZnVuY3Rpb24gZShhLGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19dmFyIGY9YS53cmFwLGc9e2VudW1lcmFibGU6ITF9O2MucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sYihjLnByb3RvdHlwZSwiaXRlbSIpLGEud3JhcHBlcnMuTm9kZUxpc3Q9YyxhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZD1lLGEud3JhcE5vZGVMaXN0PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Eud3JhcEhUTUxDb2xsZWN0aW9uPWEud3JhcE5vZGVMaXN0LGEud3JhcHBlcnMuSFRNTENvbGxlY3Rpb249YS53cmFwcGVycy5Ob2RlTGlzdH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtBKGEgaW5zdGFuY2VvZiB3KX1mdW5jdGlvbiBjKGEpe3ZhciBiPW5ldyB5O3JldHVybiBiWzBdPWEsYi5sZW5ndGg9MSxifWZ1bmN0aW9uIGQoYSxiLGMpe0MoYiwiY2hpbGRMaXN0Iix7cmVtb3ZlZE5vZGVzOmMscHJldmlvdXNTaWJsaW5nOmEucHJldmlvdXNTaWJsaW5nLG5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmd9KX1mdW5jdGlvbiBlKGEsYil7QyhhLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6Yn0pfWZ1bmN0aW9uIGYoYSxiLGQsZSl7aWYoYSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpe3ZhciBmPWgoYSk7Tz0hMDtmb3IodmFyIGc9Zi5sZW5ndGgtMTtnPj0wO2ctLSlhLnJlbW92ZUNoaWxkKGZbZ10pLGZbZ10ucGFyZW50Tm9kZV89YjtPPSExO2Zvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKWZbZ10ucHJldmlvdXNTaWJsaW5nXz1mW2ctMV18fGQsZltnXS5uZXh0U2libGluZ189ZltnKzFdfHxlO3JldHVybiBkJiYoZC5uZXh0U2libGluZ189ZlswXSksZSYmKGUucHJldmlvdXNTaWJsaW5nXz1mW2YubGVuZ3RoLTFdKSxmfXZhciBmPWMoYSksaT1hLnBhcmVudE5vZGU7cmV0dXJuIGkmJmkucmVtb3ZlQ2hpbGQoYSksYS5wYXJlbnROb2RlXz1iLGEucHJldmlvdXNTaWJsaW5nXz1kLGEubmV4dFNpYmxpbmdfPWUsZCYmKGQubmV4dFNpYmxpbmdfPWEpLGUmJihlLnByZXZpb3VzU2libGluZ189YSksZn1mdW5jdGlvbiBnKGEpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXJldHVybiBoKGEpO3ZhciBiPWMoYSksZT1hLnBhcmVudE5vZGU7cmV0dXJuIGUmJmQoYSxlLGIpLGJ9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9bmV3IHksYz0wLGQ9YS5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWJbYysrXT1kO3JldHVybiBiLmxlbmd0aD1jLGUoYSxiKSxifWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gaihhLGIpe0koYSxiKSxhLm5vZGVJc0luc2VydGVkXygpfWZ1bmN0aW9uIGsoYSxiKXtmb3IodmFyIGM9RChiKSxkPTA7ZDxhLmxlbmd0aDtkKyspaihhW2RdLGMpfWZ1bmN0aW9uIGwoYSl7SShhLG5ldyB6KGEsbnVsbCkpfWZ1bmN0aW9uIG0oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspbChhW2JdKX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9YS5ub2RlVHlwZT09PXcuRE9DVU1FTlRfTk9ERT9hOmEub3duZXJEb2N1bWVudDtjIT09Yi5vd25lckRvY3VtZW50JiZjLmFkb3B0Tm9kZShiKX1mdW5jdGlvbiBvKGIsYyl7aWYoYy5sZW5ndGgpe3ZhciBkPWIub3duZXJEb2N1bWVudDtpZihkIT09Y1swXS5vd25lckRvY3VtZW50KWZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWEuYWRvcHROb2RlTm9SZW1vdmUoY1tlXSxkKX19ZnVuY3Rpb24gcChhLGIpe28oYSxiKTt2YXIgYz1iLmxlbmd0aDtpZigxPT09YylyZXR1cm4gSihiWzBdKTtmb3IodmFyIGQ9SihhLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxlPTA7Yz5lO2UrKylkLmFwcGVuZENoaWxkKEooYltlXSkpO3JldHVybiBkfWZ1bmN0aW9uIHEoYSl7aWYodm9pZCAwIT09YS5maXJzdENoaWxkXylmb3IodmFyIGI9YS5maXJzdENoaWxkXztiOyl7dmFyIGM9YjtiPWIubmV4dFNpYmxpbmdfLGMucGFyZW50Tm9kZV89Yy5wcmV2aW91c1NpYmxpbmdfPWMubmV4dFNpYmxpbmdfPXZvaWQgMH1hLmZpcnN0Q2hpbGRfPWEubGFzdENoaWxkXz12b2lkIDB9ZnVuY3Rpb24gcihhKXtpZihhLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpKXtmb3IodmFyIGI9YS5maXJzdENoaWxkO2I7KXtBKGIucGFyZW50Tm9kZT09PWEpO3ZhciBjPWIubmV4dFNpYmxpbmcsZD1KKGIpLGU9ZC5wYXJlbnROb2RlO2UmJlYuY2FsbChlLGQpLGIucHJldmlvdXNTaWJsaW5nXz1iLm5leHRTaWJsaW5nXz1iLnBhcmVudE5vZGVfPW51bGwsYj1jfWEuZmlyc3RDaGlsZF89YS5sYXN0Q2hpbGRfPW51bGx9ZWxzZSBmb3IodmFyIGMsZj1KKGEpLGc9Zi5maXJzdENoaWxkO2c7KWM9Zy5uZXh0U2libGluZyxWLmNhbGwoZixnKSxnPWN9ZnVuY3Rpb24gcyhhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9ZnVuY3Rpb24gdChhKXtmb3IodmFyIGIsYz0wO2M8YS5sZW5ndGg7YysrKWI9YVtjXSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9ZnVuY3Rpb24gdShhLGIsYyl7dmFyIGQ7aWYoZD1MKGM/UC5jYWxsKGMsYS5pbXBsLCExKTpRLmNhbGwoYS5pbXBsLCExKSksYil7Zm9yKHZhciBlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylkLmFwcGVuZENoaWxkKHUoZSwhMCxjKSk7aWYoYSBpbnN0YW5jZW9mIE4uSFRNTFRlbXBsYXRlRWxlbWVudClmb3IodmFyIGY9ZC5jb250ZW50LGU9YS5jb250ZW50LmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZi5hcHBlbmRDaGlsZCh1KGUsITAsYykpfXJldHVybiBkfWZ1bmN0aW9uIHYoYSxiKXtpZighYnx8RChhKSE9PUQoYikpcmV0dXJuITE7Zm9yKHZhciBjPWI7YztjPWMucGFyZW50Tm9kZSlpZihjPT09YSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB3KGEpe0EoYSBpbnN0YW5jZW9mIFIpLHguY2FsbCh0aGlzLGEpLHRoaXMucGFyZW50Tm9kZV89dm9pZCAwLHRoaXMuZmlyc3RDaGlsZF89dm9pZCAwLHRoaXMubGFzdENoaWxkXz12b2lkIDAsdGhpcy5uZXh0U2libGluZ189dm9pZCAwLHRoaXMucHJldmlvdXNTaWJsaW5nXz12b2lkIDAsdGhpcy50cmVlU2NvcGVfPXZvaWQgMH12YXIgeD1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LHk9YS53cmFwcGVycy5Ob2RlTGlzdCx6PWEuVHJlZVNjb3BlLEE9YS5hc3NlcnQsQj1hLmRlZmluZVdyYXBHZXR0ZXIsQz1hLmVucXVldWVNdXRhdGlvbixEPWEuZ2V0VHJlZVNjb3BlLEU9YS5pc1dyYXBwZXIsRj1hLm1peGluLEc9YS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycyxIPWEucmVnaXN0ZXJXcmFwcGVyLEk9YS5zZXRUcmVlU2NvcGUsSj1hLnVud3JhcCxLPWEudW53cmFwSWZOZWVkZWQsTD1hLndyYXAsTT1hLndyYXBJZk5lZWRlZCxOPWEud3JhcHBlcnMsTz0hMSxQPWRvY3VtZW50LmltcG9ydE5vZGUsUT13aW5kb3cuTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLFI9d2luZG93Lk5vZGUsUz13aW5kb3cuRG9jdW1lbnRGcmFnbWVudCxUPShSLnByb3RvdHlwZS5hcHBlbmRDaGlsZCxSLnByb3RvdHlwZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksVT1SLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUsVj1SLnByb3RvdHlwZS5yZW1vdmVDaGlsZCxXPVIucHJvdG90eXBlLnJlcGxhY2VDaGlsZCxYPS9UcmlkZW50Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLFk9WD9mdW5jdGlvbihhLGIpe3RyeXtWLmNhbGwoYSxiKX1jYXRjaChjKXtpZighKGEgaW5zdGFuY2VvZiBTKSl0aHJvdyBjfX06ZnVuY3Rpb24oYSxiKXtWLmNhbGwoYSxiKX07dy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh4LnByb3RvdHlwZSksRih3LnByb3RvdHlwZSx7YXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGEsbnVsbCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhLGMpe2IoYSk7dmFyIGQ7Yz9FKGMpP2Q9SihjKTooZD1jLGM9TChkKSk6KGM9bnVsbCxkPW51bGwpLGMmJkEoYy5wYXJlbnROb2RlPT09dGhpcyk7dmFyIGUsaD1jP2MucHJldmlvdXNTaWJsaW5nOnRoaXMubGFzdENoaWxkLGk9IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFzKGEpO2lmKGU9aT9nKGEpOmYoYSx0aGlzLGgsYyksaSluKHRoaXMsYSkscSh0aGlzKSxVLmNhbGwodGhpcy5pbXBsLEooYSksZCk7ZWxzZXtofHwodGhpcy5maXJzdENoaWxkXz1lWzBdKSxjfHwodGhpcy5sYXN0Q2hpbGRfPWVbZS5sZW5ndGgtMV0sdm9pZCAwPT09dGhpcy5maXJzdENoaWxkXyYmKHRoaXMuZmlyc3RDaGlsZF89dGhpcy5maXJzdENoaWxkKSk7dmFyIGo9ZD9kLnBhcmVudE5vZGU6dGhpcy5pbXBsO2o/VS5jYWxsKGoscCh0aGlzLGUpLGQpOm8odGhpcyxlKX1yZXR1cm4gQyh0aGlzLCJjaGlsZExpc3QiLHthZGRlZE5vZGVzOmUsbmV4dFNpYmxpbmc6YyxwcmV2aW91c1NpYmxpbmc6aH0pLGsoZSx0aGlzKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoIk5vdEZvdW5kRXJyb3IiKX12YXIgZj1KKGEpLGc9YS5uZXh0U2libGluZyxoPWEucHJldmlvdXNTaWJsaW5nO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe3ZhciBpPXRoaXMuZmlyc3RDaGlsZCxqPXRoaXMubGFzdENoaWxkLGs9Zi5wYXJlbnROb2RlO2smJlkoayxmKSxpPT09YSYmKHRoaXMuZmlyc3RDaGlsZF89Zyksaj09PWEmJih0aGlzLmxhc3RDaGlsZF89aCksaCYmKGgubmV4dFNpYmxpbmdfPWcpLGcmJihnLnByZXZpb3VzU2libGluZ189aCksYS5wcmV2aW91c1NpYmxpbmdfPWEubmV4dFNpYmxpbmdfPWEucGFyZW50Tm9kZV89dm9pZCAwfWVsc2UgcSh0aGlzKSxZKHRoaXMuaW1wbCxmKTtyZXR1cm4gT3x8Qyh0aGlzLCJjaGlsZExpc3QiLHtyZW1vdmVkTm9kZXM6YyhhKSxuZXh0U2libGluZzpnLHByZXZpb3VzU2libGluZzpofSksRyh0aGlzLGEpLGF9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihhLGQpe2IoYSk7dmFyIGU7aWYoRShkKT9lPUooZCk6KGU9ZCxkPUwoZSkpLGQucGFyZW50Tm9kZSE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJOb3RGb3VuZEVycm9yIik7dmFyIGgsaT1kLm5leHRTaWJsaW5nLGo9ZC5wcmV2aW91c1NpYmxpbmcsbT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7cmV0dXJuIG0/aD1nKGEpOihpPT09YSYmKGk9YS5uZXh0U2libGluZyksaD1mKGEsdGhpcyxqLGkpKSxtPyhuKHRoaXMsYSkscSh0aGlzKSxXLmNhbGwodGhpcy5pbXBsLEooYSksZSkpOih0aGlzLmZpcnN0Q2hpbGQ9PT1kJiYodGhpcy5maXJzdENoaWxkXz1oWzBdKSx0aGlzLmxhc3RDaGlsZD09PWQmJih0aGlzLmxhc3RDaGlsZF89aFtoLmxlbmd0aC0xXSksZC5wcmV2aW91c1NpYmxpbmdfPWQubmV4dFNpYmxpbmdfPWQucGFyZW50Tm9kZV89dm9pZCAwLGUucGFyZW50Tm9kZSYmVy5jYWxsKGUucGFyZW50Tm9kZSxwKHRoaXMsaCksZSkpLEModGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpoLHJlbW92ZWROb2RlczpjKGQpLG5leHRTaWJsaW5nOmkscHJldmlvdXNTaWJsaW5nOmp9KSxsKGQpLGsoaCx0aGlzKSxkfSxub2RlSXNJbnNlcnRlZF86ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZUlzSW5zZXJ0ZWRfKCl9LGhhc0NoaWxkTm9kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZmlyc3RDaGlsZH0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wYXJlbnROb2RlXz90aGlzLnBhcmVudE5vZGVfOkwodGhpcy5pbXBsLnBhcmVudE5vZGUpfSxnZXQgZmlyc3RDaGlsZCgpe3JldHVybiB2b2lkIDAhPT10aGlzLmZpcnN0Q2hpbGRfP3RoaXMuZmlyc3RDaGlsZF86TCh0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpMKHRoaXMuaW1wbC5sYXN0Q2hpbGQpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5uZXh0U2libGluZ18/dGhpcy5uZXh0U2libGluZ186TCh0aGlzLmltcGwubmV4dFNpYmxpbmcpfSxnZXQgcHJldmlvdXNTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucHJldmlvdXNTaWJsaW5nXz90aGlzLnByZXZpb3VzU2libGluZ186TCh0aGlzLmltcGwucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEubm9kZVR5cGUhPT13LkVMRU1FTlRfTk9ERTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgYT0iIixiPXRoaXMuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyliLm5vZGVUeXBlIT13LkNPTU1FTlRfTk9ERSYmKGErPWIudGV4dENvbnRlbnQpO3JldHVybiBhfSxzZXQgdGV4dENvbnRlbnQoYSl7dmFyIGI9aSh0aGlzLmNoaWxkTm9kZXMpO2lmKHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkpe2lmKHIodGhpcyksIiIhPT1hKXt2YXIgYz10aGlzLmltcGwub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKTt0aGlzLmFwcGVuZENoaWxkKGMpfX1lbHNlIHEodGhpcyksdGhpcy5pbXBsLnRleHRDb250ZW50PWE7dmFyIGQ9aSh0aGlzLmNoaWxkTm9kZXMpO0ModGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpkLHJlbW92ZWROb2RlczpifSksbShiKSxrKGQsdGhpcyl9LGdldCBjaGlsZE5vZGVzKCl7Zm9yKHZhciBhPW5ldyB5LGI9MCxjPXRoaXMuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZylhW2IrK109YztyZXR1cm4gYS5sZW5ndGg9YixhfSxjbG9uZU5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHUodGhpcyxhKX0sY29udGFpbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIHYodGhpcyxNKGEpKX0sY29tcGFyZURvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIFQuY2FsbCh0aGlzLmltcGwsSyhhKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9aSh0aGlzLmNoaWxkTm9kZXMpLGQ9W10sZT0iIixmPTA7ZjxjLmxlbmd0aDtmKyspYj1jW2ZdLGIubm9kZVR5cGU9PT13LlRFWFRfTk9ERT9hfHxiLmRhdGEubGVuZ3RoP2E/KGUrPWIuZGF0YSxkLnB1c2goYikpOmE9Yjp0aGlzLnJlbW92ZU5vZGUoYik6KGEmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLHQoZCkpLGQ9W10sZT0iIixhPW51bGwsYi5jaGlsZE5vZGVzLmxlbmd0aCYmYi5ub3JtYWxpemUoKSk7YSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSl9fSksQih3LCJvd25lckRvY3VtZW50IiksSChSLHcsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx3LnByb3RvdHlwZT1GKE9iamVjdC5jcmVhdGUoeC5wcm90b3R5cGUpLHcucHJvdG90eXBlKSxhLmNsb25lTm9kZT11LGEubm9kZVdhc0FkZGVkPWosYS5ub2RlV2FzUmVtb3ZlZD1sLGEubm9kZXNXZXJlQWRkZWQ9ayxhLm5vZGVzV2VyZVJlbW92ZWQ9bSxhLnNuYXBzaG90Tm9kZUxpc3Q9aSxhLndyYXBwZXJzLk5vZGU9d30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGMpe2Zvcih2YXIgZCxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhjKSlyZXR1cm4gZTtpZihkPWIoZSxjKSlyZXR1cm4gZDtlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtyZXR1cm4gYS5tYXRjaGVzKGIpfWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPWEubG9jYWxOYW1lO3JldHVybiBkPT09Ynx8ZD09PWMmJmEubmFtZXNwYWNlVVJJPT09bH1mdW5jdGlvbiBlKCl7cmV0dXJuITB9ZnVuY3Rpb24gZihhLGIpe3JldHVybiBhLmxvY2FsTmFtZT09PWJ9ZnVuY3Rpb24gZyhhLGIpe3JldHVybiBhLm5hbWVzcGFjZVVSST09PWJ9ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJuIGEubmFtZXNwYWNlVVJJPT09YiYmYS5sb2NhbE5hbWU9PT1jfWZ1bmN0aW9uIGkoYSxiLGMsZCxlKXtmb3IodmFyIGY9YS5maXJzdEVsZW1lbnRDaGlsZDtmOyljKGYsZCxlKSYmKGJbYi5sZW5ndGgrK109ZiksaShmLGIsYyxkLGUpLGY9Zi5uZXh0RWxlbWVudFNpYmxpbmc7cmV0dXJuIGJ9dmFyIGo9YS53cmFwcGVycy5IVE1MQ29sbGVjdGlvbixrPWEud3JhcHBlcnMuTm9kZUxpc3QsbD0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsbT17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gYih0aGlzLGEpfSxxdWVyeVNlbGVjdG9yQWxsOmZ1bmN0aW9uKGEpe3JldHVybiBpKHRoaXMsbmV3IGssYyxhKX19LG49e2dldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBqO3JldHVybiIqIj09PWE/aSh0aGlzLGIsZSk6aSh0aGlzLGIsZCxhLGEudG9Mb3dlckNhc2UoKSl9LGdldEVsZW1lbnRzQnlDbGFzc05hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbCgiLiIrYSl9LGdldEVsZW1lbnRzQnlUYWdOYW1lTlM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgajtpZigiIj09PWEpYT1udWxsO2Vsc2UgaWYoIioiPT09YSlyZXR1cm4iKiI9PT1iP2kodGhpcyxjLGUpOmkodGhpcyxjLGYsYik7cmV0dXJuIioiPT09Yj9pKHRoaXMsYyxnLGEpOmkodGhpcyxjLGgsYSxiKX19O2EuR2V0RWxlbWVudHNCeUludGVyZmFjZT1uLGEuU2VsZWN0b3JzSW50ZXJmYWNlPW19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Zm9yKDthJiZhLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiBjKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEucHJldmlvdXNTaWJsaW5nO3JldHVybiBhfXZhciBkPWEud3JhcHBlcnMuTm9kZUxpc3QsZT17Z2V0IGZpcnN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGIodGhpcy5maXJzdENoaWxkKX0sZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKXtyZXR1cm4gYyh0aGlzLmxhc3RDaGlsZCl9LGdldCBjaGlsZEVsZW1lbnRDb3VudCgpe2Zvcih2YXIgYT0wLGI9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYSsrO3JldHVybiBhfSxnZXQgY2hpbGRyZW4oKXtmb3IodmFyIGE9bmV3IGQsYj0wLGM9dGhpcy5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYVtiKytdPWM7cmV0dXJuIGEubGVuZ3RoPWIsYX0scmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEucmVtb3ZlQ2hpbGQodGhpcyl9fSxmPXtnZXQgbmV4dEVsZW1lbnRTaWJsaW5nKCl7cmV0dXJuIGIodGhpcy5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c0VsZW1lbnRTaWJsaW5nKCl7cmV0dXJuIGModGhpcy5wcmV2aW91c1NpYmxpbmcpfX07YS5DaGlsZE5vZGVJbnRlcmZhY2U9ZixhLlBhcmVudE5vZGVJbnRlcmZhY2U9ZX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX12YXIgYz1hLkNoaWxkTm9kZUludGVyZmFjZSxkPWEud3JhcHBlcnMuTm9kZSxlPWEuZW5xdWV1ZU11dGF0aW9uLGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9d2luZG93LkNoYXJhY3RlckRhdGE7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZihiLnByb3RvdHlwZSx7Z2V0IHRleHRDb250ZW50KCl7cmV0dXJuIHRoaXMuZGF0YX0sc2V0IHRleHRDb250ZW50KGEpe3RoaXMuZGF0YT1hfSxnZXQgZGF0YSgpe3JldHVybiB0aGlzLmltcGwuZGF0YX0sc2V0IGRhdGEoYSl7dmFyIGI9dGhpcy5pbXBsLmRhdGE7ZSh0aGlzLCJjaGFyYWN0ZXJEYXRhIix7b2xkVmFsdWU6Yn0pLHRoaXMuaW1wbC5kYXRhPWF9fSksZihiLnByb3RvdHlwZSxjKSxnKGgsYixkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIikpLGEud3JhcHBlcnMuQ2hhcmFjdGVyRGF0YT1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhPj4+MH1mdW5jdGlvbiBjKGEpe2QuY2FsbCh0aGlzLGEpfXZhciBkPWEud3JhcHBlcnMuQ2hhcmFjdGVyRGF0YSxlPShhLmVucXVldWVNdXRhdGlvbixhLm1peGluKSxmPWEucmVnaXN0ZXJXcmFwcGVyLGc9d2luZG93LlRleHQ7Yy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShjLnByb3RvdHlwZSx7c3BsaXRUZXh0OmZ1bmN0aW9uKGEpe2E9YihhKTt2YXIgYz10aGlzLmRhdGE7aWYoYT5jLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkluZGV4U2l6ZUVycm9yIik7dmFyIGQ9Yy5zbGljZSgwLGEpLGU9Yy5zbGljZShhKTt0aGlzLmRhdGE9ZDt2YXIgZj10aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIHRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLHRoaXMubmV4dFNpYmxpbmcpLGZ9fSksZihnLGMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpKSxhLndyYXBwZXJzLlRleHQ9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiKXthLmludmFsaWRhdGVSZW5kZXJlckJhc2VkT25BdHRyaWJ1dGUoYiwiY2xhc3MiKX1mdW5jdGlvbiBjKGEsYil7dGhpcy5pbXBsPWEsdGhpcy5vd25lckVsZW1lbnRfPWJ9Yy5wcm90b3R5cGU9e2dldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5pbXBsLmxlbmd0aH0saXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbXBsLml0ZW0oYSl9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmltcGwuY29udGFpbnMoYSl9LGFkZDpmdW5jdGlvbigpe3RoaXMuaW1wbC5hZGQuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyksYih0aGlzLm93bmVyRWxlbWVudF8pfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmltcGwucmVtb3ZlLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpLGIodGhpcy5vd25lckVsZW1lbnRfKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbXBsLnRvZ2dsZS5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKTtyZXR1cm4gYih0aGlzLm93bmVyRWxlbWVudF8pLGF9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sYS53cmFwcGVycy5ET01Ub2tlbkxpc3Q9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWIucGFyZW50Tm9kZTtpZihkJiZkLnNoYWRvd1Jvb3Qpe3ZhciBlPWEuZ2V0UmVuZGVyZXJGb3JIb3N0KGQpO2UuZGVwZW5kc09uQXR0cmlidXRlKGMpJiZlLmludmFsaWRhdGUoKX19ZnVuY3Rpb24gYyhhLGIsYyl7ayhhLCJhdHRyaWJ1dGVzIix7bmFtZTpiLG5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOmN9KX1mdW5jdGlvbiBkKGEpe2cuY2FsbCh0aGlzLGEpfXZhciBlPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGY9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGc9YS53cmFwcGVycy5Ob2RlLGg9YS53cmFwcGVycy5ET01Ub2tlbkxpc3QsaT1hLlBhcmVudE5vZGVJbnRlcmZhY2Usaj1hLlNlbGVjdG9yc0ludGVyZmFjZSxrPShhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZCxhLmVucXVldWVNdXRhdGlvbiksbD1hLm1peGluLG09KGEub25lT2YsYS5yZWdpc3RlcldyYXBwZXIpLG49YS51bndyYXAsbz1hLndyYXBwZXJzLHA9d2luZG93LkVsZW1lbnQscT1bIm1hdGNoZXMiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciJdLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gcC5wcm90b3R5cGVbYV19KSxyPXFbMF0scz1wLnByb3RvdHlwZVtyXSx0PW5ldyBXZWFrTWFwO2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZy5wcm90b3R5cGUpLGwoZC5wcm90b3R5cGUse2NyZWF0ZVNoYWRvd1Jvb3Q6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgby5TaGFkb3dSb290KHRoaXMpO3RoaXMuaW1wbC5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSb290X3x8bnVsbH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pbXBsLmdldEF0dHJpYnV0ZShhKTt0aGlzLmltcGwucmVtb3ZlQXR0cmlidXRlKGEpLGModGhpcyxhLGQpLGIodGhpcyxhKX0sbWF0Y2hlczpmdW5jdGlvbihhKXtyZXR1cm4gcy5jYWxsKHRoaXMuaW1wbCxhKX0sZ2V0IGNsYXNzTGlzdCgpe3ZhciBhPXQuZ2V0KHRoaXMpO3JldHVybiBhfHx0LnNldCh0aGlzLGE9bmV3IGgobih0aGlzKS5jbGFzc0xpc3QsdGhpcykpLGF9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gbih0aGlzKS5jbGFzc05hbWV9LHNldCBjbGFzc05hbWUoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixhKX0sZ2V0IGlkKCl7cmV0dXJuIG4odGhpcykuaWR9LHNldCBpZChhKXt0aGlzLnNldEF0dHJpYnV0ZSgiaWQiLGEpfX0pLHEuZm9yRWFjaChmdW5jdGlvbihhKXsibWF0Y2hlcyIhPT1hJiYoZC5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhhKX0pfSkscC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKGQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksbChkLnByb3RvdHlwZSxlKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsaSksbChkLnByb3RvdHlwZSxqKSxtKHAsZCxkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnVsbCwieCIpKSxhLmludmFsaWRhdGVSZW5kZXJlckJhc2VkT25BdHRyaWJ1dGU9YixhLm1hdGNoZXNOYW1lcz1xLGEud3JhcHBlcnMuRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3N3aXRjaChhKXtjYXNlIiYiOnJldHVybiImYW1wOyI7Y2FzZSI8IjpyZXR1cm4iJmx0OyI7Y2FzZSI+IjpyZXR1cm4iJmd0OyI7Y2FzZSciJzpyZXR1cm4iJnF1b3Q7IjtjYXNlIlx4YTAiOnJldHVybiImbmJzcDsifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoeixiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD0iPCIrZixpPWEuYXR0cmlidXRlcyxqPTA7ZT1pW2pdO2orKyloKz0iICIrZS5uYW1lKyc9IicrYyhlLnZhbHVlKSsnIic7cmV0dXJuIGgrPSI+IixCW2ZdP2g6aCtnKGEpKyI8LyIrZisiPiI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkNbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVybiI8IS0tIithLmRhdGErIi0tPiI7ZGVmYXVsdDp0aHJvdyBjb25zb2xlLmVycm9yKGEpLG5ldyBFcnJvcigibm90IGltcGxlbWVudGVkIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9IiIsYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpYis9ZihjLGEpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPWN8fCJkaXYiO2EudGV4dENvbnRlbnQ9IiI7dmFyIGU9dyhhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeChmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9dyhhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9dyhkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB4KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHRoaXMuaW1wbFtiXX19ZnVuY3Rpb24gbChhKXtwKGksYSxrKGEpKX1mdW5jdGlvbiBtKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHtnZXQ6ayhiKSxzZXQ6ZnVuY3Rpb24oYyl7YS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdPWN9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSl9ZnVuY3Rpb24gbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZW5kZXJBbGxQZW5kaW5nKCksdGhpcy5pbXBsW2JdLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pfXZhciBvPWEud3JhcHBlcnMuRWxlbWVudCxwPWEuZGVmaW5lR2V0dGVyLHE9YS5lbnF1ZXVlTXV0YXRpb24scj1hLm1peGluLHM9YS5ub2Rlc1dlcmVBZGRlZCx0PWEubm9kZXNXZXJlUmVtb3ZlZCx1PWEucmVnaXN0ZXJXcmFwcGVyLHY9YS5zbmFwc2hvdE5vZGVMaXN0LHc9YS51bndyYXAseD1hLndyYXAseT1hLndyYXBwZXJzLHo9L1smXHUwMEEwIl0vZyxBPS9bJlx1MDBBMDw+XS9nLEI9ZShbImFyZWEiLCJiYXNlIiwiYnIiLCJjb2wiLCJjb21tYW5kIiwiZW1iZWQiLCJociIsImltZyIsImlucHV0Iiwia2V5Z2VuIiwibGluayIsIm1ldGEiLCJwYXJhbSIsInNvdXJjZSIsInRyYWNrIiwid2JyIl0pLEM9ZShbInN0eWxlIiwic2NyaXB0IiwieG1wIiwiaWZyYW1lIiwibm9lbWJlZCIsIm5vZnJhbWVzIiwicGxhaW50ZXh0Iiwibm9zY3JpcHQiXSksRD0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxFPXdpbmRvdy5IVE1MRWxlbWVudCxGPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihEJiZDW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB5LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRiYmdGhpcyBpbnN0YW5jZW9mIHkuSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp0aGlzLmltcGwuaW5uZXJIVE1MPWE7dmFyIGM9dih0aGlzLmNoaWxkTm9kZXMpO3EodGhpcywiY2hpbGRMaXN0Iix7YWRkZWROb2RlczpjLHJlbW92ZWROb2RlczpifSksdChiKSxzKGMsdGhpcyl9LGdldCBvdXRlckhUTUwoKXtyZXR1cm4gZih0aGlzLHRoaXMucGFyZW50Tm9kZSl9LHNldCBvdXRlckhUTUwoYSl7dmFyIGI9dGhpcy5wYXJlbnROb2RlO2lmKGIpe2IuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk7dmFyIGM9aihiLGEpO2IucmVwbGFjZUNoaWxkKGMsdGhpcyl9fSxpbnNlcnRBZGphY2VudEhUTUw6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO3N3aXRjaChTdHJpbmcoYSkudG9Mb3dlckNhc2UoKSl7Y2FzZSJiZWZvcmViZWdpbiI6Yz10aGlzLnBhcmVudE5vZGUsZD10aGlzO2JyZWFrO2Nhc2UiYWZ0ZXJlbmQiOmM9dGhpcy5wYXJlbnROb2RlLGQ9dGhpcy5uZXh0U2libGluZzticmVhaztjYXNlImFmdGVyYmVnaW4iOmM9dGhpcyxkPXRoaXMuZmlyc3RDaGlsZDticmVhaztjYXNlImJlZm9yZWVuZCI6Yz10aGlzLGQ9bnVsbDticmVhaztkZWZhdWx0OnJldHVybn12YXIgZT1qKGMsYik7Yy5pbnNlcnRCZWZvcmUoZSxkKX19KSxbImNsaWVudEhlaWdodCIsImNsaWVudExlZnQiLCJjbGllbnRUb3AiLCJjbGllbnRXaWR0aCIsIm9mZnNldEhlaWdodCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRXaWR0aCIsInNjcm9sbEhlaWdodCIsInNjcm9sbFdpZHRoIl0uZm9yRWFjaChsKSxbInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiXS5mb3JFYWNoKG0pLFsiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2V0Q2xpZW50UmVjdHMiLCJzY3JvbGxJbnRvVmlldyJdLmZvckVhY2gobiksdShFLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYiIpKSxhLndyYXBwZXJzLkhUTUxFbGVtZW50PWksYS5nZXRJbm5lckhUTUw9ZyxhLnNldElubmVySFRNTD1ofSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLndyYXAsZz13aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0Q29udGV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5nZXRDb250ZXh0LmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpO3JldHVybiBhJiZmKGEpfX0pLGUoZyxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpKSxhLndyYXBwZXJzLkhUTUxDYW52YXNFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPXdpbmRvdy5IVE1MQ29udGVudEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IHNlbGVjdCgpe3JldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgic2VsZWN0Iil9LHNldCBzZWxlY3QoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoInNlbGVjdCIsYSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGIpe2MucHJvdG90eXBlLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsYSxiKSwic2VsZWN0Ij09PVN0cmluZyhhKS50b0xvd2VyQ2FzZSgpJiZ0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcighMCl9fSksZiYmZShmLGIpLGEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7ZC5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gYyhhLGIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGMpKXRocm93IG5ldyBUeXBlRXJyb3IoIkRPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpO3ZhciBlPWYoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIikpO2QuY2FsbCh0aGlzLGUpLGcoZSx0aGlzKSx2b2lkIDAhPT1hJiYoZS53aWR0aD1hKSx2b2lkIDAhPT1iJiYoZS5oZWlnaHQ9Yil9dmFyIGQ9YS53cmFwcGVycy5IVE1MRWxlbWVudCxlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bndyYXAsZz1hLnJld3JhcCxoPXdpbmRvdy5IVE1MSW1hZ2VFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxJbWFnZUVsZW1lbnQ9YixhLndyYXBwZXJzLkltYWdlPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPShhLm1peGluLGEud3JhcHBlcnMuTm9kZUxpc3QsYS5yZWdpc3RlcldyYXBwZXIpLGU9d2luZG93LkhUTUxTaGFkb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGUmJmQoZSxiKSxhLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7aWYoIWEuZGVmYXVsdFZpZXcpcmV0dXJuIGE7dmFyIGI9ay5nZXQoYSk7aWYoIWIpe2ZvcihiPWEuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTtiLmxhc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmxhc3RDaGlsZCk7ay5zZXQoYSxiKX1yZXR1cm4gYn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYyxkPWIoYS5vd25lckRvY3VtZW50KSxlPWgoZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2M9YS5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGMpO3JldHVybiBlfWZ1bmN0aW9uIGQoYSl7aWYoZS5jYWxsKHRoaXMsYSksIWwpe3ZhciBiPWMoYSk7ai5zZXQodGhpcyxpKGIpKX19dmFyIGU9YS53cmFwcGVycy5IVE1MRWxlbWVudCxmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPWEudW53cmFwLGk9YS53cmFwLGo9bmV3IFdlYWtNYXAsaz1uZXcgV2Vha01hcCxsPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLGYoZC5wcm90b3R5cGUse2dldCBjb250ZW50KCl7cmV0dXJuIGw/aSh0aGlzLmltcGwuY29udGVudCk6ai5nZXQodGhpcyl9fSksbCYmZyhsLGQpLGEud3JhcHBlcnMuSFRNTFRlbXBsYXRlRWxlbWVudD1kfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLnJlZ2lzdGVyV3JhcHBlcixlPXdpbmRvdy5IVE1MTWVkaWFFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoZSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIikpLGEud3JhcHBlcnMuSFRNTE1lZGlhRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGMoYSl7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpdGhyb3cgbmV3IFR5cGVFcnJvcigiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uIik7dmFyIGI9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhdWRpbyIpKTtkLmNhbGwodGhpcyxiKSxnKGIsdGhpcyksYi5zZXRBdHRyaWJ1dGUoInByZWxvYWQiLCJhdXRvIiksdm9pZCAwIT09YSYmYi5zZXRBdHRyaWJ1dGUoInNyYyIsYSl9dmFyIGQ9YS53cmFwcGVycy5IVE1MTWVkaWFFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxBdWRpb0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MQXVkaW9FbGVtZW50PWIsYS53cmFwcGVycy5BdWRpbz1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiBhLnJlcGxhY2UoL1xzKy9nLCIgIikudHJpbSgpfWZ1bmN0aW9uIGMoYSl7ZS5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gZChhLGIsYyxmKXtpZighKHRoaXMgaW5zdGFuY2VvZiBkKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi4iKTt2YXIgZz1pKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtlLmNhbGwodGhpcyxnKSxoKGcsdGhpcyksdm9pZCAwIT09YSYmKGcudGV4dD1hKSx2b2lkIDAhPT1iJiZnLnNldEF0dHJpYnV0ZSgidmFsdWUiLGIpLGM9PT0hMCYmZy5zZXRBdHRyaWJ1dGUoInNlbGVjdGVkIiwiIiksZy5zZWxlY3RlZD1mPT09ITB9dmFyIGU9YS53cmFwcGVycy5IVE1MRWxlbWVudCxmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPWEucmV3cmFwLGk9YS51bndyYXAsaj1hLndyYXAsaz13aW5kb3cuSFRNTE9wdGlvbkVsZW1lbnQ7Yy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihjLnByb3RvdHlwZSx7Z2V0IHRleHQoKXtyZXR1cm4gYih0aGlzLnRleHRDb250ZW50KX0sc2V0IHRleHQoYSl7dGhpcy50ZXh0Q29udGVudD1iKFN0cmluZyhhKSl9LGdldCBmb3JtKCl7cmV0dXJuIGooaSh0aGlzKS5mb3JtKX19KSxnKGssYyxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksZC5wcm90b3R5cGU9Yy5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MT3B0aW9uRWxlbWVudD1jLGEud3JhcHBlcnMuT3B0aW9uPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS53cmFwLGg9d2luZG93LkhUTUxTZWxlY3RFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2FkZDpmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgYiYmKGI9ZihiKSksZih0aGlzKS5hZGQoZihhKSxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3ZvaWQgYy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk6KCJvYmplY3QiPT10eXBlb2YgYSYmKGE9ZihhKSksdm9pZCBmKHRoaXMpLnJlbW92ZShhKSl9LGdldCBmb3JtKCl7cmV0dXJuIGcoZih0aGlzKS5mb3JtKX19KSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSksYS53cmFwcGVycy5IVE1MU2VsZWN0RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEud3JhcCxoPWEud3JhcEhUTUxDb2xsZWN0aW9uLGk9d2luZG93LkhUTUxUYWJsZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNhcHRpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNhcHRpb24pfSxjcmVhdGVDYXB0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVDYXB0aW9uKCkpfSxnZXQgdEhlYWQoKXtyZXR1cm4gZyhmKHRoaXMpLnRIZWFkKX0sY3JlYXRlVEhlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRIZWFkKCkpfSxjcmVhdGVURm9vdDpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEZvb3QoKSl9LGdldCB0Rm9vdCgpe3JldHVybiBnKGYodGhpcykudEZvb3QpfSxnZXQgdEJvZGllcygpe3JldHVybiBoKGYodGhpcykudEJvZGllcyl9LGNyZWF0ZVRCb2R5OmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVUQm9keSgpKX0sZ2V0IHJvd3MoKXtyZXR1cm4gaChmKHRoaXMpLnJvd3MpfSxpbnNlcnRSb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGcoZih0aGlzKS5pbnNlcnRSb3coYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLndyYXBIVE1MQ29sbGVjdGlvbixnPWEudW53cmFwLGg9YS53cmFwLGk9d2luZG93LkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGQoYi5wcm90b3R5cGUse2dldCByb3dzKCl7cmV0dXJuIGYoZyh0aGlzKS5yb3dzKX0saW5zZXJ0Um93OmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Um93KGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aGVhZCIpKSxhLndyYXBwZXJzLkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEud3JhcEhUTUxDb2xsZWN0aW9uLGc9YS51bndyYXAsaD1hLndyYXAsaT13aW5kb3cuSFRNTFRhYmxlUm93RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgY2VsbHMoKXtyZXR1cm4gZihnKHRoaXMpLmNlbGxzKX0saW5zZXJ0Q2VsbDpmdW5jdGlvbihhKXtyZXR1cm4gaChnKHRoaXMpLmluc2VydENlbGwoYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlUm93RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3N3aXRjaChhLmxvY2FsTmFtZSl7Y2FzZSJjb250ZW50IjpyZXR1cm4gbmV3IGMoYSk7Y2FzZSJzaGFkb3ciOnJldHVybiBuZXcgZShhKTtjYXNlInRlbXBsYXRlIjpyZXR1cm4gbmV3IGYoYSl9ZC5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQsZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxmPWEud3JhcHBlcnMuSFRNTFRlbXBsYXRlRWxlbWVudCxnPShhLm1peGluLGEucmVnaXN0ZXJXcmFwcGVyKSxoPXdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQ7CmIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLGcoaCxiKSxhLndyYXBwZXJzLkhUTUxVbmtub3duRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLndyYXBwZXJzLkVsZW1lbnQsYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5yZWdpc3Rlck9iamVjdCxlPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZSwidGl0bGUiKSxnPWQoZiksaD1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZy5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO2lmKCEoImNsYXNzTGlzdCJpbiBmKSl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLnByb3RvdHlwZSwiY2xhc3NMaXN0Iik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGMucHJvdG90eXBlLCJjbGFzc0xpc3QiLGkpLGRlbGV0ZSBiLnByb3RvdHlwZS5jbGFzc0xpc3R9YS53cmFwcGVycy5TVkdFbGVtZW50PWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7bS5jYWxsKHRoaXMsYSl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLndyYXAsZz13aW5kb3cuU1ZHVXNlRWxlbWVudCxoPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsaT1mKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLCJnIikpLGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsInVzZSIpLGs9aS5jb25zdHJ1Y3RvcixsPU9iamVjdC5nZXRQcm90b3R5cGVPZihrLnByb3RvdHlwZSksbT1sLmNvbnN0cnVjdG9yO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobCksImluc3RhbmNlUm9vdCJpbiBqJiZjKGIucHJvdG90eXBlLHtnZXQgaW5zdGFuY2VSb290KCl7cmV0dXJuIGYoZSh0aGlzKS5pbnN0YW5jZVJvb3QpfSxnZXQgYW5pbWF0ZWRJbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmFuaW1hdGVkSW5zdGFuY2VSb290KX19KSxkKGcsYixqKSxhLndyYXBwZXJzLlNWR1VzZUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwLGc9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTtnJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNvcnJlc3BvbmRpbmdFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdFbGVtZW50KX0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGYodGhpcy5pbXBsLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KX0sZ2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gZih0aGlzLmltcGwucGFyZW50Tm9kZSl9LGdldCBjaGlsZE5vZGVzKCl7dGhyb3cgbmV3IEVycm9yKCJOb3QgaW1wbGVtZW50ZWQiKX0sZ2V0IGZpcnN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gZih0aGlzLmltcGwubGFzdENoaWxkKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiBmKHRoaXMuaW1wbC5wcmV2aW91c1NpYmxpbmcpfSxnZXQgbmV4dFNpYmxpbmcoKXtyZXR1cm4gZih0aGlzLmltcGwubmV4dFNpYmxpbmcpfX0pLGUoZyxiKSxhLndyYXBwZXJzLlNWR0VsZW1lbnRJbnN0YW5jZT1iKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcCxmPWEudW53cmFwSWZOZWVkZWQsZz1hLndyYXAsaD13aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO2MoYi5wcm90b3R5cGUse2dldCBjYW52YXMoKXtyZXR1cm4gZyh0aGlzLmltcGwuY2FudmFzKX0sZHJhd0ltYWdlOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzBdPWYoYXJndW1lbnRzWzBdKSx0aGlzLmltcGwuZHJhd0ltYWdlLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSxjcmVhdGVQYXR0ZXJuOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1lKGFyZ3VtZW50c1swXSksdGhpcy5pbXBsLmNyZWF0ZVBhdHRlcm4uYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fSksZChoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKSksYS53cmFwcGVycy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXt0aGlzLmltcGw9YX12YXIgYz1hLm1peGluLGQ9YS5yZWdpc3RlcldyYXBwZXIsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihnKXtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNhbnZhcyl9LHRleEltYWdlMkQ6ZnVuY3Rpb24oKXthcmd1bWVudHNbNV09ZShhcmd1bWVudHNbNV0pLHRoaXMuaW1wbC50ZXhJbWFnZTJELmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWUoYXJndW1lbnRzWzZdKSx0aGlzLmltcGwudGV4U3ViSW1hZ2UyRC5hcHBseSh0aGlzLmltcGwsYXJndW1lbnRzKX19KTt2YXIgaD0vV2ViS2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP3tkcmF3aW5nQnVmZmVySGVpZ2h0Om51bGwsZHJhd2luZ0J1ZmZlcldpZHRoOm51bGx9Ont9O2QoZyxiLGgpLGEud3JhcHBlcnMuV2ViR0xSZW5kZXJpbmdDb250ZXh0PWJ9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3RoaXMuaW1wbD1hfXZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwLGc9d2luZG93LlJhbmdlO2IucHJvdG90eXBlPXtnZXQgc3RhcnRDb250YWluZXIoKXtyZXR1cm4gZih0aGlzLmltcGwuc3RhcnRDb250YWluZXIpfSxnZXQgZW5kQ29udGFpbmVyKCl7cmV0dXJuIGYodGhpcy5pbXBsLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBmKHRoaXMuaW1wbC5jb21tb25BbmNlc3RvckNvbnRhaW5lcil9LHNldFN0YXJ0OmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLnNldFN0YXJ0KGUoYSksYil9LHNldEVuZDpmdW5jdGlvbihhLGIpe3RoaXMuaW1wbC5zZXRFbmQoZShhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldFN0YXJ0QmVmb3JlKGUoYSkpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZXRTdGFydEFmdGVyKGUoYSkpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEJlZm9yZShlKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNldEVuZEFmdGVyKGUoYSkpfSxzZWxlY3ROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zZWxlY3ROb2RlKGUoYSkpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnNlbGVjdE5vZGVDb250ZW50cyhlKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb21wYXJlQm91bmRhcnlQb2ludHMoYSxkKGIpKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmV4dHJhY3RDb250ZW50cygpKX0sY2xvbmVDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBmKHRoaXMuaW1wbC5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5pbnNlcnROb2RlKGUoYSkpfSxzdXJyb3VuZENvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5zdXJyb3VuZENvbnRlbnRzKGUoYSkpfSxjbG9uZVJhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5pbXBsLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5pc1BvaW50SW5SYW5nZShlKGEpLGIpfSxjb21wYXJlUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pbXBsLmNvbXBhcmVQb2ludChlKGEpLGIpfSxpbnRlcnNlY3RzTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbXBsLmludGVyc2VjdHNOb2RlKGUoYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltcGwudG9TdHJpbmcoKX19LGcucHJvdG90eXBlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCYmKGIucHJvdG90eXBlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gZih0aGlzLmltcGwuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGEpKX0pLGMod2luZG93LlJhbmdlLGIsZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSksYS53cmFwcGVycy5SYW5nZT1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLkdldEVsZW1lbnRzQnlJbnRlcmZhY2UsYz1hLlBhcmVudE5vZGVJbnRlcmZhY2UsZD1hLlNlbGVjdG9yc0ludGVyZmFjZSxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyT2JqZWN0LGc9Zihkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2UoZy5wcm90b3R5cGUsYyksZShnLnByb3RvdHlwZSxkKSxlKGcucHJvdG90eXBlLGIpO3ZhciBoPWYoZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiIikpO2Eud3JhcHBlcnMuQ29tbWVudD1oLGEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudD1nfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWsoYS5pbXBsLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjLmNhbGwodGhpcyxiKSxpKGIsdGhpcyk7dmFyIGU9YS5zaGFkb3dSb290O20uc2V0KHRoaXMsZSksdGhpcy50cmVlU2NvcGVfPW5ldyBkKHRoaXMsZyhlfHxhKSksbC5zZXQodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQsZD1hLlRyZWVTY29wZSxlPWEuZWxlbWVudEZyb21Qb2ludCxmPWEuZ2V0SW5uZXJIVE1MLGc9YS5nZXRUcmVlU2NvcGUsaD1hLm1peGluLGk9YS5yZXdyYXAsaj1hLnNldElubmVySFRNTCxrPWEudW53cmFwLGw9bmV3IFdlYWtNYXAsbT1uZXcgV2Vha01hcCxuPS9bIFx0XG5cclxmXS87Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksaChiLnByb3RvdHlwZSx7Z2V0IGlubmVySFRNTCgpe3JldHVybiBmKHRoaXMpfSxzZXQgaW5uZXJIVE1MKGEpe2oodGhpcyxhKSx0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxnZXQgb2xkZXJTaGFkb3dSb290KCl7cmV0dXJuIG0uZ2V0KHRoaXMpfHxudWxsfSxnZXQgaG9zdCgpe3JldHVybiBsLmdldCh0aGlzKXx8bnVsbH0saW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGwuZ2V0KHRoaXMpLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfSxlbGVtZW50RnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcyx0aGlzLm93bmVyRG9jdW1lbnQsYSxiKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4udGVzdChhKT9udWxsOnRoaXMucXVlcnlTZWxlY3RvcignW2lkPSInK2ErJyJdJyl9fSksYS53cmFwcGVycy5TaGFkb3dSb290PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7YS5wcmV2aW91c1NpYmxpbmdfPWEucHJldmlvdXNTaWJsaW5nLGEubmV4dFNpYmxpbmdfPWEubmV4dFNpYmxpbmcsYS5wYXJlbnROb2RlXz1hLnBhcmVudE5vZGV9ZnVuY3Rpb24gYyhhLGMsZSl7dmFyIGY9RyhhKSxnPUcoYyksaD1lP0coZSk6bnVsbDtpZihkKGMpLGIoYyksZSlhLmZpcnN0Q2hpbGQ9PT1lJiYoYS5maXJzdENoaWxkXz1lKSxlLnByZXZpb3VzU2libGluZ189ZS5wcmV2aW91c1NpYmxpbmc7ZWxzZXthLmxhc3RDaGlsZF89YS5sYXN0Q2hpbGQsYS5sYXN0Q2hpbGQ9PT1hLmZpcnN0Q2hpbGQmJihhLmZpcnN0Q2hpbGRfPWEuZmlyc3RDaGlsZCk7dmFyIGk9SChmLmxhc3RDaGlsZCk7aSYmKGkubmV4dFNpYmxpbmdfPWkubmV4dFNpYmxpbmcpfWYuaW5zZXJ0QmVmb3JlKGcsaCl9ZnVuY3Rpb24gZChhKXt2YXIgYz1HKGEpLGQ9Yy5wYXJlbnROb2RlO2lmKGQpe3ZhciBlPUgoZCk7YihhKSxhLnByZXZpb3VzU2libGluZyYmKGEucHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nXz1hKSxhLm5leHRTaWJsaW5nJiYoYS5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmdfPWEpLGUubGFzdENoaWxkPT09YSYmKGUubGFzdENoaWxkXz1hKSxlLmZpcnN0Q2hpbGQ9PT1hJiYoZS5maXJzdENoaWxkXz1hKSxkLnJlbW92ZUNoaWxkKGMpfX1mdW5jdGlvbiBlKGEpe0kuc2V0KGEsW10pfWZ1bmN0aW9uIGYoYSl7dmFyIGI9SS5nZXQoYSk7cmV0dXJuIGJ8fEkuc2V0KGEsYj1bXSksYn1mdW5jdGlvbiBnKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gaCgpe2Zvcih2YXIgYT0wO2E8TS5sZW5ndGg7YSsrKXt2YXIgYj1NW2FdLGM9Yi5wYXJlbnRSZW5kZXJlcjtjJiZjLmRpcnR5fHxiLnJlbmRlcigpfU09W119ZnVuY3Rpb24gaSgpe3k9bnVsbCxoKCl9ZnVuY3Rpb24gaihhKXt2YXIgYj1LLmdldChhKTtyZXR1cm4gYnx8KGI9bmV3IG4oYSksSy5zZXQoYSxiKSksYn1mdW5jdGlvbiBrKGEpe3ZhciBiPUUoYSkucm9vdDtyZXR1cm4gYiBpbnN0YW5jZW9mIEQ/YjpudWxsfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIGooYS5ob3N0KX1mdW5jdGlvbiBtKGEpe3RoaXMuc2tpcD0hMSx0aGlzLm5vZGU9YSx0aGlzLmNoaWxkTm9kZXM9W119ZnVuY3Rpb24gbihhKXt0aGlzLmhvc3Q9YSx0aGlzLmRpcnR5PSExLHRoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKSx0aGlzLmFzc29jaWF0ZU5vZGUoYSl9ZnVuY3Rpb24gbyhhKXtmb3IodmFyIGI9W10sYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpdihjKT9iLnB1c2guYXBwbHkoYixmKGMpKTpiLnB1c2goYyk7cmV0dXJuIGJ9ZnVuY3Rpb24gcChhKXtpZihhIGluc3RhbmNlb2YgQilyZXR1cm4gYTtpZihhIGluc3RhbmNlb2YgQSlyZXR1cm4gbnVsbDtmb3IodmFyIGI9YS5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKXt2YXIgYz1wKGIpO2lmKGMpcmV0dXJuIGN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcShhLGIpe2YoYikucHVzaChhKTt2YXIgYz1KLmdldChhKTtjP2MucHVzaChiKTpKLnNldChhLFtiXSl9ZnVuY3Rpb24gcihhKXtyZXR1cm4gSi5nZXQoYSl9ZnVuY3Rpb24gcyhhKXtKLnNldChhLHZvaWQgMCl9ZnVuY3Rpb24gdChhLGIpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKCJzZWxlY3QiKTtpZighYylyZXR1cm4hMDtpZihjPWMudHJpbSgpLCFjKXJldHVybiEwO2lmKCEoYSBpbnN0YW5jZW9mIHopKXJldHVybiExO2lmKCFPLnRlc3QoYykpcmV0dXJuITE7dHJ5e3JldHVybiBhLm1hdGNoZXMoYyl9Y2F0Y2goZCl7cmV0dXJuITF9fWZ1bmN0aW9uIHUoYSxiKXt2YXIgYz1yKGIpO3JldHVybiBjJiZjW2MubGVuZ3RoLTFdPT09YX1mdW5jdGlvbiB2KGEpe3JldHVybiBhIGluc3RhbmNlb2YgQXx8YSBpbnN0YW5jZW9mIEJ9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYS5zaGFkb3dSb290fWZ1bmN0aW9uIHgoYSl7Zm9yKHZhciBiPVtdLGM9YS5zaGFkb3dSb290O2M7Yz1jLm9sZGVyU2hhZG93Um9vdCliLnB1c2goYyk7cmV0dXJuIGJ9dmFyIHksej1hLndyYXBwZXJzLkVsZW1lbnQsQT1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxCPWEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQsQz1hLndyYXBwZXJzLk5vZGUsRD1hLndyYXBwZXJzLlNoYWRvd1Jvb3QsRT0oYS5hc3NlcnQsYS5nZXRUcmVlU2NvcGUpLEY9KGEubWl4aW4sYS5vbmVPZiksRz1hLnVud3JhcCxIPWEud3JhcCxJPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsSz1uZXcgV2Vha01hcCxMPUYod2luZG93LFsicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCJdKSxNPVtdLE49bmV3IEFycmF5U3BsaWNlO04uZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEcoYS5ub2RlKT09PWJ9LG0ucHJvdG90eXBlPXthcHBlbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG0oYSk7cmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGIpLGJ9LHN5bmM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc2tpcCl7Zm9yKHZhciBiPXRoaXMubm9kZSxlPXRoaXMuY2hpbGROb2RlcyxmPWcoRyhiKSksaD1hfHxuZXcgV2Vha01hcCxpPU4uY2FsY3VsYXRlU3BsaWNlcyhlLGYpLGo9MCxrPTAsbD0wLG09MDttPGkubGVuZ3RoO20rKyl7Zm9yKHZhciBuPWlbbV07bDxuLmluZGV4O2wrKylrKyssZVtqKytdLnN5bmMoaCk7Zm9yKHZhciBvPW4ucmVtb3ZlZC5sZW5ndGgscD0wO28+cDtwKyspe3ZhciBxPUgoZltrKytdKTtoLmdldChxKXx8ZChxKX1mb3IodmFyIHI9bi5hZGRlZENvdW50LHM9ZltrXSYmSChmW2tdKSxwPTA7cj5wO3ArKyl7dmFyIHQ9ZVtqKytdLHU9dC5ub2RlO2MoYix1LHMpLGguc2V0KHUsITApLHQuc3luYyhoKX1sKz1yfWZvcih2YXIgbT1sO208ZS5sZW5ndGg7bSsrKWVbbV0uc3luYyhoKX19fSxuLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlydHkpe3RoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKTt2YXIgYj10aGlzLmhvc3Q7dGhpcy5kaXN0cmlidXRpb24oYik7dmFyIGM9YXx8bmV3IG0oYik7dGhpcy5idWlsZFJlbmRlclRyZWUoYyxiKTt2YXIgZD0hYTtkJiZjLnN5bmMoKSx0aGlzLmRpcnR5PSExfX0sZ2V0IHBhcmVudFJlbmRlcmVyKCl7cmV0dXJuIEUodGhpcy5ob3N0KS5yZW5kZXJlcn0saW52YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmRpcnR5KXtpZih0aGlzLmRpcnR5PSEwLE0ucHVzaCh0aGlzKSx5KXJldHVybjt5PXdpbmRvd1tMXShpLDApfX0sZGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGEpe3RoaXMucmVzZXRBbGwoYSksdGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGEpfSxyZXNldEFsbDpmdW5jdGlvbihhKXt2KGEpP2UoYSk6cyhhKTtmb3IodmFyIGI9YS5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKXRoaXMucmVzZXRBbGwoYik7YS5zaGFkb3dSb290JiZ0aGlzLnJlc2V0QWxsKGEuc2hhZG93Um9vdCksYS5vbGRlclNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5vbGRlclNoYWRvd1Jvb3QpfSxkaXN0cmlidXRpb25SZXNvbHV0aW9uOmZ1bmN0aW9uKGEpe2lmKHcoYSkpe2Zvcih2YXIgYj1hLGM9byhiKSxkPXgoYiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXRoaXMucG9vbERpc3RyaWJ1dGlvbihkW2VdLGMpO2Zvcih2YXIgZT1kLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgZj1kW2VdLGc9cChmKTtpZihnKXt2YXIgaD1mLm9sZGVyU2hhZG93Um9vdDtoJiYoYz1vKGgpKTtmb3IodmFyIGk9MDtpPGMubGVuZ3RoO2krKylxKGNbaV0sZyl9dGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGYpfX1mb3IodmFyIGo9YS5maXJzdENoaWxkO2o7aj1qLm5leHRTaWJsaW5nKXRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihqKX0scG9vbERpc3RyaWJ1dGlvbjpmdW5jdGlvbihhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIEIpKWlmKGEgaW5zdGFuY2VvZiBBKXt2YXIgYz1hO3RoaXMudXBkYXRlRGVwZW5kZW50QXR0cmlidXRlcyhjLmdldEF0dHJpYnV0ZSgic2VsZWN0IikpO2Zvcih2YXIgZD0hMSxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBhPWJbZV07YSYmdChhLGMpJiYocShhLGMpLGJbZV09dm9pZCAwLGQ9ITApfWlmKCFkKWZvcih2YXIgZj1jLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpcShmLGMpfWVsc2UgZm9yKHZhciBmPWEuZmlyc3RDaGlsZDtmO2Y9Zi5uZXh0U2libGluZyl0aGlzLnBvb2xEaXN0cmlidXRpb24oZixiKX0sYnVpbGRSZW5kZXJUcmVlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuY29tcG9zZShiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZj1hLmFwcGVuZChlKTt0aGlzLmJ1aWxkUmVuZGVyVHJlZShmLGUpfWlmKHcoYikpe3ZhciBnPWooYik7Zy5kaXJ0eT0hMX19LGNvbXBvc2U6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9YS5zaGFkb3dSb290fHxhLGQ9Yy5maXJzdENoaWxkO2Q7ZD1kLm5leHRTaWJsaW5nKWlmKHYoZCkpe3RoaXMuYXNzb2NpYXRlTm9kZShjKTtmb3IodmFyIGU9ZihkKSxnPTA7ZzxlLmxlbmd0aDtnKyspe3ZhciBoPWVbZ107dShkLGgpJiZiLnB1c2goaCl9fWVsc2UgYi5wdXNoKGQpO3JldHVybiBifSxpbnZhbGlkYXRlQXR0cmlidXRlczpmdW5jdGlvbigpe3RoaXMuYXR0cmlidXRlcz1PYmplY3QuY3JlYXRlKG51bGwpfSx1cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlczsvXC5cdysvLnRlc3QoYSkmJihiWyJjbGFzcyJdPSEwKSwvI1x3Ky8udGVzdChhKSYmKGIuaWQ9ITApLGEucmVwbGFjZSgvXFtccyooW15ccz1cfH5cXV0rKS9nLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pfX0sZGVwZW5kc09uQXR0cmlidXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbYV19LGFzc29jaWF0ZU5vZGU6ZnVuY3Rpb24oYSl7YS5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319O3ZhciBPPS9eWyouI1thLXpBLVpffF0vO0MucHJvdG90eXBlLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW1wbC5wb2x5bWVyU2hhZG93UmVuZGVyZXJfO3JldHVybiBhPyhhLmludmFsaWRhdGUoKSwhMCk6ITF9LEEucHJvdG90eXBlLmdldERpc3RyaWJ1dGVkTm9kZXM9Qi5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1mdW5jdGlvbigpe3JldHVybiBoKCksZih0aGlzKX0sei5wcm90b3R5cGUuZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm4gaCgpLHIodGhpcyl8fFtdfSxBLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89Qi5wcm90b3R5cGUubm9kZUlzSW5zZXJ0ZWRfPWZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKTt2YXIgYSxiPWsodGhpcyk7YiYmKGE9bChiKSksdGhpcy5pbXBsLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89YSxhJiZhLmludmFsaWRhdGUoKX0sYS5nZXRSZW5kZXJlckZvckhvc3Q9aixhLmdldFNoYWRvd1RyZWVzPXgsYS5yZW5kZXJBbGxQZW5kaW5nPWgsYS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1yLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYil7aWYod2luZG93W2JdKXtkKCFhLndyYXBwZXJzW2JdKTt2YXIgaT1mdW5jdGlvbihhKXtjLmNhbGwodGhpcyxhKX07aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZShpLnByb3RvdHlwZSx7Z2V0IGZvcm0oKXtyZXR1cm4gaChnKHRoaXMpLmZvcm0pfX0pLGYod2luZG93W2JdLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiLnNsaWNlKDQsLTcpKSksYS53cmFwcGVyc1tiXT1pfX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5hc3NlcnQsZT1hLm1peGluLGY9YS5yZWdpc3RlcldyYXBwZXIsZz1hLnVud3JhcCxoPWEud3JhcCxpPVsiSFRNTEJ1dHRvbkVsZW1lbnQiLCJIVE1MRmllbGRTZXRFbGVtZW50IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxLZXlnZW5FbGVtZW50IiwiSFRNTExhYmVsRWxlbWVudCIsIkhUTUxMZWdlbmRFbGVtZW50IiwiSFRNTE9iamVjdEVsZW1lbnQiLCJIVE1MT3V0cHV0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiXTtpLmZvckVhY2goYil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGIoYSl7dGhpcy5pbXBsPWF9e3ZhciBjPWEucmVnaXN0ZXJXcmFwcGVyLGQ9YS51bndyYXAsZT1hLnVud3JhcElmTmVlZGVkLGY9YS53cmFwO3dpbmRvdy5TZWxlY3Rpb259Yi5wcm90b3R5cGU9e2dldCBhbmNob3JOb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLmFuY2hvck5vZGUpfSxnZXQgZm9jdXNOb2RlKCl7cmV0dXJuIGYodGhpcy5pbXBsLmZvY3VzTm9kZSl9LGFkZFJhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuaW1wbC5hZGRSYW5nZShkKGEpKX0sY29sbGFwc2U6ZnVuY3Rpb24oYSxiKXt0aGlzLmltcGwuY29sbGFwc2UoZShhKSxiKX0sY29udGFpbnNOb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW1wbC5jb250YWluc05vZGUoZShhKSxiKX0sZXh0ZW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5pbXBsLmV4dGVuZChlKGEpLGIpfSxnZXRSYW5nZUF0OmZ1bmN0aW9uKGEpe3JldHVybiBmKHRoaXMuaW1wbC5nZXRSYW5nZUF0KGEpKX0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5pbXBsLnJlbW92ZVJhbmdlKGQoYSkpfSxzZWxlY3RBbGxDaGlsZHJlbjpmdW5jdGlvbihhKXt0aGlzLmltcGwuc2VsZWN0QWxsQ2hpbGRyZW4oZShhKSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1wbC50b1N0cmluZygpfX0sYyh3aW5kb3cuU2VsZWN0aW9uLGIsd2luZG93LmdldFNlbGVjdGlvbigpKSxhLndyYXBwZXJzLlNlbGVjdGlvbj1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2suY2FsbCh0aGlzLGEpLHRoaXMudHJlZVNjb3BlXz1uZXcgcCh0aGlzLG51bGwpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9ZG9jdW1lbnRbYV07Yi5wcm90b3R5cGVbYV09ZnVuY3Rpb24oKXtyZXR1cm4gQShjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gZChhLGIpe0QuY2FsbChiLmltcGwseihhKSksZShhLGIpfWZ1bmN0aW9uIGUoYSxiKXthLnNoYWRvd1Jvb3QmJmIuYWRvcHROb2RlKGEuc2hhZG93Um9vdCksYSBpbnN0YW5jZW9mIG8mJmYoYSxiKTtmb3IodmFyIGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWUoYyxiKX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9YS5vbGRlclNoYWRvd1Jvb3Q7YyYmYi5hZG9wdE5vZGUoYyl9ZnVuY3Rpb24gZyhhKXt0aGlzLmltcGw9YX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gQShjLmFwcGx5KHRoaXMuaW1wbCxhcmd1bWVudHMpKX19ZnVuY3Rpb24gaShhLGIpe3ZhciBjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uW2JdO2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkodGhpcy5pbXBsLGFyZ3VtZW50cyl9fXZhciBqPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxrPWEud3JhcHBlcnMuTm9kZSxsPWEuUGFyZW50Tm9kZUludGVyZmFjZSxtPWEud3JhcHBlcnMuU2VsZWN0aW9uLG49YS5TZWxlY3RvcnNJbnRlcmZhY2Usbz1hLndyYXBwZXJzLlNoYWRvd1Jvb3QscD1hLlRyZWVTY29wZSxxPWEuY2xvbmVOb2RlLHI9YS5kZWZpbmVXcmFwR2V0dGVyLHM9YS5lbGVtZW50RnJvbVBvaW50LHQ9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix1PWEubWF0Y2hlc05hbWVzLHY9YS5taXhpbix3PWEucmVnaXN0ZXJXcmFwcGVyLHg9YS5yZW5kZXJBbGxQZW5kaW5nLHk9YS5yZXdyYXAsej1hLnVud3JhcCxBPWEud3JhcCxCPWEud3JhcEV2ZW50VGFyZ2V0TWV0aG9kcyxDPShhLndyYXBOb2RlTGlzdCxuZXcgV2Vha01hcCk7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShrLnByb3RvdHlwZSkscihiLCJkb2N1bWVudEVsZW1lbnQiKSxyKGIsImJvZHkiKSxyKGIsImhlYWQiKSxbImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJnZXRFbGVtZW50QnlJZCJdLmZvckVhY2goYyk7dmFyIEQ9ZG9jdW1lbnQuYWRvcHROb2RlLEU9ZG9jdW1lbnQuZ2V0U2VsZWN0aW9uO2lmKHYoYi5wcm90b3R5cGUse2Fkb3B0Tm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksZChhLHRoaXMpLGF9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcyh0aGlzLHRoaXMsYSxiKX0saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIpe3JldHVybiBxKGEsYix0aGlzLmltcGwpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4geCgpLG5ldyBtKEUuY2FsbCh6KHRoaXMpKSl9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgRj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkKHRoaXMuaW1wbD1hKTpmP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZixiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpfXZhciBlLGY7aWYodm9pZCAwIT09YyYmKGU9Yy5wcm90b3R5cGUsZj1jLmV4dGVuZHMpLGV8fChlPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKSksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoZSkpdGhyb3cgbmV3IEVycm9yKCJOb3RTdXBwb3J0ZWRFcnJvciIpO2Zvcih2YXIgZyxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKSxpPVtdO2gmJiEoZz1hLm5hdGl2ZVByb3RvdHlwZVRhYmxlLmdldChoKSk7KWkucHVzaChoKSxoPU9iamVjdC5nZXRQcm90b3R5cGVPZihoKTtpZighZyl0aHJvdyBuZXcgRXJyb3IoIk5vdFN1cHBvcnRlZEVycm9yIik7Zm9yKHZhciBqPU9iamVjdC5jcmVhdGUoZyksaz1pLmxlbmd0aC0xO2s+PTA7ay0tKWo9T2JqZWN0LmNyZWF0ZShqKTtbImNyZWF0ZWRDYWxsYmFjayIsImF0dGFjaGVkQ2FsbGJhY2siLCJkZXRhY2hlZENhbGxiYWNrIiwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1lW2FdO2ImJihqW2FdPWZ1bmN0aW9uKCl7QSh0aGlzKWluc3RhbmNlb2YgZHx8eSh0aGlzKSxiLmFwcGx5KEEodGhpcyksYXJndW1lbnRzKX0pfSk7dmFyIGw9e3Byb3RvdHlwZTpqfTtmJiYobC5leHRlbmRzPWYpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGosZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxqKTtGLmNhbGwoeih0aGlzKSxiLGwpO3JldHVybiBkfSx0KFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFsicmVnaXN0ZXJFbGVtZW50Il0pfXQoW3dpbmRvdy5IVE1MQm9keUVsZW1lbnQsd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LHdpbmRvdy5IVE1MSGVhZEVsZW1lbnQsd2luZG93LkhUTUxIdG1sRWxlbWVudF0sWyJhcHBlbmRDaGlsZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiY29udGFpbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwiaW5zZXJ0QmVmb3JlIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VDaGlsZCJdLmNvbmNhdCh1KSksdChbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbImFkb3B0Tm9kZSIsImltcG9ydE5vZGUiLCJjb250YWlucyIsImNyZWF0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZUV2ZW50IiwiY3JlYXRlRXZlbnROUyIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlVGV4dE5vZGUiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRTZWxlY3Rpb24iXSksdihiLnByb3RvdHlwZSxqKSx2KGIucHJvdG90eXBlLGwpLHYoYi5wcm90b3R5cGUsbiksdihiLnByb3RvdHlwZSx7Z2V0IGltcGxlbWVudGF0aW9uKCl7dmFyIGE9Qy5nZXQodGhpcyk7cmV0dXJuIGE/YTooYT1uZXcgZyh6KHRoaXMpLmltcGxlbWVudGF0aW9uKSxDLnNldCh0aGlzLGEpLGEpfSxnZXQgZGVmYXVsdFZpZXcoKXtyZXR1cm4gQSh6KHRoaXMpLmRlZmF1bHRWaWV3KX19KSx3KHdpbmRvdy5Eb2N1bWVudCxiLGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLHdpbmRvdy5IVE1MRG9jdW1lbnQmJncod2luZG93LkhUTUxEb2N1bWVudCxiKSxCKFt3aW5kb3cuSFRNTEJvZHlFbGVtZW50LHdpbmRvdy5IVE1MRG9jdW1lbnR8fHdpbmRvdy5Eb2N1bWVudCx3aW5kb3cuSFRNTEhlYWRFbGVtZW50XSksaChnLCJjcmVhdGVEb2N1bWVudFR5cGUiKSxoKGcsImNyZWF0ZURvY3VtZW50IiksaChnLCJjcmVhdGVIVE1MRG9jdW1lbnQiKSxpKGcsImhhc0ZlYXR1cmUiKSx3KHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixnKSx0KFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFsiY3JlYXRlRG9jdW1lbnRUeXBlIiwiY3JlYXRlRG9jdW1lbnQiLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoYXNGZWF0dXJlIl0pLGEuYWRvcHROb2RlTm9SZW1vdmU9ZCxhLndyYXBwZXJzLkRPTUltcGxlbWVudGF0aW9uPWcsYS53cmFwcGVycy5Eb2N1bWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuRXZlbnRUYXJnZXQsZD1hLndyYXBwZXJzLlNlbGVjdGlvbixlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEucmVuZGVyQWxsUGVuZGluZyxoPWEudW53cmFwLGk9YS51bndyYXBJZk5lZWRlZCxqPWEud3JhcCxrPXdpbmRvdy5XaW5kb3csbD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxtPXdpbmRvdy5nZXRTZWxlY3Rpb247Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksay5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBqKHRoaXN8fHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpKGEpLGIpfSxrLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldFNlbGVjdGlvbigpfSxkZWxldGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXRTZWxlY3Rpb24sWyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2sucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7dmFyIGI9aih0aGlzfHx3aW5kb3cpO3JldHVybiBiW2FdLmFwcGx5KGIsYXJndW1lbnRzKX0sZGVsZXRlIHdpbmRvd1thXX0pLGUoYi5wcm90b3R5cGUse2dldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZygpLGwuY2FsbChoKHRoaXMpLGkoYSksYil9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKCksbmV3IGQobS5jYWxsKGgodGhpcykpKX0sZ2V0IGRvY3VtZW50KCl7cmV0dXJuIGooaCh0aGlzKS5kb2N1bWVudCl9fSksZihrLGIsd2luZG93KSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj1hLnVud3JhcCxjPXdpbmRvdy5EYXRhVHJhbnNmZXJ8fHdpbmRvdy5DbGlwYm9hcmQsZD1jLnByb3RvdHlwZS5zZXREcmFnSW1hZ2U7Yy5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGEsYyxlKXtkLmNhbGwodGhpcyxiKGEpLGMsZSl9fSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3ZhciBiPWNbYV0sZD13aW5kb3dbYl07aWYoZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSxmPWUuY29uc3RydWN0b3I7d2luZG93W2JdPWZ9fXZhciBjPShhLmlzV3JhcHBlckZvcix7YToiSFRNTEFuY2hvckVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGJhc2U6IkhUTUxCYXNlRWxlbWVudCIsYm9keToiSFRNTEJvZHlFbGVtZW50IixicjoiSFRNTEJSRWxlbWVudCIsYnV0dG9uOiJIVE1MQnV0dG9uRWxlbWVudCIsY2FudmFzOiJIVE1MQ2FudmFzRWxlbWVudCIsY2FwdGlvbjoiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQiLGNvbDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29udGVudDoiSFRNTENvbnRlbnRFbGVtZW50IixkYXRhOiJIVE1MRGF0YUVsZW1lbnQiLGRhdGFsaXN0OiJIVE1MRGF0YUxpc3RFbGVtZW50IixkZWw6IkhUTUxNb2RFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZW1iZWQ6IkhUTUxFbWJlZEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50Iixmb250OiJIVE1MRm9udEVsZW1lbnQiLGZvcm06IkhUTUxGb3JtRWxlbWVudCIsZnJhbWU6IkhUTUxGcmFtZUVsZW1lbnQiLGZyYW1lc2V0OiJIVE1MRnJhbWVTZXRFbGVtZW50IixoMToiSFRNTEhlYWRpbmdFbGVtZW50IixoZWFkOiJIVE1MSGVhZEVsZW1lbnQiLGhyOiJIVE1MSFJFbGVtZW50IixodG1sOiJIVE1MSHRtbEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGtleWdlbjoiSFRNTEtleWdlbkVsZW1lbnQiLGxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJxdWVlOiJIVE1MTWFycXVlZUVsZW1lbnQiLG1lbnU6IkhUTUxNZW51RWxlbWVudCIsbWVudWl0ZW06IkhUTUxNZW51SXRlbUVsZW1lbnQiLG1ldGE6IkhUTUxNZXRhRWxlbWVudCIsbWV0ZXI6IkhUTUxNZXRlckVsZW1lbnQiLG9iamVjdDoiSFRNTE9iamVjdEVsZW1lbnQiLG9sOiJIVE1MT0xpc3RFbGVtZW50IixvcHRncm91cDoiSFRNTE9wdEdyb3VwRWxlbWVudCIsb3B0aW9uOiJIVE1MT3B0aW9uRWxlbWVudCIsb3V0cHV0OiJIVE1MT3V0cHV0RWxlbWVudCIscDoiSFRNTFBhcmFncmFwaEVsZW1lbnQiLHBhcmFtOiJIVE1MUGFyYW1FbGVtZW50IixwcmU6IkhUTUxQcmVFbGVtZW50Iixwcm9ncmVzczoiSFRNTFByb2dyZXNzRWxlbWVudCIscToiSFRNTFF1b3RlRWxlbWVudCIsc2NyaXB0OiJIVE1MU2NyaXB0RWxlbWVudCIsc2VsZWN0OiJIVE1MU2VsZWN0RWxlbWVudCIsc2hhZG93OiJIVE1MU2hhZG93RWxlbWVudCIsc291cmNlOiJIVE1MU291cmNlRWxlbWVudCIsc3BhbjoiSFRNTFNwYW5FbGVtZW50IixzdHlsZToiSFRNTFN0eWxlRWxlbWVudCIsdGFibGU6IkhUTUxUYWJsZUVsZW1lbnQiLHRib2R5OiJIVE1MVGFibGVTZWN0aW9uRWxlbWVudCIsdGVtcGxhdGU6IkhUTUxUZW1wbGF0ZUVsZW1lbnQiLHRleHRhcmVhOiJIVE1MVGV4dEFyZWFFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLHZpZGVvOiJIVE1MVmlkZW9FbGVtZW50In0pO09iamVjdC5rZXlzKGMpLmZvckVhY2goYiksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYS53cmFwcGVycykuZm9yRWFjaChmdW5jdGlvbihiKXt3aW5kb3dbYl09YS53cmFwcGVyc1tiXX0pfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKCl7d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCJ3ZWJraXRTaGFkb3dSb290IixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEVsZW1lbnQucHJvdG90eXBlLCJzaGFkb3dSb290IikpO3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn0sRWxlbWVudC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290fSgpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgYz0iIjtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2MrPWEudGV4dENvbnRlbnQrIlxuXG4ifSksYnx8KGM9Yy5yZXBsYWNlKGwsIiIpKSxjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2Fybigic2hlZXQgbm90IGZvdW5kIixiKTtyZXR1cm4gYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGR9ZnVuY3Rpb24gZSgpe3YuaW5pdGlhbGl6ZWQ9ITAsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2KTt2YXIgYT12LmNvbnRlbnREb2N1bWVudCxiPWEuY3JlYXRlRWxlbWVudCgiYmFzZSIpO2IuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGEuaGVhZC5hcHBlbmRDaGlsZChiKX1mdW5jdGlvbiBmKGEpe3YuaW5pdGlhbGl6ZWR8fGUoKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpLGEodi5jb250ZW50RG9jdW1lbnQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodil9ZnVuY3Rpb24gZyhhLGIpe2lmKGIpe3ZhciBlO2lmKGEubWF0Y2goIkBpbXBvcnQiKSYmeCl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9Zy5zaGVldC5jc3NSdWxlcyxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsIiIpLGQuc2V0QXR0cmlidXRlKHosIiIpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9ZnVuY3Rpb24gaigpe3JldHVybiB3fHwodz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLHcuc2V0QXR0cmlidXRlKHosIiIpLHdbel09ITApLHd9dmFyIGs9e3N0cmljdFN0eWxpbmc6ITEscmVnaXN0cnk6e30sc2hpbVN0eWxpbmc6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPXRoaXMucHJlcGFyZVJvb3QoYSxjLGQpLGY9dGhpcy5pc1R5cGVFeHRlbnNpb24oZCksZz10aGlzLm1ha2VTY29wZVNlbGVjdG9yKGMsZiksaD1iKGUsITApO2g9dGhpcy5zY29wZUNzc1RleHQoaCxnKSxhJiYoYS5zaGltbWVkU3R5bGU9aCksdGhpcy5hZGRDc3NUb0RvY3VtZW50KGgsYyl9LHNoaW1TdHlsZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNoaW1Dc3NUZXh0KGEudGV4dENvbnRlbnQsYil9LHNoaW1Dc3NUZXh0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5pbnNlcnREaXJlY3RpdmVzKGEpLHRoaXMuc2NvcGVDc3NUZXh0KGEsYil9LG1ha2VTY29wZVNlbGVjdG9yOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yj8iW2lzPSIrYSsiXSI6YToiIn0saXNUeXBlRXh0ZW5zaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLmluZGV4T2YoIi0iKTwwfSxwcmVwYXJlUm9vdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RlclJvb3QoYSxiLGMpO3JldHVybiB0aGlzLnJlcGxhY2VUZXh0SW5TdHlsZXMoZC5yb290U3R5bGVzLHRoaXMuaW5zZXJ0RGlyZWN0aXZlcyksdGhpcy5yZW1vdmVTdHlsZXMoYSxkLnJvb3RTdHlsZXMpLHRoaXMuc3RyaWN0U3R5bGluZyYmdGhpcy5hcHBseVNjb3BlVG9Db250ZW50KGEsYiksZC5zY29wZVN0eWxlc30scmVtb3ZlU3R5bGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPWIubGVuZ3RoO2U+ZCYmKGM9YltkXSk7ZCsrKWMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKX0scmVnaXN0ZXJSb290OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnJlZ2lzdHJ5W2JdPXtyb290OmEsbmFtZTpiLGV4dGVuZHNOYW1lOmN9LGU9dGhpcy5maW5kU3R5bGVzKGEpO2Qucm9vdFN0eWxlcz1lLGQuc2NvcGVTdHlsZXM9ZC5yb290U3R5bGVzO3ZhciBmPXRoaXMucmVnaXN0cnlbZC5leHRlbmRzTmFtZV07cmV0dXJuIGYmJihkLnNjb3BlU3R5bGVzPWYuc2NvcGVTdHlsZXMuY29uY2F0KGQuc2NvcGVTdHlsZXMpKSxkfSxmaW5kU3R5bGVzOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybltdO3ZhciBiPWEucXVlcnlTZWxlY3RvckFsbCgic3R5bGUiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGIsZnVuY3Rpb24oYSl7cmV0dXJuIWEuaGFzQXR0cmlidXRlKEEpfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oYSxiKXthJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSxmdW5jdGlvbihhKXthLnNldEF0dHJpYnV0ZShiLCIiKX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYS5xdWVyeVNlbGVjdG9yQWxsKCJ0ZW1wbGF0ZSIpLGZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLmNvbnRlbnQsYil9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UobSxmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTIpKyJ7In0pLGEucmVwbGFjZShuLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrIiB7In0pfSxpbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZShvLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc2xpY2UoMCwtMSl9KSxhLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnJlcGxhY2UoYiwiIikucmVwbGFjZShjLCIiKTtyZXR1cm4gZCtlfSl9LHNjb3BlQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZXh0cmFjdFVuc2NvcGVkUnVsZXNGcm9tQ3NzVGV4dChhKTtpZihhPXRoaXMuaW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0KGEpLGE9dGhpcy5jb252ZXJ0Q29sb25Ib3N0Q29udGV4dChhKSxhPXRoaXMuY29udmVydENvbWJpbmF0b3JzKGEpLGIpe3ZhciBhLGQ9dGhpcztnKGEsZnVuY3Rpb24oYyl7YT1kLnNjb3BlUnVsZXMoYyxiKX0pfXJldHVybiBhPWErIlxuIitjLGEudHJpbSgpfSxleHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPSIiO2I9cS5leGVjKGEpOyljKz1iWzFdLnNsaWNlKDAsLTEpKyJcblxuIjtmb3IoO2I9ci5leGVjKGEpOyljKz1iWzBdLnJlcGxhY2UoYlsyXSwiIikucmVwbGFjZShiWzFdLGJbM10pKyJcblxuIjtyZXR1cm4gY30sY29udmVydENvbG9uSG9zdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0UmUsdGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25Ib3N0Q29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0Q29udGV4dFJlLHRoaXMuY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvblJ1bGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsZCxlKXtpZihiPXBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixkKXtmb3IodmFyIGYsZz1kLnNwbGl0KCIsIiksaD1bXSxpPTAsaj1nLmxlbmd0aDtqPmkmJihmPWdbaV0pO2krKylmPWYudHJpbSgpLGgucHVzaChjKGIsZixlKSk7cmV0dXJuIGguam9pbigiLCIpfXJldHVybiBiK2V9KX0sY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIubWF0Y2gocyk/dGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIoYSxiLGMpOmErYitjKyIsICIrYisiICIrYStjfSxjb2xvbkhvc3RQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhK2IucmVwbGFjZShzLCIiKStjfSxjb252ZXJ0Q29tYmluYXRvcnM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjxjb21iaW5hdG9yc1JlLmxlbmd0aDtiKyspYT1hLnJlcGxhY2UoY29tYmluYXRvcnNSZVtiXSwiICIpO3JldHVybiBhfSxzY29wZVJ1bGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9IiI7cmV0dXJuIGEmJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnNlbGVjdG9yVGV4dCYmYS5zdHlsZSYmYS5zdHlsZS5jc3NUZXh0PyhjKz10aGlzLnNjb3BlU2VsZWN0b3IoYS5zZWxlY3RvclRleHQsYix0aGlzLnN0cmljdFN0eWxpbmcpKyIge1xuCSIsYys9dGhpcy5wcm9wZXJ0aWVzRnJvbVJ1bGUoYSkrIlxufVxuXG4iKTphLnR5cGU9PT1DU1NSdWxlLk1FRElBX1JVTEU/KGMrPSJAbWVkaWEgIithLm1lZGlhLm1lZGlhVGV4dCsiIHtcbiIsYys9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYiksYys9IlxufVxuXG4iKTphLmNzc1RleHQmJihjKz1hLmNzc1RleHQrIlxuXG4iKX0sdGhpcyksY30sc2NvcGVTZWxlY3RvcjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZT1hLnNwbGl0KCIsIik7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihhKXthPWEudHJpbSgpLHRoaXMuc2VsZWN0b3JOZWVkc1Njb3BpbmcoYSxiKSYmKGE9YyYmIWEubWF0Y2gocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yKT90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTZWxlY3RvclNjb3BlKGEsYikpLGQucHVzaChhKX0sdGhpcyksZC5qb2luKCIsICIpfSxzZWxlY3Rvck5lZWRzU2NvcGluZzpmdW5jdGlvbihhLGIpe2lmKEFycmF5LmlzQXJyYXkoYikpcmV0dXJuITA7dmFyIGM9dGhpcy5tYWtlU2NvcGVNYXRjaGVyKGIpO3JldHVybiFhLm1hdGNoKGMpfSxtYWtlU2NvcGVNYXRjaGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhPWEucmVwbGFjZSgvXFsvZywiXFxbIikucmVwbGFjZSgvXFsvZywiXFxdIiksbmV3IFJlZ0V4cCgiXigiK2ErIikiK3NlbGVjdG9yUmVTdWZmaXgsIm0iKX0sYXBwbHlTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LmlzQXJyYXkoYik/dGhpcy5hcHBseVNlbGVjdG9yU2NvcGVMaXN0KGEsYik6dGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxiKX0sYXBwbHlTZWxlY3RvclNjb3BlTGlzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPVtdLGU9MDtjPWJbZV07ZSsrKWQucHVzaCh0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGMpKTtyZXR1cm4gZC5qb2luKCIsICIpfSxhcHBseVNpbXBsZVNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5tYXRjaChwb2x5ZmlsbEhvc3RSZSk/KGE9YS5yZXBsYWNlKHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixiKSxhLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsYisiICIpKTpiKyIgIithfSxhcHBseVN0cmljdFNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtiPWIucmVwbGFjZSgvXFtpcz0oW15cXV0qKVxdL2csIiQxIik7dmFyIGM9WyIgIiwiPiIsIisiLCJ+Il0sZD1hLGU9IlsiK2IrIl0iO3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9ZC5zcGxpdChhKTtkPWIubWFwKGZ1bmN0aW9uKGEpe3ZhciBiPWEudHJpbSgpLnJlcGxhY2UocG9seWZpbGxIb3N0UmUsIiIpO3JldHVybiBiJiZjLmluZGV4T2YoYik8MCYmYi5pbmRleE9mKGUpPDAmJihhPWIucmVwbGFjZSgvKFteOl0qKSg6KikoLiopLywiJDEiK2UrIiQyJDMiKSksYX0pLmpvaW4oYSl9KSxkfSxpbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShjb2xvbkhvc3RDb250ZXh0UmUsdCkucmVwbGFjZShjb2xvbkhvc3RSZSxzKX0scHJvcGVydGllc0Zyb21SdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc3R5bGUuY3NzVGV4dDthLnN0eWxlLmNvbnRlbnQmJiFhLnN0eWxlLmNvbnRlbnQubWF0Y2goL1snIl0rfGF0dHIvKSYmKGI9Yi5yZXBsYWNlKC9jb250ZW50OlteO10qOy9nLCJjb250ZW50OiAnIithLnN0eWxlLmNvbnRlbnQrIic7IikpO3ZhciBjPWEuc3R5bGU7Zm9yKHZhciBkIGluIGMpImluaXRpYWwiPT09Y1tkXSYmKGIrPWQrIjogaW5pdGlhbDsgIik7cmV0dXJuIGJ9LHJlcGxhY2VUZXh0SW5TdHlsZXM6ZnVuY3Rpb24oYSxiKXthJiZiJiYoYSBpbnN0YW5jZW9mIEFycmF5fHwoYT1bYV0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXthLnRleHRDb250ZW50PWIuY2FsbCh0aGlzLGEudGV4dENvbnRlbnQpfSx0aGlzKSl9LGFkZENzc1RvRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiKXthLm1hdGNoKCJAaW1wb3J0Iik/aShhLGIpOmgoYSl9fSxsPS9cL1wqW14qXSpcKisoW14vKl1bXipdKlwqKykqXC8vZ2ltLG09L1wvXCpccypAcG9seWZpbGwgKFteKl0qXCorKFteLypdW14qXSpcKispKlwvKShbXntdKj8pey9naW0sbj0vcG9seWZpbGwtbmV4dC1zZWxlY3RvcltefV0qY29udGVudFw6W1xzXSonKFteJ10qKSdbXn1dKn0oW157XSo/KXsvZ2ltLG89L1wvXCpcc0Bwb2x5ZmlsbC1ydWxlKFteKl0qXCorKFteLypdW14qXSpcKispKilcLy9naW0scD0vKHBvbHlmaWxsLXJ1bGUpW159XSooY29udGVudFw6W1xzXSonKFteJ10qKSdbXjtdKjspW159XSp9L2dpbSxxPS9cL1wqXHNAcG9seWZpbGwtdW5zY29wZWQtcnVsZShbXipdKlwqKyhbXi8qXVteKl0qXCorKSopXC8vZ2ltLHI9Lyhwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKVtefV0qKGNvbnRlbnRcOltcc10qJyhbXiddKiknW147XSo7KVtefV0qfS9naW0scz0iLXNoYWRvd2Nzc2hvc3QiLHQ9Ii1zaGFkb3djc3Njb250ZXh0Iix1PSIpKD86XFwoKCg/OlxcKFteKShdKlxcKXxbXikoXSopKz8pXFwpKT8oW14se10qKSI7Y3NzQ29sb25Ib3N0UmU9bmV3IFJlZ0V4cCgiKCIrcyt1LCJnaW0iKSxjc3NDb2xvbkhvc3RDb250ZXh0UmU9bmV3IFJlZ0V4cCgiKCIrdCt1LCJnaW0iKSxzZWxlY3RvclJlU3VmZml4PSIoWz5cXHN+K1suLHs6XVtcXHNcXFNdKik/JCIsY29sb25Ib3N0UmU9L1w6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cOmhvc3QtY29udGV4dC9naW0scG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yPXMrIi1uby1jb21iaW5hdG9yIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKHMsImdpbSIpLHBvbHlmaWxsSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKHQsImdpbSIpLGNvbWJpbmF0b3JzUmU9Wy9cXlxeL2csL1xeL2csL1wvc2hhZG93XC8vZywvXC9zaGFkb3ctZGVlcFwvL2csLzo6c2hhZG93L2csL1wvZGVlcFwvL2ddO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3Yuc3R5bGUuZGlzcGxheT0ibm9uZSI7dmFyIHcseD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKCJDaHJvbWUiKSx5PSJzaGltLXNoYWRvd2RvbSIsej0ic2hpbS1zaGFkb3dkb20tY3NzIixBPSJuby1zaGltIjtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe2goInN0eWxlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9XG4iKTt2YXIgQj13cmFwKGRvY3VtZW50KSxDPUIucXVlcnlTZWxlY3RvcigiaGVhZCIpO0MuaW5zZXJ0QmVmb3JlKGooKSxDLmNoaWxkTm9kZXNbMF0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7dmFyIGI9YS51cmxSZXNvbHZlcjtpZih3aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy51c2VOYXRpdmUpe3ZhciBjPSJsaW5rW3JlbD1zdHlsZXNoZWV0XVsiK3krIl0iLGQ9InN0eWxlWyIreSsiXSI7SFRNTEltcG9ydHMuaW1wb3J0ZXIuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzKz0iLCIrYyxIVE1MSW1wb3J0cy5pbXBvcnRlci5pbXBvcnRzUHJlbG9hZFNlbGVjdG9ycys9IiwiK2MsSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzPVtIVE1MSW1wb3J0cy5wYXJzZXIuZG9jdW1lbnRTZWxlY3RvcnMsYyxkXS5qb2luKCIsIik7dmFyIGU9SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYztIVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljPWZ1bmN0aW9uKGEpe2lmKCFhW3pdKXt2YXIgYz1hLl9faW1wb3J0RWxlbWVudHx8YTtpZighYy5oYXNBdHRyaWJ1dGUoeSkpcmV0dXJuIHZvaWQgZS5jYWxsKHRoaXMsYSk7YS5fX3Jlc291cmNlPyhjPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGMudGV4dENvbnRlbnQ9Yi5yZXNvbHZlQ3NzVGV4dChhLl9fcmVzb3VyY2UsYS5ocmVmKSk6Yi5yZXNvbHZlU3R5bGUoYyksYy50ZXh0Q29udGVudD1rLnNoaW1TdHlsZShjKSxjLnJlbW92ZUF0dHJpYnV0ZSh5LCIiKSxjLnNldEF0dHJpYnV0ZSh6LCIiKSxjW3pdPSEwLGMucGFyZW50Tm9kZSE9PUMmJihhLnBhcmVudE5vZGU9PT1DP0MucmVwbGFjZUNoaWxkKGMsYSk6Qy5hcHBlbmRDaGlsZChjKSksYy5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSksdGhpcy5wYXJzZU5leHQoKX19O3ZhciBmPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJzdHlsZXNoZWV0Ij09PWEucmVsJiZhLmhhc0F0dHJpYnV0ZSh5KT9hLl9fcmVzb3VyY2U6Zi5jYWxsKHRoaXMsYSl9fX0pfWEuU2hhZG93Q1NTPWt9KHdpbmRvdy5QbGF0Zm9ybSkpOiFmdW5jdGlvbigpe3dpbmRvdy53cmFwPXdpbmRvdy51bndyYXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aWYoQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlPT09ITEpe3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn19fSksUGxhdGZvcm0udGVtcGxhdGVDb250ZW50PWZ1bmN0aW9uKGEpe2lmKHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYSksIWEuY29udGVudCYmIWEuX2NvbnRlbnQpe2Zvcih2YXIgYj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7YS5maXJzdENoaWxkOyliLmFwcGVuZENoaWxkKGEuZmlyc3RDaGlsZCk7YS5fY29udGVudD1ifXJldHVybiBhLmNvbnRlbnR8fGEuX2NvbnRlbnR9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBiKGEpe3JldHVybiB2b2lkIDAhPT1tW2FdfWZ1bmN0aW9uIGMoKXtoLmNhbGwodGhpcyksdGhpcy5faXNJbnZhbGlkPSEwfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIiI9PWEmJmMuY2FsbCh0aGlzKSxhLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDYzLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBnKGEsZyxoKXtmdW5jdGlvbiBpKGEpe3QucHVzaChhKX12YXIgaj1nfHwic2NoZW1lIHN0YXJ0IixrPTAsbD0iIixyPSExLHM9ITEsdD1bXTthOmZvcig7KGFbay0xXSE9b3x8MD09aykmJiF0aGlzLl9pc0ludmFsaWQ7KXt2YXIgdT1hW2tdO3N3aXRjaChqKXtjYXNlInNjaGVtZSBzdGFydCI6aWYoIXV8fCFwLnRlc3QodSkpe2lmKGcpe2koIkludmFsaWQgc2NoZW1lLiIpO2JyZWFrIGF9bD0iIixqPSJubyBzY2hlbWUiO2NvbnRpbnVlfWwrPXUudG9Mb3dlckNhc2UoKSxqPSJzY2hlbWUiO2JyZWFrO2Nhc2Uic2NoZW1lIjppZih1JiZxLnRlc3QodSkpbCs9dS50b0xvd2VyQ2FzZSgpO2Vsc2V7aWYoIjoiIT11KXtpZihnKXtpZihvPT11KWJyZWFrIGE7aSgiQ29kZSBwb2ludCBub3QgYWxsb3dlZCBpbiBzY2hlbWU6ICIrdSk7YnJlYWsgYX1sPSIiLGs9MCxqPSJubyBzY2hlbWUiO2NvbnRpbnVlfWlmKHRoaXMuX3NjaGVtZT1sLGw9IiIsZylicmVhayBhO2IodGhpcy5fc2NoZW1lKSYmKHRoaXMuX2lzUmVsYXRpdmU9ITApLGo9ImZpbGUiPT10aGlzLl9zY2hlbWU/InJlbGF0aXZlIjp0aGlzLl9pc1JlbGF0aXZlJiZoJiZoLl9zY2hlbWU9PXRoaXMuX3NjaGVtZT8icmVsYXRpdmUgb3IgYXV0aG9yaXR5Ijp0aGlzLl9pc1JlbGF0aXZlPyJhdXRob3JpdHkgZmlyc3Qgc2xhc2giOiJzY2hlbWUgZGF0YSJ9YnJlYWs7Y2FzZSJzY2hlbWUgZGF0YSI6Ij8iPT11PyhxdWVyeT0iPyIsaj0icXVlcnkiKToiIyI9PXU/KHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpOm8hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX3NjaGVtZURhdGErPWUodSkpO2JyZWFrO2Nhc2Uibm8gc2NoZW1lIjppZihoJiZiKGguX3NjaGVtZSkpe2o9InJlbGF0aXZlIjtjb250aW51ZX1pKCJNaXNzaW5nIHNjaGVtZS4iKSxjLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSJyZWxhdGl2ZSBvciBhdXRob3JpdHkiOmlmKCIvIiE9dXx8Ii8iIT1hW2srMV0pe2koIkV4cGVjdGVkIC8sIGdvdDogIit1KSxqPSJyZWxhdGl2ZSI7Y29udGludWV9aj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjticmVhaztjYXNlInJlbGF0aXZlIjppZih0aGlzLl9pc1JlbGF0aXZlPSEwLCJmaWxlIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5fc2NoZW1lPWguX3NjaGVtZSksbz09dSl7dGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT1oLl9xdWVyeTticmVhayBhfWlmKCIvIj09dXx8IlxcIj09dSkiXFwiPT11JiZpKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaj0icmVsYXRpdmUgc2xhc2giO2Vsc2UgaWYoIj8iPT11KXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9Ij8iLGo9InF1ZXJ5IjtlbHNle2lmKCIjIiE9dSl7dmFyIHY9YVtrKzFdLHc9YVtrKzJdOygiZmlsZSIhPXRoaXMuX3NjaGVtZXx8IXAudGVzdCh1KXx8IjoiIT12JiYifCIhPXZ8fG8hPXcmJiIvIiE9dyYmIlxcIiE9dyYmIj8iIT13JiYiIyIhPXcpJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9wYXRoLnBvcCgpKSxqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX10aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0LHRoaXMuX3BhdGg9aC5fcGF0aC5zbGljZSgpLHRoaXMuX3F1ZXJ5PWguX3F1ZXJ5LHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIKfWJyZWFrO2Nhc2UicmVsYXRpdmUgc2xhc2giOmlmKCIvIiE9dSYmIlxcIiE9dSl7ImZpbGUiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0KSxqPSJyZWxhdGl2ZSBwYXRoIjtjb250aW51ZX0iXFwiPT11JiZpKCJcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuIiksaj0iZmlsZSI9PXRoaXMuX3NjaGVtZT8iZmlsZSBob3N0IjoiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjticmVhaztjYXNlImF1dGhvcml0eSBmaXJzdCBzbGFzaCI6aWYoIi8iIT11KXtpKCJFeHBlY3RlZCAnLycsIGdvdDogIit1KSxqPSJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXMiO2NvbnRpbnVlfWo9ImF1dGhvcml0eSBzZWNvbmQgc2xhc2giO2JyZWFrO2Nhc2UiYXV0aG9yaXR5IHNlY29uZCBzbGFzaCI6aWYoaj0iYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIiwiLyIhPXUpe2koIkV4cGVjdGVkICcvJywgZ290OiAiK3UpO2NvbnRpbnVlfWJyZWFrO2Nhc2UiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzIjppZigiLyIhPXUmJiJcXCIhPXUpe2o9ImF1dGhvcml0eSI7Y29udGludWV9aSgiRXhwZWN0ZWQgYXV0aG9yaXR5LCBnb3Q6ICIrdSk7YnJlYWs7Y2FzZSJhdXRob3JpdHkiOmlmKCJAIj09dSl7ciYmKGkoIkAgYWxyZWFkeSBzZWVuLiIpLGwrPSIlNDAiKSxyPSEwO2Zvcih2YXIgeD0wO3g8bC5sZW5ndGg7eCsrKXt2YXIgeT1sW3hdO2lmKCIJIiE9eSYmIlxuIiE9eSYmIlxyIiE9eSlpZigiOiIhPXl8fG51bGwhPT10aGlzLl9wYXNzd29yZCl7dmFyIHo9ZSh5KTtudWxsIT09dGhpcy5fcGFzc3dvcmQ/dGhpcy5fcGFzc3dvcmQrPXo6dGhpcy5fdXNlcm5hbWUrPXp9ZWxzZSB0aGlzLl9wYXNzd29yZD0iIjtlbHNlIGkoIkludmFsaWQgd2hpdGVzcGFjZSBpbiBhdXRob3JpdHkuIil9bD0iIn1lbHNle2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpe2stPWwubGVuZ3RoLGw9IiIsaj0iaG9zdCI7Y29udGludWV9bCs9dX1icmVhaztjYXNlImZpbGUgaG9zdCI6aWYobz09dXx8Ii8iPT11fHwiXFwiPT11fHwiPyI9PXV8fCIjIj09dSl7MiE9bC5sZW5ndGh8fCFwLnRlc3QobFswXSl8fCI6IiE9bFsxXSYmInwiIT1sWzFdPzA9PWwubGVuZ3RoP2o9InJlbGF0aXZlIHBhdGggc3RhcnQiOih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9IiIsaj0icmVsYXRpdmUgcGF0aCBzdGFydCIpOmo9InJlbGF0aXZlIHBhdGgiO2NvbnRpbnVlfSIJIj09dXx8IlxuIj09dXx8IlxyIj09dT9pKCJJbnZhbGlkIHdoaXRlc3BhY2UgaW4gZmlsZSBob3N0LiIpOmwrPXU7YnJlYWs7Y2FzZSJob3N0IjpjYXNlImhvc3RuYW1lIjppZigiOiIhPXV8fHMpe2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXUpe2lmKHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IixnKWJyZWFrIGE7Y29udGludWV9IgkiIT11JiYiXG4iIT11JiYiXHIiIT11PygiWyI9PXU/cz0hMDoiXSI9PXUmJihzPSExKSxsKz11KTppKCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gaG9zdC9ob3N0bmFtZTogIit1KX1lbHNlIGlmKHRoaXMuX2hvc3Q9ZC5jYWxsKHRoaXMsbCksbD0iIixqPSJwb3J0IiwiaG9zdG5hbWUiPT1nKWJyZWFrIGE7YnJlYWs7Y2FzZSJwb3J0IjppZigvWzAtOV0vLnRlc3QodSkpbCs9dTtlbHNle2lmKG89PXV8fCIvIj09dXx8IlxcIj09dXx8Ij8iPT11fHwiIyI9PXV8fGcpe2lmKCIiIT1sKXt2YXIgQT1wYXJzZUludChsLDEwKTtBIT1tW3RoaXMuX3NjaGVtZV0mJih0aGlzLl9wb3J0PUErIiIpLGw9IiJ9aWYoZylicmVhayBhO2o9InJlbGF0aXZlIHBhdGggc3RhcnQiO2NvbnRpbnVlfSIJIj09dXx8IlxuIj09dXx8IlxyIj09dT9pKCJJbnZhbGlkIGNvZGUgcG9pbnQgaW4gcG9ydDogIit1KTpjLmNhbGwodGhpcyl9YnJlYWs7Y2FzZSJyZWxhdGl2ZSBwYXRoIHN0YXJ0IjppZigiXFwiPT11JiZpKCInXFwnIG5vdCBhbGxvd2VkIGluIHBhdGguIiksaj0icmVsYXRpdmUgcGF0aCIsIi8iIT11JiYiXFwiIT11KWNvbnRpbnVlO2JyZWFrO2Nhc2UicmVsYXRpdmUgcGF0aCI6aWYobyE9dSYmIi8iIT11JiYiXFwiIT11JiYoZ3x8Ij8iIT11JiYiIyIhPXUpKSIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKGwrPWUodSkpO2Vsc2V7IlxcIj09dSYmaSgiXFwgbm90IGFsbG93ZWQgaW4gcmVsYXRpdmUgcGF0aC4iKTt2YXIgQjsoQj1uW2wudG9Mb3dlckNhc2UoKV0pJiYobD1CKSwiLi4iPT1sPyh0aGlzLl9wYXRoLnBvcCgpLCIvIiE9dSYmIlxcIiE9dSYmdGhpcy5fcGF0aC5wdXNoKCIiKSk6Ii4iPT1sJiYiLyIhPXUmJiJcXCIhPXU/dGhpcy5fcGF0aC5wdXNoKCIiKToiLiIhPWwmJigiZmlsZSI9PXRoaXMuX3NjaGVtZSYmMD09dGhpcy5fcGF0aC5sZW5ndGgmJjI9PWwubGVuZ3RoJiZwLnRlc3QobFswXSkmJiJ8Ij09bFsxXSYmKGw9bFswXSsiOiIpLHRoaXMuX3BhdGgucHVzaChsKSksbD0iIiwiPyI9PXU/KHRoaXMuX3F1ZXJ5PSI/IixqPSJxdWVyeSIpOiIjIj09dSYmKHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpfWJyZWFrO2Nhc2UicXVlcnkiOmd8fCIjIiE9dT9vIT11JiYiCSIhPXUmJiJcbiIhPXUmJiJcciIhPXUmJih0aGlzLl9xdWVyeSs9Zih1KSk6KHRoaXMuX2ZyYWdtZW50PSIjIixqPSJmcmFnbWVudCIpO2JyZWFrO2Nhc2UiZnJhZ21lbnQiOm8hPXUmJiIJIiE9dSYmIlxuIiE9dSYmIlxyIiE9dSYmKHRoaXMuX2ZyYWdtZW50Kz11KX1rKyt9fWZ1bmN0aW9uIGgoKXt0aGlzLl9zY2hlbWU9IiIsdGhpcy5fc2NoZW1lRGF0YT0iIix0aGlzLl91c2VybmFtZT0iIix0aGlzLl9wYXNzd29yZD1udWxsLHRoaXMuX2hvc3Q9IiIsdGhpcy5fcG9ydD0iIix0aGlzLl9wYXRoPVtdLHRoaXMuX3F1ZXJ5PSIiLHRoaXMuX2ZyYWdtZW50PSIiLHRoaXMuX2lzSW52YWxpZD0hMSx0aGlzLl9pc1JlbGF0aXZlPSExfWZ1bmN0aW9uIGkoYSxiKXt2b2lkIDA9PT1ifHxiIGluc3RhbmNlb2YgaXx8KGI9bmV3IGkoU3RyaW5nKGIpKSksdGhpcy5fdXJsPWEsaC5jYWxsKHRoaXMpO3ZhciBjPWEucmVwbGFjZSgvXlsgXHRcclxuXGZdK3xbIFx0XHJcblxmXSskL2csIiIpO2cuY2FsbCh0aGlzLGMsbnVsbCxiKX12YXIgaj0hMTtpZighYS5mb3JjZUpVUkwpdHJ5e3ZhciBrPW5ldyBVUkwoImIiLCJodHRwOi8vYSIpO2o9Imh0dHA6Ly9hL2IiPT09ay5ocmVmfWNhdGNoKGwpe31pZighail7dmFyIG09T2JqZWN0LmNyZWF0ZShudWxsKTttLmZ0cD0yMSxtLmZpbGU9MCxtLmdvcGhlcj03MCxtLmh0dHA9ODAsbS5odHRwcz00NDMsbS53cz04MCxtLndzcz00NDM7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtuWyIlMmUiXT0iLiIsblsiLiUyZSJdPSIuLiIsblsiJTJlLiJdPSIuLiIsblsiJTJlJTJlIl09Ii4uIjt2YXIgbz12b2lkIDAscD0vW2EtekEtWl0vLHE9L1thLXpBLVowLTlcK1wtXC5dLztpLnByb3RvdHlwZT17Z2V0IGhyZWYoKXtpZih0aGlzLl9pc0ludmFsaWQpcmV0dXJuIHRoaXMuX3VybDt2YXIgYT0iIjtyZXR1cm4oIiIhPXRoaXMuX3VzZXJuYW1lfHxudWxsIT10aGlzLl9wYXNzd29yZCkmJihhPXRoaXMuX3VzZXJuYW1lKyhudWxsIT10aGlzLl9wYXNzd29yZD8iOiIrdGhpcy5fcGFzc3dvcmQ6IiIpKyJAIiksdGhpcy5wcm90b2NvbCsodGhpcy5faXNSZWxhdGl2ZT8iLy8iK2ErdGhpcy5ob3N0OiIiKSt0aGlzLnBhdGhuYW1lK3RoaXMuX3F1ZXJ5K3RoaXMuX2ZyYWdtZW50fSxzZXQgaHJlZihhKXtoLmNhbGwodGhpcyksZy5jYWxsKHRoaXMsYSl9LGdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzLl9zY2hlbWUrIjoifSxzZXQgcHJvdG9jb2woYSl7dGhpcy5faXNJbnZhbGlkfHxnLmNhbGwodGhpcyxhKyI6Iiwic2NoZW1lIHN0YXJ0Iil9LGdldCBob3N0KCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD8iIjp0aGlzLl9wb3J0P3RoaXMuX2hvc3QrIjoiK3RoaXMuX3BvcnQ6dGhpcy5faG9zdH0sc2V0IGhvc3QoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmZy5jYWxsKHRoaXMsYSwiaG9zdCIpfSxnZXQgaG9zdG5hbWUoKXtyZXR1cm4gdGhpcy5faG9zdH0sc2V0IGhvc3RuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsImhvc3RuYW1lIil9LGdldCBwb3J0KCl7cmV0dXJuIHRoaXMuX3BvcnR9LHNldCBwb3J0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsInBvcnQiKX0sZ2V0IHBhdGhuYW1lKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD8iIjp0aGlzLl9pc1JlbGF0aXZlPyIvIit0aGlzLl9wYXRoLmpvaW4oIi8iKTp0aGlzLl9zY2hlbWVEYXRhfSxzZXQgcGF0aG5hbWUoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3BhdGg9W10sZy5jYWxsKHRoaXMsYSwicmVsYXRpdmUgcGF0aCBzdGFydCIpKX0sZ2V0IHNlYXJjaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9xdWVyeXx8Ij8iPT10aGlzLl9xdWVyeT8iIjp0aGlzLl9xdWVyeX0sc2V0IHNlYXJjaChhKXshdGhpcy5faXNJbnZhbGlkJiZ0aGlzLl9pc1JlbGF0aXZlJiYodGhpcy5fcXVlcnk9Ij8iLCI/Ij09YVswXSYmKGE9YS5zbGljZSgxKSksZy5jYWxsKHRoaXMsYSwicXVlcnkiKSl9LGdldCBoYXNoKCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZHx8IXRoaXMuX2ZyYWdtZW50fHwiIyI9PXRoaXMuX2ZyYWdtZW50PyIiOnRoaXMuX2ZyYWdtZW50fSxzZXQgaGFzaChhKXt0aGlzLl9pc0ludmFsaWR8fCh0aGlzLl9mcmFnbWVudD0iIyIsIiMiPT1hWzBdJiYoYT1hLnNsaWNlKDEpKSxnLmNhbGwodGhpcyxhLCJmcmFnbWVudCIpKX19LGEuVVJMPWl9fSh3aW5kb3cpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPWF8fHt9LGQ9MTtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT1hcmd1bWVudHNbZF07dHJ5e2Zvcih2YXIgZiBpbiBlKWMoZixlLGIpfWNhdGNoKGcpe319cmV0dXJuIGJ9ZnVuY3Rpb24gYyhhLGIsYyl7dmFyIGU9ZChiLGEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShjLGEsZSl9ZnVuY3Rpb24gZChhLGIpe2lmKGEpe3ZhciBjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKTtyZXR1cm4gY3x8ZChPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYil9fUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7cmV0dXJuIGQucHVzaC5hcHBseShkLGFyZ3VtZW50cyksYi5hcHBseShhLGQpfX0pLGEubWl4aW49Yn0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9InN0cmluZyI9PXR5cGVvZiBhP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSk6YS5jbG9uZU5vZGUoITApO2lmKGQuaW5uZXJIVE1MPWIsYylmb3IodmFyIGUgaW4gYylkLnNldEF0dHJpYnV0ZShlLGNbZV0pO3JldHVybiBkfXZhciBjPURPTVRva2VuTGlzdC5wcm90b3R5cGUuYWRkLGQ9RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5yZW1vdmU7RE9NVG9rZW5MaXN0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWMuY2FsbCh0aGlzLGFyZ3VtZW50c1thXSl9LERPTVRva2VuTGlzdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxhcmd1bWVudHMubGVuZ3RoO2ErKylkLmNhbGwodGhpcyxhcmd1bWVudHNbYV0pfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihhLGIpezE9PWFyZ3VtZW50cy5sZW5ndGgmJihiPSF0aGlzLmNvbnRhaW5zKGEpKSxiP3RoaXMuYWRkKGEpOnRoaXMucmVtb3ZlKGEpfSxET01Ub2tlbkxpc3QucHJvdG90eXBlLnN3aXRjaD1mdW5jdGlvbihhLGIpe2EmJnRoaXMucmVtb3ZlKGEpLGImJnRoaXMuYWRkKGIpfTt2YXIgZT1mdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzKX0sZj13aW5kb3cuTmFtZWROb2RlTWFwfHx3aW5kb3cuTW96TmFtZWRBdHRyTWFwfHx7fTtpZihOb2RlTGlzdC5wcm90b3R5cGUuYXJyYXk9ZSxmLnByb3RvdHlwZS5hcnJheT1lLEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5hcnJheT1lLCF3aW5kb3cucGVyZm9ybWFuY2Upe3ZhciBnPURhdGUubm93KCk7d2luZG93LnBlcmZvcm1hbmNlPXtub3c6ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1nfX19d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO3JldHVybiBhP2Z1bmN0aW9uKGIpe3JldHVybiBhKGZ1bmN0aW9uKCl7YihwZXJmb3JtYW5jZS5ub3coKSl9KX06ZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGEsMWUzLzYwKX19KCkpLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8KHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEpfX0oKSk7dmFyIGg9W10saT1mdW5jdGlvbigpe2gucHVzaChhcmd1bWVudHMpfTt3aW5kb3cuUG9seW1lcj1pLGEuZGVsaXZlckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhLmRlbGl2ZXJEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oKXt0aHJvdyJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZSJ9LGh9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixmdW5jdGlvbigpe3dpbmRvdy5Qb2x5bWVyPT09aSYmKHdpbmRvdy5Qb2x5bWVyPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9ImltcG9ydCIgaHJlZj0iY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbCI+Jyl9KX0pLGEuY3JlYXRlRE9NPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7YS50ZW1wbGF0ZUNvbnRlbnQ9YS50ZW1wbGF0ZUNvbnRlbnR8fGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnR9fSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2E9YXx8KHdpbmRvdy5JbnNwZWN0b3I9e30pO3ZhciBiO3dpbmRvdy5zaW5zcGVjdD1mdW5jdGlvbihhLGQpe2J8fChiPXdpbmRvdy5vcGVuKCIiLCJTaGFkb3dET00gSW5zcGVjdG9yIixudWxsLCEwKSxiLmRvY3VtZW50LndyaXRlKGMpLGIuYXBpPXtzaGFkb3dpemU6c2hhZG93aXplfSksZihhfHx3cmFwKGRvY3VtZW50LmJvZHkpLGQpfTt2YXIgYz1bIjwhRE9DVFlQRSBodG1sPiIsIjxodG1sPiIsIiAgPGhlYWQ+IiwiICAgIDx0aXRsZT5TaGFkb3dET00gSW5zcGVjdG9yPC90aXRsZT4iLCIgICAgPHN0eWxlPiIsIiAgICAgIGJvZHkgeyIsIiAgICAgIH0iLCIgICAgICBwcmUgeyIsJyAgICAgICAgZm9udDogOXB0ICJDb3VyaWVyIE5ldyIsIG1vbm9zcGFjZTsnLCIgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTsiLCIgICAgICB9IiwiICAgICAgdGFnIHsiLCIgICAgICAgIGNvbG9yOiBwdXJwbGU7IiwiICAgICAgfSIsIiAgICAgIHVsIHsiLCIgICAgICAgICBtYXJnaW46IDA7IiwiICAgICAgICAgcGFkZGluZzogMDsiLCIgICAgICAgICBsaXN0LXN0eWxlOiBub25lOyIsIiAgICAgIH0iLCIgICAgICBsaSB7IiwiICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyIsIiAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7IiwiICAgICAgICAgcGFkZGluZzogNHB4IDZweDsiLCIgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IiwiICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7IiwiICAgICAgfSIsIiAgICA8L3N0eWxlPiIsIiAgPC9oZWFkPiIsIiAgPGJvZHk+IiwnICAgIDx1bCBpZD0iY3J1bWJzIj4nLCIgICAgPC91bD4iLCcgICAgPGRpdiBpZD0idHJlZSI+PC9kaXY+JywiICA8L2JvZHk+IiwiPC9odG1sPiJdLmpvaW4oIlxuIiksZD1bXSxlPWZ1bmN0aW9uKCl7dmFyIGE9Yi5kb2N1bWVudCxjPWEucXVlcnlTZWxlY3RvcigiI2NydW1icyIpO2MudGV4dENvbnRlbnQ9IiI7Zm9yKHZhciBlLGc9MDtlPWRbZ107ZysrKXt2YXIgaD1hLmNyZWF0ZUVsZW1lbnQoImEiKTtoLmhyZWY9IiMiLGgudGV4dENvbnRlbnQ9ZS5sb2NhbE5hbWUsaC5pZHg9ZyxoLm9uY2xpY2s9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiO2QubGVuZ3RoPnRoaXMuaWR4OyliPWQucG9wKCk7ZihiLnNoYWRvd3x8YixiKSxhLnByZXZlbnREZWZhdWx0KCl9LGMuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KCJsaSIpKS5hcHBlbmRDaGlsZChoKX19LGY9ZnVuY3Rpb24oYSxjKXt2YXIgZj1iLmRvY3VtZW50O2s9W107dmFyIGc9Y3x8YTtkLnB1c2goZyksZSgpLGYuYm9keS5xdWVyeVNlbGVjdG9yKCIjdHJlZSIpLmlubmVySFRNTD0iPHByZT4iK2ooYSxhLmNoaWxkTm9kZXMpKyI8L3ByZT4ifSxnPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCksaD17U1RZTEU6MSxTQ1JJUFQ6MSwiI2NvbW1lbnQiOjEsVEVNUExBVEU6MX0saT1mdW5jdGlvbihhKXtyZXR1cm4gaFthLm5vZGVOYW1lXX0saj1mdW5jdGlvbihhLGIsYyl7aWYoaShhKSlyZXR1cm4iIjt2YXIgZD1jfHwiIjtpZihhLmxvY2FsTmFtZXx8MTE9PWEubm9kZVR5cGUpe3ZhciBlPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiLGY9ZCtsKGEpOyJjb250ZW50Ij09ZSYmKGI9YS5nZXREaXN0cmlidXRlZE5vZGVzKCkpLGYrPSI8YnIvPiI7dmFyIGg9ZCsiJm5ic3A7Jm5ic3A7IjtnKGIsZnVuY3Rpb24oYSl7Zis9aihhLGEuY2hpbGROb2RlcyxoKX0pLGYrPWQse2JyOjF9W2VdfHwoZis9Ijx0YWc+Jmx0Oy8iK2UrIiZndDs8L3RhZz4iLGYrPSI8YnIvPiIpfWVsc2V7dmFyIGs9YS50ZXh0Q29udGVudC50cmltKCk7Zj1rP2QrJyInK2srJyI8YnIvPic6IiJ9cmV0dXJuIGZ9LGs9W10sbD1mdW5jdGlvbihhKXt2YXIgYj0iPHRhZz4mbHQ7IixjPWEubG9jYWxOYW1lfHwic2hhZG93LXJvb3QiO3JldHVybiBhLndlYmtpdFNoYWRvd1Jvb3R8fGEuc2hhZG93Um9vdD8oYis9JyA8YnV0dG9uIGlkeD0iJytrLmxlbmd0aCsnIiBvbmNsaWNrPSJhcGkuc2hhZG93aXplLmNhbGwodGhpcykiPicrYysiPC9idXR0b24+IixrLnB1c2goYSkpOmIrPWN8fCJzaGFkb3ctcm9vdCIsYS5hdHRyaWJ1dGVzJiZnKGEuYXR0cmlidXRlcyxmdW5jdGlvbihhKXtiKz0iICIrYS5uYW1lKyhhLnZhbHVlPyc9IicrYS52YWx1ZSsnIic6IiIpfSksYis9IiZndDs8L3RhZz4ifTtzaGFkb3dpemU9ZnVuY3Rpb24oKXt2YXIgYT1OdW1iZXIodGhpcy5hdHRyaWJ1dGVzLmlkeC52YWx1ZSksYj1rW2FdO2I/ZihiLndlYmtpdFNoYWRvd1Jvb3R8fGIuc2hhZG93Um9vdCxiKTooY29uc29sZS5sb2coImJhZCBzaGFkb3dpemUgbm9kZSIpLGNvbnNvbGUuZGlyKHRoaXMpKX0sYS5vdXRwdXQ9an0od2luZG93Lkluc3BlY3RvciksZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2EudGV4dENvbnRlbnQ9ImJvZHkge3RyYW5zaXRpb246IG9wYWNpdHkgZWFzZS1pbiAwLjJzOyB9IFxuYm9keVt1bnJlc29sdmVkXSB7b3BhY2l0eTogMDsgZGlzcGxheTogYmxvY2s7IG92ZXJmbG93OiBoaWRkZW47IH0gXG4iO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtiLmluc2VydEJlZm9yZShhLGIuZmlyc3RDaGlsZCl9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9Ynx8W10sYi5tYXB8fChiPVtiXSksYS5hcHBseSh0aGlzLGIubWFwKGQpKX1mdW5jdGlvbiBjKGEsYyxkKXt2YXIgZTtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybjtjYXNlIDE6ZT1udWxsO2JyZWFrO2Nhc2UgMjplPWMuYXBwbHkodGhpcyk7YnJlYWs7ZGVmYXVsdDplPWIoZCxjKX1mW2FdPWV9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZlthXX1mdW5jdGlvbiBlKGEsYyl7SFRNTEltcG9ydHMud2hlbkltcG9ydHNSZWFkeShmdW5jdGlvbigpe2IoYyxhKX0pfXZhciBmPXt9O2EubWFyc2hhbD1kLGEubW9kdWxhcml6ZT1jLGEudXNpbmc9ZX0od2luZG93KSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2YudGV4dENvbnRlbnQ9ZCsrLGUucHVzaChhKX1mdW5jdGlvbiBjKCl7Zm9yKDtlLmxlbmd0aDspZS5zaGlmdCgpKCl9dmFyIGQ9MCxlPVtdLGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8SnNNdXRhdGlvbk9ic2VydmVyKShjKS5vYnNlcnZlKGYse2NoYXJhY3RlckRhdGE6ITB9KSxhLmVuZE9mTWljcm90YXNrPWJ9KFBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkLGUpe3JldHVybiBhLnJlcGxhY2UoZSxmdW5jdGlvbihhLGUsZixnKXt2YXIgaD1mLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGg9YyhiLGgsZCksZSsiJyIraCsiJyIrZ30pfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKGImJiIvIj09PWJbMF0pcmV0dXJuIGI7dmFyIGU9bmV3IFVSTChiLGEpO3JldHVybiBjP2UuaHJlZjpkKGUuaHJlZil9ZnVuY3Rpb24gZChhKXt2YXIgYj1uZXcgVVJMKGRvY3VtZW50LmJhc2VVUkkpLGM9bmV3IFVSTChhLGIpO3JldHVybiBjLmhvc3Q9PT1iLmhvc3QmJmMucG9ydD09PWIucG9ydCYmYy5wcm90b2NvbD09PWIucHJvdG9jb2w/ZShiLGMpOmF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1hLnBhdGhuYW1lLGQ9Yi5wYXRobmFtZSxlPWMuc3BsaXQoIi8iKSxmPWQuc3BsaXQoIi8iKTtlLmxlbmd0aCYmZVswXT09PWZbMF07KWUuc2hpZnQoKSxmLnNoaWZ0KCk7Zm9yKHZhciBnPTAsaD1lLmxlbmd0aC0xO2g+ZztnKyspZi51bnNoaWZ0KCIuLiIpO3JldHVybiBmLmpvaW4oIi8iKStiLnNlYXJjaCtiLmhhc2h9dmFyIGY9e3Jlc29sdmVEb206ZnVuY3Rpb24oYSxiKXtiPWJ8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLHRoaXMucmVzb2x2ZUF0dHJpYnV0ZXMoYSxiKSx0aGlzLnJlc29sdmVTdHlsZXMoYSxiKTt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInRlbXBsYXRlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspZC5jb250ZW50JiZ0aGlzLnJlc29sdmVEb20oZC5jb250ZW50LGIpfSxyZXNvbHZlVGVtcGxhdGU6ZnVuY3Rpb24oYSl7dGhpcy5yZXNvbHZlRG9tKGEuY29udGVudCxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSl9LHJlc29sdmVTdHlsZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoInN0eWxlIik7aWYoYylmb3IodmFyIGQsZT0wLGY9Yy5sZW5ndGg7Zj5lJiYoZD1jW2VdKTtlKyspdGhpcy5yZXNvbHZlU3R5bGUoZCxiKX0scmVzb2x2ZVN0eWxlOmZ1bmN0aW9uKGEsYil7Yj1ifHxhLm93bmVyRG9jdW1lbnQuYmFzZVVSSSxhLnRleHRDb250ZW50PXRoaXMucmVzb2x2ZUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0scmVzb2x2ZUNzc1RleHQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhPWIoYSxjLGQsZyksYihhLGMsZCxoKX0scmVzb2x2ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXthLmhhc0F0dHJpYnV0ZXMmJmEuaGFzQXR0cmlidXRlcygpJiZ0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhhLGIpO3ZhciBjPWEmJmEucXVlcnlTZWxlY3RvckFsbChqKTtpZihjKWZvcih2YXIgZCxlPTAsZj1jLmxlbmd0aDtmPmUmJihkPWNbZV0pO2UrKyl0aGlzLnJlc29sdmVFbGVtZW50QXR0cmlidXRlcyhkLGIpfSxyZXNvbHZlRWxlbWVudEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxkKXtkPWR8fGEub3duZXJEb2N1bWVudC5iYXNlVVJJLGkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgZixoPWEuYXR0cmlidXRlc1tlXSxpPWgmJmgudmFsdWU7aSYmaS5zZWFyY2goayk8MCYmKGY9InN0eWxlIj09PWU/YihpLGQsZyk6YyhkLGkpLGgudmFsdWU9Zil9KX19LGc9Lyh1cmxcKCkoW14pXSopKFwpKS9nLGg9LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLGk9WyJocmVmIiwic3JjIiwiYWN0aW9uIiwic3R5bGUiXSxqPSJbIitpLmpvaW4oIl0sWyIpKyJdIixrPSJ7ey4qfX0iO2EudXJsUmVzb2x2ZXI9Zn0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dS5wdXNoKGEpLHR8fCh0PSEwLHEoZCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCYmd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChhKXx8YX1mdW5jdGlvbiBkKCl7dD0hMTt2YXIgYT11O3U9W10sYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEudWlkXy1iLnVpZF99KTt2YXIgYj0hMTthLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGM9YS50YWtlUmVjb3JkcygpO2UoYSksYy5sZW5ndGgmJihhLmNhbGxiYWNrXyhjLGEpLGI9ITApfSksYiYmZCgpfWZ1bmN0aW9uIGUoYSl7YS5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1wLmdldChiKTtjJiZjLmZvckVhY2goZnVuY3Rpb24oYil7Yi5vYnNlcnZlcj09PWEmJmIucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCl9KX0pfWZ1bmN0aW9uIGYoYSxiKXtmb3IodmFyIGM9YTtjO2M9Yy5wYXJlbnROb2RlKXt2YXIgZD1wLmdldChjKTtpZihkKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLGc9Zi5vcHRpb25zO2lmKGM9PT1hfHxnLnN1YnRyZWUpe3ZhciBoPWIoZyk7aCYmZi5lbnF1ZXVlKGgpfX19fWZ1bmN0aW9uIGcoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3Z9ZnVuY3Rpb24gaChhLGIpe3RoaXMudHlwZT1hLHRoaXMudGFyZ2V0PWIsdGhpcy5hZGRlZE5vZGVzPVtdLHRoaXMucmVtb3ZlZE5vZGVzPVtdLHRoaXMucHJldmlvdXNTaWJsaW5nPW51bGwsdGhpcy5uZXh0U2libGluZz1udWxsLHRoaXMuYXR0cmlidXRlTmFtZT1udWxsLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPW51bGwsdGhpcy5vbGRWYWx1ZT1udWxsfWZ1bmN0aW9uIGkoYSl7dmFyIGI9bmV3IGgoYS50eXBlLGEudGFyZ2V0KTtyZXR1cm4gYi5hZGRlZE5vZGVzPWEuYWRkZWROb2Rlcy5zbGljZSgpLGIucmVtb3ZlZE5vZGVzPWEucmVtb3ZlZE5vZGVzLnNsaWNlKCksYi5wcmV2aW91c1NpYmxpbmc9YS5wcmV2aW91c1NpYmxpbmcsYi5uZXh0U2libGluZz1hLm5leHRTaWJsaW5nLGIuYXR0cmlidXRlTmFtZT1hLmF0dHJpYnV0ZU5hbWUsYi5hdHRyaWJ1dGVOYW1lc3BhY2U9YS5hdHRyaWJ1dGVOYW1lc3BhY2UsYi5vbGRWYWx1ZT1hLm9sZFZhbHVlLGJ9ZnVuY3Rpb24gaihhLGIpe3JldHVybiB3PW5ldyBoKGEsYil9ZnVuY3Rpb24gayhhKXtyZXR1cm4geD94Oih4PWkodykseC5vbGRWYWx1ZT1hLHgpfWZ1bmN0aW9uIGwoKXt3PXg9dm9pZCAwfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIGE9PT14fHxhPT09d31mdW5jdGlvbiBuKGEsYil7cmV0dXJuIGE9PT1iP2E6eCYmbShhKT94Om51bGx9ZnVuY3Rpb24gbyhhLGIsYyl7dGhpcy5vYnNlcnZlcj1hLHRoaXMudGFyZ2V0PWIsdGhpcy5vcHRpb25zPWMsdGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzPVtdfXZhciBwPW5ldyBXZWFrTWFwLHE9d2luZG93Lm1zU2V0SW1tZWRpYXRlO2lmKCFxKXt2YXIgcj1bXSxzPVN0cmluZyhNYXRoLnJhbmRvbSgpKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhPT09cyl7dmFyIGI9cjtyPVtdLGIuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX19KSxxPWZ1bmN0aW9uKGEpe3IucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UocywiKiIpfX12YXIgdD0hMSx1PVtdLHY9MDtnLnByb3RvdHlwZT17b2JzZXJ2ZTpmdW5jdGlvbihhLGIpe2lmKGE9YyhhKSwhYi5jaGlsZExpc3QmJiFiLmF0dHJpYnV0ZXMmJiFiLmNoYXJhY3RlckRhdGF8fGIuYXR0cmlidXRlT2xkVmFsdWUmJiFiLmF0dHJpYnV0ZXN8fGIuYXR0cmlidXRlRmlsdGVyJiZiLmF0dHJpYnV0ZUZpbHRlci5sZW5ndGgmJiFiLmF0dHJpYnV0ZXN8fGIuY2hhcmFjdGVyRGF0YU9sZFZhbHVlJiYhYi5jaGFyYWN0ZXJEYXRhKXRocm93IG5ldyBTeW50YXhFcnJvcjt2YXIgZD1wLmdldChhKTtkfHxwLnNldChhLGQ9W10pO2Zvcih2YXIgZSxmPTA7ZjxkLmxlbmd0aDtmKyspaWYoZFtmXS5vYnNlcnZlcj09PXRoaXMpe2U9ZFtmXSxlLnJlbW92ZUxpc3RlbmVycygpLGUub3B0aW9ucz1iO2JyZWFrfWV8fChlPW5ldyBvKHRoaXMsYSxiKSxkLnB1c2goZSksdGhpcy5ub2Rlc18ucHVzaChhKSksZS5hZGRMaXN0ZW5lcnMoKX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3RoaXMubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXAuZ2V0KGEpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXTtpZihkLm9ic2VydmVyPT09dGhpcyl7ZC5yZW1vdmVMaXN0ZW5lcnMoKSxiLnNwbGljZShjLDEpO2JyZWFrfX19LHRoaXMpLHRoaXMucmVjb3Jkc189W119LHRha2VSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZWNvcmRzXztyZXR1cm4gdGhpcy5yZWNvcmRzXz1bXSxhfX07dmFyIHcseDtvLnByb3RvdHlwZT17ZW5xdWV1ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLm9ic2VydmVyLnJlY29yZHNfLGQ9Yy5sZW5ndGg7aWYoYy5sZW5ndGg+MCl7dmFyIGU9Y1tkLTFdLGY9bihlLGEpO2lmKGYpcmV0dXJuIHZvaWQoY1tkLTFdPWYpfWVsc2UgYih0aGlzLm9ic2VydmVyKTtjW2RdPWF9LGFkZExpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuYWRkTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LGFkZExpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5hZGRFdmVudExpc3RlbmVyKCJET01BdHRyTW9kaWZpZWQiLHRoaXMsITApLGIuY2hhcmFjdGVyRGF0YSYmYS5hZGRFdmVudExpc3RlbmVyKCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWQiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVJbnNlcnRlZCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU5vZGVSZW1vdmVkIix0aGlzLCEwKX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0scmVtb3ZlTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUF0dHJNb2RpZmllZCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCIsdGhpcywhMCksYi5jaGlsZExpc3QmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZUluc2VydGVkIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NTm9kZVJlbW92ZWQiLHRoaXMsITApfSxhZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMuYWRkTGlzdGVuZXJzXyhhKSx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1wLmdldChhKTtifHxwLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyhhKTtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY109PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX0sdGhpcyl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe3N3aXRjaChhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEudHlwZSl7Y2FzZSJET01BdHRyTW9kaWZpZWQiOnZhciBiPWEuYXR0ck5hbWUsYz1hLnJlbGF0ZWROb2RlLm5hbWVzcGFjZVVSSSxkPWEudGFyZ2V0LGU9bmV3IGooImF0dHJpYnV0ZXMiLGQpO2UuYXR0cmlidXRlTmFtZT1iLGUuYXR0cmlidXRlTmFtZXNwYWNlPWM7dmFyIGc9YS5hdHRyQ2hhbmdlPT09TXV0YXRpb25FdmVudC5BRERJVElPTj9udWxsOmEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4hYS5hdHRyaWJ1dGVzfHxhLmF0dHJpYnV0ZUZpbHRlciYmYS5hdHRyaWJ1dGVGaWx0ZXIubGVuZ3RoJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYikmJi0xPT09YS5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihjKT92b2lkIDA6YS5hdHRyaWJ1dGVPbGRWYWx1ZT9rKGcpOmV9KTticmVhaztjYXNlIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZCI6dmFyIGQ9YS50YXJnZXQsZT1qKCJjaGFyYWN0ZXJEYXRhIixkKSxnPWEucHJldlZhbHVlO2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyYWN0ZXJEYXRhP2EuY2hhcmFjdGVyRGF0YU9sZFZhbHVlP2soZyk6ZTp2b2lkIDB9KTticmVhaztjYXNlIkRPTU5vZGVSZW1vdmVkIjp0aGlzLmFkZFRyYW5zaWVudE9ic2VydmVyKGEudGFyZ2V0KTtjYXNlIkRPTU5vZGVJbnNlcnRlZCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDsiRE9NTm9kZUluc2VydGVkIj09PWEudHlwZT8oaD1bbV0saT1bXSk6KGg9W10saT1bbV0pO3ZhciBuPW0ucHJldmlvdXNTaWJsaW5nLG89bS5uZXh0U2libGluZyxlPWooImNoaWxkTGlzdCIsZCk7ZS5hZGRlZE5vZGVzPWgsZS5yZW1vdmVkTm9kZXM9aSxlLnByZXZpb3VzU2libGluZz1uLGUubmV4dFNpYmxpbmc9byxmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hpbGRMaXN0P2U6dm9pZCAwfSl9bCgpfX0sYS5Kc011dGF0aW9uT2JzZXJ2ZXI9ZyxhLk11dGF0aW9uT2JzZXJ2ZXJ8fChhLk11dGF0aW9uT2JzZXJ2ZXI9Zyl9KHRoaXMpLHdpbmRvdy5IVE1MSW1wb3J0cz13aW5kb3cuSFRNTEltcG9ydHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7dmFyIGI9KGEucGF0aCxhLnhociksYz1hLmZsYWdzLGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhY2hlPXt9LHRoaXMub25sb2FkPWEsdGhpcy5vbmNvbXBsZXRlPWIsdGhpcy5pbmZsaWdodD0wLHRoaXMucGVuZGluZz17fX07ZC5wcm90b3R5cGU9e2FkZE5vZGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrPWEubGVuZ3RoO2Zvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtkPmMmJihiPWFbY10pO2MrKyl0aGlzLnJlcXVpcmUoYik7dGhpcy5jaGVja0RvbmUoKX0sYWRkTm9kZTpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0KyssdGhpcy5yZXF1aXJlKGEpLHRoaXMuY2hlY2tEb25lKCl9LHJlcXVpcmU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcmN8fGEuaHJlZjthLl9fbm9kZVVybD1iLHRoaXMuZGVkdXBlKGIsYSl8fHRoaXMuZmV0Y2goYixhKX0sZGVkdXBlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5wZW5kaW5nW2FdKXJldHVybiB0aGlzLnBlbmRpbmdbYV0ucHVzaChiKSwhMDtyZXR1cm4gdGhpcy5jYWNoZVthXT8odGhpcy5vbmxvYWQoYSxiLHRoaXMuY2FjaGVbYV0pLHRoaXMudGFpbCgpLCEwKToodGhpcy5wZW5kaW5nW2FdPVtiXSwhMSl9LGZldGNoOmZ1bmN0aW9uKGEsZCl7aWYoYy5sb2FkJiZjb25zb2xlLmxvZygiZmV0Y2giLGEsZCksYS5tYXRjaCgvXmRhdGE6Lykpe3ZhciBlPWEuc3BsaXQoIiwiKSxmPWVbMF0sZz1lWzFdO2c9Zi5pbmRleE9mKCI7YmFzZTY0Iik+LTE/YXRvYihnKTpkZWNvZGVVUklDb21wb25lbnQoZyksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMucmVjZWl2ZShhLGQsbnVsbCxnKX0uYmluZCh0aGlzKSwwKX1lbHNle3ZhciBoPWZ1bmN0aW9uKGIsYyxlKXt0aGlzLnJlY2VpdmUoYSxkLGIsYyxlKX0uYmluZCh0aGlzKTtiLmxvYWQoYSxoKX19LHJlY2VpdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmNhY2hlW2FdPWQ7dmFyIGY9dGhpcy5wZW5kaW5nW2FdO2UmJmUhPT1hJiYodGhpcy5jYWNoZVtlXT1kLGY9Zi5jb25jYXQodGhpcy5wZW5kaW5nW2VdKSk7Zm9yKHZhciBnLGg9MCxpPWYubGVuZ3RoO2k+aCYmKGc9ZltoXSk7aCsrKXRoaXMub25sb2FkKGV8fGEsZyxkKSx0aGlzLnRhaWwoKTt0aGlzLnBlbmRpbmdbYV09bnVsbCxlJiZlIT09YSYmKHRoaXMucGVuZGluZ1tlXT1udWxsKX0sdGFpbDpmdW5jdGlvbigpey0tdGhpcy5pbmZsaWdodCx0aGlzLmNoZWNrRG9uZSgpfSxjaGVja0RvbmU6ZnVuY3Rpb24oKXt0aGlzLmluZmxpZ2h0fHx0aGlzLm9uY29tcGxldGUoKX19LGI9Ynx8e2FzeW5jOiEwLG9rOmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0YXR1cz49MjAwJiZhLnN0YXR1czwzMDB8fDMwND09PWEuc3RhdHVzfHwwPT09YS5zdGF0dXN9LGxvYWQ6ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4oYS5mbGFncy5kZWJ1Z3x8YS5mbGFncy5idXN0KSYmKGMrPSI/IitNYXRoLnJhbmRvbSgpKSxmLm9wZW4oIkdFVCIsYyxiLmFzeW5jKSxmLmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGZ1bmN0aW9uKCl7aWYoND09PWYucmVhZHlTdGF0ZSl7dmFyIGE9Zi5nZXRSZXNwb25zZUhlYWRlcigiTG9jYXRpb24iKSxjPW51bGw7aWYoYSl2YXIgYz0iLyI9PT1hLnN1YnN0cigwLDEpP2xvY2F0aW9uLm9yaWdpbithOmM7ZC5jYWxsKGUsIWIub2soZikmJmYsZi5yZXNwb25zZXx8Zi5yZXNwb25zZVRleHQsYyl9fSksZi5zZW5kKCksZn0sbG9hZERvY3VtZW50OmZ1bmN0aW9uKGEsYixjKXt0aGlzLmxvYWQoYSxiLGMpLnJlc3BvbnNlVHlwZT0iZG9jdW1lbnQifX0sYS54aHI9YixhLkxvYWRlcj1kfSh3aW5kb3cuSFRNTEltcG9ydHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEucmVsPT09Z31mdW5jdGlvbiBjKGEpe3ZhciBiLGM9ZChhKTt0cnl7Yj1idG9hKGMpfWNhdGNoKGUpe2I9YnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYykpKSxjb25zb2xlLndhcm4oIlNjcmlwdCBjb250YWluZWQgbm9uLWxhdGluIGNoYXJhY3RlcnMgdGhhdCB3ZXJlIGZvcmNlZCB0byBsYXRpbi4gU29tZSBjaGFyYWN0ZXJzIG1heSBiZSB3cm9uZy4iLGEpfXJldHVybiJkYXRhOnRleHQvamF2YXNjcmlwdDtiYXNlNjQsIitifWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudGV4dENvbnRlbnQrZShhKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWEuX19ub2RlVXJsO2lmKCFiKXtiPWEub3duZXJEb2N1bWVudC5iYXNlVVJJO3ZhciBjPSJbIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrIl0iLGQ9YS50ZXh0Q29udGVudC5tYXRjaCgvUG9seW1lclwoWyciXShbXiciXSopLyk7Yz1kJiZkWzFdfHxjLGIrPSIvIitjKyIuanMifXJldHVybiJcbi8vIyBzb3VyY2VVUkw9IitiKyJcbiJ9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLnRleHRDb250ZW50LG4ucmVzb2x2ZVVybHNJblN0eWxlKGIpLGJ9dmFyIGc9ImltcG9ydCIsaD1hLmZsYWdzLGk9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksaj13aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQsaz17ZG9jdW1lbnRTZWxlY3RvcnM6ImxpbmtbcmVsPSIrZysiXSIsaW1wb3J0c1NlbGVjdG9yczpbImxpbmtbcmVsPSIrZysiXSIsImxpbmtbcmVsPXN0eWxlc2hlZXRdIiwic3R5bGUiLCJzY3JpcHQ6bm90KFt0eXBlXSkiLCdzY3JpcHRbdHlwZT0idGV4dC9qYXZhc2NyaXB0Il0nXS5qb2luKCIsIiksbWFwOntsaW5rOiJwYXJzZUxpbmsiLHNjcmlwdDoicGFyc2VTY3JpcHQiLHN0eWxlOiJwYXJzZVN0eWxlIn0scGFyc2VOZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uZXh0VG9QYXJzZSgpO2EmJnRoaXMucGFyc2UoYSl9LHBhcnNlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNQYXJzZWQoYSkpcmV0dXJuIHZvaWQoaC5wYXJzZSYmY29uc29sZS5sb2coIlslc10gaXMgYWxyZWFkeSBwYXJzZWQiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0sbWFya1BhcnNpbmc6ZnVuY3Rpb24oYSl7aC5wYXJzZSYmY29uc29sZS5sb2coInBhcnNpbmciLGEpLHRoaXMucGFyc2luZ0VsZW1lbnQ9YX0sbWFya1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXthLl9faW1wb3J0UGFyc2VkPSEwLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITApLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxoLnBhcnNlJiZjb25zb2xlLmxvZygiY29tcGxldGVkIixhKX0saW52YWxpZGF0ZVBhcnNlOmZ1bmN0aW9uKGEpe2EmJmEuX19pbXBvcnRMaW5rJiYoYS5fX2ltcG9ydFBhcnNlZD1hLl9faW1wb3J0TGluay5fX2ltcG9ydFBhcnNlZD0hMSx0aGlzLnBhcnNlU29vbigpKX0scGFyc2VTb29uOmZ1bmN0aW9uKCl7dGhpcy5fcGFyc2VTb29uJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9wYXJzZURlbGF5KTt2YXIgYT10aGlzO3RoaXMuX3BhcnNlU29vbj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXthLnBhcnNlTmV4dCgpfSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2lmKEhUTUxJbXBvcnRzLl9faW1wb3J0c1BhcnNpbmdIb29rJiZIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayhhKSxhLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSksYS5kaXNwYXRjaEV2ZW50KGEuX19yZXNvdXJjZT9uZXcgQ3VzdG9tRXZlbnQoImxvYWQiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KCJlcnJvciIse2J1YmJsZXM6ITF9KSksYS5fX3BlbmRpbmcpZm9yKHZhciBiO2EuX19wZW5kaW5nLmxlbmd0aDspYj1hLl9fcGVuZGluZy5zaGlmdCgpLGImJmIoe3RhcmdldDphfSk7dGhpcy5wYXJzZU5leHQoKX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSk/dGhpcy5wYXJzZUltcG9ydChhKTooYS5ocmVmPWEuaHJlZix0aGlzLnBhcnNlR2VuZXJpYyhhKSl9LHBhcnNlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YTthPWYoYSksYS5fX2ltcG9ydEVsZW1lbnQ9Yix0aGlzLnBhcnNlR2VuZXJpYyhhKX0scGFyc2VHZW5lcmljOmZ1bmN0aW9uKGEpe3RoaXMudHJhY2tFbGVtZW50KGEpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYSl9LHRyYWNrRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1mdW5jdGlvbihkKXtiJiZiKGQpLGMubWFya1BhcnNpbmdDb21wbGV0ZShhKSxjLnBhcnNlTmV4dCgpfTtpZihhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpLGkmJiJzdHlsZSI9PT1hLmxvY2FsTmFtZSl7dmFyIGU9ITE7aWYoLTE9PWEudGV4dENvbnRlbnQuaW5kZXhPZigiQGltcG9ydCIpKWU9ITA7ZWxzZSBpZihhLnNoZWV0KXtlPSEwO2Zvcih2YXIgZixnPWEuc2hlZXQuY3NzUnVsZXMsaD1nP2cubGVuZ3RoOjAsaj0wO2g+aiYmKGY9Z1tqXSk7aisrKWYudHlwZT09PUNTU1J1bGUuSU1QT1JUX1JVTEUmJihlPWUmJkJvb2xlYW4oZi5zdHlsZVNoZWV0KSl9ZSYmYS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgibG9hZCIse2J1YmJsZXM6ITF9KSl9fSxwYXJzZVNjcmlwdDpmdW5jdGlvbihiKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtkLl9faW1wb3J0RWxlbWVudD1iLGQuc3JjPWIuc3JjP2Iuc3JjOmMoYiksYS5jdXJyZW50U2NyaXB0PWIsdGhpcy50cmFja0VsZW1lbnQoZCxmdW5jdGlvbigpe2QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxhLmN1cnJlbnRTY3JpcHQ9bnVsbH0pLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZCl9LG5leHRUb1BhcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucGFyc2luZ0VsZW1lbnQmJnRoaXMubmV4dFRvUGFyc2VJbkRvYyhqKX0sbmV4dFRvUGFyc2VJbkRvYzpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZCxlPWEucXVlcnlTZWxlY3RvckFsbCh0aGlzLnBhcnNlU2VsZWN0b3JzRm9yTm9kZShhKSksZj0wLGc9ZS5sZW5ndGg7Zz5mJiYoZD1lW2ZdKTtmKyspaWYoIXRoaXMuaXNQYXJzZWQoZCkpcmV0dXJuIHRoaXMuaGFzUmVzb3VyY2UoZCk/YihkKT90aGlzLm5leHRUb1BhcnNlSW5Eb2MoZC5pbXBvcnQsZCk6ZDp2b2lkIDA7cmV0dXJuIGN9LHBhcnNlU2VsZWN0b3JzRm9yTm9kZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnR8fGE7cmV0dXJuIGI9PT1qP3RoaXMuZG9jdW1lbnRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzU2VsZWN0b3JzfSxpc1BhcnNlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fX2ltcG9ydFBhcnNlZH0saGFzUmVzb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSkmJiFhLmltcG9ydD8hMTohMH19LGw9Lyh1cmxcKCkoW14pXSopKFwpKS9nLG09LyhAaW1wb3J0W1xzXSsoPyF1cmxcKCkpKFteO10qKSg7KS9nLG49e3Jlc29sdmVVcmxzSW5TdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQsYz1iLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixsKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixtKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1siJ10vZywiIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrIiciK2YrIiciK2V9KX19O2EucGFyc2VyPWssYS5wYXRoPW4sYS5pc0lFPWl9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBjKGEscSl9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiJsaW5rIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZSgicmVsIik9PT1ifWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz1hO2MgaW5zdGFuY2VvZiBEb2N1bWVudHx8KGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KHEpKSxjLl9VUkw9Yjt2YXIgZD1jLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtkLnNldEF0dHJpYnV0ZSgiaHJlZiIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibWV0YSIpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsInV0Zi04IiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY31mdW5jdGlvbiBlKGEsYil7Yj1ifHxyLGcoZnVuY3Rpb24oKXtoKGEsYil9LGIpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuImNvbXBsZXRlIj09PWEucmVhZHlTdGF0ZXx8YS5yZWFkeVN0YXRlPT09eX1mdW5jdGlvbiBnKGEsYil7aWYoZihiKSlhJiZhKCk7ZWxzZXt2YXIgYz1mdW5jdGlvbigpeygiY29tcGxldGUiPT09Yi5yZWFkeVN0YXRlfHxiLnJlYWR5U3RhdGU9PT15KSYmKGIucmVtb3ZlRXZlbnRMaXN0ZW5lcih6LGMpLGcoYSxiKSl9O2IuYWRkRXZlbnRMaXN0ZW5lcih6LGMpfX1mdW5jdGlvbiBoKGEsYil7ZnVuY3Rpb24gYygpe2Y9PWcmJmEmJmEoKX1mdW5jdGlvbiBkKCl7ZisrLGMoKX12YXIgZT1iLnF1ZXJ5U2VsZWN0b3JBbGwoImxpbmtbcmVsPWltcG9ydF0iKSxmPTAsZz1lLmxlbmd0aDtpZihnKWZvcih2YXIgaCxqPTA7Zz5qJiYoaD1lW2pdKTtqKyspaShoKT9kLmNhbGwoaCk6KGguYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZCksaC5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZCkpO2Vsc2UgYygpfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIG8/YS5pbXBvcnQmJiJsb2FkaW5nIiE9PWEuaW1wb3J0LnJlYWR5U3RhdGV8fGEuX19sb2FkZWQ6YS5fX2ltcG9ydFBhcnNlZH1mdW5jdGlvbiBqKGEpe2Zvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtkPmMmJihiPWFbY10pO2MrKylrKGIpJiZsKGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJiJpbXBvcnQiPT09YS5yZWx9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLmltcG9ydDtiP20oe3RhcmdldDphfSk6KGEuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsbSksYS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsbSkpfWZ1bmN0aW9uIG0oYSl7YS50YXJnZXQuX19sb2FkZWQ9ITB9dmFyIG49ImltcG9ydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIiksbz1uLHA9YS5mbGFncyxxPSJpbXBvcnQiLHI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP1NoYWRvd0RPTVBvbHlmaWxsLndyYXBJZk5lZWRlZChkb2N1bWVudCk6ZG9jdW1lbnQ7aWYobyl2YXIgcz17fTtlbHNlIHZhciB0PShhLnhocixhLkxvYWRlciksdT1hLnBhcnNlcixzPXtkb2N1bWVudHM6e30sZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzOiJsaW5rW3JlbD0iK3ErIl0iLGltcG9ydHNQcmVsb2FkU2VsZWN0b3JzOlsibGlua1tyZWw9IitxKyJdIl0uam9pbigiLCIpLGxvYWROb2RlOmZ1bmN0aW9uKGEpe3YuYWRkTm9kZShhKX0sbG9hZFN1YnRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXJzaGFsTm9kZXMoYSk7di5hZGROb2RlcyhiKX0sbWFyc2hhbE5vZGVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9LGxvYWRTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PXI/dGhpcy5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzUHJlbG9hZFNlbGVjdG9yc30sbG9hZGVkOmZ1bmN0aW9uKGEsYyxlKXtpZihwLmxvYWQmJmNvbnNvbGUubG9nKCJsb2FkZWQiLGEsYyksYy5fX3Jlc291cmNlPWUsYihjKSl7dmFyIGY9dGhpcy5kb2N1bWVudHNbYV07Znx8KGY9ZChlLGEpLGYuX19pbXBvcnRMaW5rPWMsdGhpcy5ib290RG9jdW1lbnQoZiksdGhpcy5kb2N1bWVudHNbYV09ZiksYy5pbXBvcnQ9Zn11LnBhcnNlTmV4dCgpfSxib290RG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkU3VidHJlZShhKSx0aGlzLm9ic2VydmUoYSksdS5wYXJzZU5leHQoKX0sbG9hZGVkQWxsOmZ1bmN0aW9uKCl7dS5wYXJzZU5leHQoKX19LHY9bmV3IHQocy5sb2FkZWQuYmluZChzKSxzLmxvYWRlZEFsbC5iaW5kKHMpKTt2YXIgdz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEhUTUxJbXBvcnRzLmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LmN1cnJlbnRTY3JpcHR9LGNvbmZpZ3VyYWJsZTohMH07aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCJfY3VycmVudFNjcmlwdCIsdyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9jdXJyZW50U2NyaXB0Iix3KSwhZG9jdW1lbnQuYmFzZVVSSSl7dmFyIHg9e2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsImJhc2VVUkkiLHgpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJiYXNlVVJJIix4KX12YXIgeT1IVE1MSW1wb3J0cy5pc0lFPyJjb21wbGV0ZSI6ImludGVyYWN0aXZlIix6PSJyZWFkeXN0YXRlY2hhbmdlIjtvJiZuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wLGQ9YS5sZW5ndGg7ZD5jJiYoYj1hW2NdKTtjKyspYi5hZGRlZE5vZGVzJiZqKGIuYWRkZWROb2Rlcyl9KS5vYnNlcnZlKGRvY3VtZW50LmhlYWQse2NoaWxkTGlzdDohMH0pLGEuaGFzTmF0aXZlPW4sYS51c2VOYXRpdmU9byxhLmltcG9ydGVyPXMsYS53aGVuSW1wb3J0c1JlYWR5PWUsYS5JTVBPUlRfTElOS19UWVBFPXEsYS5pc0ltcG9ydExvYWRlZD1pLGEuaW1wb3J0TG9hZGVyPXZ9KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGIsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYj1hW2RdKTtkKyspImNoaWxkTGlzdCI9PT1iLnR5cGUmJmIuYWRkZWROb2Rlcy5sZW5ndGgmJmMoYi5hZGRlZE5vZGVzKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYixlLGg9MCxpPWEubGVuZ3RoO2k+aCYmKGU9YVtoXSk7aCsrKWI9Ynx8ZS5vd25lckRvY3VtZW50LGQoZSkmJmYubG9hZE5vZGUoZSksZS5jaGlsZHJlbiYmZS5jaGlsZHJlbi5sZW5ndGgmJmMoZS5jaGlsZHJlbik7YiYmZy5pbnZhbGlkYXRlUGFyc2UoYil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gMT09PWEubm9kZVR5cGUmJmguY2FsbChhLGYubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfWZ1bmN0aW9uIGUoYSl7aS5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9dmFyIGY9KGEuSU1QT1JUX0xJTktfVFlQRSxhLmltcG9ydGVyKSxnPWEucGFyc2VyLGg9SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXN8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3J8fEhUTUxFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvcixpPW5ldyBNdXRhdGlvbk9ic2VydmVyKGIpO2Eub2JzZXJ2ZT1lLGYub2JzZXJ2ZT1lfShIVE1MSW1wb3J0cyksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7SFRNTEltcG9ydHMuaW1wb3J0ZXIuYm9vdERvY3VtZW50KGIpfSJmdW5jdGlvbiIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO3JldHVybiBjLmluaXRFdmVudChhLGIuYnViYmxlcz09PSExPyExOiEwLGIuY2FuY2VsYWJsZT09PSExPyExOiEwLGIuZGV0YWlsKSxjfSk7dmFyIGI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O0hUTUxJbXBvcnRzLndoZW5JbXBvcnRzUmVhZHkoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksYi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiSFRNTEltcG9ydHNMb2FkZWQiLHtidWJibGVzOiEwfSkpfSksSFRNTEltcG9ydHMudXNlTmF0aXZlfHwoImNvbXBsZXRlIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fCJpbnRlcmFjdGl2ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYhd2luZG93LmF0dGFjaEV2ZW50P2EoKTpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixhKSl9KCksd2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXt2YXIgZT1hLmZpcnN0RWxlbWVudENoaWxkO2lmKCFlKWZvcihlPWEuZmlyc3RDaGlsZDtlJiZlLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREU7KWU9ZS5uZXh0U2libGluZztmb3IoO2U7KWMoZSxkKSE9PSEwJiZiKGUsYyxkKSxlPWUubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGM9YS5zaGFkb3dSb290O2M7KWQoYyxiKSxjPWMub2xkZXJTaGFkb3dSb290fWZ1bmN0aW9uIGQoYSxkKXtiKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGQoYSk/ITA6dm9pZCBjKGEsZCl9KSxjKGEsZCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gaChhKT8oaShhKSwhMCk6dm9pZCBsKGEpfWZ1bmN0aW9uIGYoYSl7ZChhLGZ1bmN0aW9uKGEpe3JldHVybiBlKGEpPyEwOnZvaWQgMH0pfWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGUoYSl8fGYoYSl9ZnVuY3Rpb24gaChiKXtpZighYi5fX3VwZ3JhZGVkX18mJmIubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGM9Yi5nZXRBdHRyaWJ1dGUoImlzIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBBLmRvbSYmY29uc29sZS5ncm91cCgidXBncmFkZToiLGIubG9jYWxOYW1lKSxhLnVwZ3JhZGUoYiksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSwhMH19ZnVuY3Rpb24gaShhKXtsKGEpLHIoYSkmJmQoYSxmdW5jdGlvbihhKXtsKGEpfSl9ZnVuY3Rpb24gaihhKXtpZihFLnB1c2goYSksIUQpe0Q9ITA7dmFyIGI9d2luZG93LlBsYXRmb3JtJiZ3aW5kb3cuUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2t8fHNldFRpbWVvdXQ7YihrKX19ZnVuY3Rpb24gaygpe0Q9ITE7Zm9yKHZhciBhLGI9RSxjPTAsZD1iLmxlbmd0aDtkPmMmJihhPWJbY10pO2MrKylhKCk7RT1bXX1mdW5jdGlvbiBsKGEpe0M/aihmdW5jdGlvbigpe20oYSl9KTptKGEpfWZ1bmN0aW9uIG0oYSl7KGEuYXR0YWNoZWRDYWxsYmFja3x8YS5kZXRhY2hlZENhbGxiYWNrfHxhLl9fdXBncmFkZWRfXyYmQS5kb20pJiYoQS5kb20mJmNvbnNvbGUuZ3JvdXAoImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLHIoYSkmJihhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCkrMSxhLl9faW5zZXJ0ZWQ8MSYmKGEuX19pbnNlcnRlZD0xKSxhLl9faW5zZXJ0ZWQ+MT9BLmRvbSYmY29uc29sZS53YXJuKCJpbnNlcnRlZDoiLGEubG9jYWxOYW1lLCJpbnNlcnQvcmVtb3ZlIGNvdW50OiIsYS5fX2luc2VydGVkKTphLmF0dGFjaGVkQ2FsbGJhY2smJihBLmRvbSYmY29uc29sZS5sb2coImluc2VydGVkOiIsYS5sb2NhbE5hbWUpLGEuYXR0YWNoZWRDYWxsYmFjaygpKSksQS5kb20mJmNvbnNvbGUuZ3JvdXBFbmQoKSl9ZnVuY3Rpb24gbihhKXtvKGEpLGQoYSxmdW5jdGlvbihhKXtvKGEpfSl9ZnVuY3Rpb24gbyhhKXtDP2ooZnVuY3Rpb24oKXtwKGEpfSk6cChhKX1mdW5jdGlvbiBwKGEpeyhhLmF0dGFjaGVkQ2FsbGJhY2t8fGEuZGV0YWNoZWRDYWxsYmFja3x8YS5fX3VwZ3JhZGVkX18mJkEuZG9tKSYmKEEuZG9tJiZjb25zb2xlLmdyb3VwKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9BLmRvbSYmY29uc29sZS53YXJuKCJyZW1vdmVkOiIsYS5sb2NhbE5hbWUsImluc2VydC9yZW1vdmUgY291bnQ6IixhLl9faW5zZXJ0ZWQpOmEuZGV0YWNoZWRDYWxsYmFjayYmYS5kZXRhY2hlZENhbGxiYWNrKCkpLEEuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIHEoYSl7cmV0dXJuIHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbD9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX1mdW5jdGlvbiByKGEpe2Zvcih2YXIgYj1hLGM9cShkb2N1bWVudCk7Yjspe2lmKGI9PWMpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV8fGIuaG9zdH19ZnVuY3Rpb24gcyhhKXtpZihhLnNoYWRvd1Jvb3QmJiFhLnNoYWRvd1Jvb3QuX193YXRjaGVkKXtBLmRvbSYmY29uc29sZS5sb2coIndhdGNoaW5nIHNoYWRvdy1yb290IGZvcjogIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7YS5fX3dhdGNoZWR8fCh3KGEpLGEuX193YXRjaGVkPSEwKX1mdW5jdGlvbiB1KGEpe2lmKEEuZG9tKXt2YXIgYj1hWzBdO2lmKGImJiJjaGlsZExpc3QiPT09Yi50eXBlJiZiLmFkZGVkTm9kZXMmJmIuYWRkZWROb2Rlcyl7Zm9yKHZhciBjPWIuYWRkZWROb2Rlc1swXTtjJiZjIT09ZG9jdW1lbnQmJiFjLmhvc3Q7KWM9Yy5wYXJlbnROb2RlO3ZhciBkPWMmJihjLlVSTHx8Yy5fVVJMfHxjLmhvc3QmJmMuaG9zdC5sb2NhbE5hbWUpfHwiIjtkPWQuc3BsaXQoIi8/Iikuc2hpZnQoKS5zcGxpdCgiLyIpLnBvcCgpfWNvbnNvbGUuZ3JvdXAoIm11dGF0aW9ucyAoJWQpIFslc10iLGEubGVuZ3RoLGR8fCIiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7ImNoaWxkTGlzdCI9PT1hLnR5cGUmJihHKGEuYWRkZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmZyhhKX0pLEcoYS5yZW1vdmVkTm9kZXMsZnVuY3Rpb24oYSl7YS5sb2NhbE5hbWUmJm4oYSl9KSl9KSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHYoKXt1KEYudGFrZVJlY29yZHMoKSksaygpfWZ1bmN0aW9uIHcoYSl7Ri5vYnNlcnZlKGEse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9ZnVuY3Rpb24geChhKXt3KGEpfWZ1bmN0aW9uIHkoYSl7QS5kb20mJmNvbnNvbGUuZ3JvdXAoInVwZ3JhZGVEb2N1bWVudDogIixhLmJhc2VVUkkuc3BsaXQoIi8iKS5wb3AoKSksZyhhKSxBLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7YT1xKGEpO2Zvcih2YXIgYixjPWEucXVlcnlTZWxlY3RvckFsbCgibGlua1tyZWw9IitCKyJdIiksZD0wLGU9Yy5sZW5ndGg7ZT5kJiYoYj1jW2RdKTtkKyspYi5pbXBvcnQmJmIuaW1wb3J0Ll9fcGFyc2VkJiZ6KGIuaW1wb3J0KTt5KGEpfXZhciBBPXdpbmRvdy5sb2dGbGFnc3x8e30sQj13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRToibm9uZSIsQz0hd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyPT09d2luZG93LkpzTXV0YXRpb25PYnNlcnZlcjthLmhhc1BvbHlmaWxsTXV0YXRpb25zPUM7dmFyIEQ9ITEsRT1bXSxGPW5ldyBNdXRhdGlvbk9ic2VydmVyKHUpLEc9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLklNUE9SVF9MSU5LX1RZUEU9QixhLndhdGNoU2hhZG93PXMsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXosYS51cGdyYWRlQWxsPWcsYS51cGdyYWRlU3VidHJlZT1mLGEuaW5zZXJ0ZWROb2RlPWksYS5vYnNlcnZlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudD15LGEudGFrZVJlY29yZHM9dn0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIsZyl7dmFyIGg9Z3x8e307aWYoIWIpdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50IGBuYW1lYCBtdXN0IG5vdCBiZSBlbXB0eSIpO2lmKGIuaW5kZXhPZigiLSIpPDApdGhyb3cgbmV3IEVycm9yKCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50ICgnbmFtZScpIG11c3QgY29udGFpbiBhIGRhc2ggKCctJykuIEFyZ3VtZW50IHByb3ZpZGVkIHdhcyAnIitTdHJpbmcoYikrIicuIik7aWYoYyhiKSl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBleGVjdXRlICdyZWdpc3RlckVsZW1lbnQnIG9uICdEb2N1bWVudCc6IFJlZ2lzdHJhdGlvbiBmYWlsZWQgZm9yIHR5cGUgJyIrU3RyaW5nKGIpKyInLiBUaGUgdHlwZSBuYW1lIGlzIGludmFsaWQuIik7aWYobihiKSl0aHJvdyBuZXcgRXJyb3IoIkR1cGxpY2F0ZURlZmluaXRpb25FcnJvcjogYSB0eXBlIHdpdGggbmFtZSAnIitTdHJpbmcoYikrIicgaXMgYWxyZWFkeSByZWdpc3RlcmVkIik7aWYoIWgucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcigiT3B0aW9ucyBtaXNzaW5nIHJlcXVpcmVkIHByb3RvdHlwZSBwcm9wZXJ0eSIpO3JldHVybiBoLl9fbmFtZT1iLnRvTG93ZXJDYXNlKCksaC5saWZlY3ljbGU9aC5saWZlY3ljbGV8fHt9LGguYW5jZXN0cnk9ZChoLmV4dGVuZHMpLGUoaCksZihoKSxsKGgucHJvdG90eXBlKSxvKGguX19uYW1lLGgpLGguY3Rvcj1wKGgpLGguY3Rvci5wcm90b3R5cGU9aC5wcm90b3R5cGUsaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aC5jdG9yLGEucmVhZHkmJmEudXBncmFkZURvY3VtZW50VHJlZShkb2N1bWVudCksaC5jdG9yCn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj0wO2I8eS5sZW5ndGg7YisrKWlmKGE9PT15W2JdKXJldHVybiEwfWZ1bmN0aW9uIGQoYSl7dmFyIGI9bihhKTtyZXR1cm4gYj9kKGIuZXh0ZW5kcykuY29uY2F0KFtiXSk6W119ZnVuY3Rpb24gZShhKXtmb3IodmFyIGIsYz1hLmV4dGVuZHMsZD0wO2I9YS5hbmNlc3RyeVtkXTtkKyspYz1iLmlzJiZiLnRhZzthLnRhZz1jfHxhLl9fbmFtZSxjJiYoYS5pcz1hLl9fbmFtZSl9ZnVuY3Rpb24gZihhKXtpZighT2JqZWN0Ll9fcHJvdG9fXyl7dmFyIGI9SFRNTEVsZW1lbnQucHJvdG90eXBlO2lmKGEuaXMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS50YWcpLGQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpO2Q9PT1hLnByb3RvdHlwZSYmKGI9ZCl9Zm9yKHZhciBlLGY9YS5wcm90b3R5cGU7ZiYmZiE9PWI7KWU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGYpLGYuX19wcm90b19fPWUsZj1lO2EubmF0aXZlPWJ9fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIGgoQihhLnRhZyksYSl9ZnVuY3Rpb24gaChiLGMpe3JldHVybiBjLmlzJiZiLnNldEF0dHJpYnV0ZSgiaXMiLGMuaXMpLGIucmVtb3ZlQXR0cmlidXRlKCJ1bnJlc29sdmVkIiksaShiLGMpLGIuX191cGdyYWRlZF9fPSEwLGsoYiksYS5pbnNlcnRlZE5vZGUoYiksYS51cGdyYWRlU3VidHJlZShiKSxifWZ1bmN0aW9uIGkoYSxiKXtPYmplY3QuX19wcm90b19fP2EuX19wcm90b19fPWIucHJvdG90eXBlOihqKGEsYi5wcm90b3R5cGUsYi5uYXRpdmUpLGEuX19wcm90b19fPWIucHJvdG90eXBlKX1mdW5jdGlvbiBqKGEsYixjKXtmb3IodmFyIGQ9e30sZT1iO2UhPT1jJiZlIT09SFRNTEVsZW1lbnQucHJvdG90eXBlOyl7Zm9yKHZhciBmLGc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSksaD0wO2Y9Z1toXTtoKyspZFtmXXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGYsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLGYpKSxkW2ZdPTEpO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfX1mdW5jdGlvbiBrKGEpe2EuY3JlYXRlZENhbGxiYWNrJiZhLmNyZWF0ZWRDYWxsYmFjaygpfWZ1bmN0aW9uIGwoYSl7aWYoIWEuc2V0QXR0cmlidXRlLl9wb2x5ZmlsbGVkKXt2YXIgYj1hLnNldEF0dHJpYnV0ZTthLnNldEF0dHJpYnV0ZT1mdW5jdGlvbihhLGMpe20uY2FsbCh0aGlzLGEsYyxiKX07dmFyIGM9YS5yZW1vdmVBdHRyaWJ1dGU7YS5yZW1vdmVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7bS5jYWxsKHRoaXMsYSxudWxsLGMpfSxhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZD0hMH19ZnVuY3Rpb24gbShhLGIsYyl7YT1hLnRvTG93ZXJDYXNlKCk7dmFyIGQ9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7dGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2smJmUhPT1kJiZ0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhLGQsZSl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYT96W2EudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIG8oYSxiKXt6W2FdPWJ9ZnVuY3Rpb24gcChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZyhhKX19ZnVuY3Rpb24gcShhLGIsYyl7cmV0dXJuIGE9PT1BP3IoYixjKTpDKGEsYil9ZnVuY3Rpb24gcihhLGIpe3ZhciBjPW4oYnx8YSk7aWYoYyl7aWYoYT09Yy50YWcmJmI9PWMuaXMpcmV0dXJuIG5ldyBjLmN0b3I7aWYoIWImJiFjLmlzKXJldHVybiBuZXcgYy5jdG9yfWlmKGIpe3ZhciBkPXIoYSk7cmV0dXJuIGQuc2V0QXR0cmlidXRlKCJpcyIsYiksZH12YXIgZD1CKGEpO3JldHVybiBhLmluZGV4T2YoIi0iKT49MCYmaShkLEhUTUxFbGVtZW50KSxkfWZ1bmN0aW9uIHMoYSl7aWYoIWEuX191cGdyYWRlZF9fJiZhLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJpcyIpLGM9bihifHxhLmxvY2FsTmFtZSk7aWYoYyl7aWYoYiYmYy50YWc9PWEubG9jYWxOYW1lKXJldHVybiBoKGEsYyk7aWYoIWImJiFjLmV4dGVuZHMpcmV0dXJuIGgoYSxjKX19fWZ1bmN0aW9uIHQoYil7dmFyIGM9RC5jYWxsKHRoaXMsYik7cmV0dXJuIGEudXBncmFkZUFsbChjKSxjfWF8fChhPXdpbmRvdy5DdXN0b21FbGVtZW50cz17ZmxhZ3M6e319KTt2YXIgdT1hLmZsYWdzLHY9Qm9vbGVhbihkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQpLHc9IXUucmVnaXN0ZXImJnYmJiF3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJighd2luZG93LkhUTUxJbXBvcnRzfHxIVE1MSW1wb3J0cy51c2VOYXRpdmUpO2lmKHcpe3ZhciB4PWZ1bmN0aW9uKCl7fTthLnJlZ2lzdHJ5PXt9LGEudXBncmFkZUVsZW1lbnQ9eCxhLndhdGNoU2hhZG93PXgsYS51cGdyYWRlPXgsYS51cGdyYWRlQWxsPXgsYS51cGdyYWRlU3VidHJlZT14LGEub2JzZXJ2ZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnQ9eCxhLnVwZ3JhZGVEb2N1bWVudFRyZWU9eCxhLnRha2VSZWNvcmRzPXgsYS5yZXNlcnZlZFRhZ0xpc3Q9W119ZWxzZXt2YXIgeT1bImFubm90YXRpb24teG1sIiwiY29sb3ItcHJvZmlsZSIsImZvbnQtZmFjZSIsImZvbnQtZmFjZS1zcmMiLCJmb250LWZhY2UtdXJpIiwiZm9udC1mYWNlLWZvcm1hdCIsImZvbnQtZmFjZS1uYW1lIiwibWlzc2luZy1nbHlwaCJdLHo9e30sQT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsQj1kb2N1bWVudC5jcmVhdGVFbGVtZW50LmJpbmQoZG9jdW1lbnQpLEM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TLmJpbmQoZG9jdW1lbnQpLEQ9Tm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlO2RvY3VtZW50LnJlZ2lzdGVyRWxlbWVudD1iLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ9cixkb2N1bWVudC5jcmVhdGVFbGVtZW50TlM9cSxOb2RlLnByb3RvdHlwZS5jbG9uZU5vZGU9dCxhLnJlZ2lzdHJ5PXosYS51cGdyYWRlPXN9dmFyIEU7RT1PYmplY3QuX19wcm90b19ffHx3P2Z1bmN0aW9uKGEsYil7cmV0dXJuIGEgaW5zdGFuY2VvZiBifTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hO2M7KXtpZihjPT09Yi5wcm90b3R5cGUpcmV0dXJuITA7Yz1jLl9fcHJvdG9fX31yZXR1cm4hMX0sYS5pbnN0YW5jZW9mPUUsYS5yZXNlcnZlZFRhZ0xpc3Q9eSxkb2N1bWVudC5yZWdpc3Rlcj1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQsYS5oYXNOYXRpdmU9dixhLnVzZU5hdGl2ZT13fSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuImxpbmsiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKCJyZWwiKT09PWN9dmFyIGM9YS5JTVBPUlRfTElOS19UWVBFLGQ9e3NlbGVjdG9yczpbImxpbmtbcmVsPSIrYysiXSJdLG1hcDp7bGluazoicGFyc2VMaW5rIn0scGFyc2U6ZnVuY3Rpb24oYSl7aWYoIWEuX19wYXJzZWQpe2EuX19wYXJzZWQ9ITA7dmFyIGI9YS5xdWVyeVNlbGVjdG9yQWxsKGQuc2VsZWN0b3JzKTtlKGIsZnVuY3Rpb24oYSl7ZFtkLm1hcFthLmxvY2FsTmFtZV1dKGEpfSksQ3VzdG9tRWxlbWVudHMudXBncmFkZURvY3VtZW50KGEpLEN1c3RvbUVsZW1lbnRzLm9ic2VydmVEb2N1bWVudChhKX19LHBhcnNlTGluazpmdW5jdGlvbihhKXtiKGEpJiZ0aGlzLnBhcnNlSW1wb3J0KGEpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXthLmltcG9ydCYmZC5wYXJzZShhLmltcG9ydCl9fSxlPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5wYXJzZXI9ZCxhLklNUE9SVF9MSU5LX1RZUEU9Y30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGRvY3VtZW50KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoZG9jdW1lbnQpO3ZhciBhPXdpbmRvdy5QbGF0Zm9ybSYmUGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s/UGxhdGZvcm0uZW5kT2ZNaWNyb3Rhc2s6c2V0VGltZW91dDthKGZ1bmN0aW9uKCl7Q3VzdG9tRWxlbWVudHMucmVhZHk9ITAsQ3VzdG9tRWxlbWVudHMucmVhZHlUaW1lPURhdGUubm93KCksd2luZG93LkhUTUxJbXBvcnRzJiYoQ3VzdG9tRWxlbWVudHMuZWxhcHNlZD1DdXN0b21FbGVtZW50cy5yZWFkeVRpbWUtSFRNTEltcG9ydHMucmVhZHlUaW1lKSxkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgiV2ViQ29tcG9uZW50c1JlYWR5Iix7YnViYmxlczohMH0pKSx3aW5kb3cuSFRNTEltcG9ydHMmJihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vaz1mdW5jdGlvbihhKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoYS5pbXBvcnQpfSl9KX1pZigiZnVuY3Rpb24iIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7cmV0dXJuIGIuaW5pdEV2ZW50KGEsITAsITApLGJ9KSwiY29tcGxldGUiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8YS5mbGFncy5lYWdlciliKCk7ZWxzZSBpZigiaW50ZXJhY3RpdmUiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8d2luZG93LmF0dGFjaEV2ZW50fHx3aW5kb3cuSFRNTEltcG9ydHMmJiF3aW5kb3cuSFRNTEltcG9ydHMucmVhZHkpe3ZhciBjPXdpbmRvdy5IVE1MSW1wb3J0cyYmIUhUTUxJbXBvcnRzLnJlYWR5PyJIVE1MSW1wb3J0c0xvYWRlZCI6IkRPTUNvbnRlbnRMb2FkZWQiO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKGMsYil9ZWxzZSBiKCl9KHdpbmRvdy5DdXN0b21FbGVtZW50cyksZnVuY3Rpb24oKXtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe3ZhciBhPVsidXBncmFkZUFsbCIsInVwZ3JhZGVTdWJ0cmVlIiwib2JzZXJ2ZURvY3VtZW50IiwidXBncmFkZURvY3VtZW50Il0sYj17fTthLmZvckVhY2goZnVuY3Rpb24oYSl7YlthXT1DdXN0b21FbGVtZW50c1thXX0pLGEuZm9yRWFjaChmdW5jdGlvbihhKXtDdXN0b21FbGVtZW50c1thXT1mdW5jdGlvbihjKXtyZXR1cm4gYlthXSh3cmFwKGMpKX19KX19KCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5tYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLnJlcXVlc3RzPTAsdGhpcy5yZWdleD1hfXZhciBjPWEuZW5kT2ZNaWNyb3Rhc2s7Yi5wcm90b3R5cGU9e2V4dHJhY3RVcmxzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1bXTtjPXRoaXMucmVnZXguZXhlYyhhKTspZD1uZXcgVVJMKGNbMV0sYiksZS5wdXNoKHttYXRjaGVkOmNbMF0sdXJsOmQuaHJlZn0pO3JldHVybiBlfSxwcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmV4dHJhY3RVcmxzKGEsYiksZT1jLmJpbmQobnVsbCx0aGlzLm1hcCk7dGhpcy5mZXRjaChkLGUpfSxmZXRjaDpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGVuZ3RoO2lmKCFjKXJldHVybiBiKCk7Zm9yKHZhciBkLGUsZixnPWZ1bmN0aW9uKCl7MD09PS0tYyYmYigpfSxoPTA7Yz5oO2grKylkPWFbaF0sZj1kLnVybCxlPXRoaXMuY2FjaGVbZl0sZXx8KGU9dGhpcy54aHIoZiksZS5tYXRjaD1kLHRoaXMuY2FjaGVbZl09ZSksZS53YWl0KGcpfSxoYW5kbGVYaHI6ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCxjPWIudXJsLGQ9YS5yZXNwb25zZXx8YS5yZXNwb25zZVRleHR8fCIiO3RoaXMubWFwW2NdPWQsdGhpcy5mZXRjaCh0aGlzLmV4dHJhY3RVcmxzKGQsYyksYS5yZXNvbHZlKX0seGhyOmZ1bmN0aW9uKGEpe3RoaXMucmVxdWVzdHMrKzt2YXIgYj1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGIub3BlbigiR0VUIixhLCEwKSxiLnNlbmQoKSxiLm9uZXJyb3I9Yi5vbmxvYWQ9dGhpcy5oYW5kbGVYaHIuYmluZCh0aGlzLGIpLGIucGVuZGluZz1bXSxiLnJlc29sdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5wZW5kaW5nLGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdKCk7Yi5wZW5kaW5nPW51bGx9LGIud2FpdD1mdW5jdGlvbihhKXtiLnBlbmRpbmc/Yi5wZW5kaW5nLnB1c2goYSk6YyhhKX0sYn19LGEuTG9hZGVyPWJ9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RoaXMubG9hZGVyPW5ldyBkKHRoaXMucmVnZXgpfXZhciBjPWEudXJsUmVzb2x2ZXIsZD1hLkxvYWRlcjtiLnByb3RvdHlwZT17cmVnZXg6L0BpbXBvcnRccysoPzp1cmwpP1siJ1woXSooW14nIlwpXSopWyciXCldKjsvZyxyZXNvbHZlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkKXtjKHRoaXMuZmxhdHRlbihhLGIsZCkpfS5iaW5kKHRoaXMpO3RoaXMubG9hZGVyLnByb2Nlc3MoYSxiLGQpfSxyZXNvbHZlTm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS50ZXh0Q29udGVudCxlPWZ1bmN0aW9uKGIpe2EudGV4dENvbnRlbnQ9YixjKGEpfTt0aGlzLnJlc29sdmUoZCxiLGUpfSxmbGF0dGVuOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGUsZixnLGg9dGhpcy5sb2FkZXIuZXh0cmFjdFVybHMoYSxiKSxpPTA7aTxoLmxlbmd0aDtpKyspZT1oW2ldLGY9ZS51cmwsZz1jLnJlc29sdmVDc3NUZXh0KGRbZl0sZiwhMCksZz10aGlzLmZsYXR0ZW4oZyxiLGQpLGE9YS5yZXBsYWNlKGUubWF0Y2hlZCxnKTtyZXR1cm4gYX0sbG9hZFN0eWxlczpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2YrKyxmPT09ZyYmYyYmYygpfWZvcih2YXIgZSxmPTAsZz1hLmxlbmd0aCxoPTA7Zz5oJiYoZT1hW2hdKTtoKyspdGhpcy5yZXNvbHZlTm9kZShlLGIsZCl9fTt2YXIgZT1uZXcgYjthLnN0eWxlUmVzb2x2ZXI9ZX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEpe2Zvcig7YS5wYXJlbnROb2RlOylhPWEucGFyZW50Tm9kZTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYS5nZXRFbGVtZW50QnlJZD9hOm51bGx9ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9YS5iaW5kaW5nc187cmV0dXJuIGR8fChkPWEuYmluZGluZ3NfPXt9KSxkW2JdJiZjW2JdLmNsb3NlKCksZFtiXT1jfWZ1bmN0aW9uIGMoYSxiLGMpe3JldHVybiBjfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIG51bGw9PWE/IiI6YX1mdW5jdGlvbiBlKGEsYil7YS5kYXRhPWQoYil9ZnVuY3Rpb24gZihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGUoYSxiKX19ZnVuY3Rpb24gZyhhLGIsYyxlKXtyZXR1cm4gYz92b2lkKGU/YS5zZXRBdHRyaWJ1dGUoYiwiIik6YS5yZW1vdmVBdHRyaWJ1dGUoYikpOnZvaWQgYS5zZXRBdHRyaWJ1dGUoYixkKGUpKX1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7ZyhhLGIsYyxkKX19ZnVuY3Rpb24gaShhKXtzd2l0Y2goYS50eXBlKXtjYXNlImNoZWNrYm94IjpyZXR1cm4gdTtjYXNlInJhZGlvIjpjYXNlInNlbGVjdC1tdWx0aXBsZSI6Y2FzZSJzZWxlY3Qtb25lIjpyZXR1cm4iY2hhbmdlIjtjYXNlInJhbmdlIjppZigvVHJpZGVudHxNU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXJldHVybiJjaGFuZ2UiO2RlZmF1bHQ6cmV0dXJuImlucHV0In19ZnVuY3Rpb24gaihhLGIsYyxlKXthW2JdPShlfHxkKShjKX1mdW5jdGlvbiBrKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGooYSxiLGQsYyl9fWZ1bmN0aW9uIGwoKXt9ZnVuY3Rpb24gbShhLGIsYyxkKXtmdW5jdGlvbiBlKCl7Yy5zZXRWYWx1ZShhW2JdKSxjLmRpc2NhcmRDaGFuZ2VzKCksKGR8fGwpKGEpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCl9dmFyIGY9aShhKTtyZXR1cm4gYS5hZGRFdmVudExpc3RlbmVyKGYsZSkse2Nsb3NlOmZ1bmN0aW9uKCl7YS5yZW1vdmVFdmVudExpc3RlbmVyKGYsZSksYy5jbG9zZSgpfSxvYnNlcnZhYmxlXzpjfX1mdW5jdGlvbiBuKGEpe3JldHVybiBCb29sZWFuKGEpfWZ1bmN0aW9uIG8oYil7aWYoYi5mb3JtKXJldHVybiBzKGIuZm9ybS5lbGVtZW50cyxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIklOUFVUIj09YS50YWdOYW1lJiYicmFkaW8iPT1hLnR5cGUmJmEubmFtZT09Yi5uYW1lfSk7dmFyIGM9YShiKTtpZighYylyZXR1cm5bXTt2YXIgZD1jLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl1bbmFtZT0iJytiLm5hbWUrJyJdJyk7cmV0dXJuIHMoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9YiYmIWEuZm9ybX0pfWZ1bmN0aW9uIHAoYSl7IklOUFVUIj09PWEudGFnTmFtZSYmInJhZGlvIj09PWEudHlwZSYmbyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEuYmluZGluZ3NfLmNoZWNrZWQ7YiYmYi5vYnNlcnZhYmxlXy5zZXRWYWx1ZSghMSl9KX1mdW5jdGlvbiBxKGEsYil7dmFyIGMsZSxmLGc9YS5wYXJlbnROb2RlO2cgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCYmZy5iaW5kaW5nc18mJmcuYmluZGluZ3NfLnZhbHVlJiYoYz1nLGU9Yy5iaW5kaW5nc18udmFsdWUsZj1jLnZhbHVlKSxhLnZhbHVlPWQoYiksYyYmYy52YWx1ZSE9ZiYmKGUub2JzZXJ2YWJsZV8uc2V0VmFsdWUoYy52YWx1ZSksZS5vYnNlcnZhYmxlXy5kaXNjYXJkQ2hhbmdlcygpLFBsYXRmb3JtLnBlcmZvcm1NaWNyb3Rhc2tDaGVja3BvaW50KCkpfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3EoYSxiKX19dmFyIHM9QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZpbHRlcik7Tm9kZS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIpe2NvbnNvbGUuZXJyb3IoIlVuaGFuZGxlZCBiaW5kaW5nIHRvIE5vZGU6ICIsdGhpcyxhLGIpfSxOb2RlLnByb3RvdHlwZS5iaW5kRmluaXNoZWQ9ZnVuY3Rpb24oKXt9O3ZhciB0PWM7T2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtLCJlbmFibGVCaW5kaW5nc1JlZmxlY3Rpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdD09PWJ9LHNldDpmdW5jdGlvbihhKXtyZXR1cm4gdD1hP2I6YyxhfSxjb25maWd1cmFibGU6ITB9KSxUZXh0LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZigidGV4dENvbnRlbnQiIT09YSlyZXR1cm4gTm9kZS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKGMpcmV0dXJuIGUodGhpcyxiKTt2YXIgZD1iO3JldHVybiBlKHRoaXMsZC5vcGVuKGYodGhpcykpKSx0KHRoaXMsYSxkKX0sRWxlbWVudC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Ij8iPT1hW2EubGVuZ3RoLTFdO2lmKGQmJih0aGlzLnJlbW92ZUF0dHJpYnV0ZShhKSxhPWEuc2xpY2UoMCwtMSkpLGMpcmV0dXJuIGcodGhpcyxhLGQsYik7dmFyIGU9YjtyZXR1cm4gZyh0aGlzLGEsZCxlLm9wZW4oaCh0aGlzLGEsZCkpKSx0KHRoaXMsYSxlKX07dmFyIHU7IWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1hLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt2YXIgYyxkPTA7Yi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXtkKyssYz1jfHwiY2xpY2sifSksYi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7ZCsrLGM9Y3x8ImNoYW5nZSJ9KTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudCIpO2UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMCx3aW5kb3csMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCksYi5kaXNwYXRjaEV2ZW50KGUpLHU9MT09ZD8iY2hhbmdlIjpjfSgpLEhUTUxJbnB1dEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGUpe2lmKCJ2YWx1ZSIhPT1hJiYiY2hlY2tlZCIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxjLGUpO3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpO3ZhciBmPSJjaGVja2VkIj09YT9uOmQsZz0iY2hlY2tlZCI9PWE/cDpsO2lmKGUpcmV0dXJuIGoodGhpcyxhLGMsZik7dmFyIGg9YyxpPW0odGhpcyxhLGgsZyk7cmV0dXJuIGoodGhpcyxhLGgub3BlbihrKHRoaXMsYSxmKSksZiksYih0aGlzLGEsaSl9LEhUTUxUZXh0QXJlYUVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJ2YWx1ZSIhPT1hKXJldHVybiBIVE1MRWxlbWVudC5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsYSxiLGMpO2lmKHRoaXMucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpLGMpcmV0dXJuIGoodGhpcywidmFsdWUiLGIpO3ZhciBlPWIsZj1tKHRoaXMsInZhbHVlIixlKTtyZXR1cm4gaih0aGlzLCJ2YWx1ZSIsZS5vcGVuKGsodGhpcywidmFsdWUiLGQpKSksdCh0aGlzLGEsZil9LEhUTUxPcHRpb25FbGVtZW50LnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYixjKXtpZigidmFsdWUiIT09YSlyZXR1cm4gSFRNTEVsZW1lbnQucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGEsYixjKTtpZih0aGlzLnJlbW92ZUF0dHJpYnV0ZSgidmFsdWUiKSxjKXJldHVybiBxKHRoaXMsYik7dmFyIGQ9YixlPW0odGhpcywidmFsdWUiLGQpO3JldHVybiBxKHRoaXMsZC5vcGVuKHIodGhpcykpKSx0KHRoaXMsYSxlKX0sSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oYSxjLGQpe2lmKCJzZWxlY3RlZGluZGV4Ij09PWEmJihhPSJzZWxlY3RlZEluZGV4IiksInNlbGVjdGVkSW5kZXgiIT09YSYmInZhbHVlIiE9PWEpcmV0dXJuIEhUTUxFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGMsZCk7aWYodGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSksZClyZXR1cm4gaih0aGlzLGEsYyk7dmFyIGU9YyxmPW0odGhpcyxhLGUpO3JldHVybiBqKHRoaXMsYSxlLm9wZW4oayh0aGlzLGEpKSksYih0aGlzLGEsZil9fSh0aGlzKSxmdW5jdGlvbihhKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYihhKXtpZighYSl0aHJvdyBuZXcgRXJyb3IoIkFzc2VydGlvbiBmYWlsZWQiKX1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYjtiPWEucGFyZW50Tm9kZTspYT1iO3JldHVybiBhfWZ1bmN0aW9uIGQoYSxiKXtpZihiKXtmb3IodmFyIGQsZT0iIyIrYjshZCYmKGE9YyhhKSxhLnByb3RvQ29udGVudF8/ZD1hLnByb3RvQ29udGVudF8ucXVlcnlTZWxlY3RvcihlKTphLmdldEVsZW1lbnRCeUlkJiYoZD1hLmdldEVsZW1lbnRCeUlkKGIpKSwhZCYmYS50ZW1wbGF0ZUNyZWF0b3JfKTspYT1hLnRlbXBsYXRlQ3JlYXRvcl87cmV0dXJuIGR9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuInRlbXBsYXRlIj09YS50YWdOYW1lJiYiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBmKGEpe3JldHVybiJURU1QTEFURSI9PWEudGFnTmFtZSYmImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPT1hLm5hbWVzcGFjZVVSSX1mdW5jdGlvbiBnKGEpe3JldHVybiBCb29sZWFuKExbYS50YWdOYW1lXSYmYS5oYXNBdHRyaWJ1dGUoInRlbXBsYXRlIikpfWZ1bmN0aW9uIGgoYSl7cmV0dXJuIHZvaWQgMD09PWEuaXNUZW1wbGF0ZV8mJihhLmlzVGVtcGxhdGVfPSJURU1QTEFURSI9PWEudGFnTmFtZXx8ZyhhKSksYS5pc1RlbXBsYXRlX31mdW5jdGlvbiBpKGEsYil7dmFyIGM9YS5xdWVyeVNlbGVjdG9yQWxsKE4pO2goYSkmJmIoYSksRyhjLGIpfWZ1bmN0aW9uIGooYSl7ZnVuY3Rpb24gYihhKXtIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGEpfHxqKGEuY29udGVudCl9aShhLGIpfWZ1bmN0aW9uIGsoYSxiKXtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5mb3JFYWNoKGZ1bmN0aW9uKGMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpKX0pfWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5vd25lckRvY3VtZW50O2lmKCFiLmRlZmF1bHRWaWV3KXJldHVybiBiO3ZhciBjPWIudGVtcGxhdGVDb250ZW50c093bmVyXztpZighYyl7Zm9yKGM9Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO2MubGFzdENoaWxkOyljLnJlbW92ZUNoaWxkKGMubGFzdENoaWxkKTtiLnRlbXBsYXRlQ29udGVudHNPd25lcl89Y31yZXR1cm4gY31mdW5jdGlvbiBtKGEpe2lmKCFhLnN0YWdpbmdEb2N1bWVudF8pe3ZhciBiPWEub3duZXJEb2N1bWVudDtpZighYi5zdGFnaW5nRG9jdW1lbnRfKXtiLnN0YWdpbmdEb2N1bWVudF89Yi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLGIuc3RhZ2luZ0RvY3VtZW50Xy5pc1N0YWdpbmdEb2N1bWVudD0hMDt2YXIgYz1iLnN0YWdpbmdEb2N1bWVudF8uY3JlYXRlRWxlbWVudCgiYmFzZSIpO2MuaHJlZj1kb2N1bWVudC5iYXNlVVJJLGIuc3RhZ2luZ0RvY3VtZW50Xy5oZWFkLmFwcGVuZENoaWxkKGMpLGIuc3RhZ2luZ0RvY3VtZW50Xy5zdGFnaW5nRG9jdW1lbnRfPWIuc3RhZ2luZ0RvY3VtZW50X31hLnN0YWdpbmdEb2N1bWVudF89Yi5zdGFnaW5nRG9jdW1lbnRffXJldHVybiBhLnN0YWdpbmdEb2N1bWVudF99ZnVuY3Rpb24gbihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtLW2UubmFtZV0mJigidGVtcGxhdGUiIT09ZS5uYW1lJiZiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gbyhhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsYSk7Zm9yKHZhciBjPWEuYXR0cmlidXRlcyxkPWMubGVuZ3RoO2QtLT4wOyl7dmFyIGU9Y1tkXTtiLnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSksYS5yZW1vdmVBdHRyaWJ1dGUoZS5uYW1lKX1yZXR1cm4gYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGJ9ZnVuY3Rpb24gcChhLGIsYyl7dmFyIGQ9YS5jb250ZW50O2lmKGMpcmV0dXJuIHZvaWQgZC5hcHBlbmRDaGlsZChiKTtmb3IodmFyIGU7ZT1iLmZpcnN0Q2hpbGQ7KWQuYXBwZW5kQ2hpbGQoZSl9ZnVuY3Rpb24gcShhKXtQP2EuX19wcm90b19fPUhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlOmsoYSxIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSl9ZnVuY3Rpb24gcihhKXthLnNldE1vZGVsRm5ffHwoYS5zZXRNb2RlbEZuXz1mdW5jdGlvbigpe2Euc2V0TW9kZWxGblNjaGVkdWxlZF89ITE7dmFyIGI9eihhLGEuZGVsZWdhdGVfJiZhLmRlbGVnYXRlXy5wcmVwYXJlQmluZGluZyk7dyhhLGIsYS5tb2RlbF8pfSksYS5zZXRNb2RlbEZuU2NoZWR1bGVkX3x8KGEuc2V0TW9kZWxGblNjaGVkdWxlZF89ITAsT2JzZXJ2ZXIucnVuRU9NXyhhLnNldE1vZGVsRm5fKSl9ZnVuY3Rpb24gcyhhLGIsYyxkKXtpZihhJiZhLmxlbmd0aCl7Zm9yKHZhciBlLGY9YS5sZW5ndGgsZz0wLGg9MCxpPTAsaj0hMDtmPmg7KXt2YXIgZz1hLmluZGV4T2YoInt7IixoKSxrPWEuaW5kZXhPZigiW1siLGgpLGw9ITEsbT0ifX0iO2lmKGs+PTAmJigwPmd8fGc+aykmJihnPWssbD0hMCxtPSJdXSIpLGk9MD5nPy0xOmEuaW5kZXhPZihtLGcrMiksMD5pKXtpZighZSlyZXR1cm47ZS5wdXNoKGEuc2xpY2UoaCkpO2JyZWFrfWU9ZXx8W10sZS5wdXNoKGEuc2xpY2UoaCxnKSk7dmFyIG49YS5zbGljZShnKzIsaSkudHJpbSgpO2UucHVzaChsKSxqPWomJmw7dmFyIG89ZCYmZChuLGIsYyk7ZS5wdXNoKG51bGw9PW8/UGF0aC5nZXQobik6bnVsbCksZS5wdXNoKG8pLGg9aSsyfXJldHVybiBoPT09ZiYmZS5wdXNoKCIiKSxlLmhhc09uZVBhdGg9NT09PWUubGVuZ3RoLGUuaXNTaW1wbGVQYXRoPWUuaGFzT25lUGF0aCYmIiI9PWVbMF0mJiIiPT1lWzRdLGUub25seU9uZVRpbWU9aixlLmNvbWJpbmF0b3I9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWVbMF0sYz0xO2M8ZS5sZW5ndGg7Yys9NCl7dmFyIGQ9ZS5oYXNPbmVQYXRoP2E6YVsoYy0xKS80XTt2b2lkIDAhPT1kJiYoYis9ZCksYis9ZVtjKzNdfXJldHVybiBifSxlfX1mdW5jdGlvbiB0KGEsYixjLGQpe2lmKGIuaGFzT25lUGF0aCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITApOmJbMl0uZ2V0VmFsdWVGcm9tKGQpO3JldHVybiBiLmlzU2ltcGxlUGF0aD9mOmIuY29tYmluYXRvcihmKX1mb3IodmFyIGc9W10saD0xO2g8Yi5sZW5ndGg7aCs9NCl7dmFyIGU9YltoKzJdO2dbKGgtMSkvNF09ZT9lKGQsYyk6YltoKzFdLmdldFZhbHVlRnJvbShkKX1yZXR1cm4gYi5jb21iaW5hdG9yKGcpfWZ1bmN0aW9uIHUoYSxiLGMsZCl7dmFyIGU9YlszXSxmPWU/ZShkLGMsITEpOm5ldyBQYXRoT2JzZXJ2ZXIoZCxiWzJdKTtyZXR1cm4gYi5pc1NpbXBsZVBhdGg/ZjpuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZixiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHYoYSxiLGMsZCl7aWYoYi5vbmx5T25lVGltZSlyZXR1cm4gdChhLGIsYyxkKTtpZihiLmhhc09uZVBhdGgpcmV0dXJuIHUoYSxiLGMsZCk7Zm9yKHZhciBlPW5ldyBDb21wb3VuZE9ic2VydmVyLGY9MTtmPGIubGVuZ3RoO2YrPTQpe3ZhciBnPWJbZl0saD1iW2YrMl07aWYoaCl7dmFyIGk9aChkLGMsZyk7Zz9lLmFkZFBhdGgoaSk6ZS5hZGRPYnNlcnZlcihpKX1lbHNle3ZhciBqPWJbZisxXTtnP2UuYWRkUGF0aChqLmdldFZhbHVlRnJvbShkKSk6ZS5hZGRQYXRoKGQsail9fXJldHVybiBuZXcgT2JzZXJ2ZXJUcmFuc2Zvcm0oZSxiLmNvbWJpbmF0b3IpfWZ1bmN0aW9uIHcoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKz0yKXt2YXIgZj1iW2VdLGc9YltlKzFdLGg9dihmLGcsYSxjKSxpPWEuYmluZChmLGgsZy5vbmx5T25lVGltZSk7aSYmZCYmZC5wdXNoKGkpfWlmKGEuYmluZEZpbmlzaGVkKCksYi5pc1RlbXBsYXRlKXthLm1vZGVsXz1jO3ZhciBqPWEucHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXyhiKTtkJiZqJiZkLnB1c2goail9fWZ1bmN0aW9uIHgoYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlKGIpO3JldHVybiBzKCIiPT1kPyJ7e319IjpkLGIsYSxjKX1mdW5jdGlvbiB5KGEsYyl7YihhKTtmb3IodmFyIGQ9W10sZT0wO2U8YS5hdHRyaWJ1dGVzLmxlbmd0aDtlKyspe2Zvcih2YXIgZj1hLmF0dHJpYnV0ZXNbZV0sZz1mLm5hbWUsaT1mLnZhbHVlOyJfIj09PWdbMF07KWc9Zy5zdWJzdHJpbmcoMSk7aWYoIWgoYSl8fGchPT1KJiZnIT09SCYmZyE9PUkpe3ZhciBqPXMoaSxnLGEsYyk7aiYmZC5wdXNoKGcsail9fXJldHVybiBoKGEpJiYoZC5pc1RlbXBsYXRlPSEwLGQuaWY9eChhLEosYyksZC5iaW5kPXgoYSxILGMpLGQucmVwZWF0PXgoYSxJLGMpLCFkLmlmfHxkLmJpbmR8fGQucmVwZWF0fHwoZC5iaW5kPXMoInt7fX0iLEgsYSxjKSkpLGR9ZnVuY3Rpb24geihhLGIpe2lmKGEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4geShhLGIpO2lmKGEubm9kZVR5cGU9PT1Ob2RlLlRFWFRfTk9ERSl7dmFyIGM9cyhhLmRhdGEsInRleHRDb250ZW50IixhLGIpO2lmKGMpcmV0dXJuWyJ0ZXh0Q29udGVudCIsY119cmV0dXJuW119ZnVuY3Rpb24gQShhLGIsYyxkLGUsZixnKXtmb3IodmFyIGg9Yi5hcHBlbmRDaGlsZChjLmltcG9ydE5vZGUoYSwhMSkpLGk9MCxqPWEuZmlyc3RDaGlsZDtqO2o9ai5uZXh0U2libGluZylBKGosaCxjLGQuY2hpbGRyZW5baSsrXSxlLGYsZyk7cmV0dXJuIGQuaXNUZW1wbGF0ZSYmKEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUoaCxhKSxmJiZoLnNldERlbGVnYXRlXyhmKSksdyhoLGQsZSxnKSxofWZ1bmN0aW9uIEIoYSxiKXt2YXIgYz16KGEsYik7Yy5jaGlsZHJlbj17fTtmb3IodmFyIGQ9MCxlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyljLmNoaWxkcmVuW2QrK109QihlLGIpO3JldHVybiBjfWZ1bmN0aW9uIEMoYSl7dmFyIGI9YS5pZF87cmV0dXJuIGJ8fChiPWEuaWRfPVMrKyksYn1mdW5jdGlvbiBEKGEsYil7dmFyIGM9QyhhKTtpZihiKXt2YXIgZD1iLmJpbmRpbmdNYXBzW2NdO3JldHVybiBkfHwoZD1iLmJpbmRpbmdNYXBzW2NdPUIoYSxiLnByZXBhcmVCaW5kaW5nKXx8W10pLGR9dmFyIGQ9YS5iaW5kaW5nTWFwXztyZXR1cm4gZHx8KGQ9YS5iaW5kaW5nTWFwXz1CKGEsdm9pZCAwKXx8W10pLGR9ZnVuY3Rpb24gRShhKXt0aGlzLmNsb3NlZD0hMSx0aGlzLnRlbXBsYXRlRWxlbWVudF89YSx0aGlzLmluc3RhbmNlcz1bXSx0aGlzLmRlcHM9dm9pZCAwLHRoaXMuaXRlcmF0ZWRWYWx1ZT1bXSx0aGlzLnByZXNlbnRWYWx1ZT12b2lkIDAsdGhpcy5hcnJheU9ic2VydmVyPXZvaWQgMH12YXIgRixHPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwuYmluZChBcnJheS5wcm90b3R5cGUuZm9yRWFjaCk7YS5NYXAmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLk1hcC5wcm90b3R5cGUuZm9yRWFjaD9GPWEuTWFwOihGPWZ1bmN0aW9uKCl7dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdfSxGLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5rZXlzLmluZGV4T2YoYSk7MD5jPyh0aGlzLmtleXMucHVzaChhKSx0aGlzLnZhbHVlcy5wdXNoKGIpKTp0aGlzLnZhbHVlc1tjXT1ifSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7aWYoISgwPmIpKXJldHVybiB0aGlzLnZhbHVlc1tiXX0sImRlbGV0ZSI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5rZXlzLmluZGV4T2YoYSk7cmV0dXJuIDA+Yj8hMToodGhpcy5rZXlzLnNwbGljZShiLDEpLHRoaXMudmFsdWVzLnNwbGljZShiLDEpLCEwKX0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5rZXlzLmxlbmd0aDtjKyspYS5jYWxsKGJ8fHRoaXMsdGhpcy52YWx1ZXNbY10sdGhpcy5rZXlzW2NdLHRoaXMpfX0pOyJmdW5jdGlvbiIhPXR5cGVvZiBkb2N1bWVudC5jb250YWlucyYmKERvY3VtZW50LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXN8fGEucGFyZW50Tm9kZT09PXRoaXM/ITA6dGhpcy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoYSl9KTt2YXIgSD0iYmluZCIsST0icmVwZWF0IixKPSJpZiIsSz17dGVtcGxhdGU6ITAscmVwZWF0OiEwLGJpbmQ6ITAscmVmOiEwfSxMPXtUSEVBRDohMCxUQk9EWTohMCxURk9PVDohMCxUSDohMCxUUjohMCxURDohMCxDT0xHUk9VUDohMCxDT0w6ITAsQ0FQVElPTjohMCxPUFRJT046ITAsT1BUR1JPVVA6ITB9LE09InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MVGVtcGxhdGVFbGVtZW50O00mJiFmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRlbXBsYXRlIiksYj1hLmNvbnRlbnQub3duZXJEb2N1bWVudCxjPWIuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJodG1sIikpLGQ9Yy5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImhlYWQiKSksZT1iLmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtlLmhyZWY9ZG9jdW1lbnQuYmFzZVVSSSxkLmFwcGVuZENoaWxkKGUpfSgpO3ZhciBOPSJ0ZW1wbGF0ZSwgIitPYmplY3Qua2V5cyhMKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKSsiW3RlbXBsYXRlXSJ9KS5qb2luKCIsICIpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7aihkb2N1bWVudCksUGxhdGZvcm0ucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKX0sITEpLE18fChhLkhUTUxUZW1wbGF0ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0aHJvdyBUeXBlRXJyb3IoIklsbGVnYWwgY29uc3RydWN0b3IiKX0pO3ZhciBPLFA9Il9fcHJvdG9fXyJpbnt9OyJmdW5jdGlvbiI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyJiYoTz1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdLnRhcmdldC5yZWZDaGFuZ2VkXygpfSkpLEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGU9ZnVuY3Rpb24oYSxjKXtpZihhLnRlbXBsYXRlSXNEZWNvcmF0ZWRfKXJldHVybiExO3ZhciBkPWE7ZC50ZW1wbGF0ZUlzRGVjb3JhdGVkXz0hMDt2YXIgaD1mKGQpJiZNLGk9aCxrPSFoLG09ITE7aWYoaHx8KGcoZCk/KGIoIWMpLGQ9bihhKSxkLnRlbXBsYXRlSXNEZWNvcmF0ZWRfPSEwLGg9TSxtPSEwKTplKGQpJiYoZD1vKGEpLGQudGVtcGxhdGVJc0RlY29yYXRlZF89ITAsaD1NKSksIWgpe3EoZCk7dmFyIHI9bChkKTtkLmNvbnRlbnRfPXIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpfXJldHVybiBjP2QuaW5zdGFuY2VSZWZfPWM6az9wKGQsYSxtKTppJiZqKGQuY29udGVudCksITB9LEhUTUxUZW1wbGF0ZUVsZW1lbnQuYm9vdHN0cmFwPWo7dmFyIFE9YS5IVE1MVW5rbm93bkVsZW1lbnR8fEhUTUxFbGVtZW50LFI9e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRffSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH07TXx8KEhUTUxUZW1wbGF0ZUVsZW1lbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUS5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSwiY29udGVudCIsUikpLGsoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUse2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe2lmKCJyZWYiIT1hKXJldHVybiBFbGVtZW50LnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcyxhLGIsYyk7dmFyIGQ9dGhpcyxlPWM/YjpiLm9wZW4oZnVuY3Rpb24oYSl7ZC5zZXRBdHRyaWJ1dGUoInJlZiIsYSksZC5yZWZDaGFuZ2VkXygpfSk7cmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKCJyZWYiLGUpLHRoaXMucmVmQ2hhbmdlZF8oKSxjP3ZvaWQgMDoodGhpcy5iaW5kaW5nc18/dGhpcy5iaW5kaW5nc18ucmVmPWI6dGhpcy5iaW5kaW5nc189e3JlZjpifSxiKX0scHJvY2Vzc0JpbmRpbmdEaXJlY3RpdmVzXzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcl8mJnRoaXMuaXRlcmF0b3JfLmNsb3NlRGVwcygpLGEuaWZ8fGEuYmluZHx8YS5yZXBlYXQ/KHRoaXMuaXRlcmF0b3JffHwodGhpcy5pdGVyYXRvcl89bmV3IEUodGhpcykpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZURlcGVuZGVuY2llcyhhLHRoaXMubW9kZWxfKSxPJiZPLm9ic2VydmUodGhpcyx7YXR0cmlidXRlczohMCxhdHRyaWJ1dGVGaWx0ZXI6WyJyZWYiXX0pLHRoaXMuaXRlcmF0b3JfKTp2b2lkKHRoaXMuaXRlcmF0b3JfJiYodGhpcy5pdGVyYXRvcl8uY2xvc2UoKSx0aGlzLml0ZXJhdG9yXz12b2lkIDApKX0sY3JlYXRlSW5zdGFuY2U6ZnVuY3Rpb24oYSxiLGMpe2I/Yz10aGlzLm5ld0RlbGVnYXRlXyhiKTpjfHwoYz10aGlzLmRlbGVnYXRlXyksdGhpcy5yZWZDb250ZW50X3x8KHRoaXMucmVmQ29udGVudF89dGhpcy5yZWZfLmNvbnRlbnQpO3ZhciBkPXRoaXMucmVmQ29udGVudF87aWYobnVsbD09PWQuZmlyc3RDaGlsZClyZXR1cm4gVDt2YXIgZT1EKGQsYyksZj1tKHRoaXMpLGc9Zi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zy50ZW1wbGF0ZUNyZWF0b3JfPXRoaXMsZy5wcm90b0NvbnRlbnRfPWQsZy5iaW5kaW5nc189W10sZy50ZXJtaW5hdG9yXz1udWxsO2Zvcih2YXIgaD1nLnRlbXBsYXRlSW5zdGFuY2VfPXtmaXJzdE5vZGU6bnVsbCxsYXN0Tm9kZTpudWxsLG1vZGVsOmF9LGk9MCxqPSExLGs9ZC5maXJzdENoaWxkO2s7az1rLm5leHRTaWJsaW5nKXtudWxsPT09ay5uZXh0U2libGluZyYmKGo9ITApO3ZhciBsPUEoayxnLGYsZS5jaGlsZHJlbltpKytdLGEsYyxnLmJpbmRpbmdzXyk7bC50ZW1wbGF0ZUluc3RhbmNlXz1oLGomJihnLnRlcm1pbmF0b3JfPWwpfXJldHVybiBoLmZpcnN0Tm9kZT1nLmZpcnN0Q2hpbGQsaC5sYXN0Tm9kZT1nLmxhc3RDaGlsZCxnLnRlbXBsYXRlQ3JlYXRvcl89dm9pZCAwLGcucHJvdG9Db250ZW50Xz12b2lkIDAsZ30sZ2V0IG1vZGVsKCl7cmV0dXJuIHRoaXMubW9kZWxffSxzZXQgbW9kZWwoYSl7dGhpcy5tb2RlbF89YSxyKHRoaXMpfSxnZXQgYmluZGluZ0RlbGVnYXRlKCl7cmV0dXJuIHRoaXMuZGVsZWdhdGVfJiZ0aGlzLmRlbGVnYXRlXy5yYXd9LHJlZkNoYW5nZWRfOmZ1bmN0aW9uKCl7dGhpcy5pdGVyYXRvcl8mJnRoaXMucmVmQ29udGVudF8hPT10aGlzLnJlZl8uY29udGVudCYmKHRoaXMucmVmQ29udGVudF89dm9pZCAwLHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5tb2RlbF89dm9pZCAwLHRoaXMuZGVsZWdhdGVfPXZvaWQgMCx0aGlzLmJpbmRpbmdzXyYmdGhpcy5iaW5kaW5nc18ucmVmJiZ0aGlzLmJpbmRpbmdzXy5yZWYuY2xvc2UoKSx0aGlzLnJlZkNvbnRlbnRfPXZvaWQgMCx0aGlzLml0ZXJhdG9yXyYmKHRoaXMuaXRlcmF0b3JfLnZhbHVlQ2hhbmdlZCgpLHRoaXMuaXRlcmF0b3JfLmNsb3NlKCksdGhpcy5pdGVyYXRvcl89dm9pZCAwKX0sc2V0RGVsZWdhdGVfOmZ1bmN0aW9uKGEpe3RoaXMuZGVsZWdhdGVfPWEsdGhpcy5iaW5kaW5nTWFwXz12b2lkIDAsdGhpcy5pdGVyYXRvcl8mJih0aGlzLml0ZXJhdG9yXy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXz12b2lkIDAsdGhpcy5pdGVyYXRvcl8uaW5zdGFuY2VNb2RlbEZuXz12b2lkIDApfSxuZXdEZWxlZ2F0ZV86ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hJiZhW2JdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBjKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX19aWYoYSlyZXR1cm57YmluZGluZ01hcHM6e30scmF3OmEscHJlcGFyZUJpbmRpbmc6YigicHJlcGFyZUJpbmRpbmciKSxwcmVwYXJlSW5zdGFuY2VNb2RlbDpiKCJwcmVwYXJlSW5zdGFuY2VNb2RlbCIpLHByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZDpiKCJwcmVwYXJlSW5zdGFuY2VQb3NpdGlvbkNoYW5nZWQiKX19LHNldCBiaW5kaW5nRGVsZWdhdGUoYSl7aWYodGhpcy5kZWxlZ2F0ZV8pdGhyb3cgRXJyb3IoIlRlbXBsYXRlIG11c3QgYmUgY2xlYXJlZCBiZWZvcmUgYSBuZXcgYmluZGluZ0RlbGVnYXRlIGNhbiBiZSBhc3NpZ25lZCIpO3RoaXMuc2V0RGVsZWdhdGVfKHRoaXMubmV3RGVsZWdhdGVfKGEpKX0sZ2V0IHJlZl8oKXt2YXIgYT1kKHRoaXMsdGhpcy5nZXRBdHRyaWJ1dGUoInJlZiIpKTtpZihhfHwoYT10aGlzLmluc3RhbmNlUmVmXyksIWEpcmV0dXJuIHRoaXM7dmFyIGI9YS5yZWZfO3JldHVybiBiP2I6YX19KTt2YXIgUz0xO09iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlLnByb3RvdHlwZSwidGVtcGxhdGVJbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGVtcGxhdGVJbnN0YW5jZV87cmV0dXJuIGE/YTp0aGlzLnBhcmVudE5vZGU/dGhpcy5wYXJlbnROb2RlLnRlbXBsYXRlSW5zdGFuY2U6dm9pZCAwfX0pO3ZhciBUPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtULmJpbmRpbmdzXz1bXSxULnRlcm1pbmF0b3JfPW51bGwsRS5wcm90b3R5cGU9e2Nsb3NlRGVwczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGVwczthJiYoYS5pZk9uZVRpbWU9PT0hMSYmYS5pZlZhbHVlLmNsb3NlKCksYS5vbmVUaW1lPT09ITEmJmEudmFsdWUuY2xvc2UoKSl9LHVwZGF0ZURlcGVuZGVuY2llczpmdW5jdGlvbihhLGIpe3RoaXMuY2xvc2VEZXBzKCk7dmFyIGM9dGhpcy5kZXBzPXt9LGQ9dGhpcy50ZW1wbGF0ZUVsZW1lbnRfO2lmKGEuaWYpe2lmKGMuaGFzSWY9ITAsYy5pZk9uZVRpbWU9YS5pZi5vbmx5T25lVGltZSxjLmlmVmFsdWU9dihKLGEuaWYsZCxiKSxjLmlmT25lVGltZSYmIWMuaWZWYWx1ZSlyZXR1cm4gdm9pZCB0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKTtjLmlmT25lVGltZXx8Yy5pZlZhbHVlLm9wZW4odGhpcy51cGRhdGVJdGVyYXRlZFZhbHVlLHRoaXMpfWEucmVwZWF0PyhjLnJlcGVhdD0hMCxjLm9uZVRpbWU9YS5yZXBlYXQub25seU9uZVRpbWUsYy52YWx1ZT12KEksYS5yZXBlYXQsZCxiKSk6KGMucmVwZWF0PSExLGMub25lVGltZT1hLmJpbmQub25seU9uZVRpbWUsYy52YWx1ZT12KEgsYS5iaW5kLGQsYikpLGMub25lVGltZXx8Yy52YWx1ZS5vcGVuKHRoaXMudXBkYXRlSXRlcmF0ZWRWYWx1ZSx0aGlzKSx0aGlzLnVwZGF0ZUl0ZXJhdGVkVmFsdWUoKX0sdXBkYXRlSXRlcmF0ZWRWYWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuZGVwcy5oYXNJZil7dmFyIGE9dGhpcy5kZXBzLmlmVmFsdWU7aWYodGhpcy5kZXBzLmlmT25lVGltZXx8KGE9YS5kaXNjYXJkQ2hhbmdlcygpKSwhYSlyZXR1cm4gdm9pZCB0aGlzLnZhbHVlQ2hhbmdlZCgpfXZhciBiPXRoaXMuZGVwcy52YWx1ZTt0aGlzLmRlcHMub25lVGltZXx8KGI9Yi5kaXNjYXJkQ2hhbmdlcygpKSx0aGlzLmRlcHMucmVwZWF0fHwoYj1bYl0pO3ZhciBjPXRoaXMuZGVwcy5yZXBlYXQmJiF0aGlzLmRlcHMub25lVGltZSYmQXJyYXkuaXNBcnJheShiKTt0aGlzLnZhbHVlQ2hhbmdlZChiLGMpfSx2YWx1ZUNoYW5nZWQ6ZnVuY3Rpb24oYSxiKXtBcnJheS5pc0FycmF5KGEpfHwoYT1bXSksYSE9PXRoaXMuaXRlcmF0ZWRWYWx1ZSYmKHRoaXMudW5vYnNlcnZlKCksdGhpcy5wcmVzZW50VmFsdWU9YSxiJiYodGhpcy5hcnJheU9ic2VydmVyPW5ldyBBcnJheU9ic2VydmVyKHRoaXMucHJlc2VudFZhbHVlKSx0aGlzLmFycmF5T2JzZXJ2ZXIub3Blbih0aGlzLmhhbmRsZVNwbGljZXMsdGhpcykpLHRoaXMuaGFuZGxlU3BsaWNlcyhBcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXModGhpcy5wcmVzZW50VmFsdWUsdGhpcy5pdGVyYXRlZFZhbHVlKSkpfSxnZXRMYXN0SW5zdGFuY2VOb2RlOmZ1bmN0aW9uKGEpe2lmKC0xPT1hKXJldHVybiB0aGlzLnRlbXBsYXRlRWxlbWVudF87dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV0sYz1iLnRlcm1pbmF0b3JfO2lmKCFjKXJldHVybiB0aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKTtpZihjLm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fHRoaXMudGVtcGxhdGVFbGVtZW50Xz09PWMpcmV0dXJuIGM7dmFyIGQ9Yy5pdGVyYXRvcl87cmV0dXJuIGQ/ZC5nZXRMYXN0VGVtcGxhdGVOb2RlKCk6Y30sZ2V0TGFzdFRlbXBsYXRlTm9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExhc3RJbnN0YW5jZU5vZGUodGhpcy5pbnN0YW5jZXMubGVuZ3RoLTEpfSxpbnNlcnRJbnN0YW5jZUF0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRMYXN0SW5zdGFuY2VOb2RlKGEtMSksZD10aGlzLnRlbXBsYXRlRWxlbWVudF8ucGFyZW50Tm9kZTt0aGlzLmluc3RhbmNlcy5zcGxpY2UoYSwwLGIpLGQuaW5zZXJ0QmVmb3JlKGIsYy5uZXh0U2libGluZyl9LGV4dHJhY3RJbnN0YW5jZUF0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldExhc3RJbnN0YW5jZU5vZGUoYS0xKSxjPXRoaXMuZ2V0TGFzdEluc3RhbmNlTm9kZShhKSxkPXRoaXMudGVtcGxhdGVFbGVtZW50Xy5wYXJlbnROb2RlLGU9dGhpcy5pbnN0YW5jZXMuc3BsaWNlKGEsMSlbMF07YyE9PWI7KXt2YXIgZj1iLm5leHRTaWJsaW5nO2Y9PWMmJihjPWIpLGUuYXBwZW5kQ2hpbGQoZC5yZW1vdmVDaGlsZChmKSl9cmV0dXJuIGV9LGdldERlbGVnYXRlRm46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YSYmYSh0aGlzLnRlbXBsYXRlRWxlbWVudF8pLCJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6bnVsbH0saGFuZGxlU3BsaWNlczpmdW5jdGlvbihhKXtpZighdGhpcy5jbG9zZWQmJmEubGVuZ3RoKXt2YXIgYj10aGlzLnRlbXBsYXRlRWxlbWVudF87aWYoIWIucGFyZW50Tm9kZSlyZXR1cm4gdm9pZCB0aGlzLmNsb3NlKCk7QXJyYXlPYnNlcnZlci5hcHBseVNwbGljZXModGhpcy5pdGVyYXRlZFZhbHVlLHRoaXMucHJlc2VudFZhbHVlLGEpO3ZhciBjPWIuZGVsZWdhdGVfO3ZvaWQgMD09PXRoaXMuaW5zdGFuY2VNb2RlbEZuXyYmKHRoaXMuaW5zdGFuY2VNb2RlbEZuXz10aGlzLmdldERlbGVnYXRlRm4oYyYmYy5wcmVwYXJlSW5zdGFuY2VNb2RlbCkpLHZvaWQgMD09PXRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8mJih0aGlzLmluc3RhbmNlUG9zaXRpb25DaGFuZ2VkRm5fPXRoaXMuZ2V0RGVsZWdhdGVGbihjJiZjLnByZXBhcmVJbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZCkpO2Zvcih2YXIgZD1uZXcgRixlPTAsZj0wO2Y8YS5sZW5ndGg7ZisrKXtmb3IodmFyIGc9YVtmXSxoPWcucmVtb3ZlZCxpPTA7aTxoLmxlbmd0aDtpKyspe3ZhciBqPWhbaV0saz10aGlzLmV4dHJhY3RJbnN0YW5jZUF0KGcuaW5kZXgrZSk7ayE9PVQmJmQuc2V0KGosayl9ZS09Zy5hZGRlZENvdW50fWZvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWZvcih2YXIgZz1hW2ZdLGw9Zy5pbmRleDtsPGcuaW5kZXgrZy5hZGRlZENvdW50O2wrKyl7dmFyIGo9dGhpcy5pdGVyYXRlZFZhbHVlW2xdLGs9ZC5nZXQoaik7az9kLmRlbGV0ZShqKToodGhpcy5pbnN0YW5jZU1vZGVsRm5fJiYoaj10aGlzLmluc3RhbmNlTW9kZWxGbl8oaikpLGs9dm9pZCAwPT09aj9UOmIuY3JlYXRlSW5zdGFuY2Uoaix2b2lkIDAsYykpLHRoaXMuaW5zZXJ0SW5zdGFuY2VBdChsLGspfWQuZm9yRWFjaChmdW5jdGlvbihhKXt0aGlzLmNsb3NlSW5zdGFuY2VCaW5kaW5ncyhhKX0sdGhpcyksdGhpcy5pbnN0YW5jZVBvc2l0aW9uQ2hhbmdlZEZuXyYmdGhpcy5yZXBvcnRJbnN0YW5jZXNNb3ZlZChhKX19LHJlcG9ydEluc3RhbmNlTW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbnN0YW5jZXNbYV07YiE9PVQmJnRoaXMuaW5zdGFuY2VQb3NpdGlvbkNoYW5nZWRGbl8oYi50ZW1wbGF0ZUluc3RhbmNlXyxhKX0scmVwb3J0SW5zdGFuY2VzTW92ZWQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXTtpZigwIT1jKWZvcig7YjxlLmluZGV4Oyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrO2Vsc2UgYj1lLmluZGV4O2Zvcig7YjxlLmluZGV4K2UuYWRkZWRDb3VudDspdGhpcy5yZXBvcnRJbnN0YW5jZU1vdmVkKGIpLGIrKztjKz1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aH1pZigwIT1jKWZvcih2YXIgZj10aGlzLmluc3RhbmNlcy5sZW5ndGg7Zj5iOyl0aGlzLnJlcG9ydEluc3RhbmNlTW92ZWQoYiksYisrfSxjbG9zZUluc3RhbmNlQmluZGluZ3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEuYmluZGluZ3NfLGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmNsb3NlKCl9LHVub2JzZXJ2ZTpmdW5jdGlvbigpe3RoaXMuYXJyYXlPYnNlcnZlciYmKHRoaXMuYXJyYXlPYnNlcnZlci5jbG9zZSgpLHRoaXMuYXJyYXlPYnNlcnZlcj12b2lkIDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNsb3NlZCl7dGhpcy51bm9ic2VydmUoKTtmb3IodmFyIGE9MDthPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDthKyspdGhpcy5jbG9zZUluc3RhbmNlQmluZGluZ3ModGhpcy5pbnN0YW5jZXNbYV0pO3RoaXMuaW5zdGFuY2VzLmxlbmd0aD0wLHRoaXMuY2xvc2VEZXBzKCksdGhpcy50ZW1wbGF0ZUVsZW1lbnRfLml0ZXJhdG9yXz12b2lkIDAsdGhpcy5jbG9zZWQ9ITB9fX0sSFRNTFRlbXBsYXRlRWxlbWVudC5mb3JBbGxUZW1wbGF0ZXNGcm9tXz1pfSh0aGlzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZXx8KGU9ITAsYS5lbmRPZk1pY3JvdGFzayhmdW5jdGlvbigpe2U9ITEsbG9nRmxhZ3MuZGF0YSYmY29uc29sZS5ncm91cCgiUGxhdGZvcm0uZmx1c2goKSIpLGEucGVyZm9ybU1pY3JvdGFza0NoZWNrcG9pbnQoKSxsb2dGbGFncy5kYXRhJiZjb25zb2xlLmdyb3VwRW5kKCl9KSl9dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnRleHRDb250ZW50PSJ0ZW1wbGF0ZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLyogaW5qZWN0ZWQgYnkgcGxhdGZvcm0uanMgKi8iO3ZhciBkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImhlYWQiKTtkLmluc2VydEJlZm9yZShjLGQuZmlyc3RDaGlsZCk7dmFyIGU7aWYoT2JzZXJ2ZXIuaGFzT2JqZWN0T2JzZXJ2ZSliPWZ1bmN0aW9uKCl7fTtlbHNle3ZhciBmPTEyNTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiV2ViQ29tcG9uZW50c1JlYWR5IixmdW5jdGlvbigpe2IoKSxhLmZsdXNoUG9sbD1zZXRJbnRlcnZhbChiLGYpfSl9aWYod2luZG93LkN1c3RvbUVsZW1lbnRzJiYhQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlKXt2YXIgZz1Eb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZTtEb2N1bWVudC5wcm90b3R5cGUuaW1wb3J0Tm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPWcuY2FsbCh0aGlzLGEsYik7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVBbGwoYyksY319YS5mbHVzaD1ifSh3aW5kb3cuUGxhdGZvcm0pOwovLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybS5qcy5tYXA=",
                "headers": {
                    "Accept-Ranges": "bytes",
                    "Last-Modified": "Fri, 07 Nov 2014 09:04:40 GMT",
                    "Content-Length": "155159",
                    "Date": "Fri, 07 Nov 2014 09:04:40 GMT",
                    "Content-Type": "application/javascript"
                },
                "cookies": [],
                "mimeType": "script",
                "host": "localhost",
                "protocol": "http",
                "port": 9999,
                "inScope": false,
                "toolFlag": 16962,
                "referenceID": 0,
                "messageType": "response"
            },
            "messageType": "requestResponse"
        }
    ],
    "inScope": true,
    "messageType": "scanIssue"
}